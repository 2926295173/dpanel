"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2440],{1883:function(H,P,e){var D=e(87462),l=e(67294),j=e(3936),o=e(84089),m=function(M,c){return l.createElement(o.Z,(0,D.Z)({},M,{ref:c,icon:j.Z}))},p=l.forwardRef(m);P.Z=p},96788:function(H,P,e){e.r(P),e.d(P,{default:function(){return Ee}});var D=e(97857),l=e.n(D),j=e(15009),o=e.n(j),m=e(99289),p=e.n(m),O=e(5574),M=e.n(O),c=e(1699),W=e(69626),g=e(46357),h=e(90127),T=e(80821),r=e(29453),q=e(90098),N=e(13822),ee=e(89075),ne=e(5251),_e=e(40666),ae=e(58638),re=e(74842),se=e(87784),te=e(43425),oe=e(90078),L=e(38345),F=e(82346),A=e(42075),B=e(83622),le=e(86250),z=e(32983),ie=e(83062),ue=e(71230),K=e(15746),de=e(68997),b=e(25593),ce=e(85418),f=e(67294),Y=e(36146),n=e(85893);function Ee(){var me=(0,f.useState)([]),J=M()(me,2),S=J[0],pe=J[1],he=(0,f.useState)(1),V=M()(he,2),I=V[0],Z=V[1],X=(0,F.useAccess)(),y=(0,f.useRef)(),Q=(0,f.useRef)(),k=(0,f.useRef)(),C=new Y.Uo("system.home.tag");(0,f.useEffect)(function(){Pe()},[I]);function Pe(){return x.apply(this,arguments)}function x(){return x=p()(o()().mark(function G(){return o()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=X.canSeeEnableHomeTag,!i.t0){i.next=4;break}return i.next=4,(0,ee.ax)();case 4:X.canSeeEnableHomeTag&&(0,r.e1)().then(function(){var E=p()(o()().mark(function R(_){var v;return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,N.IE)();case 3:v=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:_.data.list&&pe(_.data.list.filter(function(s){return s.enableShowGroup}).map(function(s){return!s.item||s.item.length==0||(s.item=s.item.map(function(a){if(!v)return a;var d=v.data.list&&v.data.list.find(function(Oe){var $;return Oe.Names.includes(($=a.name)!==null&&$!==void 0?$:"")});if(d){var u;a.containerState=d.State,a.containerComposeName=(u=d.Labels&&d.Labels["com.docker.compose.project"])!==null&&u!==void 0?u:""}return a})),s}));case 9:case"end":return t.stop()}},R,null,[[0,6]])}));return function(R){return E.apply(this,arguments)}}());case 5:case"end":return i.stop()}},G)})),x.apply(this,arguments)}return(0,n.jsx)(oe._z,{extra:(0,n.jsxs)(A.Z,{children:[(0,n.jsx)(c.u,{access:"canSeeEnableHomeTag",children:(0,n.jsx)(h.Z,{ref:y,defaultEnableShowGroup:!0,trigger:(0,n.jsx)(B.ZP,{type:"primary",children:C.format("createButton")}),onFinish:function(){Z(I+1)}})}),(0,n.jsx)(g.Z,{ref:Q}),(0,n.jsx)(W.Z,{ref:k})]}),children:(0,n.jsx)(c.u,{access:"canSeeEnableHomeTag",showProRibbonTips:!0,children:function(w){var i=w.canSeeEnableHomeTag;return(0,n.jsxs)(L.Z,{direction:"column",children:[(!i||!S||S.length==0)&&(0,n.jsx)(le.Z,{justify:"center",style:{height:"58vh"},vertical:!0,children:(0,n.jsx)(z.Z,{image:z.Z.PRESENTED_IMAGE_SIMPLE,description:(0,n.jsxs)(n.Fragment,{children:[C.format("emptyTip")," ",(0,n.jsx)(F.Link,{to:"/app/list",children:Y.Ob.format("container.list")})]})})}),i&&S.map(function(E,R){return(0,n.jsx)(L.Z,{title:(0,n.jsx)(_e.Z,{}),subTitle:E.tag,direction:"row",gutter:[15,15],headerBordered:!0,bodyStyle:{paddingTop:20,marginBottom:10},ghost:!0,wrap:!0,children:E.item.map(function(_,v){var U,t;return _.url&&_.title&&(0,n.jsx)(L.Z,{bordered:!0,hoverable:!0,colSpan:{xs:24,sm:12,md:12,lg:12,xl:8,xxl:6},bodyStyle:{height:80},children:(0,n.jsx)(ie.Z,{title:_.description,children:(0,n.jsxs)(ue.Z,{align:"middle",gutter:[10,0],children:[(0,n.jsx)(K.Z,{span:5,children:(0,n.jsx)(de.Z,{shape:"square",src:(U=_.icon)!==null&&U!==void 0?U:"",gap:10,size:"large",children:(0,ne.fi)((t=_.name)!==null&&t!==void 0?t:_.title,"/").substring(0,1)})}),(0,n.jsxs)(K.Z,{span:_.containerState?14:17,children:[(0,n.jsx)(b.Z.Title,{level:5,children:(0,n.jsx)("a",{target:"_blank",href:_.url,children:(0,n.jsxs)(A.Z,{children:[_.title&&_.title.substring(0,13),(0,n.jsx)(ae.Z,{})]})})}),(0,n.jsx)(b.Z.Text,{ellipsis:!0,children:_.description})]}),(0,n.jsx)(K.Z,{span:_.containerState?5:2,children:(0,n.jsxs)(A.Z,{children:[_.containerState&&(0,n.jsx)(T.Z,{action:p()(o()().mark(function s(){var a;return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!_.containerComposeName){u.next=2;break}return u.abrupt("return",(0,q.GG)({id:_.containerComposeName,op:_.containerState=="running"?"stop":"start"}));case 2:return u.abrupt("return",(0,N.IW)({md5:(a=_.name)!==null&&a!==void 0?a:"",operate:_.containerState=="running"?"stop":"start"}));case 3:case"end":return u.stop()}},s)})),onSuccess:function(){Z(I+1)},type:"link",icon:(0,n.jsx)("div",{style:_.containerState=="running"?{color:"red"}:void 0,children:_.containerState&&_.containerState!="running"?(0,n.jsx)(re.Z,{}):(0,n.jsx)(se.Z,{})})}),(0,n.jsx)(ce.Z,{trigger:["click"],menu:{items:[{label:_.containerState&&(0,n.jsx)(B.ZP,{onClick:function(){if(_.containerComposeName){var a;(a=k.current)===null||a===void 0||a.show(_.containerComposeName)}else{var d;(d=Q.current)===null||d===void 0||d.show(_.name)}},type:"link",children:C.format("itemDetailButton")}),key:"detail"},{label:(0,n.jsx)(B.ZP,{onClick:function(){var a;!((a=y.current)===null||a===void 0)&&a.edit&&y.current.edit(l()({tag:E.tag,tagColor:E.tagColor,enableShowGroup:E.enableShowGroup},_))},type:"link",children:C.format("itemEditButton")}),key:"1"},{label:(0,n.jsx)(T.Z,{action:function(){var a;return(0,r.rn)({name:(a=_.name)!==null&&a!==void 0?a:"",tag:E.tag})},onSuccess:function(){Z(I+1)},type:"link",children:C.format("itemDelete")}),key:"2"}]},children:(0,n.jsx)(b.Z.Link,{children:(0,n.jsx)(te.Z,{})})})]})})]})})},v)})},"group-".concat(R))})]})}})})}},89075:function(H,P,e){e.d(P,{$w:function(){return p},YQ:function(){return M},ax:function(){return W}});var D=e(15009),l=e.n(D),j=e(99289),o=e.n(j),m=e(82346);function p(){return O.apply(this,arguments)}function O(){return O=o()(l()().mark(function h(){return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/pro/home/get-machine-id",{method:"POST"}));case 1:case"end":return r.stop()}},h)})),O.apply(this,arguments)}function M(){return c.apply(this,arguments)}function c(){return c=o()(l()().mark(function h(){return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/pro/home/get-license-info",{method:"POST"}));case 1:case"end":return r.stop()}},h)})),c.apply(this,arguments)}function W(){return g.apply(this,arguments)}function g(){return g=o()(l()().mark(function h(){return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/pro/home/login-info",{method:"POST"}));case 1:case"end":return r.stop()}},h)})),g.apply(this,arguments)}}}]);
