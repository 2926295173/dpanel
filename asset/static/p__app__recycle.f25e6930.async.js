"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1610],{67108:function(F,E,e){e.r(E),e.d(E,{default:function(){return K}});var P=e(15009),m=e.n(P),M=e(99289),R=e.n(M),O=e(74453),f=e(62597),h=e(42075),p=e(96074),A=e(25593),C=e(83062),I=e(82346),T=e(86548),U=e(87740),L=e(82061),c=e(67294),g=e(96974),D=e(80821),j=e(78451),l=e(36146),W=e(98510),x=e(84941),B=e(70146),a=e(85893);function K(){var y=(0,g.UO)(),o=(0,c.useRef)(),b=(0,I.useAccess)(),Z=new l.Uo("app"),v=(0,c.useRef)();return(0,c.useEffect)(function(){var i;(i=o.current)===null||i===void 0||i.reload()},[y]),(0,a.jsxs)(O._z,{header:{extra:[]},children:[(0,a.jsx)(x.Z,{ref:v,onFinish:function(){var s;!((s=o.current)===null||s===void 0)&&s.reloadAndRest&&o.current.reloadAndRest()}}),(0,a.jsx)(W.C,{rowKey:"id",actionRef:o,columns:[{title:l.FD.format("listTitle"),dataIndex:"siteTitle",width:200},{title:l.FD.format("listName"),dataIndex:"siteName",width:200},{title:l.FD.format("listLastError"),dataIndex:"message",search:!1,width:250,render:function(s,n,d,u,_){return(0,a.jsx)(j.Z,{content:n.message})}},{title:l.FD.format("listDeletedAt"),ellipsis:!0,dataIndex:"deletedAt",search:!1,width:180,render:function(s,n,d,u,_){return new Date(n.deletedAt).toLocaleString()}},{title:l.FD.format("listManage"),valueType:"option",key:"option",width:80,fixed:"right",render:function(s,n,d,u){return(0,a.jsxs)(h.Z,{split:(0,a.jsx)(p.Z,{type:"vertical"}),children:[(0,a.jsx)(A.Z.Link,{onClick:function(){var t;(t=v.current)===null||t===void 0||t.show(n.id)},children:(0,a.jsx)(C.Z,{title:l.FD.format("listManageEdit"),children:(0,a.jsx)(T.Z,{})})},"rebuild"),n.containerInfo&&n.containerInfo.Info&&n.containerInfo.Info.Name&&(0,a.jsx)(D.Z,{buttonProps:{ghost:!0,type:"link",icon:(0,a.jsx)(U.Z,{})},action:function(){return(0,B.vG)({name:n.siteName})},confirmProps:{description:Z.format("recycleRestoreConfirm")},tips:l.FD.format("listManageUnpause"),onSuccess:function(){var t;!((t=o.current)===null||t===void 0)&&t.reloadAndRest&&o.current.reloadAndRest()}})]})}}],request:function(){var i=R()(m()().mark(function s(n,d,u){var _;return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.cl)({isDelete:!0,siteTitle:n.siteTitle,siteName:n.siteName});case 2:return _=r.sent,r.abrupt("return",{data:_.data.list,success:!0,total:_.data.list.length});case 4:case"end":return r.stop()}},s)}));return function(s,n,d){return i.apply(this,arguments)}}(),rowSelection:b.canSeeContainerListManageDelete?{alwaysShowAlert:!0}:void 0,quickToolbarRender:function(s){var n=s.selectedRows,d=s.finish,u=s.loading;return[(0,a.jsx)(D.Z,{buttonProps:{danger:!0,type:"primary",icon:(0,a.jsx)(L.Z,{})},confirmProps:{showCommonConfirm:!0},action:function(){return u(),(0,f.xb)({id:n.map(function(t){return t.id})}).finally(function(){d(!0)})},onSuccess:function(){var t,r;return!((t=o.current)===null||t===void 0)&&t.reloadAndRest&&((r=o.current)===null||r===void 0||r.reloadAndRest()),!0},onError:function(){var t,r;return!((t=o.current)===null||t===void 0)&&t.reset&&((r=o.current)===null||r===void 0||r.reset()),!0},children:l.FD.format("listManageDeleteBatch")},"batchDelete")]}},"recycle-list")]})}}}]);
