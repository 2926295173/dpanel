(self.webpackChunk=self.webpackChunk||[]).push([[1355],{23430:function(z,S,n){"use strict";n.d(S,{Z:function(){return h}});var d=n(87462),v=n(67294),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},R=y,D=n(84089),M=function(m,r){return v.createElement(D.Z,(0,d.Z)({},m,{ref:r,icon:R}))},T=v.forwardRef(M),h=T},88484:function(z,S,n){"use strict";n.d(S,{Z:function(){return h}});var d=n(87462),v=n(67294),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},R=y,D=n(84089),M=function(m,r){return v.createElement(D.Z,(0,d.Z)({},m,{ref:r,icon:R}))},T=v.forwardRef(M),h=T},5966:function(z,S,n){"use strict";var d=n(97685),v=n(1413),y=n(45987),R=n(21770),D=n(99859),M=n(55241),T=n(97435),h=n(67294),x=n(35510),m=n(85893),r=["fieldProps","proFieldProps"],s=["fieldProps","proFieldProps"],E="text",c=function(p){var i=p.fieldProps,g=p.proFieldProps,j=(0,y.Z)(p,r);return(0,m.jsx)(x.Z,(0,v.Z)({valueType:E,fieldProps:i,filedConfig:{valueType:E},proFieldProps:g},j))},_=function(p){var i=(0,R.Z)(p.open||!1,{value:p.open,onChange:p.onOpenChange}),g=(0,d.Z)(i,2),j=g[0],F=g[1];return(0,m.jsx)(D.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(f){var A,I=f.getFieldValue(p.name||[]);return(0,m.jsx)(M.Z,(0,v.Z)((0,v.Z)({getPopupContainer:function(C){return C&&C.parentNode?C.parentNode:C},onOpenChange:function(C){return F(C)},content:(0,m.jsxs)("div",{style:{padding:"4px 0"},children:[(A=p.statusRender)===null||A===void 0?void 0:A.call(p,I),p.strengthText?(0,m.jsx)("div",{style:{marginTop:10},children:(0,m.jsx)("span",{children:p.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},p.popoverProps),{},{open:j,children:p.children}))}})},$=function(p){var i=p.fieldProps,g=p.proFieldProps,j=(0,y.Z)(p,s),F=(0,h.useState)(!1),X=(0,d.Z)(F,2),f=X[0],A=X[1];return i!=null&&i.statusRender&&j.name?(0,m.jsx)(_,{name:j.name,statusRender:i==null?void 0:i.statusRender,popoverProps:i==null?void 0:i.popoverProps,strengthText:i==null?void 0:i.strengthText,open:f,onOpenChange:A,children:(0,m.jsx)("div",{children:(0,m.jsx)(x.Z,(0,v.Z)({valueType:"password",fieldProps:(0,v.Z)((0,v.Z)({},(0,T.Z)(i,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(Z){var C;i==null||(C=i.onBlur)===null||C===void 0||C.call(i,Z),A(!1)},onClick:function(Z){var C;i==null||(C=i.onClick)===null||C===void 0||C.call(i,Z),A(!0)}}),proFieldProps:g,filedConfig:{valueType:E}},j))})}):(0,m.jsx)(x.Z,(0,v.Z)({valueType:"password",fieldProps:i,proFieldProps:g,filedConfig:{valueType:E}},j))},b=c;b.Password=$,b.displayName="ProFormComponent",S.Z=b},89497:function(z,S,n){"use strict";n.r(S),n.d(S,{default:function(){return A}});var d=n(15009),v=n.n(d),y=n(99289),R=n.n(y),D=n(74026),M=n(77865),T=n(80821),h=n(66554),x=n(5251),m=n(67255),r=n(86548),s=n(23430),E=n(90078),c=n(10641),_=n(82346),$=n(50136),b=n(42075),L=n(66309),p=n(96074),i=n(25593),g=n(83062),j=n(67294),F=n(93162),X=n.n(F),f=n(85893);function A(){var I=(0,j.useRef)(),Z=(0,j.useRef)(),C=(0,j.useRef)();return(0,f.jsx)(E._z,{extra:[(0,f.jsx)(D.Z,{ref:C,onFinish:function(){var O,e;!((O=I.current)===null||O===void 0)&&O.reloadAndRest&&((e=I.current)===null||e===void 0||e.reloadAndRest())}},"cert"),(0,f.jsx)(M.Z,{ref:Z},"dns")],children:(0,f.jsx)(c.Z,{actionRef:I,scroll:{x:"max-content"},tableExtraRender:function(){return(0,f.jsx)($.Z,{mode:"horizontal",selectedKeys:["cert"],items:[{label:(0,f.jsx)(_.Link,{to:"/app/domain/list",replace:!0,children:"\u57DF\u540D\u7BA1\u7406"}),key:"domain"},{label:(0,f.jsx)(_.Link,{to:"/app/domain/cert",replace:!0,children:"\u8BC1\u4E66\u7BA1\u7406"}),key:"cert"}]})},rowKey:"mainDomain",columns:[{title:"\u57DF\u540D",render:function(O,e,l,a,t){return(0,f.jsx)(b.Z,{wrap:!0,children:e.domain.map(function(o,u){return(0,f.jsx)(L.Z,{color:u==0?"blue":"",children:o},o)})})}},{title:"\u72B6\u6001",search:!1,width:100,render:function(O,e,l,a,t){return e.inUse&&(0,f.jsx)(L.Z,{color:"cyan",children:"\u4F7F\u7528\u4E2D"},"use-".concat(l))}},{title:"CA",dataIndex:"CA",search:!1,width:200},{title:"\u521B\u5EFA\u65F6\u95F4",search:!1,width:180,render:function(O,e,l,a,t){return(0,x.NF)(e.createdAt)}},{title:"\u7EED\u7B7E\u65F6\u95F4",search:!1,width:180,render:function(O,e,l,a,t){return(0,x.NF)(e.renewAt)}},{title:"\u64CD\u4F5C",width:100,search:!1,fixed:"right",render:function(O,e,l,a,t){return(0,f.jsxs)(b.Z,{split:(0,f.jsx)(p.Z,{type:"vertical"}),children:[(0,f.jsx)(i.Z.Link,{onClick:function(){var u;return(u=C.current)===null||u===void 0||u.edit(e),!0},children:(0,f.jsx)(g.Z,{title:"\u7F16\u8F91\u8BC1\u4E66",children:(0,f.jsx)(r.Z,{})})}),(0,f.jsx)(i.Z.Link,{onClick:R()(v()().mark(function o(){var u,P;return v()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,(0,h.ll)({name:e.mainDomain});case 2:u=B.sent,P=new Blob([u],{type:"application/zip"}),(0,F.saveAs)(P,"cert-"+e.mainDomain+".zip");case 5:case"end":return B.stop()}},o)})),children:(0,f.jsx)(g.Z,{title:"\u4E0B\u8F7D",children:(0,f.jsx)(s.Z,{})})},"2")]})}}],request:R()(v()().mark(function U(){var O,e;return v()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,h.dZ)();case 2:return O=a.sent,a.next=5,(0,h.i7)();case 5:return e=a.sent,a.abrupt("return",{data:O.data.list&&O.data.list.map(function(t){var o=!1;return e&&e.data&&e.data.list.map(function(u){u.setting.certName==t.mainDomain&&(o=!0)}),t.inUse=o,t}),success:!0,total:O.data.list.length});case 7:case"end":return a.stop()}},U)})),pagination:(0,m.O)(),tableAlertOptionRender:function(O){var e=O.selectedRowKeys,l=O.selectedRows;return(0,f.jsx)(b.Z,{size:16,children:(0,f.jsx)(T.Z,{danger:!0,type:"primary",confirm:"notification.confirm.title",action:R()(v()().mark(function a(){var t;return v()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,h.KK)({name:e});case 2:return t=u.sent,u.abrupt("return",t);case 4:case"end":return u.stop()}},a)})),onSuccess:function(){var t,o;return!((t=I.current)===null||t===void 0)&&t.reloadAndRest&&((o=I.current)===null||o===void 0||o.reloadAndRest()),!0},onError:function(){var t,o;return!((t=I.current)===null||t===void 0)&&t.reset&&((o=I.current)===null||o===void 0||o.reset()),!0},children:"\u6279\u91CF\u5220\u9664"})})},rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0}})})}},66309:function(z,S,n){"use strict";n.d(S,{Z:function(){return O}});var d=n(67294),v=n(93967),y=n.n(v),R=n(98423),D=n(98787),M=n(69760),T=n(96159),h=n(45353),x=n(53124),m=n(11568),r=n(10274),s=n(14747),E=n(83262),c=n(83559);const _=e=>{const{paddingXXS:l,lineWidth:a,tagPaddingHorizontal:t,componentCls:o,calc:u}=e,P=u(t).sub(a).equal(),w=u(l).sub(a).equal();return{[o]:Object.assign(Object.assign({},(0,s.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:P,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,m.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${o}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${o}-close-icon`]:{marginInlineStart:w,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${o}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${o}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:P}}),[`${o}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},$=e=>{const{lineWidth:l,fontSizeIcon:a,calc:t}=e,o=e.fontSizeSM;return(0,E.IX)(e,{tagFontSize:o,tagLineHeight:(0,m.bf)(t(e.lineHeightSM).mul(o).equal()),tagIconSize:t(a).sub(t(l).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},b=e=>({defaultBg:new r.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var L=(0,c.I$)("Tag",e=>{const l=$(e);return _(l)},b),p=function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(a[t[o]]=e[t[o]]);return a},g=d.forwardRef((e,l)=>{const{prefixCls:a,style:t,className:o,checked:u,onChange:P,onClick:w}=e,B=p(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:Y,tag:N}=d.useContext(x.E_),Q=J=>{P==null||P(!u),w==null||w(J)},H=Y("tag",a),[k,q,K]=L(H),ee=y()(H,`${H}-checkable`,{[`${H}-checkable-checked`]:u},N==null?void 0:N.className,o,q,K);return k(d.createElement("span",Object.assign({},B,{ref:l,style:Object.assign(Object.assign({},t),N==null?void 0:N.style),className:ee,onClick:Q})))}),j=n(98719);const F=e=>(0,j.Z)(e,(l,a)=>{let{textColor:t,lightBorderColor:o,lightColor:u,darkColor:P}=a;return{[`${e.componentCls}${e.componentCls}-${l}`]:{color:t,background:u,borderColor:o,"&-inverse":{color:e.colorTextLightSolid,background:P,borderColor:P},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var X=(0,c.bk)(["Tag","preset"],e=>{const l=$(e);return F(l)},b);function f(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const A=(e,l,a)=>{const t=f(a);return{[`${e.componentCls}${e.componentCls}-${l}`]:{color:e[`color${a}`],background:e[`color${t}Bg`],borderColor:e[`color${t}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var I=(0,c.bk)(["Tag","status"],e=>{const l=$(e);return[A(l,"success","Success"),A(l,"processing","Info"),A(l,"error","Error"),A(l,"warning","Warning")]},b),Z=function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(a[t[o]]=e[t[o]]);return a};const U=d.forwardRef((e,l)=>{const{prefixCls:a,className:t,rootClassName:o,style:u,children:P,icon:w,color:B,onClose:Y,bordered:N=!0,visible:Q}=e,H=Z(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:k,direction:q,tag:K}=d.useContext(x.E_),[ee,J]=d.useState(!0),ce=(0,R.Z)(H,["closeIcon","closable"]);d.useEffect(()=>{Q!==void 0&&J(Q)},[Q]);const oe=(0,D.o2)(B),re=(0,D.yT)(B),ne=oe||re,de=Object.assign(Object.assign({backgroundColor:B&&!ne?B:void 0},K==null?void 0:K.style),u),W=k("tag",a),[ue,fe,ve]=L(W),pe=y()(W,K==null?void 0:K.className,{[`${W}-${B}`]:ne,[`${W}-has-color`]:B&&!ne,[`${W}-hidden`]:!ee,[`${W}-rtl`]:q==="rtl",[`${W}-borderless`]:!N},t,o,fe,ve),ae=G=>{G.stopPropagation(),Y==null||Y(G),!G.defaultPrevented&&J(!1)},[,me]=(0,M.Z)((0,M.w)(e),(0,M.w)(K),{closable:!1,closeIconRender:G=>{const Ee=d.createElement("span",{className:`${W}-close-icon`,onClick:ae},G);return(0,T.wm)(G,Ee,V=>({onClick:ie=>{var te;(te=V==null?void 0:V.onClick)===null||te===void 0||te.call(V,ie),ae(ie)},className:y()(V==null?void 0:V.className,`${W}-close-icon`)}))}}),he=typeof H.onClick=="function"||P&&P.type==="a",le=w||null,_e=le?d.createElement(d.Fragment,null,le,P&&d.createElement("span",null,P)):P,se=d.createElement("span",Object.assign({},ce,{ref:l,className:pe,style:de}),_e,me,oe&&d.createElement(X,{key:"preset",prefixCls:W}),re&&d.createElement(I,{key:"status",prefixCls:W}));return ue(he?d.createElement(h.Z,{component:"Tag"},se):se)});U.CheckableTag=g;var O=U},93162:function(z,S,n){var d,v,y;(function(R,D){v=[],d=D,y=typeof d=="function"?d.apply(S,v):d,y!==void 0&&(z.exports=y)})(this,function(){"use strict";function R(r,s){return typeof s=="undefined"?s={autoBom:!1}:typeof s!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}function D(r,s,E){var c=new XMLHttpRequest;c.open("GET",r),c.responseType="blob",c.onload=function(){m(c.response,s,E)},c.onerror=function(){console.error("could not download file")},c.send()}function M(r){var s=new XMLHttpRequest;s.open("HEAD",r,!1);try{s.send()}catch(E){}return 200<=s.status&&299>=s.status}function T(r){try{r.dispatchEvent(new MouseEvent("click"))}catch(E){var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(s)}}var h=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof n.g=="object"&&n.g.global===n.g?n.g:void 0,x=h.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),m=h.saveAs||(typeof window!="object"||window!==h?function(){}:"download"in HTMLAnchorElement.prototype&&!x?function(r,s,E){var c=h.URL||h.webkitURL,_=document.createElement("a");s=s||r.name||"download",_.download=s,_.rel="noopener",typeof r=="string"?(_.href=r,_.origin===location.origin?T(_):M(_.href)?D(r,s,E):T(_,_.target="_blank")):(_.href=c.createObjectURL(r),setTimeout(function(){c.revokeObjectURL(_.href)},4e4),setTimeout(function(){T(_)},0))}:"msSaveOrOpenBlob"in navigator?function(r,s,E){if(s=s||r.name||"download",typeof r!="string")navigator.msSaveOrOpenBlob(R(r,E),s);else if(M(r))D(r,s,E);else{var c=document.createElement("a");c.href=r,c.target="_blank",setTimeout(function(){T(c)})}}:function(r,s,E,c){if(c=c||open("","_blank"),c&&(c.document.title=c.document.body.innerText="downloading..."),typeof r=="string")return D(r,s,E);var _=r.type==="application/octet-stream",$=/constructor/i.test(h.HTMLElement)||h.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||_&&$||x)&&typeof FileReader!="undefined"){var L=new FileReader;L.onloadend=function(){var g=L.result;g=b?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=g:location=g,c=null},L.readAsDataURL(r)}else{var p=h.URL||h.webkitURL,i=p.createObjectURL(r);c?c.location=i:location.href=i,c=null,setTimeout(function(){p.revokeObjectURL(i)},4e4)}});h.saveAs=m.saveAs=m,z.exports=m})}}]);
