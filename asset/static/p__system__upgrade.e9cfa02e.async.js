"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[992],{62635:function(Z,B,e){e.d(B,{Z:function(){return O}});var t=e(87462),g=e(67294),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"},C=f,m=e(84089),_=function(P,v){return g.createElement(m.Z,(0,t.Z)({},P,{ref:v,icon:C}))},M=g.forwardRef(_),O=M},24963:function(Z,B,e){var t=e(67294),g=(0,t.createContext)({});B.Z=g},52756:function(Z,B,e){e.r(B),e.d(B,{default:function(){return P},getLang:function(){return D}});var t=e(82346),g=e(31418),f=e(26058),C=e(85137),m=e(24963),_=e(65913),M=e(67294),O=e(85893);function D(v,j,h){var E=(0,t.getLocale)();h!=null&&h.XK&&(E="zh-XK");var a=(0,t.getIntl)(E).formatMessage({id:v},j);return a}function P(){var v=(0,M.useRef)(),j=(0,t.useIntl)(),h=function(l){for(var o=arguments.length,n=new Array(o>1?o-1:0),S=1;S<o;S++)n[S-1]=arguments[S];a.notification[l]({message:j.formatMessage({id:"notification.title."+l}),description:n.join(" "),placement:"topRight"})},E=function(l){for(var o=arguments.length,n=new Array(o>1?o-1:0),S=1;S<o;S++)n[S-1]=arguments[S];a.message[l](n.join(" "))},a=g.Z.useApp(),i=(0,t.useModel)("@@initialState"),b=i.initialState,V=i.loading,G=i.error,J=i.refresh,ee=i.setInitialState,K=(0,t.useModel)("subscriber");return b!=null&&b.user.username&&K.addDataHandler("user:permission:".concat(b==null?void 0:b.user.username),function(y){J()}),(0,O.jsx)(f.Z,{children:(0,O.jsx)(m.Z.Provider,{value:{notice:{success:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];h.apply(void 0,["success"].concat(o))},error:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];h.apply(void 0,["error"].concat(o))},warning:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];h.apply(void 0,["warning"].concat(o))},info:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];h.apply(void 0,["info"].concat(o))},destroy:function(){a.notification.destroy()}},message:{success:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];E.apply(void 0,["success"].concat(o))},error:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];E.apply(void 0,["error"].concat(o))},warning:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];E.apply(void 0,["warning"].concat(o))},info:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];E.apply(void 0,["info"].concat(o))},loading:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];E.apply(void 0,["loading"].concat(o))},destroy:function(){a.message.destroy()}},loading:{show:function(){v.current&&v.current.show()},destroy:function(){v.current&&v.current.destroy()}},lang:function(l,o){return j.formatMessage({id:l},o)}},children:(0,O.jsxs)(_.Z,{ref:v,children:[(0,O.jsx)(t.Outlet,{}),(0,O.jsx)(C.Z.BackTop,{duration:10,style:{bottom:100}})]})},V?"1":"2")})}},65913:function(Z,B,e){var t=e(5574),g=e.n(t),f=e(74330),C=e(67294),m=e(85893),_=(0,C.forwardRef)(function(M,O){(0,C.useImperativeHandle)(O,function(){return{show:function(){j(!0)},destroy:function(){j(!1)}}});var D=(0,C.useState)(!1),P=g()(D,2),v=P[0],j=P[1];return(0,m.jsx)(f.Z,{spinning:v,size:"default",children:M.children})});B.Z=_},60933:function(Z,B,e){e.r(B),e.d(B,{default:function(){return i}});var t=e(15009),g=e.n(t),f=e(99289),C=e.n(f),m=e(5574),_=e.n(m),M=e(52756),O=e(2831),D=e(89035),P=e(90078),v=e(38345),j=e(40056),h=e(25593),E=e(67294),a=e(85893);function i(){var b=(0,E.useState)([]),V=_()(b,2),G=V[0],J=V[1];(0,E.useEffect)(function(){ee({})},[]);var ee=function(){var K=C()(g()().mark(function y(l){var o,n,S,X,k;return g()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,O.d6)();case 2:o=w.sent,o.data.info&&o.data.info.HostConfig&&o.data.info.Config&&(n="",o.data.info.Mounts.map(function(F){F.Type=="volume"&&(n=F.Name)}),S=Object.keys(o.data.info.HostConfig.PortBindings).map(function(F){return o.data.info&&o.data.info.HostConfig.PortBindings[F].map(function(ne){return"-p ".concat(ne.HostPort,":").concat(String(parseInt(F)))})}),X=!1,k=o.data.info.HostConfig.Binds.map(function(F){return F.indexOf(":/dpanel")>-1&&(X=!0),"-v ".concat(F)}),X||(n="",o.data.info.Mounts.map(function(F){F.Type=="volume"&&(n=F.Name)}),k.push("-v "+n+":/dpanel")),J(["sudo docker stop ".concat(o.data.info.Name," && sudo docker rm ").concat(o.data.info.Name),"sudo docker pull ".concat(o.data.info.Config.Image),"sudo docker run -it -d --name ".concat(o.data.info.Name," --restart=always ").concat(S.join(" ")," ").concat(k.join(" ")," ").concat(o.data.info.Config.Image)+(o.data.info.NetworkSettings.Networks["dpanel-local"]?" && docker network connect dpanel-local ".concat(o.data.info.Name):"")]));case 4:case"end":return w.stop()}},y)}));return function(l){return K.apply(this,arguments)}}();return(0,a.jsx)(P._z,{children:(0,a.jsxs)(v.Z,{direction:"column",children:[(0,a.jsx)(j.Z,{message:"\u8BF7\u52A1\u5FC5\u4ED4\u7EC6\u9605\u8BFB",showIcon:!0,description:(0,a.jsxs)("ol",{style:{marginLeft:"-20px"},children:[(0,a.jsx)("li",{children:"\u66F4\u65B0\u9762\u677F\u65F6\uFF0C\u9700\u8981\u5728\u5BBF\u4E3B\u673A\u4E0A\u6267\u884C\u66F4\u65B0\u811A\u672C\u3002"}),(0,a.jsx)("li",{children:"\u66F4\u65B0\u811A\u672C\u652F\u6301\u66F4\u65B0\u548C\u65B0\u88C5\u9762\u677F\u5BB9\u5668\uFF0C\u66F4\u65B0\u65F6\u8BF7\u6307\u5B9A\u5F53\u524D\u9762\u677F\u5BB9\u5668\u7684\u540D\u79F0"}),(0,a.jsx)("li",{children:"\u66F4\u65B0\u8FC7\u7A0B\u4E2D\u4F1A\u5220\u9664\u3001\u91CD\u5EFA\u9762\u677F\u5BB9\u5668\u3002\u5BFC\u81F4\u7AD9\u70B9\u65E0\u6CD5\u8BBF\u95EE\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\u3002\uFF08Lite \u7248\u65E0\u5F71\u54CD\uFF09"}),(0,a.jsx)("li",{children:(0,a.jsx)(h.Z.Text,{type:"danger",children:"\u8BF7\u4FDD\u6301\u9762\u677F\u5BB9\u5668\u4E2D\u7684 /dpanel \u76EE\u5F55\u4E3A\u4E4B\u524D\u5B58\u50A8\u5377\u6216\u662F\u6302\u8F7D\u76EE\u5F55\uFF0C\u5426\u5219\u6570\u636E\u5C06\u4F1A\u4E22\u5931"})})]}),type:"warning",style:{marginBottom:"20px"}}),(0,a.jsxs)(v.Z,{ghost:!0,style:{paddingBottom:50},direction:"column",gutter:[10,50],children:[(0,a.jsx)(v.Z,{bordered:!0,headerBordered:!0,title:(0,a.jsx)(D.Z,{}),bodyStyle:{padding:"10px",background:"#24292f"},subTitle:(0,a.jsxs)(a.Fragment,{children:["\u975E root \u7528\u6237\u4E00\u952E\u66F4\u65B0\u811A\u672C\uFF0C",(0,a.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/install/shell",target:"_blank",children:(0,M.getLang)("notification.help")})]}),children:(0,a.jsx)(h.Z.Text,{copyable:!0,style:{color:"#ffffff"},children:"sudo curl -sSL https://dpanel.cc/quick.sh -o quick.sh && sudo bash quick.sh"})}),(0,a.jsx)(v.Z,{bordered:!0,headerBordered:!0,title:(0,a.jsx)(D.Z,{}),bodyStyle:{padding:"10px",background:"#24292f"},subTitle:(0,a.jsxs)(a.Fragment,{children:["root \u7528\u6237\u4E00\u952E\u66F4\u65B0\u811A\u672C\uFF0C",(0,a.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/install/shell",target:"_blank",children:(0,M.getLang)("notification.help")})]}),children:(0,a.jsx)(h.Z.Text,{copyable:!0,style:{color:"#ffffff"},children:"curl -sSL https://dpanel.cc/quick.sh -o quick.sh && bash quick.sh"})}),(0,a.jsx)(v.Z,{bordered:!0,headerBordered:!0,title:(0,a.jsx)(D.Z,{}),bodyStyle:{padding:"10px",background:"#24292f"},subTitle:(0,a.jsxs)(a.Fragment,{children:["\u5BB9\u5668\u624B\u52A8\u66F4\u65B0\u811A\u672C\uFF0C",(0,a.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/manual/setting/upgrade",target:"_blank",children:(0,M.getLang)("notification.help")})]}),children:G&&G.length>0?G.map(function(K){return(0,a.jsx)(h.Z.Paragraph,{copyable:!0,style:{color:"#ffffff"},children:K})}):(0,a.jsx)("span",{style:{color:"#ffffff"},children:(0,M.getLang)("notification.systemUpgradeDPanelNotFound")})})]})]})})}},2831:function(Z,B,e){e.d(B,{Ll:function(){return P},aF:function(){return _},d6:function(){return j},u5:function(){return O}});var t=e(15009),g=e.n(t),f=e(99289),C=e.n(f),m=e(82346);function _(){return M.apply(this,arguments)}function M(){return M=C()(g()().mark(function E(){return g()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,m.request)("/api/common/home/info",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},E)})),M.apply(this,arguments)}function O(){return D.apply(this,arguments)}function D(){return D=C()(g()().mark(function E(){return g()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,m.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},E)})),D.apply(this,arguments)}function P(){return v.apply(this,arguments)}function v(){return v=C()(g()().mark(function E(){return g()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,m.request)("/api/common/home/usage",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},E)})),v.apply(this,arguments)}function j(){return h.apply(this,arguments)}function h(){return h=C()(g()().mark(function E(){return g()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,m.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},E)})),h.apply(this,arguments)}},66367:function(Z,B,e){e.d(B,{F:function(){return t}});function t(f){return f!=null&&f===f.window}const g=f=>{var C,m;if(typeof window=="undefined")return 0;let _=0;return t(f)?_=f.pageYOffset:f instanceof Document?_=f.documentElement.scrollTop:(f instanceof HTMLElement||f)&&(_=f.scrollTop),f&&!t(f)&&typeof _!="number"&&(_=(m=((C=f.ownerDocument)!==null&&C!==void 0?C:f).documentElement)===null||m===void 0?void 0:m.scrollTop),_};B.Z=g},58375:function(Z,B,e){e.d(B,{Z:function(){return C}});var t=e(75164);function g(m,_,M,O){const D=M-_;return m/=O/2,m<1?D/2*m*m*m+_:D/2*((m-=2)*m*m+2)+_}var f=e(66367);function C(m){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:M=()=>window,callback:O,duration:D=450}=_,P=M(),v=(0,f.Z)(P),j=Date.now(),h=()=>{const a=Date.now()-j,i=g(a>D?D:a,v,m,D);(0,f.F)(P)?P.scrollTo(window.pageXOffset,i):P instanceof Document||P.constructor.name==="HTMLDocument"?P.documentElement.scrollTop=i:P.scrollTop=i,a<D?(0,t.Z)(h):typeof O=="function"&&O()};(0,t.Z)(h)}},40056:function(Z,B,e){e.d(B,{Z:function(){return me}});var t=e(67294),g=e(89739),f=e(4340),C=e(97937),m=e(21640),_=e(78860),M=e(93967),O=e.n(M),D=e(29372),P=e(64217),v=e(42550),j=e(96159),h=e(53124),E=e(11568),a=e(14747),i=e(83559);const b=(r,s,u,c,p)=>({background:r,border:`${(0,E.bf)(c.lineWidth)} ${c.lineType} ${s}`,[`${p}-icon`]:{color:u}}),V=r=>{const{componentCls:s,motionDurationSlow:u,marginXS:c,marginSM:p,fontSize:I,fontSizeLG:L,lineHeight:W,borderRadiusLG:U,motionEaseInOutCirc:$,withDescriptionIconSize:N,colorText:H,colorTextHeading:Q,withDescriptionPadding:Y,defaultPadding:A}=r;return{[s]:Object.assign(Object.assign({},(0,a.Wf)(r)),{position:"relative",display:"flex",alignItems:"center",padding:A,wordWrap:"break-word",borderRadius:U,[`&${s}-rtl`]:{direction:"rtl"},[`${s}-content`]:{flex:1,minWidth:0},[`${s}-icon`]:{marginInlineEnd:c,lineHeight:0},"&-description":{display:"none",fontSize:I,lineHeight:W},"&-message":{color:Q},[`&${s}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${u} ${$}, opacity ${u} ${$},
        padding-top ${u} ${$}, padding-bottom ${u} ${$},
        margin-bottom ${u} ${$}`},[`&${s}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${s}-with-description`]:{alignItems:"flex-start",padding:Y,[`${s}-icon`]:{marginInlineEnd:p,fontSize:N,lineHeight:0},[`${s}-message`]:{display:"block",marginBottom:c,color:Q,fontSize:L},[`${s}-description`]:{display:"block",color:H}},[`${s}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},G=r=>{const{componentCls:s,colorSuccess:u,colorSuccessBorder:c,colorSuccessBg:p,colorWarning:I,colorWarningBorder:L,colorWarningBg:W,colorError:U,colorErrorBorder:$,colorErrorBg:N,colorInfo:H,colorInfoBorder:Q,colorInfoBg:Y}=r;return{[s]:{"&-success":b(p,c,u,r,s),"&-info":b(Y,Q,H,r,s),"&-warning":b(W,L,I,r,s),"&-error":Object.assign(Object.assign({},b(N,$,U,r,s)),{[`${s}-description > pre`]:{margin:0,padding:0}})}}},J=r=>{const{componentCls:s,iconCls:u,motionDurationMid:c,marginXS:p,fontSizeIcon:I,colorIcon:L,colorIconHover:W}=r;return{[s]:{"&-action":{marginInlineStart:p},[`${s}-close-icon`]:{marginInlineStart:p,padding:0,overflow:"hidden",fontSize:I,lineHeight:(0,E.bf)(I),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${u}-close`]:{color:L,transition:`color ${c}`,"&:hover":{color:W}}},"&-close-text":{color:L,transition:`color ${c}`,"&:hover":{color:W}}}}},ee=r=>({withDescriptionIconSize:r.fontSizeHeading3,defaultPadding:`${r.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${r.paddingMD}px ${r.paddingContentHorizontalLG}px`});var K=(0,i.I$)("Alert",r=>[V(r),G(r),J(r)],ee),y=function(r,s){var u={};for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&s.indexOf(c)<0&&(u[c]=r[c]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,c=Object.getOwnPropertySymbols(r);p<c.length;p++)s.indexOf(c[p])<0&&Object.prototype.propertyIsEnumerable.call(r,c[p])&&(u[c[p]]=r[c[p]]);return u};const l={success:g.Z,info:_.Z,error:f.Z,warning:m.Z},o=r=>{const{icon:s,prefixCls:u,type:c}=r,p=l[c]||null;return s?(0,j.wm)(s,t.createElement("span",{className:`${u}-icon`},s),()=>({className:O()(`${u}-icon`,s.props.className)})):t.createElement(p,{className:`${u}-icon`})},n=r=>{const{isClosable:s,prefixCls:u,closeIcon:c,handleClose:p,ariaProps:I}=r,L=c===!0||c===void 0?t.createElement(C.Z,null):c;return s?t.createElement("button",Object.assign({type:"button",onClick:p,className:`${u}-close-icon`,tabIndex:0},I),L):null};var X=t.forwardRef((r,s)=>{const{description:u,prefixCls:c,message:p,banner:I,className:L,rootClassName:W,style:U,onMouseEnter:$,onMouseLeave:N,onClick:H,afterClose:Q,showIcon:Y,closable:A,closeText:q,closeIcon:z,action:re,id:pe}=r,ge=y(r,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[ae,_e]=t.useState(!1),se=t.useRef(null);t.useImperativeHandle(s,()=>({nativeElement:se.current}));const{getPrefixCls:ve,direction:he,alert:d}=t.useContext(h.E_),T=ve("alert",c),[Ee,Ce,Oe]=K(T),De=x=>{var R;_e(!0),(R=r.onClose)===null||R===void 0||R.call(r,x)},ie=t.useMemo(()=>r.type!==void 0?r.type:I?"warning":"info",[r.type,I]),ye=t.useMemo(()=>typeof A=="object"&&A.closeIcon||q?!0:typeof A=="boolean"?A:z!==!1&&z!==null&&z!==void 0?!0:!!(d!=null&&d.closable),[q,z,A,d==null?void 0:d.closable]),le=I&&Y===void 0?!0:Y,Be=O()(T,`${T}-${ie}`,{[`${T}-with-description`]:!!u,[`${T}-no-icon`]:!le,[`${T}-banner`]:!!I,[`${T}-rtl`]:he==="rtl"},d==null?void 0:d.className,L,W,Oe,Ce),Me=(0,P.Z)(ge,{aria:!0,data:!0}),Pe=t.useMemo(()=>{var x,R;return typeof A=="object"&&A.closeIcon?A.closeIcon:q||(z!==void 0?z:typeof(d==null?void 0:d.closable)=="object"&&(!((x=d==null?void 0:d.closable)===null||x===void 0)&&x.closeIcon)?(R=d==null?void 0:d.closable)===null||R===void 0?void 0:R.closeIcon:d==null?void 0:d.closeIcon)},[z,A,q,d==null?void 0:d.closeIcon]),je=t.useMemo(()=>{const x=A!=null?A:d==null?void 0:d.closable;if(typeof x=="object"){const{closeIcon:R}=x;return y(x,["closeIcon"])}return{}},[A,d==null?void 0:d.closable]);return Ee(t.createElement(D.ZP,{visible:!ae,motionName:`${T}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:x=>({maxHeight:x.offsetHeight}),onLeaveEnd:Q},(x,R)=>{let{className:ue,style:Ie}=x;return t.createElement("div",Object.assign({id:pe,ref:(0,v.sQ)(se,R),"data-show":!ae,className:O()(Be,ue),style:Object.assign(Object.assign(Object.assign({},d==null?void 0:d.style),U),Ie),onMouseEnter:$,onMouseLeave:N,onClick:H,role:"alert"},Me),le?t.createElement(o,{description:u,icon:r.icon,prefixCls:T,type:ie}):null,t.createElement("div",{className:`${T}-content`},p?t.createElement("div",{className:`${T}-message`},p):null,u?t.createElement("div",{className:`${T}-description`},u):null),re?t.createElement("div",{className:`${T}-action`},re):null,t.createElement(n,{isClosable:ye,prefixCls:T,closeIcon:Pe,handleClose:De,ariaProps:je}))}))}),k=e(15671),oe=e(43144),w=e(61120),F=e(78814),ne=e(82963);function ce(r,s,u){return s=(0,w.Z)(s),(0,ne.Z)(r,(0,F.Z)()?Reflect.construct(s,u||[],(0,w.Z)(r).constructor):s.apply(r,u))}var de=e(60136),fe=function(r){function s(){var u;return(0,k.Z)(this,s),u=ce(this,s,arguments),u.state={error:void 0,info:{componentStack:""}},u}return(0,de.Z)(s,r),(0,oe.Z)(s,[{key:"componentDidCatch",value:function(c,p){this.setState({error:c,info:p})}},{key:"render",value:function(){const{message:c,description:p,id:I,children:L}=this.props,{error:W,info:U}=this.state,$=(U==null?void 0:U.componentStack)||null,N=typeof c=="undefined"?(W||"").toString():c,H=typeof p=="undefined"?$:p;return W?t.createElement(X,{id:I,type:"error",message:N,description:t.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},H)}):L}}])}(t.Component);const te=X;te.ErrorBoundary=fe;var me=te}}]);
