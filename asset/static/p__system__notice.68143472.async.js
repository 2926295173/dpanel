"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[337],{80821:function(b,d,n){n.d(d,{Z:function(){return R}});var g=n(97857),c=n.n(g),O=n(5574),m=n.n(O),h=n(24963),T=n(36146),r=n(86738),_=n(83062),a=n(96074),s=n(83622),f=n(67294),l=n(85893);function R(e){var P=(0,f.useState)(!1),A=m()(P,2),E=A[0],u=A[1],o=(0,f.useContext)(h.Z),t=o.message,D=new T.Uo,U=function(){u(!0);var v=e.action();v instanceof Promise?v.then(function(i){if(u(!1),i){typeof e.onSuccess=="function"&&e.onSuccess(i);var C="";e.messageSuccess?typeof e.messageSuccess=="function"?C=e.messageSuccess(i):C=e.messageSuccess.indexOf("notification.")==0?D.format(e.messageSuccess):e.messageSuccess:C=D.format("notification.finish"),e.asynced?t.info(C):t.success(C)}}).catch(function(i){u(!1),typeof e.onError=="function"&&e.onError(i)}):u(!1)};return e.confirm?(0,l.jsx)(r.Z,c()(c()({style:{width:500},title:e.confirmTitle?e.confirmTitle:D.format("notification.title.tip"),description:typeof e.confirm=="string"&&e.confirm.indexOf("notification.")==0?D.format(e.confirm):e.confirm,onConfirm:U,okText:"Yes",cancelText:"No",onOpenChange:e.confirmOnOpenChange},e.confirmProps),{},{children:(0,l.jsxs)(_.Z,{title:e.tips,children:[e.showDivider&&(0,l.jsx)(a.Z,{type:"vertical",style:{marginRight:15}}),(0,l.jsx)(s.ZP,{block:e.block,disabled:e.disabled,icon:!e.children&&E?void 0:e.icon,loading:E,danger:e.danger,type:e.type,children:e.children})]})})):(0,l.jsxs)(_.Z,{title:e.tips,children:[e.showDivider&&(0,l.jsx)(a.Z,{type:"vertical",style:{marginRight:15}}),(0,l.jsx)(s.ZP,{block:e.block,style:e.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:e.disabled,icon:!e.children&&E?void 0:e.icon,loading:E,onClick:U,danger:e.danger,type:e.type,children:e.children})]})}},78451:function(b,d,n){n.d(d,{Z:function(){return O}});var g=n(67294),c=n(85893);function O(m){var h;return(0,c.jsx)("span",{style:{width:m.width?m.width:"auto",wordBreak:"break-word"},children:(h=m.content)!==null&&h!==void 0?h:m.children})}},24963:function(b,d,n){var g=n(67294),c=(0,g.createContext)({});d.Z=c},87038:function(b,d,n){n.r(d),n.d(d,{default:function(){return A}});var g=n(15009),c=n.n(g),O=n(99289),m=n.n(O),h=n(90078),T=n(56729),r=n(67294),_=n(34185),a=n(80821),s=n(67255),f=n(95411),l=n(5251),R=n(78451),e=n(36146),P=n(85893);function A(){var E=(0,r.useRef)();return(0,P.jsx)(h._z,{header:{extra:[(0,P.jsx)(a.Z,{action:function(){return(0,_.bJ)({action:"clear"})},onSuccess:function(){var o,t;return!((o=E.current)===null||o===void 0)&&o.reloadAndRest&&((t=E.current)===null||t===void 0||t.reloadAndRest()),!0},onError:function(){var o,t;return!((o=E.current)===null||o===void 0)&&o.reset&&((t=E.current)===null||t===void 0||t.reset()),!0},confirm:"notification.confirm.title",danger:!0,type:"primary",children:e.FD.format("listManageClear")},"clear")]},children:(0,P.jsx)(T.Z,{search:!1,columns:[{title:e.FD.format("listType"),ellipsis:!0,dataIndex:"type",search:!1,width:100},{title:e.FD.format("listDescription"),search:!1,dataIndex:"message",render:function(o,t,D,U,M){var v,i=(0,f.y)(t.message);return(0,P.jsx)(R.Z,{content:e.FD.format((0,l.fi)(t.title,"."),i)+((v=i.append)!==null&&v!==void 0?v:"")})}},{title:e.FD.format("listCreatedAt"),ellipsis:!0,search:!1,dataIndex:"createdAt",width:200,render:function(o,t,D,U,M){return new Date(t.createdAt).toLocaleString()}}],rowKey:"id",request:function(){var u=m()(c()().mark(function o(t,D,U){var M,v,i;return c()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,(0,_.vo)({page:(M=t.current)!==null&&M!==void 0?M:1,pageSize:(v=t.pageSize)!==null&&v!==void 0?v:10,type:t.type});case 2:return i=j.sent,j.abrupt("return",{data:i.data.list,success:!0,total:i.data.total});case 4:case"end":return j.stop()}},o)}));return function(o,t,D){return u.apply(this,arguments)}}(),pagination:(0,s.Oh)(),actionRef:E})})}},67255:function(b,d,n){n.d(d,{O$:function(){return T},Oh:function(){return O},j_:function(){return m},nX:function(){return h}});var g=n(5574),c=n.n(g);function O(r){var _=localStorage.getItem("dpanel-pagesize");if(_=="all")return!1;var a=location.pathname.split("/").slice(-2).join("-");return{defaultCurrent:r==null?void 0:r.page,showSizeChanger:!0,defaultPageSize:parseInt(_!=null?_:"20"),onChange:function(f,l){["app-list","compose-list"].includes(a)&&localStorage.setItem("dpanel-page-"+a,"".concat(f))}}}function m(r){var _="dpanel-table-column-".concat(r),a={};if(localStorage.getItem(_)){var s;a=JSON.parse((s=localStorage.getItem(_))!==null&&s!==void 0?s:"{}")}return{defaultValue:a,onChange:function(l){localStorage.setItem("dpanel-table-column-".concat(r),JSON.stringify(l))}}}function h(r,_,a){var s=location.pathname.split("/").slice(-2).join("-");a.columnKey&&localStorage.setItem("dpanel-table-sort-".concat(s),"".concat(a.columnKey,"|").concat(a.order))}function T(r,_){var a=localStorage.getItem("dpanel-table-sort-".concat(r));if(a){var s=a.split("|"),f=c()(s,2),l=f[0],R=f[1];if(l==_)return R}}}}]);
