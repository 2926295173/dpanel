"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4037],{12119:function(Y,$,e){e.d($,{Z:function(){return j}});var o=e(87462),f=e(67294),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M608 112c-167.9 0-304 136.1-304 304 0 70.3 23.9 135 63.9 186.5l-41.1 41.1-62.3-62.3a8.15 8.15 0 00-11.4 0l-39.8 39.8a8.15 8.15 0 000 11.4l62.3 62.3-44.9 44.9-62.3-62.3a8.15 8.15 0 00-11.4 0l-39.8 39.8a8.15 8.15 0 000 11.4l62.3 62.3-65.3 65.3a8.03 8.03 0 000 11.3l42.3 42.3c3.1 3.1 8.2 3.1 11.3 0l253.6-253.6A304.06 304.06 0 00608 720c167.9 0 304-136.1 304-304S775.9 112 608 112zm161.2 465.2C726.2 620.3 668.9 644 608 644c-60.9 0-118.2-23.7-161.2-66.8-43.1-43-66.8-100.3-66.8-161.2 0-60.9 23.7-118.2 66.8-161.2 43-43.1 100.3-66.8 161.2-66.8 60.9 0 118.2 23.7 161.2 66.8 43.1 43 66.8 100.3 66.8 161.2 0 60.9-23.7 118.2-66.8 161.2z"}}]},name:"key",theme:"outlined"},C=b,y=e(84089),E=function(A,I){return f.createElement(y.Z,(0,o.Z)({},A,{ref:I,icon:C}))},v=f.forwardRef(E),j=v},63434:function(Y,$,e){var o=e(1413),f=e(45987),b=e(22270),C=e(84567),y=e(67294),E=e(90789),v=e(35510),j=e(85893),F=["options","fieldProps","proFieldProps","valueEnum"],A=y.forwardRef(function(c,W){var z=c.options,M=c.fieldProps,V=c.proFieldProps,w=c.valueEnum,H=(0,f.Z)(c,F);return(0,j.jsx)(v.Z,(0,o.Z)({ref:W,valueType:"checkbox",valueEnum:(0,b.h)(w,void 0),fieldProps:(0,o.Z)({options:z},M),lightProps:(0,o.Z)({labelFormatter:function(){return(0,j.jsx)(v.Z,(0,o.Z)({ref:W,valueType:"checkbox",mode:"read",valueEnum:(0,b.h)(w,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,o.Z)({options:z},M),proFieldProps:V},H))}},H.lightProps),proFieldProps:V},H))}),I=y.forwardRef(function(c,W){var z=c.fieldProps,M=c.children;return(0,j.jsx)(C.Z,(0,o.Z)((0,o.Z)({ref:W},z),{},{children:M}))}),B=(0,E.G)(I,{valuePropName:"checked"}),U=B;U.Group=A,$.Z=U},66139:function(Y,$,e){e.r($),e.d($,{default:function(){return ee}});var o=e(15009),f=e.n(o),b=e(99289),C=e.n(b),y=e(5574),E=e.n(y),v=e(68602),j=e(89075),F=e(68262),A=e(82346),I=e(9361),B=e(38925),U=e(86250),c=e(67294),W=e(29177),z=e(88360),M=e(94149),V=e(12119),w=e(5966),H=e(97462),k=e(63434),oe=e(92398),_=e(55241),re=e(42075),q=e(25593),a=e(85893);function se(K){var G;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(oe.Z,{centered:!0,activeKey:K.loginType,items:[{icon:(0,a.jsx)(W.Z,{}),key:"account",label:"\u8D26\u53F7\u5BC6\u7801\u767B\u5F55"},{icon:(0,a.jsx)(z.Z,{}),key:"register",label:"\u914D\u7F6E\u7BA1\u7406\u5458\u7528\u6237\u540D\u53CA\u5BC6\u7801"}].filter(function(N){return N.key==K.loginType})}),(0,a.jsx)(w.Z,{name:"username",fieldProps:{size:"large",prefix:(0,a.jsx)(W.Z,{className:"prefixIcon"})},placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"}]},"username"),(0,a.jsx)(w.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,a.jsx)(M.Z,{className:"prefixIcon"})},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"}]},"password"),K.showTwoFa&&(0,a.jsx)(w.Z,{name:"code",placeholder:"\u8BF7\u8F93\u5165\u53CC\u56E0\u7D20\u9A8C\u8BC1\u7801",rules:[{required:!0}],fieldProps:{maxLength:6,size:"large",prefix:(0,a.jsx)(V.Z,{className:"prefixIcon"})}}),K.loginType=="register"&&(0,a.jsx)(H.Z,{name:["password"],children:function(ne){var le=ne.password;return(0,a.jsx)(w.Z.Password,{fieldProps:{size:"large",prefix:(0,a.jsx)(M.Z,{className:"prefixIcon"})},placeholder:"\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801",name:"confirmPassword",dependencies:["password"],rules:[{required:!0,message:"\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801\uFF01"},function(te){var X=te.getFieldValue;return{validator:function(n,t){return!t||X("password")===t?Promise.resolve():Promise.reject(new Error("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4"))}}}]},"confirmPassword")}}),(0,a.jsxs)("div",{style:{marginBlockEnd:24},children:[(0,a.jsx)(k.Z,{noStyle:!0,name:"autoLogin",initialValue:!0,children:"\u4FDD\u6301\u767B\u5F55\u72B6\u6001"}),(0,a.jsx)(_.Z,{content:(0,a.jsxs)(re.Z,{direction:"vertical",size:[0,30],children:[(0,a.jsxs)("span",{children:["\u5BBF\u4E3B\u673A\u4E2D\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\uFF0C",(0,a.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/install/ctrl",target:"_blank",children:"\u67E5\u770B\u6587\u6863"})]}),(0,a.jsxs)(q.Z.Text,{copyable:!0,style:{padding:10,background:"#24292f",color:"#ffffff"},children:["docker exec ",(G=K.appName)!==null&&G!==void 0?G:"dpanel"," ./dpanel user:reset -f config.yaml"]}),(0,a.jsx)("span",{})]}),children:(0,a.jsx)(q.Z.Link,{style:{float:"right"},children:"\u5FD8\u8BB0\u5BC6\u7801?"})})]})]})}var ee=function(){var K=I.Z.useToken(),G=K.token,N=(0,A.useModel)("@@initialState"),ne=N.initialState,le=N.loading,te=N.error,X=N.refresh,ae=N.setInitialState,n=(0,c.useState)({loginType:"account",appName:"dpanel"}),t=E()(n,2),r=t[0],s=t[1],d=(0,c.useState)(),g=E()(d,2),m=g[0],O=g[1],Z=(0,A.useAntdConfigSetter)(),P=(0,c.useRef)();return(0,c.useEffect)(function(){window.document.title="DPanel - Docker \u7BA1\u7406\u9762\u677F",(0,v.Nr)().then(function(){var D=C()(f()().mark(function S(u){var h;return f()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:h={loginType:"account"},u.data.showBuildName&&u.data.family!="lite"&&(h.showBuildName=!0),u.data.showRegister&&(h.loginType="register"),u.data.family=="demo"&&(h.showDemo=!0),h.appName=u.data.appName,u.data.theme&&u.data.theme.algorithm&&(localStorage.setItem("dpanel-theme",u.data.theme.algorithm),Z(function(l){var Q;(Q=l.theme)!==null&&Q!==void 0||(l.theme={});var J=[];return u.data.theme&&(u.data.theme.algorithm=="dark"?J.push(I.Z.darkAlgorithm):J.push(I.Z.defaultAlgorithm),l.theme.algorithm=J),l})),u.data.feature.indexOf("pe")!=-1&&(0,j.ax)().then(function(l){l.data&&l.data.themeUserConfig&&l.data.themeUserConfig.siteTitle&&(window.document.title=l.data.themeUserConfig.siteTitle),O(l.data)}),s(h);case 8:case"end":return R.stop()}},S)}));return function(S){return D.apply(this,arguments)}}())},[]),(0,a.jsxs)(a.Fragment,{children:[r&&r.showBuildName&&(0,a.jsx)(B.Z,{type:"error",message:"\u60A8\u521B\u5EFA\u7684\u9762\u677F\u5BB9\u5668\u540D\u79F0\u975E\u9ED8\u8BA4\u7684 dpanel\uFF0C\u8BF7\u91CD\u5EFA\u5E76\u901A\u8FC7\u73AF\u5883\u53D8\u91CF -e APP_NAME= \u6307\u5B9A\u65B0\u7684\u5BB9\u5668\u540D\u79F0\u3002",banner:!0}),r&&r.showDemo&&(0,a.jsx)(B.Z,{type:"error",message:"\u5F53\u524D\u4E3A\u6F14\u793A\u7AD9\uFF0C\u7981\u7528 docker \u76F8\u5173\u529F\u80FD\u3002\u5E10\u53F7\u5BC6\u7801\u4E3A admin 123456",banner:!0}),(0,a.jsx)(U.Z,{justify:"center",align:"center",style:{height:"100vh",background:m&&m.themeUserConfig&&m.themeUserConfig.bgImage&&m.themeUserConfig.bgImage.src?"url(".concat(m.themeUserConfig.bgImage.src,")"):"".concat(G.colorBgElevated,"dd")},children:(0,a.jsx)(F.U,{onFinish:function(){var D=C()(f()().mark(function S(u){var h,p;return f()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(r.loginType!="register"){l.next=3;break}return l.next=3,(0,v.AT)({username:u.username,password:u.password,confirmPassword:u.confirmPassword});case 3:return l.prev=3,l.next=6,(0,v.n$)({username:u.username,password:u.password,autoLogin:u.autoLogin,code:u.code});case 6:if(h=l.sent,!h.data.accessToken){l.next=14;break}return localStorage.setItem("token",h.data.accessToken),X(),window.location.href="/dpanel/ui",l.abrupt("return");case 14:return l.abrupt("return",!1);case 15:l.next=20;break;case 17:l.prev=17,l.t0=l.catch(3),(p=P.current)===null||p===void 0||p.resetFields(["code"]);case 20:case"end":return l.stop()}},S,null,[[3,17]])}));return function(S){return D.apply(this,arguments)}}(),containerStyle:{background:"transparent",height:"auto"},logo:"",title:(0,a.jsx)("a",{href:"https://dpanel.cc",target:"_blank",children:(0,a.jsx)("img",{src:m&&m.themeUserConfig&&m.themeUserConfig.loginLogo?m.themeUserConfig.loginLogo:"/dpanel/static/asset/logo.png",width:"350"})}),subTitle:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("br",{}),(0,a.jsx)("br",{})]}),formRef:P,children:(0,a.jsx)(se,{showTwoFa:!!(m&&m.canSeeEnableTwoFa),loginType:r.loginType,appName:r.appName})})})]})}},89075:function(Y,$,e){e.d($,{$w:function(){return E},YQ:function(){return j},ax:function(){return A}});var o=e(15009),f=e.n(o),b=e(99289),C=e.n(b),y=e(82346);function E(){return v.apply(this,arguments)}function v(){return v=C()(f()().mark(function B(){return f()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,y.request)("/api/pro/home/get-machine-id",{method:"POST"}));case 1:case"end":return c.stop()}},B)})),v.apply(this,arguments)}function j(){return F.apply(this,arguments)}function F(){return F=C()(f()().mark(function B(){return f()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,y.request)("/api/pro/home/get-license-info",{method:"POST"}));case 1:case"end":return c.stop()}},B)})),F.apply(this,arguments)}function A(){return I.apply(this,arguments)}function I(){return I=C()(f()().mark(function B(){return f()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,y.request)("/api/pro/home/login-info",{method:"POST"}));case 1:case"end":return c.stop()}},B)})),I.apply(this,arguments)}},38925:function(Y,$,e){e.d($,{Z:function(){return ae}});var o=e(67294),f=e(89739),b=e(4340),C=e(97937),y=e(21640),E=e(78860),v=e(93967),j=e.n(v),F=e(29372),A=e(64217),I=e(42550),B=e(96159),U=e(53124),c=e(11568),W=e(14747),z=e(83559);const M=(n,t,r,s,d)=>({background:n,border:`${(0,c.bf)(s.lineWidth)} ${s.lineType} ${t}`,[`${d}-icon`]:{color:r}}),V=n=>{const{componentCls:t,motionDurationSlow:r,marginXS:s,marginSM:d,fontSize:g,fontSizeLG:m,lineHeight:O,borderRadiusLG:Z,motionEaseInOutCirc:P,withDescriptionIconSize:D,colorText:S,colorTextHeading:u,withDescriptionPadding:h,defaultPadding:p}=n;return{[t]:Object.assign(Object.assign({},(0,W.Wf)(n)),{position:"relative",display:"flex",alignItems:"center",padding:p,wordWrap:"break-word",borderRadius:Z,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:s,lineHeight:0},"&-description":{display:"none",fontSize:g,lineHeight:O},"&-message":{color:u},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${r} ${P}, opacity ${r} ${P},
        padding-top ${r} ${P}, padding-bottom ${r} ${P},
        margin-bottom ${r} ${P}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:h,[`${t}-icon`]:{marginInlineEnd:d,fontSize:D,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:s,color:u,fontSize:m},[`${t}-description`]:{display:"block",color:S}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},w=n=>{const{componentCls:t,colorSuccess:r,colorSuccessBorder:s,colorSuccessBg:d,colorWarning:g,colorWarningBorder:m,colorWarningBg:O,colorError:Z,colorErrorBorder:P,colorErrorBg:D,colorInfo:S,colorInfoBorder:u,colorInfoBg:h}=n;return{[t]:{"&-success":M(d,s,r,n,t),"&-info":M(h,u,S,n,t),"&-warning":M(O,m,g,n,t),"&-error":Object.assign(Object.assign({},M(D,P,Z,n,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},H=n=>{const{componentCls:t,iconCls:r,motionDurationMid:s,marginXS:d,fontSizeIcon:g,colorIcon:m,colorIconHover:O}=n;return{[t]:{"&-action":{marginInlineStart:d},[`${t}-close-icon`]:{marginInlineStart:d,padding:0,overflow:"hidden",fontSize:g,lineHeight:(0,c.bf)(g),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${r}-close`]:{color:m,transition:`color ${s}`,"&:hover":{color:O}}},"&-close-text":{color:m,transition:`color ${s}`,"&:hover":{color:O}}}}},k=n=>({withDescriptionIconSize:n.fontSizeHeading3,defaultPadding:`${n.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${n.paddingMD}px ${n.paddingContentHorizontalLG}px`});var oe=(0,z.I$)("Alert",n=>[V(n),w(n),H(n)],k),_=function(n,t){var r={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.indexOf(s)<0&&(r[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,s=Object.getOwnPropertySymbols(n);d<s.length;d++)t.indexOf(s[d])<0&&Object.prototype.propertyIsEnumerable.call(n,s[d])&&(r[s[d]]=n[s[d]]);return r};const re={success:f.Z,info:E.Z,error:b.Z,warning:y.Z},q=n=>{const{icon:t,prefixCls:r,type:s}=n,d=re[s]||null;return t?(0,B.wm)(t,o.createElement("span",{className:`${r}-icon`},t),()=>({className:j()(`${r}-icon`,t.props.className)})):o.createElement(d,{className:`${r}-icon`})},a=n=>{const{isClosable:t,prefixCls:r,closeIcon:s,handleClose:d,ariaProps:g}=n,m=s===!0||s===void 0?o.createElement(C.Z,null):s;return t?o.createElement("button",Object.assign({type:"button",onClick:d,className:`${r}-close-icon`,tabIndex:0},g),m):null};var ee=o.forwardRef((n,t)=>{const{description:r,prefixCls:s,message:d,banner:g,className:m,rootClassName:O,style:Z,onMouseEnter:P,onMouseLeave:D,onClick:S,afterClose:u,showIcon:h,closable:p,closeText:R,closeIcon:l,action:Q,id:J}=n,fe=_(n,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[ie,pe]=o.useState(!1),ce=o.useRef(null);o.useImperativeHandle(t,()=>({nativeElement:ce.current}));const{getPrefixCls:ge,direction:ve,alert:i}=o.useContext(U.E_),x=ge("alert",s),[he,ye,Ee]=oe(x),Ce=T=>{var L;pe(!0),(L=n.onClose)===null||L===void 0||L.call(n,T)},de=o.useMemo(()=>n.type!==void 0?n.type:g?"warning":"info",[n.type,g]),Pe=o.useMemo(()=>typeof p=="object"&&p.closeIcon||R?!0:typeof p=="boolean"?p:l!==!1&&l!==null&&l!==void 0?!0:!!(i!=null&&i.closable),[R,l,p,i==null?void 0:i.closable]),ue=g&&h===void 0?!0:h,xe=j()(x,`${x}-${de}`,{[`${x}-with-description`]:!!r,[`${x}-no-icon`]:!ue,[`${x}-banner`]:!!g,[`${x}-rtl`]:ve==="rtl"},i==null?void 0:i.className,m,O,Ee,ye),je=(0,A.Z)(fe,{aria:!0,data:!0}),Ie=o.useMemo(()=>{var T,L;return typeof p=="object"&&p.closeIcon?p.closeIcon:R||(l!==void 0?l:typeof(i==null?void 0:i.closable)=="object"&&(!((T=i==null?void 0:i.closable)===null||T===void 0)&&T.closeIcon)?(L=i==null?void 0:i.closable)===null||L===void 0?void 0:L.closeIcon:i==null?void 0:i.closeIcon)},[l,p,R,i==null?void 0:i.closeIcon]),Oe=o.useMemo(()=>{const T=p!=null?p:i==null?void 0:i.closable;if(typeof T=="object"){const{closeIcon:L}=T;return _(T,["closeIcon"])}return{}},[p,i==null?void 0:i.closable]);return he(o.createElement(F.ZP,{visible:!ie,motionName:`${x}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:T=>({maxHeight:T.offsetHeight}),onLeaveEnd:u},(T,L)=>{let{className:me,style:Se}=T;return o.createElement("div",Object.assign({id:J,ref:(0,I.sQ)(ce,L),"data-show":!ie,className:j()(xe,me),style:Object.assign(Object.assign(Object.assign({},i==null?void 0:i.style),Z),Se),onMouseEnter:P,onMouseLeave:D,onClick:S,role:"alert"},je),ue?o.createElement(q,{description:r,icon:n.icon,prefixCls:x,type:de}):null,o.createElement("div",{className:`${x}-content`},d?o.createElement("div",{className:`${x}-message`},d):null,r?o.createElement("div",{className:`${x}-description`},r):null),Q?o.createElement("div",{className:`${x}-action`},Q):null,o.createElement(a,{isClosable:Pe,prefixCls:x,closeIcon:Ie,handleClose:Ce,ariaProps:Oe}))}))}),K=e(15671),G=e(43144),N=e(53640),ne=e(60136),te=function(n){function t(){var r;return(0,K.Z)(this,t),r=(0,N.Z)(this,t,arguments),r.state={error:void 0,info:{componentStack:""}},r}return(0,ne.Z)(t,n),(0,G.Z)(t,[{key:"componentDidCatch",value:function(s,d){this.setState({error:s,info:d})}},{key:"render",value:function(){const{message:s,description:d,id:g,children:m}=this.props,{error:O,info:Z}=this.state,P=(Z==null?void 0:Z.componentStack)||null,D=typeof s=="undefined"?(O||"").toString():s,S=typeof d=="undefined"?P:d;return O?o.createElement(ee,{id:g,type:"error",message:D,description:o.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},S)}):m}}])}(o.Component);const X=ee;X.ErrorBoundary=te;var ae=X},53640:function(Y,$,e){e.d($,{Z:function(){return C}});var o=e(61120),f=e(78814),b=e(82963);function C(y,E,v){return E=(0,o.Z)(E),(0,b.Z)(y,(0,f.Z)()?Reflect.construct(E,v||[],(0,o.Z)(y).constructor):E.apply(y,v))}}}]);
