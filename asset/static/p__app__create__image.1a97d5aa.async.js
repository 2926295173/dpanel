"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3985],{85060:function(fe,$,n){n.d($,{Z:function(){return F}});var S=n(87462),c=n(67294),Q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"},B=Q,O=n(84089),x=function(Y,s){return c.createElement(O.Z,(0,S.Z)({},Y,{ref:s,icon:B}))},j=c.forwardRef(x),F=j},63434:function(fe,$,n){var S=n(1413),c=n(45987),Q=n(22270),B=n(84567),O=n(67294),x=n(90789),j=n(35510),F=n(85893),E=["options","fieldProps","proFieldProps","valueEnum"],Y=O.forwardRef(function(h,z){var r=h.options,t=h.fieldProps,X=h.proFieldProps,ee=h.valueEnum,P=(0,c.Z)(h,E);return(0,F.jsx)(j.Z,(0,S.Z)({ref:z,valueType:"checkbox",valueEnum:(0,Q.h)(ee,void 0),fieldProps:(0,S.Z)({options:r},t),lightProps:(0,S.Z)({labelFormatter:function(){return(0,F.jsx)(j.Z,(0,S.Z)({ref:z,valueType:"checkbox",mode:"read",valueEnum:(0,Q.h)(ee,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,S.Z)({options:r},t),proFieldProps:X},P))}},P.lightProps),proFieldProps:X},P))}),s=O.forwardRef(function(h,z){var r=h.fieldProps,t=h.children;return(0,F.jsx)(B.Z,(0,S.Z)((0,S.Z)({ref:z},r),{},{children:t}))}),R=(0,x.G)(s,{valuePropName:"checked"}),T=R;T.Group=Y,$.Z=T},91058:function(fe,$,n){var S=n(19632),c=n.n(S),Q=n(97857),B=n.n(Q),O=n(5574),x=n.n(O),j=n(89035),F=n(64317),E=n(5966),Y=n(38345),s=n(17186),R=n(24739),T=n(42075),h=n(28036),z=n(85576),r=n(67294),t=n(95089),X=n(12491),ee=n(62597),P=n(79245),w=n(85893),U="docker-image",ue=(0,r.forwardRef)(function(N,de){var le=(0,r.useState)(U),L=x()(le,2),pe=L[0],ge=L[1],ne=(0,r.useRef)(),Ie=(0,r.useState)(""),he=x()(Ie,2),Te=he[0],we=he[1],e=function(){pe!="code"?ge("code"):ge(U)};(0,r.useImperativeHandle)(de,function(){return{addEnvItem:function(b,te){var oe,ae=(oe=ne.current)===null||oe===void 0?void 0:oe.getList(),_e=!1;if(ae==null||ae.map(function(ce){if(ce.name==b){_e=!0;return}}),!_e){var me;(me=ne.current)===null||me===void 0||me.add({name:b,value:te})}},clear:function(){var b;(b=ne.current)===null||b===void 0||(b=b.getList())===null||b===void 0||b.map(function(te,oe){var ae;(ae=ne.current)===null||ae===void 0||ae.remove(oe)})}}});function Oe(H){try{var b,te;H==""&&(H=Me());for(var oe=(b=(te=ne.current)===null||te===void 0||(te=te.getList())===null||te===void 0?void 0:te.length)!==null&&b!==void 0?b:0,ae=oe;ae>=0;ae--){var _e;(_e=ne.current)===null||_e===void 0||_e.remove(ae)}var me=H.split(`
`),ce=0;me.map(function(je){var be,Re=je.split("=");Re.length<2||((be=ne.current)===null||be===void 0||be.add({name:Re[0],value:Re.slice(1).join("=")},ce),ce++)})}catch(je){console.log(je)}}function Me(){if(ne&&ne.current&&ne.current.getList){var H,b=(H=ne.current)===null||H===void 0?void 0:H.getList();if(b){var te=[];return b.map(function(oe){te.push("".concat(oe.name,"=").concat(oe.value))}),te.join(`
`)}else return""}else return""}function Le(H){var b,te,oe,ae,_e={},me={help:H&&H.label?H.label:"",name:"value",label:"\u53D8\u91CF\u503C",rules:[{required:N.requireValue?!0:(0,P.y)((b=H.rule)===null||b===void 0?void 0:b.kind,ee.fp.EnvValueRuleRequired)}],disabled:N.showDisableValue||(0,P.y)((te=H.rule)===null||te===void 0?void 0:te.kind,ee.fp.EnvValueRuleDisabled)};if((0,P.y)((oe=H.rule)===null||oe===void 0?void 0:oe.kind,ee.fp.EnvValueTypeSelect)){var ce;return(0,w.jsx)(F.Z,B()(B()({fieldProps:_e},me),{},{width:N.showInDrawer?"sm":"md",options:((ce=H.rule)===null||ce===void 0?void 0:ce.option)&&H.rule.option.map(function(je){return{label:je.name,value:je.value}}),initialValue:H.value}))}else return(0,P.y)((ae=H.rule)===null||ae===void 0?void 0:ae.kind,ee.fp.EnvValueTypeNumber)?(0,w.jsx)(E.Z,B()(B()({fieldProps:_e},me),{},{width:N.showInDrawer?"sm":"md",rules:[].concat(c()(me.rules),[{pattern:new RegExp("^[0-9]*$")}]),help:me.help+",\u6570\u503C\u7C7B\u578B"})):(0,w.jsx)(E.Z,B()(B()({fieldProps:_e},me),{},{width:N.showInDrawer?"sm":"md"}))}return(0,w.jsxs)(Y.Z,{ghost:N.showCardGhost,title:N.label?N.label:null,headerBordered:!0,extra:(N.showCodeMode||N.showImportButton)&&(0,w.jsxs)(T.Z,{children:[N.showImportButton&&(0,w.jsx)("div",{style:{marginBottom:"-25px"},children:(0,w.jsx)(X.Z,{title:"\u5BFC\u5165 env \u6587\u4EF6",onImport:function(b){return Oe(b),!0},onLoad:function(b){if(b.indexOf("=")<0)throw new Error("\u5BFC\u5165env\u6587\u4EF6\u9519\u8BEF");return!0}})}),N.showCodeMode?(0,w.jsx)(h.ZP,{icon:(0,w.jsx)(j.Z,{}),type:pe=="code"?"primary":"default",onClick:e,children:"\u4EE3\u7801\u6A21\u5F0F"},"code"):""]}),children:[(0,w.jsx)(s.u,{name:N.name?N.name:"environment",actionRef:ne,creatorButtonProps:N.showAddButton?{creatorButtonText:"\u6DFB\u52A0\u5BB9\u5668\u73AF\u5883\u53D8\u91CF"}:!1,copyIconProps:!1,deleteIconProps:N.showDeleteButton,min:100,label:N.listLabel,children:function(b,te,oe){var ae=oe.getCurrentRowData();return(0,w.jsxs)(R.UW,{style:{marginBottom:"5px"},children:[(0,w.jsx)(E.Z,{width:N.showInDrawer?"sm":"md",name:"name",label:"\u53D8\u91CF\u540D",required:!0,rules:[{required:!0}],disabled:N.showDisableName,placeholder:"\u8F93\u5165\u53D8\u91CF\u540D\u79F0"}),Le(ae)]})}}),N.showCodeMode&&(0,w.jsx)(z.Z,{width:"800px",open:pe=="code",onCancel:function(){return ge("docker-image")},onOk:function(){Oe(Te),ge("docker-image")},children:(0,w.jsx)(t.ZP,{onChange:function(b){return we(b)},value:Me(),height:"680px",theme:"light"})})]})});$.Z=ue},92067:function(fe,$,n){n.d($,{Z:function(){return T}});var S=n(15009),c=n.n(S),Q=n(99289),B=n.n(Q),O=n(60335),x=n(64789),j=n(78099),F=n(42075),E=n(28036),Y=n(37413),s=n(5251),R=n(85893);function T(h){return(0,R.jsx)(j.Z,{columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"name",render:function(r,t,X,ee){return(0,R.jsx)(F.Z,{direction:"vertical",style:{textAlign:"left"},children:t==null?void 0:t.Names.map(function(P){return(0,s.fi)(P,"/")})},t.Id)}},{title:"\u7AEF\u53E3",dataIndex:"ports",search:!1,render:function(r,t,X,ee){var P=[],w=[];return t!=null&&t.Ports&&t.Ports.map(function(U,ue){U.PublicPort?P.push(U):w.push(U)}),(0,R.jsx)(Y.Z,{publicPort:P,privatePort:w,domain:[]})}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",ellipsis:!0,width:100,render:function(r,t,X,ee){return[(0,R.jsx)(E.ZP,{type:"link",onClick:B()(c()().mark(function P(){var w;return c()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,(0,O.jV)({md5:t.Id});case 2:w=ue.sent,h.onSelect&&h.onSelect(w.data.info);case 4:case"end":return ue.stop()}},P)})),children:(0,R.jsx)(x.Z,{})},t.Id)]}}],rowKey:"Id",request:function(){var z=B()(c()().mark(function r(t,X,ee){var P;return c()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,O.IE)({siteTitle:t.name});case 2:return P=U.sent,U.abrupt("return",{data:P.data.list,success:!0,total:P.data.list.length});case 4:case"end":return U.stop()}},r)}));return function(r,t,X){return z.apply(this,arguments)}}(),pagination:{pageSize:9}})}},52255:function(fe,$,n){n.d($,{Z:function(){return Q}});var S=n(67294),c=n(85893);function Q(B){return(0,c.jsx)("div",{style:{display:B.show?"block":"none"},children:B.children})}},53102:function(fe,$,n){n.d($,{Z:function(){return Q}});var S=n(67294),c=n(85893);function Q(B){var O=function(j){if(B.check&&B.check(j)){j.preventDefault();return}if(j.target&&j.target.className&&j.target.className.indexOf(B.targetClassName)!==-1){j.preventDefault();return}};return(0,S.useEffect)(function(){return window.addEventListener("wheel",O,{passive:!1}),function(){window.removeEventListener("wheel",O)}},[]),(0,c.jsx)(c.Fragment,{children:B.children})}},44349:function(fe,$,n){var S=n(97857),c=n.n(S),Q=n(17186),B=n(5966),O=n(86250),x=n(67294),j=n(85893),F=(0,x.forwardRef)(function(E,Y){var s=(0,x.useRef)();(0,x.useImperativeHandle)(Y,function(){return{addItem:function(h,z){var r,t=(r=s.current)===null||r===void 0?void 0:r.getList(),X=!1;if(t==null||t.map(function(P){if(P.name==h){X=!0;return}}),!X){var ee;(ee=s.current)===null||ee===void 0||ee.add({name:h,value:z})}},clear:function(){var h;(h=s.current)===null||h===void 0||(h=h.getList())===null||h===void 0||h.map(function(z,r){var t;(t=s.current)===null||t===void 0||t.remove(r)})}}});var R={};return E.hideCopyButton===!0&&(R.copyIconProps=!1),E.hideDeleteButton===!0&&(R.deleteIconProps=!1),(0,j.jsx)(Q.u,c()(c()({initialValue:E.initialValue,label:E.label,name:E.name,actionRef:s,creatorButtonProps:E.showAddButton?{creatorButtonText:"\u6DFB\u52A0"+(E.label?E.label:E.name)}:!1,min:E.min?E.min:0},R),{},{children:function(h,z,r){return(0,j.jsx)(O.Z,{justify:E.justify,gap:E.gap,children:E.items.map(function(t){return t.render?(0,j.jsx)("div",{children:t.render&&t.render(h,z,r)},"".concat(E.name,"-").concat(t.name,"-").concat(h.key)):(0,j.jsx)(B.Z,{width:t.width,name:t.name,label:t.label,required:t.required,rules:[{required:t.required}],disabled:t.disabled,placeholder:t.placeholder},"".concat(E.name,"-").concat(t.name,"-").concat(h.key))})})}}))});$.Z=F},12491:function(fe,$,n){n.d($,{Z:function(){return F}});var S=n(24963),c=n(88484),Q=n(62370),B=n(31418),O=n(28036),x=n(67294),j=n(85893);function F(E){var Y=(0,x.useContext)(S.Z),s=Y.message,R=Y.notice,T=Y.lang,h=(0,x.useRef)(null),z=B.Z.useApp(),r=function(){h.current&&(h.current.click(),h.current.onchange=function(X){if(!X||!X.target)return"";var ee=new FileReader;ee.onload=function(w){var U,ue,N=(U=w.target)===null||U===void 0?void 0:U.result;if(E.onLoad)try{E.onLoad&&E.onLoad(N)}catch(de){R.error(de);return}typeof E.onImport=="function"&&(s.success("\u6210\u529F\u5BFC\u5165 ".concat(E.title)),E.onImport(N)),(ue=h.current)!==null&&ue!==void 0&&ue.value&&(h.current.value="")};var P=X.target;if(P.files)try{ee.readAsText(P.files[0])}catch(w){R.error("\u5BFC\u5165\u6587\u4EF6\u5FC5\u987B\u662F\u6587\u672C\u7C7B\u578B")}})};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Q.Z,{children:(0,j.jsx)(O.ZP,{icon:(0,j.jsx)(c.Z,{}),block:!0,onClick:r,children:E.title})}),(0,j.jsx)("input",{style:{display:"none"},type:"file",ref:h,name:"importFileInput"})]})}},46442:function(fe,$,n){var S=n(15009),c=n.n(S),Q=n(99289),B=n.n(Q),O=n(5574),x=n.n(O),j=n(67294),F=n(14946),E=n(64789),Y=n(78099),s=n(28036),R=n(85265),T=n(42075),h=n(66309),z=n(28230),r=n(85893),t=(0,j.forwardRef)(function(X,ee){(0,j.useImperativeHandle)(ee,function(){return{show:function(){ue(!0)}}});var P=(0,j.useState)(!1),w=x()(P,2),U=w[0],ue=w[1],N=(0,j.useRef)();return(0,r.jsxs)(r.Fragment,{children:[X.showTriggerButton&&(0,r.jsx)(s.ZP,{onClick:function(){ue(!0)},children:"\u52A0\u5165\u7F51\u7EDC"}),(0,r.jsx)(R.Z,{title:"\u9009\u62E9\u7F51\u7EDC",width:800,footer:!1,open:U,onClose:function(){return ue(!1)},extra:(0,r.jsx)(T.Z,{children:(0,r.jsx)(z.Z,{onFinish:function(){var le,L;!((le=N.current)===null||le===void 0)&&le.reloadAndRest&&((L=N.current)===null||L===void 0||L.reloadAndRest())}},"create")}),children:(0,r.jsx)(Y.Z,{rowKey:"Name",toolBarRender:!1,actionRef:N,columns:[{title:"\u540D\u79F0",dataIndex:"Name",render:function(le,L,pe,ge,ne){return L.Name=="none"||L.Name=="bridge"||L.Name=="host"?(0,r.jsxs)(r.Fragment,{children:[L.Name," ",(0,r.jsx)(h.Z,{color:"blue",children:"System"})]}):(0,r.jsx)(r.Fragment,{children:le})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4 IPAM Network",search:!1,dataIndex:["IPAM","Config",0,"Subnet"],render:function(le,L,pe,ge,ne){return(0,r.jsxs)(T.Z,{children:[L.IPAM.Config&&L.IPAM.Config[0]&&"".concat(L.IPAM.Config[0].Subnet," - ").concat(L.IPAM.Config[0].Gateway),L.IPAM.Config&&L.IPAM.Config[1]&&"".concat(L.IPAM.Config[1].Subnet," - ").concat(L.IPAM.Config[1].Gateway)]})}},{title:"\u64CD\u4F5C",width:100,search:!1,render:function(le,L,pe,ge,ne){return[L.Name!="none"&&L.Name!="bridge"&&L.Name!="host"&&(0,r.jsx)(s.ZP,{type:"link",onClick:function(){X.onSelect(L),ue(!1)},children:(0,r.jsx)(E.Z,{})},L.Id)]}}],request:function(){var de=B()(c()().mark(function le(L,pe,ge){var ne;return c()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,(0,F.jR)({name:L.Name});case 2:return ne=he.sent,he.abrupt("return",{data:ne.data.list,success:!0,total:ne.data.list.length});case 4:case"end":return he.stop()}},le)}));return function(le,L,pe){return de.apply(this,arguments)}}(),pagination:{pageSize:10}})})]})});$.Z=t},35880:function(fe,$,n){var S=n(67294),c=(0,S.createContext)({});$.Z=c},9053:function(fe,$,n){n.r($),n.d($,{default:function(){return Pn}});var S=n(15009),c=n.n(S),Q=n(99289),B=n.n(Q),O=n(5574),x=n.n(O),j=n(90078),F=n(38345),E=n(97269),Y=n(2236),s=n(5966),R=n(24739),T=n(97462),h=n(30291),z=n(92398),r=n(38925),t=n(67294),X=n(35880),ee=n(78099),P=n(62370),w=n(85265),U=n(42075),ue=n(96074),N=n(28036),de=n(83062),le=n(3393),L=n(18148),pe=n(5251),ge=n(64789),ne=n(85060),Ie=n(28307),he=n(78451),Te=n(99861),we=n(80821),e=n(85893);function Oe(m){var M=(0,t.useState)(!1),A=x()(M,2),W=A[0],v=A[1],D=(0,t.useRef)(),d=(0,t.useContext)(X.Z),f=d.createFormRef,I=d.volumeListRef,k=d.createEnvRef,i=d.domainRef,o=(0,t.useRef)(),g=function(){var _=B()(c()().mark(function C(l){var p,V,q,Z,Be,re,y,a,G,u,ie,ve;return c()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,(0,le.YU)({md5:l});case 2:return Z=K.sent,m.redeploy||(a=(Be=f.current)===null||Be===void 0?void 0:Be.getFieldsValue(),(re=f.current)===null||re===void 0||re.resetFields(),(y=f.current)===null||y===void 0||y.setFieldsValue({siteName:a.siteName,siteTitle:a.siteTitle,useBridgeNetwork:a.useBridgeNetwork})),Z.data.info.Config.Env&&Z.data.info.Config.Env.map(function(Pe){var se,De=Pe.split("=");(se=k.current)===null||se===void 0||se.addEnvItem(De[0],De.slice(1).join("="))}),(p=f.current)===null||p===void 0||p.setFieldValue("imageName",l),(V=f.current)===null||V===void 0||V.setFieldValue("workDir",Z.data.info.Config.WorkingDir),(q=i.current)===null||q===void 0||q.setExposePort(Z.data.info.Config.ExposedPorts),m.redeploy||(Z.data.info.Config.Volumes?(ie=[],Object.keys(Z.data.info.Config.Volumes).map(function(Pe,se){ie.push(Pe)}),(u=I.current)===null||u===void 0||u.setDefaultDestPath(ie)):(ve=I.current)===null||ve===void 0||ve.setDefaultDestPath([]),(G=f.current)===null||G===void 0||G.setFieldsValue({workDir:{value:"",useDefault:!0,default:Z.data.info.Config.WorkingDir},user:{value:"",useDefault:!0,default:Z.data.info.Config.User},command:{value:"",useDefault:!0,default:Z.data.info.Config.Cmd&&Z.data.info.Config.Cmd.join(" ")},entrypoint:{value:"",useDefault:!0,default:Z.data.info.Config.Entrypoint&&Z.data.info.Config.Entrypoint.join(" ")}})),K.abrupt("return",!0);case 10:case"end":return K.stop()}},C)}));return function(l){return _.apply(this,arguments)}}();return(0,t.useEffect)(function(){m.fromImageId&&g(m.fromImageId)},[m.fromImageId]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(w.Z,{open:W,width:800,title:"\u9009\u62E9\u955C\u50CF",footer:!1,onClose:function(){return v(!1)},children:(0,e.jsx)(ee.Z,{scroll:{x:"max-content"},columns:[{title:"Id",dataIndex:"Id",search:!1,width:80,render:function(C,l,p,V,q){return(0,e.jsx)(he.Z,{content:l.Id.slice(7,19)})}},{title:"\u955C\u50CF\u540D\u79F0",dataIndex:"tag",width:200,render:function(C,l,p,V){return(0,e.jsx)(he.Z,{content:l.RepoTags[0]})}},{title:"\u521B\u5EFA\u65E5\u671F",dataIndex:"Created",search:!1,width:100,render:function(C,l,p,V){return(0,e.jsx)("div",{children:(0,pe.ZM)(l.Created*1e3)},l.Id)},sorter:function(C,l){return C.Created-l.Created}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:50,render:function(C,l,p,V){return(0,e.jsx)(U.Z,{split:(0,e.jsx)(ue.Z,{type:"vertical"}),children:(0,e.jsx)(we.Z,{icon:(0,e.jsx)(ge.Z,{}),tips:"\u4F7F\u7528\u955C\u50CF",action:function(){return g(l.RepoTags[0])},type:"link",onSuccess:function(){var Z;v(!1),(Z=I.current)===null||Z===void 0||Z.initImageRootfs(l.RepoTags[0])}},"addImage")})}}],request:function(){var _=B()(c()().mark(function C(l,p,V){var q,Z,Be,re,y;return c()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return m.redeploy&&(Z=(q=f.current)===null||q===void 0?void 0:q.getFieldValue("imageName"),l.tag=Z?Z.split(":")[0]:l.tag),G.next=3,(0,L.KG)({tag:l.tag});case 3:return Be=G.sent,re=0,y=[],Be.data.list&&(y=Be.data.list.flatMap(function(u){return u.RepoTags.map(function(ie){return{Key:re++,Id:u.Id,Created:u.Created,RepoTags:[ie]}})})),G.abrupt("return",{data:y,success:!0,total:y.length});case 8:case"end":return G.stop()}},C)}));return function(C,l,p){return _.apply(this,arguments)}}(),formRef:D,rowKey:"Key",pagination:{pageSize:8}})},"imageTableList"),(0,e.jsxs)(U.Z.Compact,{children:[(0,e.jsx)(s.Z,{width:"lg",label:"\u955C\u50CF",tooltip:m.redeploy?"\u66F4\u65B0\u5BB9\u5668\u65F6,\u53EA\u53EF\u4EE5\u9009\u62E9\u8BE5\u955C\u50CF\u4E0B\u7684\u4E0D\u540Ctag.\u4E5F\u53EF\u4EE5\u5F3A\u5236\u66F4\u65B0\u5DF2\u90E8\u7F72tag,\u66F4\u6B21\u90E8\u7F72":"\u65B0\u5EFA\u5BB9\u5668\u65F6,\u53EF\u4EE5\u4F7F\u7528\u672C\u5730\u955C\u50CF,\u4E5F\u53EF\u4EE5\u4E0B\u8F7D\u5168\u65B0\u7684\u955C\u50CF\u6216\u662F\u66F4\u65B0\u672C\u5730\u955C\u50CF\u7684tag",name:"imageName",disabled:!0,placeholder:"\u8BF7\u9009\u62E9\u955C\u50CF\uFF0C\u5982\u679C\u662F\u8FDC\u7A0B\u955C\u50CF\u8BF7\u5148\u4E0B\u8F7D",rules:[{required:!0}],required:!0}),(0,e.jsx)(P.Z,{label:" ",children:(0,e.jsx)(N.ZP,{type:"primary",onClick:function(){return v(!0)},children:"\u9009\u62E9\u955C\u50CF"},"showBtn")}),(0,e.jsx)(T.Z,{name:["imageName"],children:function(C){var l=C.imageName;if(l)return(0,e.jsx)(P.Z,{label:" ",children:(0,e.jsx)(Te.Z,{finishAutoHide:!0,image:l?[l]:[],trigger:(0,e.jsx)(de.Z,{title:"\u91CD\u65B0\u62C9\u53D6\u5F53\u524D\u955C\u50CF",children:(0,e.jsx)(N.ZP,{icon:(0,e.jsx)(ne.Z,{}),children:"\u66F4\u65B0\u5F53\u524D\u955C\u50CF"})})})})}}),(0,e.jsx)(P.Z,{label:" ",children:(0,e.jsx)(Ie.Z,{onClick:function(){v(!1)},ref:o,onFinish:function(C){g(C)}},"remote")})]})]})}var Me=n(60335),Le=n(51042),H=n(63434),b=n(17186),te=n(25593),oe=n(92067),ae=(0,t.forwardRef)(function(m,M){var A=(0,t.useState)(!1),W=x()(A,2),v=W[0],D=W[1],d=(0,t.useRef)(),f=function(i){var o=(0,t.useState)([]),g=x()(o,2),_=g[0],C=g[1];return(0,t.useEffect)(function(){(0,Me.jV)({md5:i.name}).then(function(l){var p;return C((p=l.data.info.Config.Env)!==null&&p!==void 0?p:[]),!0})},[]),(0,e.jsxs)(F.Z,{bordered:!0,extra:i.action,style:{marginBottom:10},children:[(0,e.jsx)(F.Z,{title:"\u5173\u8054\u4FE1\u606F",children:(0,e.jsxs)(R.UW,{children:[(0,e.jsx)(s.Z,{label:"\u5BB9\u5668\u540D\u79F0",name:"name",width:"md",readonly:!0}),(0,e.jsx)(s.Z,{label:"\u8BBF\u95EEHostName",name:"alise",width:"md",readonly:!0,tooltip:"\u901A\u8FC7\u914D\u7F6E\u6B64\u540D\u79F0\uFF0C\u5728\u5BB9\u5668\u5185\u90E8\u8FDB\u884C\u8BF7\u6C42\u8BBF\u95EE",hidden:!0}),(0,e.jsx)(P.Z,{label:"\u8BBF\u95EEHostName",tooltip:"\u901A\u8FC7\u914D\u7F6E\u6B64\u540D\u79F0\uFF0C\u5728\u5BB9\u5668\u5185\u90E8\u8FDB\u884C\u8BF7\u6C42\u8BBF\u95EE",children:(0,e.jsx)(te.Z.Text,{copyable:!0,children:i.record.alise})}),(0,e.jsx)(H.Z,{label:"\u5173\u8054\u5B58\u50A8",name:"volume"})]})}),(0,e.jsx)(F.Z,{title:"\u73AF\u5883\u53D8\u91CF",children:(0,e.jsx)(U.Z,{direction:"vertical",children:_&&_.map(function(l,p){return(0,e.jsx)(te.Z.Text,{copyable:{icon:(0,e.jsx)(Le.Z,{}),onCopy:function(){var q=l.split("=");m.onAddEnv(q[0],q[1])},tooltips:["add env","success"]},code:!0,ellipsis:{tooltip:l},style:{width:300},children:l},p)})},"linkEnv")})]})},I=function(i){var o,g,_=!1,C=(o=(g=d.current)===null||g===void 0?void 0:g.getList())!==null&&o!==void 0?o:[];if(C.map(function(p){p.name==i.name&&(_=!0)}),!_){var l;(l=d.current)===null||l===void 0||l.add(i)}};return(0,t.useImperativeHandle)(M,function(){return{setDefaultLink:function(i){i&&i.map(function(o){o.name!=""&&I(o)})}}}),(0,e.jsxs)(F.Z,{title:"\u5173\u8054\u5BB9\u5668",headerBordered:!0,children:[(0,e.jsx)(b.u,{name:"links",actionRef:d,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5173\u8054"},actionGuard:{beforeAddRow:function(i,o){return D(!0),!1}},copyIconProps:!1,min:0,itemRender:function(i,o){return(0,e.jsx)(f,{action:i.action,name:o.record.name,record:o.record})}}),(0,e.jsx)(w.Z,{title:"\u9009\u62E9\u5BB9\u5668",width:800,footer:!1,open:v,onClose:function(){return D(!1)},children:(0,e.jsx)(oe.Z,{onSelect:function(i){I({name:(0,pe.fi)(i.Name,"/"),alise:"".concat(i.Config.Hostname,".").concat(i.Config.Domainname),volume:!1}),D(!1)}})})]})}),_e=ae,me=n(91058),ce=n(64317),je=n(1413),be=n(45987),Re=n(35510),Ye=["fieldProps","request","params","proFieldProps"],ze=function(M,A){var W=M.fieldProps,v=M.request,D=M.params,d=M.proFieldProps,f=(0,be.Z)(M,Ye);return(0,e.jsx)(Re.Z,(0,je.Z)({valueType:"treeSelect",fieldProps:W,ref:A,request:v,params:D,filedConfig:{customLightMode:!0},proFieldProps:d},f))},Xe=t.forwardRef(ze),Je=Xe,Qe=n(53102),qe=(0,t.forwardRef)(function(m,M){var A=(0,t.useRef)(),W=(0,t.useContext)(X.Z),v=W.createFormRef,D=(0,t.useState)(),d=x()(D,2),f=d[0],I=d[1];(0,t.useImperativeHandle)(M,function(){return{setDefaultDestPath:function(o){var g,_,C=(g=(_=A.current)===null||_===void 0?void 0:_.getList())!==null&&g!==void 0?g:[];o.length!=0&&o.filter(function(l){return l!=""}).map(function(l){var p=!1;if(C.map(function(q){if(q.dest==l){p=!0;return}}),!p){var V;(V=A.current)===null||V===void 0||V.add({dest:l,permission:"write",inImage:!0})}})},addUserVolumeItem:function(o,g){var _,C=(_=A.current)===null||_===void 0?void 0:_.getList(),l=!1;if(C==null||C.map(function(V){if(V.dest==g){l=!0;return}}),!l){var p;(p=A.current)===null||p===void 0||p.add({host:o,dest:g})}},initImageRootfs:k}});var k=function(){var i=B()(c()().mark(function o(g){var _,C;return c()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!f){p.next=2;break}return p.abrupt("return");case 2:if(g){p.next=4;break}return p.abrupt("return");case 4:return p.next=6,(0,le.cD)({md5:g});case 6:_=p.sent,C={title:"/",value:"/",children:[]},_.data.list.map(function(V){var q=C;V.split("/").map(function(Z,Be,re){var y;if(Z){var a=(y=q.children)===null||y===void 0?void 0:y.find(function(G){return G.title===Z});a||(a={title:Z,value:re.join("/"),children:[]},q.children?q.children.push(a):q.children=[a]),q=a}})}),C.children&&I(C.children);case 10:case"end":return p.stop()}},o)}));return function(g){return i.apply(this,arguments)}}();return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(F.Z,{title:"\u81EA\u5B9A\u4E49\u6302\u8F7D\u6216\u662F\u5B58\u50A8\u5377",tooltip:"\u6302\u8F7D\u53EF\u4EE5\u662F\u5BBF\u4E3B\u673A\u7684\u76EE\u5F55\u6216\u662F\u6587\u4EF6\uFF0C\u4E5F\u53EF\u4EE5\u6307\u5B9A\u5B58\u50A8\u5377\u540D\uFF08\u81EA\u52A8\u65B0\u5EFA\uFF09\u3002",headerBordered:!0,direction:"column",children:(0,e.jsx)(b.u,{actionRef:A,name:"volumes",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u6620\u5C04\u76EE\u5F55"},copyIconProps:!1,min:0,children:function(o,g,_){var C,l=_.getCurrentRowData();return(0,e.jsxs)(R.UW,{children:[(0,e.jsxs)(U.Z.Compact,{children:[(0,e.jsx)(s.Z,{label:"\u5BBF\u4E3B\u673A\u6587\u4EF6\u3001\u76EE\u5F55\u6216\u5B58\u50A8\u5377",name:"host",width:m.showInDrawer?"sm":"md"}),(0,e.jsx)(ce.Z,{label:" ",valueEnum:{write:"\u8BFB\u5199",readonly:"\u53EA\u8BFB"},initialValue:"write",name:"permission"})]}),(0,e.jsxs)(U.Z.Compact,{children:[(0,e.jsx)(s.Z,{label:"\u5BB9\u5668\u5185\u8DEF\u5F84",name:"dest",width:m.showInDrawer?"sm":"md",required:!0,rules:[{required:!0}],disabled:m.disabledUserVolumeDest||l.inImage}),!m.disabledUserVolumeDest&&!l.inImage&&((C=v.current)===null||C===void 0?void 0:C.getFieldValue)&&v.current.getFieldValue("imageName")&&(0,e.jsx)(Qe.Z,{targetClassName:"ant-select-tree",children:(0,e.jsx)(Je,{label:" ",width:"sm",placeholder:"\u9009\u62E9\u5BB9\u5668\u5185\u76EE\u5F55",fieldProps:{loading:!f,popupMatchSelectWidth:500,placement:"topLeft",treeLine:!0,showSearch:!0,onChange:function(V,q,Z){_.setCurrentRowData({dest:V})},treeData:f}},"abc4")})]})]})}})})})}),en=qe,nn=n(2831),Ce=n(52688),Ve=n(86125),tn=n(71230),Ke=n(15746),un=n(44349);function an(m){var M,A=(0,t.useState)(),W=x()(A,2),v=W[0],D=W[1];return(0,t.useEffect)(function(){(0,nn.aF)().then(function(d){return D(d.data.info)})},[]),(0,e.jsxs)(F.Z,{children:[(0,e.jsx)(s.Z,{label:"\u5171\u4EAB\u5185\u5B58\u5927\u5C0F - /dev/shm",name:"shmsize",initialValue:"64M",tooltip:"0 \u4E3A\u4F7F\u7528\u9ED8\u8BA464M\uFF0C\u914D\u7F6E\u65F6\u8BF7\u9644\u52A0\u5355\u4F4D\uFF0C\u4F8B\u5982\uFF1A1G"}),(0,e.jsx)(P.Z,{label:"\u6700\u5927Cpu\u914D\u989D",name:"cpus",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(Ve.Z,{step:.1,max:v==null?void 0:v.NCPU,marks:{0:"0",.5:"0.5\u6838",1:"1\u6838",1.5:"1.5\u6838",2:"2\u6838",4:"4\u6838",6:"6\u6838",8:"8\u6838"}})}),(0,e.jsx)(P.Z,{label:"\u6700\u5927\u5185\u5B58\u914D\u989D",name:"memory",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(Ve.Z,{step:256,max:Math.round(((M=v==null?void 0:v.MemTotal)!==null&&M!==void 0?M:0)/1024/1024),marks:{0:"0",1024:"1G",2048:"2G",3072:"3G",4096:"4G"}})}),(0,e.jsx)(ce.Z,{label:"\u65E5\u5FD7\u7C7B\u578B",name:["log","driver"],tooltip:"\u9ED8\u8BA4\u4F7F\u7528 json-file \u9A71\u52A8\u7531 docker \u7EDF\u4E00\u7BA1\u7406\u3002\u91C7\u7528 journal \u65F6\u65E5\u5FD7\u5C06\u6765\u5BBF\u4E3B\u673A\u7BA1\u7406",initialValue:"json-file",valueEnum:{"json-file":"json-file",journald:"journal (\u5BBF\u4E3B\u9700\u8981\u5B89\u88C5journal\u670D\u52A1)"}}),(0,e.jsx)(T.Z,{name:["log"],children:function(f){var I=f.log;if(I.driver=="json-file")return(0,e.jsxs)(R.UW,{children:[(0,e.jsx)(s.Z,{label:"\u65E5\u5FD7\u5207\u5272\u5927\u5C0F",name:["log","maxSize"],placeholder:"\u4F8B\u5982\uFF1A10k,5M",tooltip:"\u9ED8\u8BA4 Docker \u5E76\u4E0D\u4F1A\u81EA\u52A8\u5207\u5272\u65E5\u5FD7"}),(0,e.jsx)(s.Z,{tooltip:"\u9ED8\u8BA4 Docker \u5E76\u4E0D\u4F1A\u81EA\u52A8\u6E05\u7406\u65E5\u5FD7\u6587\u4EF6",label:"\u4FDD\u7559\u65E5\u5FD7\u6587\u4EF6\u6570",name:["log","maxFile"],placeholder:"\u4F8B\u5982\uFF1A10"})]})}}),(0,e.jsx)(un.Z,{name:"device",label:"\u5173\u8054\u8BBE\u5907",hideCopyButton:!0,showAddButton:!0,items:[{label:"\u5BBF\u4E3B\u673A\u8DEF\u5F84",name:"host",width:"md",placeholder:"\u4F8B\u5982\uFF1A/dev/tty0"},{label:"\u5BB9\u5668\u5185\u8DEF\u5F84",name:"dest",width:"md",placeholder:"\u4F8B\u5982\uFF1A/dev/tty0"}]}),(0,e.jsxs)(tn.Z,{children:[(0,e.jsx)(Ke.Z,{span:4,children:(0,e.jsx)(Ce.Z,{label:"\u4F7F\u7528 Gpu",name:["gpus","enable"]})}),(0,e.jsx)(Ke.Z,{span:20,children:(0,e.jsx)(T.Z,{name:["gpus"],children:function(f){var I=f.gpus;if(I&&I.enable)return(0,e.jsx)(ce.Z,{mode:"tags",label:"\u8BBE\u5907\u5217\u8868",name:["gpus","device"],placeholder:"\u914D\u7F6E\u4F7F\u7528\u8BBE\u5907id\u6216\u662Fuuid\uFF0C\u4E0D\u586B\u6240\u4E3A\u6240\u6709\u8BBE\u5907"})}})})]}),(0,e.jsx)(T.Z,{name:["gpus"],children:function(f){var I=f.gpus;if(I&&I.enable)return(0,e.jsx)(ce.Z,{label:"\u8BA1\u7B97\u80FD\u529B",name:["gpus","capabilities"],mode:"multiple",fieldProps:{allowClear:!0},options:[{label:"compute - \u8BA1\u7B97\u80FD\u529B",value:"compute"},{label:"compat32 - \u517C\u5BB932\u4F4D",value:"compat32"},{label:"graphics - \u56FE\u5F62\u5904\u7406\u80FD\u529B",value:"graphics"},{label:"utility - \u76D1\u63A7\u548C\u7BA1\u7406\u80FD\u529B",value:"utility"},{label:"video - \u89C6\u9891\u5904\u7406\u80FD\u529B",value:"video"},{label:"display - \u663E\u793A\u56FE\u5F62\u754C\u9762\u80FD\u529B",value:"display"}]})}})]})}function rn(){return(0,e.jsx)(F.Z,{title:"\u5BB9\u5668\u6807\u7B7E",children:(0,e.jsx)(b.u,{name:"label",label:"",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BB9\u5668\u6807\u7B7E"},copyIconProps:!1,min:0,children:(0,e.jsxs)(R.UW,{children:[(0,e.jsx)(s.Z,{width:"md",name:"name",label:"\u540D\u79F0",placeholder:""}),(0,e.jsx)(s.Z,{width:"md",name:"value",label:"\u503C",placeholder:""})]})})})}var on=n(44771),ln=n(86615),An="default",In="user";function sn(m){return(0,e.jsx)(P.Z,{label:m.label,tooltip:m.tooltip,children:(0,e.jsxs)(U.Z.Compact,{block:!0,children:[(0,e.jsx)(ln.Z.Group,{radioType:"button",name:[m.name,"useDefault"],options:[{label:"\u4F7F\u7528\u9ED8\u8BA4",value:!0},{label:"\u81EA\u5B9A\u4E49",value:!1}]}),(0,e.jsx)(T.Z,{name:[m.name],children:function(A){return A[m.name]&&A[m.name].useDefault?(0,e.jsx)(s.Z,{name:[m.name,"default"],disabled:!0,placeholder:"\u672A\u8BBE\u7F6E"}):(0,e.jsx)(s.Z,{name:[m.name,"value"]})}})]})})}var Ze=sn,ye=n(24963);function dn(){var m=(0,t.useContext)(ye.Z),M=m.message,A=m.lang;return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(F.Z,{children:[(0,e.jsx)(on.Z,{label:"\u91CD\u542F\u7B56\u7565"}),(0,e.jsxs)(R.UW,{children:[(0,e.jsx)(Ce.Z,{fieldProps:{onChange:function(v){v&&M.warning(A("app.create.privilegedNotice"))}},name:"privileged",tooltip:"--privileged",label:"\u8D4B\u4E88\u5BB9\u5668Root\u6743\u9650",initialValue:!1}),(0,e.jsx)(Ce.Z,{name:"autoRemove",tooltip:"--rm",label:"\u505C\u6B62\u540E\u81EA\u52A8\u5220\u9664",initialValue:!1}),(0,e.jsx)(Ce.Z,{fieldProps:{onChange:function(v){v&&M.warning(A("app.create.hostPidNotice"))}},tooltip:"--pid host",name:"hostPid",label:"\u5173\u8054\u5BBF\u4E3B\u673APid",initialValue:!1})]}),(0,e.jsx)(Ze,{label:"\u5DE5\u4F5C\u76EE\u5F55",tooltip:"\u9ED8\u8BA4\u4F7F\u7528\u955C\u50CF\u4E2D\u6307\u5B9A\u7684\u5DE5\u4F5C\u76EE\u5F55",name:"workDir"}),(0,e.jsx)(Ze,{label:"User",tooltip:"\u5728\u5BB9\u5668\u4E2D\u8FD0\u884C\u547D\u4EE4\u7684\u7528\u6237",name:"user"}),(0,e.jsx)(Ze,{label:"Command",tooltip:"\u542F\u52A8\u5BB9\u5668\u65F6\u8FD0\u884C\u7684\u547D\u4EE4\uFF0C\u4EE5\u7A7A\u683C\u5206\u9694",name:"command"}),(0,e.jsx)(Ze,{label:"Entrypoint",tooltip:"\u65E0\u6CD5\u8986\u76D6\u955C\u50CF\u4E2D\u5DF2\u7ECF\u6307\u5B9A\u7684 Entrypoint \u547D\u4EE4",name:"entrypoint"})]})})}var cn=n(91845),He=n(62597),Ge=n(82346),mn=n(46442),vn=(0,t.forwardRef)(function(m,M){var A=(0,t.useRef)(),W=(0,t.useRef)();(0,t.useImperativeHandle)(M,function(){return{}});var v=function(d){var f,I,k=!1,i=(f=(I=A.current)===null||I===void 0?void 0:I.getList())!==null&&f!==void 0?f:[];if(i.map(function(g){g.name==d.name&&(k=!0)}),!k){var o;(o=A.current)===null||o===void 0||o.add(d)}};return(0,e.jsxs)(F.Z,{title:"\u5173\u8054\u7F51\u7EDC",headerBordered:!0,extra:(0,e.jsx)(U.Z,{children:m.showUseBridgeNetwork&&(0,e.jsx)(Ce.Z,{name:"useBridgeNetwork",fieldProps:{checkedChildren:"\u5173\u8054 Bridge \u7F51\u7EDC",unCheckedChildren:"\u5173\u8054 Bridge \u7F51\u7EDC"}},"useBridgeNetwork")}),children:[(0,e.jsx)(b.u,{name:"network",actionRef:A,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u7F51\u7EDC"},actionGuard:{beforeAddRow:function(d,f){var I;return(I=W.current)===null||I===void 0||I.show(),!1}},copyIconProps:!1,min:0,itemRender:function(d,f){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(R.UW,{children:[(0,e.jsx)(s.Z,{label:"\u7F51\u7EDC\u540D\u79F0",name:"name",width:"md",disabled:!0,fieldProps:{value:f.record.name}}),(0,e.jsx)(P.Z,{label:"\u8BBF\u95EEHostname",name:"alise",children:f.record.alise!=""&&(0,e.jsx)(te.Z.Text,{code:!0,copyable:!0,children:f.record.alise})}),(0,e.jsx)(P.Z,{label:" ",children:d.action})]}),(0,e.jsx)(R.UW,{children:(0,e.jsx)(s.Z,{label:"\u6307\u5B9AIpV4",name:"ipV4",width:"md",disabled:f.record.name=="bridge",fieldProps:{addonAfter:f.record.subnet}})})]})}}),(0,e.jsx)(mn.Z,{ref:W,onSelect:function(d){v({name:d.Name,alise:[""],subnet:d.IPAM.Config[0].Subnet})}})]})}),fn=vn,hn=(0,t.forwardRef)(function(m,M){var A=(0,t.useState)(""),W=x()(A,2),v=W[0],D=W[1],d=(0,t.useRef)(),f=(0,t.useContext)(X.Z),I=f.createFormRef;return(0,t.useImperativeHandle)(M,function(){return{setExposePort:function(i){if(i){var o,g,_=(o=(g=d.current)===null||g===void 0?void 0:g.getList())!==null&&o!==void 0?o:[];Object.keys(i).map(function(C){var l=!1;if(_.map(function(V){V.dest==C&&(l=!0)}),!l){var p;(p=d.current)===null||p===void 0||p.add({host:"",dest:C})}})}},setHostname:function(i){D(i)},addPortItem:function(i,o){var g,_=(g=d.current)===null||g===void 0?void 0:g.getList(),C=!1;if(_==null||_.map(function(p){if(p.host==i){C=!0;return}}),!C){var l;(l=d.current)===null||l===void 0||l.add({host:String(i),dest:String(o)})}}}}),(0,e.jsx)(F.Z,{title:"\u7ED1\u5B9A\u7AEF\u53E3",tooltip:"\u8BBF\u95EE\u7AEF\u53E3\u7559\u7A7A\u65F6\u968F\u673A\u751F\u6210\u7AEF\u53E3\uFF0C\u5168\u90E8\u5220\u9664\u5219\u8868\u793A\u4E0D\u66B4\u9732\u7AEF\u53E3",headerBordered:!0,extra:(0,e.jsxs)(U.Z,{children:[m.showBindHost&&(0,e.jsx)(Ce.Z,{name:"useHostNetwork",fieldProps:{checkedChildren:"\u7ED1\u5B9AHost\u7F51\u7EDC",unCheckedChildren:"\u7ED1\u5B9AHost\u7F51\u7EDC",onChange:function(i){if(i){var o;(o=I.current)===null||o===void 0||o.setFieldsValue({bindIpV6:!1,publishAllPorts:!1})}}}}),m.showBindIpV6&&(0,e.jsx)(T.Z,{name:["siteName","useHostNetwork"],children:function(i){var o=i.useHostNetwork;return(0,e.jsx)(Ce.Z,{name:"publishAllPorts",fieldProps:{checkedChildren:"\u7ED1\u5B9A\u5168\u90E8\u7AEF\u53E3",unCheckedChildren:"\u7ED1\u5B9A\u5168\u90E8\u7AEF\u53E3"},disabled:o},"publishAllPorts")}}),m.showBindIpV6&&(0,e.jsx)(T.Z,{name:["siteName","useHostNetwork"],children:function(i){var o=i.useHostNetwork;return(0,e.jsx)(Ce.Z,{name:"bindIpV6",fieldProps:{checkedChildren:"IpV6",unCheckedChildren:"IpV6"},disabled:o},"bindIpV6")}})]}),children:(0,e.jsx)(T.Z,{name:["useHostNetwork","bindIpV6","publishAllPorts"],children:function(i){var o=i.useHostNetwork,g=i.bindIpV6,_=i.publishAllPorts;if(!o&&!_)return(0,e.jsx)(b.u,{name:"ports",actionRef:d,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BF9\u5916\u90E8\u8BBF\u95EE"},min:0,copyIconProps:!1,children:(0,e.jsxs)(R.UW,{children:[(0,e.jsx)(s.Z,{width:m.showInDrawer?"sm":"md",name:"host",label:"\u5916\u90E8\u8BBF\u95EE\u7AEF\u53E3",tooltip:"\u5BF9\u5916\u8BBF\u95EE\u53EF\u4EE5\u901A\u8FC7\u6DFB\u52A0\u8BBF\u95EE\u7AEF\u53E3\u6216\u662F\u521B\u5EFA\u5B8C\u6210\u540E\u5BF9\u5BB9\u5668\u7ED1\u5B9A\u57DF\u540D",placeholder:"\u7559\u7A7A\u5C06\u4F7F\u7528\u968F\u673A\u7AEF\u53E3\uFF0C\u7ED1\u5B9AIpV6\u5FC5\u586B",required:g,rules:[{required:g}]}),(0,e.jsx)(s.Z,{label:"\u5BB9\u5668\u5185\u7AEF\u53E3",width:m.showInDrawer?"sm":"md",name:"dest",placeholder:"\u6784\u5EFA\u65F6 Expose \u6307\u5B9A\u7684\u7AEF\u53E3",required:!0,rules:[{required:!0}]})]})})}})})}),_n=hn,xe=n(52255);function En(){var m=(0,t.useRef)(),M=function(v){var D,d,f=!1,I=(D=(d=m.current)===null||d===void 0?void 0:d.getList())!==null&&D!==void 0?D:[];if(I.map(function(i){i.name==v.name&&(f=!0)}),!f){var k;(k=m.current)===null||k===void 0||k.add(v)}},A=function(v){var D,d,f=!1,I=(D=(d=m.current)===null||d===void 0?void 0:d.getList())!==null&&D!==void 0?D:[];I.map(function(k,i){if(k.name==v){var o;(o=m.current)===null||o===void 0||o.remove(i)}})};return(0,e.jsx)(F.Z,{title:"\u5173\u8054\u5BBF\u4E3B\u673A\u7F51\u7EDC\u5185\u4E3B\u673A",tooltip:"\u5BB9\u5668\u5185\u5982\u679C\u9700\u8981\u8BF7\u6C42\u5BBF\u4E3B\u673A\u6240\u5728\u7684\u7F51\u7EDC\u4E2D\u7684\u4E3B\u673A\uFF0C\u53EF\u4EE5\u901A\u8FC7\u6B64\u914D\u7F6E\u5C06Ip\u6CE8\u5165\u5230\u5BB9\u5668\u4E2D",extra:(0,e.jsx)(U.Z,{children:(0,e.jsx)(Ce.Z,{name:"enableBindHost",fieldProps:{checkedChildren:"\u7ED1\u5B9A\u5BBF\u4E3B\u673AIp",unCheckedChildren:"\u7ED1\u5B9A\u5BBF\u4E3B\u673AIp",onChange:function(v){v?M({name:"host.dpanel.local",value:"host-gateway"}):A("host.dpanel.local")}}})}),children:(0,e.jsx)(b.u,{name:"extraHosts",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BBF\u4E3B\u673A\u7F51\u7EDC\u5173\u8054"},actionRef:m,copyIconProps:!1,min:0,children:(0,e.jsxs)(R.UW,{children:[(0,e.jsx)(s.Z,{width:"md",name:"name",label:"Hostname",placeholder:""}),(0,e.jsx)(s.Z,{width:"md",name:"value",label:"ip",placeholder:""})]})})})}var Se=n(90672),pn=(0,t.forwardRef)(function(m,M){return(0,t.useImperativeHandle)(M,function(){return{}}),(0,e.jsxs)(F.Z,{title:"\u7F51\u7EDC\u914D\u7F6E",children:[(0,e.jsxs)(R.UW,{children:[(0,e.jsx)(s.Z,{label:"\u914D\u7F6E ipV4 \u5730\u5740",name:["ipV4","address"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u5730\u5740\uFF0C\u4F8B\u5982 192.168.1.5",placeholder:"192.168.1.5"}),(0,e.jsx)(T.Z,{name:["ipV4"],children:function(W){var v=W.ipV4;return(0,e.jsx)(s.Z,{label:"\u914D\u7F6E ipV4 \u5B50\u7F51",name:["ipV4","subnet"],width:"md",required:v&&v.address,tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u6240\u5728\u7684\u5B50\u7F51\uFF0C\u4F8B\u5982 192.168.1.0/24",placeholder:"192.168.1.0/24",rules:[{required:v&&v.address}]})}}),(0,e.jsx)(s.Z,{label:"\u914D\u7F6E ipV4 \u7F51\u5173",name:["ipV4","gateway"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u7684\u7F51\u5173\uFF0C\u4F8B\u5982 192.168.1.1",placeholder:"192.168.1.1"}),(0,e.jsx)(Ce.Z,{label:"\u81EA\u5B9A\u4E49ipV6",name:"enableIpV6Address"})]}),(0,e.jsx)(T.Z,{name:["enableIpV6Address"],children:function(W){var v=W.enableIpV6Address;if(v)return(0,e.jsxs)(R.UW,{children:[(0,e.jsx)(s.Z,{label:"\u914D\u7F6E ipV6 \u5730\u5740",name:["ipV6","address"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipV6\u5730\u5740\uFF0C\u4F8B\u5982 2001:db8::5",placeholder:"2001:db8::5"}),(0,e.jsx)(T.Z,{name:["ipV6"],children:function(d){var f=d.ipV6;return(0,e.jsx)(s.Z,{label:"\u914D\u7F6E ipV6 \u5B50\u7F51",name:["ipV6","subnet"],width:"md",required:f&&f.address,tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u6240\u5728\u7684\u5B50\u7F51\uFF0C\u4F8B\u5982 2001:db8::/48",placeholder:"2001:db8::/48",rules:[{required:f&&f.address}]})}}),(0,e.jsx)(s.Z,{label:"\u914D\u7F6E ipV6 \u7F51\u5173",name:["ipV6","gateway"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipV6\u7684\u7F51\u5173\uFF0C\u4F8B\u5982 2001:db8::1",placeholder:"2001:db8::1"})]})}}),(0,e.jsx)(Se.Z,{label:"DNS\u914D\u7F6E",name:"dns",placeholder:"\u8BF7\u6307\u5B9Adns\u5730\u5740\uFF0C\u4F8B\u5982\uFF1A8.8.8.8\uFF0C\u4E00\u884C\u6DFB\u4E00\u6761dns\u5730\u5740"})]})}),Cn=pn,Ue=n(31199),Fn=n(86250);function gn(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(F.Z,{title:"\u9644\u52A0\u6267\u884C\u811A\u672C",headerBordered:!0,subTitle:"",children:(0,e.jsx)(Se.Z,{label:"\u5BB9\u5668\u521B\u5EFA\u540E\u6267\u884C\u811A\u672C",name:["hook","containerCreate"],placeholder:"\u5BB9\u5668\u5728\u521B\u5EFA\u540E\u6267\u884C\u7684\u811A\u672C\uFF0C\u6B64\u811A\u672C\u5E76\u4E0D\u4F1A\u5F71\u54CD entrypoint \u53CA command\u3002\u4F8B\u5982\uFF1Als -al && touch abc.txt && apt update"})}),(0,e.jsxs)(F.Z,{title:"\u5065\u5EB7\u68C0\u67E5",headerBordered:!0,children:[(0,e.jsxs)(Fn.Z,{gap:20,justify:"start",children:[(0,e.jsx)(Ue.Z,{label:"\u91CD\u590D\u95F4\u9694\u65F6\u95F4\uFF08\u79D2\uFF09",name:["healthcheck","interval"],initialValue:30}),(0,e.jsx)(Ue.Z,{label:"\u8D85\u65F6\u5931\u8D25\u65F6\u95F4\uFF08\u79D2\uFF09",name:["healthcheck","timeout"],initialValue:10}),(0,e.jsx)(Ue.Z,{label:"\u5931\u8D25\u91CD\u590D\u6B21\u6570",name:["healthcheck","retries"],initialValue:3}),(0,e.jsx)(ce.Z,{width:"sm",label:"\u811A\u672C\u6267\u884C\u73AF\u5883",initialValue:"CMD",name:["healthcheck","shellType"],valueEnum:{CMD:"\u5728 Docker \u73AF\u5883\u6267\u884C","CMD-SHELL":"\u5728\u5BB9\u5668\u5185\u6267\u884C"}})]}),(0,e.jsx)(Se.Z,{label:"\u6267\u884C\u811A\u672C",name:["healthcheck","cmd"],placeholder:"\u914D\u7F6E\u5BB9\u5668\u5065\u5EB7\u68C0\u67E5\u811A\u672C\uFF0C\u4F8B\u5982\uFF1Acurl -f http://localhost:8080/ || exit 1"})]})]})}var Bn=n(74763),$e=n(2487),jn=[{name:"ALL"},{name:"AUDIT_CONTROL"},{name:"AUDIT_WRITE",default:!0},{name:"BLOCK_SUSPEND"},{name:"CHOWN",default:!0},{name:"DAC_OVERRIDE",default:!0},{name:"DAC_READ_SEARCH"},{name:"FOWNER",default:!0},{name:"FSETID",default:!0},{name:"IPC_LOCK"},{name:"IPC_OWNER"},{name:"KILL",default:!0},{name:"LEASE"},{name:"LINUX_IMMUTABLE"},{name:"MAC_ADMIN"},{name:"MAC_OVERRIDE"},{name:"MKNOD",default:!0},{name:"NET_ADMIN"},{name:"NET_BIND_SERVICE",default:!0},{name:"NET_BROADCAST"},{name:"NET_RAW",default:!0},{name:"SETFCAP",default:!0},{name:"SETGID",default:!0},{name:"SETPCAP",default:!0},{name:"SETUID",default:!0},{name:"SYSLOG"},{name:"SYS_ADMIN"},{name:"SYS_BOOT"},{name:"SYS_CHROOT",default:!0},{name:"SYS_MODULE"},{name:"SYS_NICE"},{name:"SYS_PACCT"},{name:"SYS_PTRACE"},{name:"SYS_RAWIO"},{name:"SYS_RESOURCE"},{name:"SYS_TIME"},{name:"SYS_TTY_CONFIG"}],Dn=(0,t.forwardRef)(function(m,M){var A=(0,t.useContext)(ye.Z),W=A.lang,v=(0,t.useState)(null),D=x()(v,2),d=D[0],f=D[1],I=(0,t.useContext)(X.Z),k=I.createFormRef;return(0,t.useImperativeHandle)(M,function(){return{}}),(0,e.jsx)(F.Z,{children:(0,e.jsx)($e.Z,{grid:{gutter:10,xs:3,sm:3,md:4,lg:4,xl:4,xxl:6},dataSource:jn,renderItem:function(o,g){var _;return(0,e.jsx)($e.Z.Item,{children:(0,e.jsx)(Ce.Z,{fieldProps:{onChange:function(l){o.name=="ALL"&&f(l)}},disabled:o.name!="ALL"&&((0,Bn.k)(d)?(_=k.current)===null||_===void 0?void 0:_.getFieldValue(["capAdd","ALL"]):d),initialValue:o.default,name:["capAdd",o.name],tooltip:W("app.create.cap."+o.name.toLocaleLowerCase()),label:o.name})},g)}})})}),xn=Dn;function Pn(){var m,M=(0,t.useContext)(ye.Z),A=M.loading,W=M.notice,v=(0,t.useContext)(X.Z),D=v.createFormRef,d=v.volumeListRef,f=v.domainRef,I=v.createEnvRef,k=v.createLinkRef,i=(0,Ge.useSearchParams)(),o=x()(i,2),g=o[0],_=o[1],C=(0,Ge.useNavigate)(),l=(0,t.useState)("basic"),p=x()(l,2),V=p[0],q=p[1],Z=g.get("id"),Be=(m=g.get("imageId"))!==null&&m!==void 0?m:"";return(0,t.useEffect)(function(){if(Z)A.show(),(0,He.iE)({id:Z}).then(function(){var a=B()(c()().mark(function G(u){var ie,ve,Ee,K,Pe,se,De,Ne,We;return c()().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:if(K={info:{}},!u.data.env.imageName){Fe.next=11;break}return Fe.prev=2,Fe.next=5,(0,le.YU)({md5:u.data.env.imageName});case 5:Pe=Fe.sent,K=Pe.data,Fe.next=11;break;case 9:Fe.prev=9,Fe.t0=Fe.catch(2);case 11:u.data.env.network&&u.data.env.network.map(function(J){return!J.alise&&J.name!="bridge"&&(J.alise=[u.data.siteName+".pod.dpanel.local"]),J}),u.data.env.ports&&u.data.env.ports.map(function(J){return J.host=="0"&&(J.host=""),J}),se=u.data.env.bindIpV6,u.data.containerInfo.Info.NetworkSettings&&u.data.containerInfo.Info.NetworkSettings.Networks&&Object.keys(u.data.containerInfo.Info.NetworkSettings.Networks).map(function(J){if(u.data.env.network&&(u.data.env.network=u.data.env.network.map(function(ke){return J==ke.name&&(ke.subnet=u.data.containerInfo.Info.NetworkSettings.Networks[J].IPAddress+"/"+u.data.containerInfo.Info.NetworkSettings.Networks[J].IPPrefixLen),ke})),u.data.containerInfo.Info.NetworkSettings.Networks[J].IPv6Gateway!=""&&(se=!0),J=="bridge"){var Ae;(Ae=D.current)===null||Ae===void 0||Ae.setFieldValue("useBridgeNetwork",!0)}}),u.data.env.extraHosts&&u.data.env.extraHosts.map(function(J){if(J.value=="host-gateway"){var Ae;(Ae=D.current)===null||Ae===void 0||Ae.setFieldValue("enableBindHost",!0)}}),De=u.data.env.ports,u.data.env.ports&&(De=u.data.env.ports.map(function(J){return J.host=J.host!=""?(J.hostIp?J.hostIp+":":"")+J.host:"",J})),(ie=D.current)===null||ie===void 0||ie.setFieldsValue({siteTitle:u.data.siteTitle,siteName:u.data.siteName,imageName:u.data.env.imageName,privileged:u.data.env.privileged,bindIpV6:u.data.env.useHostNetwork?!1:se,useHostNetwork:u.data.env.useHostNetwork,publishAllPorts:u.data.env.useHostNetwork?!1:u.data.env.publishAllPorts,workDir:{value:u.data.env.workDir,useDefault:!u.data.env.workDir,default:K&&K.info.Config&&K.info.Config.WorkingDir},user:{value:u.data.env.user,useDefault:!u.data.env.user,default:K&&K.info.Config&&K.info.Config.User},command:{value:u.data.env.command,useDefault:!u.data.env.command,default:K&&K.info.Config&&K.info.Config.Cmd&&K.info.Config.Cmd.join(" ")},entrypoint:{value:u.data.env.entrypoint,useDefault:!u.data.env.entrypoint,default:K&&K.info.Config&&K.info.Config.Entrypoint&&K.info.Config.Entrypoint.join(" ")},shmsize:(ve=u.data.env.shmsize)!==null&&ve!==void 0?ve:"64M",cpus:u.data.env.cpus,memory:u.data.env.memory,environment:u.data.env.environment,label:u.data.env.label,volumes:u.data.env.volumes,ports:De,links:u.data.env.links,network:u.data.env.network,restart:u.data.env.restart,extraHosts:u.data.env.extraHosts,autoRemove:u.data.env.autoRemove,log:u.data.env.log,dns:u.data.env.dns&&u.data.env.dns.join(`
`),ipV4:u.data.env.ipV4,ipV6:u.data.env.ipV6,gpus:u.data.env.gpus,device:u.data.env.device,hook:u.data.env.hook,hostPid:u.data.env.hostPid,capAdd:u.data.env.capAdd&&Object.fromEntries(u.data.env.capAdd.map(function(J){return[J,!0]}))}),u.data.env.ipV6&&((Ne=D.current)===null||Ne===void 0||Ne.setFieldValue("enableIpV6Address",!0)),u.data.env.healthcheck&&u.data.env.healthcheck.cmd&&u.data.env.healthcheck.cmd!=""&&((We=D.current)===null||We===void 0||We.setFieldsValue({healthcheck:u.data.env.healthcheck})),(Ee=d.current)===null||Ee===void 0||Ee.initImageRootfs(u.data.env.imageName);case 22:case"end":return Fe.stop()}},G,null,[[2,9]])}));return function(G){return a.apply(this,arguments)}}()).finally(function(){A.destroy()});else{var re,y;(re=D.current)===null||re===void 0||re.resetFields(),(y=D.current)===null||y===void 0||y.setFieldValue("useBridgeNetwork",!0)}},[g]),(0,e.jsx)(j._z,{children:(0,e.jsx)(F.Z,{direction:"column",gutter:[0,10],children:(0,e.jsxs)(E.A,{submitter:{render:function(y,a){return(0,e.jsx)(Y.S,{children:a})}},formRef:D,onFinish:function(){var re=B()(c()().mark(function y(a){var G,u,ie,ve,Ee,K;return c()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(K={siteTitle:a.siteTitle,siteName:a.siteName,hostname:a.hostname,imageName:a.imageName,environment:a.environment,links:a.links,ports:a.ports,volumes:a.volumes,network:(G=a.network)!==null&&G!==void 0?G:[],privileged:(u=a.privileged)!==null&&u!==void 0?u:!1,autoRemove:(ie=a.autoRemove)!==null&&ie!==void 0?ie:!1,restart:a.restart,cpus:a.cpus,memory:a.memory,shmsize:(ve=a.shmsize)!==null&&ve!==void 0?ve:0,workDir:a.workDir&&!a.workDir.useDefault?a.workDir.value:"",user:a.user&&!a.user.useDefault?a.user.value:"",command:a.command&&!a.command.useDefault?a.command.value:"",entrypoint:a.entrypoint&&!a.entrypoint.useDefault?a.entrypoint.value:"",useHostNetwork:a.useHostNetwork,bindIpV6:a.bindIpV6,log:a.log,dns:a.dns&&a.dns!=""?a.dns.split(`
`):[],label:a.label,publishAllPorts:a.publishAllPorts,extraHosts:a.extraHosts,ipV4:a.ipV4,ipV6:a.ipV6,device:a.device,gpus:a.gpus,hook:a.hook,hostPid:a.hostPid,capAdd:a.capAdd?Object.keys(a.capAdd).map(function(De){return De}):[],useBridgeNetwork:(Ee=a.useBridgeNetwork)!==null&&Ee!==void 0?Ee:!0},!(!a.useBridgeNetwork&&!a.useHostNetwork&&(!a.network||a.network.length==0))){se.next=4;break}return W.error("\u4E0D\u52A0\u5165 Bridge \u7F51\u7EDC\u65F6\uFF0C\u5FC5\u987B\u6307\u5B9A\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7F51\u7EDC"),se.abrupt("return",!1);case 4:return a.useBridgeNetwork&&K.network.push({name:"bridge",alise:[],ipV4:""}),a.healthcheck&&a.healthcheck.cmd&&a.healthcheck.cmd!=""&&(K.healthcheck=a.healthcheck),Z&&(K.containerId=K.siteName),se.next=9,(0,He.$G)(K);case 9:return C("/app/list"),se.abrupt("return",!0);case 11:case"end":return se.stop()}},y)}));return function(y){return re.apply(this,arguments)}}(),children:[(0,e.jsxs)(F.Z,{title:"\u57FA\u7840\u4FE1\u606F",headerBordered:!0,children:[(0,e.jsx)(s.Z,{name:"siteTitle",label:"\u5BB9\u5668\u63CF\u8FF0",fieldProps:{onChange:function(y){var a="";if(y.target.value&&!Z){var G,u=(0,cn.N9)(y.target.value.trim(),{toneType:"none",type:"array"});a=u.join(""),(G=D.current)===null||G===void 0||G.setFieldValue("siteName",a)}}},placeholder:"\u8BF7\u8F93\u5165\u5BB9\u5668\u63CF\u8FF0\u540D\u79F0"}),(0,e.jsxs)(R.UW,{children:[(0,e.jsx)(s.Z,{width:"lg",name:"siteName",label:"\u5BB9\u5668\u6807\u8BC6",tooltip:"\u5BB9\u5668\u552F\u4E00\u6807\u8BC6\uFF0C\u7528\u4E8E\u6807\u8BC6\u5BB9\u5668\u548C\u5185\u90E8\u8BBF\u95EE",required:!0,rules:[{required:!0}],placeholder:"\u8BF7\u8F93\u5165\u5BB9\u5668\u6807\u8BC6\u540D\u79F0"}),(0,e.jsx)(s.Z,{label:"Hostname",name:"hostname",width:"md"})]}),(0,e.jsx)(Oe,{redeploy:!!Z,fromImageId:Be})]}),(0,e.jsx)(h.Z,{offsetTop:50,children:(0,e.jsx)(F.Z,{style:{marginBottom:-20},children:(0,e.jsx)(z.Z,{activeKey:V,onChange:function(y){q(y),window.scrollTo(0,450)},items:[{label:"\u57FA\u672C\u914D\u7F6E",key:"basic"},{label:"\u5173\u8054\u914D\u7F6E",key:"link"},{label:"\u8FD0\u884C\u914D\u7F6E",key:"run-command"},{label:"\u8D44\u6E90\u914D\u7F6E",key:"resource"},{label:"Hook",key:"hook"},{label:"\u80FD\u529B\u914D\u7F6E",key:"cap"},{label:"\u5176\u5B83",key:"other"}]})})}),(0,e.jsxs)(xe.Z,{show:V=="basic",children:[(0,e.jsx)(_n,{ref:f,showBindHost:!0,showBindIpV6:!0}),(0,e.jsx)(me.Z,{showAddButton:!0,showImportButton:!0,showCodeMode:!0,label:"\u73AF\u5883\u53D8\u91CF",ref:I}),(0,e.jsx)(en,{showDefault:!0,ref:d}),(0,e.jsx)(T.Z,{name:["siteName","useHostNetwork"],children:function(y){var a=y.siteName,G=y.useHostNetwork;if(!G)return(0,e.jsx)(Cn,{})}})]}),(0,e.jsx)(xe.Z,{show:V=="link",children:(0,e.jsx)(T.Z,{name:["siteName","useHostNetwork"],children:function(y){var a=y.siteName,G=y.useHostNetwork;return G?(0,e.jsx)(r.Z,{showIcon:!0,description:"\u7ED1\u5B9A\u5230\u5BBF\u4E3B\u673A\u7F51\u7EDC\u65F6\uFF0C\u65E0\u6CD5\u901A\u8FC7 Docker \u5173\u8054\u5176\u5B83\u5BB9\u5668\u3002\u8BF7\u4F7F\u7528\u5BBF\u4E3B\u673A\u5185\u7F51IP\u6216\u662F127.0.0.1\u4E92\u8054\u5BB9\u5668\u66B4\u9732\u7AEF\u53E3\u3002"}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(_e,{onAddEnv:function(ie,ve){var Ee;(Ee=I.current)===null||Ee===void 0||Ee.addEnvItem(ie,ve)},ref:k}),(0,e.jsx)(fn,{showUseBridgeNetwork:!0,siteName:a}),(0,e.jsx)(En,{})]})}})}),(0,e.jsx)(xe.Z,{show:V=="run-command",children:(0,e.jsx)(dn,{})}),(0,e.jsx)(xe.Z,{show:V=="resource",children:(0,e.jsx)(an,{})}),(0,e.jsx)(xe.Z,{show:V=="hook",children:(0,e.jsx)(gn,{})}),(0,e.jsx)(xe.Z,{show:V=="other",children:(0,e.jsx)(rn,{})}),(0,e.jsx)(xe.Z,{show:V=="cap",children:(0,e.jsx)(xn,{})})]},"form")})})}},2831:function(fe,$,n){n.d($,{Ll:function(){return Y},aF:function(){return x},d6:function(){return R},u5:function(){return F}});var S=n(15009),c=n.n(S),Q=n(99289),B=n.n(Q),O=n(82346);function x(){return j.apply(this,arguments)}function j(){return j=B()(c()().mark(function h(){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,O.request)("/api/common/home/info",{method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},h)})),j.apply(this,arguments)}function F(){return E.apply(this,arguments)}function E(){return E=B()(c()().mark(function h(){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,O.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},h)})),E.apply(this,arguments)}function Y(){return s.apply(this,arguments)}function s(){return s=B()(c()().mark(function h(){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,O.request)("/api/common/home/usage",{method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},h)})),s.apply(this,arguments)}function R(){return T.apply(this,arguments)}function T(){return T=B()(c()().mark(function h(){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,O.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},h)})),T.apply(this,arguments)}},79245:function(fe,$,n){n.d($,{m:function(){return Q},y:function(){return B}});var S=n(64599),c=n.n(S);function Q(O){var x=[];if(!O||O=="")return x;var j=O.matchAll(/\$\{(\w+)[:-?=]*(.*?)\}/g),F=c()(j),E;try{for(F.s();!(E=F.n()).done;){var Y=E.value;x.push({name:Y[1],value:Y[2]?Y[2].indexOf("-")==0?Y[2].substring(1):Y[2]:""})}}catch(s){F.e(s)}finally{F.f()}return x}function B(O,x){return!O||!x?!1:(O&x)!==0}}}]);
