"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8566],{1699:function(ae,U,t){t.d(U,{u:function(){return y}});var R=t(9783),s=t.n(R),W=t(97857),g=t.n(W),C=t(67294),x=t(82346),S=t(40411),v=t(42075),P=t(85893),y=function(d){var o=(0,x.useAccess)(),a=Array.isArray(d.access)?d.access:[d.access],D,h=d.fallback;if(typeof d.children=="function"?(D=d.children(a.reduce(function(E,e){return g()(g()({},E),{},s()({},e,o[e]))},{})),D||(D=h)):a.every(function(E){return o[E]})?D=d.children:D=h,!h&&D&&d.showProTips&&o.canSeeEnableCe){if(o.canSeeEnableHiddenProTips)return null;D=(0,P.jsx)(S.Z,{offset:d.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:D})}if(!h&&D&&d.showProRibbonTips&&o.canSeeEnableCe){if(o.canSeeEnableHiddenProTips)return null;D=(0,P.jsx)(S.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:D})}return d.space?(0,P.jsx)(v.Z,g()(g()({},d.space),{},{children:D})):D}},80821:function(ae,U,t){t.d(U,{Z:function(){return o}});var R=t(97857),s=t.n(R),W=t(5574),g=t.n(W),C=t(24963),x=t(36146),S=t(86738),v=t(83062),P=t(96074),y=t(83622),Z=t(67294),d=t(85893);function o(a){var D=(0,Z.useState)(!1),h=g()(D,2),E=h[0],e=h[1],u=(0,Z.useContext)(C.Z),le=u.message,ne=function(){e(!0);var ye=a.action();ye instanceof Promise?ye.then(function(me){if(e(!1),me){typeof a.onSuccess=="function"&&a.onSuccess(me);var xe=x.FD.format("finish");le.success(xe)}}).catch(function(me){e(!1),typeof a.onError=="function"&&a.onError(me)}):e(!1)};if(a.confirmProps){var B,b,ve,_e,re,k,he,ge=a.confirmProps.description;return a.confirmProps.showCommonConfirm&&(ge=x.FD.format("confirm.title")),a.confirmProps.showCommonDisabled&&(ge=x.FD.format("confirm.disable")),(0,d.jsx)(S.Z,s()(s()({},a.confirmProps),{},{style:{width:500},title:(B=a.confirmProps)!==null&&B!==void 0&&B.title?(b=a.confirmProps)===null||b===void 0?void 0:b.title:x.FD.format("title.tip"),description:ge,onConfirm:ne,okText:"Yes",cancelText:"No",children:(0,d.jsxs)(v.Z,{title:a.tips,children:[a.showDivider&&(0,d.jsx)(P.Z,{type:"vertical",style:{marginRight:15}}),(0,d.jsx)(y.ZP,s()(s()({},a.buttonProps),{},{ghost:((ve=a.buttonProps)===null||ve===void 0?void 0:ve.ghost)&&((_e=a.buttonProps)===null||_e===void 0?void 0:_e.type)!=="link",style:(re=a.buttonProps)!==null&&re!==void 0&&re.ghost?s()(s()({},a.buttonProps.style),{},{padding:0,width:"auto"}):s()({},(k=a.buttonProps)===null||k===void 0?void 0:k.style),icon:!a.children&&E||(he=a.buttonProps)===null||he===void 0?void 0:he.icon,loading:E,children:a.children}))]})}))}else{var je,de,ce,pe,De;return(0,d.jsxs)(v.Z,{title:a.tips,children:[a.showDivider&&(0,d.jsx)(P.Z,{type:"vertical",style:{marginRight:15}}),(0,d.jsx)(y.ZP,s()(s()({},a.buttonProps),{},{ghost:((je=a.buttonProps)===null||je===void 0?void 0:je.ghost)&&((de=a.buttonProps)===null||de===void 0?void 0:de.type)!=="link",style:(ce=a.buttonProps)!==null&&ce!==void 0&&ce.ghost?s()(s()({},a.buttonProps.style),{},{padding:0,width:"auto"}):s()({},(pe=a.buttonProps)===null||pe===void 0?void 0:pe.style),icon:!a.children&&E||(De=a.buttonProps)===null||De===void 0?void 0:De.icon,loading:E,onClick:ne,children:a.children}))]})}}},27619:function(ae,U,t){t.d(U,{Z:function(){return S}});var R=t(5574),s=t.n(R),W=t(82346),g=t(67294),C=t(64389),x=t(85893);function S(v){var P=(0,W.useModel)("@@initialState"),y=P.initialState,Z="chart-area-".concat(v.name),d=(0,g.useState)(),o=s()(d,2),a=o[0],D=o[1],h={};v.data.forEach(function(e){e.show===!1?h[e.name]=!1:h[e.name]=!0});var E={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}},valueFormatter:function(u){return v.yValueFormatter?v.yValueFormatter(u):u}},legend:{selected:h},grid:{left:"0",right:"0",bottom:"0",top:"30",containLabel:!0},xAxis:{type:"category",data:v.data[0].data.map(function(e){return e.date}),boundaryGap:!1,axisLabel:{rotate:20}},yAxis:{type:"value",axisLabel:{formatter:v.yLabelFormatter},max:function(u){if(v.yDomainMaxCallback)return v.yDomainMaxCallback(u)}},series:[]};return(0,g.useEffect)(function(){var e="",u=window.matchMedia("(prefers-color-scheme: dark)");(y==null?void 0:y.theme.algorithm)=="dark"||u.matches?e="dark":e="",a&&!a.isDisposed()&&a.dispose();var le=document.getElementById(Z),ne=C.S1(le,e);ne.setOption(E);var B=new ResizeObserver(function(){ne.resize()});le&&B.observe(le),D(ne)},[y]),(0,g.useEffect)(function(){a&&!a.isDisposed()&&a.setOption({legend:{data:v.data.map(function(e){return e.name})},xAxis:{data:v.data[0].data.map(function(e){return e.date})},series:v.data.map(function(e){return{name:e.name,type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:e.data.map(function(u){return u.value})}})})},[v.data]),(0,x.jsx)("div",{style:{height:200},id:Z})}},3616:function(ae,U,t){t.d(U,{Ed:function(){return g},FK:function(){return s},R_:function(){return R},ob:function(){return W}});var R=window.innerWidth<=1024?"90vw":"65vw",s="90vw",W="60vw",g="50vh"},24963:function(ae,U,t){var R=t(67294),s=(0,R.createContext)({});U.Z=s},55617:function(ae,U,t){t.r(U),t.d(U,{default:function(){return Ne}});var R=t(15009),s=t.n(R),W=t(99289),g=t.n(W),C=t(5574),x=t.n(C),S=t(19632),v=t.n(S),P=t(1699),y=t(80821),Z=t(27619),d=t(3616),o=t(5251),a=t(36146),D=t(184),h=t(25593),E=t(60940),e=t(85893),u=new a.Uo("components.containerStat");function le(A){return(0,e.jsx)(D.a,{drawerProps:{width:d.R_},title:u.format("detailTitle"),submitter:!1,trigger:(0,e.jsx)(h.Z.Link,{children:a.FD.format("listManageDetail")}),children:(0,e.jsx)(E.Z,{pagination:!1,dataSource:A.data,rowKey:"name",columns:[{title:a.FD.format("listContainerName"),dataIndex:"name"},{title:"Cpu",dataIndex:"cpu",sorter:function(f,m){return f.cpu-m.cpu},render:function(f,m,K){return"".concat(m.cpu.toFixed(2),"%")}},{title:"Memory",dataIndex:"memory",sorter:function(f,m){return f.memory.in-m.memory.in},render:function(f,m,K){var O,N;return"".concat((0,o.FI)((O=m==null?void 0:m.memory.in)!==null&&O!==void 0?O:0)," / ").concat((0,o.FI)((N=m==null?void 0:m.memory.out)!==null&&N!==void 0?N:0))}},{title:a.FD.format("listNetworkIO"),dataIndex:"networkIO",width:180,render:function(f,m,K){return"".concat((0,o.FI)(m.networkIO.in)," / ").concat((0,o.FI)(m.networkIO.out))}},{title:a.FD.format("listDiskIO"),dataIndex:"blockIO",width:180,render:function(f,m,K){return"".concat((0,o.FI)(m.blockIO.in)," / ").concat((0,o.FI)(m.blockIO.out))}}]})})}var ne=t(97857),B=t.n(ne),b=t(67294),ve=t(64389),_e={tooltip:{show:!0,formatter:function(p){return p&&p.data&&p.data.tooltipItem?p.data.tooltipItem.map(function(f){return"<div>".concat(f.field,": ").concat(f.content,"</div>")}).join(" "):"".concat(p.data.name,": ").concat((0,o.FI)(p.data.value))}},legend:{selectedMode:"single",top:0,itemGap:5},series:[]},re={name:"",type:"treemap",left:0,right:0,top:30,bottom:0,roam:!1,label:{show:!0},levels:[{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}}],sort:!0,leafDepth:1,data:[]},k=new a.Uo("components.containerStat"),he=(0,b.forwardRef)(function(A,p){var f=A.data.usage,m=(0,b.useState)(),K=x()(m,2),O=K[0],N=K[1];(0,b.useImperativeHandle)(p,function(){return{}});function oe(){if(!f.Containers||!f.Images){O&&O.setOption({series:[B()(B()({},re),{},{name:"",data:[{name:k.format("usageEmpty"),value:1}]})]});return}var T=[],I=[];f.Containers&&f.Containers.forEach(function(l){var M,H,J,X=l.SizeRootFs+((M=l.SizeRw)!==null&&M!==void 0?M:0),ee=[];l.Mounts&&l.Mounts.forEach(function(Y){var te=f.Volumes&&f.Volumes.find(function(Se){return Se.Name==Y.Name});te&&(X+=te.UsageData.Size,ee.push({name:k.format("usageVolume",{name:Y.Name}),value:te.UsageData.Size,children:[]}))});var ue={name:(0,o.fi)(l.Names[0],"/"),value:X,tooltipItem:[{field:(0,o.fi)(l.Names[0],"/"),content:(0,o.FI)(X)},{field:k.format("usageContainerRootFs"),content:(0,o.FI)((H=l.SizeRootFs)!==null&&H!==void 0?H:0)},{field:k.format("usageContainerRw"),content:(0,o.FI)((J=l.SizeRw)!==null&&J!==void 0?J:0)}],children:[{name:k.format("usageContainerRootFs"),value:l.SizeRootFs,children:[]},{name:k.format("usageContainerRw"),value:l.SizeRw,children:[]}]};if(ee&&ee.length>0){var fe,ie;(fe=ue.children).push.apply(fe,ee),(ie=ue.tooltipItem)===null||ie===void 0||ie.push.apply(ie,v()(ee.map(function(Y){var te;return{field:Y.name,content:(0,o.FI)((te=Y.value)!==null&&te!==void 0?te:0)}})))}I.push(ue)}),T.push(B()(B()({},re),{},{name:k.format("usageTitleContainer"),data:I})),I=[],f.Images&&f.Images.forEach(function(l){var M,H,J,X;I.push({name:l.RepoTags?l.RepoTags[0]:l.Id.substring(7,19),value:l.Size+((M=l.SharedSize)!==null&&M!==void 0?M:0),tooltipItem:[{field:l.RepoTags?l.RepoTags[0]:l.Id.substring(7,19),content:(0,o.FI)(l.Size+((H=l.SharedSize)!==null&&H!==void 0?H:0))},{field:k.format("usageImageSize"),content:(0,o.FI)((J=l.Size)!==null&&J!==void 0?J:0)},{field:k.format("usageImageSharedSize"),content:(0,o.FI)((X=l.SharedSize)!==null&&X!==void 0?X:0)}],children:[{name:k.format("usageImageSize"),value:l.Size,children:[]},{name:k.format("usageImageSharedSize"),value:l.SharedSize,children:[]}]})}),T.push(B()(B()({},re),{},{name:k.format("usageTitleImage"),data:I})),I=[],f.Volumes&&f.Volumes.forEach(function(l){I.push({name:l.Name,value:l.UsageData.Size,children:[]})}),T.push(B()(B()({},re),{},{name:k.format("usageTitleVolume"),data:I})),T&&T.length>0&&O&&O.setOption({series:T,legend:{data:T.map(function(l){return l.name})}})}return(0,b.useEffect)(function(){var T=document.getElementById("docker-disk-usage"),I=ve.S1(T);I.setOption(_e);var l=new ResizeObserver(function(){I&&I.resize()});return T&&l.observe(T),N(I),function(){O&&O.dispose(),N(void 0)}},[]),(0,b.useEffect)(function(){O&&oe()},[O]),(0,e.jsx)("div",{style:{height:450},id:"docker-disk-usage"})}),ge=he,je=t(55241),de=t(71230),ce=t(15746),pe=t(38703),De=(0,b.forwardRef)(function(A,p){return(0,b.useImperativeHandle)(p,function(){return{}}),(0,e.jsxs)(je.Z,{placement:"left",children:[(0,e.jsx)(de.Z,{justify:"center",children:(0,e.jsx)(ce.Z,{children:(0,e.jsx)(pe.Z,{percent:A.showPercent,type:"dashboard",format:function(m,K){return"".concat(m,"%")},size:150,status:A.showPercent>=100?"exception":"normal"})})}),(0,e.jsx)(de.Z,{justify:"center",children:(0,e.jsxs)(ce.Z,{style:{marginTop:"10px"},children:[A.showLabel,": ",A.showUse," / ",A.showTotal]})})]})}),Ie=De,ye=t(24963),me=t(87662),xe=t(2831),We=t(97841),we=t(20578),Ae=t(45605),Be=t(1210),Ee=t(12122),F=t(38345),w=t(88273),G=t(82346),q=t(42075),$=t(26412),Pe=t(83062),Ke=t(40411),ze=t(86250),i=new a.Uo("system.home.overview"),$e=function(p,f){switch(f.type){case"update":var m=new Date().toLocaleTimeString(),K=0,O=0,N=0,oe=0,T=0,I=0;f.payload.forEach(function(M){K+=M.cpu,O+=M.memory.in,N+=M.networkIO.in,oe+=M.networkIO.out,T+=M.blockIO.in,I+=M.blockIO.out});var l={list:f.payload,cpu:K,memory:O,network:[{name:i.format("runStatNetworkOut"),data:[].concat(v()(p.network[0].data.slice(-20)),[{date:m,value:oe.toString()}])},{name:i.format("runStatNetworkIn"),data:[].concat(v()(p.network[1].data.slice(-20)),[{date:m,value:N.toString()}])}],io:[{name:i.format("runStatIoOut"),data:[].concat(v()(p.io[0].data.slice(-20)),[{date:m,value:I.toString()}])},{name:i.format("runStatIoIn"),data:[].concat(v()(p.io[1].data.slice(-20)),[{date:m,value:T.toString()}])}]};return l}};function Ne(){var A,p,f,m,K,O,N,oe,T,I,l,M,H,J,X,ee,ue,fe,ie,Y=(0,G.useAccess)(),te=(0,b.useState)(),Se=x()(te,2),at=Se[0],nt=Se[1],Ve=(0,b.useState)(),Ue=x()(Ve,2),V=Ue[0],Ge=Ue[1],He=(0,b.useState)(),Ce=x()(He,2),r=Ce[0],Je=Ce[1],Xe=(0,b.useState)(),Te=x()(Xe,2),n=Te[0],Ye=Te[1],Qe=(0,b.useState)(),Me=x()(Qe,2),be=Me[0],qe=Me[1],et=(0,b.useReducer)($e,{cpu:0,memory:0,network:[{name:i.format("runStatNetworkOut"),data:[]},{name:i.format("runStatNetworkIn"),data:[]}],io:[{name:i.format("runStatIoOut"),data:[]},{name:i.format("runStatIoIn"),data:[]}],list:[]}),Re=x()(et,2),L=Re[0],Ze=Re[1],tt=(0,b.useContext)(ye.Z),ke=tt.loading,Fe=(0,G.useModel)("subscriber");Fe.addDataHandler("container:stat",function(_){Ze({type:"update",payload:_.data})});function Le(){return Oe.apply(this,arguments)}function Oe(){return Oe=g()(s()().mark(function _(){var c,j,Q;return s()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return ke.show(),z.next=3,(0,xe.aF)().finally(function(){ke.destroy()});case 3:return c=z.sent,Je(c.data),z.next=7,(0,xe.Ll)();case 7:return j=z.sent,Ye(j.data),z.next=11,(0,me.Cz)({follow:!0});case 11:Q=z.sent,Ze({type:"update",payload:[]});case 13:case"end":return z.stop()}},_)})),Oe.apply(this,arguments)}return(0,b.useEffect)(function(){return Le(),!Y.canSeeEnableCe&&(0,we.q)().then(function(_){Ge(_.data)}),(0,xe.u5)().then(function(_){qe(_.data)}),function(){Fe.progress.close("container:stat")}},[]),(0,e.jsxs)(F.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,e.jsxs)(F.Z,{bordered:!0,split:"vertical",wrap:!0,children:[(0,e.jsx)(F.Z,{style:{height:"570px",overflow:"hidden"},colSpan:{xs:24,sm:24,md:24,lg:9,xl:9},headerBordered:!0,title:(0,e.jsx)(Ae.Z,{}),subTitle:i.format("basicInfoTitle"),extra:(0,e.jsx)(q.Z,{children:Y.canSeeEnableCe&&Y.canSeeEnableInDPanel&&(0,e.jsx)("a",{href:"https://dpanel.cc/pro",target:"_blank",children:new a.Uo("components.systemBasic").format("proBuyButton")},"proLink")}),children:(0,e.jsxs)($.Z,{column:1,styles:{label:{width:120,justifyContent:"flex-end"}},children:[(0,e.jsx)($.Z.Item,{label:i.format("basicDPanelTitleVersion"),children:(0,e.jsxs)(q.Z,{direction:"horizontal",wrap:!0,children:[r==null?void 0:r.dpanel.version," - ",r==null?void 0:r.dpanel.env," - ",r==null?void 0:r.dpanel.family,Y.canSeeEnableInDPanel&&(0,e.jsx)(Pe.Z,{title:i.format("basicDPanelTitleUpgradeInfo"),children:(0,e.jsx)("a",{target:"_blank",href:"https://github.com/donknap/dpanel/releases",children:(0,e.jsx)(Be.Z,{})})}),be&&be.newVersion!=""&&(0,e.jsx)(G.Link,{to:"/system/upgrade",children:(0,e.jsx)(Ke.Z,{count:be.newVersion,size:"small"})})]})}),(0,e.jsxs)($.Z.Item,{label:"Docker Host",children:[r==null?void 0:r.info.Name," ",(0,e.jsx)(e.Fragment,{children:(r==null?void 0:r.info.ID)==""&&(0,e.jsx)(G.Link,{to:"/system/env",state:{name:"local",t:(0,o.Fs)()},children:i.format("basicEnvSettingDefaultEnv")})})]}),(0,e.jsx)($.Z.Item,{label:i.format("basicDockerTitleVersion"),children:"Server: ".concat(r==null?void 0:r.info.ServerVersion," / Client: ").concat(r==null?void 0:r.clientVersion)}),(0,e.jsx)($.Z.Item,{label:"Docker SDK",children:"".concat(r==null?void 0:r.sdkVersion)}),(0,e.jsx)($.Z.Item,{label:i.format("basicDockerTitleFileDriver"),children:"".concat(r==null?void 0:r.info.Driver)}),(0,e.jsx)($.Z.Item,{label:i.format("basicDockerTitleLogDriver"),children:"".concat(r==null?void 0:r.info.LoggingDriver)}),(0,e.jsx)($.Z.Item,{label:i.format("basicDockerTitleSystemVersion"),children:"".concat(r==null?void 0:r.info.OperatingSystem," - ").concat(r==null?void 0:r.info.KernelVersion," - ").concat(r==null?void 0:r.info.Architecture)}),(0,e.jsxs)($.Z.Item,{label:"Cpu / Mem",children:[r==null?void 0:r.info.NCPU," ",a.FD.format("unitCpu")," / ",(0,o.FI)((A=r==null?void 0:r.info.MemTotal)!==null&&A!==void 0?A:0)]}),(0,e.jsx)($.Z.Item,{label:i.format("basicDockerTitleRootDir"),children:r==null?void 0:r.info.DockerRootDir}),(0,e.jsx)($.Z.Item,{label:i.format("basicDockerTitlePluginsVolume"),children:(0,e.jsx)(q.Z,{children:r==null?void 0:r.info.Plugins.Volume})}),(0,e.jsx)($.Z.Item,{label:i.format("basicDockerTitlePluginsNetwork"),children:(0,e.jsx)(q.Z,{wrap:!0,children:r==null?void 0:r.info.Plugins.Network})}),(0,e.jsx)($.Z.Item,{label:i.format("basicDockerTitleSystemTime"),children:new Date((p=r==null?void 0:r.info.SystemTime)!==null&&p!==void 0?p:"").toLocaleString()})]})}),(0,e.jsxs)(F.Z,{headerBordered:!0,colSpan:{xs:24,sm:24,md:24,lg:15,xl:15},title:(0,e.jsx)(Ee.Z,{}),subTitle:i.format("runStatTitle"),split:"horizontal",extra:(0,e.jsx)(q.Z,{children:L.list&&(0,e.jsx)(le,{data:L.list})}),children:[(0,e.jsx)(F.Z,{children:(0,e.jsxs)(ze.Z,{gap:50,align:"center",justify:"space-evenly",children:[(0,e.jsx)(Ie,{showPercent:parseFloat((((f=L==null?void 0:L.cpu)!==null&&f!==void 0?f:0)/((m=r==null?void 0:r.info.NCPU)!==null&&m!==void 0?m:0)).toFixed(2)),showLabel:"Cpu",showUse:"".concat(((K=L==null?void 0:L.cpu)!==null&&K!==void 0?K:0).toFixed(2)),showTotal:"".concat((O=r==null?void 0:r.info.NCPU)!==null&&O!==void 0?O:0," ").concat(a.FD.format("unitCpu"))}),(0,e.jsx)(Ie,{showPercent:parseFloat((((N=L==null?void 0:L.memory)!==null&&N!==void 0?N:0)/((oe=r==null?void 0:r.info.MemTotal)!==null&&oe!==void 0?oe:0)*100).toFixed(2)),showLabel:"Memory",showUse:(0,o.FI)((T=L==null?void 0:L.memory)!==null&&T!==void 0?T:0),showTotal:"".concat((0,o.FI)((I=r==null?void 0:r.info.MemTotal)!==null&&I!==void 0?I:0))})]})}),(0,e.jsxs)(F.Z,{split:"vertical",wrap:!0,children:[(0,e.jsx)(F.Z,{colSpan:12,title:(0,e.jsx)(Ee.Z,{}),subTitle:i.format("usageNetwork"),headerBordered:!0,children:(0,e.jsx)(Z.Z,{data:L.network,yLabelFormatter:function(c){return(0,o.FI)(parseFloat(c))},yValueFormatter:function(c){return(0,o.FI)(parseFloat(c))},yDomainMaxCallback:function(c){return c.max*1.5},name:"network"})}),(0,e.jsx)(F.Z,{colSpan:12,title:(0,e.jsx)(Ee.Z,{}),subTitle:i.format("usageDisk"),headerBordered:!0,children:(0,e.jsx)(Z.Z,{name:"disk",data:L.io,yLabelFormatter:function(c){return(0,o.FI)(parseFloat(c))},yValueFormatter:function(c){return(0,o.FI)(parseFloat(c))},yDomainMaxCallback:function(c){return c.max*1.5}})})]})]})]}),(0,e.jsxs)(F.Z,{bordered:!0,headerBordered:!0,title:(0,e.jsx)(Ee.Z,{}),subTitle:i.format("usageTitle"),wrap:!0,extra:(0,e.jsx)(q.Z,{children:(0,e.jsx)("span",{children:n!=null&&n.diskUsage&&n!==null&&n!==void 0&&n.diskUsage.updatedAt?"".concat(i.format("usageLastUpgradeTime")," ").concat(new Date(n==null?void 0:n.diskUsage.updatedAt).toLocaleString()):""},"lastUpdate")},"size"),children:[(0,e.jsx)(F.Z,{colSpan:{xs:24,sm:24,md:24,lg:24,xl:12,xxl:12},ghost:!0,children:(n==null?void 0:n.diskUsage)&&(0,e.jsx)(ge,{data:n==null?void 0:n.diskUsage})}),(0,e.jsxs)(F.Z,{colSpan:{xs:24,sm:8,md:8,lg:8,xl:4,xxl:4},split:"horizontal",ghost:!0,children:[(0,e.jsx)(w.Z,{statistic:{title:(0,e.jsx)(q.Z,{children:i.format("usageContainer")}),value:n!=null&&n.diskUsage.usage.Containers?(0,o.FI)((l=n.diskUsage.usage.Containers.reduce(function(_,c){var j;return _+c.SizeRootFs+((j=c.SizeRw)!==null&&j!==void 0?j:0)},0))!==null&&l!==void 0?l:0):0,description:i.format("usageDescContainer")}}),(0,e.jsx)(w.Z,{statistic:{title:(0,e.jsx)(q.Z,{children:i.format("usageImage")}),value:n!=null&&n.diskUsage.usage.Images?(0,o.FI)((M=n.diskUsage.usage.Images.reduce(function(_,c){var j;return _+(c.Size+((j=c.SharedSize)!==null&&j!==void 0?j:0))},0))!==null&&M!==void 0?M:0):0,description:i.format("usageDescImage")}}),(0,e.jsx)(w.Z,{statistic:{title:(0,e.jsx)(q.Z,{children:i.format("usageVolume")}),value:n!=null&&n.diskUsage.usage.Volumes?(0,o.FI)((H=n.diskUsage.usage.Volumes.reduce(function(_,c){return _+c.UsageData.Size},0))!==null&&H!==void 0?H:0):0,description:i.format("usageDescVolume")}}),(0,e.jsx)(w.Z,{statistic:{title:i.format("usageBuildCache"),value:n!=null&&n.diskUsage.usage.BuildCache?(0,o.FI)((J=n.diskUsage.usage.BuildCache.reduce(function(_,c){return _+c.Size},0))!==null&&J!==void 0?J:0):0,description:(0,e.jsx)(P.u,{access:"canSeeHomeOverviewClear",children:(0,e.jsx)(y.Z,{action:function(){return(0,We.c5)()},buttonProps:{type:"link",ghost:!0},onSuccess:function(){Le()},children:a.FD.format("listManageClear")})})}})]}),(0,e.jsxs)(F.Z,{colSpan:{xs:24,sm:16,md:16,lg:16,xl:8,xxl:8},ghost:!0,split:"horizontal",children:[(0,e.jsx)(F.Z,{ghost:!0,children:(0,e.jsxs)(w.Z.Group,{children:[(0,e.jsx)(w.Z,{statistic:{title:i.format("usageContainer"),value:(X=r==null?void 0:r.info.Containers)!==null&&X!==void 0?X:0,description:(0,e.jsx)(G.Link,{to:"/app/list",children:a.FD.format("listManageDetail")})}}),!Y.canSeeEnableCe&&(0,e.jsx)(w.Z,{statistic:{title:i.format("usageContainerNew"),status:"processing",valueRender:function(c){var j,Q,se;return(0,e.jsx)(Pe.Z,{title:"".concat(a.FD.format("title.ignore"),": ").concat((j=V==null?void 0:V.ignore)!==null&&j!==void 0?j:0,` 
                      `).concat(a.FD.format("title.ignore"),": ").concat((Q=V==null?void 0:V.failed)!==null&&Q!==void 0?Q:0,` 
                      `).concat(a.FD.format("title.local"),": ").concat((se=V==null?void 0:V.local)!==null&&se!==void 0?se:0),children:V==null?void 0:V.upgrade})}}}),(0,e.jsx)(w.Z,{statistic:{title:a.FD.format("title.warning"),status:"error",valueRender:function(c){var j,Q,se,z=0;return n&&n.total&&n.total.containerRunning.stop&&(z+=n.total.containerRunning.stop),n&&n.total&&n.total.containerRunning.pause&&(z+=n.total.containerRunning.pause),n&&n.total&&n.total.containerRunning.unhealthy&&(z+=n.total.containerRunning.unhealthy),(0,e.jsx)(Pe.Z,{title:"".concat(new a.Uo("components.containerStatus").format("container.exited"),": ").concat((j=n==null?void 0:n.total.containerRunning.stop)!==null&&j!==void 0?j:0,`
                      `).concat(new a.Uo("components.containerStatus").format("container.paused"),": ").concat((Q=n==null?void 0:n.total.containerRunning.pause)!==null&&Q!==void 0?Q:0,` 
                      `).concat(new a.Uo("components.containerStatus").format("container.unhealthy"),": ").concat((se=n==null?void 0:n.total.containerRunning.unhealthy)!==null&&se!==void 0?se:0),children:z})}}}),(0,e.jsx)(w.Z,{statistic:{title:i.format("usageContainerRecycle"),value:(ee=n==null?void 0:n.total.containerTask)!==null&&ee!==void 0?ee:0,description:(0,e.jsx)(G.Link,{to:"/app/list/recycle",children:a.FD.format("listManageDetail")})}})]})}),(0,e.jsxs)(F.Z,{ghost:!0,children:[(0,e.jsx)(w.Z,{statistic:{title:i.format("usageImage"),value:"".concat((ue=(n==null?void 0:n.diskUsage.usage.Images)&&(n==null?void 0:n.diskUsage.usage.Images.length))!==null&&ue!==void 0?ue:0),description:(0,e.jsx)(G.Link,{to:"/image/list",children:a.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(w.Z,{statistic:{title:i.format("usageImageTask"),value:(fe=n==null?void 0:n.total.imageTask)!==null&&fe!==void 0?fe:0,description:(0,e.jsx)(G.Link,{to:"/image/list/recycle",children:a.FD.format("listManageDetail")})},chartPlacement:"left"})]}),(0,e.jsxs)(F.Z,{ghost:!0,children:[(0,e.jsx)(w.Z,{statistic:{title:i.format("usageNetwork"),value:n==null?void 0:n.total.network,description:(0,e.jsx)(G.Link,{to:"/docker/network",children:a.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(w.Z,{statistic:{title:i.format("usageNetworkPortBind"),value:n==null?void 0:n.total.port,description:(0,e.jsx)(D.a,{drawerProps:{width:d.R_},submitter:!1,title:i.format("usageNetworkPortBind"),trigger:(0,e.jsx)(h.Z.Link,{children:a.FD.format("listManageDetail")}),children:(0,e.jsx)(E.Z,{pagination:!1,dataSource:n==null?void 0:n.port,rowKey:function(c){return"".concat(c.port.host).concat(c.port.dest)},columns:[{title:i.format("usageNetworkPortBindHost"),dataIndex:["port","host"],sorter:function(c,j){return parseInt(c.port.host)-parseInt(j.port.host)},render:function(c,j,Q){return j.port.host!="0"?"".concat(j.port.hostIp,":").concat(j.port.host):"-"}},{title:i.format("usageNetworkPortBindDest"),dataIndex:["port","dest"]},{title:i.format("usageNetworkPortBindName"),dataIndex:"name",render:function(c,j,Q){return(0,o.fi)(j.name,"/")}}]})})},chartPlacement:"left"})]}),(0,e.jsxs)(F.Z,{ghost:!0,children:[(0,e.jsx)(w.Z,{statistic:{title:i.format("usageVolume"),value:(ie=(n==null?void 0:n.diskUsage.usage.Volumes)&&(n==null?void 0:n.diskUsage.usage.Volumes.length))!==null&&ie!==void 0?ie:0,description:(0,e.jsx)(G.Link,{to:"/docker/volume",children:a.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(w.Z,{statistic:{title:i.format("usageBackup"),value:n==null?void 0:n.total.backup,description:(0,e.jsx)(G.Link,{to:"/app/backup",children:a.FD.format("listManageDetail")})},chartPlacement:"left"})]})]})]})]})}},2831:function(ae,U,t){t.d(U,{Ll:function(){return y},aF:function(){return x},u5:function(){return v}});var R=t(15009),s=t.n(R),W=t(99289),g=t.n(W),C=t(82346);function x(){return S.apply(this,arguments)}function S(){return S=g()(s()().mark(function d(){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,C.request)("/api/common/home/info",{method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},d)})),S.apply(this,arguments)}function v(){return P.apply(this,arguments)}function P(){return P=g()(s()().mark(function d(){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,C.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},d)})),P.apply(this,arguments)}function y(){return Z.apply(this,arguments)}function Z(){return Z=g()(s()().mark(function d(){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,C.request)("/api/common/home/usage",{method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},d)})),Z.apply(this,arguments)}},97841:function(ae,U,t){t.d(U,{Xr:function(){return d},bJ:function(){return y},c5:function(){return a},hf:function(){return x},l9:function(){return v}});var R=t(15009),s=t.n(R),W=t(99289),g=t.n(W),C=t(82346);function x(h){return S.apply(this,arguments)}function S(){return S=g()(s()().mark(function h(E){return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,C.request)("/api/app/image-build/delete",{method:"POST",data:E});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},h)})),S.apply(this,arguments)}function v(h){return P.apply(this,arguments)}function P(){return P=g()(s()().mark(function h(E){return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,C.request)("/api/app/image-build/create",{method:"POST",data:E}));case 1:case"end":return u.stop()}},h)})),P.apply(this,arguments)}function y(h){return Z.apply(this,arguments)}function Z(){return Z=g()(s()().mark(function h(E){return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,C.request)("/api/app/image-build/get-list",{method:"POST",data:E}));case 1:case"end":return u.stop()}},h)})),Z.apply(this,arguments)}function d(h){return o.apply(this,arguments)}function o(){return o=g()(s()().mark(function h(E){return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,C.request)("/api/app/image-build/get-detail",{method:"POST",data:E});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},h)})),o.apply(this,arguments)}function a(){return D.apply(this,arguments)}function D(){return D=g()(s()().mark(function h(){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.request)("/api/app/image-build/prune",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},h)})),D.apply(this,arguments)}},20578:function(ae,U,t){t.d(U,{q:function(){return x}});var R=t(15009),s=t.n(R),W=t(99289),g=t.n(W),C=t(82346);function x(){return S.apply(this,arguments)}function S(){return S=g()(s()().mark(function v(){return s()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,(0,C.request)("/api/pro/container-upgrade/get-all-list",{method:"POST"});case 2:return y.abrupt("return",y.sent);case 3:case"end":return y.stop()}},v)})),S.apply(this,arguments)}}}]);
