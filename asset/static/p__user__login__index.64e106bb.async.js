"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4037],{12119:function(q,I,e){e.d(I,{Z:function(){return E}});var o=e(87462),f=e(67294),S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M608 112c-167.9 0-304 136.1-304 304 0 70.3 23.9 135 63.9 186.5l-41.1 41.1-62.3-62.3a8.15 8.15 0 00-11.4 0l-39.8 39.8a8.15 8.15 0 000 11.4l62.3 62.3-44.9 44.9-62.3-62.3a8.15 8.15 0 00-11.4 0l-39.8 39.8a8.15 8.15 0 000 11.4l62.3 62.3-65.3 65.3a8.03 8.03 0 000 11.3l42.3 42.3c3.1 3.1 8.2 3.1 11.3 0l253.6-253.6A304.06 304.06 0 00608 720c167.9 0 304-136.1 304-304S775.9 112 608 112zm161.2 465.2C726.2 620.3 668.9 644 608 644c-60.9 0-118.2-23.7-161.2-66.8-43.1-43-66.8-100.3-66.8-161.2 0-60.9 23.7-118.2 66.8-161.2 43-43.1 100.3-66.8 161.2-66.8 60.9 0 118.2 23.7 161.2 66.8 43.1 43 66.8 100.3 66.8 161.2 0 60.9-23.7 118.2-66.8 161.2z"}}]},name:"key",theme:"outlined"},h=S,O=e(84089),U=function(A,P){return f.createElement(O.Z,(0,o.Z)({},A,{ref:P,icon:h}))},v=f.forwardRef(U),E=v},63434:function(q,I,e){var o=e(1413),f=e(45987),S=e(22270),h=e(84567),O=e(67294),U=e(90789),v=e(40284),E=e(85893),D=["options","fieldProps","proFieldProps","valueEnum"],A=O.forwardRef(function(i,$){var K=i.options,x=i.fieldProps,H=i.proFieldProps,X=i.valueEnum,z=(0,f.Z)(i,D);return(0,E.jsx)(v.Z,(0,o.Z)({ref:$,valueType:"checkbox",valueEnum:(0,S.h)(X,void 0),fieldProps:(0,o.Z)({options:K},x),lightProps:(0,o.Z)({labelFormatter:function(){return(0,E.jsx)(v.Z,(0,o.Z)({ref:$,valueType:"checkbox",mode:"read",valueEnum:(0,S.h)(X,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,o.Z)({options:K},x),proFieldProps:H},z))}},z.lightProps),proFieldProps:H},z))}),P=O.forwardRef(function(i,$){var K=i.fieldProps,x=i.children;return(0,E.jsx)(h.Z,(0,o.Z)((0,o.Z)({ref:$},K),{},{children:x}))}),T=(0,U.G)(P,{valuePropName:"checked"}),w=T;w.Group=A,I.Z=w},75293:function(q,I,e){e.d(I,{Z:function(){return S}});var o=e(25593),f=e(85893);function S(h){return(0,f.jsx)(o.Z.Text,{copyable:!0,style:{padding:10,display:h.block?"block":"",background:"#24292f",color:"#ffffff"},children:h.content})}},66139:function(q,I,e){e.r(I),e.d(I,{default:function(){return de}});var o=e(15009),f=e.n(o),S=e(99289),h=e.n(S),O=e(5574),U=e.n(O),v=e(68602),E=e(89075),D=e(68262),A=e(82346),P=e(9361),T=e(40056),w=e(86250),i=e(25593),$=e(67294),K=e(75293),x=e(36146),H=e(29177),X=e(88360),z=e(94149),te=e(12119),Q=e(5966),re=e(97462),se=e(63434),le=e(92398),ie=e(55241),ue=e(42075),r=e(85893);function ce(B){var G,g=new x.Uo("user");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(le.Z,{centered:!0,activeKey:B.loginType,items:[{icon:(0,r.jsx)(H.Z,{}),key:"login",label:g.format("title")},{icon:(0,r.jsx)(X.Z,{}),key:"register",label:g.format("registerTitle")}].filter(function(Y){return Y.key==B.loginType})}),(0,r.jsx)(Q.Z,{name:"username",fieldProps:{size:"large",prefix:(0,r.jsx)(H.Z,{className:"prefixIcon"})},placeholder:g.format("formUsernameEmpty"),rules:[{required:!0,message:g.format("formUsernameEmpty")}]},"username"),(0,r.jsx)(Q.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,r.jsx)(z.Z,{className:"prefixIcon"})},placeholder:g.format("formPasswordEmpty"),rules:[{required:!0,message:g.format("formPasswordEmpty")}]},"password"),B.showTwoFa&&(0,r.jsx)(Q.Z,{name:"code",placeholder:g.format("formTwofaEmpty"),rules:[{required:!0}],fieldProps:{maxLength:6,size:"large",prefix:(0,r.jsx)(te.Z,{className:"prefixIcon"})}}),B.loginType=="register"&&(0,r.jsx)(re.Z,{name:["password"],children:function(_){var oe=_.password;return(0,r.jsx)(Q.Z.Password,{fieldProps:{size:"large",prefix:(0,r.jsx)(z.Z,{className:"prefixIcon"})},placeholder:g.format("formConfirmPasswordEmpty"),name:"confirmPassword",dependencies:["password"],rules:[{required:!0,message:g.format("formConfirmPasswordEmpty")},function(L){var J=L.getFieldValue;return{validator:function(t,n){return!n||J("password")===n?Promise.resolve():Promise.reject(new Error(g.format("formMessagePasswordNotMatch")))}}}]},"confirmPassword")}}),B.showAutoLogin&&(0,r.jsxs)("div",{style:{marginBlockEnd:24},children:[(0,r.jsx)(se.Z,{noStyle:!0,name:"autoLogin",initialValue:!0,children:g.format("formAutoLogin")}),(0,r.jsx)(ie.Z,{content:(0,r.jsxs)(ue.Z,{direction:"vertical",size:[0,30],children:[(0,r.jsxs)("span",{children:[g.format("formUserResetTip"),", ",(0,r.jsx)("a",{href:"https://dpanel.cc/install/ctrl",target:"_blank",children:x.FD.format("help")})]}),(0,r.jsx)(K.Z,{content:"docker exec ".concat((G=B.appName)!==null&&G!==void 0?G:"dpanel"," ./dpanel user:reset -f config.yaml")}),(0,r.jsx)("span",{})]}),children:(0,r.jsx)(i.Z.Link,{style:{float:"right"},children:g.format("formUserReset")})})]})]})}var de=function(){var B=P.Z.useToken(),G=B.token,g=(0,A.useModel)("@@initialState"),Y=g.refresh,_=(0,$.useState)({loginType:"account",appName:"dpanel"}),oe=U()(_,2),L=oe[0],J=oe[1],ae=(0,$.useState)(),t=U()(ae,2),n=t[0],a=t[1],s=(0,$.useState)(),l=U()(s,2),p=l[0],y=l[1],j=(0,A.useAntdConfigSetter)(),b=(0,$.useRef)(),m=new x.Uo("user"),F=(0,A.useAccess)();return(0,$.useEffect)(function(){window.document.title=m.format("documentTitle"),(0,v.Nr)().then(function(){var N=h()(f()().mark(function Z(u){var c;return f()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:m.appendXk(u.data.feature.includes("canSeeEnableXk")),c={loginType:"account"},u.data.showBuildName&&u.data.family!="lite"&&(c.showBuildName=!0),u.data.showRegister&&(c.loginType="register"),u.data.family=="demo"&&(c.showDemo=!0),c.appName=u.data.appName,u.data.theme&&u.data.theme.algorithm&&(localStorage.setItem("dpanel-theme",u.data.theme.algorithm),j(function(d){var ee;(ee=d.theme)!==null&&ee!==void 0||(d.theme={});var ne=[];return u.data.theme&&(u.data.theme.algorithm=="dark"?ne.push(P.Z.darkAlgorithm):ne.push(P.Z.defaultAlgorithm),d.theme.algorithm=ne),d})),y(u.data),J(c),u.data.feature.indexOf("canSeeEnableThemeUser")!=-1?(0,E.ax)().then(function(d){d.data&&d.data.themeUserConfig&&d.data.themeUserConfig.siteTitle&&(window.document.title=d.data.themeUserConfig.siteTitle),a(d.data)}):a({});case 10:case"end":return M.stop()}},Z)}));return function(Z){return N.apply(this,arguments)}}())},[]),(0,r.jsxs)(r.Fragment,{children:[L&&L.showBuildName&&(0,r.jsx)(T.Z,{type:"error",message:m.format("tipShowBuildName"),banner:!0}),L&&L.showDemo&&(0,r.jsx)(T.Z,{type:"error",message:m.format("tipShowDemo"),banner:!0}),(0,r.jsx)(w.Z,{justify:"center",align:"center",style:{height:"100vh",background:n&&n.themeUserConfig&&n.themeUserConfig.bgImage&&n.themeUserConfig.bgImage.src?"url(".concat(n.themeUserConfig.bgImage.src,")"):"".concat(G.colorBgElevated,"dd")},children:(0,r.jsxs)(D.U,{onFinish:function(){var N=h()(f()().mark(function Z(u){var c,R;return f()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(L.loginType!="register"){d.next=3;break}return d.next=3,(0,v.AT)({username:u.username,password:u.password,confirmPassword:u.confirmPassword});case 3:return d.prev=3,d.next=6,(0,v.n$)({username:u.username,password:u.password,autoLogin:u.autoLogin,code:u.code});case 6:if(c=d.sent,!c.data.accessToken){d.next=14;break}return localStorage.setItem("token",c.data.accessToken),Y(),c.data.redirect&&c.data.redirect!=""&&!F.canSeeEnableCe?window.location.href="/dpanel/ui"+c.data.redirect:window.location.href="/dpanel/ui",d.abrupt("return");case 14:return d.abrupt("return",!1);case 15:d.next=20;break;case 17:d.prev=17,d.t0=d.catch(3),(R=b.current)===null||R===void 0||R.resetFields(["code"]);case 20:case"end":return d.stop()}},Z,null,[[3,17]])}));return function(Z){return N.apply(this,arguments)}}(),containerStyle:{background:"transparent",height:"auto"},contentStyle:{width:"auto"},logo:"",title:(0,r.jsx)("img",{src:n&&n.themeUserConfig&&n.themeUserConfig.loginLogo?n.themeUserConfig.loginLogo:"/dpanel/static/asset/logo.png",width:"350"}),subTitle:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]}),formRef:b,children:[(0,r.jsx)(ce,{showTwoFa:!!(n&&n.canSeeEnableTwoFa),loginType:L.loginType,appName:L.appName,showAutoLogin:!(p!=null&&p.feature.includes("canSeeEnableXk"))}),(0,r.jsxs)(i.Z.Paragraph,{style:{marginBottom:10,color:"#999999",textAlign:"center"},children:[m.format("agree"),(0,r.jsx)("a",{href:m.format("userAgreementUrl"),target:"_blank",children:m.format("userAgreement")}),(0,r.jsx)("a",{href:m.format("userPrivacyUrl"),target:"_blank",children:m.format("userPrivacy")})]})]})})]})}},89075:function(q,I,e){e.d(I,{$w:function(){return U},YQ:function(){return E},ax:function(){return A}});var o=e(15009),f=e.n(o),S=e(99289),h=e.n(S),O=e(82346);function U(){return v.apply(this,arguments)}function v(){return v=h()(f()().mark(function T(){return f()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,O.request)("/api/pro/home/get-machine-id",{method:"POST"}));case 1:case"end":return i.stop()}},T)})),v.apply(this,arguments)}function E(){return D.apply(this,arguments)}function D(){return D=h()(f()().mark(function T(){return f()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,O.request)("/api/pro/home/get-license-info",{method:"POST"}));case 1:case"end":return i.stop()}},T)})),D.apply(this,arguments)}function A(){return P.apply(this,arguments)}function P(){return P=h()(f()().mark(function T(){return f()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,O.request)("/api/pro/home/login-info",{method:"POST"}));case 1:case"end":return i.stop()}},T)})),P.apply(this,arguments)}},40056:function(q,I,e){e.d(I,{Z:function(){return ae}});var o=e(67294),f=e(89739),S=e(4340),h=e(97937),O=e(21640),U=e(78860),v=e(93967),E=e.n(v),D=e(29372),A=e(64217),P=e(42550),T=e(96159),w=e(53124),i=e(11568),$=e(14747),K=e(83559);const x=(t,n,a,s,l)=>({background:t,border:`${(0,i.bf)(s.lineWidth)} ${s.lineType} ${n}`,[`${l}-icon`]:{color:a}}),H=t=>{const{componentCls:n,motionDurationSlow:a,marginXS:s,marginSM:l,fontSize:p,fontSizeLG:y,lineHeight:j,borderRadiusLG:b,motionEaseInOutCirc:m,withDescriptionIconSize:F,colorText:N,colorTextHeading:Z,withDescriptionPadding:u,defaultPadding:c}=t;return{[n]:Object.assign(Object.assign({},(0,$.Wf)(t)),{position:"relative",display:"flex",alignItems:"center",padding:c,wordWrap:"break-word",borderRadius:b,[`&${n}-rtl`]:{direction:"rtl"},[`${n}-content`]:{flex:1,minWidth:0},[`${n}-icon`]:{marginInlineEnd:s,lineHeight:0},"&-description":{display:"none",fontSize:p,lineHeight:j},"&-message":{color:Z},[`&${n}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${a} ${m}, opacity ${a} ${m},
        padding-top ${a} ${m}, padding-bottom ${a} ${m},
        margin-bottom ${a} ${m}`},[`&${n}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${n}-with-description`]:{alignItems:"flex-start",padding:u,[`${n}-icon`]:{marginInlineEnd:l,fontSize:F,lineHeight:0},[`${n}-message`]:{display:"block",marginBottom:s,color:Z,fontSize:y},[`${n}-description`]:{display:"block",color:N}},[`${n}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},X=t=>{const{componentCls:n,colorSuccess:a,colorSuccessBorder:s,colorSuccessBg:l,colorWarning:p,colorWarningBorder:y,colorWarningBg:j,colorError:b,colorErrorBorder:m,colorErrorBg:F,colorInfo:N,colorInfoBorder:Z,colorInfoBg:u}=t;return{[n]:{"&-success":x(l,s,a,t,n),"&-info":x(u,Z,N,t,n),"&-warning":x(j,y,p,t,n),"&-error":Object.assign(Object.assign({},x(F,m,b,t,n)),{[`${n}-description > pre`]:{margin:0,padding:0}})}}},z=t=>{const{componentCls:n,iconCls:a,motionDurationMid:s,marginXS:l,fontSizeIcon:p,colorIcon:y,colorIconHover:j}=t;return{[n]:{"&-action":{marginInlineStart:l},[`${n}-close-icon`]:{marginInlineStart:l,padding:0,overflow:"hidden",fontSize:p,lineHeight:(0,i.bf)(p),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${a}-close`]:{color:y,transition:`color ${s}`,"&:hover":{color:j}}},"&-close-text":{color:y,transition:`color ${s}`,"&:hover":{color:j}}}}},te=t=>({withDescriptionIconSize:t.fontSizeHeading3,defaultPadding:`${t.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${t.paddingMD}px ${t.paddingContentHorizontalLG}px`});var Q=(0,K.I$)("Alert",t=>[H(t),X(t),z(t)],te),re=function(t,n){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(t);l<s.length;l++)n.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(a[s[l]]=t[s[l]]);return a};const se={success:f.Z,info:U.Z,error:S.Z,warning:O.Z},le=t=>{const{icon:n,prefixCls:a,type:s}=t,l=se[s]||null;return n?(0,T.wm)(n,o.createElement("span",{className:`${a}-icon`},n),()=>({className:E()(`${a}-icon`,n.props.className)})):o.createElement(l,{className:`${a}-icon`})},ie=t=>{const{isClosable:n,prefixCls:a,closeIcon:s,handleClose:l,ariaProps:p}=t,y=s===!0||s===void 0?o.createElement(h.Z,null):s;return n?o.createElement("button",Object.assign({type:"button",onClick:l,className:`${a}-close-icon`,tabIndex:0},p),y):null};var r=o.forwardRef((t,n)=>{const{description:a,prefixCls:s,message:l,banner:p,className:y,rootClassName:j,style:b,onMouseEnter:m,onMouseLeave:F,onClick:N,afterClose:Z,showIcon:u,closable:c,closeText:R,closeIcon:M,action:d,id:ee}=t,ne=re(t,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[me,ye]=o.useState(!1),fe=o.useRef(null);o.useImperativeHandle(n,()=>({nativeElement:fe.current}));const{getPrefixCls:Ce,direction:Ee,closable:V,closeIcon:pe,className:Pe,style:xe}=(0,w.dj)("alert"),C=Ce("alert",s),[je,Ie,Se]=Q(C),Oe=W=>{var k;ye(!0),(k=t.onClose)===null||k===void 0||k.call(t,W)},ge=o.useMemo(()=>t.type!==void 0?t.type:p?"warning":"info",[t.type,p]),Te=o.useMemo(()=>typeof c=="object"&&c.closeIcon||R?!0:typeof c=="boolean"?c:M!==!1&&M!==null&&M!==void 0?!0:!!V,[R,M,c,V]),he=p&&u===void 0?!0:u,$e=E()(C,`${C}-${ge}`,{[`${C}-with-description`]:!!a,[`${C}-no-icon`]:!he,[`${C}-banner`]:!!p,[`${C}-rtl`]:Ee==="rtl"},Pe,y,j,Se,Ie),be=(0,A.Z)(ne,{aria:!0,data:!0}),Ze=o.useMemo(()=>typeof c=="object"&&c.closeIcon?c.closeIcon:R||(M!==void 0?M:typeof V=="object"&&V.closeIcon?V.closeIcon:pe),[M,c,R,pe]),Me=o.useMemo(()=>{const W=c!=null?c:V;if(typeof W=="object"){const{closeIcon:k}=W;return re(W,["closeIcon"])}return{}},[c,V]);return je(o.createElement(D.ZP,{visible:!me,motionName:`${C}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:W=>({maxHeight:W.offsetHeight}),onLeaveEnd:Z},({className:W,style:k},ve)=>o.createElement("div",Object.assign({id:ee,ref:(0,P.sQ)(fe,ve),"data-show":!me,className:E()($e,W),style:Object.assign(Object.assign(Object.assign({},xe),b),k),onMouseEnter:m,onMouseLeave:F,onClick:N,role:"alert"},be),he?o.createElement(le,{description:a,icon:t.icon,prefixCls:C,type:ge}):null,o.createElement("div",{className:`${C}-content`},l?o.createElement("div",{className:`${C}-message`},l):null,a?o.createElement("div",{className:`${C}-description`},a):null),d?o.createElement("div",{className:`${C}-action`},d):null,o.createElement(ie,{isClosable:Te,prefixCls:C,closeIcon:Ze,handleClose:Oe,ariaProps:Me}))))}),ce=e(15671),de=e(43144),B=e(61120),G=e(78814),g=e(82963);function Y(t,n,a){return n=(0,B.Z)(n),(0,g.Z)(t,(0,G.Z)()?Reflect.construct(n,a||[],(0,B.Z)(t).constructor):n.apply(t,a))}var _=e(60136),L=function(t){function n(){var a;return(0,ce.Z)(this,n),a=Y(this,n,arguments),a.state={error:void 0,info:{componentStack:""}},a}return(0,_.Z)(n,t),(0,de.Z)(n,[{key:"componentDidCatch",value:function(s,l){this.setState({error:s,info:l})}},{key:"render",value:function(){const{message:s,description:l,id:p,children:y}=this.props,{error:j,info:b}=this.state,m=(b==null?void 0:b.componentStack)||null,F=typeof s=="undefined"?(j||"").toString():s,N=typeof l=="undefined"?m:l;return j?o.createElement(r,{id:p,type:"error",message:F,description:o.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},N)}):y}}])}(o.Component);const J=r;J.ErrorBoundary=L;var ae=J}}]);
