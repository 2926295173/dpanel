"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3747],{23747:function(le,$,e){e.d($,{Z:function(){return ge}});var U=e(5574),c=e.n(U),V=e(15009),d=e.n(V),G=e(99289),g=e.n(G),_=e(67294),x=e(37767),L=e(60335),T=e(82346),C=e(58638),S=e(85265),b=e(96074),E=e(83062),O=e(86250),W=e(52031),r=e(14189),ae=e(72409),ie=e(93362),re=e(184),de=e(43831),J=e(5251),p=e(25593),u=e(52209),a=e(3616),n=e(85893),P=(0,_.forwardRef)(function(B,X){(0,_.useImperativeHandle)(X,function(){return{}});var v=(0,_.useState)(!1),i=c()(v,2),o=i[0],h=i[1];return(0,n.jsx)(re.a,{submitter:!1,title:(0,J.fi)(B.containerInfo.Name,"/")+" - \u7F51\u7EDC\u7BA1\u7406",onOpenChange:function(f){h(f)},drawerProps:{width:a.R_},open:o,trigger:(0,n.jsx)(p.Z.Link,{children:(0,n.jsx)(u.Z,{})},"file"),children:(0,n.jsx)(de.Z,{ghost:!0,containerInfo:B.containerInfo})})}),_e=P,ce=e(81146),s=e(45742),N=e(62597),k=(0,_.forwardRef)(function(B,X){(0,_.useImperativeHandle)(X,function(){return{show:function(Z){return g()(d()().mark(function D(){var w;return d()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,(0,L.jV)({md5:Z});case 2:w=F.sent,w.data&&j(w.data.info),h(!0);case 5:case"end":return F.stop()}},D)}))()}}});var v=(0,_.useState)(!1),i=c()(v,2),o=i[0],h=i[1],m=(0,_.useState)(),f=c()(m,2),t=f[0],j=f[1],A=(0,_.useRef)();return(0,n.jsxs)(n.Fragment,{children:[B.showTriggerButton&&(0,n.jsx)(p.Z.Link,{onClick:g()(d()().mark(function K(){return d()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:j(B.containerInfo),h(!0);case 2:case"end":return D.stop()}},K)})),children:(0,n.jsx)(E.Z,{title:"\u8FD0\u884C\u65E5\u5FD7",children:(0,n.jsx)(s.Z,{})})},"log"),(0,n.jsx)(S.Z,{title:"\u5BB9\u5668\u65E5\u5FD7",open:o,forceRender:!0,onClose:function(){h(!1)},afterOpenChange:function(Z){if(Z)setTimeout(function(){var w,z;(w=A.current)===null||w===void 0||w.start(),(z=A.current)===null||z===void 0||z.fit()},1e3);else{var D;(D=A.current)===null||D===void 0||D.close()}},width:a.FK,children:t&&o&&(0,n.jsx)(ce.Z,{ref:A,showInDrawer:!0,id:"container:log:".concat(t==null?void 0:t.Id),request:function(){var K=g()(d()().mark(function Z(D){var w;return d()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,(0,N.Tb)({id:(w=t.Id)!==null&&w!==void 0?w:"",lineTotal:D.lineTotal,download:D.download,showTime:D.showTime});case 2:case"end":return F.stop()}},Z)}));return function(Z){return K.apply(this,arguments)}}(),download:function(){var K=g()(d()().mark(function Z(D){var w,z,F,Y;return d()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,N.XH)({id:(w=t.Id)!==null&&w!==void 0?w:"",lineTotal:D.lineTotal,showTime:D.showTime});case 2:return F=M.sent,M.next=5,(0,L.jV)({md5:(z=t.Id)!==null&&z!==void 0?z:""});case 5:return Y=M.sent,M.abrupt("return",{data:new Blob([F],{type:"text/plain"}),name:Y.data.info.Name.replaceAll("/","")+"_"+new Date().toLocaleDateString()+".log"});case 7:case"end":return M.stop()}},Z)}));return function(Z){return K.apply(this,arguments)}}()})})]})}),ne=k,ve=e(65913),H=e(14245),q=e(1699),se=e(40666),oe=e(64789),fe=e(38345),y=e(42075),I=e(66309),R=e(90127),l=e(29453);function ee(B){var X=(0,_.useState)(0),v=c()(X,2),i=v[0],o=v[1],h=(0,_.useState)(),m=c()(h,2),f=m[0],t=m[1];return(0,_.useEffect)(function(){t([]),(0,l.e1)().then(function(j){t(j.data.list)})},[i,B.data.info.Name]),(0,n.jsx)(fe.Z,{ghost:!0,title:(0,n.jsx)(se.Z,{}),subTitle:"\u5BB9\u5668\u6807\u7B7E",extra:(0,n.jsx)(R.Z,{trigger:(0,n.jsx)(p.Z.Link,{children:(0,n.jsx)(oe.Z,{})}),containerDetail:B.data,onFinish:function(){o(i+1)}}),children:(0,n.jsx)(y.Z,{wrap:!0,children:f&&(f==null?void 0:f.filter(function(j){return j.item&&j.item.find(function(A){return A.name==B.data.info.Name})}).map(function(j,A){return(0,n.jsx)(I.Z,{color:j.tagColor,closable:!0,style:{height:35,display:"flex",borderRadius:20,justifyContent:"center",alignItems:"center"},onClose:g()(d()().mark(function K(){return d()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,l.rn)({name:B.data.info.Name,tag:j.tag});case 2:o(i+1);case 3:case"end":return D.stop()}},K)})),children:(0,n.jsx)("span",{style:{paddingLeft:10,paddingRight:3},children:j.tag})},A)}))})})}var Q=(0,_.forwardRef)(function(B,X){var v,i;(0,_.useImperativeHandle)(X,function(){return{show:function(Ee){return g()(d()().mark(function M(){return d()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return D(!0),he.next=3,z(Ee);case 3:case"end":return he.stop()}},M)}))()}}});var o=(0,T.useAccess)(),h=(0,_.useRef)(),m=(0,_.useState)(),f=c()(m,2),t=f[0],j=f[1],A=(0,_.useState)(!1),K=c()(A,2),Z=K[0],D=K[1],w=(0,_.useRef)();function z(Y){return F.apply(this,arguments)}function F(){return F=g()(d()().mark(function Y(Ee){var M,te;return d()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return(M=h.current)===null||M===void 0||M.show(),me.next=3,(0,L.jV)({md5:Ee}).finally(function(){var ue;(ue=h.current)===null||ue===void 0||ue.destroy()});case 3:te=me.sent,te.data&&(te.data.info.HostConfig.NetworkMode=="host"&&te.data.info.Config.ExposedPorts&&Object.keys(te.data.info.Config.ExposedPorts).map(function(ue){te.data.info.NetworkSettings.Ports[ue]=[{HostIp:"0.0.0.0",HostPort:ue.substring(0,ue.indexOf("/"))}]}),j(te.data));case 5:case"end":return me.stop()}},Y)})),F.apply(this,arguments)}return(0,n.jsx)(S.Z,{title:"\u5FEB\u6377\u67E5\u770B\u5BB9\u5668 - ".concat((0,J.fi)((v=t==null?void 0:t.info.Name)!==null&&v!==void 0?v:"","/")),open:Z,onClose:function(){D(!1),B.onFinish&&B.onFinish()},width:a.R_,extra:(0,n.jsxs)(q.u,{access:"canSeeContainerList",space:{split:(0,n.jsx)(b.Z,{type:"vertical"})},children:[(t==null?void 0:t.info)&&t.info.State.Running&&(0,n.jsx)(ie.Z,{apiPrefix:"container",name:t.info.Name,title:(0,J.fi)(t.info.Name,"/"),workDir:(i=t.info.Config.WorkingDir)!==null&&i!==void 0?i:""}),(t==null?void 0:t.info)&&o.canSeeContainerListManageOp&&(0,n.jsx)(_e,{containerInfo:t.info}),(t==null?void 0:t.info)&&t.info.State.Running&&(0,n.jsx)(ne,{containerInfo:t.info,showTriggerButton:!0}),(0,n.jsx)(q.u,{access:"canSeeContainerListManage",children:(0,n.jsx)(E.Z,{title:"\u67E5\u770B\u5B8C\u6574\u4FE1\u606F",children:(0,n.jsx)(T.Link,{to:"/app/detail/edit/"+(t==null?void 0:t.info.Id),children:(0,n.jsx)(C.Z,{})},"detail")})})]}),children:(0,n.jsx)(ve.Z,{ref:h,children:(0,n.jsxs)(O.Z,{vertical:!0,gap:20,children:[t&&(0,n.jsx)(q.u,{access:"canSeeContainerList",children:(0,n.jsx)(r.Z,{ref:w,ghost:!0,data:t==null?void 0:t.info,onFinish:g()(d()().mark(function Y(){return d()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,z(t.info.Id);case 2:return M.t0=M.sent,M.abrupt("return",[M.t0]);case 4:case"end":return M.stop()}},Y)}))})}),t&&(0,n.jsx)(q.u,{access:["canSeeContainerListManage","canSeeContainerListManageOp"],children:(0,n.jsx)(ae.Z,{ghost:!0,data:t,checkContainerUpgrade:function(){D(!1),B.onUpgradeFinish&&B.onUpgradeFinish()}})}),t&&(0,n.jsx)(ee,{data:t}),t&&(0,n.jsx)(x.Z,{data:t,ghost:!0}),(0,n.jsx)(W.Z,{data:t==null?void 0:t.info,ghost:!0}),t&&(0,n.jsx)(H.Z,{data:t.info,ghost:!0})]})})})}),ge=Q},90127:function(le,$,e){var U=e(15009),c=e.n(U),V=e(99289),d=e.n(V),G=e(5574),g=e.n(G),_=e(5251),x=e(184),L=e(62370),T=e(5966),C=e(24739),S=e(64317),b=e(52688),E=e(97462),O=e(38925),W=e(42075),r=e(67294),ae=e(1699),ie=e(80821),re=e(2808),de=e(87662),J=e(52756),p=e(29453),u=e(3616),a=e(85893),n=(0,r.forwardRef)(function(P,_e){var ce;(0,r.useImperativeHandle)(_e,function(){return{edit:function(i){B(!0),X(i),s.current&&s.current.setFieldsValue({tag:[i.tag],tagColor:i.tagColor,enableShowGroup:i.enableShowGroup})}}});var s=(0,r.useRef)(),N=(0,r.useState)(0),k=g()(N,2),ne=k[0],ve=k[1],H=(0,r.useState)([]),q=g()(H,2),se=q[0],oe=q[1],fe=(0,r.useState)(),y=g()(fe,2),I=y[0],R=y[1],l=(ce=P.containerDetail)===null||ce===void 0?void 0:ce.info,ee=(0,r.useState)(!1),Q=g()(ee,2),ge=Q[0],B=Q[1];function X(v){s.current&&s.current.setFieldsValue({title:v.title,description:v.description,url:v.url,icon:v.icon,name:v.name})}return(0,r.useEffect)(function(){R([]),(0,p.e1)().then(function(v){R(v.data.list)})},[ne]),(0,r.useEffect)(function(){l&&(0,de.K3)().then(function(v){var i=[];l.NetworkSettings&&l.NetworkSettings.Ports&&Object.keys(l.NetworkSettings.Ports).map(function(o){l.NetworkSettings.Ports[o]&&l.NetworkSettings.Ports[o].map(function(h){h.HostPort&&i.push("http://".concat(v.data.serverUrl,":").concat(h.HostPort))})}),oe(i)})},[P.containerDetail]),(0,a.jsxs)(x.a,{drawerProps:{forceRender:!0,width:u.R_},open:ge,onFinish:function(){var v=d()(c()().mark(function i(o){var h,m,f,t;return c()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return f="",o.tagColor&&o.tagColor.toHexString?o.tagColor.cleared||(f=o.tagColor.toHexString()):f=o.tagColor,t=(h=o.enableShowGroup)!==null&&h!==void 0?h:P.defaultEnableShowGroup,A.next=5,(0,p.A9)({enableShowGroup:t,tag:o.tag?o.tag[0]:"",tagColor:f,name:(m=l==null?void 0:l.Name)!==null&&m!==void 0?m:o.name,title:t?o.title:"",description:t?o.description:"",url:t?o.url:"",icon:t?o.icon:""});case 5:return ve(ne+1),P.onFinish&&P.onFinish({tag:o.tag,tagColor:o.tagColor,enableShowGroup:t}),A.abrupt("return",!0);case 8:case"end":return A.stop()}},i)}));return function(i){return v.apply(this,arguments)}}(),formRef:s,title:"\u6DFB\u52A0\u5BB9\u5668\u6807\u7B7E",trigger:P.trigger,onOpenChange:function(i){var o;B(i),!i&&(!((o=s.current)===null||o===void 0)&&o.resetFields)&&s.current.resetFields()},children:[P.defaultEnableShowGroup&&(0,a.jsx)(L.Z,{children:(0,a.jsx)(O.Z,{message:(0,J.getLang)("system.home.tagAddContainerTips")})}),(0,a.jsx)(T.Z,{name:"name",hidden:!0}),(0,a.jsxs)(C.UW,{children:[(0,a.jsx)(S.Z,{width:"lg",label:"\u6807\u7B7E\u6216\u5206\u7EC4",layout:"vertical",required:!0,rules:[{required:!0}],onChange:function(i){var o=I&&I.find(function(Z){return i&&i.length>=1&&Z.tag==i[0]});if(o){var h,m,f,t=o.item.find(function(Z){return Z.name==(l==null?void 0:l.Name)});(h=s.current)===null||h===void 0||h.setFieldsValue({tagColor:o.tagColor,enableShowGroup:o.enableShowGroup}),t&&t.name&&X({name:(m=l==null?void 0:l.Name)!==null&&m!==void 0?m:"",title:t?t.title:(0,_.fi)((f=l==null?void 0:l.Name)!==null&&f!==void 0?f:"","/"),description:t&&t.description,url:t&&t.url,icon:t&&t.icon})}if(!i||i.length==0){var j,A=(j=s.current)===null||j===void 0?void 0:j.getFieldValue("url");if(!A||A==""){var K;!((K=s.current)===null||K===void 0)&&K.resetFields&&s.current.resetFields()}}},options:I&&I.map(function(v){return{lable:v.tag,value:v.tag}}),name:"tag",mode:"tags",fieldProps:{maxCount:1},placeholder:"\u8BF7\u9009\u62E9\u6216\u662F\u8F93\u5165\u6807\u7B7E\u6216\u662F\u5206\u7EC4"},"tagSelect".concat(ne)),!P.defaultEnableShowGroup&&(0,a.jsx)(re.Z,{label:"\u6807\u7B7E\u80CC\u666F\u989C\u8272",name:"tagColor"})]}),!P.defaultEnableShowGroup&&(0,a.jsx)(ae.u,{access:"canSeeEnableCe",showProRibbonTips:!0,children:function(i){var o=i.canSeeEnableCe;return(0,a.jsx)(b.Z,{label:"\u4EE5\u5206\u7EC4\u7684\u5F62\u5F0F\u5C55\u793A\u9996\u9875\u5361\u7247",name:"enableShowGroup",disabled:o,fieldProps:{onChange:function(m){if(m){var f,t;X({name:(f=l==null?void 0:l.Name)!==null&&f!==void 0?f:"",title:(0,_.fi)((t=l==null?void 0:l.Name)!==null&&t!==void 0?t:"","/")})}}}})}}),(0,a.jsx)(E.Z,{name:["enableShowGroup"],children:function(i){var o=i.enableShowGroup;return(o||P.defaultEnableShowGroup)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(W.Z.Compact,{children:[P.containerDetail&&(0,a.jsx)(S.Z,{label:"\u9009\u62E9\u7AEF\u53E3",width:"sm",name:"selectUrl",options:se.map(function(h){return{label:h,value:h}}),onChange:function(m){var f;!((f=s.current)===null||f===void 0)&&f.setFieldValue&&s.current.setFieldValue("url",m)}}),(0,a.jsx)(T.Z,{label:"\u8BBF\u95EE\u5730\u5740",name:"url",width:"md"}),(0,a.jsx)(L.Z,{label:" ",children:(0,a.jsx)(ie.Z,{action:function(){var m;return(0,p.R3)({url:(m=s.current)===null||m===void 0?void 0:m.getFieldValue("url")})},onSuccess:function(m){var f,t,j;(f=s.current)===null||f===void 0||f.setFieldValue("icon",m.data.icon),(t=s.current)===null||t===void 0||t.setFieldValue("title",m.data.title),(j=s.current)===null||j===void 0||j.setFieldValue("description",m.data.description)},children:"\u83B7\u53D6\u4FE1\u606F"})})]}),(0,a.jsxs)(C.UW,{children:[(0,a.jsx)(T.Z,{label:"\u6807\u9898",name:"title"}),(0,a.jsx)(T.Z,{label:"\u63CF\u8FF0",name:"description"})]}),(0,a.jsx)(C.UW,{children:(0,a.jsx)(T.Z,{width:"lg",placeholder:"\u4EE5 https \u6216\u662F http \u5F00\u5934\uFF0C\u4F18\u5148\u4F7F\u7528\u4E0A\u4F20\u56FE\u7247",label:"\u56FE\u6807\u8FDC\u7A0B\u5730\u5740",name:"icon"})})]})}})]})});$.Z=n},81146:function(le,$,e){var U=e(15009),c=e.n(U),V=e(99289),d=e.n(V),G=e(97857),g=e.n(G),_=e(67294),x=e(97269),L=e(62370),T=e(5966),C=e(97462),S=e(82346),b=e(71230),E=e(15746),O=e(34041),W=e(28036),r=e(84567),ae=e(42075),ie=e(54964),re=e(80821),de=e(23430),J=e(93162),p=e.n(J),u=e(12320),a=e.n(u),n=e(78267),P=e.n(n),_e=e(75458),ce=e.n(_e),s=e(85893),N=new u.Terminal(g()(g()({},ie.a),{},{fontSize:12})),k=new n.FitAddon,ne=new _e.SearchAddon,ve=(0,_.forwardRef)(function(H,q){(0,_.useImperativeHandle)(q,function(){return{fit:function(){N.clear(),k.fit()},start:function(){return d()(c()().mark(function I(){return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,fe({lineTotal:500});case 2:case"end":return l.stop()}},I)}))()},close:function(){oe.progress.close(H.id)}}});var se=(0,_.useRef)(),oe=(0,S.useModel)("subscriber");oe.addDataHandler(H.id,function(y){N.write(y.data.replaceAll(`
`,`

`))});var fe=function(){var y=d()(c()().mark(function I(R){return c()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return N.clear(),R.download=!1,ee.next=4,H.request(R);case 4:case"end":return ee.stop()}},I)}));return function(R){return y.apply(this,arguments)}}();return(0,_.useEffect)(function(){return window.addEventListener("resize",function(){k.fit()}),N.loadAddon(k),N.open(document.getElementById("terminal-container-log")),k.fit(),function(){N.clear(),N.reset(),oe.progress.close(H.id)}},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.A,{submitter:!1,layout:"horizontal",onValuesChange:function(I,R){fe({id:H.id,lineTotal:parseInt(R.lineTotal),showTime:R.showTime})},formRef:se,children:(0,s.jsxs)(b.Z,{gutter:[10,0],children:[(0,s.jsx)(E.Z,{span:8,children:(0,s.jsx)(L.Z,{name:"lineTotal",initialValue:"500",label:"\u83B7\u53D6\u65E5\u5FD7\u6761\u6570",children:(0,s.jsxs)(O.Z,{defaultValue:"500",children:[(0,s.jsx)(O.Z.Option,{value:"100",children:"100\u6761\u65E5\u5FD7\u6570\u636E"}),(0,s.jsx)(O.Z.Option,{value:"200",children:"200\u6761\u65E5\u5FD7\u6570\u636E"}),(0,s.jsx)(O.Z.Option,{value:"500",children:"500\u6761\u65E5\u5FD7\u6570\u636E"}),(0,s.jsx)(O.Z.Option,{value:"1000",children:"1000\u6761\u65E5\u5FD7\u6570\u636E"}),(0,s.jsx)(O.Z.Option,{value:"-1",children:"\u5168\u90E8\uFF08\u4E0B\u8F7D\u53EF\u89C1\uFF09"})]})})}),(0,s.jsx)(E.Z,{children:(0,s.jsx)(W.ZP,{onClick:function(){N.clear()},children:"\u6E05\u5C4F"})}),(0,s.jsx)(E.Z,{children:(0,s.jsx)(L.Z,{name:"showTime",valuePropName:"checked",children:(0,s.jsx)(r.Z,{children:"\u663E\u793A\u65F6\u95F4"})})}),(0,s.jsx)(E.Z,{children:(0,s.jsx)(T.Z,{label:"\u67E5\u627E",name:"keywork"})}),(0,s.jsx)(E.Z,{children:(0,s.jsx)(C.Z,{name:["keywork"],children:function(I){var R=I.keywork;return(0,s.jsxs)(ae.Z,{size:10,children:[(0,s.jsx)(W.ZP,{onClick:function(){ne.findNext(R)},children:"\u4E0B\u4E00\u4E2A"},"next"),(0,s.jsx)(W.ZP,{onClick:function(){ne.findPrevious(R)},children:"\u4E0A\u4E00\u4E2A"},"prev")]})}})}),(0,s.jsx)(E.Z,{children:(0,s.jsx)(re.Z,{icon:(0,s.jsx)(de.Z,{}),action:d()(c()().mark(function y(){var I,R,l;return c()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(!H.download){Q.next=5;break}return Q.next=3,H.download({lineTotal:parseInt((I=se.current)===null||I===void 0?void 0:I.getFieldValue("lineTotal")),showTime:(R=se.current)===null||R===void 0?void 0:R.getFieldValue("showTime")});case 3:l=Q.sent,(0,J.saveAs)(l.data,l.name);case 5:case"end":return Q.stop()}},y)})),children:"\u4E0B\u8F7D\u65E5\u5FD7"})})]})}),(0,s.jsx)("div",{style:{marginTop:"20px",height:H.showInDrawer?"75vh":"580px"},id:"terminal-container-log"})]})});$.Z=ve},2808:function(le,$,e){e.d($,{Z:function(){return _}});var U=e(97857),c=e.n(U),V=e(62370),d=e(51663),G=e(67294),g=e(85893);function _(x){return(0,g.jsx)(V.Z,c()(c()({},x),{},{children:(0,g.jsx)(d.Z,{showText:function(T){return T.toHexString()},allowClear:!0,presets:[{label:"\u9884\u8BBE\u989C\u8272",colors:["#1677ff","#722ed1","#13c2c2","#52c41a","#eb2f96","#f5222d","#fa8c16","#fadb14","#fa541c","#2f54eb","#faad14","#a0d911","#000000","#5cdbd3","#b37feb","#b7eb8f","#61affe","#9254de","#36cfc9","#ff9c6e","#ff6f00","#ffc069","#28a745","#6610f2","#6f42c1","#007bff","#17a2b8","#20c997","#00cccc","#ff6666"]}]})}))}},52756:function(le,$,e){e.r($),e.d($,{default:function(){return T},getLang:function(){return L}});var U=e(82346),c=e(31418),V=e(26058),d=e(85137),G=e(24963),g=e(65913),_=e(67294),x=e(85893);function L(C,S){return(0,U.getIntl)((0,U.getLocale)()).formatMessage({id:C},S)}function T(){var C=(0,_.useRef)(),S=(0,U.useIntl)(),b=function(u){for(var a=arguments.length,n=new Array(a>1?a-1:0),P=1;P<a;P++)n[P-1]=arguments[P];O.notification[u]({message:S.formatMessage({id:"notification.title."+u}),description:n.join(" "),placement:"topRight"})},E=function(u){for(var a=arguments.length,n=new Array(a>1?a-1:0),P=1;P<a;P++)n[P-1]=arguments[P];O.message[u](n.join(" "))},O=c.Z.useApp(),W=(0,U.useModel)("@@initialState"),r=W.initialState,ae=W.loading,ie=W.error,re=W.refresh,de=W.setInitialState,J=(0,U.useModel)("subscriber");return r!=null&&r.user.username&&J.addDataHandler("user:permission:".concat(r==null?void 0:r.user.username),function(p){re()}),(0,x.jsx)(V.Z,{children:(0,x.jsx)(G.Z.Provider,{value:{notice:{success:function(){for(var u=arguments.length,a=new Array(u),n=0;n<u;n++)a[n]=arguments[n];b.apply(void 0,["success"].concat(a))},error:function(){for(var u=arguments.length,a=new Array(u),n=0;n<u;n++)a[n]=arguments[n];b.apply(void 0,["error"].concat(a))},warning:function(){for(var u=arguments.length,a=new Array(u),n=0;n<u;n++)a[n]=arguments[n];b.apply(void 0,["warning"].concat(a))},info:function(){for(var u=arguments.length,a=new Array(u),n=0;n<u;n++)a[n]=arguments[n];b.apply(void 0,["info"].concat(a))},destroy:function(){O.notification.destroy()}},message:{success:function(){for(var u=arguments.length,a=new Array(u),n=0;n<u;n++)a[n]=arguments[n];E.apply(void 0,["success"].concat(a))},error:function(){for(var u=arguments.length,a=new Array(u),n=0;n<u;n++)a[n]=arguments[n];E.apply(void 0,["error"].concat(a))},warning:function(){for(var u=arguments.length,a=new Array(u),n=0;n<u;n++)a[n]=arguments[n];E.apply(void 0,["warning"].concat(a))},info:function(){for(var u=arguments.length,a=new Array(u),n=0;n<u;n++)a[n]=arguments[n];E.apply(void 0,["info"].concat(a))},loading:function(){for(var u=arguments.length,a=new Array(u),n=0;n<u;n++)a[n]=arguments[n];E.apply(void 0,["loading"].concat(a))},destroy:function(){O.message.destroy()}},loading:{show:function(){C.current&&C.current.show()},destroy:function(){C.current&&C.current.destroy()}},lang:function(u,a){return S.formatMessage({id:u},a)}},children:(0,x.jsxs)(g.Z,{ref:C,children:[(0,x.jsx)(U.Outlet,{}),(0,x.jsx)(d.Z.BackTop,{duration:10,style:{bottom:100}})]})},ae?"1":"2")})}},65913:function(le,$,e){var U=e(5574),c=e.n(U),V=e(74330),d=e(67294),G=e(85893),g=(0,d.forwardRef)(function(_,x){(0,d.useImperativeHandle)(x,function(){return{show:function(){S(!0)},destroy:function(){S(!1)}}});var L=(0,d.useState)(!1),T=c()(L,2),C=T[0],S=T[1];return(0,G.jsx)(V.Z,{spinning:C,size:"default",children:_.children})});$.Z=g},29453:function(le,$,e){e.d($,{A9:function(){return g},R3:function(){return S},e1:function(){return x},rn:function(){return T}});var U=e(15009),c=e.n(U),V=e(99289),d=e.n(V),G=e(82346);function g(E){return _.apply(this,arguments)}function _(){return _=d()(c()().mark(function E(O){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,G.request)("/api/common/tag/create",{method:"POST",data:O});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},E)})),_.apply(this,arguments)}function x(E){return L.apply(this,arguments)}function L(){return L=d()(c()().mark(function E(O){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,G.request)("/api/common/tag/get-list",{method:"POST",data:O});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},E)})),L.apply(this,arguments)}function T(E){return C.apply(this,arguments)}function C(){return C=d()(c()().mark(function E(O){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,G.request)("/api/common/tag/delete",{method:"POST",data:O});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},E)})),C.apply(this,arguments)}function S(E){return b.apply(this,arguments)}function b(){return b=d()(c()().mark(function E(O){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,G.request)("/api/pro/tag/get-url-detail",{method:"POST",data:O});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},E)})),b.apply(this,arguments)}}}]);
