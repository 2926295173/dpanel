(self.webpackChunk=self.webpackChunk||[]).push([[842],{23430:function(Ae,fe,e){"use strict";e.d(fe,{Z:function(){return O}});var _=e(87462),c=e(67294),ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},m=ae,I=e(84089),E=function(H,r){return c.createElement(I.Z,(0,_.Z)({},H,{ref:r,icon:m}))},le=c.forwardRef(E),O=le},57546:function(Ae,fe,e){"use strict";e.d(fe,{Z:function(){return O}});var _=e(87462),c=e(67294),ae={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM653.3 424.6l52.2 52.2a8.01 8.01 0 01-4.7 13.6l-179.4 21c-5.1.6-9.5-3.7-8.9-8.9l21-179.4c.8-6.6 8.9-9.4 13.6-4.7l52.4 52.4 256.2-256.2c3.1-3.1 8.2-3.1 11.3 0l42.4 42.4c3.1 3.1 3.1 8.2 0 11.3L653.3 424.6z"}}]},name:"import",theme:"outlined"},m=ae,I=e(84089),E=function(H,r){return c.createElement(I.Z,(0,_.Z)({},H,{ref:r,icon:m}))},le=c.forwardRef(E),O=le},1883:function(Ae,fe,e){"use strict";var _=e(87462),c=e(67294),ae=e(3936),m=e(84089),I=function(O,b){return c.createElement(m.Z,(0,_.Z)({},O,{ref:b,icon:ae.Z}))},E=c.forwardRef(I);fe.Z=E},98093:function(Ae,fe,e){"use strict";e.d(fe,{Z:function(){return tn}});var _=e(15009),c=e.n(_),ae=e(99289),m=e.n(ae),I=e(5574),E=e.n(I),le=e(3616),O=e(184),b=e(62370),H=e(83622),r=e(67294),Z=e(59252),V=e(24796),D=e(93529),F=e(91058),ge=e(82034),ue=e(10523),me=e(52255),Y=e(38345),Se=e(5966),de=e(24739),Le=e(30291),L=e(92398),ee=e(36146),Me=e(42963),Je=e(42075),je=e(64317),qe=e(75870),o=e(85893);function _e(){var n=new ee.Uo("components.appForm");return(0,o.jsxs)(Je.Z.Compact,{children:[(0,o.jsx)(je.Z,{name:"imageRegistry",width:"sm",fieldProps:{popupMatchSelectWidth:!1},request:m()(c()().mark(function K(){var Ze;return c()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,(0,qe.Ot)();case 2:return Ze=ne.sent,ne.abrupt("return",Ze.data.list.map(function(De){return{label:"".concat(De.title,"@").concat(De.serverAddress),value:De.id}}));case 4:case"end":return ne.stop()}},K)})),label:n.format("dockerImageImageName")}),(0,o.jsx)(Se.Z,{label:" ",name:"imageName",required:!0,rules:[{required:!0}],width:"lg"})]})}var Re=e(86615),Ve=e(97462),ce=e(31199),Ke=e(86250),Ne=e(44349),Ue=e(24494);function Ge(){var n,K=new ee.Uo("components.appForm"),Ze=(0,r.useContext)(Me.Z),ye=Ze.createFormRef,ne=(0,r.useRef)();return(0,o.jsxs)(Y.Z,{children:[(0,o.jsxs)(Ke.Z,{gap:60,children:[(0,o.jsx)(Re.Z.Group,{width:"md",label:K.format("createSchedulingLabel"),name:["scheduling","mode"],options:K.option("createSchedulingOption",["global","replicated"]),initialValue:"replicated",disabled:(n=ye.current)===null||n===void 0?void 0:n.getFieldValue("id")}),(0,o.jsx)(Ve.Z,{name:["scheduling"],children:function(Oe){var Pe=Oe.scheduling;return Pe.mode=="replicated"&&(0,o.jsx)(ce.Z,{width:"md",label:K.format("createSchedulingReplicas"),name:["scheduling","replicas"],initialValue:1})}})]}),(0,o.jsx)(Ve.Z,{name:["scheduling","constraint"],children:function(Oe){var Pe=Oe.scheduling,Ie=Oe.constraint;return Pe.mode=="replicated"&&[(0,o.jsx)(Re.Z.Group,{label:K.format("createConstraintNode"),initialValue:"all",name:["constraint","role"],options:K.option("createConstraintNodeOption",["all","manager","worker","user"])},"role"),Ie&&Ie.role=="user"&&(0,o.jsx)(je.Z,{name:["constraint","node"],request:m()(c()().mark(function ke(){var be;return c()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,(0,Ue.HN)();case 2:return be=N.sent,N.abrupt("return",be.data.list&&be.data.list.map(function(W){var G;return{label:(G=W.Description)===null||G===void 0?void 0:G.Hostname,value:W.ID}}));case 4:case"end":return N.stop()}},ke)}))}),(0,o.jsx)(Ne.Z,{name:["constraint","label"],label:K.format("createConstraintLabel"),hideCopyButton:!0,showAddButton:!0,gap:10,ref:ne,items:[{label:K.format("createConstraintLabelOption.name"),name:"name",width:"md",placeholder:"node.labels.name"},{name:"operator",render:function(be,P,N){return(0,o.jsx)(je.Z,{label:" ",name:"operator",valueEnum:{"==":"==","!=":"!="},initialValue:"=="})}},{label:K.format("createConstraintLabelOption.value"),name:"value",width:"md"}]},"label"),(0,o.jsx)(Ne.Z,{name:"placement",label:K.format("createPlacementLabel"),hideCopyButton:!0,showAddButton:!0,gap:10,items:[{name:"name",render:function(be,P,N){return(0,o.jsx)(je.Z,{label:" ",name:"type",options:K.option("createPlacementOption",["spread"]),initialValue:"spread",allowClear:!1,width:"sm"})}},{label:K.format("createConstraintLabelOption.value"),name:"value",width:"md",placeholder:"node.labels.hostname"}]},"placement")]}})]})}var en=e(73396),ze=e(55730),p=e(33879);function T(){var n=new ee.Uo("components.appForm");return(0,o.jsx)(Y.Z,{ghost:!0,children:(0,o.jsxs)(Ke.Z,{gap:30,children:[(0,o.jsx)(je.Z,{label:n.format("createAdvRestart"),name:["restart","name"],width:"sm",initialValue:"any",options:n.option("createAdvRestartOption",["none","on-failure","any"])}),(0,o.jsx)(Ve.Z,{name:["restart"],children:function(Ze){var ye=Ze.restart;return ye=="on-failure"&&(0,o.jsx)(ce.Z,{width:"sm",label:n.format("createAdvRestartMax"),name:["restart","maxAttempt"],initialValue:5})}}),(0,o.jsx)(ce.Z,{width:"sm",label:n.format("createAdvRestartDelay"),tooltip:n.format("createAdvRestartDelayTip"),name:["restart","delay"],initialValue:5,fieldProps:{addonAfter:ee.FD.format("unitSecond")}}),(0,o.jsx)(ce.Z,{width:"sm",label:n.format("createAdvRestartWindow"),tooltip:n.format("createAdvRestartWindowTip"),name:["restart","window"],initialValue:0,fieldProps:{addonAfter:ee.FD.format("unitSecond")}})]})})}function M(){var n=new ee.Uo("components.appForm");return(0,o.jsxs)(Y.Z,{children:[(0,o.jsxs)(Ke.Z,{gap:30,children:[(0,o.jsx)(ce.Z,{label:n.format("createSwarmUpdateParallelism"),name:["scheduling","update","parallelism"],initialValue:1}),(0,o.jsx)(ce.Z,{label:n.format("createSwarmUpdateDelay"),name:["scheduling","update","delay"],initialValue:0,fieldProps:{addonAfter:ee.FD.format("unitSecond")}})]}),(0,o.jsx)(Re.Z.Group,{label:n.format("createSwarmUpdateFailureAction"),name:["scheduling","update","failureAction"],initialValue:"pause",options:n.option("createSwarmUpdateFailureActionOption",["pause","continue","rollback"])}),(0,o.jsx)(Re.Z.Group,{label:n.format("createSwarmUpdateOrder"),name:["scheduling","update","order"],initialValue:"stop-first",options:n.option("createSwarmUpdateOrderOption",["stop-first","start-first"])})]})}var a=e(64412),xe=e(27323),Xe=(0,r.forwardRef)(function(n,K){(0,r.useImperativeHandle)(K,function(){return{edit:function(s){var i,d,v,j,S,f,h,w,U,z,k,X,te,l,oe,J,Te,se,Be,ve,pe,we,he,x,u,y,C,g,$,re,q,Ce,Ye,We,rn,an={id:s.ID,siteName:(i=(d=s.Spec)===null||d===void 0?void 0:d.Name)!==null&&i!==void 0?i:"",siteTitle:((v=s.Spec)===null||v===void 0?void 0:v.Labels)&&((j=s.Spec)===null||j===void 0?void 0:j.Labels[Ue.$m]),hostname:(S=s.Spec)===null||S===void 0||(S=S.TaskTemplate)===null||S===void 0||(S=S.ContainerSpec)===null||S===void 0?void 0:S.Hostname,imageName:(f=(h=s.Spec)===null||h===void 0||(h=h.TaskTemplate)===null||h===void 0||(h=h.ContainerSpec)===null||h===void 0?void 0:h.Image)!==null&&f!==void 0?f:"",environment:(w=s.Spec)===null||w===void 0||(w=w.TaskTemplate)===null||w===void 0||(w=w.ContainerSpec)===null||w===void 0||(w=w.Env)===null||w===void 0?void 0:w.map(function(t){var R=t.split("=");return{name:R[0],value:R.slice(1).join("=")}}),volumes:(U=s.Spec)===null||U===void 0||(U=U.TaskTemplate)===null||U===void 0||(U=U.ContainerSpec)===null||U===void 0||(U=U.Mounts)===null||U===void 0?void 0:U.map(function(t){var R,B;return{dest:(R=t.Target)!==null&&R!==void 0?R:"",host:(B=t.Source)!==null&&B!==void 0?B:"",type:t.Type,permission:t.ReadOnly?"readonly":"write"}}),restartPolicy:function(t,R){return{name:(R=t.Condition)!==null&&R!==void 0?R:"any",maxAttempt:t.MaxAttempts,window:t.Window,delay:t.Delay}}(((z=s.Spec)===null||z===void 0||(z=z.TaskTemplate)===null||z===void 0?void 0:z.RestartPolicy)||{}),cpus:function(t){return t?t/1e9:0}((k=s.Spec)===null||k===void 0||(k=k.TaskTemplate)===null||k===void 0||(k=k.Resources)===null||k===void 0||(k=k.Limits)===null||k===void 0?void 0:k.NanoCPUs),memory:function(t){return t?t/1024/1024:0}((X=s.Spec)===null||X===void 0||(X=X.TaskTemplate)===null||X===void 0||(X=X.Resources)===null||X===void 0||(X=X.Limits)===null||X===void 0?void 0:X.MemoryBytes),workDir:{useDefault:!((te=s.Spec)!==null&&te!==void 0&&(te=te.TaskTemplate)!==null&&te!==void 0&&(te=te.ContainerSpec)!==null&&te!==void 0&&te.Dir),default:"",value:(l=s.Spec)===null||l===void 0||(l=l.TaskTemplate)===null||l===void 0||(l=l.ContainerSpec)===null||l===void 0?void 0:l.Dir},user:{useDefault:!((oe=s.Spec)!==null&&oe!==void 0&&(oe=oe.TaskTemplate)!==null&&oe!==void 0&&(oe=oe.ContainerSpec)!==null&&oe!==void 0&&oe.User),default:"",value:(J=s.Spec)===null||J===void 0||(J=J.TaskTemplate)===null||J===void 0||(J=J.ContainerSpec)===null||J===void 0?void 0:J.User},command:{useDefault:!((Te=s.Spec)!==null&&Te!==void 0&&(Te=Te.TaskTemplate)!==null&&Te!==void 0&&(Te=Te.ContainerSpec)!==null&&Te!==void 0&&Te.Command),default:"",value:(se=s.Spec)===null||se===void 0||(se=se.TaskTemplate)===null||se===void 0||(se=se.ContainerSpec)===null||se===void 0||(se=se.Command)===null||se===void 0?void 0:se.join(" ")},log:function(t,R){return{driver:(R=t==null?void 0:t.Name)!==null&&R!==void 0?R:"json-file",maxFile:(t==null?void 0:t.Options)&&t.Options["max-file"],maxSize:(t==null?void 0:t.Options)&&t.Options["max-size"]}}((Be=s.Spec)===null||Be===void 0||(Be=Be.TaskTemplate)===null||Be===void 0?void 0:Be.LogDriver),dns:(ve=s.Spec)===null||ve===void 0||(ve=ve.TaskTemplate)===null||ve===void 0||(ve=ve.ContainerSpec)===null||ve===void 0||(ve=ve.DNSConfig)===null||ve===void 0?void 0:ve.Nameservers,label:((pe=s.Spec)===null||pe===void 0||(pe=pe.TaskTemplate)===null||pe===void 0||(pe=pe.ContainerSpec)===null||pe===void 0?void 0:pe.Labels)&&Object.entries((we=s.Spec)===null||we===void 0||(we=we.TaskTemplate)===null||we===void 0||(we=we.ContainerSpec)===null||we===void 0?void 0:we.Labels).map(function(t){return{name:t[0],value:t[1]}}),extraHosts:((he=s.Spec)===null||he===void 0||(he=he.TaskTemplate)===null||he===void 0||(he=he.ContainerSpec)===null||he===void 0?void 0:he.Hosts)&&((x=s.Spec)===null||x===void 0||(x=x.TaskTemplate)===null||x===void 0||(x=x.ContainerSpec)===null||x===void 0?void 0:x.Hosts.map(function(t){var R=t.split(":"),B=E()(R,2),Ee=B[0],Fe=B[1];return{name:Ee,value:Fe}})),capAdd:(u=s.Spec)===null||u===void 0||(u=u.TaskTemplate)===null||u===void 0||(u=u.ContainerSpec)===null||u===void 0?void 0:u.CapabilityAdd,scheduling:function(t){return{mode:t!=null&&t.Global?"global":"replicated",replicas:t!=null&&t.Replicated?t.Replicated.Replicas:1}}((y=s.Spec)===null||y===void 0?void 0:y.Mode),constraint:function(t,R,B,Ee){var Fe="all";t!=null&&(R=t.Constraints)!==null&&R!==void 0&&R.includes("node.role==worker")&&(Fe="worker"),t!=null&&(B=t.Constraints)!==null&&B!==void 0&&B.includes("node.role==manager")&&(Fe="manager"),t==null||(Ee=t.Constraints)===null||Ee===void 0||Ee.forEach(function(He){He.includes("node.id==")&&(Fe="user")});var Qe="",nn=[];return t!=null&&t.Constraints&&t.Constraints.forEach(function(He){if(He.includes("node.id==")){var dn=He.split("node.id=="),on=E()(dn,2),Sn=on[0],cn=on[1];Qe=cn;return}if(He.includes("==")){var vn=He.split("=="),sn=E()(vn,2),pn=sn[0],fn=sn[1];nn.push({name:pn,value:fn,operator:"=="});return}if(He.includes("!=")){var mn=He.split("!="),un=E()(mn,2),hn=un[0],gn=un[1];nn.push({name:hn,value:gn,operator:"!="});return}}),{role:Fe,node:Qe,label:nn}}((C=s.Spec)===null||C===void 0||(C=C.TaskTemplate)===null||C===void 0?void 0:C.Placement),placement:((g=s.Spec)===null||g===void 0||(g=g.TaskTemplate)===null||g===void 0||(g=g.Placement)===null||g===void 0?void 0:g.Preferences)&&Object.entries(($=s.Spec)===null||$===void 0||($=$.TaskTemplate)===null||$===void 0||($=$.Placement)===null||$===void 0?void 0:$.Preferences).map(function(t){var R,B;return{name:"spread",value:(R=(B=t[1].Spread)===null||B===void 0?void 0:B.SpreadDescriptor)!==null&&R!==void 0?R:""}}),update:function(t,R,B){return{parallelism:(R=t==null?void 0:t.Parallelism)!==null&&R!==void 0?R:1,delay:(B=t==null?void 0:t.Delay)!==null&&B!==void 0?B:0,failureAction:t==null?void 0:t.FailureAction,order:t==null?void 0:t.Order}}((re=s.Spec)===null||re===void 0?void 0:re.UpdateConfig),healthcheck:function(t,R,B,Ee,Fe,Qe){var nn=t!=null&&(R=t.Test)!==null&&R!==void 0&&R.includes("CMD-SHELL")?"CMD-SHELL":"CMD";return{interval:(B=t==null?void 0:t.Interval)!==null&&B!==void 0?B:30,timeout:(Ee=t==null?void 0:t.Timeout)!==null&&Ee!==void 0?Ee:10,retries:(Fe=t==null?void 0:t.Retries)!==null&&Fe!==void 0?Fe:3,cmd:t!=null&&t.Test?t==null||(Qe=t.Test)===null||Qe===void 0?void 0:Qe.join(" "):"",shellType:nn}}((q=s.Spec)===null||q===void 0||(q=q.TaskTemplate)===null||q===void 0||(q=q.ContainerSpec)===null||q===void 0?void 0:q.Healthcheck)},ln=((Ce=s.Spec)===null||Ce===void 0?void 0:Ce.Labels)&&((Ye=s.Spec)===null||Ye===void 0?void 0:Ye.Labels[Ue.ev]);if(ln&&(an.imageRegistry=parseInt(ln)),(We=s.Spec)!==null&&We!==void 0&&(We=We.EndpointSpec)!==null&&We!==void 0&&We.Ports){var $e;an.ports=($e=s.Spec)===null||$e===void 0||($e=$e.EndpointSpec)===null||$e===void 0||($e=$e.Ports)===null||$e===void 0?void 0:$e.map(function(t){var R;return{dest:String(t.TargetPort),host:String((R=t.PublishedPort)!==null&&R!==void 0?R:""),mode:t.PublishMode}})}(rn=Ie.current)===null||rn===void 0||rn.setFieldsValue(an),Q(!0)}}});var Ze=(0,r.useState)("basic"),ye=E()(Ze,2),ne=ye[0],De=ye[1],Oe=new ee.Uo("components.appForm"),Pe=new ee.Uo("swarm"),Ie=(0,r.useRef)(),ke=(0,r.useRef)(),be=(0,r.useRef)(),P=(0,r.useRef)(),N=(0,r.useRef)(),W=(0,r.useState)(!1),G=E()(W,2),ie=G[0],Q=G[1];return(0,o.jsx)(Me.Z.Provider,{value:{createFormRef:Ie,volumeListRef:ke,createEnvRef:N,createLinkRef:P,domainRef:be},children:(0,o.jsx)(O.a,{drawerProps:{width:le.R_,forceRender:n.forceRender,rootClassName:"createAppWapper"},formRef:Ie,title:Pe.format("serviceCreateTitle"),onOpenChange:function(s){if(Q(s),!s){var i,d;!((i=Ie.current)===null||i===void 0)&&i.resetFields&&((d=Ie.current)===null||d===void 0||d.resetFields()),De("basic")}},open:ie,trigger:n.showTrigger?(0,o.jsx)(H.ZP,{type:"primary",children:Pe.format("serviceCreateTitle")}):void 0,onFinish:function(){var A=m()(c()().mark(function s(i){var d,v,j;return c()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return v={id:i.id,siteTitle:i.siteTitle,siteName:i.siteName,hostname:i.hostname,imageRegistry:i.imageRegistry,imageName:i.imageName,ports:i.ports,environment:i.environment,volumes:i.volumes,restartPolicy:i.restart,cpus:i.cpus,memory:i.memory,workDir:i.workDir&&!i.workDir.useDefault?i.workDir.value:"",user:i.user&&!i.user.useDefault?i.user.value:"",command:i.command&&!i.command.useDefault?i.command.value:"",entrypoint:i.entrypoint&&!i.entrypoint.useDefault?i.entrypoint.value:"",log:i.log,dns:i.dns,label:i.label,extraHosts:i.extraHosts,capAdd:i.capAdd,scheduling:i.scheduling,constraint:i.constraint,placement:i.placement,update:i.update},i.healthcheck&&i.healthcheck.cmd&&i.healthcheck.cmd!=""&&(v.healthcheck=i.healthcheck),v.scheduling&&((d=v.scheduling)===null||d===void 0?void 0:d.mode)=="global"&&v.ports&&(v.ports=(j=v.ports)===null||j===void 0?void 0:j.map(function(h){return h.mode="host",h})),f.next=5,(0,Ue.P3)(v);case 5:return n.onFinish&&n.onFinish(),f.abrupt("return",!0);case 7:case"end":return f.stop()}},s)}));return function(s){return A.apply(this,arguments)}}(),children:(0,o.jsxs)(Y.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,o.jsxs)(Y.Z,{ghost:!0,children:[(0,o.jsx)(b.Z,{name:"id",hidden:!0}),(0,o.jsx)(Se.Z,{name:"siteTitle",label:ee.FD.format("listDescription"),placeholder:Pe.format("serviceCreateListDescriptionEmpty")}),(0,o.jsxs)(de.UW,{children:[(0,o.jsx)(Se.Z,{width:"lg",name:"siteName",label:ee.FD.format("listName"),required:!0,rules:[{required:!0}],placeholder:Pe.format("serviceCreateListNameEmpty")}),(0,o.jsx)(Se.Z,{label:"Hostname",name:"hostname",width:"md"})]}),(0,o.jsx)(_e,{})]}),(0,o.jsx)(Le.Z,{offsetTop:10,target:function(){return document.querySelector(".createAppWapper .ant-drawer-body")},children:(0,o.jsx)(Y.Z,{style:{margin:-20},children:(0,o.jsx)(L.Z,{activeKey:ne,onChange:function(s){De(s)},items:Oe.option("createTabOption",["basic","scheduling","run-command","cap"]).map(function(A){return{label:A.label,key:A.value}})})})}),(0,o.jsxs)(Y.Z,{ghost:!0,children:[(0,o.jsxs)(me.Z,{show:ne=="basic",children:[(0,o.jsx)(ge.Z,{showIngress:!0}),(0,o.jsx)(F.Z,{showAddButton:!0,showImportButton:!0,showCodeMode:!0,ref:N,drawerProps:{title:Oe.format("createEnvTitle")}}),(0,o.jsx)(ue.Z,{showDefault:!0,ref:ke,showType:!0}),(0,o.jsx)(Z.Z,{}),(0,o.jsx)(V.Z,{})]}),(0,o.jsxs)(me.Z,{show:ne=="scheduling",children:[(0,o.jsx)(Ge,{}),(0,o.jsx)(M,{})]}),(0,o.jsxs)(me.Z,{show:ne=="run-command",children:[(0,o.jsx)(T,{}),(0,o.jsx)(p.Z,{showCommand:!0,showUser:!0,showWorkDir:!0}),(0,o.jsx)(en.Z,{}),(0,o.jsx)(ze.Z,{}),(0,o.jsx)(a.Z,{}),(0,o.jsx)(xe.Z,{})]}),(0,o.jsx)(me.Z,{show:ne=="cap",children:(0,o.jsx)(D.Z,{})})]})]})})})}),tn=Xe},94617:function(Ae,fe,e){"use strict";e.d(fe,{Z:function(){return be}});var _=e(97857),c=e.n(_),ae=e(15009),m=e.n(ae),I=e(99289),E=e.n(I),le=e(5574),O=e.n(le),b=e(24494),H=e(5251),r=e(36146),Z=e(86548),V=e(82061),D=e(1883),F=e(42075),ge=e(66309),ue=e(25593),me=e(96074),Y=e(83062),Se=e(60940),de=e(37413),Le=e(94359),L=e(67294),ee=e(87662),Me=e(78451),Je=e(3616),je=e(33160),qe=e(43425),o=e(57132),_e=e(71965),Re=e(45605),Ve=e(60433),ce=e(38345),Ke=e(97269),Ne=e(24739),Ue=e(31199),Ge=e(62370),en=e(9773),ze=e(64317),p=e(85265),T=e(86250),M=e(83622),a=e(84567),xe=e(26412),Xe=e(80821),tn=e(76428),n=e(85893);function K(P){var N,W,G=new r.Uo("swarm"),ie=P.detail;if((N=ie.Spec)!==null&&N!==void 0&&(N=N.Mode)!==null&&N!==void 0&&N.Replicated){var Q;return(0,n.jsxs)(F.Z,{children:[(0,n.jsx)(ge.Z,{children:G.format("listServiceMode.replicated")}),(0,n.jsx)(ge.Z,{color:"success",bordered:!1,children:(Q=ie.ServiceStatus)===null||Q===void 0?void 0:Q.RunningTasks}),(0,n.jsx)(ge.Z,{color:"gold",bordered:!1,children:ie.Spec.Mode.Replicated.Replicas})]})}else if((W=ie.Spec)!==null&&W!==void 0&&(W=W.Mode)!==null&&W!==void 0&&W.Global)return(0,n.jsx)(ge.Z,{children:G.format("listServiceMode.global")})}var Ze=e(81146);function ye(P){var N=(0,L.useState)(!1),W=O()(N,2),G=W[0],ie=W[1],Q=(0,L.useRef)();return(0,n.jsxs)(n.Fragment,{children:[P.trigger?L.cloneElement(P.trigger,{onClick:function(){ie(!0)}}):null,(0,n.jsx)(p.Z,{title:"".concat(r.FD.format("listLog")," - ").concat(P.detail.name),open:G,forceRender:!0,onClose:function(){ie(!1)},afterOpenChange:function(s){if(s)setTimeout(function(){var d,v;(d=Q.current)===null||d===void 0||d.start(),(v=Q.current)===null||v===void 0||v.fit()},1e3);else{var i;(i=Q.current)===null||i===void 0||i.close()}},width:Je.FK,children:G&&(0,n.jsx)(Ze.Z,{ref:Q,showInDrawer:!0,id:"swarm:log:".concat(P.type,":").concat(P.detail.id),request:function(){var A=E()(m()().mark(function s(i){var d;return m()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,(0,b.m8)({id:P.detail.id,type:P.type,lineTotal:i.lineTotal,download:(d=i.download)!==null&&d!==void 0?d:!1,showTime:i.showTime});case 2:case"end":return j.stop()}},s)}));return function(s){return A.apply(this,arguments)}}(),download:function(){var A=E()(m()().mark(function s(i){var d;return m()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,(0,b.Id)({id:P.detail.id,type:P.type,lineTotal:i.lineTotal,showTime:i.showTime,download:!0});case 2:return d=j.sent,j.abrupt("return",{data:new Blob([d],{type:"text/plain"}),name:P.detail.name+"_"+new Date().toLocaleDateString()+".log"});case 4:case"end":return j.stop()}},s)}));return function(s){return A.apply(this,arguments)}}()})})]})}var ne=e(98093),De=e(67255),Oe=(0,L.forwardRef)(function(P,N){var W,G,ie,Q,A,s,i,d,v,j,S,f,h;(0,L.useImperativeHandle)(N,function(){return{show:function(u){oe(u),k(!0)}}});var w=(0,L.useState)(!1),U=O()(w,2),z=U[0],k=U[1],X=(0,L.useState)(),te=O()(X,2),l=te[0],oe=te[1],J=new r.Uo("swarm"),Te=(0,L.useState)(""),se=O()(Te,2),Be=se[0],ve=se[1],pe=(0,L.useRef)(),we=(0,L.useRef)(),he=(0,L.useRef)();return(0,L.useEffect)(function(){(0,ee.K3)().then(function(x){var u;ve((u=x.data.serverUrl)!==null&&u!==void 0?u:"")})},[]),(0,n.jsxs)(p.Z,{title:J.format("serviceDetailTitle",{name:l==null||(W=l.Spec)===null||W===void 0?void 0:W.Name}),open:z,forceRender:!0,width:Je.R_,onClose:function(){k(!1),oe(void 0),P.onFinish&&P.onFinish()},extra:[l&&(0,n.jsx)(Xe.Z,{buttonProps:{type:"link",icon:(0,n.jsx)(je.Z,{})},tips:r.FD.format("listManageRefresh"),action:E()(m()().mark(function x(){var u,y;return m()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,b.ig)({id:l.ID});case 2:y=g.sent,oe(y.data.info),!((u=he.current)===null||u===void 0)&&u.reloadAndRest&&he.current.reloadAndRest();case 5:case"end":return g.stop()}},x)}))},"refresh")],children:[(0,n.jsx)(ne.Z,{forceRender:!0,ref:we,onFinish:E()(m()().mark(function x(){var u,y;return m()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,b.ig)({id:(u=l==null?void 0:l.ID)!==null&&u!==void 0?u:""});case 2:y=g.sent,oe(y.data.info);case 4:case"end":return g.stop()}},x)}))}),(0,n.jsxs)(T.Z,{vertical:!0,gap:20,children:[(0,n.jsx)(ce.Z,{title:(0,n.jsx)(qe.Z,{}),ghost:!0,subTitle:r.FD.format("listManage"),children:(0,n.jsxs)(F.Z,{wrap:!0,children:[l&&(0,n.jsx)(M.ZP,{type:"primary",icon:(0,n.jsx)(Z.Z,{}),onClick:function(){var u;(u=we.current)===null||u===void 0||u.edit(l)},children:r.FD.format("listManageEdit")}),(0,n.jsx)(me.Z,{type:"vertical"}),l&&(0,n.jsx)(ye,{type:"service",detail:{id:(G=l.ID)!==null&&G!==void 0?G:"",name:(ie=(Q=l.Spec)===null||Q===void 0?void 0:Q.Name)!==null&&ie!==void 0?ie:""},trigger:(0,n.jsx)(M.ZP,{icon:(0,n.jsx)(D.Z,{}),children:r.FD.format("listManageLog")},"log")}),(l==null||(A=l.Spec)===null||A===void 0||(A=A.Mode)===null||A===void 0?void 0:A.Replicated)&&(0,n.jsx)(Xe.Z,{buttonProps:{icon:(0,n.jsx)(o.Z,{})},confirmProps:{forceRender:!0,onOpenChange:function(u,y){var C,g;(C=pe.current)===null||C===void 0||C.setFieldsValue({replicas:(g=l.Spec)===null||g===void 0||(g=g.Mode)===null||g===void 0||(g=g.Replicated)===null||g===void 0?void 0:g.Replicas,force:!1})},description:(0,n.jsx)(Ke.A,{layout:"inline",submitter:!1,formRef:pe,children:(0,n.jsxs)(F.Z,{direction:"vertical",size:[0,15],style:{width:600},children:[(0,n.jsx)(ue.Z.Text,{children:J.format("serviceManageScalingTip")}),(0,n.jsxs)(Ne.UW,{children:[(0,n.jsx)(Ue.Z,{label:J.format("serviceManageScalingReplicas"),width:"sm",name:"replicas"}),(0,n.jsx)(Ge.Z,{name:"force",valuePropName:"checked",children:(0,n.jsxs)(a.Z,{children:[r.FD.format("listManageDeployForce"),"\uFF1F"]})})]})]})})},action:E()(m()().mark(function x(){var u,y,C;return m()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.abrupt("return",(0,b.x$)({name:(u=l==null?void 0:l.ID)!==null&&u!==void 0?u:"",replicas:(y=pe.current)===null||y===void 0?void 0:y.getFieldValue("replicas"),force:(C=pe.current)===null||C===void 0?void 0:C.getFieldValue("force")}));case 1:case"end":return $.stop()}},x)})),onSuccess:function(){(0,b.ig)({id:l.ID}).then(function(u){oe(u.data.info)})},children:r.FD.format("listManageScaling")}),l&&(0,n.jsx)(Xe.Z,{action:function(){return(0,b.x$)({name:l.ID,rollback:!0})},buttonProps:{icon:(0,n.jsx)(_e.Z,{})},confirmProps:{showCommonConfirm:!0},children:r.FD.format("listManageRollback")}),(0,n.jsx)(Xe.Z,{showDivider:!0,action:function(){var u;return(0,b.tm)({name:[(u=l==null?void 0:l.ID)!==null&&u!==void 0?u:""]})},buttonProps:{type:"primary",danger:!0,icon:(0,n.jsx)(V.Z,{})},confirmProps:{showCommonConfirm:!0},onSuccess:function(u){k(!1),P.onFinish&&P.onFinish()},children:r.FD.format("listManageDelete")})]})}),l&&(0,n.jsx)(de.Z,{publicPort:((s=l.Endpoint)===null||s===void 0?void 0:s.Ports)&&((i=l.Endpoint)===null||i===void 0?void 0:i.Ports.map(function(x){var u,y,C;return{PrivatePort:(u=x.TargetPort)!==null&&u!==void 0?u:0,Type:(y=x.Protocol)!==null&&y!==void 0?y:"tcp",IP:"",PublicPort:(C=x.PublishedPort)!==null&&C!==void 0?C:0}})),serverIp:Be,showInDetail:!0,ghost:!0,layout:"inline"}),(0,n.jsx)(ce.Z,{title:(0,n.jsx)(Re.Z,{}),subTitle:r.FD.format("listManageDetail"),ghost:!0,children:(0,n.jsxs)(xe.Z,{column:1,bordered:!0,styles:{label:{width:150}},children:[(0,n.jsxs)(xe.Z.Item,{label:r.FD.format("listTitle"),children:[(0,n.jsx)(tn.Z,{title:l==null?void 0:l.ID})," - ",l==null||(d=l.Spec)===null||d===void 0?void 0:d.Name,l&&((v=l.UpdateStatus)===null||v===void 0?void 0:v.State)&&(0,n.jsxs)(n.Fragment,{children:[" - ",(0,n.jsx)(Le.Z,{status:"service.".concat((j=l.UpdateStatus)===null||j===void 0?void 0:j.State)})]})]}),(0,n.jsx)(xe.Z.Item,{label:r.FD.format("listDescription"),children:(l==null||(S=l.Spec)===null||S===void 0?void 0:S.Labels)&&l.Spec.Labels[b.$m]}),(0,n.jsx)(xe.Z.Item,{label:r.FD.format("listRunTask"),children:(0,n.jsx)(F.Z,{children:(l==null?void 0:l.ServiceStatus)&&Object.keys(l.ServiceStatus).map(function(x){var u=x;return(l==null?void 0:l.ServiceStatus)&&(0,n.jsx)(Y.Z,{title:J.format("listServiceStatusTipOption.".concat(u)),children:(0,n.jsxs)(ge.Z,{color:J.format("listServiceStatusColorOption.".concat(u)),bordered:!1,children:[J.format("listServiceStatusOption.".concat(u))," ",l==null?void 0:l.ServiceStatus[u]]})},u)})})}),(0,n.jsx)(xe.Z.Item,{label:r.FD.format("listServiceMode"),children:l&&(0,n.jsx)(K,{detail:l})}),(0,n.jsx)(xe.Z.Item,{label:r.FD.format("listImageName"),children:l==null||(f=l.Spec)===null||f===void 0||(f=f.TaskTemplate)===null||f===void 0||(f=f.ContainerSpec)===null||f===void 0?void 0:f.Image}),(0,n.jsx)(xe.Z.Item,{label:r.FD.format("listVersion"),children:l==null||(h=l.Version)===null||h===void 0?void 0:h.Index}),(0,n.jsx)(xe.Z.Item,{label:r.FD.format("listCreatedAt"),children:(0,H.NF)(l==null?void 0:l.CreatedAt)}),(0,n.jsx)(xe.Z.Item,{label:r.FD.format("listUpdatedAt"),children:(0,H.NF)(l==null?void 0:l.UpdatedAt)})]})}),l&&(0,n.jsx)(ce.Z,{title:(0,n.jsx)(Ve.Z,{}),subTitle:J.format("listTaskTitle"),ghost:!0,children:(0,n.jsx)(en.Z,{scroll:{x:"max-content"},rowKey:"ID",search:{filterType:"light"},actionRef:he,columns:[{search:!1,title:r.FD.format("listName"),render:function(u,y,C,g,$){return y.ID}},{search:!1,width:200,title:r.FD.format("listNodeName"),render:function(u,y,C,g,$){return y.NodeID}},{search:!1,width:50,title:r.FD.format("listSlot"),render:function(u,y,C,g,$){return y.Slot}},{key:"status",renderFormItem:function(u,y,C,g){return(0,n.jsx)(ze.Z,{name:"status",valueEnum:Object.fromEntries(J.option("listTaskStatusOption",["running","shutdown","accepted"]).map(function($){return[$.value,$.label]}))})},width:120,title:r.FD.format("listRunStatus"),render:function(u,y,C){var g;if(y.Status.State!="running"){var $;return(0,n.jsx)(Le.Z,{status:"task.".concat(y.Status.State),tip:($=y.Status.Err)!==null&&$!==void 0?$:y.Status.Message})}return(0,n.jsx)(Le.Z,{status:"task.".concat(y.DesiredState),tip:(g=y.Status.Err)!==null&&g!==void 0?g:y.Status.Message})}},{search:!1,width:180,title:r.FD.format("listUpdatedAt"),render:function(u,y,C,g,$){return(0,H.NF)(y.UpdatedAt)}},{search:!1,width:100,title:r.FD.format("listManage"),fixed:"right",render:function(u,y,C,g,$){var re,q;return(0,n.jsx)(F.Z,{children:(0,n.jsx)(ye,{type:"node",detail:{id:(re=y.ID)!==null&&re!==void 0?re:"",name:(q=y.ID)!==null&&q!==void 0?q:""},trigger:(0,n.jsx)(ue.Z.Link,{children:(0,n.jsx)(D.Z,{})})})})}}],request:function(){var x=E()(m()().mark(function u(y){var C,g;return m()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=2,(0,b.XX)({serviceName:l==null?void 0:l.ID,status:y.status});case 2:return C=re.sent,re.next=5,(0,b.HN)();case 5:return g=re.sent,re.abrupt("return",{data:C.data.list.map(function(q){var Ce,Ye=g&&((Ce=g.data.list.find(function(We){return We.ID==q.NodeID}))===null||Ce===void 0||(Ce=Ce.Description)===null||Ce===void 0?void 0:Ce.Hostname);return Ye&&(q.NodeID=Ye),q}),success:!0,total:C.data.list.length});case 7:case"end":return re.stop()}},u)}));return function(u){return x.apply(this,arguments)}}(),pagination:(0,De.Oh)()})})]})]})}),Pe=Oe,Ie=e(59683),ke=(0,L.forwardRef)(function(P,N){(0,L.useImperativeHandle)(N,function(){return{reload:function(){var d;!((d=s.current)===null||d===void 0)&&d.reloadAndRest&&s.current.reloadAndRest()}}});var W=(0,L.useState)(""),G=O()(W,2),ie=G[0],Q=G[1],A=(0,L.useRef)(),s=(0,L.useRef)();return(0,L.useEffect)(function(){(0,ee.K3)().then(function(i){var d;Q((d=i.data.serverUrl)!==null&&d!==void 0?d:"")})},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Pe,{ref:A,onFinish:function(){var d;!((d=s.current)===null||d===void 0)&&d.reloadAndRest&&s.current.reloadAndRest()}}),(0,n.jsx)(Ie.C,c()(c()({},P.tableProps),{},{actionRef:s,rowKey:"ID",columns:[{key:"serviceName",title:r.FD.format("listServiceName"),render:function(d,v,j,S,f){var h,w=0;return v.Task&&v.Task.forEach(function(U){U.Status.State=="running"&&(w+=1)}),(0,n.jsxs)(F.Z,{children:[v.Task&&(0,n.jsx)(ge.Z,{color:"success",bordered:!1,children:w}),(0,n.jsx)(ue.Z.Link,{onClick:function(){var z;(z=A.current)===null||z===void 0||z.show(v)},children:(h=v.Spec)===null||h===void 0?void 0:h.Name})]})}},{width:150,search:!1,title:r.FD.format("listPort"),render:function(d,v,j,S,f){var h,w,U=[];return!((h=v.Endpoint)===null||h===void 0)&&h.Ports&&((w=v.Endpoint)===null||w===void 0||w.Ports.map(function(z){var k,X,te;U.push({PrivatePort:(k=z.TargetPort)!==null&&k!==void 0?k:0,Type:(X=z.Protocol)!==null&&X!==void 0?X:"tcp",IP:"0.0.0.0",PublicPort:(te=z.PublishedPort)!==null&&te!==void 0?te:0})})),(0,n.jsx)(de.Z,{ghost:!0,publicPort:U,serverIp:ie})}},{width:150,search:!1,title:r.FD.format("listServiceMode"),render:function(d,v,j,S,f){return(0,n.jsx)(K,{detail:v})}},{hidden:!P.showImageName,width:400,search:!1,title:r.FD.format("listImageName"),render:function(d,v,j,S,f){var h,w=((h=v.Spec)===null||h===void 0||(h=h.TaskTemplate)===null||h===void 0||(h=h.ContainerSpec)===null||h===void 0?void 0:h.Image)||"",U=w.includes("@")?w.split("@"):[w,null],z=O()(U,2),k=z[0],X=z[1];return(0,n.jsx)(Me.Z,{children:k})}},{search:!1,width:180,title:r.FD.format("listCreatedAt"),render:function(d,v,j,S,f){return(0,H.NF)(v.CreatedAt)}},{search:!1,width:180,title:r.FD.format("listUpdatedAt"),render:function(d,v,j,S,f){return(0,H.NF)(v.UpdatedAt)}},{hidden:!P.showManage,search:!1,title:r.FD.format("listManage"),width:100,fixed:"right",render:function(d,v,j,S,f){return(0,n.jsx)(F.Z,{split:(0,n.jsx)(me.Z,{type:"vertical"}),children:P.showManage&&P.showManage.onEdit&&(0,n.jsx)(ue.Z.Link,{onClick:function(){var w;!((w=P.showManage)===null||w===void 0)&&w.onEdit&&P.showManage.onEdit(v)},children:(0,n.jsx)(Y.Z,{title:r.FD.format("listManageEdit"),children:(0,n.jsx)(Z.Z,{})})},"edit")})}}],request:function(){var i=E()(m()().mark(function d(v){var j,S,f;return m()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(!P.showWithNodeId){w.next=7;break}return w.next=3,(0,b.rN)({nodeId:(j=P.showWithNodeId)!==null&&j!==void 0?j:""});case 3:return S=w.sent,w.abrupt("return",{data:S.data.list,total:S.data.list.length,success:!0});case 7:return w.next=9,(0,b.kM)({name:v.serviceName});case 9:return f=w.sent,w.abrupt("return",{data:f.data.list,total:f.data.list.length,success:!0});case 11:case"end":return w.stop()}},d)}));return function(d){return i.apply(this,arguments)}}(),quickToolbarRender:function(d){var v=d.selectedRows;return[(0,n.jsx)(Xe.Z,{buttonProps:{danger:!0,type:"primary",icon:(0,n.jsx)(V.Z,{})},action:E()(m()().mark(function j(){return m()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,b.tm)({name:v.map(function(h){return h.ID})}));case 1:case"end":return f.stop()}},j)})),onSuccess:function(){var S,f;return!((S=s.current)===null||S===void 0)&&S.reloadAndRest&&((f=s.current)===null||f===void 0||f.reloadAndRest()),!0},onError:function(){var S,f;return!((S=s.current)===null||S===void 0)&&S.reset&&((f=s.current)===null||f===void 0||f.reset()),!0},confirmProps:{showCommonConfirm:!0},children:r.FD.format("listManageDeleteBatch")})]},expandable:P.showWithNodeId?{expandRowByClick:!0,rowExpandable:function(d){return d.Task&&d.Task.length>0&&d.Task.filter(function(v){return v.Status.State=="running"}).length>0},expandedRowRender:function(d){return(0,n.jsx)(Se.Z,{rowKey:"ID",columns:[{title:r.FD.format("listName"),render:function(j,S,f){return S.ID}},{width:120,title:r.FD.format("listRunStatus"),render:function(j,S,f){var h;return(0,n.jsx)(Le.Z,{status:"task.".concat(S.Status.State),tip:(h=S.Status.Err)!==null&&h!==void 0?h:S.Status.Message})}},{title:r.FD.format("listUpdatedAt"),width:180,render:function(j,S,f){return(0,H.NF)(S.UpdatedAt)}},{width:100,title:r.FD.format("listManage"),fixed:"right",render:function(j,S,f){var h,w;return(0,n.jsx)(F.Z,{children:(0,n.jsx)(ye,{type:"node",detail:{id:(h=S.ID)!==null&&h!==void 0?h:"",name:(w=S.ID)!==null&&w!==void 0?w:""},trigger:(0,n.jsx)(ue.Z.Link,{children:(0,n.jsx)(D.Z,{})})})})}}],pagination:!1,dataSource:d.Task.filter(function(v){return v.Status.State=="running"})})}}:void 0}),"service-list")]})}),be=ke},24494:function(Ae,fe,e){"use strict";e.d(fe,{$m:function(){return E},HN:function(){return ge},Id:function(){return D},JC:function(){return O},P3:function(){return Ue},QB:function(){return Le},UK:function(){return H},XX:function(){return Je},Zc:function(){return me},ev:function(){return le},ig:function(){return en},kM:function(){return _e},kp:function(){return ee},m8:function(){return Z},rN:function(){return qe},tm:function(){return Ke},vb:function(){return Se},x$:function(){return Ve}});var _=e(15009),c=e.n(_),ae=e(99289),m=e.n(ae),I=e(82346),E="com.dpanel.swarm.service.description",le="com.dpanel.swarm.service.registry";function O(){return b.apply(this,arguments)}function b(){return b=m()(c()().mark(function p(){return c()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",(0,I.request)("/api/app/swarm/info",{method:"POST"}));case 1:case"end":return M.stop()}},p)})),b.apply(this,arguments)}function H(p){return r.apply(this,arguments)}function r(){return r=m()(c()().mark(function p(T){return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,I.request)("/api/app/swarm/init",{method:"POST",data:T}));case 1:case"end":return a.stop()}},p)})),r.apply(this,arguments)}function Z(p){return V.apply(this,arguments)}function V(){return V=m()(c()().mark(function p(T){return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return T.id=String(T.id),a.abrupt("return",(0,I.request)("/api/app/swarm/log",{method:"POST",data:T}));case 2:case"end":return a.stop()}},p)})),V.apply(this,arguments)}function D(p){return F.apply(this,arguments)}function F(){return F=m()(c()().mark(function p(T){return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return T.download=!0,T.id=String(T.id),a.next=4,(0,I.request)("/api/app/swarm/log",{method:"POST",data:T,responseType:"blob"});case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}},p)})),F.apply(this,arguments)}function ge(p){return ue.apply(this,arguments)}function ue(){return ue=m()(c()().mark(function p(T){return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,I.request)("/api/app/swarm/node-list",{method:"POST",data:T}));case 1:case"end":return a.stop()}},p)})),ue.apply(this,arguments)}function me(p){return Y.apply(this,arguments)}function Y(){return Y=m()(c()().mark(function p(T){return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,I.request)("/api/app/swarm/node-update",{method:"POST",data:T}));case 1:case"end":return a.stop()}},p)})),Y.apply(this,arguments)}function Se(p){return de.apply(this,arguments)}function de(){return de=m()(c()().mark(function p(T){return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,I.request)("/api/app/swarm/info-join",{method:"POST",data:T}));case 1:case"end":return a.stop()}},p)})),de.apply(this,arguments)}function Le(p){return L.apply(this,arguments)}function L(){return L=m()(c()().mark(function p(T){return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,I.request)("/api/app/swarm/node-remove",{method:"POST",data:T}));case 1:case"end":return a.stop()}},p)})),L.apply(this,arguments)}function ee(p){return Me.apply(this,arguments)}function Me(){return Me=m()(c()().mark(function p(T){return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,I.request)("/api/app/swarm/node-prune",{method:"POST",data:T}));case 1:case"end":return a.stop()}},p)})),Me.apply(this,arguments)}function Je(p){return je.apply(this,arguments)}function je(){return je=m()(c()().mark(function p(T){return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,I.request)("/api/app/swarm/task-list",{method:"POST",data:T}));case 1:case"end":return a.stop()}},p)})),je.apply(this,arguments)}function qe(p){return o.apply(this,arguments)}function o(){return o=m()(c()().mark(function p(T){return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,I.request)("/api/app/swarm/task-list-in-node",{method:"POST",data:T}));case 1:case"end":return a.stop()}},p)})),o.apply(this,arguments)}function _e(p){return Re.apply(this,arguments)}function Re(){return Re=m()(c()().mark(function p(T){return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,I.request)("/api/app/swarm/service-list",{method:"POST",data:T}));case 1:case"end":return a.stop()}},p)})),Re.apply(this,arguments)}function Ve(p){return ce.apply(this,arguments)}function ce(){return ce=m()(c()().mark(function p(T){return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,I.request)("/api/app/swarm/service-scaling",{method:"POST",data:T}));case 1:case"end":return a.stop()}},p)})),ce.apply(this,arguments)}function Ke(p){return Ne.apply(this,arguments)}function Ne(){return Ne=m()(c()().mark(function p(T){return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,I.request)("/api/app/swarm/service-delete",{method:"POST",data:T}));case 1:case"end":return a.stop()}},p)})),Ne.apply(this,arguments)}function Ue(p){return Ge.apply(this,arguments)}function Ge(){return Ge=m()(c()().mark(function p(T){return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,I.request)("/api/app/swarm/service-create",{method:"POST",data:T}));case 1:case"end":return a.stop()}},p)})),Ge.apply(this,arguments)}function en(p){return ze.apply(this,arguments)}function ze(){return ze=m()(c()().mark(function p(T){return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,I.request)("/api/app/swarm/service-detail",{method:"POST",data:T}));case 1:case"end":return a.stop()}},p)})),ze.apply(this,arguments)}},93162:function(Ae,fe,e){var _,c,ae;(function(m,I){c=[],_=I,ae=typeof _=="function"?_.apply(fe,c):_,ae!==void 0&&(Ae.exports=ae)})(this,function(){"use strict";function m(r,Z){return typeof Z=="undefined"?Z={autoBom:!1}:typeof Z!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),Z={autoBom:!Z}),Z.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}function I(r,Z,V){var D=new XMLHttpRequest;D.open("GET",r),D.responseType="blob",D.onload=function(){H(D.response,Z,V)},D.onerror=function(){console.error("could not download file")},D.send()}function E(r){var Z=new XMLHttpRequest;Z.open("HEAD",r,!1);try{Z.send()}catch(V){}return 200<=Z.status&&299>=Z.status}function le(r){try{r.dispatchEvent(new MouseEvent("click"))}catch(V){var Z=document.createEvent("MouseEvents");Z.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(Z)}}var O=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof e.g=="object"&&e.g.global===e.g?e.g:void 0,b=O.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),H=O.saveAs||(typeof window!="object"||window!==O?function(){}:"download"in HTMLAnchorElement.prototype&&!b?function(r,Z,V){var D=O.URL||O.webkitURL,F=document.createElement("a");Z=Z||r.name||"download",F.download=Z,F.rel="noopener",typeof r=="string"?(F.href=r,F.origin===location.origin?le(F):E(F.href)?I(r,Z,V):le(F,F.target="_blank")):(F.href=D.createObjectURL(r),setTimeout(function(){D.revokeObjectURL(F.href)},4e4),setTimeout(function(){le(F)},0))}:"msSaveOrOpenBlob"in navigator?function(r,Z,V){if(Z=Z||r.name||"download",typeof r!="string")navigator.msSaveOrOpenBlob(m(r,V),Z);else if(E(r))I(r,Z,V);else{var D=document.createElement("a");D.href=r,D.target="_blank",setTimeout(function(){le(D)})}}:function(r,Z,V,D){if(D=D||open("","_blank"),D&&(D.document.title=D.document.body.innerText="downloading..."),typeof r=="string")return I(r,Z,V);var F=r.type==="application/octet-stream",ge=/constructor/i.test(O.HTMLElement)||O.safari,ue=/CriOS\/[\d]+/.test(navigator.userAgent);if((ue||F&&ge||b)&&typeof FileReader!="undefined"){var me=new FileReader;me.onloadend=function(){var de=me.result;de=ue?de:de.replace(/^data:[^;]*;/,"data:attachment/file;"),D?D.location.href=de:location=de,D=null},me.readAsDataURL(r)}else{var Y=O.URL||O.webkitURL,Se=Y.createObjectURL(r);D?D.location=Se:location.href=Se,D=null,setTimeout(function(){Y.revokeObjectURL(Se)},4e4)}});O.saveAs=H.saveAs=H,Ae.exports=H})}}]);
