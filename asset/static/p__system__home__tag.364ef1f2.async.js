"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2440],{1699:function(Z,b,e){e.d(b,{u:function(){return t}});var D=e(9783),r=e.n(D),R=e(97857),i=e.n(R),o=e(67294),L=e(82346),P=e(40411),j=e(42075),E=e(85893),t=function(h){var f=(0,L.useAccess)(),p=Array.isArray(h.access)?h.access:[h.access],l,O=h.fallback;return typeof h.children=="function"?(l=h.children(p.reduce(function(_,y){return i()(i()({},_),{},r()({},y,f[y]))},{})),l||(l=O)):p.every(function(_){return f[_]})?l=h.children:l=O,!O&&l&&h.showProTips&&f.canSeeEnableCe&&(l=(0,E.jsx)(P.Z,{offset:h.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:l})),!O&&l&&h.showProRibbonTips&&f.canSeeEnableCe&&(l=(0,E.jsx)(P.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:l})),h.space?(0,E.jsx)(j.Z,i()(i()({},h.space),{},{children:l})):l}},80821:function(Z,b,e){e.d(b,{Z:function(){return E}});var D=e(5574),r=e.n(D),R=e(24963),i=e(86738),o=e(28036),L=e(83062),P=e(67294),j=e(85893);function E(t){var C=(0,P.useState)(!1),h=r()(C,2),f=h[0],p=h[1],l=(0,P.useContext)(R.Z),O=l.lang,_=l.notice,y=l.message,W=function(){p(!0);var U=t.action();U instanceof Promise?U.then(function(A){if(p(!1),A){typeof t.onSuccess=="function"&&t.onSuccess(A);var T="";t.messageSuccess?typeof t.messageSuccess=="function"?T=t.messageSuccess(A):T=t.messageSuccess.indexOf("notification.")==0?O(t.messageSuccess):t.messageSuccess:T=O("notification.finish"),t.asynced?y.info(T):y.success(T)}}).catch(function(A){p(!1),typeof t.onError=="function"&&t.onError(A)}):p(!1)};return t.confirm?(0,j.jsx)(i.Z,{style:{width:500},title:t.confirmTitle?t.confirmTitle:O("notification.title.tip"),description:typeof t.confirm=="string"&&t.confirm.indexOf("notification.")==0?O(t.confirm):t.confirm,onConfirm:W,okText:"Yes",cancelText:"No",onOpenChange:t.confirmOnOpenChange,children:(0,j.jsx)(o.ZP,{block:t.block,disabled:t.disabled,icon:!t.children&&f?void 0:t.icon,loading:f,danger:t.danger,type:t.type,children:t.children})}):(0,j.jsx)(L.Z,{title:t.tips,children:(0,j.jsx)(o.ZP,{block:t.block,style:t.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:t.disabled,icon:!t.children&&f?void 0:t.icon,loading:f,onClick:W,danger:t.danger,type:t.type,children:t.children})})}},24963:function(Z,b,e){var D=e(67294),r=(0,D.createContext)({});b.Z=r},96788:function(Z,b,e){e.r(b),e.d(b,{default:function(){return Y}});var D=e(15009),r=e.n(D),R=e(99289),i=e.n(R),o=e(5574),L=e.n(o),P=e(1699),j=e(80821),E=e(29453),t=e(90098),C=e(60335),h=e(40666),f=e(58638),p=e(74842),l=e(87784),O=e(43428),_=e(90078),y=e(38345),W=e(82346),$=e(86250),U=e(32983),A=e(71230),T=e(15746),d=e(7134),m=e(25593),M=e(42075),s=e(85418),k=e(67294),c=e(85893);function Y(){var x=(0,k.useState)([]),F=L()(x,2),G=F[0],u=F[1],a=(0,k.useState)(1),v=L()(a,2),n=v[0],J=v[1],X=(0,W.useAccess)();return(0,k.useEffect)(function(){X.canSeeEnableHomeTag&&(0,E.pK)().then(function(){var Q=i()(r()().mark(function H(N){var K;return r()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,C.IE)();case 2:K=g.sent,N.data.list&&u(N.data.list.filter(function(w){return w.enableShowGroup}).map(function(w){return w.container=w.container.map(function(S){var B=K.data.list&&K.data.list.find(function(I){return I.Names.includes(S.containerName)});if(B){var z;S.state=B.State,S.composeName=(z=B.Labels&&B.Labels["com.docker.compose.project"])!==null&&z!==void 0?z:""}return S}),w}));case 4:case"end":return g.stop()}},H)}));return function(H){return Q.apply(this,arguments)}}())},[n]),(0,c.jsx)(_._z,{children:(0,c.jsx)(P.u,{access:"canSeeEnableHomeTag",showProRibbonTips:!0,children:function(H){var N=H.canSeeEnableHomeTag;return(0,c.jsxs)(y.Z,{direction:"column",children:[!N&&(0,c.jsx)($.Z,{justify:"center",style:{height:"58vh"},vertical:!0,children:(0,c.jsx)(U.Z,{image:U.Z.PRESENTED_IMAGE_SIMPLE,description:(0,c.jsxs)(c.Fragment,{children:["\u8BF7\u5728\u5BB9\u5668\u8BE6\u60C5\u9875\u4E2D\u6DFB\u52A0\u9996\u9875\u5206\u7EC4\u6807\u7B7E, ",(0,c.jsx)(W.Link,{to:"/app/list",children:"\u5BB9\u5668\u5217\u8868"})]})})}),N&&G.map(function(K,V){return(0,c.jsx)(y.Z,{title:(0,c.jsx)(h.Z,{}),subTitle:K.tag,direction:"row",gutter:[15,15],headerBordered:!0,bodyStyle:{paddingTop:20,marginBottom:10},ghost:!0,wrap:!0,children:K.container.map(function(g,w){var S;return(0,c.jsx)(y.Z,{bordered:!0,hoverable:!0,colSpan:{xs:24,sm:12,md:12,lg:12,xl:8,xxl:6},bodyStyle:{height:80},children:(0,c.jsxs)(A.Z,{align:"middle",gutter:[10,0],children:[(0,c.jsx)(T.Z,{span:5,children:(0,c.jsx)(d.C,{shape:"square",src:(S=g.icon)!==null&&S!==void 0?S:"",gap:10,size:"large",children:g.containerName.substring(1,2)})}),(0,c.jsxs)(T.Z,{span:14,children:[(0,c.jsx)(m.Z.Title,{level:5,children:(0,c.jsx)("a",{target:"_blank",href:g.url,children:(0,c.jsxs)(M.Z,{children:[g.title,(0,c.jsx)(f.Z,{})]})})}),(0,c.jsx)(m.Z.Text,{children:g.description})]}),(0,c.jsx)(T.Z,{span:5,children:(0,c.jsxs)(M.Z,{children:[(0,c.jsx)(j.Z,{action:i()(r()().mark(function B(){return r()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(!g.composeName){I.next=2;break}return I.abrupt("return",(0,t.GG)({id:g.composeName,op:g.state=="running"?"stop":"start"}));case 2:return I.abrupt("return",(0,C.IW)({md5:g.containerName,operate:g.state=="running"?"stop":"start"}));case 3:case"end":return I.stop()}},B)})),onSuccess:function(){J(n+1)},type:"link",icon:(0,c.jsx)("div",{style:g.state=="running"?{color:"red"}:void 0,children:g.state&&g.state!="running"?(0,c.jsx)(p.Z,{}):(0,c.jsx)(l.Z,{})})}),(0,c.jsx)(s.Z,{trigger:["click"],menu:{items:[{label:(0,c.jsx)(j.Z,{action:function(){return(0,E._2)({containerName:g.containerName,tag:K.tag})},onSuccess:function(){J(n+1)},type:"link",children:"\u5220\u9664\u6807\u7B7E"}),key:"2"}]},children:(0,c.jsx)(m.Z.Link,{children:(0,c.jsx)(O.Z,{})})})]})})]})},w)})},"group-".concat(V))})]})}})})}},29453:function(Z,b,e){e.d(b,{_2:function(){return t},pK:function(){return j},q6:function(){return h},s6:function(){return L}});var D=e(15009),r=e.n(D),R=e(99289),i=e.n(R),o=e(82346);function L(p){return P.apply(this,arguments)}function P(){return P=i()(r()().mark(function p(l){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,o.request)("/api/app/container-tag/create",{method:"POST",data:l});case 2:return _.abrupt("return",_.sent);case 3:case"end":return _.stop()}},p)})),P.apply(this,arguments)}function j(p){return E.apply(this,arguments)}function E(){return E=i()(r()().mark(function p(l){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,o.request)("/api/app/container-tag/get-list",{method:"POST",data:l});case 2:return _.abrupt("return",_.sent);case 3:case"end":return _.stop()}},p)})),E.apply(this,arguments)}function t(p){return C.apply(this,arguments)}function C(){return C=i()(r()().mark(function p(l){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,o.request)("/api/app/container-tag/delete",{method:"POST",data:l});case 2:return _.abrupt("return",_.sent);case 3:case"end":return _.stop()}},p)})),C.apply(this,arguments)}function h(p){return f.apply(this,arguments)}function f(){return f=i()(r()().mark(function p(l){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,o.request)("/api/pro/container-tag/get-url-icon",{method:"POST",data:l});case 2:return _.abrupt("return",_.sent);case 3:case"end":return _.stop()}},p)})),f.apply(this,arguments)}},90098:function(Z,b,e){e.d(b,{GG:function(){return y},MG:function(){return M},Oh:function(){return p},Pn:function(){return t},U_:function(){return d},Yz:function(){return $},iE:function(){return Y},ik:function(){return h},im:function(){return L},mg:function(){return O},pm:function(){return j},tw:function(){return F},vf:function(){return A},xC:function(){return k}});var D=e(15009),r=e.n(D),R=e(99289),i=e.n(R),o=e(82346);function L(u){return P.apply(this,arguments)}function P(){return P=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/compose/create",{method:"POST",data:a}));case 1:case"end":return n.stop()}},u)})),P.apply(this,arguments)}function j(u){return E.apply(this,arguments)}function E(){return E=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/compose/get-list",{method:"POST",data:a}));case 1:case"end":return n.stop()}},u)})),E.apply(this,arguments)}function t(u){return C.apply(this,arguments)}function C(){return C=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.id=String(a.id),n.abrupt("return",(0,o.request)("/api/app/compose/get-task",{method:"POST",data:a}));case 2:case"end":return n.stop()}},u)})),C.apply(this,arguments)}function h(u){return f.apply(this,arguments)}function f(){return f=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/compose/delete",{method:"POST",data:a}));case 1:case"end":return n.stop()}},u)})),f.apply(this,arguments)}function p(u){return l.apply(this,arguments)}function l(){return l=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.id=String(a.id),n.abrupt("return",(0,o.request)("/api/app/compose/container-deploy",{method:"POST",data:a}));case 2:case"end":return n.stop()}},u)})),l.apply(this,arguments)}function O(u){return _.apply(this,arguments)}function _(){return _=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.id=String(a.id),n.abrupt("return",(0,o.request)("/api/app/compose/container-destroy",{method:"POST",data:a}));case 2:case"end":return n.stop()}},u)})),_.apply(this,arguments)}function y(u){return W.apply(this,arguments)}function W(){return W=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.id=String(a.id),n.abrupt("return",(0,o.request)("/api/app/compose/container-ctrl",{method:"POST",data:a}));case 2:case"end":return n.stop()}},u)})),W.apply(this,arguments)}function $(u){return U.apply(this,arguments)}function U(){return U=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.id=String(a.id),n.abrupt("return",(0,o.request)("/api/app/compose/container-log",{method:"POST",data:a}));case 2:case"end":return n.stop()}},u)})),U.apply(this,arguments)}function A(u){return T.apply(this,arguments)}function T(){return T=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.download=!0,a.id=String(a.id),n.next=4,(0,o.request)("/api/app/compose/container-log",{method:"POST",data:a,responseType:"blob"});case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}},u)})),T.apply(this,arguments)}function d(u){return m.apply(this,arguments)}function m(){return m=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/compose/container-process-kill",{method:"POST",data:a}));case 1:case"end":return n.stop()}},u)})),m.apply(this,arguments)}function M(u){return s.apply(this,arguments)}function s(){return s=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/compose/get-from-uri",{method:"POST",data:a}));case 1:case"end":return n.stop()}},u)})),s.apply(this,arguments)}function k(u){return c.apply(this,arguments)}function c(){return c=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.id=String(a.id),n.abrupt("return",(0,o.request)("/api/app/compose/parse",{method:"POST",data:a}));case 2:case"end":return n.stop()}},u)})),c.apply(this,arguments)}function Y(u){return x.apply(this,arguments)}function x(){return x=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/common/store/deploy",{method:"POST",data:a}));case 1:case"end":return n.stop()}},u)})),x.apply(this,arguments)}function F(u){return G.apply(this,arguments)}function G(){return G=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.id=String(a.id),n.abrupt("return",(0,o.request)("/api/app/compose/download",{method:"POST",data:a,responseType:"blob"}));case 2:case"end":return n.stop()}},u)})),G.apply(this,arguments)}},60335:function(Z,b,e){e.d(b,{IE:function(){return j},IW:function(){return L},KK:function(){return p},LJ:function(){return O},RF:function(){return $},Re:function(){return y},aF:function(){return A},eE:function(){return h},jV:function(){return t}});var D=e(15009),r=e.n(D),R=e(99289),i=e.n(R),o=e(82346);function L(d){return P.apply(this,arguments)}function P(){return P=i()(r()().mark(function d(m){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,o.request)("/api/app/container/status",{method:"POST",data:m}));case 1:case"end":return s.stop()}},d)})),P.apply(this,arguments)}function j(d){return E.apply(this,arguments)}function E(){return E=i()(r()().mark(function d(m){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,o.request)("/api/app/container/get-list",{data:m,method:"POST"}));case 1:case"end":return s.stop()}},d)})),E.apply(this,arguments)}function t(d){return C.apply(this,arguments)}function C(){return C=i()(r()().mark(function d(m){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,o.request)("/api/app/container/get-detail",{data:m,method:"POST"}));case 1:case"end":return s.stop()}},d)})),C.apply(this,arguments)}function h(d){return f.apply(this,arguments)}function f(){return f=i()(r()().mark(function d(m){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,o.request)("/api/app/container/update",{data:m,method:"POST"}));case 1:case"end":return s.stop()}},d)})),f.apply(this,arguments)}function p(){return l.apply(this,arguments)}function l(){return l=i()(r()().mark(function d(){return r()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",(0,o.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return M.stop()}},d)})),l.apply(this,arguments)}function O(d){return _.apply(this,arguments)}function _(){return _=i()(r()().mark(function d(m){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,o.request)("/api/app/container/export",{method:"POST",data:m,responseType:"blob"}));case 1:case"end":return s.stop()}},d)})),_.apply(this,arguments)}function y(d){return W.apply(this,arguments)}function W(){return W=i()(r()().mark(function d(m){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,o.request)("/api/app/container/commit",{method:"POST",data:m}));case 1:case"end":return s.stop()}},d)})),W.apply(this,arguments)}function $(d){return U.apply(this,arguments)}function U(){return U=i()(r()().mark(function d(m){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,o.request)("/api/app/container/upgrade",{method:"POST",data:m}));case 1:case"end":return s.stop()}},d)})),U.apply(this,arguments)}function A(d){return T.apply(this,arguments)}function T(){return T=i()(r()().mark(function d(m){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,o.request)("/api/app/container/copy",{method:"POST",data:m}));case 1:case"end":return s.stop()}},d)})),T.apply(this,arguments)}}}]);
