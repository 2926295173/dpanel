"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8566],{1699:function(se,U,t){t.d(U,{u:function(){return S}});var R=t(9783),i=t.n(R),Z=t(97857),c=t.n(Z),y=t(67294),O=t(82346),P=t(40411),f=t(42075),I=t(85893),S=function(m){var o=(0,O.useAccess)(),a=Array.isArray(m.access)?m.access:[m.access],D,u=m.fallback;if(typeof m.children=="function"?(D=m.children(a.reduce(function(W,e){return c()(c()({},W),{},i()({},e,o[e]))},{})),D||(D=u)):a.every(function(W){return o[W]})?D=m.children:D=u,!u&&D&&m.showProTips&&o.canSeeEnableCe){if(o.canSeeEnableHiddenProTips)return null;D=(0,I.jsx)(P.Z,{offset:m.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:D})}if(!u&&D&&m.showProRibbonTips&&o.canSeeEnableCe){if(o.canSeeEnableHiddenProTips)return null;D=(0,I.jsx)(P.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:D})}return m.space?(0,I.jsx)(f.Z,c()(c()({},m.space),{},{children:D})):D}},80821:function(se,U,t){t.d(U,{Z:function(){return o}});var R=t(97857),i=t.n(R),Z=t(5574),c=t.n(Z),y=t(24963),O=t(36146),P=t(86738),f=t(83062),I=t(96074),S=t(83622),T=t(67294),m=t(85893);function o(a){var D=(0,T.useState)(!1),u=c()(D,2),W=u[0],e=u[1],A=(0,T.useContext)(y.Z),re=A.message,N=new O.Uo,$=function(){e(!0);var g=a.action();g instanceof Promise?g.then(function(x){if(e(!1),x){typeof a.onSuccess=="function"&&a.onSuccess(x);var E="";a.messageSuccess?typeof a.messageSuccess=="function"?E=a.messageSuccess(x):E=a.messageSuccess.indexOf("notification.")==0?N.format(a.messageSuccess):a.messageSuccess:E=N.format("notification.finish"),a.asynced?re.info(E):re.success(E)}}).catch(function(x){e(!1),typeof a.onError=="function"&&a.onError(x)}):e(!1)};return a.confirm?(0,m.jsx)(P.Z,i()(i()({style:{width:500},title:a.confirmTitle?a.confirmTitle:N.format("notification.title.tip"),description:typeof a.confirm=="string"&&a.confirm.indexOf("notification.")==0?N.format(a.confirm):a.confirm,onConfirm:$,okText:"Yes",cancelText:"No",onOpenChange:a.confirmOnOpenChange},a.confirmProps),{},{children:(0,m.jsxs)(f.Z,{title:a.tips,children:[a.showDivider&&(0,m.jsx)(I.Z,{type:"vertical",style:{marginRight:15}}),(0,m.jsx)(S.ZP,{block:a.block,disabled:a.disabled,icon:!a.children&&W?void 0:a.icon,loading:W,danger:a.danger,type:a.type,children:a.children})]})})):(0,m.jsxs)(f.Z,{title:a.tips,children:[a.showDivider&&(0,m.jsx)(I.Z,{type:"vertical",style:{marginRight:15}}),(0,m.jsx)(S.ZP,{block:a.block,style:a.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:a.disabled,icon:!a.children&&W?void 0:a.icon,loading:W,onClick:$,danger:a.danger,type:a.type,children:a.children})]})}},27619:function(se,U,t){t.d(U,{Z:function(){return P}});var R=t(5574),i=t.n(R),Z=t(82346),c=t(67294),y=t(64389),O=t(85893);function P(f){var I=(0,Z.useModel)("@@initialState"),S=I.initialState,T="chart-area-".concat(f.name),m=(0,c.useState)(),o=i()(m,2),a=o[0],D=o[1],u={};f.data.forEach(function(e){e.show===!1?u[e.name]=!1:u[e.name]=!0});var W={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}},valueFormatter:function(A){return f.yValueFormatter?f.yValueFormatter(A):A}},legend:{selected:u},grid:{left:"0",right:"0",bottom:"0",top:"30",containLabel:!0},xAxis:{type:"category",data:f.data[0].data.map(function(e){return e.date}),boundaryGap:!1,axisLabel:{rotate:20}},yAxis:{type:"value",axisLabel:{formatter:f.yLabelFormatter},max:function(A){if(f.yDomainMaxCallback)return f.yDomainMaxCallback(A)}},series:[]};return(0,c.useEffect)(function(){var e="",A=window.matchMedia("(prefers-color-scheme: dark)");(S==null?void 0:S.theme.algorithm)=="dark"||A.matches?e="dark":e="",a&&!a.isDisposed()&&a.dispose();var re=document.getElementById(T),N=y.S1(re,e);N.setOption(W);var $=new ResizeObserver(function(){N.resize()});re&&$.observe(re),D(N)},[S]),(0,c.useEffect)(function(){a&&!a.isDisposed()&&a.setOption({legend:{data:f.data.map(function(e){return e.name})},xAxis:{data:f.data[0].data.map(function(e){return e.date})},series:f.data.map(function(e){return{name:e.name,type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:e.data.map(function(A){return A.value})}})})},[f.data]),(0,O.jsx)("div",{style:{height:200},id:T})}},3616:function(se,U,t){t.d(U,{Ed:function(){return c},FK:function(){return i},R_:function(){return R},ob:function(){return Z}});var R=window.innerWidth<=1024?"90vw":"65vw",i="90vw",Z="60vw",c="50vh"},24963:function(se,U,t){var R=t(67294),i=(0,R.createContext)({});U.Z=i},55617:function(se,U,t){t.r(U),t.d(U,{default:function(){return Ye}});var R=t(15009),i=t.n(R),Z=t(99289),c=t.n(Z),y=t(5574),O=t.n(y),P=t(19632),f=t.n(P),I=t(1699),S=t(80821),T=t(27619),m=t(3616),o=t(5251),a=t(36146),D=t(184),u=t(25593),W=t(60940),e=t(85893),A=new a.Uo("components.containerStat");function re(z){return(0,e.jsx)(D.a,{drawerProps:{width:m.R_},title:A.format("detailTitle"),submitter:!1,trigger:(0,e.jsx)(u.Z.Link,{children:a.FD.format("listManageDetail")}),children:(0,e.jsx)(W.Z,{pagination:!1,dataSource:z.data,rowKey:"name",columns:[{title:a.FD.format("listContainerName"),dataIndex:"name"},{title:"Cpu",dataIndex:"cpu",sorter:function(p,h){return p.cpu-h.cpu},render:function(p,h,V){return"".concat(h.cpu.toFixed(2),"%")}},{title:"Memory",dataIndex:"memory",sorter:function(p,h){return p.memory.in-h.memory.in},render:function(p,h,V){var k,Q;return"".concat((0,o.FI)((k=h==null?void 0:h.memory.in)!==null&&k!==void 0?k:0)," / ").concat((0,o.FI)((Q=h==null?void 0:h.memory.out)!==null&&Q!==void 0?Q:0))}},{title:a.FD.format("listNetworkIO"),dataIndex:"networkIO",render:function(p,h,V){return"".concat((0,o.FI)(h.networkIO.in)," / ").concat((0,o.FI)(h.networkIO.out))}},{title:a.FD.format("listDiskIO"),dataIndex:"blockIO",render:function(p,h,V){return"".concat((0,o.FI)(h.blockIO.in)," / ").concat((0,o.FI)(h.blockIO.out))}}]})})}var N=t(97857),$=t.n(N),M=t(67294),g=t(64389),x={tooltip:{show:!0,formatter:function(b){return b&&b.data&&b.data.tooltipItem?b.data.tooltipItem.map(function(p){return"<div>".concat(p.field,": ").concat(p.content,"</div>")}).join(" "):"".concat(b.data.name,": ").concat((0,o.FI)(b.data.value))}},legend:{selectedMode:"single",top:0,itemGap:5},series:[]},E={name:"",type:"treemap",left:0,right:0,top:30,bottom:0,roam:!1,label:{show:!0},levels:[{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}}],sort:!0,leafDepth:1,data:[]},s=new a.Uo("components.containerStat"),Re=(0,M.forwardRef)(function(z,b){var p=z.data.usage,h=(0,M.useState)(),V=O()(h,2),k=V[0],Q=V[1];(0,M.useImperativeHandle)(b,function(){return{}});function ue(){if(!p.Containers||!p.Images){k&&k.setOption({series:[$()($()({},E),{},{name:"",data:[{name:s.format("usageEmpty"),value:1}]})]});return}var L=[],C=[];p.Containers&&p.Containers.forEach(function(d){var w,te,ae,ne=d.SizeRootFs+((w=d.SizeRw)!==null&&w!==void 0?w:0),oe=[];d.Mounts&&d.Mounts.forEach(function(X){var le=p.Volumes&&p.Volumes.find(function(fe){return fe.Name==X.Name});le&&(ne+=le.UsageData.Size,oe.push({name:s.format("usageVolume",{name:X.Name}),value:le.UsageData.Size,children:[]}))});var ce={name:(0,o.fi)(d.Names[0],"/"),value:ne,tooltipItem:[{field:(0,o.fi)(d.Names[0],"/"),content:(0,o.FI)(ne)},{field:s.format("usageContainerRootFs"),content:(0,o.FI)((te=d.SizeRootFs)!==null&&te!==void 0?te:0)},{field:s.format("usageContainerRw"),content:(0,o.FI)((ae=d.SizeRw)!==null&&ae!==void 0?ae:0)}],children:[{name:s.format("usageContainerRootFs"),value:d.SizeRootFs,children:[]},{name:s.format("usageContainerRw"),value:d.SizeRw,children:[]}]};if(oe&&oe.length>0){var me,de;(me=ce.children).push.apply(me,oe),(de=ce.tooltipItem)===null||de===void 0||de.push.apply(de,f()(oe.map(function(X){var le;return{field:X.name,content:(0,o.FI)((le=X.value)!==null&&le!==void 0?le:0)}})))}C.push(ce)}),L.push($()($()({},E),{},{name:s.format("usageTitleContainer"),data:C})),C=[],p.Images&&p.Images.forEach(function(d){var w,te,ae,ne;C.push({name:d.RepoTags?d.RepoTags[0]:d.Id.substring(7,19),value:d.Size+((w=d.SharedSize)!==null&&w!==void 0?w:0),tooltipItem:[{field:d.RepoTags?d.RepoTags[0]:d.Id.substring(7,19),content:(0,o.FI)(d.Size+((te=d.SharedSize)!==null&&te!==void 0?te:0))},{field:s.format("usageImageSize"),content:(0,o.FI)((ae=d.Size)!==null&&ae!==void 0?ae:0)},{field:s.format("usageImageSharedSize"),content:(0,o.FI)((ne=d.SharedSize)!==null&&ne!==void 0?ne:0)}],children:[{name:s.format("usageImageSize"),value:d.Size,children:[]},{name:s.format("usageImageSharedSize"),value:d.SharedSize,children:[]}]})}),L.push($()($()({},E),{},{name:s.format("usageTitleImage"),data:C})),C=[],p.Volumes&&p.Volumes.forEach(function(d){C.push({name:d.Name,value:d.UsageData.Size,children:[]})}),L.push($()($()({},E),{},{name:s.format("usageTitleVolume"),data:C})),L&&L.length>0&&k&&k.setOption({series:L,legend:{data:L.map(function(d){return d.name})}})}return(0,M.useEffect)(function(){var L=document.getElementById("docker-disk-usage"),C=g.S1(L);C.setOption(x);var d=new ResizeObserver(function(){C&&C.resize()});return L&&d.observe(L),Q(C),function(){k&&k.dispose(),Q(void 0)}},[]),(0,M.useEffect)(function(){k&&ue()},[k]),(0,e.jsx)("div",{style:{height:450},id:"docker-disk-usage"})}),ke=Re,Le=t(55241),De=t(71230),ye=t(15746),we=t(38703),Ze=(0,M.forwardRef)(function(z,b){return(0,M.useImperativeHandle)(b,function(){return{}}),(0,e.jsxs)(Le.Z,{placement:"left",children:[(0,e.jsx)(De.Z,{justify:"center",children:(0,e.jsx)(ye.Z,{children:(0,e.jsx)(we.Z,{percent:z.showPercent,type:"dashboard",format:function(h,V){return"".concat(h,"%")},size:150,status:z.showPercent>=100?"exception":"normal"})})}),(0,e.jsx)(De.Z,{justify:"center",children:(0,e.jsxs)(ye.Z,{style:{marginTop:"10px"},children:[z.showLabel,": ",z.showUse," / ",z.showTotal]})})]})}),Ee=Ze,We=t(24963),Ae=t(87662),he=t(2831),Fe=t(18148),be=t(89075),Be=t(20578),$e=t(45605),Ke=t(1210),_e=t(12122),F=t(38345),K=t(88273),ee=t(82346),ie=t(42075),ze=t(83622),Y=t(26412),ve=t(83062),Ne=t(40411),Ve=t(86250),Ge=t(93162),l=new a.Uo("system.home.overview"),He=function(b,p){switch(p.type){case"update":var h=new Date().toLocaleTimeString(),V=0,k=0,Q=0,ue=0,L=0,C=0;p.payload.map(function(w){V+=w.cpu,k+=w.memory.in,Q+=w.networkIO.in,ue+=w.networkIO.out,L+=w.blockIO.in,C+=w.blockIO.out});var d={list:p.payload,cpu:V,memory:k,network:[{name:l.format("runStatNetworkOut"),data:[].concat(f()(b.network[0].data.slice(-20)),[{date:h,value:ue}])},{name:l.format("runStatNetworkIn"),data:[].concat(f()(b.network[1].data.slice(-20)),[{date:h,value:Q}])}],io:[{name:l.format("runStatIoOut"),data:[].concat(f()(b.io[0].data.slice(-20)),[{date:h,value:C}])},{name:l.format("runStatIoIn"),data:[].concat(f()(b.io[1].data.slice(-20)),[{date:h,value:L}])}]};return d}};function Ye(){var z,b,p,h,V,k,Q,ue,L,C,d,w,te,ae,ne,oe,ce,me,de,X=(0,ee.useAccess)(),le=(0,M.useState)(),fe=O()(le,2),ge=fe[0],Qe=fe[1],Xe=(0,M.useState)(),Pe=O()(Xe,2),J=Pe[0],Je=Pe[1],qe=(0,M.useState)(),Se=O()(qe,2),r=Se[0],et=Se[1],tt=(0,M.useState)(),Ie=O()(tt,2),n=Ie[0],at=Ie[1],nt=(0,M.useState)(),xe=O()(nt,2),pe=xe[0],rt=xe[1],st=(0,M.useReducer)(He,{cpu:0,memory:0,network:[{name:l.format("runStatNetworkOut"),data:[]},{name:l.format("runStatNetworkIn"),data:[]}],io:[{name:l.format("runStatIoOut"),data:[]},{name:l.format("runStatIoIn"),data:[]}],list:[]}),Oe=O()(st,2),B=Oe[0],Te=Oe[1],it=(0,M.useContext)(We.Z),Ue=it.loading,Me=(0,ee.useModel)("subscriber");Me.addDataHandler("container:stat",function(v){Te({type:"update",payload:v.data})});function Ce(){return je.apply(this,arguments)}function je(){return je=c()(i()().mark(function v(){var _,j,q;return i()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return Ue.show(),H.next=3,(0,he.aF)().finally(function(){Ue.destroy()});case 3:return _=H.sent,et(_.data),H.next=7,(0,he.Ll)();case 7:return j=H.sent,at(j.data),H.next=11,(0,Ae.Cz)({follow:!0});case 11:q=H.sent,Te({type:"update",payload:[]});case 13:case"end":return H.stop()}},v)})),je.apply(this,arguments)}return(0,M.useEffect)(function(){return Ce(),!X.canSeeEnableCe&&(0,be.YQ)().then(function(v){Qe(v.data)}),!X.canSeeEnableCe&&(0,Be.q)().then(function(v){Je(v.data)}),(0,he.u5)().then(function(v){rt(v.data)}),function(){Me.progress.close("container:stat")}},[]),(0,e.jsxs)(F.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,e.jsxs)(F.Z,{bordered:!0,split:"vertical",wrap:!0,children:[(0,e.jsx)(F.Z,{style:{height:"570px",overflow:"hidden"},colSpan:{xs:24,sm:24,md:24,lg:9,xl:9},headerBordered:!0,title:(0,e.jsx)($e.Z,{}),subTitle:l.format("basicInfoTitle"),extra:(0,e.jsx)(ie.Z,{children:X.canSeeEnableCe?X.canSeeEnableInDPanel&&(0,e.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/manual/pro",target:"_blank",children:l.format("basicProBuy")},"proLink"):ge&&ge.expireTime?(0,e.jsxs)("span",{children:[l.format("basicProExpireTime")," ",new Date(ge.expireTime).toLocaleString()]},"expireTime"):(0,e.jsx)(ze.ZP,{type:"link",onClick:c()(i()().mark(function v(){var _,j;return i()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,(0,be.$w)();case 2:_=G.sent,j=new Blob([_.data.code],{type:"text/plain"}),(0,Ge.saveAs)(j,"dpanel.code");case 5:case"end":return G.stop()}},v)})),children:l.format("basicProCode")},"downloadCode")}),children:(0,e.jsxs)(Y.Z,{column:1,styles:{label:{width:100,justifyContent:"flex-end"}},children:[(0,e.jsx)(Y.Z.Item,{label:l.format("basicDPanelTitleVersion"),children:(0,e.jsxs)(ie.Z,{direction:"horizontal",wrap:!0,children:[r==null?void 0:r.dpanel.version," - ",r==null?void 0:r.dpanel.env," - ",r==null?void 0:r.dpanel.family,X.canSeeEnableInDPanel&&(0,e.jsx)(ve.Z,{title:l.format("basicDPanelTitleUpgradeInfo"),children:(0,e.jsx)("a",{target:"_blank",href:"https://github.com/donknap/dpanel/releases",children:(0,e.jsx)(Ke.Z,{})})}),pe&&pe.newVersion!=""&&(0,e.jsx)(ee.Link,{to:"/system/upgrade",children:(0,e.jsx)(Ne.Z,{count:pe.newVersion,size:"small"})})]})}),(0,e.jsxs)(Y.Z.Item,{label:"Docker Host",children:[r==null?void 0:r.info.Name," ",(0,e.jsx)(e.Fragment,{children:(r==null?void 0:r.info.ID)==""&&(0,e.jsx)(ee.Link,{to:"/system/env",state:{item:{name:"local",title:l.format("basicDefaultClientName")},t:(0,o.Fs)()},children:l.format("basicEnvSettingDefaultEnv")})})]}),(0,e.jsx)(Y.Z.Item,{label:l.format("basicDockerTitleVersion"),children:"".concat(r==null?void 0:r.info.OperatingSystem," - ").concat(r==null?void 0:r.info.ServerVersion," - ").concat(r==null?void 0:r.sdkVersion)}),(0,e.jsx)(Y.Z.Item,{label:l.format("basicDockerTitleFileDriver"),children:"".concat(r==null?void 0:r.info.Driver)}),(0,e.jsx)(Y.Z.Item,{label:l.format("basicDockerTitleLogDriver"),children:"".concat(r==null?void 0:r.info.LoggingDriver)}),(0,e.jsx)(Y.Z.Item,{label:l.format("basicDockerTitleSystemVersion"),children:"".concat(r==null?void 0:r.info.KernelVersion," - ").concat(r==null?void 0:r.info.Architecture)}),(0,e.jsxs)(Y.Z.Item,{label:"Cpu",children:[r==null?void 0:r.info.NCPU," ",a.FD.format("unitCpu")]}),(0,e.jsx)(Y.Z.Item,{label:"Memory",children:(0,o.FI)((z=r==null?void 0:r.info.MemTotal)!==null&&z!==void 0?z:0)}),(0,e.jsx)(Y.Z.Item,{label:l.format("basicDockerTitleRootDir"),children:r==null?void 0:r.info.DockerRootDir}),(0,e.jsx)(Y.Z.Item,{label:l.format("basicDockerTitlePluginsVolume"),children:(0,e.jsx)(ie.Z,{children:r==null?void 0:r.info.Plugins.Volume})}),(0,e.jsx)(Y.Z.Item,{label:l.format("basicDockerTitlePluginsNetwork"),children:(0,e.jsx)(ie.Z,{wrap:!0,children:r==null?void 0:r.info.Plugins.Network})}),(0,e.jsx)(Y.Z.Item,{label:l.format("basicDockerTitleSystemTime"),children:new Date((b=r==null?void 0:r.info.SystemTime)!==null&&b!==void 0?b:"").toLocaleString()})]})}),(0,e.jsxs)(F.Z,{headerBordered:!0,colSpan:{xs:24,sm:24,md:24,lg:15,xl:15},title:(0,e.jsx)(_e.Z,{}),subTitle:l.format("runStatTitle"),split:"horizontal",extra:(0,e.jsx)(ie.Z,{children:B.list&&(0,e.jsx)(re,{data:B.list})}),children:[(0,e.jsx)(F.Z,{children:(0,e.jsxs)(Ve.Z,{gap:50,align:"center",justify:"space-evenly",children:[(0,e.jsx)(Ee,{showPercent:parseFloat((((p=B==null?void 0:B.cpu)!==null&&p!==void 0?p:0)/((h=r==null?void 0:r.info.NCPU)!==null&&h!==void 0?h:0)).toFixed(2)),showLabel:"Cpu",showUse:"".concat(((V=B==null?void 0:B.cpu)!==null&&V!==void 0?V:0).toFixed(2)),showTotal:"".concat((k=r==null?void 0:r.info.NCPU)!==null&&k!==void 0?k:0," ").concat(a.FD.format("unitCpu"))}),(0,e.jsx)(Ee,{showPercent:parseFloat((((Q=B==null?void 0:B.memory)!==null&&Q!==void 0?Q:0)/((ue=r==null?void 0:r.info.MemTotal)!==null&&ue!==void 0?ue:0)*100).toFixed(2)),showLabel:"Memory",showUse:(0,o.FI)((L=B==null?void 0:B.memory)!==null&&L!==void 0?L:0),showTotal:"".concat((0,o.FI)((C=r==null?void 0:r.info.MemTotal)!==null&&C!==void 0?C:0))})]})}),(0,e.jsxs)(F.Z,{split:"vertical",wrap:!0,children:[(0,e.jsx)(F.Z,{colSpan:12,title:(0,e.jsx)(_e.Z,{}),subTitle:l.format("usageNetwork"),headerBordered:!0,children:(0,e.jsx)(T.Z,{data:B.network,yLabelFormatter:function(_){return(0,o.FI)(parseFloat(_))},yDomainMaxCallback:function(_){return _.max*1.5},name:"network"})}),(0,e.jsx)(F.Z,{colSpan:12,title:(0,e.jsx)(_e.Z,{}),subTitle:l.format("usageDisk"),headerBordered:!0,children:(0,e.jsx)(T.Z,{name:"disk",data:B.io,yLabelFormatter:function(_){return(0,o.FI)(parseFloat(_))},yDomainMaxCallback:function(_){return _.max*1.5}})})]})]})]}),(0,e.jsxs)(F.Z,{bordered:!0,headerBordered:!0,title:(0,e.jsx)(_e.Z,{}),subTitle:l.format("usageTitle"),wrap:!0,extra:(0,e.jsx)(ie.Z,{children:(0,e.jsx)("span",{children:n!=null&&n.diskUsage&&n!==null&&n!==void 0&&n.diskUsage.updatedAt?"".concat(l.format("usageLastUpgradeTime")," ").concat(new Date(n==null?void 0:n.diskUsage.updatedAt).toLocaleString()):""},"lastUpdate")},"size"),children:[(0,e.jsx)(F.Z,{colSpan:{xs:24,sm:24,md:24,lg:24,xl:12,xxl:12},ghost:!0,children:(n==null?void 0:n.diskUsage)&&(0,e.jsx)(ke,{data:n==null?void 0:n.diskUsage})}),(0,e.jsxs)(F.Z,{colSpan:{xs:24,sm:8,md:8,lg:8,xl:4,xxl:4},split:"horizontal",ghost:!0,children:[(0,e.jsx)(K.Z,{statistic:{title:(0,e.jsx)(ie.Z,{children:l.format("usageContainer")}),value:n!=null&&n.diskUsage.usage.Containers?(0,o.FI)((d=n.diskUsage.usage.Containers.reduce(function(v,_){var j;return v+_.SizeRootFs+((j=_.SizeRw)!==null&&j!==void 0?j:0)},0))!==null&&d!==void 0?d:0):0,description:l.format("usageDescContainer")}}),(0,e.jsx)(K.Z,{statistic:{title:(0,e.jsx)(ie.Z,{children:l.format("usageImage")}),value:n!=null&&n.diskUsage.usage.Images?(0,o.FI)((w=n.diskUsage.usage.Images.reduce(function(v,_){var j;return v+(_.Size+((j=_.SharedSize)!==null&&j!==void 0?j:0))},0))!==null&&w!==void 0?w:0):0,description:l.format("usageDescImage")}}),(0,e.jsx)(K.Z,{statistic:{title:(0,e.jsx)(ie.Z,{children:l.format("usageVolume")}),value:n!=null&&n.diskUsage.usage.Volumes?(0,o.FI)((te=n.diskUsage.usage.Volumes.reduce(function(v,_){return v+_.UsageData.Size},0))!==null&&te!==void 0?te:0):0,description:l.format("usageDescVolume")}}),(0,e.jsx)(K.Z,{statistic:{title:l.format("usageBuildCache"),value:n!=null&&n.diskUsage.usage.BuildCache?(0,o.FI)((ae=n.diskUsage.usage.BuildCache.reduce(function(v,_){return v+_.Size},0))!==null&&ae!==void 0?ae:0):0,description:(0,e.jsx)(I.u,{access:"canSeeHomeOverviewClear",children:(0,e.jsx)(S.Z,{action:function(){return(0,Fe.c5)()},type:"link",onSuccess:function(){Ce()},ghost:!0,children:a.FD.format("listManageClear")})})}})]}),(0,e.jsxs)(F.Z,{colSpan:{xs:24,sm:16,md:16,lg:16,xl:8,xxl:8},ghost:!0,split:"horizontal",children:[(0,e.jsx)(F.Z,{ghost:!0,children:(0,e.jsxs)(K.Z.Group,{children:[(0,e.jsx)(K.Z,{statistic:{title:l.format("usageContainer"),value:(ne=r==null?void 0:r.info.Containers)!==null&&ne!==void 0?ne:0,description:(0,e.jsx)(ee.Link,{to:"/app/list",children:a.FD.format("listManageDetail")})}}),!X.canSeeEnableCe&&(0,e.jsx)(K.Z,{statistic:{title:l.format("usageContainerNew"),status:"processing",valueRender:function(_){var j,q,G;return(0,e.jsx)(ve.Z,{title:"".concat(a.FD.format("title.ignore"),": ").concat((j=J==null?void 0:J.ignore)!==null&&j!==void 0?j:0,` 
                      `).concat(a.FD.format("title.ignore"),": ").concat((q=J==null?void 0:J.failed)!==null&&q!==void 0?q:0,` 
                      `).concat(a.FD.format("title.local"),": ").concat((G=J==null?void 0:J.local)!==null&&G!==void 0?G:0),children:J==null?void 0:J.upgrade})}}}),(0,e.jsx)(K.Z,{statistic:{title:a.FD.format("title.warning"),status:"error",valueRender:function(_){var j,q,G,H=0;return n&&n.total&&n.total.containerRunning.stop&&(H+=n.total.containerRunning.stop),n&&n.total&&n.total.containerRunning.pause&&(H+=n.total.containerRunning.pause),n&&n.total&&n.total.containerRunning.unhealthy&&(H+=n.total.containerRunning.unhealthy),(0,e.jsx)(ve.Z,{title:"".concat(new a.Uo("components.containerStatus").format("container.exited"),": ").concat((j=n==null?void 0:n.total.containerRunning.stop)!==null&&j!==void 0?j:0,`
                      `).concat(new a.Uo("components.containerStatus").format("container.paused"),": ").concat((q=n==null?void 0:n.total.containerRunning.pause)!==null&&q!==void 0?q:0,` 
                      `).concat(new a.Uo("components.containerStatus").format("container.unhealthy"),": ").concat((G=n==null?void 0:n.total.containerRunning.unhealthy)!==null&&G!==void 0?G:0),children:H})}}}),(0,e.jsx)(K.Z,{statistic:{title:l.format("usageContainerRecycle"),value:(oe=n==null?void 0:n.total.containerTask)!==null&&oe!==void 0?oe:0,description:(0,e.jsx)(ee.Link,{to:"/app/list/recycle",children:a.FD.format("listManageDetail")})}})]})}),(0,e.jsxs)(F.Z,{ghost:!0,children:[(0,e.jsx)(K.Z,{statistic:{title:l.format("usageImage"),value:"".concat((ce=(n==null?void 0:n.diskUsage.usage.Images)&&(n==null?void 0:n.diskUsage.usage.Images.length))!==null&&ce!==void 0?ce:0),description:(0,e.jsx)(ee.Link,{to:"/image/list",children:a.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(K.Z,{statistic:{title:l.format("usageImageTask"),value:(me=n==null?void 0:n.total.imageTask)!==null&&me!==void 0?me:0,description:(0,e.jsx)(ee.Link,{to:"/image/list/recycle",children:a.FD.format("listManageDetail")})},chartPlacement:"left"})]}),(0,e.jsxs)(F.Z,{ghost:!0,children:[(0,e.jsx)(K.Z,{statistic:{title:l.format("usageNetwork"),value:n==null?void 0:n.total.network,description:(0,e.jsx)(ee.Link,{to:"/docker/network",children:a.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(K.Z,{statistic:{title:l.format("usageNetworkPortBind"),value:n==null?void 0:n.total.port,description:(0,e.jsx)(D.a,{drawerProps:{width:m.R_},submitter:!1,title:l.format("usageNetworkPortBind"),trigger:(0,e.jsx)(u.Z.Link,{children:a.FD.format("listManageDetail")}),children:(0,e.jsx)(W.Z,{pagination:!1,dataSource:n==null?void 0:n.port,rowKey:function(_){return"".concat(_.port.host).concat(_.port.dest)},columns:[{title:l.format("usageNetworkPortBindHost"),dataIndex:["port","host"],sorter:function(_,j){return parseInt(_.port.host)-parseInt(j.port.host)},render:function(_,j,q){return j.port.host!="0"?"".concat(j.port.hostIp,":").concat(j.port.host):"-"}},{title:l.format("usageNetworkPortBindDest"),dataIndex:["port","dest"]},{title:l.format("usageNetworkPortBindName"),dataIndex:"name",render:function(_,j,q){return(0,o.fi)(j.name,"/")}}]})})},chartPlacement:"left"})]}),(0,e.jsxs)(F.Z,{ghost:!0,children:[(0,e.jsx)(K.Z,{statistic:{title:l.format("usageVolume"),value:(de=(n==null?void 0:n.diskUsage.usage.Volumes)&&(n==null?void 0:n.diskUsage.usage.Volumes.length))!==null&&de!==void 0?de:0,description:(0,e.jsx)(ee.Link,{to:"/docker/volume",children:a.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(K.Z,{statistic:{title:l.format("usageBackup"),value:n==null?void 0:n.total.backup,description:(0,e.jsx)(ee.Link,{to:"/app/backup",children:a.FD.format("listManageDetail")})},chartPlacement:"left"})]})]})]})]})}},2831:function(se,U,t){t.d(U,{Ll:function(){return S},aF:function(){return O},d6:function(){return m},u5:function(){return f}});var R=t(15009),i=t.n(R),Z=t(99289),c=t.n(Z),y=t(82346);function O(){return P.apply(this,arguments)}function P(){return P=c()(i()().mark(function a(){return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,y.request)("/api/common/home/info",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},a)})),P.apply(this,arguments)}function f(){return I.apply(this,arguments)}function I(){return I=c()(i()().mark(function a(){return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,y.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},a)})),I.apply(this,arguments)}function S(){return T.apply(this,arguments)}function T(){return T=c()(i()().mark(function a(){return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,y.request)("/api/common/home/usage",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},a)})),T.apply(this,arguments)}function m(){return o.apply(this,arguments)}function o(){return o=c()(i()().mark(function a(){return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,y.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},a)})),o.apply(this,arguments)}},18148:function(se,U,t){t.d(U,{$q:function(){return m},Fj:function(){return re},KG:function(){return O},KX:function(){return $},T8:function(){return S},Xn:function(){return f},ao:function(){return a},c5:function(){return e},c7:function(){return u}});var R=t(15009),i=t.n(R),Z=t(99289),c=t.n(Z),y=t(82346);function O(g){return P.apply(this,arguments)}function P(){return P=c()(i()().mark(function g(x){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,y.request)("/api/app/image/get-list",{method:"POST",data:x}));case 1:case"end":return s.stop()}},g)})),P.apply(this,arguments)}function f(g){return I.apply(this,arguments)}function I(){return I=c()(i()().mark(function g(x){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,y.request)("/api/app/image/get-list-build",{method:"POST",data:x}));case 1:case"end":return s.stop()}},g)})),I.apply(this,arguments)}function S(g){return T.apply(this,arguments)}function T(){return T=c()(i()().mark(function g(x){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,y.request)("/api/app/image/get-build-task",{method:"POST",data:x});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},g)})),T.apply(this,arguments)}function m(g){return o.apply(this,arguments)}function o(){return o=c()(i()().mark(function g(x){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,y.request)("/api/app/image/delete-build-task",{method:"POST",data:x});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},g)})),o.apply(this,arguments)}function a(g){return D.apply(this,arguments)}function D(){return D=c()(i()().mark(function g(x){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,y.request)("/api/app/image/image-delete",{method:"POST",data:x});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},g)})),D.apply(this,arguments)}function u(g){return W.apply(this,arguments)}function W(){return W=c()(i()().mark(function g(x){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,y.request)("/api/app/image/image-prune",{method:"POST"});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},g)})),W.apply(this,arguments)}function e(){return A.apply(this,arguments)}function A(){return A=c()(i()().mark(function g(){return i()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,y.request)("/api/app/image/build-prune",{method:"POST"});case 2:return E.abrupt("return",E.sent);case 3:case"end":return E.stop()}},g)})),A.apply(this,arguments)}function re(g){return N.apply(this,arguments)}function N(){return N=c()(i()().mark(function g(x){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,y.request)("/api/app/image/update-title",{method:"POST",data:x});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},g)})),N.apply(this,arguments)}function $(g){return M.apply(this,arguments)}function M(){return M=c()(i()().mark(function g(x){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,y.request)("/api/app/image/tag-sync",{method:"POST",data:x}));case 1:case"end":return s.stop()}},g)})),M.apply(this,arguments)}},89075:function(se,U,t){t.d(U,{$w:function(){return O},YQ:function(){return f},ax:function(){return S}});var R=t(15009),i=t.n(R),Z=t(99289),c=t.n(Z),y=t(82346);function O(){return P.apply(this,arguments)}function P(){return P=c()(i()().mark(function m(){return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,y.request)("/api/pro/home/get-machine-id",{method:"POST"}));case 1:case"end":return a.stop()}},m)})),P.apply(this,arguments)}function f(){return I.apply(this,arguments)}function I(){return I=c()(i()().mark(function m(){return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,y.request)("/api/pro/home/get-license-info",{method:"POST"}));case 1:case"end":return a.stop()}},m)})),I.apply(this,arguments)}function S(){return T.apply(this,arguments)}function T(){return T=c()(i()().mark(function m(){return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,y.request)("/api/pro/home/login-info",{method:"POST"}));case 1:case"end":return a.stop()}},m)})),T.apply(this,arguments)}},20578:function(se,U,t){t.d(U,{q:function(){return O}});var R=t(15009),i=t.n(R),Z=t(99289),c=t.n(Z),y=t(82346);function O(){return P.apply(this,arguments)}function P(){return P=c()(i()().mark(function f(){return i()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,y.request)("/api/pro/container-upgrade/get-all-list",{method:"POST"});case 2:return S.abrupt("return",S.sent);case 3:case"end":return S.stop()}},f)})),P.apply(this,arguments)}}}]);
