"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3747],{23747:function(le,V,e){e.d(V,{Z:function(){return ge}});var I=e(5574),E=e.n(I),z=e(15009),u=e.n(z),$=e(99289),p=e.n($),d=e(67294),S=e(37767),B=e(13822),U=e(82346),T=e(58638),W=e(85265),R=e(96074),f=e(83062),D=e(86250),K=e(52031),r=e(14189),te=e(72409),de=e(93362),ae=e(184),re=e(43831),ee=e(5251),m=e(25593),i=e(52209),a=e(3616),n=e(85893),P=(0,d.forwardRef)(function(O,X){(0,d.useImperativeHandle)(X,function(){return{}});var v=(0,d.useState)(!1),l=E()(v,2),s=l[0],h=l[1];return(0,n.jsx)(ae.a,{submitter:!1,title:(0,ee.fi)(O.containerInfo.Name,"/")+" - \u7F51\u7EDC\u7BA1\u7406",onOpenChange:function(c){h(c)},drawerProps:{width:a.R_},open:s,trigger:(0,n.jsx)(m.Z.Link,{children:(0,n.jsx)(i.Z,{})},"file"),children:(0,n.jsx)(re.Z,{ghost:!0,containerInfo:O.containerInfo})})}),_e=P,ce=e(81146),A=e(45742),_=e(62597),H=(0,d.forwardRef)(function(O,X){(0,d.useImperativeHandle)(X,function(){return{show:function(F){return p()(u()().mark(function M(){var y;return u()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,(0,B.jV)({md5:F});case 2:y=b.sent,y.data&&j(y.data.info),h(!0);case 5:case"end":return b.stop()}},M)}))()}}});var v=(0,d.useState)(!1),l=E()(v,2),s=l[0],h=l[1],g=(0,d.useState)(),c=E()(g,2),t=c[0],j=c[1],x=(0,d.useRef)();return(0,n.jsxs)(n.Fragment,{children:[O.showTriggerButton&&(0,n.jsx)(m.Z.Link,{onClick:p()(u()().mark(function w(){return u()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:j(O.containerInfo),h(!0);case 2:case"end":return M.stop()}},w)})),children:(0,n.jsx)(f.Z,{title:"\u8FD0\u884C\u65E5\u5FD7",children:(0,n.jsx)(A.Z,{})})},"log"),(0,n.jsx)(W.Z,{title:"\u5BB9\u5668\u65E5\u5FD7",open:s,forceRender:!0,onClose:function(){h(!1)},afterOpenChange:function(F){if(F)setTimeout(function(){var y,Q;(y=x.current)===null||y===void 0||y.start(),(Q=x.current)===null||Q===void 0||Q.fit()},1e3);else{var M;(M=x.current)===null||M===void 0||M.close()}},width:a.FK,children:t&&s&&(0,n.jsx)(ce.Z,{ref:x,showInDrawer:!0,id:"container:log:".concat(t==null?void 0:t.Id),request:function(){var w=p()(u()().mark(function F(M){var y;return u()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,(0,_.Tb)({id:(y=t.Id)!==null&&y!==void 0?y:"",lineTotal:M.lineTotal,download:M.download,showTime:M.showTime});case 2:case"end":return b.stop()}},F)}));return function(F){return w.apply(this,arguments)}}(),download:function(){var w=p()(u()().mark(function F(M){var y,Q,b,Y;return u()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,(0,_.XH)({id:(y=t.Id)!==null&&y!==void 0?y:"",lineTotal:M.lineTotal,showTime:M.showTime});case 2:return b=C.sent,C.next=5,(0,B.jV)({md5:(Q=t.Id)!==null&&Q!==void 0?Q:""});case 5:return Y=C.sent,C.abrupt("return",{data:new Blob([b],{type:"text/plain"}),name:Y.data.info.Name.replaceAll("/","")+"_"+new Date().toLocaleDateString()+".log"});case 7:case"end":return C.stop()}},F)}));return function(F){return w.apply(this,arguments)}}()})})]})}),k=H,q=e(65913),fe=e(14245),G=e(1699),ve=e(40666),se=e(64789),oe=e(38345),ue=e(42075),J=e(66309),Z=e(90127),o=e(29453);function N(O){var X=(0,d.useState)(0),v=E()(X,2),l=v[0],s=v[1],h=(0,d.useState)(),g=E()(h,2),c=g[0],t=g[1];return(0,d.useEffect)(function(){t([]),(0,o.e1)().then(function(j){t(j.data.list)})},[l,O.data.info.Name]),(0,n.jsx)(oe.Z,{ghost:!0,title:(0,n.jsx)(ve.Z,{}),subTitle:"\u5BB9\u5668\u6807\u7B7E",extra:(0,n.jsx)(Z.Z,{trigger:(0,n.jsx)(m.Z.Link,{children:(0,n.jsx)(se.Z,{})}),containerDetail:O.data,onFinish:function(){s(l+1)}}),children:(0,n.jsx)(ue.Z,{wrap:!0,children:c&&(c==null?void 0:c.filter(function(j){return j.item&&j.item.find(function(x){return x.name==O.data.info.Name})}).map(function(j,x){return(0,n.jsx)(J.Z,{color:j.tagColor,closable:!0,style:{height:35,display:"flex",borderRadius:20,justifyContent:"center",alignItems:"center"},onClose:p()(u()().mark(function w(){return u()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,o.rn)({name:O.data.info.Name,tag:j.tag});case 2:s(l+1);case 3:case"end":return M.stop()}},w)})),children:(0,n.jsx)("span",{style:{paddingLeft:10,paddingRight:3},children:j.tag})},x)}))})})}var L=(0,d.forwardRef)(function(O,X){var v,l;(0,d.useImperativeHandle)(X,function(){return{show:function(Ee){return p()(u()().mark(function C(){return u()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return M(!0),he.next=3,Q(Ee);case 3:case"end":return he.stop()}},C)}))()}}});var s=(0,U.useAccess)(),h=(0,d.useRef)(),g=(0,d.useState)(),c=E()(g,2),t=c[0],j=c[1],x=(0,d.useState)(!1),w=E()(x,2),F=w[0],M=w[1],y=(0,d.useRef)();function Q(Y){return b.apply(this,arguments)}function b(){return b=p()(u()().mark(function Y(Ee){var C,ne;return u()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return(C=h.current)===null||C===void 0||C.show(),me.next=3,(0,B.jV)({md5:Ee}).finally(function(){var ie;(ie=h.current)===null||ie===void 0||ie.destroy()});case 3:ne=me.sent,ne.data&&(ne.data.info.HostConfig.NetworkMode=="host"&&ne.data.info.Config.ExposedPorts&&Object.keys(ne.data.info.Config.ExposedPorts).map(function(ie){ne.data.info.NetworkSettings.Ports[ie]=[{HostIp:"0.0.0.0",HostPort:ie.substring(0,ie.indexOf("/"))}]}),j(ne.data));case 5:case"end":return me.stop()}},Y)})),b.apply(this,arguments)}return(0,n.jsx)(W.Z,{title:"\u5FEB\u6377\u67E5\u770B\u5BB9\u5668 - ".concat((0,ee.fi)((v=t==null?void 0:t.info.Name)!==null&&v!==void 0?v:"","/")),open:F,onClose:function(){M(!1),O.onFinish&&O.onFinish()},width:a.R_,extra:(0,n.jsxs)(G.u,{access:"canSeeContainerList",space:{split:(0,n.jsx)(R.Z,{type:"vertical"})},children:[(t==null?void 0:t.info)&&t.info.State.Running&&(0,n.jsx)(de.Z,{apiPrefix:"container",name:t.info.Name,title:(0,ee.fi)(t.info.Name,"/"),workDir:(l=t.info.Config.WorkingDir)!==null&&l!==void 0?l:""}),(t==null?void 0:t.info)&&s.canSeeContainerListManageOp&&(0,n.jsx)(_e,{containerInfo:t.info}),(t==null?void 0:t.info)&&t.info.State.Running&&(0,n.jsx)(k,{containerInfo:t.info,showTriggerButton:!0}),(0,n.jsx)(G.u,{access:"canSeeContainerListManage",children:(0,n.jsx)(f.Z,{title:"\u67E5\u770B\u5B8C\u6574\u4FE1\u606F",children:(0,n.jsx)(U.Link,{to:"/app/detail/edit/"+(t==null?void 0:t.info.Id),children:(0,n.jsx)(T.Z,{})},"detail")})})]}),children:(0,n.jsx)(q.Z,{ref:h,children:(0,n.jsxs)(D.Z,{vertical:!0,gap:20,children:[t&&(0,n.jsx)(G.u,{access:"canSeeContainerList",children:(0,n.jsx)(r.Z,{ref:y,ghost:!0,data:t==null?void 0:t.info,onFinish:p()(u()().mark(function Y(){return u()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,Q(t.info.Id);case 2:return C.t0=C.sent,C.abrupt("return",[C.t0]);case 4:case"end":return C.stop()}},Y)}))})}),t&&(0,n.jsx)(G.u,{access:["canSeeContainerListManage","canSeeContainerListManageOp"],children:(0,n.jsx)(te.Z,{ghost:!0,data:t,checkContainerUpgrade:function(){M(!1),O.onUpgradeFinish&&O.onUpgradeFinish()}})}),t&&(0,n.jsx)(N,{data:t}),t&&(0,n.jsx)(S.Z,{data:t,ghost:!0}),(0,n.jsx)(K.Z,{data:t==null?void 0:t.info,ghost:!0}),t&&(0,n.jsx)(fe.Z,{data:t.info,ghost:!0})]})})})}),ge=L},90127:function(le,V,e){var I=e(15009),E=e.n(I),z=e(99289),u=e.n(z),$=e(5574),p=e.n($),d=e(5251),S=e(184),B=e(62370),U=e(5966),T=e(24739),W=e(64317),R=e(52688),f=e(97462),D=e(38925),K=e(42075),r=e(67294),te=e(1699),de=e(80821),ae=e(2808),re=e(87662),ee=e(52756),m=e(29453),i=e(3616),a=e(85893),n=(0,r.forwardRef)(function(P,_e){var ce;(0,r.useImperativeHandle)(_e,function(){return{edit:function(l){O(!0),X(l),A.current&&A.current.setFieldsValue({tag:[l.tag],tagColor:l.tagColor,enableShowGroup:l.enableShowGroup})}}});var A=(0,r.useRef)(),_=(0,r.useState)(0),H=p()(_,2),k=H[0],q=H[1],fe=(0,r.useState)([]),G=p()(fe,2),ve=G[0],se=G[1],oe=(0,r.useState)(),ue=p()(oe,2),J=ue[0],Z=ue[1],o=(ce=P.containerDetail)===null||ce===void 0?void 0:ce.info,N=(0,r.useState)(!1),L=p()(N,2),ge=L[0],O=L[1];function X(v){A.current&&A.current.setFieldsValue({title:v.title,description:v.description,url:v.url,icon:v.icon,name:v.name})}return(0,r.useEffect)(function(){Z([]),(0,m.e1)().then(function(v){Z(v.data.list)})},[k]),(0,r.useEffect)(function(){o&&(0,re.K3)().then(function(v){var l=[];o.NetworkSettings&&o.NetworkSettings.Ports&&Object.keys(o.NetworkSettings.Ports).map(function(s){o.NetworkSettings.Ports[s]&&o.NetworkSettings.Ports[s].map(function(h){h.HostPort&&l.push("http://".concat(v.data.serverUrl,":").concat(h.HostPort))})}),se(l)})},[P.containerDetail]),(0,a.jsxs)(S.a,{drawerProps:{forceRender:!0,width:i.R_},open:ge,onFinish:function(){var v=u()(E()().mark(function l(s){var h,g,c,t;return E()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return c="",s.tagColor&&s.tagColor.toHexString?s.tagColor.cleared||(c=s.tagColor.toHexString()):c=s.tagColor,t=(h=s.enableShowGroup)!==null&&h!==void 0?h:P.defaultEnableShowGroup,x.next=5,(0,m.A9)({enableShowGroup:t,tag:s.tag?s.tag[0]:"",tagColor:c,name:(g=o==null?void 0:o.Name)!==null&&g!==void 0?g:s.name,title:t?s.title:"",description:t?s.description:"",url:t?s.url:"",icon:t?s.icon:""});case 5:return q(k+1),P.onFinish&&P.onFinish({tag:s.tag,tagColor:s.tagColor,enableShowGroup:t}),x.abrupt("return",!0);case 8:case"end":return x.stop()}},l)}));return function(l){return v.apply(this,arguments)}}(),formRef:A,title:"\u6DFB\u52A0\u5BB9\u5668\u6807\u7B7E",trigger:P.trigger,onOpenChange:function(l){var s;O(l),!l&&(!((s=A.current)===null||s===void 0)&&s.resetFields)&&A.current.resetFields()},children:[P.defaultEnableShowGroup&&(0,a.jsx)(B.Z,{children:(0,a.jsx)(D.Z,{message:(0,ee.getLang)("system.home.tagAddContainerTips")})}),(0,a.jsx)(U.Z,{name:"name",hidden:!0}),(0,a.jsxs)(T.UW,{children:[(0,a.jsx)(W.Z,{width:"lg",label:"\u6807\u7B7E\u6216\u5206\u7EC4",layout:"vertical",required:!0,rules:[{required:!0}],onChange:function(l){var s=J&&J.find(function(F){return l&&l.length>=1&&F.tag==l[0]});if(s){var h,g,c,t=s.item.find(function(F){return F.name==(o==null?void 0:o.Name)});(h=A.current)===null||h===void 0||h.setFieldsValue({tagColor:s.tagColor,enableShowGroup:s.enableShowGroup}),t&&t.name&&X({name:(g=o==null?void 0:o.Name)!==null&&g!==void 0?g:"",title:t?t.title:(0,d.fi)((c=o==null?void 0:o.Name)!==null&&c!==void 0?c:"","/"),description:t&&t.description,url:t&&t.url,icon:t&&t.icon})}if(!l||l.length==0){var j,x=(j=A.current)===null||j===void 0?void 0:j.getFieldValue("url");if(!x||x==""){var w;!((w=A.current)===null||w===void 0)&&w.resetFields&&A.current.resetFields()}}},options:J&&J.map(function(v){return{lable:v.tag,value:v.tag}}),name:"tag",mode:"tags",fieldProps:{maxCount:1},placeholder:"\u8BF7\u9009\u62E9\u6216\u662F\u8F93\u5165\u6807\u7B7E\u6216\u662F\u5206\u7EC4"},"tagSelect".concat(k)),!P.defaultEnableShowGroup&&(0,a.jsx)(ae.Z,{label:"\u6807\u7B7E\u80CC\u666F\u989C\u8272",name:"tagColor"})]}),!P.defaultEnableShowGroup&&(0,a.jsx)(te.u,{access:"canSeeEnableCe",showProRibbonTips:!0,children:function(l){var s=l.canSeeEnableCe;return(0,a.jsx)(R.Z,{label:"\u4EE5\u5206\u7EC4\u7684\u5F62\u5F0F\u5C55\u793A\u9996\u9875\u5361\u7247",name:"enableShowGroup",disabled:s,fieldProps:{onChange:function(g){if(g){var c,t;X({name:(c=o==null?void 0:o.Name)!==null&&c!==void 0?c:"",title:(0,d.fi)((t=o==null?void 0:o.Name)!==null&&t!==void 0?t:"","/")})}}}})}}),(0,a.jsx)(f.Z,{name:["enableShowGroup"],children:function(l){var s=l.enableShowGroup;return(s||P.defaultEnableShowGroup)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(K.Z.Compact,{children:[P.containerDetail&&(0,a.jsx)(W.Z,{label:"\u9009\u62E9\u7AEF\u53E3",width:"sm",name:"selectUrl",options:ve.map(function(h){return{label:h,value:h}}),onChange:function(g){var c;!((c=A.current)===null||c===void 0)&&c.setFieldValue&&A.current.setFieldValue("url",g)}}),(0,a.jsx)(U.Z,{label:"\u8BBF\u95EE\u5730\u5740",name:"url",width:"md"}),(0,a.jsx)(B.Z,{label:" ",children:(0,a.jsx)(de.Z,{action:function(){var g;return(0,m.R3)({url:(g=A.current)===null||g===void 0?void 0:g.getFieldValue("url")})},onSuccess:function(g){var c,t,j;(c=A.current)===null||c===void 0||c.setFieldValue("icon",g.data.icon),(t=A.current)===null||t===void 0||t.setFieldValue("title",g.data.title),(j=A.current)===null||j===void 0||j.setFieldValue("description",g.data.description)},children:"\u83B7\u53D6\u4FE1\u606F"})})]}),(0,a.jsxs)(T.UW,{children:[(0,a.jsx)(U.Z,{label:"\u6807\u9898",name:"title"}),(0,a.jsx)(U.Z,{label:"\u63CF\u8FF0",name:"description"})]}),(0,a.jsx)(T.UW,{children:(0,a.jsx)(U.Z,{width:"lg",placeholder:"\u4EE5 https \u6216\u662F http \u5F00\u5934\uFF0C\u4F18\u5148\u4F7F\u7528\u4E0A\u4F20\u56FE\u7247",label:"\u56FE\u6807\u8FDC\u7A0B\u5730\u5740",name:"icon"})})]})}})]})});V.Z=n},81146:function(le,V,e){var I=e(97857),E=e.n(I),z=e(15009),u=e.n(z),$=e(99289),p=e.n($),d=e(67294),S=e(97269),B=e(62370),U=e(5966),T=e(97462),W=e(82346),R=e(71230),f=e(15746),D=e(34041),K=e(28036),r=e(84567),te=e(42075),de=e(80821),ae=e(23430),re=e(93162),ee=e.n(re),m=e(78267),i=e.n(m),a=e(75458),n=e.n(a),P=e(12323),_e=e(4244),ce=e.n(_e),A=e(24078),_=e(85893),H,k,q,fe=(0,d.forwardRef)(function(G,ve){var se=(0,d.useRef)(),oe=(0,W.useModel)("subscriber");(0,d.useImperativeHandle)(ve,function(){return{fit:function(){H.clear(),q.fit()},start:function(){return p()(u()().mark(function o(){return u()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,ue({lineTotal:500});case 2:case"end":return L.stop()}},o)}))()},close:function(){oe.progress.close(G.id)}}});function ue(Z){return J.apply(this,arguments)}function J(){return J=p()(u()().mark(function Z(o){return u()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:H.clear(),o.download=!1,G.request(o);case 3:case"end":return L.stop()}},Z)})),J.apply(this,arguments)}return(0,d.useEffect)(function(){return window.addEventListener("resize",function(){q.fit()}),H=new _e.Terminal(E()(E()({},P.X),{},{fontSize:12,lineHeight:1.2})),q=new m.FitAddon,k=new a.SearchAddon,H.loadAddon(q),H.open(document.getElementById("terminal-container-log")),q.fit(),oe.addDataHandler(G.id,function(Z){H.write(Z.data)}),function(){H.clear(),H.reset(),oe.progress.close(G.id)}},[]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(S.A,{submitter:!1,layout:"horizontal",onValuesChange:function(o,N){ue({id:G.id,lineTotal:parseInt(N.lineTotal),showTime:N.showTime})},formRef:se,children:(0,_.jsxs)(R.Z,{gutter:[10,0],children:[(0,_.jsx)(f.Z,{span:8,children:(0,_.jsx)(B.Z,{name:"lineTotal",initialValue:"500",label:"\u83B7\u53D6\u65E5\u5FD7\u6761\u6570",children:(0,_.jsxs)(D.Z,{defaultValue:"500",children:[(0,_.jsx)(D.Z.Option,{value:"100",children:"100\u6761\u65E5\u5FD7\u6570\u636E"}),(0,_.jsx)(D.Z.Option,{value:"200",children:"200\u6761\u65E5\u5FD7\u6570\u636E"}),(0,_.jsx)(D.Z.Option,{value:"500",children:"500\u6761\u65E5\u5FD7\u6570\u636E"}),(0,_.jsx)(D.Z.Option,{value:"1000",children:"1000\u6761\u65E5\u5FD7\u6570\u636E"}),(0,_.jsx)(D.Z.Option,{value:"-1",children:"\u5168\u90E8\uFF08\u4E0B\u8F7D\u53EF\u89C1\uFF09"})]})})}),(0,_.jsx)(f.Z,{children:(0,_.jsx)(K.ZP,{onClick:function(){H.clear()},children:"\u6E05\u5C4F"})}),(0,_.jsx)(f.Z,{children:(0,_.jsx)(B.Z,{name:"showTime",valuePropName:"checked",children:(0,_.jsx)(r.Z,{children:"\u663E\u793A\u65F6\u95F4"})})}),(0,_.jsx)(f.Z,{children:(0,_.jsx)(U.Z,{label:"\u67E5\u627E",name:"keywork"})}),(0,_.jsx)(f.Z,{children:(0,_.jsx)(T.Z,{name:["keywork"],children:function(o){var N=o.keywork;return(0,_.jsxs)(te.Z,{size:10,children:[(0,_.jsx)(K.ZP,{onClick:function(){k.findNext(N)},children:"\u4E0B\u4E00\u4E2A"},"next"),(0,_.jsx)(K.ZP,{onClick:function(){k.findPrevious(N)},children:"\u4E0A\u4E00\u4E2A"},"prev")]})}})}),(0,_.jsx)(f.Z,{children:(0,_.jsx)(de.Z,{icon:(0,_.jsx)(ae.Z,{}),action:p()(u()().mark(function Z(){var o,N,L;return u()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!G.download){O.next=5;break}return O.next=3,G.download({lineTotal:parseInt((o=se.current)===null||o===void 0?void 0:o.getFieldValue("lineTotal")),showTime:(N=se.current)===null||N===void 0?void 0:N.getFieldValue("showTime")});case 3:L=O.sent,(0,re.saveAs)(L.data,L.name);case 5:case"end":return O.stop()}},Z)})),children:"\u4E0B\u8F7D\u65E5\u5FD7"})})]})}),(0,_.jsx)("div",{style:{marginTop:"20px",height:G.showInDrawer?"75vh":"580px"},id:"terminal-container-log"})]})});V.Z=fe},2808:function(le,V,e){e.d(V,{Z:function(){return d}});var I=e(97857),E=e.n(I),z=e(62370),u=e(51663),$=e(67294),p=e(85893);function d(S){return(0,p.jsx)(z.Z,E()(E()({},S),{},{children:(0,p.jsx)(u.Z,{showText:function(U){return U.toHexString()},allowClear:!0,presets:[{label:"\u9884\u8BBE\u989C\u8272",colors:["#1677ff","#722ed1","#13c2c2","#52c41a","#eb2f96","#f5222d","#fa8c16","#fadb14","#fa541c","#2f54eb","#faad14","#a0d911","#000000","#5cdbd3","#b37feb","#b7eb8f","#61affe","#9254de","#36cfc9","#ff9c6e","#ff6f00","#ffc069","#28a745","#6610f2","#6f42c1","#007bff","#17a2b8","#20c997","#00cccc","#ff6666"]}]})}))}},52756:function(le,V,e){e.r(V),e.d(V,{default:function(){return U},getLang:function(){return B}});var I=e(82346),E=e(31418),z=e(26058),u=e(85137),$=e(24963),p=e(65913),d=e(67294),S=e(85893);function B(T,W,R){var f=(0,I.getLocale)();R!=null&&R.XK&&(f="zh-XK");var D=(0,I.getIntl)(f).formatMessage({id:T},W);return D}function U(){var T=(0,d.useRef)(),W=(0,I.useIntl)(),R=function(i){for(var a=arguments.length,n=new Array(a>1?a-1:0),P=1;P<a;P++)n[P-1]=arguments[P];D.notification[i]({message:W.formatMessage({id:"notification.title."+i}),description:n.join(" "),placement:"topRight"})},f=function(i){for(var a=arguments.length,n=new Array(a>1?a-1:0),P=1;P<a;P++)n[P-1]=arguments[P];D.message[i](n.join(" "))},D=E.Z.useApp(),K=(0,I.useModel)("@@initialState"),r=K.initialState,te=K.loading,de=K.error,ae=K.refresh,re=K.setInitialState,ee=(0,I.useModel)("subscriber");return r!=null&&r.user.username&&ee.addDataHandler("user:permission:".concat(r==null?void 0:r.user.username),function(m){ae()}),(0,S.jsx)(z.Z,{children:(0,S.jsx)($.Z.Provider,{value:{notice:{success:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];R.apply(void 0,["success"].concat(a))},error:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];R.apply(void 0,["error"].concat(a))},warning:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];R.apply(void 0,["warning"].concat(a))},info:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];R.apply(void 0,["info"].concat(a))},destroy:function(){D.notification.destroy()}},message:{success:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];f.apply(void 0,["success"].concat(a))},error:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];f.apply(void 0,["error"].concat(a))},warning:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];f.apply(void 0,["warning"].concat(a))},info:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];f.apply(void 0,["info"].concat(a))},loading:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];f.apply(void 0,["loading"].concat(a))},destroy:function(){D.message.destroy()}},loading:{show:function(){T.current&&T.current.show()},destroy:function(){T.current&&T.current.destroy()}},lang:function(i,a){return W.formatMessage({id:i},a)}},children:(0,S.jsxs)(p.Z,{ref:T,children:[(0,S.jsx)(I.Outlet,{}),(0,S.jsx)(u.Z.BackTop,{duration:10,style:{bottom:100}})]})},te?"1":"2")})}},65913:function(le,V,e){var I=e(5574),E=e.n(I),z=e(74330),u=e(67294),$=e(85893),p=(0,u.forwardRef)(function(d,S){(0,u.useImperativeHandle)(S,function(){return{show:function(){W(!0)},destroy:function(){W(!1)}}});var B=(0,u.useState)(!1),U=E()(B,2),T=U[0],W=U[1];return(0,$.jsx)(z.Z,{spinning:T,size:"default",children:d.children})});V.Z=p},29453:function(le,V,e){e.d(V,{A9:function(){return p},R3:function(){return W},e1:function(){return S},rn:function(){return U}});var I=e(15009),E=e.n(I),z=e(99289),u=e.n(z),$=e(82346);function p(f){return d.apply(this,arguments)}function d(){return d=u()(E()().mark(function f(D){return E()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,$.request)("/api/common/tag/create",{method:"POST",data:D});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},f)})),d.apply(this,arguments)}function S(f){return B.apply(this,arguments)}function B(){return B=u()(E()().mark(function f(D){return E()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,$.request)("/api/common/tag/get-list",{method:"POST",data:D});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},f)})),B.apply(this,arguments)}function U(f){return T.apply(this,arguments)}function T(){return T=u()(E()().mark(function f(D){return E()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,$.request)("/api/common/tag/delete",{method:"POST",data:D});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},f)})),T.apply(this,arguments)}function W(f){return R.apply(this,arguments)}function R(){return R=u()(E()().mark(function f(D){return E()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,$.request)("/api/pro/tag/get-url-detail",{method:"POST",data:D});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},f)})),R.apply(this,arguments)}}}]);
