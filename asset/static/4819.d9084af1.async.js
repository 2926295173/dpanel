"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4819],{99861:function(L,v,n){var j=n(15009),a=n.n(j),O=n(64599),s=n.n(O),_=n(99289),D=n.n(_),h=n(5574),U=n.n(h),E=n(42119),b=n(67294),f=n(92754),M=n(3393),g=n(184),u=n(38345),P=n(85893),C=(0,b.forwardRef)(function(c,T){(0,b.useImperativeHandle)(T,function(){return{start:function(){return Z(!0),G()}}});var m=(0,b.useState)(0),l=U()(m,2),o=l[0],t=l[1],r=(0,b.useRef)(),d=(0,b.useState)(!1),e=U()(d,2),F=e[0],Z=e[1],G=function(){var B=D()(a()().mark(function w(){var y,A,R,x,N,W,I;return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:A=0,R=s()(c.image),p.prev=2,R.s();case 4:if((x=R.n()).done){p.next=14;break}return W=x.value,t(A),(N=r.current)===null||N===void 0||N.setStart(W),p.next=10,(0,M.Gb)({tag:W,type:"pull"});case 10:I=p.sent,A++;case 12:p.next=4;break;case 14:p.next=19;break;case 16:p.prev=16,p.t0=p.catch(2),R.e(p.t0);case 19:return p.prev=19,R.f(),p.finish(19);case 22:(y=r.current)===null||y===void 0||y.setFinish(),t(A);case 24:case"end":return p.stop()}},w,null,[[2,16,19,22]])}));return function(){return B.apply(this,arguments)}}();return(0,P.jsxs)(g.a,{trigger:c.trigger,width:800,open:F,submitter:!1,title:"\u4E00\u952E\u62C9\u53D6\u955C\u50CF",onOpenChange:function(){var B=D()(a()().mark(function w(y){return a()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:Z(y),y&&c.trigger&&G();case 2:case"end":return R.stop()}},w)}));return function(w){return B.apply(this,arguments)}}(),children:[(0,P.jsx)(u.Z,{children:(0,P.jsx)(E.Z,{current:o,items:c.image.map(function(B,w){return{title:B,key:w}})})}),(0,P.jsx)(u.Z,{children:(0,P.jsx)(f.Z,{ref:r})})]})});v.Z=C},44771:function(L,v,n){n.d(v,{Z:function(){return _}});var j=n(34041),a=n(25449),O=n(67294),s=n(85893);function _(D){return(0,s.jsx)(a.Z,{label:D.label,name:"restart",initialValue:D.defaultValue?D.defaultValue:"on-failure",children:(0,s.jsx)(j.Z,{options:[{value:"no",label:"\u4E0D\u91CD\u542F"},{value:"on-failure",label:"\u5931\u8D25\u540E\u91CD\u542F\uFF08\u9ED8\u8BA45\u6B21\uFF09"},{value:"unless-stopped",label:"\u672A\u624B\u52A8\u505C\u6B62\u5219\u91CD\u542F"},{value:"always",label:"\u4E00\u76F4\u91CD\u542F"}]})})}},4798:function(L,v,n){var j=n(15009),a=n.n(j),O=n(99289),s=n.n(O),_=n(5574),D=n.n(_),h=n(24963),U=n(14946),E=n(64789),b=n(38345),f=n(17186),M=n(24739),g=n(5966),u=n(62370),P=n(10641),C=n(31418),c=n(25593),T=n(85576),m=n(66309),l=n(42075),o=n(14726),t=n(67294),r=n(85893),d=(0,t.forwardRef)(function(e,F){var Z=(0,t.useContext)(h.Z),G=Z.notice,B=(0,t.useState)(!1),w=D()(B,2),y=w[0],A=w[1],R=(0,t.useRef)(),x=C.Z.useApp();(0,t.useImperativeHandle)(F,function(){return{}});var N=function(I){var i,p,k=!1,K=(i=(p=R.current)===null||p===void 0?void 0:p.getList())!==null&&i!==void 0?i:[];if(K.map(function(S){S.name==I.name&&(k=!0)}),!k){var $;($=R.current)===null||$===void 0||$.add(I)}};return(0,r.jsxs)(b.Z,{title:"\u5173\u8054\u7F51\u7EDC",headerBordered:!0,children:[(0,r.jsx)(f.u,{name:"network",actionRef:R,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u7F51\u7EDC"},actionGuard:{beforeAddRow:function(I,i){return!e.siteName||e.siteName==""||typeof e.siteName=="undefined"?(G.error("\u8BF7\u8F93\u5165\u7AD9\u70B9\u6807\u8BC6"),!1):(A(!0),!1)}},copyIconProps:!1,min:0,itemRender:function(I,i){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(M.UW,{children:[(0,r.jsx)(g.Z,{label:"\u7F51\u7EDC\u540D\u79F0",name:"name",width:"md",disabled:!0,fieldProps:{value:i.record.name}}),(0,r.jsx)(u.Z,{label:"\u8BBF\u95EEHostname",name:"alise",children:i.record.alise!=""&&(0,r.jsx)(c.Z.Text,{code:!0,copyable:!0,children:i.record.alise})}),(0,r.jsx)(u.Z,{label:" ",children:I.action})]}),(0,r.jsx)(M.UW,{children:(0,r.jsx)(g.Z,{label:"\u6307\u5B9AIpV4",name:"ipV4",width:"md",fieldProps:{addonAfter:i.record.subnet}})})]})}}),(0,r.jsx)(T.Z,{title:"\u9009\u62E9\u7F51\u7EDC",width:1024,footer:!1,open:y,onCancel:function(){return A(!1)},children:(0,r.jsx)(P.Z,{rowKey:"Name",toolBarRender:!1,columns:[{title:"\u540D\u79F0",dataIndex:"Name",render:function(I,i,p,k,K){return i.Name=="none"||i.Name=="bridge"||i.Name=="host"?(0,r.jsxs)(r.Fragment,{children:[i.Name," ",(0,r.jsx)(m.Z,{color:"blue",children:"System"})]}):(0,r.jsx)(r.Fragment,{children:I})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4 IPAM Network",search:!1,dataIndex:["IPAM","Config",0,"Subnet"],render:function(I,i,p,k,K){return(0,r.jsxs)(l.Z,{children:[i.IPAM.Config&&i.IPAM.Config[0]&&"".concat(i.IPAM.Config[0].Subnet," - ").concat(i.IPAM.Config[0].Gateway),i.IPAM.Config&&i.IPAM.Config[1]&&"".concat(i.IPAM.Config[1].Subnet," - ").concat(i.IPAM.Config[1].Gateway)]})}},{title:"\u64CD\u4F5C",width:100,search:!1,render:function(I,i,p,k,K){return[(0,r.jsx)(o.ZP,{type:"link",onClick:function(){N({name:i.Name,alise:[""],subnet:i.IPAM.Config[0].Subnet}),A(!1)},children:(0,r.jsx)(E.Z,{})},i.Id)]}}],request:function(){var W=s()(a()().mark(function I(i,p,k){var K;return a()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,U.jR)({name:i.Name});case 2:return K=S.sent,S.abrupt("return",{data:K.data.list,success:!0,total:K.data.list.length});case 4:case"end":return S.stop()}},I)}));return function(I,i,p){return W.apply(this,arguments)}}(),pagination:{pageSize:10}})})]})});v.Z=d},92754:function(L,v,n){var j=n(5574),a=n.n(j),O=n(67294),s=n(54006),_=n(38703),D=n(85893),h=(0,O.forwardRef)(function(U,E){var b=(0,O.useState)(""),f=a()(b,2),M=f[0],g=f[1];(0,O.useImperativeHandle)(E,function(){return{setFinish:function(){T({finish:{downloading:100,extracting:100}})},setStart:function(l){l&&g(l),T({start:{downloading:0,extracting:0}})}}});var u=(0,s.useModel)("subscriber");u.addDataHandler("image:pull:"+M,function(m){T(m.data)});var P=(0,O.useState)(),C=a()(P,2),c=C[0],T=C[1];return(0,O.useEffect)(function(){T({start:{downloading:0,extracting:0}})},[]),(0,D.jsx)(D.Fragment,{children:c&&Object.keys(c).map(function(m){return(0,D.jsx)(_.Z,{percent:c[m].downloading,success:{percent:c[m].extracting}},m)})})});v.Z=h},78451:function(L,v,n){n.d(v,{Z:function(){return O}});var j=n(67294),a=n(85893);function O(s){return(0,a.jsx)("span",{style:{width:s.width?s.width:"auto",wordBreak:"break-word"},children:s.content})}},62597:function(L,v,n){n.d(v,{$G:function(){return D},Ct:function(){return C},Tb:function(){return b},XH:function(){return M},cl:function(){return U},iE:function(){return u},lK:function(){return l},xb:function(){return T}});var j=n(15009),a=n.n(j),O=n(99289),s=n.n(O),_=n(54006);function D(t){return h.apply(this,arguments)}function h(){return h=s()(a()().mark(function t(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/app/site/create-by-image",{method:"POST",data:r}));case 1:case"end":return e.stop()}},t)})),h.apply(this,arguments)}function U(t){return E.apply(this,arguments)}function E(){return E=s()(a()().mark(function t(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/app/site/get-list",{method:"POST",data:r}));case 1:case"end":return e.stop()}},t)})),E.apply(this,arguments)}function b(t){return f.apply(this,arguments)}function f(){return f=s()(a()().mark(function t(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.download=!1,e.next=3,(0,_.request)("/api/app/log/run",{method:"POST",data:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},t)})),f.apply(this,arguments)}function M(t){return g.apply(this,arguments)}function g(){return g=s()(a()().mark(function t(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.download=!0,e.next=3,(0,_.request)("/api/app/log/run",{method:"POST",data:r,responseType:"blob"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},t)})),g.apply(this,arguments)}function u(t){return P.apply(this,arguments)}function P(){return P=s()(a()().mark(function t(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.request)("/api/app/site/get-detail",{data:r,method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t)})),P.apply(this,arguments)}function C(t){return c.apply(this,arguments)}function c(){return c=s()(a()().mark(function t(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/app/container/delete",{method:"POST",data:r}));case 1:case"end":return e.stop()}},t)})),c.apply(this,arguments)}function T(t){return m.apply(this,arguments)}function m(){return m=s()(a()().mark(function t(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/app/site/delete",{method:"POST",data:r}));case 1:case"end":return e.stop()}},t)})),m.apply(this,arguments)}function l(t){return o.apply(this,arguments)}function o(){return o=s()(a()().mark(function t(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.request)("/api/app/site/update-title",{method:"POST",data:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t)})),o.apply(this,arguments)}},2831:function(L,v,n){n.d(v,{Ll:function(){return U},aF:function(){return D},d6:function(){return b}});var j=n(15009),a=n.n(j),O=n(99289),s=n.n(O),_=n(54006);function D(){return h.apply(this,arguments)}function h(){return h=s()(a()().mark(function M(){return a()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,_.request)("/api/common/home/info",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},M)})),h.apply(this,arguments)}function U(){return E.apply(this,arguments)}function E(){return E=s()(a()().mark(function M(){return a()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,_.request)("/api/common/home/usage",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},M)})),E.apply(this,arguments)}function b(){return f.apply(this,arguments)}function f(){return f=s()(a()().mark(function M(){return a()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,_.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},M)})),f.apply(this,arguments)}},14946:function(L,v,n){n.d(v,{CI:function(){return b},HY:function(){return T},IS:function(){return D},XY:function(){return u},_3:function(){return l},_x:function(){return M},jR:function(){return U},t9:function(){return C}});var j=n(15009),a=n.n(j),O=n(99289),s=n.n(O),_=n(54006);function D(t){return h.apply(this,arguments)}function h(){return h=s()(a()().mark(function t(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/app/network/get-detail",{method:"POST",data:r}));case 1:case"end":return e.stop()}},t)})),h.apply(this,arguments)}function U(t){return E.apply(this,arguments)}function E(){return E=s()(a()().mark(function t(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/app/network/get-list",{method:"POST",data:r}));case 1:case"end":return e.stop()}},t)})),E.apply(this,arguments)}function b(){return f.apply(this,arguments)}function f(){return f=s()(a()().mark(function t(){return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,_.request)("/api/app/network/prune",{method:"POST"});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},t)})),f.apply(this,arguments)}function M(t){return g.apply(this,arguments)}function g(){return g=s()(a()().mark(function t(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.request)("/api/app/network/delete",{method:"POST",data:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t)})),g.apply(this,arguments)}function u(t){return P.apply(this,arguments)}function P(){return P=s()(a()().mark(function t(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.request)("/api/app/network/create",{method:"POST",data:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t)})),P.apply(this,arguments)}function C(t){return c.apply(this,arguments)}function c(){return c=s()(a()().mark(function t(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.request)("/api/app/network/disconnect",{method:"POST",data:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t)})),c.apply(this,arguments)}function T(t){return m.apply(this,arguments)}function m(){return m=s()(a()().mark(function t(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.request)("/api/app/network/connect",{method:"POST",data:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t)})),m.apply(this,arguments)}function l(t){return o.apply(this,arguments)}function o(){return o=s()(a()().mark(function t(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/app/network/get-container-list",{method:"POST",data:r}));case 1:case"end":return e.stop()}},t)})),o.apply(this,arguments)}},3393:function(L,v,n){n.d(v,{Gb:function(){return U},Pn:function(){return M},Rb:function(){return u},YU:function(){return D},ZQ:function(){return T},_U:function(){return b},cd:function(){return C}});var j=n(15009),a=n.n(j),O=n(99289),s=n.n(O),_=n(54006);function D(l){return h.apply(this,arguments)}function h(){return h=s()(a()().mark(function l(o){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,_.request)("/api/app/image/get-detail",{method:"POST",data:o}));case 1:case"end":return r.stop()}},l)})),h.apply(this,arguments)}function U(l){return E.apply(this,arguments)}function E(){return E=s()(a()().mark(function l(o){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,_.request)("/api/app/image/tag-remote",{method:"POST",data:o}));case 1:case"end":return r.stop()}},l)})),E.apply(this,arguments)}function b(l){return f.apply(this,arguments)}function f(){return f=s()(a()().mark(function l(o){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,_.request)("/api/app/image/tag-add",{method:"POST",data:o}));case 1:case"end":return r.stop()}},l)})),f.apply(this,arguments)}function M(l){return g.apply(this,arguments)}function g(){return g=s()(a()().mark(function l(o){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,_.request)("/api/app/image/tag-delete",{method:"POST",data:o}));case 1:case"end":return r.stop()}},l)})),g.apply(this,arguments)}function u(l){return P.apply(this,arguments)}function P(){return P=s()(a()().mark(function l(o){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,_.request)("/api/app/image/export",{method:"POST",data:o,responseType:"blob"}));case 1:case"end":return r.stop()}},l)})),P.apply(this,arguments)}function C(l){return c.apply(this,arguments)}function c(){return c=s()(a()().mark(function l(o){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,_.request)("/api/pro/image/get-remote-tag",{method:"POST",data:o}));case 1:case"end":return r.stop()}},l)})),c.apply(this,arguments)}function T(l){return m.apply(this,arguments)}function m(){return m=s()(a()().mark(function l(o){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,_.request)("/api/app/image/check-upgrade",{method:"POST",data:o}));case 1:case"end":return r.stop()}},l)})),m.apply(this,arguments)}}}]);
