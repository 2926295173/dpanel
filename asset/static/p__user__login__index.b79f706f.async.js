"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4037],{63434:function(ie,H,e){var s=e(1413),p=e(45987),N=e(22270),U=e(84567),z=e(67294),G=e(90789),$=e(73406),O=e(85893),I=["options","fieldProps","proFieldProps","valueEnum"],f=z.forwardRef(function(S,K){var V=S.options,y=S.fieldProps,w=S.proFieldProps,v=S.valueEnum,c=(0,p.Z)(S,I);return(0,O.jsx)($.Z,(0,s.Z)({ref:K,valueType:"checkbox",valueEnum:(0,N.h)(v,void 0),fieldProps:(0,s.Z)({options:V},y),lightProps:(0,s.Z)({labelFormatter:function(){return(0,O.jsx)($.Z,(0,s.Z)({ref:K,valueType:"checkbox",mode:"read",valueEnum:(0,N.h)(v,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,s.Z)({options:V},y),proFieldProps:w},c))}},c.lightProps),proFieldProps:w},c))}),E=z.forwardRef(function(S,K){var V=S.fieldProps,y=S.children;return(0,O.jsx)(U.Z,(0,s.Z)((0,s.Z)({ref:K},V),{},{children:y}))}),r=(0,G.G)(E,{valuePropName:"checked"}),F=r;F.Group=f,H.Z=F},5966:function(ie,H,e){var s=e(97685),p=e(1413),N=e(45987),U=e(21770),z=e(72723),G=e(55241),$=e(97435),O=e(67294),I=e(73406),f=e(85893),E=["fieldProps","proFieldProps"],r=["fieldProps","proFieldProps"],F="text",S=function(v){var c=v.fieldProps,R=v.proFieldProps,L=(0,N.Z)(v,E);return(0,f.jsx)(I.Z,(0,p.Z)({valueType:F,fieldProps:c,filedConfig:{valueType:F},proFieldProps:R},L))},K=function(v){var c=(0,U.Z)(v.open||!1,{value:v.open,onChange:v.onOpenChange}),R=(0,s.Z)(c,2),L=R[0],k=R[1];return(0,f.jsx)(z.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(q){var A,T=q.getFieldValue(v.name||[]);return(0,f.jsx)(G.Z,(0,p.Z)((0,p.Z)({getPopupContainer:function(P){return P&&P.parentNode?P.parentNode:P},onOpenChange:function(P){return k(P)},content:(0,f.jsxs)("div",{style:{padding:"4px 0"},children:[(A=v.statusRender)===null||A===void 0?void 0:A.call(v,T),v.strengthText?(0,f.jsx)("div",{style:{marginTop:10},children:(0,f.jsx)("span",{children:v.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},v.popoverProps),{},{open:L,children:v.children}))}})},V=function(v){var c=v.fieldProps,R=v.proFieldProps,L=(0,N.Z)(v,r),k=(0,O.useState)(!1),_=(0,s.Z)(k,2),q=_[0],A=_[1];return c!=null&&c.statusRender&&L.name?(0,f.jsx)(K,{name:L.name,statusRender:c==null?void 0:c.statusRender,popoverProps:c==null?void 0:c.popoverProps,strengthText:c==null?void 0:c.strengthText,open:q,onOpenChange:A,children:(0,f.jsx)("div",{children:(0,f.jsx)(I.Z,(0,p.Z)({valueType:"password",fieldProps:(0,p.Z)((0,p.Z)({},(0,$.Z)(c,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(X){var P;c==null||(P=c.onBlur)===null||P===void 0||P.call(c,X),A(!1)},onClick:function(X){var P;c==null||(P=c.onClick)===null||P===void 0||P.call(c,X),A(!0)}}),proFieldProps:R,filedConfig:{valueType:F}},L))})}):(0,f.jsx)(I.Z,(0,p.Z)({valueType:"password",fieldProps:c,proFieldProps:R,filedConfig:{valueType:F}},L))},y=S;y.Password=V,y.displayName="ProFormComponent",H.Z=y},89492:function(ie,H,e){e.r(H),e.d(H,{default:function(){return l}});var s=e(15009),p=e.n(s),N=e(99289),U=e.n(N),z=e(5574),G=e.n(z),$=e(2831),O=e(93246),I=e(31418),f=e(40056),E=e(67294),r=e(85893),F={name:{show:!1,message:"\u60A8\u521B\u5EFA\u7684\u9762\u677F\u5BB9\u5668\u540D\u79F0\u975E\u9ED8\u8BA4\u7684 dpanel \uFF0C\u8BF7\u91CD\u5EFA\u5E76\u901A\u8FC7\u73AF\u5883\u53D8\u91CF APP_NAME \u6307\u5B9A\u65B0\u7684\u540D\u79F0\u3002"}};function S(){var o=I.Z.useApp(),d=(0,E.useState)(""),u=G()(d,2),m=u[0],j=u[1],C=(0,E.useState)(""),M=G()(C,2),Z=M[0],Y=M[1];return(0,E.useEffect)(function(){(0,$.a)().then(function(B){!B.data.dpanel.containerInfo.Id&&B.data.dpanel.family!="lite"&&((0,O.YZ)(o,F.name.message),j(F.name.message))})},[]),(0,r.jsx)(r.Fragment,{children:m&&(0,r.jsx)(f.Z,{type:"error",message:m,banner:!0})})}var K=e(54006);function V(o){return y.apply(this,arguments)}function y(){return y=U()(p()().mark(function o(d){return p()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,K.request)("/api/common/user/login",{method:"POST",data:d}));case 1:case"end":return m.stop()}},o)})),y.apply(this,arguments)}var w=e(87547),v=e(87462),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},R=c,L=e(84089),k=function(d,u){return E.createElement(L.Z,(0,v.Z)({},d,{ref:u,icon:R}))},_=E.forwardRef(k),q=_,A=e(10915),T=e(1413),X=e(45987),P=e(28459),pe=e(93967),ce=e.n(pe),fe=e(97269),oe=e(4942),ge=e(98082),he=function(d){return(0,oe.Z)((0,oe.Z)({},d.componentCls,{"&-container":{display:"flex",flex:"1",flexDirection:"column",height:"100%",paddingInline:32,paddingBlock:24,overflow:"auto",background:"inherit"},"&-top":{textAlign:"center"},"&-header":{display:"flex",alignItems:"center",justifyContent:"center",height:"44px",lineHeight:"44px",a:{textDecoration:"none"}},"&-title":{position:"relative",insetBlockStart:"2px",color:"@heading-color",fontWeight:"600",fontSize:"33px"},"&-logo":{width:"44px",height:"44px",marginInlineEnd:"16px",verticalAlign:"top",img:{width:"100%"}},"&-desc":{marginBlockStart:"12px",marginBlockEnd:"40px",color:d.colorTextSecondary,fontSize:d.fontSize},"&-main":{minWidth:"328px",maxWidth:"580px",margin:"0 auto","&-other":{marginBlockStart:"24px",lineHeight:"22px",textAlign:"start"}}}),"@media (min-width: @screen-md-min)",(0,oe.Z)({},"".concat(d.componentCls,"-container"),{paddingInline:0,paddingBlockStart:32,paddingBlockEnd:24,backgroundRepeat:"no-repeat",backgroundPosition:"center 110px",backgroundSize:"100%"}))};function ye(o){return(0,ge.Xj)("LoginForm",function(d){var u=(0,T.Z)((0,T.Z)({},d),{},{componentCls:".".concat(o)});return[he(u)]})}var Pe=["logo","message","contentStyle","title","subTitle","actions","children","containerStyle","otherStyle"];function de(o){var d,u=o.logo,m=o.message,j=o.contentStyle,C=o.title,M=o.subTitle,Z=o.actions,Y=o.children,B=o.containerStyle,g=o.otherStyle,h=(0,X.Z)(o,Pe),D=(0,A.YB)(),re=h.submitter===!1?!1:(0,T.Z)((0,T.Z)({searchConfig:{submitText:D.getMessage("loginForm.submitText","\u767B\u5F55")}},h.submitter),{},{submitButtonProps:(0,T.Z)({size:"large",style:{width:"100%"}},(d=h.submitter)===null||d===void 0?void 0:d.submitButtonProps),render:function(x,ve){var le,xe=ve.pop();if(typeof(h==null||(le=h.submitter)===null||le===void 0?void 0:le.render)=="function"){var ne,te;return h==null||(ne=h.submitter)===null||ne===void 0||(te=ne.render)===null||te===void 0?void 0:te.call(ne,x,ve)}return xe}}),W=(0,E.useContext)(P.ZP.ConfigContext),me=W.getPrefixCls("pro-form-login"),se=ye(me),Ce=se.wrapSSR,ee=se.hashId,Q=function(x){return"".concat(me,"-").concat(x," ").concat(ee)},ae=(0,E.useMemo)(function(){return u?typeof u=="string"?(0,r.jsx)("img",{src:u}):u:null},[u]);return Ce((0,r.jsxs)("div",{className:ce()(Q("container"),ee),style:B,children:[(0,r.jsxs)("div",{className:"".concat(Q("top")," ").concat(ee).trim(),children:[C||ae?(0,r.jsxs)("div",{className:"".concat(Q("header")),children:[ae?(0,r.jsx)("span",{className:Q("logo"),children:ae}):null,C?(0,r.jsx)("span",{className:Q("title"),children:C}):null]}):null,M?(0,r.jsx)("div",{className:Q("desc"),children:M}):null]}),(0,r.jsxs)("div",{className:Q("main"),style:(0,T.Z)({width:328},j),children:[(0,r.jsxs)(fe.A,(0,T.Z)((0,T.Z)({isKeyPressSubmit:!0},h),{},{submitter:re,children:[m,Y]})),Z?(0,r.jsx)("div",{className:Q("main-other"),style:g,children:Z}):null]})]}))}var ue=e(5966),n=e(63434),t=e(9361),a=e(92398),l=function(){var o=t.Z.useToken(),d=o.token,u=I.Z.useApp(),m=(0,K.useModel)("@@initialState"),j=m.initialState,C=m.loading,M=m.error,Z=m.refresh,Y=m.setInitialState;return(0,r.jsxs)("div",{children:[(0,r.jsx)(S,{}),(0,r.jsx)(A._Y,{hashed:!1,children:(0,r.jsx)("div",{style:{backgroundColor:d.colorBgContainer,height:"100vh",paddingTop:"200px"},children:(0,r.jsxs)(de,{onFinish:function(){var B=U()(p()().mark(function g(h){var D;return p()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,V({username:h.username,password:h.password,autoLogin:h.autoLogin});case 2:if(D=W.sent,!D.data.accessToken){W.next=10;break}localStorage.setItem("token",D.data.accessToken),Z(),window.location.href="/dpanel/ui/home",(0,O.$h)(u,"\u767B\u5F55\u6210\u529F"),W.next=11;break;case 10:return W.abrupt("return",!1);case 11:case"end":return W.stop()}},g)}));return function(g){return B.apply(this,arguments)}}(),logo:"",title:"Docker Panel",subTitle:"Docker \u90E8\u7F72&\u7BA1\u7406\u53EF\u89C6\u5316\u9762\u677F",children:[(0,r.jsx)(a.Z,{centered:!0,items:[{key:"account",label:"\u8D26\u53F7\u5BC6\u7801\u767B\u5F55",children:[(0,r.jsx)(ue.Z,{name:"username",fieldProps:{size:"large",prefix:(0,r.jsx)(w.Z,{className:"prefixIcon"})},placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"}]},"username"),(0,r.jsx)(ue.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,r.jsx)(q,{className:"prefixIcon"})},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"}]},"password")]}]}),(0,r.jsx)("div",{style:{marginBlockEnd:24},children:(0,r.jsx)(n.Z,{noStyle:!0,name:"autoLogin",initialValue:!0,children:"\u4FDD\u6301\u767B\u5F55\u72B6\u6001"})})]})})})]})}},2831:function(ie,H,e){e.d(H,{a:function(){return G},d:function(){return O}});var s=e(15009),p=e.n(s),N=e(99289),U=e.n(N),z=e(54006);function G(){return $.apply(this,arguments)}function $(){return $=U()(p()().mark(function f(){return p()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,z.request)("/api/common/home/info",{method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},f)})),$.apply(this,arguments)}function O(){return I.apply(this,arguments)}function I(){return I=U()(p()().mark(function f(){return p()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,z.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},f)})),I.apply(this,arguments)}},40056:function(ie,H,e){e.d(H,{Z:function(){return ue}});var s=e(67294),p=e(89739),N=e(4340),U=e(97937),z=e(21640),G=e(78860),$=e(93967),O=e.n($),I=e(29372),f=e(64217),E=e(42550),r=e(96159),F=e(53124),S=e(11568),K=e(14747),V=e(83559);const y=(n,t,a,l,o)=>({background:n,border:`${(0,S.bf)(l.lineWidth)} ${l.lineType} ${t}`,[`${o}-icon`]:{color:a}}),w=n=>{const{componentCls:t,motionDurationSlow:a,marginXS:l,marginSM:o,fontSize:d,fontSizeLG:u,lineHeight:m,borderRadiusLG:j,motionEaseInOutCirc:C,withDescriptionIconSize:M,colorText:Z,colorTextHeading:Y,withDescriptionPadding:B,defaultPadding:g}=n;return{[t]:Object.assign(Object.assign({},(0,K.Wf)(n)),{position:"relative",display:"flex",alignItems:"center",padding:g,wordWrap:"break-word",borderRadius:j,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:l,lineHeight:0},"&-description":{display:"none",fontSize:d,lineHeight:m},"&-message":{color:Y},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${a} ${C}, opacity ${a} ${C},
        padding-top ${a} ${C}, padding-bottom ${a} ${C},
        margin-bottom ${a} ${C}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:B,[`${t}-icon`]:{marginInlineEnd:o,fontSize:M,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:l,color:Y,fontSize:u},[`${t}-description`]:{display:"block",color:Z}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},v=n=>{const{componentCls:t,colorSuccess:a,colorSuccessBorder:l,colorSuccessBg:o,colorWarning:d,colorWarningBorder:u,colorWarningBg:m,colorError:j,colorErrorBorder:C,colorErrorBg:M,colorInfo:Z,colorInfoBorder:Y,colorInfoBg:B}=n;return{[t]:{"&-success":y(o,l,a,n,t),"&-info":y(B,Y,Z,n,t),"&-warning":y(m,u,d,n,t),"&-error":Object.assign(Object.assign({},y(M,C,j,n,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},c=n=>{const{componentCls:t,iconCls:a,motionDurationMid:l,marginXS:o,fontSizeIcon:d,colorIcon:u,colorIconHover:m}=n;return{[t]:{"&-action":{marginInlineStart:o},[`${t}-close-icon`]:{marginInlineStart:o,padding:0,overflow:"hidden",fontSize:d,lineHeight:(0,S.bf)(d),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${a}-close`]:{color:u,transition:`color ${l}`,"&:hover":{color:m}}},"&-close-text":{color:u,transition:`color ${l}`,"&:hover":{color:m}}}}},R=n=>({withDescriptionIconSize:n.fontSizeHeading3,defaultPadding:`${n.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${n.paddingMD}px ${n.paddingContentHorizontalLG}px`});var L=(0,V.I$)("Alert",n=>[w(n),v(n),c(n)],R),k=function(n,t){var a={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&t.indexOf(l)<0&&(a[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(n);o<l.length;o++)t.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(n,l[o])&&(a[l[o]]=n[l[o]]);return a};const _={success:p.Z,info:G.Z,error:N.Z,warning:z.Z},q=n=>{const{icon:t,prefixCls:a,type:l}=n,o=_[l]||null;return t?(0,r.wm)(t,s.createElement("span",{className:`${a}-icon`},t),()=>({className:O()(`${a}-icon`,{[t.props.className]:t.props.className})})):s.createElement(o,{className:`${a}-icon`})},A=n=>{const{isClosable:t,prefixCls:a,closeIcon:l,handleClose:o,ariaProps:d}=n,u=l===!0||l===void 0?s.createElement(U.Z,null):l;return t?s.createElement("button",Object.assign({type:"button",onClick:o,className:`${a}-close-icon`,tabIndex:0},d),u):null};var X=s.forwardRef((n,t)=>{const{description:a,prefixCls:l,message:o,banner:d,className:u,rootClassName:m,style:j,onMouseEnter:C,onMouseLeave:M,onClick:Z,afterClose:Y,showIcon:B,closable:g,closeText:h,closeIcon:D,action:re,id:W}=n,me=k(n,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[se,Ce]=s.useState(!1),ee=s.useRef(null);s.useImperativeHandle(t,()=>({nativeElement:ee.current}));const{getPrefixCls:Q,direction:ae,alert:i}=s.useContext(F.E_),x=Q("alert",l),[ve,le,xe]=L(x),ne=b=>{var J;Ce(!0),(J=n.onClose)===null||J===void 0||J.call(n,b)},te=s.useMemo(()=>n.type!==void 0?n.type:d?"warning":"info",[n.type,d]),Oe=s.useMemo(()=>typeof g=="object"&&g.closeIcon||h?!0:typeof g=="boolean"?g:D!==!1&&D!==null&&D!==void 0?!0:!!(i!=null&&i.closable),[h,D,g,i==null?void 0:i.closable]),Ee=d&&B===void 0?!0:B,Ie=O()(x,`${x}-${te}`,{[`${x}-with-description`]:!!a,[`${x}-no-icon`]:!Ee,[`${x}-banner`]:!!d,[`${x}-rtl`]:ae==="rtl"},i==null?void 0:i.className,u,m,xe,le),je=(0,f.Z)(me,{aria:!0,data:!0}),Me=s.useMemo(()=>{var b,J;return typeof g=="object"&&g.closeIcon?g.closeIcon:h||(D!==void 0?D:typeof(i==null?void 0:i.closable)=="object"&&(!((b=i==null?void 0:i.closable)===null||b===void 0)&&b.closeIcon)?(J=i==null?void 0:i.closable)===null||J===void 0?void 0:J.closeIcon:i==null?void 0:i.closeIcon)},[D,g,h,i==null?void 0:i.closeIcon]),Te=s.useMemo(()=>{const b=g!=null?g:i==null?void 0:i.closable;if(typeof b=="object"){const{closeIcon:J}=b;return k(b,["closeIcon"])}return{}},[g,i==null?void 0:i.closable]);return ve(s.createElement(I.ZP,{visible:!se,motionName:`${x}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:b=>({maxHeight:b.offsetHeight}),onLeaveEnd:Y},(b,J)=>{let{className:Se,style:Ze}=b;return s.createElement("div",Object.assign({id:W,ref:(0,E.sQ)(ee,J),"data-show":!se,className:O()(Ie,Se),style:Object.assign(Object.assign(Object.assign({},i==null?void 0:i.style),j),Ze),onMouseEnter:C,onMouseLeave:M,onClick:Z,role:"alert"},je),Ee?s.createElement(q,{description:a,icon:n.icon,prefixCls:x,type:te}):null,s.createElement("div",{className:`${x}-content`},o?s.createElement("div",{className:`${x}-message`},o):null,a?s.createElement("div",{className:`${x}-description`},a):null),re?s.createElement("div",{className:`${x}-action`},re):null,s.createElement(A,{isClosable:Oe,prefixCls:x,closeIcon:Me,handleClose:ne,ariaProps:Te}))}))}),P=e(15671),pe=e(43144),ce=e(61120),fe=e(78814),oe=e(82963);function ge(n,t,a){return t=(0,ce.Z)(t),(0,oe.Z)(n,(0,fe.Z)()?Reflect.construct(t,a||[],(0,ce.Z)(n).constructor):t.apply(n,a))}var he=e(60136),Pe=function(n){function t(){var a;return(0,P.Z)(this,t),a=ge(this,t,arguments),a.state={error:void 0,info:{componentStack:""}},a}return(0,he.Z)(t,n),(0,pe.Z)(t,[{key:"componentDidCatch",value:function(l,o){this.setState({error:l,info:o})}},{key:"render",value:function(){const{message:l,description:o,id:d,children:u}=this.props,{error:m,info:j}=this.state,C=(j==null?void 0:j.componentStack)||null,M=typeof l=="undefined"?(m||"").toString():l,Z=typeof o=="undefined"?C:o;return m?s.createElement(X,{id:d,type:"error",message:M,description:s.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},Z)}):u}}])}(s.Component);const de=X;de.ErrorBoundary=Pe;var ue=de}}]);
