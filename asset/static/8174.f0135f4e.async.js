"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8174],{28307:function(K,g,e){var j=e(15009),a=e.n(j),A=e(99289),D=e.n(A),O=e(5574),v=e.n(O),C=e(38345),M=e(97269),i=e(62370),o=e(5966),W=e(64317),_=e(28036),I=e(85265),l=e(42075),d=e(67294),f=e(3393),u=e(97961),c=e(92754),m=e(82346),n=e(96042),F=e(3616),r=e(85893),B=(0,d.forwardRef)(function(t,p){var Z=(0,d.useState)(!1),R=v()(Z,2),P=R[0],E=R[1],U=(0,d.useRef)(),b=(0,d.useRef)(),z=(0,d.useState)(!1),H=v()(z,2),N=H[0],G=H[1];return(0,d.useImperativeHandle)(p,function(){return{upgradeImage:function(s){var h;return E(!0),(h=U.current)===null||h===void 0||h.setFieldValue("imageUrl",s),(0,f.Gb)({tag:s,type:"pull"})},setImageName:function(s){var h;E(!0),(h=U.current)===null||h===void 0||h.setFieldValue("imageUrl",s)}}}),[(0,r.jsx)(_.ZP,{type:t.buttonType?t.buttonType:"default",onClick:function(){var s,h;t.onClick&&t.onClick(),E(!0),(s=U.current)===null||s===void 0||s.resetFields(),(h=b.current)===null||h===void 0||h.setStart("")},children:"\u62C9\u53D6\u955C\u50CF"},"remoteBtn"),(0,r.jsxs)(I.Z,{forceRender:!0,open:P,title:"\u62C9\u53D6\u8FDC\u7A0B\u955C\u50CF",width:F.R_,onClose:function(){var s;E(!1),(s=b.current)===null||s===void 0||s.close()},footer:!1,children:[(0,r.jsx)(C.Z,{children:(0,r.jsxs)(l.Z,{direction:"vertical",size:"middle",children:[(0,r.jsxs)("div",{children:["1\u3001\u955C\u50CF\u540D\u79F0\u4E2D\u4E0D\u5305\u542B\u4ED3\u5E93\u5730\u5740\u65F6\uFF0C \u9ED8\u8BA4\u4ECE ",(0,r.jsx)("a",{href:"https://hub.docker.com/",target:"_blank",children:"docker hub"})," \u4E2D\u4E0B\u8F7D\uFF0C \u4F60\u53EF\u4EE5",(0,r.jsx)("a",{href:"https://hub.docker.com/search?q=",target:"_blank",children:"\u3010\u67E5\u627E\u3011"})," \u9700\u8981\u7684\u955C\u50CF"]}),(0,r.jsx)("div",{children:"2\u3001\u62C9\u53D6\u975E docker hub \u955C\u50CF\u65F6\uFF0C\u8BF7\u586B\u5199\u5B8C\u6574\u7684\u955C\u50CF\u5730\u5740\u3002"}),(0,r.jsxs)("div",{children:["3\u3001\u76EE\u6807\u4ED3\u5E93\u6709\u6743\u9650\u9A8C\u8BC1\u65F6\uFF0C\u8BF7",(0,r.jsx)(m.Link,{to:"/image/registry",children:"\u3010\u6DFB\u52A0\u3011"}),"\u8BE5\u4ED3\u5E93\uFF0C\u5E76\u914D\u7F6E\u7528\u6237\u540D\u548C\u5BC6\u7801\u6743\u9650"]}),(0,r.jsxs)("div",{children:["4\u3001\u65E0\u6CD5\u6B63\u5E38\u62C9\u53D6\u955C\u50CF\u65F6\u8BF7\u5728 ",(0,r.jsx)(m.Link,{to:"/image/registry",children:"\u3010\u4ED3\u5E93\u7BA1\u7406\u3011"}),"\u4E2D\u914D\u7F6E\u955C\u50CF\u7684\u52A0\u901F\u5730\u5740"]})]})}),(0,r.jsx)(C.Z,{title:"\u62C9\u53D6\u955C\u50CF",headerBordered:!0,children:(0,r.jsxs)(M.A,{formRef:U,submitter:!1,isKeyPressSubmit:!0,onFinish:function(){var T=D()(a()().mark(function s(h){var L,S,k,$,x,V;return a()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return x=(L=h.imageUrl)!==null&&L!==void 0?L:"",h.registry&&(x=h.registry.serverAddress+"/"+x),G(!0),(S=b.current)===null||S===void 0||S.setStart(x),y.next=6,(0,f.Gb)({tag:x,type:"pull",platform:(k=h.platform)!==null&&k!==void 0?k:""}).finally(function(){G(!1)});case 6:return V=y.sent,($=b.current)===null||$===void 0||$.setFinish(),E(!1),t.onFinish&&t.onFinish(V.data.tag),y.abrupt("return",!0);case 11:case"end":return y.stop()}},s)}));return function(s){return T.apply(this,arguments)}}(),children:[(0,r.jsxs)(l.Z.Compact,{children:[(0,r.jsx)(i.Z,{name:"registry",children:(0,r.jsx)(n.Z,{width:"150px"})}),(0,r.jsx)(o.Z,{disabled:N,width:270,name:"imageUrl",placeholder:"\u8BF7\u8F93\u5165\u955C\u50CF\u5730\u5740",required:!0,rules:[{required:!0}]}),(0,r.jsx)(W.Z,{name:"platform",style:{width:100},placeholder:"\u9ED8\u8BA4\u5F53\u524D\u67B6\u6784",options:u.ii.map(function(T){return{label:T.name,value:T.name}})}),(0,r.jsx)(_.ZP,{loading:N,onClick:D()(a()().mark(function T(){var s;return a()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:(s=U.current)===null||s===void 0||s.submit();case 1:case"end":return L.stop()}},T)})),children:"\u62C9\u53D6\u955C\u50CF"}),(0,r.jsx)(_.ZP,{danger:!0,onClick:function(){var s;(s=b.current)===null||s===void 0||s.close()},children:"\u4E2D\u6B62\u6267\u884C"})]}),(0,r.jsx)(i.Z,{label:"\u62C9\u53D6\u8FDB\u5EA6",children:(0,r.jsx)(c.Z,{ref:b})})]})})]},"remoteDrawer")]});g.Z=B},80821:function(K,g,e){e.d(g,{Z:function(){return W}});var j=e(97857),a=e.n(j),A=e(5574),D=e.n(A),O=e(24963),v=e(86738),C=e(28036),M=e(83062),i=e(67294),o=e(85893);function W(_){var I=(0,i.useState)(!1),l=D()(I,2),d=l[0],f=l[1],u=(0,i.useContext)(O.Z),c=u.lang,m=u.message,n=function(){f(!0);var r=_.action();r instanceof Promise?r.then(function(B){if(f(!1),B){typeof _.onSuccess=="function"&&_.onSuccess(B);var t="";_.messageSuccess?typeof _.messageSuccess=="function"?t=_.messageSuccess(B):t=_.messageSuccess.indexOf("notification.")==0?c(_.messageSuccess):_.messageSuccess:t=c("notification.finish"),_.asynced?m.info(t):m.success(t)}}).catch(function(B){f(!1),typeof _.onError=="function"&&_.onError(B)}):f(!1)};return _.confirm?(0,o.jsx)(v.Z,a()(a()({style:{width:500},title:_.confirmTitle?_.confirmTitle:c("notification.title.tip"),description:typeof _.confirm=="string"&&_.confirm.indexOf("notification.")==0?c(_.confirm):_.confirm,onConfirm:n,okText:"Yes",cancelText:"No",onOpenChange:_.confirmOnOpenChange},_.confirmProps),{},{children:(0,o.jsx)(C.ZP,{block:_.block,disabled:_.disabled,icon:!_.children&&d?void 0:_.icon,loading:d,danger:_.danger,type:_.type,children:_.children})})):(0,o.jsx)(M.Z,{title:_.tips,children:(0,o.jsx)(C.ZP,{block:_.block,style:_.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:_.disabled,icon:!_.children&&d?void 0:_.icon,loading:d,onClick:n,danger:_.danger,type:_.type,children:_.children})})}},81366:function(K,g,e){var j=e(97857),a=e.n(j),A=e(19632),D=e.n(A),O=e(5574),v=e.n(O),C=e(27254),M=e(42075),i=e(85418),o=e(25593),W=e(28036),_=e(67294),I=e(31112),l=e(85893),d={title:"ROOT",path:"/"},f=(0,_.forwardRef)(function(u,c){var m=(0,_.useContext)(I.Z),n=m.showPath,F=m.redirectPath,r=(0,_.useState)([d]),B=v()(r,2),t=B[0],p=B[1];(0,_.useImperativeHandle)(c,function(){return{addHistory:function(P,E){E=="/"?p([d]):p([].concat(D()(t),[{title:P,path:E}]))},initHistory:function(P,E){p([a()(a()({},d),{},{children:E})].concat(D()(P)))}}});var Z=function(P){n?n(t[P].title,t[P].path):u.showPath&&u.showPath(t[P].title,t[P].path);var E=t.filter(function(U,b){return b<=P});p(D()(E))};return(0,l.jsxs)(M.Z,{children:[(0,l.jsx)(M.Z.Compact,{children:t.map(function(R,P){return R.children?(0,l.jsxs)(i.Z.Button,{menu:{items:R.children.map(function(E,U){return{key:U,label:(0,l.jsx)(o.Z.Link,{onClick:function(){F(E)},children:E},U)}})},type:"dashed",onClick:function(U){Z(P)},children:[(0,l.jsx)(C.Z,{})," ",R.title]},P):(0,l.jsx)(W.ZP,{icon:(0,l.jsx)(C.Z,{}),type:"dashed",onClick:function(){Z(P)},children:R.title},P)})}),t.length>=2&&(0,l.jsx)(o.Z.Text,{copyable:{text:t[t.length-1].path}})]})});g.Z=f},31112:function(K,g,e){var j=e(67294),a=(0,j.createContext)({});g.Z=a},68536:function(K,g,e){e.d(g,{Z:function(){return W}});var j=e(24963),a=e(36146),A=e(93613),D=e(36693),O=e(2741),v=e(25593),C=e(42075),M=e(67294),i=e(85893),o=0;function W(_){var I=(0,M.useContext)(j.Z),l=I.message,d=new a.Uo("components.explorer");return _.isDir?(0,i.jsx)(v.Z.Link,{onClick:function(){_.onClick&&_.onClick()},children:(0,i.jsxs)(C.Z,{children:[(0,i.jsx)(A.Z,{}),_.showName]})}):_.isLink?(0,i.jsx)(v.Z.Link,{onClick:function(){_.onClick&&_.onClick()},children:(0,i.jsxs)(C.Z,{children:[(0,i.jsx)(D.Z,{}),_.showName]})}):(0,i.jsx)(v.Z.Text,{onClick:function(){if(o++,o==2){o=0,_.onClick&&_.onClick();return}setTimeout(function(){o==1&&l.info(d.format("fileNameMessageViewDetail")),o=0},400)},style:{cursor:"pointer"},children:(0,i.jsxs)(C.Z,{children:[(0,i.jsx)(O.Z,{}),_.showName]})})}},97961:function(K,g,e){e.d(g,{GH:function(){return W},_2:function(){return I},fN:function(){return C},ii:function(){return v},vC:function(){return i}});var j=e(15009),a=e.n(j),A=e(99289),D=e.n(A),O=e(82346),v=[{name:"amd64",arch:"amd64",search:["amd64","x86_64","86_64"]},{name:"arm64",arch:"arm64",search:["arm64","arrch64"]},{name:"i386",arch:"386",search:[]},{name:"arm/v6",arch:"arm",search:[]},{name:"arm/v7",arch:"arm",search:[]},{name:"arm/v8",arch:"arm64",search:[]},{name:"ppc64le",arch:"ppc64le",search:[]},{name:"riscv64",arch:"riscv64",search:[]}];function C(u){return M.apply(this,arguments)}function M(){return M=D()(a()().mark(function u(c){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,O.request)("/api/app/image/create-by-dockerfile",{method:"POST",data:c}));case 1:case"end":return n.stop()}},u)})),M.apply(this,arguments)}function i(u){return o.apply(this,arguments)}function o(){return o=D()(a()().mark(function u(c){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,O.request)("/api/app/image/import-by-container-tar",{method:"POST",data:c}));case 1:case"end":return n.stop()}},u)})),o.apply(this,arguments)}function W(u){return _.apply(this,arguments)}function _(){return _=D()(a()().mark(function u(c){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,O.request)("/api/app/image/import-by-image-tar",{method:"POST",data:c}));case 1:case"end":return n.stop()}},u)})),_.apply(this,arguments)}function I(u){return l.apply(this,arguments)}function l(){return l=D()(a()().mark(function u(c){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,O.request)("/api/common/attach/delete",{method:"POST",data:c});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},u)})),l.apply(this,arguments)}function d(){return f.apply(this,arguments)}function f(){return f=_asyncToGenerator(_regeneratorRuntime().mark(function u(){return _regeneratorRuntime().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",request("/api/app/image/get-template-list",{method:"POST"}));case 1:case"end":return m.stop()}},u)})),f.apply(this,arguments)}}}]);
