"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[550],{87784:function(K,E,e){e.d(E,{Z:function(){return O}});var m=e(87462),o=e(67294),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},l=v,p=e(84089),u=function(d,T){return o.createElement(p.Z,(0,m.Z)({},d,{ref:T,icon:l}))},M=o.forwardRef(u),O=M},88484:function(K,E,e){e.d(E,{Z:function(){return O}});var m=e(87462),o=e(67294),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},l=v,p=e(84089),u=function(d,T){return o.createElement(p.Z,(0,m.Z)({},d,{ref:T,icon:l}))},M=o.forwardRef(u),O=M},86615:function(K,E,e){var m=e(1413),o=e(45987),v=e(22270),l=e(78045),p=e(67294),u=e(90789),M=e(56),O=e(85893),P=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],d=p.forwardRef(function(_,i){var f=_.fieldProps,t=_.options,n=_.radioType,a=_.layout,s=_.proFieldProps,U=_.valueEnum,B=(0,o.Z)(_,P);return(0,O.jsx)(M.Z,(0,m.Z)((0,m.Z)({valueType:n==="button"?"radioButton":"radio",ref:i,valueEnum:(0,v.h)(U,void 0)},B),{},{fieldProps:(0,m.Z)({options:t,layout:a},f),proFieldProps:s,filedConfig:{customLightMode:!0}}))}),T=p.forwardRef(function(_,i){var f=_.fieldProps,t=_.children;return(0,O.jsx)(l.ZP,(0,m.Z)((0,m.Z)({},f),{},{ref:i,children:t}))}),c=(0,u.G)(T,{valuePropName:"checked",ignoreWidth:!0}),r=c;r.Group=d,r.Button=l.ZP.Button,r.displayName="ProFormComponent",E.Z=r},5966:function(K,E,e){var m=e(97685),o=e(1413),v=e(45987),l=e(21770),p=e(72723),u=e(55241),M=e(97435),O=e(67294),P=e(56),d=e(85893),T=["fieldProps","proFieldProps"],c=["fieldProps","proFieldProps"],r="text",_=function(a){var s=a.fieldProps,U=a.proFieldProps,B=(0,v.Z)(a,T);return(0,d.jsx)(P.Z,(0,o.Z)({valueType:r,fieldProps:s,filedConfig:{valueType:r},proFieldProps:U},B))},i=function(a){var s=(0,l.Z)(a.open||!1,{value:a.open,onChange:a.onOpenChange}),U=(0,m.Z)(s,2),B=U[0],N=U[1];return(0,d.jsx)(p.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(g){var D,G=g.getFieldValue(a.name||[]);return(0,d.jsx)(u.Z,(0,o.Z)((0,o.Z)({getPopupContainer:function(Z){return Z&&Z.parentNode?Z.parentNode:Z},onOpenChange:function(Z){return N(Z)},content:(0,d.jsxs)("div",{style:{padding:"4px 0"},children:[(D=a.statusRender)===null||D===void 0?void 0:D.call(a,G),a.strengthText?(0,d.jsx)("div",{style:{marginTop:10},children:(0,d.jsx)("span",{children:a.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},a.popoverProps),{},{open:B,children:a.children}))}})},f=function(a){var s=a.fieldProps,U=a.proFieldProps,B=(0,v.Z)(a,c),N=(0,O.useState)(!1),h=(0,m.Z)(N,2),g=h[0],D=h[1];return s!=null&&s.statusRender&&B.name?(0,d.jsx)(i,{name:B.name,statusRender:s==null?void 0:s.statusRender,popoverProps:s==null?void 0:s.popoverProps,strengthText:s==null?void 0:s.strengthText,open:g,onOpenChange:D,children:(0,d.jsx)("div",{children:(0,d.jsx)(P.Z,(0,o.Z)({valueType:"password",fieldProps:(0,o.Z)((0,o.Z)({},(0,M.Z)(s,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(W){var Z;s==null||(Z=s.onBlur)===null||Z===void 0||Z.call(s,W),D(!1)},onClick:function(W){var Z;s==null||(Z=s.onClick)===null||Z===void 0||Z.call(s,W),D(!0)}}),proFieldProps:U,filedConfig:{valueType:r}},B))})}):(0,d.jsx)(P.Z,(0,o.Z)({valueType:"password",fieldProps:s,proFieldProps:U,filedConfig:{valueType:r}},B))},t=_;t.Password=f,t.displayName="ProFormComponent",E.Z=t},1677:function(K,E,e){var m=e(1413),o=e(45987),v=e(88484),l=e(31365),p=e(28036),u=e(67294),M=e(9105),O=e(90789),P=e(85893),d=["fieldProps","action","accept","listType","title","max","icon","buttonProps","disabled","proFieldProps"],T=function(_,i){var f,t=_.fieldProps,n=_.action,a=_.accept,s=_.listType,U=_.title,B=U===void 0?"\u5355\u51FB\u4E0A\u4F20":U,N=_.max,h=_.icon,g=h===void 0?(0,P.jsx)(v.Z,{}):h,D=_.buttonProps,G=_.disabled,W=_.proFieldProps,Z=(0,o.Z)(_,d),z=(0,u.useMemo)(function(){var X;return(X=Z.fileList)!==null&&X!==void 0?X:Z.value},[Z.fileList,Z.value]),J=(0,u.useContext)(M.A),Y=(W==null?void 0:W.mode)||J.mode||"edit",re=(N===void 0||!z||(z==null?void 0:z.length)<N)&&Y!=="read",ae=(s!=null?s:t==null?void 0:t.listType)==="picture-card";return(0,P.jsx)(l.Z,(0,m.Z)((0,m.Z)({action:n,accept:a,ref:i,listType:s||"picture",fileList:z},t),{},{name:(f=t==null?void 0:t.name)!==null&&f!==void 0?f:"file",onChange:function(oe){var q;t==null||(q=t.onChange)===null||q===void 0||q.call(t,oe)},children:re&&(ae?(0,P.jsxs)("span",{children:[g," ",B]}):(0,P.jsxs)(p.ZP,(0,m.Z)((0,m.Z)({disabled:G||(t==null?void 0:t.disabled)},D),{},{children:[g,B]})))}))},c=(0,O.G)(u.forwardRef(T),{getValueFromEvent:function(_){return _.fileList}});E.Z=c},1699:function(K,E,e){e.d(E,{u:function(){return d}});var m=e(9783),o=e.n(m),v=e(97857),l=e.n(v),p=e(67294),u=e(82346),M=e(40411),O=e(42075),P=e(85893),d=function(c){var r=(0,u.useAccess)(),_=Array.isArray(c.access)?c.access:[c.access],i,f=c.fallback;if(typeof c.children=="function"?(i=c.children(_.reduce(function(t,n){return l()(l()({},t),{},o()({},n,r[n]))},{})),i||(i=f)):_.every(function(t){return r[t]})?i=c.children:i=f,!f&&i&&c.showProTips&&r.canSeeEnableCe){if(r.canSeeEnableHiddenProTips)return null;i=(0,P.jsx)(M.Z,{offset:c.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:i})}if(!f&&i&&c.showProRibbonTips&&r.canSeeEnableCe){if(r.canSeeEnableHiddenProTips)return null;i=(0,P.jsx)(M.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:i})}return c.space?(0,P.jsx)(O.Z,l()(l()({},c.space),{},{children:i})):i}},80821:function(K,E,e){e.d(E,{Z:function(){return c}});var m=e(97857),o=e.n(m),v=e(5574),l=e.n(v),p=e(24963),u=e(36146),M=e(86738),O=e(83062),P=e(28036),d=e(67294),T=e(85893);function c(r){var _=(0,d.useState)(!1),i=l()(_,2),f=i[0],t=i[1],n=(0,d.useContext)(p.Z),a=n.message,s=new u.Uo,U=function(){t(!0);var N=r.action();N instanceof Promise?N.then(function(h){if(t(!1),h){typeof r.onSuccess=="function"&&r.onSuccess(h);var g="";r.messageSuccess?typeof r.messageSuccess=="function"?g=r.messageSuccess(h):g=r.messageSuccess.indexOf("notification.")==0?s.format(r.messageSuccess):r.messageSuccess:g=s.format("notification.finish"),r.asynced?a.info(g):a.success(g)}}).catch(function(h){t(!1),typeof r.onError=="function"&&r.onError(h)}):t(!1)};return r.confirm?(0,T.jsx)(M.Z,o()(o()({style:{width:500},title:r.confirmTitle?r.confirmTitle:s.format("notification.title.tip"),description:typeof r.confirm=="string"&&r.confirm.indexOf("notification.")==0?s.format(r.confirm):r.confirm,onConfirm:U,okText:"Yes",cancelText:"No",onOpenChange:r.confirmOnOpenChange},r.confirmProps),{},{children:(0,T.jsx)(O.Z,{title:r.tips,children:(0,T.jsx)(P.ZP,{block:r.block,disabled:r.disabled,icon:!r.children&&f?void 0:r.icon,loading:f,danger:r.danger,type:r.type,children:r.children})})})):(0,T.jsx)(O.Z,{title:r.tips,children:(0,T.jsx)(P.ZP,{block:r.block,style:r.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:r.disabled,icon:!r.children&&f?void 0:r.icon,loading:f,onClick:U,danger:r.danger,type:r.type,children:r.children})})}},94359:function(K,E,e){e.d(E,{Z:function(){return f}});var m=e(5574),o=e.n(m),v=e(3089),l=e(98165),p=e(18429),u=e(8751),M=e(66212),O=e(14313),P=e(30159),d=e(87740),T=e(50888),c=e(66309),r=e(83062),_=e(36146),i=e(85893);function f(t){var n,a,s=new _.Uo("components.containerStatus"),U=t.status.split("."),B=o()(U,2),N=B[0],h=B[1],g="";g=s.format(t.status,(n=t.statusValue)!==null&&n!==void 0?n:{});var D=(0,i.jsx)(i.Fragment,{});return h=="0"&&(D=(0,i.jsx)(c.Z,{icon:(0,i.jsx)(v.Z,{}),color:"default",children:g})),h=="10"&&(D=(0,i.jsx)(c.Z,{icon:(0,i.jsx)(l.Z,{spin:!0}),color:"processing",children:g})),h=="20"&&(D=(0,i.jsx)(c.Z,{icon:(0,i.jsx)(p.Z,{}),color:"error",children:g})),h=="30"&&(D=(0,i.jsx)(c.Z,{icon:(0,i.jsx)(u.Z,{}),color:"success",children:g})),h=="new"&&(D=(0,i.jsx)(c.Z,{icon:(0,i.jsx)(M.Z,{}),children:g})),(h=="running"||h=="healthy"||h=="active"||h=="ready")&&(D=(0,i.jsx)(c.Z,{icon:(0,i.jsx)(O.Z,{}),color:"success",children:g})),(h=="paused"||h=="pause"||h=="rollback_paused")&&(D=(0,i.jsx)(c.Z,{icon:(0,i.jsx)(P.Z,{}),children:g})),(h=="waiting"||h=="starting"||h=="accepted")&&(D=(0,i.jsx)(c.Z,{icon:(0,i.jsx)(d.Z,{}),children:g})),["deploying","pending","allocated","accepted","assigned","preparing","updating","rollback_started"].includes(h)&&(D=(0,i.jsx)(c.Z,{icon:(0,i.jsx)(T.Z,{}),color:"processing",children:g})),(h=="error"||h=="down"||h=="failed")&&(D=(0,i.jsx)(c.Z,{icon:(0,i.jsx)(p.Z,{}),color:"error",children:g})),["complete","completed","rollback_completed"].includes(h)&&(D=(0,i.jsx)(c.Z,{icon:(0,i.jsx)(u.Z,{}),color:"success",children:g})),["exited","dead","removing","restarting","unhealthy","created","drain","unreachable","shutdown","rejected","remove","orphaned"].includes(h)&&(D=(0,i.jsx)(c.Z,{icon:(0,i.jsx)(p.Z,{}),color:"warning",children:g})),(0,i.jsx)(r.Z,{placement:"top",title:(a=t.tip)!==null&&a!==void 0?a:"",children:D})}},76428:function(K,E,e){e.d(E,{Z:function(){return l}});var m=e(25593),o=e(67294),v=e(85893);function l(p){return(0,v.jsx)(m.Z.Text,{copyable:!0,children:p.title})}},51100:function(K,E,e){e.d(E,{Z:function(){return p}});var m=e(97961),o=e(91604),v=e(1677),l=e(85893);function p(u){return u.showDragger?(0,l.jsx)(o.Z,{max:u.max?u.max:1,title:u.title,label:u.label,required:u.required,rules:[{required:u.required}],fieldProps:{multiple:!!(u.max&&u.max>1),name:"file",accept:u.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(O){return new Promise(function(P){var d;(0,m._2)({path:(d=O.response.data.path)!==null&&d!==void 0?d:""}).then(function(T){P(!0)})})}},name:u.name}):(0,l.jsx)(v.Z,{max:u.max?u.max:1,title:u.title,label:u.label,required:u.required,rules:[{required:u.required}],fieldProps:{multiple:!!(u.max&&u.max>1),name:"file",accept:u.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(O){return new Promise(function(P){var d;(0,m._2)({path:(d=O.response.data.path)!==null&&d!==void 0?d:""}).then(function(T){P(!0)})})}},name:u.name})}},3616:function(K,E,e){e.d(E,{Ed:function(){return l},FK:function(){return o},R_:function(){return m},ob:function(){return v}});var m=window.innerWidth<=1024?"90vw":"65vw",o="90vw",v="60vw",l="50vh"},24963:function(K,E,e){var m=e(67294),o=(0,m.createContext)({});E.Z=o},65913:function(K,E,e){var m=e(5574),o=e.n(m),v=e(74330),l=e(67294),p=e(85893),u=(0,l.forwardRef)(function(M,O){(0,l.useImperativeHandle)(O,function(){return{show:function(){c(!0)},destroy:function(){c(!1)}}});var P=(0,l.useState)(!1),d=o()(P,2),T=d[0],c=d[1];return(0,p.jsx)(v.Z,{spinning:T,size:"default",children:M.children})});E.Z=u},6091:function(K,E,e){e.r(E),e.d(E,{default:function(){return Ee}});var m=e(15009),o=e.n(m),v=e(99289),l=e.n(v),p=e(37476),u=e(86615),M=e(97462),O=e(5966),P=e(28036),d=e(67294),T=e(1699),c=e(82346);function r(F){return _.apply(this,arguments)}function _(){return _=l()(o()().mark(function F(V){return o()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,(0,c.request)("/api/pro/container-backup/import",{data:V,method:"POST"});case 2:return L.abrupt("return",L.sent);case 3:case"end":return L.stop()}},F)})),_.apply(this,arguments)}var i=e(3616),f=e(51100),t=e(36146),n=e(85893),a=(0,d.forwardRef)(function(F,V){(0,d.useImperativeHandle)(V,function(){return{}});var Q=(0,d.useRef)(),L=new t.Uo("components.appDetail");return(0,n.jsx)(T.u,{showProTips:!0,access:["canSeeEnableCe","canSeeEnableDockerEnvLocal"],children:function($){var A=$.canSeeEnableCe,j=$.canSeeEnableDockerEnvLocal;return j&&(0,n.jsxs)(p.Y,{modalProps:{width:i.ob},onFinish:function(){var S=l()(o()().mark(function I(x){var b,R,C;return o()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return b=x.tarFilePath,x.tarFileUpload&&x.tarFileUpload.length>0&&(b=(R=x.tarFileUpload[0].response.data.path)!==null&&R!==void 0?R:""),k.next=4,r({type:x.type,tarFilePath:b});case 4:return C=k.sent,F.onFinish&&F.onFinish(),k.abrupt("return",!0);case 7:case"end":return k.stop()}},I)}));return function(I){return S.apply(this,arguments)}}(),title:L.format("backupImportTitle"),formRef:Q,trigger:(0,n.jsx)(P.ZP,{disabled:A,type:"primary",children:L.format("backupImportTitle")}),onOpenChange:function(){var I;(I=Q.current)===null||I===void 0||I.resetFields()},children:[(0,n.jsx)(u.Z.Group,{label:L.format("backupImportType"),name:"type",initialValue:"upload",options:L.option("backupImportTypeOption",["upload"])}),(0,n.jsx)(M.Z,{name:["type"],children:function(I){var x=I.type;if(x=="upload")return(0,n.jsx)(f.Z,{required:!0,label:L.format("backupImportTarFileUpload"),name:"tarFileUpload",accept:".snapshot"});if(x=="serverPath")return(0,n.jsx)(O.Z,{required:!0,rules:[{required:!0}],name:"tarFilePath",label:L.format("backupImportTarFilePath")})}})]})}})}),s=a,U=e(5574),B=e.n(U),N=e(65913),h=e(85265),g=e(26412),D=e(42075),G=e(96074),W=e(25593),Z=e(66309),z=e(2487),J=e(70146),Y=e(5251),re=e(45605),ae=e(58638),X=e(38345),oe=e(76428),q=(0,d.forwardRef)(function(F,V){(0,d.useImperativeHandle)(V,function(){return{show:function(H){return l()(o()().mark(function k(){var ne;return o()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,(0,J.iD)({id:H});case 2:ne=y.sent,A(ne.data.detail),x(!0);case 5:case"end":return y.stop()}},k)}))()}}});var Q=(0,d.useRef)(),L=(0,d.useState)(),ee=B()(L,2),$=ee[0],A=ee[1],j=(0,d.useState)(!1),S=B()(j,2),I=S[0],x=S[1],b=new t.Uo("components.appDetail"),R=new t.Uo("components.appDetail.appDetailContainer");return(0,n.jsx)(h.Z,{title:b.format("backupQuickTitle"),open:I,onClose:function(){x(!1)},width:i.R_,children:(0,n.jsx)(N.Z,{ref:Q,children:$&&$.map(function(C){var H,k,ne=[],ie=[];return C.NetworkSettings&&C.NetworkSettings.Ports&&Object.keys(C.NetworkSettings.Ports).map(function(y){var w,te=(w=C.NetworkSettings.Ports[y])!==null&&w!==void 0?w:[{HostPort:null,HostIp:""}],ge=y.split("/"),ue=B()(ge,2),de=ue[0],ce=ue[1];te.map(function(le){le.HostPort?ne.push({PrivatePort:de,Type:ce,IP:le.HostIp,PublicPort:le.HostPort}):ie.push({PrivatePort:de,Type:ce,IP:"",PublicPort:""})})}),(0,n.jsx)(X.Z,{title:(0,n.jsx)(re.Z,{}),subTitle:b.format("backupQuickCardTitle",{name:(0,Y.fi)(C.Name,"/")}),ghost:!0,children:(0,n.jsxs)(g.Z,{column:1,bordered:!0,children:[(0,n.jsx)(g.Z.Item,{label:R.format("containerName"),children:(0,n.jsx)(D.Z,{split:(0,n.jsx)(G.Z,{type:"vertical"}),children:(0,n.jsx)(W.Z.Text,{children:(0,Y.fi)(C.Name,"/")})})}),(0,n.jsx)(g.Z.Item,{label:R.format("image"),children:(0,n.jsxs)(D.Z,{split:(0,n.jsx)(G.Z,{type:"vertical"}),children:[(0,n.jsx)(W.Z.Text,{copyable:!0,children:C.Config.Image}),(0,n.jsx)(Z.Z,{color:"blue",children:C.EnableImage?t.FD.format("listHas"):t.FD.format("listHasNot")})]})}),(0,n.jsx)(g.Z.Item,{label:R.format("port"),children:(0,n.jsx)(D.Z,{size:"large",wrap:!0,children:[].concat(ne,ie).map(function(y,w){return(0,n.jsx)(Z.Z,{color:y.PublicPort?"#2db7f5":"warning",icon:y.PublicPort?(0,n.jsx)(ae.Z,{}):"",style:{marginBottom:10,marginRight:15,width:210},children:y.PublicPort?"".concat(y.PublicPort?y.IP+":"+y.PublicPort+" -> ":"").concat(y.PrivatePort,"/").concat(y.Type):"".concat(y.PrivatePort,"/").concat(y.Type)},w)})},"space")}),C.State.Running&&C.NetworkSettings.Networks&&Object.keys(C.NetworkSettings.Networks).map(function(y,w){return(0,n.jsx)(g.Z.Item,{label:R.format("network")+y,children:y=="host"?R.format("networkUseHost"):(0,n.jsxs)(D.Z,{direction:"vertical",children:[(0,n.jsx)(oe.Z,{title:C.NetworkSettings.Networks[y].IPAddress}),C.NetworkSettings.Networks[y].Gateway,C.NetworkSettings.Networks[y].MacAddress]})},w)}),(0,n.jsx)(g.Z.Item,{label:R.format("env"),children:(0,n.jsx)(z.Z,{dataSource:(H=C.Config.Env)!==null&&H!==void 0?H:[],renderItem:function(w){var te=w.split("=");return(0,n.jsxs)(z.Z.Item,{children:[(0,n.jsx)(W.Z.Text,{code:!0,children:te[0]})," = ",(0,n.jsx)(W.Z.Text,{copyable:!0,children:te.slice(1).join("=")})]},te[0])}})}),C.Mounts&&C.Mounts.length>0&&(0,n.jsx)(g.Z.Item,{label:R.format("mount"),children:(0,n.jsx)(z.Z,{dataSource:(k=C.Mounts)!==null&&k!==void 0?k:[],renderItem:function(w){return(0,n.jsxs)(z.Z.Item,{children:[(0,n.jsx)(W.Z.Text,{code:!0,children:w.Source})," : ",(0,n.jsx)(W.Z.Text,{children:w.Destination})]},w.Source)}})})]})},C.Name)})})})}),_e=q,se=e(80821),me=e(94359),fe=e(67255),pe=e(87740),ve=e(87784),he=e(90078),Pe=e(78099);function Ee(){var F=(0,d.useRef)(),V=(0,c.useAccess)(),Q=(0,c.useModel)("subscriber"),L=(0,d.useRef)(),ee=new t.Uo("app");return(0,n.jsxs)(he._z,{header:{extra:[(0,n.jsx)(s,{onFinish:function(){var A;!((A=F.current)===null||A===void 0)&&A.reloadAndRest&&F.current.reloadAndRest()}},"backup-import")]},children:[(0,n.jsx)(_e,{ref:L}),(0,n.jsx)(Pe.Z,{rowKey:"id",scroll:{x:"max-content"},columns:[{title:t.FD.format("listContainerName"),dataIndex:"containerId",width:150,render:function(A,j,S,I,x){return(0,n.jsx)(W.Z.Link,{onClick:function(){var R;(R=L.current)===null||R===void 0||R.show(j.id)},children:(0,Y.fi)(j.containerId,"/")})}},{title:t.FD.format("listFilePath"),search:!1,width:300,render:function(A,j,S,I,x){var b=j.setting.backupTar;return(0,n.jsx)("span",{style:{wordBreak:"break-word"},children:b.substring(b.lastIndexOf("/",b.lastIndexOf("/")-1))})}},{title:t.FD.format("listSize"),search:!1,width:100,render:function(A,j,S,I,x){return j.setting.size?(0,n.jsx)(W.Z.Text,{children:(0,Y.FI)(j.setting.size)}):"-"}},{title:t.FD.format("listContainerVolume"),search:!1,render:function(A,j,S,I,x){return(0,n.jsx)(D.Z,{wrap:!0,children:j.setting.volumePathList.map(function(b){return b})})}},{title:t.FD.format("listStatus"),search:!1,width:80,render:function(A,j,S,I,x){var b,R;return(0,n.jsx)(me.Z,{tip:(b=j.setting.error)!==null&&b!==void 0?b:"",status:"status.".concat((R=j.setting.status)!==null&&R!==void 0?R:"30")},j.id)}},{title:t.FD.format("listCreatedAt"),search:!1,width:200,render:function(A,j,S,I,x){return new Date(j.createdAt).toLocaleString()}},{title:t.FD.format("listManage"),search:!1,width:100,fixed:"right",hidden:!V.canSeeContainerBackupManage,render:function(A,j,S,I,x){return(0,n.jsxs)(D.Z,{split:(0,n.jsx)(G.Z,{}),children:[j.setting.status=="30"&&(0,n.jsx)(se.Z,{ghost:!0,tips:t.FD.format("listManageUnpause"),type:"link",confirm:(0,n.jsx)(D.Z,{style:{width:300},children:ee.format("backupRestoreConfirm")}),action:function(){return(0,J.SR)({id:j.id,enableForce:!1})},icon:(0,n.jsx)(pe.Z,{})}),j.setting.status=="10"&&(0,n.jsx)(se.Z,{action:l()(o()().mark(function b(){return o()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return Q.progress.close("container:backup:".concat(j.id)),setTimeout(function(){var H;!((H=F.current)===null||H===void 0)&&H.reloadAndRest&&F.current.reloadAndRest()},500),C.abrupt("return",!1);case 3:case"end":return C.stop()}},b)})),danger:!0,ghost:!0,type:"link",icon:(0,n.jsx)(ve.Z,{})})]})}}],request:function(){var $=l()(o()().mark(function A(j,S,I){var x;return o()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,J.Zy)({containerId:j.containerId,page:j.current,pageSize:j.pageSize});case 2:return x=R.sent,R.abrupt("return",{data:x.data.list,success:!0,total:x.data.total});case 4:case"end":return R.stop()}},A)}));return function(A,j,S){return $.apply(this,arguments)}}(),rowSelection:V.canSeeContainerBackupManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,actionRef:F,tableAlertOptionRender:function(A){var j=A.selectedRowKeys;return(0,n.jsx)(D.Z,{size:16,children:(0,n.jsx)(se.Z,{danger:!0,type:"primary",action:function(){return(0,J.VE)({id:j})},onSuccess:function(){var I,x;return!((I=F.current)===null||I===void 0)&&I.reloadAndRest&&((x=F.current)===null||x===void 0||x.reloadAndRest()),!0},onError:function(){var I,x;return!((I=F.current)===null||I===void 0)&&I.reset&&((x=F.current)===null||x===void 0||x.reset()),!0},confirm:"notification.confirm.title",children:t.FD.format("listManageDeleteBatch")})})},pagination:(0,fe.O)()})]})}},70146:function(K,E,e){e.d(E,{SR:function(){return c},VE:function(){return d},Zy:function(){return O},iD:function(){return _},yB:function(){return u}});var m=e(15009),o=e.n(m),v=e(99289),l=e.n(v),p=e(82346);function u(f){return M.apply(this,arguments)}function M(){return M=l()(o()().mark(function f(t){return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,p.request)("/api/app/container-backup/create",{data:t,method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},f)})),M.apply(this,arguments)}function O(f){return P.apply(this,arguments)}function P(){return P=l()(o()().mark(function f(t){return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,p.request)("/api/app/container-backup/get-list",{method:"POST",data:t}));case 1:case"end":return a.stop()}},f)})),P.apply(this,arguments)}function d(f){return T.apply(this,arguments)}function T(){return T=l()(o()().mark(function f(t){return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,p.request)("/api/app/container-backup/delete",{method:"POST",data:t}));case 1:case"end":return a.stop()}},f)})),T.apply(this,arguments)}function c(f){return r.apply(this,arguments)}function r(){return r=l()(o()().mark(function f(t){return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,p.request)("/api/app/container-backup/restore",{method:"POST",data:t}));case 1:case"end":return a.stop()}},f)})),r.apply(this,arguments)}function _(f){return i.apply(this,arguments)}function i(){return i=l()(o()().mark(function f(t){return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,p.request)("/api/app/container-backup/get-detail",{method:"POST",data:t}));case 1:case"end":return a.stop()}},f)})),i.apply(this,arguments)}},97961:function(K,E,e){e.d(E,{GH:function(){return T},_2:function(){return r},fN:function(){return M},ii:function(){return u},vC:function(){return P}});var m=e(15009),o=e.n(m),v=e(99289),l=e.n(v),p=e(82346),u=[{name:"amd64",arch:"amd64",search:["amd64","x86_64","86_64"]},{name:"arm64",arch:"arm64",search:["arm64","arrch64"]},{name:"i386",arch:"386",search:[]},{name:"arm/v6",arch:"arm",search:[]},{name:"arm/v7",arch:"arm",search:[]},{name:"arm/v8",arch:"arm64",search:[]},{name:"ppc64le",arch:"ppc64le",search:[]},{name:"riscv64",arch:"riscv64",search:[]}];function M(t){return O.apply(this,arguments)}function O(){return O=l()(o()().mark(function t(n){return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.request)("/api/app/image/create-by-dockerfile",{method:"POST",data:n}));case 1:case"end":return s.stop()}},t)})),O.apply(this,arguments)}function P(t){return d.apply(this,arguments)}function d(){return d=l()(o()().mark(function t(n){return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.request)("/api/app/image/import-by-container-tar",{method:"POST",data:n}));case 1:case"end":return s.stop()}},t)})),d.apply(this,arguments)}function T(t){return c.apply(this,arguments)}function c(){return c=l()(o()().mark(function t(n){return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.request)("/api/app/image/import-by-image-tar",{method:"POST",data:n}));case 1:case"end":return s.stop()}},t)})),c.apply(this,arguments)}function r(t){return _.apply(this,arguments)}function _(){return _=l()(o()().mark(function t(n){return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,p.request)("/api/common/attach/delete",{method:"POST",data:n});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},t)})),_.apply(this,arguments)}function i(){return f.apply(this,arguments)}function f(){return f=_asyncToGenerator(_regeneratorRuntime().mark(function t(){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/app/image/get-template-list",{method:"POST"}));case 1:case"end":return a.stop()}},t)})),f.apply(this,arguments)}},67255:function(K,E,e){e.d(E,{O:function(){return m},j:function(){return o}});function m(v){var l=localStorage.getItem("dpanel-pagesize");return l=="all"?!1:{defaultCurrent:v==null?void 0:v.page,showSizeChanger:!0,defaultPageSize:parseInt(l!=null?l:"20"),onChange:function(u,M){localStorage.setItem("dpanel-page-"+location.pathname.split("/").slice(-2).join("-"),"".concat(u))}}}function o(v){var l="dpanel-table-column-".concat(v),p={};if(localStorage.getItem(l)){var u;p=JSON.parse((u=localStorage.getItem(l))!==null&&u!==void 0?u:"{}")}return{defaultValue:p,onChange:function(O){localStorage.setItem("dpanel-table-column-".concat(v),JSON.stringify(O))}}}}}]);
