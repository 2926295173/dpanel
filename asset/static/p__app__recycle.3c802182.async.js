"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1610],{67108:function(F,E,e){e.r(E),e.d(E,{default:function(){return K}});var P=e(15009),m=e.n(P),M=e(99289),R=e.n(M),O=e(74453),f=e(62597),h=e(42075),A=e(96074),C=e(25593),I=e(83062),p=e(82346),T=e(86548),U=e(87740),L=e(82061),c=e(67294),j=e(96974),D=e(80821),W=e(78451),i=e(36146),g=e(77446),x=e(59683),B=e(84941),r=e(85893);function K(){var y=(0,j.UO)(),_=(0,c.useRef)(),b=(0,p.useAccess)(),Z=new i.Uo("app"),v=(0,c.useRef)();return(0,c.useEffect)(function(){var o;(o=_.current)===null||o===void 0||o.reload()},[y]),(0,r.jsxs)(O._z,{header:{extra:[]},children:[(0,r.jsx)(B.Z,{ref:v,onFinish:function(){var s;!((s=_.current)===null||s===void 0)&&s.reloadAndRest&&_.current.reloadAndRest()}}),(0,r.jsx)(x.C,{rowKey:"id",actionRef:_,columns:[{title:i.FD.format("listTitle"),dataIndex:"siteTitle",width:200},{title:i.FD.format("listName"),dataIndex:"siteName",width:200},{title:i.FD.format("listLastError"),dataIndex:"message",search:!1,width:250,render:function(s,n,d,a,t){return(0,r.jsx)(W.Z,{content:n.message})}},{title:i.FD.format("listDeletedAt"),ellipsis:!0,dataIndex:"deletedAt",search:!1,width:180,render:function(s,n,d,a,t){return new Date(n.deletedAt).toLocaleString()}},{title:i.FD.format("listManage"),valueType:"option",key:"option",width:80,fixed:"right",render:function(s,n,d,a){return(0,r.jsxs)(h.Z,{split:(0,r.jsx)(A.Z,{type:"vertical"}),children:[(0,r.jsx)(C.Z.Link,{onClick:function(){var l;(l=v.current)===null||l===void 0||l.show(n.id)},children:(0,r.jsx)(I.Z,{title:i.FD.format("listManageEdit"),children:(0,r.jsx)(T.Z,{})})},"rebuild"),n.containerInfo&&n.containerInfo.Info&&n.containerInfo.Info.Name&&(0,r.jsx)(D.Z,{buttonProps:{ghost:!0,type:"link",icon:(0,r.jsx)(U.Z,{})},action:function(){return(0,g.v)({id:n.id})},confirmProps:{description:Z.format("recycleRestoreConfirm")},tips:i.FD.format("listManageUnpause"),onSuccess:function(){var l;!((l=_.current)===null||l===void 0)&&l.reloadAndRest&&_.current.reloadAndRest()}})]})}}],request:function(){var o=R()(m()().mark(function s(n,d,a){var t;return m()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,f.cl)({isDelete:!0,siteTitle:n.siteTitle,siteName:n.siteName});case 2:return t=u.sent,u.abrupt("return",{data:t.data.list,success:!0,total:t.data.list.length});case 4:case"end":return u.stop()}},s)}));return function(s,n,d){return o.apply(this,arguments)}}(),rowSelection:b.canSeeContainerListManageDelete?{alwaysShowAlert:!0}:void 0,quickToolbarRender:function(s){var n=s.selectedRows;return[(0,r.jsx)(D.Z,{buttonProps:{danger:!0,type:"primary",icon:(0,r.jsx)(L.Z,{})},confirmProps:{showCommonConfirm:!0},action:function(){return(0,f.xb)({id:n.map(function(a){return a.id})})},onSuccess:function(){var a,t;return!((a=_.current)===null||a===void 0)&&a.reloadAndRest&&((t=_.current)===null||t===void 0||t.reloadAndRest()),!0},onError:function(){var a,t;return!((a=_.current)===null||a===void 0)&&a.reset&&((t=_.current)===null||t===void 0||t.reset()),!0},children:i.FD.format("listManageDeleteBatch")},"batchDelete")]}},"recycle-list")]})}}}]);
