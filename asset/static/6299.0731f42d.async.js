"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6299],{1699:function(Y,B,r){r.d(B,{u:function(){return R}});var g=r(9783),t=r.n(g),I=r(97857),d=r.n(I),c=r(67294),C=r(82346),j=r(40411),W=r(42075),v=r(85893),R=function(l){var o=(0,C.useAccess)(),m=Array.isArray(l.access)?l.access:[l.access],u,h=l.fallback;return typeof l.children=="function"?(u=l.children(m.reduce(function(b,E){return d()(d()({},b),{},t()({},E,o[E]))},{})),u||(u=h)):m.every(function(b){return o[b]})?u=l.children:u=h,!h&&u&&l.showProTips&&o.canSeeEnableCe&&(u=(0,v.jsx)(j.Z,{offset:l.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:u})),!h&&u&&l.showProRibbonTips&&o.canSeeEnableCe&&(u=(0,v.jsx)(j.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:u})),l.space?(0,v.jsx)(W.Z,d()(d()({},l.space),{},{children:u})):u}},28230:function(Y,B,r){var g=r(15009),t=r.n(g),I=r(99289),d=r.n(I),c=r(5574),C=r.n(c),j=r(3616),W=r(24963),v=r(14946),R=r(184),s=r(5966),l=r(62370),o=r(97462),m=r(52688),u=r(24739),h=r(17186),b=r(28036),E=r(34041),A=r(71230),P=r(15746),f=r(67294),e=r(85893),i=(0,f.forwardRef)(function(_,n){var T,X=(0,f.useState)(!1),H=C()(X,2),z=H[0],J=H[1],x=(0,f.useRef)(),Q=(0,f.useContext)(W.Z),q=Q.message;return(0,f.useImperativeHandle)(n,function(){return{}}),(0,e.jsxs)(R.a,{drawerProps:{width:j.R_},name:"create",title:"\u521B\u5EFA\u7F51\u7EDC",open:z,onOpenChange:function(p){J(p)},formRef:x,trigger:(T=_.trigger)!==null&&T!==void 0?T:(0,e.jsx)(b.ZP,{type:"primary",children:"\u521B\u5EFA\u7F51\u7EDC"}),onFinish:function(){var M=d()(t()().mark(function p(a){var O,F,y,L,Z,V,K,S,k,$,N,U,w,G;return t()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return U={name:a.name,driver:(O=a.driver)!==null&&O!==void 0?O:"bridge",ipSubnet:(F=a.ipSubnet)!==null&&F!==void 0?F:"",ipGateway:(y=a.ipGateway)!==null&&y!==void 0?y:"",ipRange:(L=a.ipRange)!==null&&L!==void 0?L:"",ipAux:a.ipAux,enableIpV6:(Z=a.enableIpV6)!==null&&Z!==void 0?Z:!1,ipV6Subnet:(V=a.ipV6Subnet)!==null&&V!==void 0?V:"",ipV6Gateway:(K=a.ipV6Gateway)!==null&&K!==void 0?K:"",ipV6Range:(S=a.ipV6Range)!==null&&S!==void 0?S:"",ipV6Aux:(k=a.ipV6Aux)!==null&&k!==void 0?k:[],driverOption:a.driverOption,internal:($=a.internal)!==null&&$!==void 0?$:!1,attachable:(N=a.attachable)!==null&&N!==void 0?N:!1},(a.driver=="macvlan"||a.driver=="ipvlan")&&(U.driverOption||(U.driverOption=[]),U.driverOption.push({name:"parent",value:a.macvlanParentCard})),D.next=4,(0,v.XY)(U);case 4:if(w=D.sent,!(w&&w.data&&w.data.id!="")){D.next=10;break}return q.success("\u521B\u5EFA\u7F51\u7EDC\u6210\u529F"),_.onFinish&&_.onFinish(),(G=x.current)===null||G===void 0||G.resetFields(),D.abrupt("return",!0);case 10:case"end":return D.stop()}},p)}));return function(p){return M.apply(this,arguments)}}(),children:[(0,e.jsx)(s.Z,{label:"\u540D\u79F0",tooltip:"\u4E0D\u914D\u7F6E\u5B50\u7F51\u65F6\uFF0C\u4F1A\u81EA\u52A8\u751F\u6210",name:"name",required:!0,rules:[{required:!0}],placeholder:"\u6307\u5B9A\u552F\u4E00\u7684\u7F51\u7EDC\u540D\u79F0"}),(0,e.jsx)(l.Z,{label:"\u7C7B\u578B",name:"driver",children:(0,e.jsxs)(E.Z,{defaultValue:"bridge",children:[(0,e.jsx)(E.Z.Option,{value:"bridge",children:"bridge"}),(0,e.jsx)(E.Z.Option,{value:"macvlan",children:"macvlan"}),(0,e.jsx)(E.Z.Option,{value:"ipvlan",children:"ipvlan"}),(0,e.jsx)(E.Z.Option,{value:"overlay",children:"overlay"})]})}),(0,e.jsx)(o.Z,{name:["driver"],children:function(p){var a=p.driver;if(a=="macvlan"||a=="ipvlan")return(0,e.jsx)(s.Z,{required:!0,rules:[{required:!0}],label:"\u7236\u7F51\u5361",name:"macvlanParentCard",tooltip:"\u6307\u5B9A\u8981\u6865\u63A5\u7684\u5BBF\u4E3B\u673A\u7F51\u5361\u540D\u79F0"})}}),(0,e.jsxs)(A.Z,{children:[(0,e.jsx)(P.Z,{span:8,children:(0,e.jsx)(m.Z,{label:"\u81EA\u5B9AIPV4\u5B50\u7F51",name:"userIpV4Subnet"})}),(0,e.jsx)(P.Z,{span:8,children:(0,e.jsx)(m.Z,{name:"internal",label:"\u9694\u79BB\u5916\u90E8\u8BBF\u95EE",initialValue:!1})}),(0,e.jsx)(P.Z,{span:8,children:(0,e.jsx)(m.Z,{name:"attachable",label:"\u5141\u8BB8\u624B\u52A8\u9644\u52A0\u5BB9\u5668",initialValue:!1})})]}),(0,e.jsx)(o.Z,{name:["userIpV4Subnet"],children:function(p){var a=p.userIpV4Subnet;if(a)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(u.UW,{title:"IPV4\u914D\u7F6E",children:[(0,e.jsx)(s.Z,{label:"\u5B50\u7F51",name:"ipSubnet",width:"md",tooltip:"\u683C\u5F0F\u4E3A: \u5B50\u7F51\u8D77\u59CB\u5730\u5740/\u63A9\u7801\u3002\u5E38\u89C1\u7684\u683C\u5F0F\u6709 10.0.0.0/8, 172.20.0.0/16, 192.168.1.0/24",placeholder:"192.168.0.0/16"}),(0,e.jsx)(s.Z,{label:"\u7F51\u5173",name:"ipGateway",width:"md",placeholder:"192.168.0.1"}),(0,e.jsx)(s.Z,{label:"\u6307\u5B9AIp\u8303\u56F4",name:"ipRange",width:"md",placeholder:"192.168.1.0/24"})]}),(0,e.jsx)(h.u,{name:"ipAux",label:"\u6392\u9664Ip",children:(0,e.jsxs)(u.UW,{children:[(0,e.jsx)(s.Z,{label:"\u8BBE\u5907\u540D\u79F0",name:"device",width:"md"}),(0,e.jsx)(s.Z,{label:"Ip\u5730\u5740",name:"address",width:"md"})]})})]})}}),(0,e.jsxs)(A.Z,{children:[(0,e.jsx)(P.Z,{span:8,children:(0,e.jsx)(m.Z,{label:"\u542F\u7528IPV6",name:"enableIpV6"})}),(0,e.jsx)(P.Z,{children:(0,e.jsx)(m.Z,{label:"\u81EA\u5B9AIPV6\u5B50\u7F51",name:"userIpV6Subnet",fieldProps:{onChange:function(p,a){if(p){var O;(O=x.current)===null||O===void 0||O.setFieldValue("enableIpV6",!0)}}}})})]}),(0,e.jsx)(o.Z,{name:["userIpV6Subnet"],children:function(p){var a=p.userIpV6Subnet;if(a)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(u.UW,{title:"IPV6\u914D\u7F6E",children:[(0,e.jsx)(s.Z,{label:"\u5B50\u7F51",name:"ipV6Subnet",width:"md",placeholder:"2001:db8::/48"}),(0,e.jsx)(s.Z,{label:"\u7F51\u5173",name:"ipV6Gateway",width:"md",placeholder:"2001:db8::1"}),(0,e.jsx)(s.Z,{label:"Ip\u8303\u56F4",name:"ipV6Range",width:"md",placeholder:"2001:db8::/64"})]}),(0,e.jsx)(h.u,{name:"ipV6Aux",label:"\u6392\u9664Ip",children:(0,e.jsxs)(u.UW,{children:[(0,e.jsx)(s.Z,{label:"\u8BBE\u5907\u540D\u79F0",name:"device",width:"md"}),(0,e.jsx)(s.Z,{label:"Ip\u5730\u5740",name:"address",width:"md"})]})})]})}}),(0,e.jsx)(h.u,{name:"driverOption",label:"\u81EA\u5B9A\u4E49\u9A71\u52A8\u914D\u7F6E",children:(0,e.jsxs)(u.UW,{children:[(0,e.jsx)(s.Z,{label:"\u540D\u79F0",name:"name",width:"md"}),(0,e.jsx)(s.Z,{label:"\u503C",name:"value",width:"md"})]})})]})});B.Z=i},14946:function(Y,B,r){r.d(B,{CI:function(){return R},HY:function(){return E},IS:function(){return C},XY:function(){return m},_3:function(){return P},_x:function(){return l},jR:function(){return W},t9:function(){return h}});var g=r(15009),t=r.n(g),I=r(99289),d=r.n(I),c=r(82346);function C(e){return j.apply(this,arguments)}function j(){return j=d()(t()().mark(function e(i){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/api/app/network/get-detail",{method:"POST",data:i}));case 1:case"end":return n.stop()}},e)})),j.apply(this,arguments)}function W(e){return v.apply(this,arguments)}function v(){return v=d()(t()().mark(function e(i){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/api/app/network/get-list",{method:"POST",data:i}));case 1:case"end":return n.stop()}},e)})),v.apply(this,arguments)}function R(){return s.apply(this,arguments)}function s(){return s=d()(t()().mark(function e(){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,c.request)("/api/app/network/prune",{method:"POST"});case 2:return _.abrupt("return",_.sent);case 3:case"end":return _.stop()}},e)})),s.apply(this,arguments)}function l(e){return o.apply(this,arguments)}function o(){return o=d()(t()().mark(function e(i){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.request)("/api/app/network/delete",{method:"POST",data:i});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},e)})),o.apply(this,arguments)}function m(e){return u.apply(this,arguments)}function u(){return u=d()(t()().mark(function e(i){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.request)("/api/app/network/create",{method:"POST",data:i});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},e)})),u.apply(this,arguments)}function h(e){return b.apply(this,arguments)}function b(){return b=d()(t()().mark(function e(i){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.request)("/api/app/network/disconnect",{method:"POST",data:i});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},e)})),b.apply(this,arguments)}function E(e){return A.apply(this,arguments)}function A(){return A=d()(t()().mark(function e(i){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.request)("/api/app/network/connect",{method:"POST",data:i});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},e)})),A.apply(this,arguments)}function P(e){return f.apply(this,arguments)}function f(){return f=d()(t()().mark(function e(i){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/api/app/network/get-container-list",{method:"POST",data:i}));case 1:case"end":return n.stop()}},e)})),f.apply(this,arguments)}}}]);
