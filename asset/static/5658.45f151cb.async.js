!(function(){var oe=Object.defineProperty,_e=Object.defineProperties;var le=Object.getOwnPropertyDescriptors;var q=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable;var ee=(W,P,e)=>P in W?oe(W,P,{enumerable:!0,configurable:!0,writable:!0,value:e}):W[P]=e,te=(W,P)=>{for(var e in P||(P={}))ue.call(P,e)&&ee(W,e,P[e]);if(q)for(var e of q(P))ce.call(P,e)&&ee(W,e,P[e]);return W},ne=(W,P)=>_e(W,le(P));(self.webpackChunk=self.webpackChunk||[]).push([[5658],{57546:function(W,P,e){"use strict";e.d(P,{Z:function(){return I}});var R=e(87462),c=e(67294),A={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM653.3 424.6l52.2 52.2a8.01 8.01 0 01-4.7 13.6l-179.4 21c-5.1.6-9.5-3.7-8.9-8.9l21-179.4c.8-6.6 8.9-9.4 13.6-4.7l52.4 52.4 256.2-256.2c3.1-3.1 8.2-3.1 11.3 0l42.4 42.4c3.1 3.1 3.1 8.2 0 11.3L653.3 424.6z"}}]},name:"import",theme:"outlined"},u=A,v=e(84089),m=function(r,a){return c.createElement(v.Z,(0,R.Z)({},r,{ref:a,icon:u}))},C=c.forwardRef(m),I=C},90672:function(W,P,e){"use strict";var R=e(1413),c=e(45987),A=e(67294),u=e(40284),v=e(85893),m=["fieldProps","proFieldProps"],C=function(n,r){var a=n.fieldProps,s=n.proFieldProps,i=(0,c.Z)(n,m);return(0,v.jsx)(u.Z,(0,R.Z)({ref:r,valueType:"textarea",fieldProps:a,proFieldProps:s},i))};P.Z=A.forwardRef(C)},1699:function(W,P,e){"use strict";e.d(P,{u:function(){return r}});var R=e(9783),c=e.n(R),A=e(97857),u=e.n(A),v=e(67294),m=e(82346),C=e(40411),I=e(42075),n=e(85893),r=function(s){var i=(0,m.useAccess)(),t=Array.isArray(s.access)?s.access:[s.access],o,l=s.fallback;if(typeof s.children=="function"?(o=s.children(t.reduce(function(f,p){return u()(u()({},f),{},c()({},p,i[p]))},{})),o||(o=l)):t.every(function(f){return i[f]})?o=s.children:o=l,!l&&o&&s.showProTips&&i.canSeeEnableCe){if(i.canSeeEnableHiddenProTips)return null;o=(0,n.jsx)(C.Z,{offset:s.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:o})}if(!l&&o&&s.showProRibbonTips&&i.canSeeEnableCe){if(i.canSeeEnableHiddenProTips)return null;o=(0,n.jsx)(C.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:o})}return s.space?(0,n.jsx)(I.Z,u()(u()({},s.space),{},{children:o})):o}},74026:function(W,P,e){"use strict";var R=e(15009),c=e.n(R),A=e(99289),u=e.n(A),v=e(5574),m=e.n(v),C=e(66554),I=e(184),n=e(86615),r=e(97462),a=e(90672),s=e(64317),i=e(5966),t=e(62370),o=e(52688),l=e(83622),f=e(42075),p=e(71230),d=e(15746),E=e(67294),b=e(12491),M=e(75544),T=e(77865),L=e(82346),g=e(3616),j=e(36146),O=e(85893),w=(0,E.forwardRef)(function(S,F){var U=(0,E.useState)(!1),h=m()(U,2),D=h[0],y=h[1],_=(0,E.useRef)(),G=(0,E.useRef)(),$=(0,E.useState)([]),Z=m()($,2),H=Z[0],X=Z[1],re=(0,L.useModel)("subscriber"),se=(0,E.useState)(),J=m()(se,2),ae=J[0],Q=J[1],K=new j.Uo("components.appDomain");return re.addDataHandler("domain:apply",function(k){var x;(x=G.current)===null||x===void 0||x.write(k.data)}),(0,E.useImperativeHandle)(F,function(){return{edit:function(x){var B,z;Q(x),(B=_.current)===null||B===void 0||B.resetFields(),(z=_.current)===null||z===void 0||z.setFieldsValue({type:x.CA=="import"?"upload":"apply",domain:x.domain,dnsApi:x.dnsApi,sslKeyContent:x.sslKeyContent,sslCrtContent:x.sslCrtContent}),y(!0)}}}),(0,E.useEffect)(function(){(0,C.q2)().then(function(k){X(k.data.setting.map(function(x){return{label:x.title,value:x.serverName}}))})},[]),(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(I.a,{title:K.format("certTitle"),drawerProps:{forceRender:!0,width:g.R_},trigger:(0,O.jsx)(l.ZP,{type:"primary",children:K.format("certTitle")}),formRef:_,onFinish:function(){var k=u()(c()().mark(function x(B){var z,V,N,ie;return c()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if((z=G.current)===null||z===void 0||z.clear(),B.type!="upload"){Y.next=7;break}return Y.next=4,(0,C.ui)({type:B.type,sslKeyContent:B.sslKeyContent,sslCrtContent:B.sslCrtContent});case 4:V=Y.sent,Y.next=11;break;case 7:return localStorage.setItem("email",(N=B.email)!==null&&N!==void 0?N:""),Y.next=10,(0,C.Pf)({type:B.type,domain:B.domain,email:B.email,certServer:B.certServer,autoUpgrade:B.autoUpgrade,renew:B.renew,debug:B.debug,dnsApi:B.dnsApi});case 10:ie=Y.sent;case 11:return S.onFinish&&S.onFinish(),Y.abrupt("return",!0);case 13:case"end":return Y.stop()}},x)}));return function(x){return k.apply(this,arguments)}}(),onOpenChange:function(x){var B,z;if(!x){var V;Q(void 0),(V=_.current)===null||V===void 0||V.resetFields()}if(S.domain&&S.domain.length>0){var N;(N=_.current)===null||N===void 0||N.setFieldValue("domain",S.domain)}(B=_.current)===null||B===void 0||B.setFieldsValue({email:(z=localStorage.getItem("email"))!==null&&z!==void 0?z:""}),y(x)},open:D,children:[(0,O.jsx)(n.Z.Group,{label:K.format("certFormType"),name:"type",initialValue:"apply",disabled:!!ae,options:K.option("certFormTypeOption",["upload","apply"])}),(0,O.jsx)(r.Z,{name:["type"],children:function(x){var B=x.type;return B=="upload"?[(0,O.jsx)(a.Z,{fieldProps:{rows:10},label:K.format("certFormSslCrtContent"),name:"sslCrtContent",tooltip:K.format("certFormSslCrtContentTip"),placeholder:"-----BEGIN CERTIFICATE-----",required:!0},"sslCrt"),(0,O.jsx)(b.Z,{title:K.format("certFormImportCrt"),onImport:function(V){var N;return(N=_.current)===null||N===void 0||N.setFieldValue("sslCrtContent",V),!0},onLoad:function(V){if(V.indexOf("BEGIN CERTIFICATE")<0)throw new Error(j.FD.format("commonFileIncorrectFormat",{name:".crt"}));return!0}},"importCrt"),(0,O.jsx)(a.Z,{fieldProps:{rows:10},label:K.format("certFormSslKeyContent"),name:"sslKeyContent",tooltip:K.format("certFormSslKeyContentTip"),placeholder:"-----BEGIN PRIVATE KEY-----",required:!0},"sslKey"),(0,O.jsx)(b.Z,{title:K.format("certFormImportKey"),onImport:function(V){var N;return(N=_.current)===null||N===void 0||N.setFieldValue("sslKeyContent",V),!0},onLoad:function(V){if(V.indexOf("PRIVATE KEY")<0)throw new Error(j.FD.format("commonFileIncorrectFormat",{name:".key"}));return!0}},"importKey")]:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(s.Z,{mode:"tags",name:"domain",label:K.format("certFormDomain"),placeholder:K.format("certFormDomainEmpty"),required:!0,rules:[{required:!0}]},"domain"),(0,O.jsx)(i.Z,{label:K.format("certFormEmail"),name:"email",required:!0,rules:[{required:!0}]}),(0,O.jsxs)(f.Z.Compact,{children:[(0,O.jsx)(s.Z,{label:K.format("certFormDnsApi"),tooltip:K.format("certFormDnsApiTip"),name:"dnsApi",width:"lg",required:!0,rules:[{required:!0}],options:H}),(0,O.jsx)(t.Z,{label:" ",children:(0,O.jsx)(T.Z,{onFinish:function(V){X(V.map(function(N){return{label:N.title,value:N.serverName}}))}},"dns")})]}),(0,O.jsx)(s.Z,{label:K.format("certFormCertServer"),name:"certServer",tooltip:K.format("certFormCertServerTip"),initialValue:"letsencrypt",options:[{value:"letsencrypt",label:"Let's Encrypt"},{value:"zerossl",label:"ZeroSSL"}]}),(0,O.jsxs)(p.Z,{gutter:[20,10],children:[(0,O.jsx)(d.Z,{children:(0,O.jsx)(o.Z,{label:K.format("certFormAutoUpgrade"),name:"autoUpgrade",initialValue:!0})}),(0,O.jsx)(d.Z,{children:(0,O.jsx)(o.Z,{tooltip:K.format("certFormRenewTip"),label:K.format("certFormRenew"),name:"renew",initialValue:!1})}),(0,O.jsx)(d.Z,{children:(0,O.jsx)(o.Z,{tooltip:K.format("certFormDebugTip"),label:"Debug",name:"debug",initialValue:!1})}),(0,O.jsx)(d.Z,{})]}),(0,O.jsx)(M.Z,{height:"200px",style:{fontSize:12},ref:G})]})}})]})})});P.Z=w},77865:function(W,P,e){"use strict";var R=e(15009),c=e.n(R),A=e(99289),u=e.n(A),v=e(5574),m=e.n(v),C=e(184),I=e(86615),n=e(97462),r=e(5966),a=e(83622),s=e(67294),i=e(44349),t=e(52255),o=e(66554),l=e(3616),f=e(36146),p=e(85893),d=new f.Uo("components.appDomain"),E=[{value:"dns_cf",label:"CloudFlare",fields:[{name:"CF_Token"}],help:"https://dash.cloudflare.com/profile/api-tokens"},{value:"dns_dp",label:"DNSPod",fields:[{name:"DP_Id"},{name:"DP_Key"}],help:"https://console.dnspod.cn/account/token/token"},{value:"dns_tencent",label:d.format("dnsApiOption.dns_tencent"),fields:[{name:"Tencent_SecretId"},{name:"Tencent_SecretKey"}],help:"https://console.cloud.tencent.com/cam/capi"},{label:d.format("dnsApiOption.dns_ali"),value:"dns_ali",fields:[{name:"Ali_Key"},{name:"Ali_Secret"}],help:"https://ram.console.aliyun.com/users"},{label:d.format("dnsApiOption.dns_huaweicloud"),value:"dns_huaweicloud",fields:[{name:"HUAWEICLOUD_Username"},{name:"HUAWEICLOUD_Password"},{name:"HUAWEICLOUD_DomainName"}],help:"https://support.huaweicloud.com/api-iam/iam_01_0006.html"},{label:"GoDaddy",value:"dns_gd",fields:[{name:"GD_Key"},{name:"GD_Secret"}],help:"https://developer.godaddy.com/keys/"},{label:d.format("dnsApiOption.user"),value:"user",help:"https://github.com/acmesh-official/acme.sh/wiki/dnsapi"}],b=(0,s.forwardRef)(function(M,T){(0,s.useImperativeHandle)(T,function(){return{show:function(){O(!0)}}});var L=(0,s.useState)(!1),g=m()(L,2),j=g[0],O=g[1],w=(0,s.useRef)();return(0,p.jsxs)(C.a,{drawerProps:{width:l.R_},title:d.format("dnsApiTitle"),trigger:(0,p.jsx)(a.ZP,{children:d.format("dnsApiTitle")}),formRef:w,open:j,onFinish:function(){var S=u()(c()().mark(function F(U){var h,D;return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,o.q2)({account:Object.keys((h=U.account)!==null&&h!==void 0?h:{}).map(function(G){var $;return{title:($=E.find(function(Z){return Z.value==G}))===null||$===void 0?void 0:$.label,serverName:G,env:Object.keys(U.account[G]).map(function(Z){return{name:Z,value:U.account[G][Z]}})}}),user:U.user});case 2:return D=_.sent,M.onFinish&&M.onFinish(D.data.setting),_.abrupt("return",!0);case 5:case"end":return _.stop()}},F)}));return function(F){return S.apply(this,arguments)}}(),onOpenChange:function(){var S=u()(c()().mark(function F(U){var h,D,y,_;return c()().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(O(U),!U){$.next=9;break}return(h=w.current)===null||h===void 0||h.resetFields(),$.next=5,(0,o.q2)();case 5:y=$.sent,_=[],y.data.setting&&y.data.setting.map(function(Z){E.find(function(H){return H.value==Z.serverName})?Z.env&&Z.env.map(function(H){var X;(X=w.current)===null||X===void 0||X.setFieldValue(["account",Z.serverName,H.name],H.value)}):Z.env&&_.push(Z)}),(D=w.current)===null||D===void 0||D.setFieldValue("user",_);case 9:case"end":return $.stop()}},F)}));return function(F){return S.apply(this,arguments)}}(),children:[(0,p.jsx)(I.Z.Group,{label:d.format("dnsApiServerNameSelect"),name:"serverNameSelect",radioType:"button",initialValue:"dns_dp",options:E.map(function(S){return{label:S.label,value:S.value}})}),(0,p.jsx)(n.Z,{name:["serverNameSelect"],children:function(F){var U,h=F.serverNameSelect,D=(U=E.find(function(y){return y.value===h}))===null||U===void 0?void 0:U.help;return(0,p.jsxs)("div",{style:{marginBottom:20},children:[d.format("dnsApiServerNameTip"),": ",(0,p.jsx)("a",{href:D,target:"_blank",children:D})]})}}),(0,p.jsx)(n.Z,{name:["serverNameSelect"],children:function(F){var U=F.serverNameSelect;return(0,p.jsxs)(p.Fragment,{children:[E.map(function(h){if(h.fields)return(0,p.jsx)(t.Z,{show:U==h.value,children:h.fields.map(function(D,y){return(0,p.jsx)(r.Z,{label:D.name,name:["account",h.value,D.name]},"".concat(h.value,"-").concat(y,"-").concat(D.name))})},h.value)}),(0,p.jsx)(t.Z,{show:U=="user",children:(0,p.jsx)(i.Z,{gap:20,name:"user",label:d.format("dnsApiUser"),showAddButton:!0,hideCopyButton:!0,items:[{name:"serverName",label:d.format("dnsApiUserServerName")},{name:"env",render:function(D,y,_){return(0,p.jsx)(i.Z,{gap:20,name:"env",label:d.format("dnsApiUserEnv"),showAddButton:!0,hideCopyButton:!0,items:[{name:"name",label:d.format("dnsApiUserEnvName")},{name:"value",label:d.format("dnsApiUserEnvValue")}]},"env")}}]})},"user")]})}})]})});P.Z=b},52255:function(W,P,e){"use strict";e.d(P,{Z:function(){return A}});var R=e(67294),c=e(85893);function A(u){return(0,c.jsx)("div",{style:{display:u.show?"block":"none"},children:u.children})}},80821:function(W,P,e){"use strict";e.d(P,{Z:function(){return i}});var R=e(97857),c=e.n(R),A=e(5574),u=e.n(A),v=e(24963),m=e(36146),C=e(86738),I=e(83062),n=e(96074),r=e(83622),a=e(67294),s=e(85893);function i(t){var o=(0,a.useState)(!1),l=u()(o,2),f=l[0],p=l[1],d=(0,a.useContext)(v.Z),E=d.message,b=new m.Uo,M=function(){p(!0);var L=t.action();L instanceof Promise?L.then(function(g){if(p(!1),g){typeof t.onSuccess=="function"&&t.onSuccess(g);var j="";t.messageSuccess?typeof t.messageSuccess=="function"?j=t.messageSuccess(g):j=t.messageSuccess.indexOf("notification.")==0?b.format(t.messageSuccess):t.messageSuccess:j=b.format("notification.finish"),t.asynced?E.info(j):E.success(j)}}).catch(function(g){p(!1),typeof t.onError=="function"&&t.onError(g)}):p(!1)};return t.confirm?(0,s.jsx)(C.Z,c()(c()({style:{width:500},title:t.confirmTitle?t.confirmTitle:b.format("notification.title.tip"),description:typeof t.confirm=="string"&&t.confirm.indexOf("notification.")==0?b.format(t.confirm):t.confirm,onConfirm:M,okText:"Yes",cancelText:"No",onOpenChange:t.confirmOnOpenChange},t.confirmProps),{},{children:(0,s.jsxs)(I.Z,{title:t.tips,children:[t.showDivider&&(0,s.jsx)(n.Z,{type:"vertical",style:{marginRight:15}}),(0,s.jsx)(r.ZP,{block:t.block,disabled:t.disabled,icon:!t.children&&f?void 0:t.icon,loading:f,danger:t.danger,type:t.type,children:t.children})]})})):(0,s.jsxs)(I.Z,{title:t.tips,children:[t.showDivider&&(0,s.jsx)(n.Z,{type:"vertical",style:{marginRight:15}}),(0,s.jsx)(r.ZP,{block:t.block,style:t.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:t.disabled,icon:!t.children&&f?void 0:t.icon,loading:f,onClick:M,danger:t.danger,type:t.type,children:t.children})]})}},75544:function(W,P,e){"use strict";var R=e(5574),c=e.n(R),A=e(12323),u=e(78267),v=e.n(u),m=e(75458),C=e.n(m),I=e(67294),n=e(4244),r=e.n(n),a=e(24078),s=e(85893),i,t,o,l=(0,I.forwardRef)(function(f,p){var d,E=(0,I.useState)(!0),b=c()(E,2),M=b[0],T=b[1];return(0,I.useEffect)(function(){return i=new n.Terminal(A.X),t=new m.SearchAddon,o=new u.FitAddon,window.addEventListener("resize",function(){f.showInModal||o.fit()}),f.style&&f.style.fontSize&&(i.options.fontSize=f.style.fontSize),i.loadAddon(o),i.loadAddon(t),i.open(document.getElementById(f.id?f.id:"terminal-container")),f.showInModal||o.fit(),function(){i.reset(),T(!0)}},[]),(0,I.useImperativeHandle)(p,function(){return{write:function(g){M&&(o.fit(),T(!1)),i.write(g)},clear:function(){i.clear()},getTerminal:function(){return i},findNext:function(g){t.findNext(g)},findPrev:function(g){t.findPrevious(g)},fit:function(){o.fit()},onData:function(g){return i.onData(g)}}}),(0,s.jsx)("div",{id:f.id?f.id:"terminal-container",style:{width:f.width?f.width:"100%",height:f.height?f.height:"500px",marginTop:(d=f.style)===null||d===void 0?void 0:d.marginTop}})});P.Z=l},44349:function(W,P,e){"use strict";var R=e(97857),c=e.n(R),A=e(15009),u=e.n(A),v=e(99289),m=e.n(v),C=e(74763),I=e(17186),n=e(5966),r=e(86250),a=e(67294),s=e(85893),i=(0,a.forwardRef)(function(t,o){var l=(0,a.useRef)();(0,a.useImperativeHandle)(o,function(){return{addItem:function(p){function d(E,b,M){return p.apply(this,arguments)}return d.toString=function(){return p.toString()},d}(function(p,d,E){var b,M=(b=l.current)===null||b===void 0?void 0:b.getList(),T;if(M==null||M.forEach(function(j,O){j[p]==d[p]&&(T=O)}),!(0,C.k)(T)&&E){var L;(L=l.current)===null||L===void 0||L.remove(T),T=void 0}if(!T){var g;(g=l.current)===null||g===void 0||g.add(d)}}),removeItemByKey:function(d,E){return m()(u()().mark(function b(){var M,T;return u()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return T=(M=l.current)===null||M===void 0?void 0:M.getList(),T==null||T.forEach(function(j,O){if(j[d]==E){var w;(w=l.current)===null||w===void 0||w.remove(O);return}}),g.abrupt("return");case 3:case"end":return g.stop()}},b)}))()},clear:function(d){if(!d){var E;d=(E=l.current)===null||E===void 0||(E=E.getList())===null||E===void 0?void 0:E.map(function(M,T){return T})}if(d){var b;(b=l.current)===null||b===void 0||b.remove(d)}},getList:function(){var d;return(d=l.current)===null||d===void 0?void 0:d.getList()}}});var f={};return t.hideCopyButton===!0&&(f.copyIconProps=!1),t.hideDeleteButton===!0&&(f.deleteIconProps=!1),(0,s.jsx)(I.u,c()(c()({initialValue:t.initialValue,label:t.label,name:t.name,actionRef:l,creatorButtonProps:t.showAddButton?{creatorButtonText:t.label?t.label:t.name}:!1,min:t.min?t.min:0},f),{},{children:function(d,E,b){return(0,s.jsx)(r.Z,{justify:t.justify,gap:t.gap,children:t.items.map(function(M){return M.render?(0,s.jsx)("div",{children:M.render&&M.render(d,E,b)},"".concat(t.name,"-").concat(M.name,"-").concat(d.key)):(0,s.jsx)(n.Z,{width:M.width,name:M.name,label:M.label,required:M.required,rules:[{required:M.required}],disabled:M.disabled,placeholder:M.placeholder},"".concat(t.name,"-").concat(M.name,"-").concat(d.key))})})}}))});P.Z=i},12491:function(W,P,e){"use strict";e.d(P,{Z:function(){return o}});var R=e(5574),c=e.n(R),A=e(3616),u=e(24963),v=e(36146),m=e(88484),C=e(57546),I=e(62370),n=e(11106),r=e(42075),a=e(83622),s=e(85576),i=e(67294),t=e(85893);function o(l){var f=(0,i.useContext)(u.Z),p=f.message,d=f.notice,E=(0,i.useRef)(null),b=(0,i.useState)(!1),M=c()(b,2),T=M[0],L=M[1],g=(0,i.useState)(""),j=c()(g,2),O=j[0],w=j[1];(0,i.useEffect)(function(){l.data&&w(l.data)},[l.data]);var S=function(){E.current&&(E.current.click(),E.current.onchange=function(U){if(!U||!U.target)return"";var h=new FileReader;h.onload=function(_){var G,$,Z=(G=_.target)===null||G===void 0?void 0:G.result;if(l.onLoad)try{l.onLoad&&l.onLoad(Z)}catch(H){d.error(H);return}w(Z),typeof l.onImport=="function"&&(p.success(v.FD.format("finish")),l.onImport(Z)),($=E.current)!==null&&$!==void 0&&$.value&&(E.current.value="")};var D=U.target;if(D.files&&D.files[0]){var y=D.files[0];try{h.readAsText(y)}catch(_){d.error(v.FD.format("commonContentIncorrectFormat",{name:D.files[0].name}))}}})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.Z,{children:(0,t.jsxs)(r.Z.Compact,{block:!0,children:[(0,t.jsx)(a.ZP,{icon:(0,t.jsx)(m.Z,{}),block:!0,onClick:S,children:l.title}),l.showPaset&&(0,t.jsx)(a.ZP,{icon:(0,t.jsx)(C.Z,{}),onClick:function(){L(!0)}})]})}),(0,t.jsx)("input",{style:{display:"none"},type:"file",ref:E,name:"importFileInput"}),(0,t.jsx)(s.Z,{width:A.ob,open:T,onCancel:function(){L(!1)},onOk:function(){typeof l.onImport=="function"&&(p.success(v.FD.format("finish")),l.onImport(O)),L(!1)},children:(0,t.jsx)(n.ZP,{height:A.Ed,theme:"dark",value:O,onChange:function(U){w(U)}})})]})}},3616:function(W,P,e){"use strict";e.d(P,{Ed:function(){return u},FK:function(){return c},R_:function(){return R},ob:function(){return A}});var R=window.innerWidth<=1024?"90vw":"65vw",c="90vw",A="60vw",u="50vh"},12323:function(W,P,e){"use strict";e.d(P,{X:function(){return R},n:function(){return c}});var R={convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,lineHeight:1,cursorStyle:"block",cursorInactiveStyle:"outline",cursorBlink:!0,letterSpacing:0,theme:{foreground:"#bfbfbf",cursor:"gray",selectionForeground:"#ffffff"}},c=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"]},24963:function(W,P,e){"use strict";var R=e(67294),c=(0,R.createContext)({});P.Z=c},66554:function(W,P,e){"use strict";e.d(P,{Fj:function(){return I},KK:function(){return w},Pf:function(){return l},Ss:function(){return M},dZ:function(){return j},dj:function(){return s},hZ:function(){return E},i7:function(){return m},lQ:function(){return t},ll:function(){return F},q2:function(){return L},ui:function(){return p}});var R=e(15009),c=e.n(R),A=e(99289),u=e.n(A),v=e(82346);function m(h){return C.apply(this,arguments)}function C(){return C=u()(c()().mark(function h(D){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,v.request)("/api/app/site-domain/get-list",{method:"POST",data:D}));case 1:case"end":return _.stop()}},h)})),C.apply(this,arguments)}function I(h){return n.apply(this,arguments)}function n(){return n=u()(c()().mark(function h(D){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,v.request)("/api/app/site-domain/create",{method:"POST",data:D}));case 1:case"end":return _.stop()}},h)})),n.apply(this,arguments)}function r(h){return a.apply(this,arguments)}function a(){return a=_asyncToGenerator(_regeneratorRuntime().mark(function h(D){return _regeneratorRuntime().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",request("/api/app/site-domain/update",{method:"POST",data:D}));case 1:case"end":return _.stop()}},h)})),a.apply(this,arguments)}function s(h){return i.apply(this,arguments)}function i(){return i=u()(c()().mark(function h(D){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,v.request)("/api/app/site-domain/delete",{method:"POST",data:D}));case 1:case"end":return _.stop()}},h)})),i.apply(this,arguments)}function t(h){return o.apply(this,arguments)}function o(){return o=u()(c()().mark(function h(D){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,v.request)("/api/app/site-domain/get-detail",{method:"POST",data:D}));case 1:case"end":return _.stop()}},h)})),o.apply(this,arguments)}function l(h){return f.apply(this,arguments)}function f(){return f=u()(c()().mark(function h(D){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,v.request)("/api/app/site-cert/apply",{method:"POST",data:D}));case 1:case"end":return _.stop()}},h)})),f.apply(this,arguments)}function p(h){return d.apply(this,arguments)}function d(){return d=u()(c()().mark(function h(D){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,v.request)("/api/app/site-cert/import",{method:"POST",data:D}));case 1:case"end":return _.stop()}},h)})),d.apply(this,arguments)}function E(){return b.apply(this,arguments)}function b(){return b=u()(c()().mark(function h(){return c()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",(0,v.request)("/api/app/site-domain/restart-nginx",{method:"POST"}));case 1:case"end":return y.stop()}},h)})),b.apply(this,arguments)}function M(h){return T.apply(this,arguments)}function T(){return T=u()(c()().mark(function h(D){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,v.request)("/api/app/site-domain/update-vhost",{method:"POST",data:D}));case 1:case"end":return _.stop()}},h)})),T.apply(this,arguments)}function L(h){return g.apply(this,arguments)}function g(){return g=u()(c()().mark(function h(D){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,v.request)("/api/app/site-cert/dns-api",{method:"POST",data:D}));case 1:case"end":return _.stop()}},h)})),g.apply(this,arguments)}function j(h){return O.apply(this,arguments)}function O(){return O=u()(c()().mark(function h(D){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,v.request)("/api/app/site-cert/get-list",{method:"POST",data:D}));case 1:case"end":return _.stop()}},h)})),O.apply(this,arguments)}function w(h){return S.apply(this,arguments)}function S(){return S=u()(c()().mark(function h(D){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,v.request)("/api/app/site-cert/delete",{method:"POST",data:D}));case 1:case"end":return _.stop()}},h)})),S.apply(this,arguments)}function F(h){return U.apply(this,arguments)}function U(){return U=u()(c()().mark(function h(D){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,v.request)("/api/app/site-cert/download",{method:"POST",data:D,responseType:"blob"}));case 1:case"end":return _.stop()}},h)})),U.apply(this,arguments)}},67255:function(W,P,e){"use strict";e.d(P,{G$:function(){return v},LX:function(){return n},MJ:function(){return u},Oh:function(){return A},h5:function(){return C},j_:function(){return m},rj:function(){return I}});var R=e(5574),c=e.n(R);function A(r){var a=localStorage.getItem("dpanel-pagesize");return a=="all"?!1:{defaultCurrent:r==null?void 0:r.page,showSizeChanger:!0,defaultPageSize:parseInt(a!=null?a:"20"),showQuickJumper:!0}}function u(r,a){a?localStorage.setItem("dpanel-page-"+r,"".concat(a)):localStorage.removeItem("dpanel-page-"+r)}function v(r,a){var s,i=a?Math.ceil((a==null?void 0:a.total)/(a==null?void 0:a.pageSize)):void 0,t=parseInt((s=localStorage.getItem("dpanel-page-"+r))!==null&&s!==void 0?s:"");if(t!=0)return i&&t>i?i:t}function m(r){return{persistenceKey:r,persistenceType:"localStorage"}}var C=["descend","ascend"];function I(r,a){var s=localStorage.getItem("dpanel-table-sort-".concat(r));if(s){var i=s.split("|"),t=c()(i,2),o=t[0],l=t[1];if(o==a)return l}}function n(r,a,s){!a||!s?localStorage.removeItem("dpanel-table-sort-".concat(r)):localStorage.setItem("dpanel-table-sort-".concat(r),"".concat(a,"|").concat(s))}},75458:function(W){(function(P,e){W.exports=e()})(self,()=>(()=>{"use strict";var P={345:(A,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.runAndSubscribe=u.forwardEvent=u.EventEmitter=void 0,u.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=v=>(this._listeners.push(v),{dispose:()=>{if(!this._disposed){for(let m=0;m<this._listeners.length;m++)if(this._listeners[m]===v)return void this._listeners.splice(m,1)}}})),this._event}fire(v,m){const C=[];for(let I=0;I<this._listeners.length;I++)C.push(this._listeners[I]);for(let I=0;I<C.length;I++)C[I].call(void 0,v,m)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},u.forwardEvent=function(v,m){return v(C=>m.fire(C))},u.runAndSubscribe=function(v,m){return m(void 0),v(C=>m(C))}},859:(A,u)=>{function v(m){for(const C of m)C.dispose();m.length=0}Object.defineProperty(u,"__esModule",{value:!0}),u.getDisposeArrayDisposable=u.disposeArray=u.toDisposable=u.MutableDisposable=u.Disposable=void 0,u.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const m of this._disposables)m.dispose();this._disposables.length=0}register(m){return this._disposables.push(m),m}unregister(m){const C=this._disposables.indexOf(m);C!==-1&&this._disposables.splice(C,1)}},u.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(m){var C;this._isDisposed||m===this._value||((C=this._value)==null||C.dispose(),this._value=m)}clear(){this.value=void 0}dispose(){var m;this._isDisposed=!0,(m=this._value)==null||m.dispose(),this._value=void 0}},u.toDisposable=function(m){return{dispose:m}},u.disposeArray=v,u.getDisposeArrayDisposable=function(m){return{dispose:()=>v(m)}}}},e={};function R(A){var u=e[A];if(u!==void 0)return u.exports;var v=e[A]={exports:{}};return P[A](v,v.exports,R),v.exports}var c={};return(()=>{var A=c;Object.defineProperty(A,"__esModule",{value:!0}),A.SearchAddon=void 0;const u=R(345),v=R(859),m=" ~!@#$%^&*()+`-=[]{}|\\;:\"',./<>?";class C extends v.Disposable{constructor(n){var r;super(),this._highlightedLines=new Set,this._highlightDecorations=[],this._selectedDecoration=this.register(new v.MutableDisposable),this._linesCacheTimeoutId=0,this._linesCacheDisposables=new v.MutableDisposable,this._onDidChangeResults=this.register(new u.EventEmitter),this.onDidChangeResults=this._onDidChangeResults.event,this._highlightLimit=(r=n==null?void 0:n.highlightLimit)!=null?r:1e3}activate(n){this._terminal=n,this.register(this._terminal.onWriteParsed(()=>this._updateMatches())),this.register(this._terminal.onResize(()=>this._updateMatches())),this.register((0,v.toDisposable)(()=>this.clearDecorations()))}_updateMatches(){var n;this._highlightTimeout&&window.clearTimeout(this._highlightTimeout),this._cachedSearchTerm&&((n=this._lastSearchOptions)!=null&&n.decorations)&&(this._highlightTimeout=setTimeout(()=>{const r=this._cachedSearchTerm;this._cachedSearchTerm=void 0,this.findPrevious(r,ne(te({},this._lastSearchOptions),{incremental:!0,noScroll:!0}))},200))}clearDecorations(n){this._selectedDecoration.clear(),(0,v.disposeArray)(this._highlightDecorations),this._highlightDecorations=[],this._highlightedLines.clear(),n||(this._cachedSearchTerm=void 0)}clearActiveDecoration(){this._selectedDecoration.clear()}findNext(n,r){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const a=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,r);this._lastSearchOptions=r,r!=null&&r.decorations&&(this._cachedSearchTerm===void 0||n!==this._cachedSearchTerm||a)&&this._highlightAllMatches(n,r);const s=this._findNextAndSelect(n,r);return this._fireResults(r),this._cachedSearchTerm=n,s}_highlightAllMatches(n,r){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!n||n.length===0)return void this.clearDecorations();r=r||{},this.clearDecorations(!0);const a=[];let s,i=this._find(n,0,0,r);for(;i&&((s==null?void 0:s.row)!==i.row||(s==null?void 0:s.col)!==i.col)&&!(a.length>=this._highlightLimit);)s=i,a.push(s),i=this._find(n,s.col+s.term.length>=this._terminal.cols?s.row+1:s.row,s.col+s.term.length>=this._terminal.cols?0:s.col+1,r);for(const t of a){const o=this._createResultDecoration(t,r.decorations);o&&(this._highlightedLines.add(o.marker.line),this._highlightDecorations.push({decoration:o,match:t,dispose(){o.dispose()}}))}}_find(n,r,a,s){var o;if(!this._terminal||!n||n.length===0)return(o=this._terminal)==null||o.clearSelection(),void this.clearDecorations();if(a>this._terminal.cols)throw new Error(`Invalid col: ${a} to search in terminal of ${this._terminal.cols} cols`);let i;this._initLinesCache();const t={startRow:r,startCol:a};if(i=this._findInLine(n,t,s),!i)for(let l=r+1;l<this._terminal.buffer.active.baseY+this._terminal.rows&&(t.startRow=l,t.startCol=0,i=this._findInLine(n,t,s),!i);l++);return i}_findNextAndSelect(n,r){var l;if(!this._terminal||!n||n.length===0)return(l=this._terminal)==null||l.clearSelection(),this.clearDecorations(),!1;const a=this._terminal.getSelectionPosition();this._terminal.clearSelection();let s=0,i=0;a&&(this._cachedSearchTerm===n?(s=a.end.x,i=a.end.y):(s=a.start.x,i=a.start.y)),this._initLinesCache();const t={startRow:i,startCol:s};let o=this._findInLine(n,t,r);if(!o)for(let f=i+1;f<this._terminal.buffer.active.baseY+this._terminal.rows&&(t.startRow=f,t.startCol=0,o=this._findInLine(n,t,r),!o);f++);if(!o&&i!==0)for(let f=0;f<i&&(t.startRow=f,t.startCol=0,o=this._findInLine(n,t,r),!o);f++);return!o&&a&&(t.startRow=a.start.y,t.startCol=0,o=this._findInLine(n,t,r)),this._selectResult(o,r==null?void 0:r.decorations,r==null?void 0:r.noScroll)}findPrevious(n,r){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const a=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,r);this._lastSearchOptions=r,r!=null&&r.decorations&&(this._cachedSearchTerm===void 0||n!==this._cachedSearchTerm||a)&&this._highlightAllMatches(n,r);const s=this._findPreviousAndSelect(n,r);return this._fireResults(r),this._cachedSearchTerm=n,s}_didOptionsChange(n,r){return!!r&&(n.caseSensitive!==r.caseSensitive||n.regex!==r.regex||n.wholeWord!==r.wholeWord)}_fireResults(n){if(n!=null&&n.decorations){let r=-1;if(this._selectedDecoration.value){const a=this._selectedDecoration.value.match;for(let s=0;s<this._highlightDecorations.length;s++){const i=this._highlightDecorations[s].match;if(i.row===a.row&&i.col===a.col&&i.size===a.size){r=s;break}}}this._onDidChangeResults.fire({resultIndex:r,resultCount:this._highlightDecorations.length})}}_findPreviousAndSelect(n,r){var f;if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!this._terminal||!n||n.length===0)return(f=this._terminal)==null||f.clearSelection(),this.clearDecorations(),!1;const a=this._terminal.getSelectionPosition();this._terminal.clearSelection();let s=this._terminal.buffer.active.baseY+this._terminal.rows-1,i=this._terminal.cols;const t=!0;this._initLinesCache();const o={startRow:s,startCol:i};let l;if(a&&(o.startRow=s=a.start.y,o.startCol=i=a.start.x,this._cachedSearchTerm!==n&&(l=this._findInLine(n,o,r,!1),l||(o.startRow=s=a.end.y,o.startCol=i=a.end.x))),l||(l=this._findInLine(n,o,r,t)),!l){o.startCol=Math.max(o.startCol,this._terminal.cols);for(let p=s-1;p>=0&&(o.startRow=p,l=this._findInLine(n,o,r,t),!l);p--);}if(!l&&s!==this._terminal.buffer.active.baseY+this._terminal.rows-1)for(let p=this._terminal.buffer.active.baseY+this._terminal.rows-1;p>=s&&(o.startRow=p,l=this._findInLine(n,o,r,t),!l);p--);return this._selectResult(l,r==null?void 0:r.decorations,r==null?void 0:r.noScroll)}_initLinesCache(){const n=this._terminal;this._linesCache||(this._linesCache=new Array(n.buffer.active.length),this._linesCacheDisposables.value=(0,v.getDisposeArrayDisposable)([n.onLineFeed(()=>this._destroyLinesCache()),n.onCursorMove(()=>this._destroyLinesCache()),n.onResize(()=>this._destroyLinesCache())])),window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=window.setTimeout(()=>this._destroyLinesCache(),15e3)}_destroyLinesCache(){this._linesCache=void 0,this._linesCacheDisposables.clear(),this._linesCacheTimeoutId&&(window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=0)}_isWholeWord(n,r,a){return(n===0||m.includes(r[n-1]))&&(n+a.length===r.length||m.includes(r[n+a.length]))}_findInLine(n,r,a={},s=!1){var L;const i=this._terminal,t=r.startRow,o=r.startCol,l=i.buffer.active.getLine(t);if(l!=null&&l.isWrapped)return s?void(r.startCol+=i.cols):(r.startRow--,r.startCol+=i.cols,this._findInLine(n,r,a));let f=(L=this._linesCache)==null?void 0:L[t];f||(f=this._translateBufferLineToStringWithWrap(t,!0),this._linesCache&&(this._linesCache[t]=f));const[p,d]=f,E=this._bufferColsToStringOffset(t,o),b=a.caseSensitive?n:n.toLowerCase(),M=a.caseSensitive?p:p.toLowerCase();let T=-1;if(a.regex){const g=RegExp(b,"g");let j;if(s)for(;j=g.exec(M.slice(0,E));)T=g.lastIndex-j[0].length,n=j[0],g.lastIndex-=n.length-1;else j=g.exec(M.slice(E)),j&&j[0].length>0&&(T=E+(g.lastIndex-j[0].length),n=j[0])}else s?E-b.length>=0&&(T=M.lastIndexOf(b,E-b.length)):T=M.indexOf(b,E);if(T>=0){if(a.wholeWord&&!this._isWholeWord(T,M,n))return;let g=0;for(;g<d.length-1&&T>=d[g+1];)g++;let j=g;for(;j<d.length-1&&T+n.length>=d[j+1];)j++;const O=T-d[g],w=T+n.length-d[j],S=this._stringLengthToBufferSize(t+g,O);return{term:n,col:S,row:t+g,size:this._stringLengthToBufferSize(t+j,w)-S+i.cols*(j-g)}}}_stringLengthToBufferSize(n,r){const a=this._terminal.buffer.active.getLine(n);if(!a)return 0;for(let s=0;s<r;s++){const i=a.getCell(s);if(!i)break;const t=i.getChars();t.length>1&&(r-=t.length-1);const o=a.getCell(s+1);o&&o.getWidth()===0&&r++}return r}_bufferColsToStringOffset(n,r){const a=this._terminal;let s=n,i=0,t=a.buffer.active.getLine(s);for(;r>0&&t;){for(let o=0;o<r&&o<a.cols;o++){const l=t.getCell(o);if(!l)break;l.getWidth()&&(i+=l.getCode()===0?1:l.getChars().length)}if(s++,t=a.buffer.active.getLine(s),t&&!t.isWrapped)break;r-=a.cols}return i}_translateBufferLineToStringWithWrap(n,r){var o;const a=this._terminal,s=[],i=[0];let t=a.buffer.active.getLine(n);for(;t;){const l=a.buffer.active.getLine(n+1),f=!!l&&l.isWrapped;let p=t.translateToString(!f&&r);if(f&&l){const d=t.getCell(t.length-1);d&&d.getCode()===0&&d.getWidth()===1&&((o=l.getCell(0))==null?void 0:o.getWidth())===2&&(p=p.slice(0,-1))}if(s.push(p),!f)break;i.push(i[i.length-1]+p.length),n++,t=l}return[s.join(""),i]}_selectResult(n,r,a){const s=this._terminal;if(this._selectedDecoration.clear(),!n)return s.clearSelection(),!1;if(s.select(n.col,n.row,n.size),r){const i=s.registerMarker(-s.buffer.active.baseY-s.buffer.active.cursorY+n.row);if(i){const t=s.registerDecoration({marker:i,x:n.col,width:n.size,backgroundColor:r.activeMatchBackground,layer:"top",overviewRulerOptions:{color:r.activeMatchColorOverviewRuler}});if(t){const o=[];o.push(i),o.push(t.onRender(l=>this._applyStyles(l,r.activeMatchBorder,!0))),o.push(t.onDispose(()=>(0,v.disposeArray)(o))),this._selectedDecoration.value={decoration:t,match:n,dispose(){t.dispose()}}}}}if(!a&&(n.row>=s.buffer.active.viewportY+s.rows||n.row<s.buffer.active.viewportY)){let i=n.row-s.buffer.active.viewportY;i-=Math.floor(s.rows/2),s.scrollLines(i)}return!0}_applyStyles(n,r,a){n.classList.contains("xterm-find-result-decoration")||(n.classList.add("xterm-find-result-decoration"),r&&(n.style.outline=`1px solid ${r}`)),a&&n.classList.add("xterm-find-active-result-decoration")}_createResultDecoration(n,r){const a=this._terminal,s=a.registerMarker(-a.buffer.active.baseY-a.buffer.active.cursorY+n.row);if(!s)return;const i=a.registerDecoration({marker:s,x:n.col,width:n.size,backgroundColor:r.matchBackground,overviewRulerOptions:this._highlightedLines.has(s.line)?void 0:{color:r.matchOverviewRuler,position:"center"}});if(i){const t=[];t.push(s),t.push(i.onRender(o=>this._applyStyles(o,r.matchBorder,!1))),t.push(i.onDispose(()=>(0,v.disposeArray)(t)))}return i}}A.SearchAddon=C})(),c})())}}]);
}());