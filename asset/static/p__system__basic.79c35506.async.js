"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1050],{31199:function(K,f,e){var v=e(1413),u=e(45987),C=e(67294),F=e(61856),Z=e(85893),x=["fieldProps","min","proFieldProps","max"],j=function(l,h){var R=l.fieldProps,B=l.min,A=l.proFieldProps,I=l.max,w=(0,u.Z)(l,x);return(0,Z.jsx)(F.Z,(0,v.Z)({valueType:"digit",fieldProps:(0,v.Z)({min:B,max:I},R),ref:h,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:A},w))},M=C.forwardRef(j);f.Z=M},5966:function(K,f,e){var v=e(97685),u=e(1413),C=e(45987),F=e(21770),Z=e(72723),x=e(55241),j=e(97435),M=e(67294),O=e(61856),l=e(85893),h=["fieldProps","proFieldProps"],R=["fieldProps","proFieldProps"],B="text",A=function(s){var r=s.fieldProps,m=s.proFieldProps,p=(0,C.Z)(s,h);return(0,l.jsx)(O.Z,(0,u.Z)({valueType:B,fieldProps:r,filedConfig:{valueType:B},proFieldProps:m},p))},I=function(s){var r=(0,F.Z)(s.open||!1,{value:s.open,onChange:s.onOpenChange}),m=(0,v.Z)(r,2),p=m[0],L=m[1];return(0,l.jsx)(Z.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(S){var P,n=S.getFieldValue(s.name||[]);return(0,l.jsx)(x.Z,(0,u.Z)((0,u.Z)({getPopupContainer:function(o){return o&&o.parentNode?o.parentNode:o},onOpenChange:function(o){return L(o)},content:(0,l.jsxs)("div",{style:{padding:"4px 0"},children:[(P=s.statusRender)===null||P===void 0?void 0:P.call(s,n),s.strengthText?(0,l.jsx)("div",{style:{marginTop:10},children:(0,l.jsx)("span",{children:s.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},s.popoverProps),{},{open:p,children:s.children}))}})},w=function(s){var r=s.fieldProps,m=s.proFieldProps,p=(0,C.Z)(s,R),L=(0,M.useState)(!1),U=(0,v.Z)(L,2),S=U[0],P=U[1];return r!=null&&r.statusRender&&p.name?(0,l.jsx)(I,{name:p.name,statusRender:r==null?void 0:r.statusRender,popoverProps:r==null?void 0:r.popoverProps,strengthText:r==null?void 0:r.strengthText,open:S,onOpenChange:P,children:(0,l.jsx)("div",{children:(0,l.jsx)(O.Z,(0,u.Z)({valueType:"password",fieldProps:(0,u.Z)((0,u.Z)({},(0,j.Z)(r,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(D){var o;r==null||(o=r.onBlur)===null||o===void 0||o.call(r,D),P(!1)},onClick:function(D){var o;r==null||(o=r.onClick)===null||o===void 0||o.call(r,D),P(!0)}}),proFieldProps:m,filedConfig:{valueType:B}},p))})}):(0,l.jsx)(O.Z,(0,u.Z)({valueType:"password",fieldProps:r,proFieldProps:m,filedConfig:{valueType:B}},p))},y=A;y.Password=w,y.displayName="ProFormComponent",f.Z=y},12044:function(K,f,e){e.d(f,{j:function(){return C}});var v=e(34155),u=typeof v!="undefined"&&v.versions!=null&&v.versions.node!=null,C=function(){return typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.matchMedia!="undefined"&&!u}},24963:function(K,f,e){var v=e(67294),u=(0,v.createContext)({});f.Z=u},55433:function(K,f,e){e.r(f),e.d(f,{default:function(){return D}});var v=e(15009),u=e.n(v),C=e(99289),F=e.n(C),Z=e(24963),x=e(87662),j=e(87547),M=e(86548),O=e(97937),l=e(87462),h=e(67294),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M956.9 845.1L896.4 632V168c0-17.7-14.3-32-32-32h-704c-17.7 0-32 14.3-32 32v464L67.9 845.1C60.4 866 75.8 888 98 888h828.8c22.2 0 37.6-22 30.1-42.9zM200.4 208h624v395h-624V208zm228.3 608l8.1-37h150.3l8.1 37H428.7zm224 0l-19.1-86.7c-.8-3.7-4.1-6.3-7.8-6.3H398.2c-3.8 0-7 2.6-7.8 6.3L371.3 816H151l42.3-149h638.2l42.3 149H652.7z"}}]},name:"laptop",theme:"outlined"},B=R,A=e(84089),I=function(V,H){return h.createElement(A.Z,(0,l.Z)({},V,{ref:H,icon:B}))},w=h.forwardRef(I),y=w,$=e(90078),s=e(38345),r=e(97269),m=e(97462),p=e(5966),L=e(31199),U=e(54006),S=e(31418),P=e(14726),n=e(85893);function D(){var o=(0,h.useContext)(Z.Z),V=o.message,H=o.notice,Q=o.lang,X=S.Z.useApp(),b=(0,h.useRef)(),N=(0,h.useRef)(),W=(0,U.useModel)("@@initialState"),z=W.initialState,Y=W.loading,_=W.error,J=W.refresh,k=W.setInitialState,G=function(){var E=F()(u()().mark(function c(){var t,i,a,T;return u()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,x.pe)({groupName:"setting",name:"server"});case 2:a=d.sent,(t=N.current)===null||t===void 0||t.setFieldsValue({serverIp:(i=a.data.setting.value.serverIp)!==null&&i!==void 0?i:""}),a.data.setting.value.requestTimeout&&((T=N.current)===null||T===void 0||T.setFieldsValue({requestTimeout:a.data.setting.value.requestTimeout}));case 5:case"end":return d.stop()}},c)}));return function(){return E.apply(this,arguments)}}();return(0,n.jsx)($._z,{children:(0,n.jsxs)(s.Z,{direction:"column",gutter:[0,10],children:[(0,n.jsx)(s.Z,{bordered:!0,headerBordered:!0,title:(0,n.jsx)(j.Z,{}),subTitle:"\u7BA1\u7406\u5458",children:(0,n.jsxs)(r.A,{formRef:b,onFinish:function(){var E=F()(u()().mark(function c(t){var i,a;return u()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,x.Jn)({username:t.username,password:t.password,newPassword:t.newPassword});case 2:return a=g.sent,(i=b.current)===null||i===void 0||i.resetFields(),V.success("\u4FEE\u6539\u7BA1\u7406\u5458\u7528\u6237\u540D\u548C\u5BC6\u7801\u6210\u529F"),localStorage.removeItem("token"),J(),g.abrupt("return",!0);case 8:case"end":return g.stop()}},c)}));return function(c){return E.apply(this,arguments)}}(),children:[(0,n.jsx)(m.Z,{name:["enableUsername"],children:function(c){var t=c.enableUsername;return(0,n.jsx)(p.Z,{label:"\u7528\u6237\u540D",name:"username",style:{width:"80%"},initialValue:z==null?void 0:z.currentUser.username,disabled:!t,addonAfter:[(0,n.jsx)(P.ZP,{type:"link",hidden:!!t,icon:(0,n.jsx)(M.Z,{}),onClick:function(){var a;(a=b.current)===null||a===void 0||a.setFieldValue("enableUsername",!0)}},"editBtn"),(0,n.jsx)(P.ZP,{type:"link",hidden:!t,icon:(0,n.jsx)(O.Z,{}),onClick:function(){var a;(a=b.current)===null||a===void 0||a.setFieldValue("enableUsername",!1)}},"closeBtn")]},"username")}}),(0,n.jsx)(p.Z.Password,{label:"\u5F53\u524D\u5BC6\u7801",name:"password",placeholder:"\u8F93\u5165\u7BA1\u7406\u5458\u5F53\u524D\u5BC6\u7801",rules:[{required:!0}]},"password"),(0,n.jsx)(p.Z.Password,{label:"\u65B0\u5BC6\u7801",name:"newPassword"},"newPasword"),(0,n.jsx)(m.Z,{name:["newPassword"],children:function(c){var t=c.newPassword;return(0,n.jsx)(p.Z.Password,{label:"\u786E\u8BA4\u65B0\u5BC6\u7801",name:"newPassword2",dependencies:["newPassword"],rules:[{required:typeof t!="undefined"&&t!=""},function(i){var a=i.getFieldValue;return{validator:function(g,d){return!d||a("newPassword")===d?Promise.resolve():Promise.reject(new Error("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4"))}}}]},"newPasword2")}})]})}),(0,n.jsx)(s.Z,{bordered:!0,headerBordered:!0,title:(0,n.jsx)(y,{}),subTitle:"\u670D\u52A1\u5668\u914D\u7F6E",children:(0,n.jsxs)(r.A,{formRef:N,onInit:F()(u()().mark(function E(){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return G(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},E)})),onFinish:function(){var E=F()(u()().mark(function c(t){var i,a,T;return u()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return a={groupName:"setting",name:"server",value:{serverIp:t.serverIp}},t.requestTimeout&&(a.value.requestTimeout=t.requestTimeout),d.next=4,(0,x.KU)(a);case 4:return T=d.sent,(i=N.current)===null||i===void 0||i.resetFields(),G(),V.success("\u4FEE\u6539\u670D\u52A1\u5668\u914D\u7F6E\u6210\u529F"),d.abrupt("return",!0);case 9:case"end":return d.stop()}},c)}));return function(c){return E.apply(this,arguments)}}(),children:[(0,n.jsx)(p.Z,{tooltip:"\u8BBE\u7F6E\u5BBF\u4E3B\u673A\u7684Ip\u6216\u662F\u57DF\u540D\uFF0C\u7528\u4E8E\u901A\u8FC7\u7AEF\u53E3\u7684\u5F62\u5F0F\u8BBF\u95EE\u5BB9\u5668\u3002\u652F\u6301IpV4\u53CAIpV6",label:"\u670D\u52A1\u5668Ip\u6216\u57DF\u540D",name:"serverIp",placeholder:"\u4F8B\u5982:192.168.1.25\u30012001:db8:1::2\u3001example.com"}),(0,n.jsx)(L.Z,{tooltip:"\u83B7\u53D6docker\u6570\u636E\u65F6\u6709\u4E9B\u63A5\u53E3\u8FC7\u4E8E\u8017\u65F6\uFF0C\u6839\u636E\u81EA\u5DF1\u7684\u5B9E\u9645\u60C5\u51B5\uFF0C\u8C03\u6574\u8BF7\u6C42\u8D85\u65F6\u65F6\u95F4",label:"docker api \u8BF7\u6C42\u8D85\u65F6\u65F6\u95F4",name:"requestTimeout",placeholder:"\u5355\u4F4D\u4E3A\u79D2\uFF0C\u9ED8\u8BA4\u4E3A 5 \u79D2",min:1,max:100})]})})]})})}}}]);
