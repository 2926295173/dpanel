"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7750],{64789:function(he,se,e){e.d(se,{Z:function(){return A}});var g=e(87462),o=e(67294),ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},O=ce,N=e(84089),_=function(re,L){return o.createElement(N.Z,(0,g.Z)({},re,{ref:L,icon:O}))},k=o.forwardRef(_),A=k},92067:function(he,se,e){e.d(se,{Z:function(){return de}});var g=e(15009),o=e.n(g),ce=e(99289),O=e.n(ce),N=e(13822),_=e(64789),k=e(9773),A=e(42075),V=e(83062),re=e(83622),L=e(37413),ie=e(5251),u=e(36146),le=e(67255),d=e(85893);function de($){return(0,d.jsx)(k.Z,{columns:[{title:u.FD.format("listContainerName"),dataIndex:"name",render:function(x,Z,G,C){return(0,d.jsx)(A.Z,{direction:"vertical",style:{textAlign:"left"},children:Z==null?void 0:Z.Names.map(function(R){return(0,ie.fi)(R,"/")})},Z.Id)}},{title:u.FD.format("listPort"),dataIndex:"ports",search:!1,render:function(x,Z,G,C){var R=[],l=[];return Z!=null&&Z.Ports&&Z.Ports.map(function(h,T){h.PublicPort?R.push(h):l.push(h)}),(0,d.jsx)(L.Z,{publicPort:R,privatePort:l,domain:[]})}},{title:u.FD.format("listManage"),valueType:"option",key:"option",ellipsis:!0,width:100,render:function(x,Z,G,C){return[(0,d.jsx)(V.Z,{title:u.FD.format("listManageUse"),children:(0,d.jsx)(re.ZP,{type:"link",onClick:O()(o()().mark(function R(){var l;return o()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,N.jV)({md5:Z.Id});case 2:l=T.sent,$.onSelect&&$.onSelect(l.data.info);case 4:case"end":return T.stop()}},R)})),children:(0,d.jsx)(_.Z,{})},Z.Id)},Z.Id)]}}],rowKey:"Id",request:function(){var z=O()(o()().mark(function x(Z,G,C){var R;return o()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,N.IE)({siteTitle:Z.name});case 2:return R=h.sent,h.abrupt("return",{data:R.data.list,success:!0,total:R.data.list.length});case 4:case"end":return h.stop()}},x)}));return function(x,Z,G){return z.apply(this,arguments)}}(),pagination:(0,le.Oh)()})}},37413:function(he,se,e){e.d(se,{Z:function(){return le}});var g=e(19632),o=e.n(g),ce=e(36146),O=e(85577),N=e(58638),_=e(36693),k=e(35995),A=e(99611),V=e(38345),re=e(42075),L=e(66309),ie=e(55241),u=e(85893);function le(d){var de,$=new ce.Uo("components.containerPort"),z=[];d.publicPort&&(z=o()(d.publicPort)),d.privatePort&&(z=[].concat(o()(z),o()(d.privatePort)));var x=(de=d.serverIp)!==null&&de!==void 0?de:"localhost";if(x!=""&&x.indexOf("http")===-1&&x.indexOf(":")>-1&&(x="[".concat(x,"]")),x==""||x=="127.0.0.1"){var Z=document.location.protocol+"//"+document.location.hostname;x=Z}var G=(0,u.jsxs)(V.Z,{direction:d.layout=="inline"?"row":"column",style:{width:d.layout!="inline"?600:"auto"},ghost:!0,children:[z.length>0&&(0,u.jsx)(V.Z,{title:(0,u.jsx)(O.Z,{}),subTitle:$.format("cardPortTitle"),ghost:d.ghost,bodyStyle:{maxHeight:300,overflow:"auto",margin:"10px 0"},children:z.map(function(C,R){var l;return x==""&&C.IP&&(x=C.IP),(0,u.jsx)(re.Z,{size:"large",wrap:!0,children:(0,u.jsx)(L.Z,{color:C.PublicPort?"blue":"yellow",icon:C.PublicPort?(0,u.jsx)(N.Z,{}):"",style:{marginBottom:10,marginRight:15},children:C.PublicPort?(0,u.jsx)("a",{href:"".concat(x.indexOf("http")===0?x:"http://"+x,":").concat(C.PublicPort),target:"_blank",children:"".concat(C.PublicPort?((l=C.IP)!==null&&l!==void 0?l:"0.0.0.0")+":"+C.PublicPort+" -> ":"").concat(C.PrivatePort,"/").concat(C.Type)},"link".concat(R)):"".concat(C.PrivatePort,"/").concat(C.Type)})},"space".concat(R))})}),d.domain&&d.domain.length>0&&(0,u.jsx)(V.Z,{title:(0,u.jsx)(_.Z,{}),subTitle:$.format("cardDomainTitle"),ghost:d.ghost,children:(0,u.jsx)(re.Z,{wrap:!0,style:{textAlign:"left"},children:d.domain&&d.domain.map(function(C,R){return(0,u.jsx)(L.Z,{color:"blue",icon:(0,u.jsx)(N.Z,{}),children:(0,u.jsx)("a",{href:C,target:"_blank",children:C})},"domain".concat(R))})})})]});return d.showInDetail?G:(0,u.jsx)(ie.Z,{placement:"right",content:G,children:(0,u.jsxs)(re.Z,{direction:"vertical",children:[d.privatePort&&d.privatePort.length>0&&(0,u.jsxs)(L.Z,{color:"yellow",icon:(0,u.jsx)(k.Z,{}),children:[$.format("portPrivate"),": ",d.privatePort.length]}),d.publicPort&&d.publicPort.length>0&&(0,u.jsxs)(L.Z,{color:"blue",icon:(0,u.jsx)(A.Z,{}),children:[$.format("protPublic"),": ",d.publicPort.length]}),d.domain&&d.domain.length>0&&(0,u.jsx)(L.Z,{color:"geekblue",icon:(0,u.jsx)(_.Z,{}),children:d.domainTitle?d.domainTitle:"".concat($.format("domain"),": ").concat(d.domain.length)})]})})}},7463:function(he,se,e){e.r(se),e.d(se,{default:function(){return oe}});var g=e(15009),o=e.n(g),ce=e(99289),O=e.n(ce),N=e(5574),_=e.n(N),k=e(1699),A=e(66554),V=e(184),re=e(24739),L=e(97462),ie=e(5966),u=e(62370),le=e(64317),d=e(86615),de=e(31199),$=e(52688),z=e(11106),x=e(83622),Z=e(92398),G=e(84567),C=e(42075),R=e(66309),l=e(71230),h=e(15746),T=e(40056),t=e(67294),ve=e(74026),ge=e(3616),X=e(36146),Ce=e(92067),n=e(85893);function je(y){var W=(0,t.useState)(!1),K=_()(W,2),U=K[0],S=K[1],ee=new X.Uo("components.appDomain");return(0,n.jsx)(V.a,{drawerProps:{width:ge.R_},trigger:(0,n.jsx)(x.ZP,{type:"primary",onClick:function(){S(!0)},children:ee.format("createSelectContainer")}),onOpenChange:function(ne){S(ne)},open:U,children:(0,n.jsx)(Ce.Z,{onSelect:function(ne){S(!1),y.onSelect&&y.onSelect(ne)}})})}var ye=(0,t.forwardRef)(function(y,W){var K=(0,t.useState)(!1),U=_()(K,2),S=U[0],ee=U[1],D=(0,t.useRef)(),ne=(0,t.useState)(),F=_()(ne,2),P=F[0],i=F[1],Q=(0,t.useState)(1),b=_()(Q,2),M=b[0],I=b[1],f=new X.Uo("components.appDomain");return(0,t.useImperativeHandle)(W,function(){return{showEdit:function(v){return O()(o()().mark(function s(){var E,H,c;return o()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,A.lQ)({id:v});case 2:H=w.sent,c=H.data,(E=D.current)===null||E===void 0||E.setFieldsValue({containerId:c.domain.containerId,serverName:c.domain.serverName,serverNameAlias:c.domain.setting.serverNameAlias,serverAddress:c.domain.setting.serverAddress,serverProtocol:c.domain.setting.serverProtocol,port:c.domain.setting.port,enableBlockCommonExploits:c.domain.setting.enableBlockCommonExploits,enableAssetCache:c.domain.setting.enableAssetCache,enableWs:c.domain.setting.enableWs,extraNginx:c.domain.setting.extraNginx,enableSSL:c.domain.setting.enableSSL,certName:c.domain.setting.certName,vhost:c.vhost,type:c.domain.setting.type,wwwRoot:c.domain.setting.wwwRoot,fpmRoot:c.domain.setting.fpmRoot}),i(c),ee(!0);case 7:case"end":return w.stop()}},s)}))()}}}),(0,n.jsx)(V.a,{drawerProps:{forceRender:!0,width:ge.R_},open:S,onOpenChange:function(v){var s;ee(v),!v&&((s=D.current)===null||s===void 0||s.resetFields())},title:f.format("createTitle"),trigger:(0,n.jsx)(x.ZP,{onClick:function(){var v;i(void 0),(v=D.current)===null||v===void 0||v.resetFields()},type:"primary",children:f.format("createTriggerButton")}),formRef:D,onFinish:function(){var te=O()(o()().mark(function v(s){var E,H,c,J,w;return o()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(!s.vhost){Y.next=8;break}return Y.next=3,(0,A.Ss)({id:P&&(P==null?void 0:P.domain.id)>0?P.domain.id:0,vhost:s.vhost});case 3:return H=Y.sent,Y.next=6,(0,A.hZ)();case 6:Y.next=11;break;case 8:return Y.next=10,(0,A.Fj)({id:P&&(P==null?void 0:P.domain.id)>0?P.domain.id:0,containerId:s.containerId,serverName:s.serverName,serverNameAlias:s.serverNameAlias,serverAddress:s.serverAddress,serverProtocol:(c=s.protocol)!==null&&c!==void 0?c:"http",port:parseInt((J=s.port)!==null&&J!==void 0?J:"80"),enableBlockCommonExploits:s.enableBlockCommonExploits,enableAssetCache:s.enableAssetCache,enableWs:s.enableWs,enableSSL:s.enableSSL,extraNginx:s.extraNginx,certName:s.certName,wwwRoot:s.wwwRoot,fpmRoot:s.fpmRoot,type:s.type});case 10:w=Y.sent;case 11:return(E=D.current)===null||E===void 0||E.resetFields(),y.onFinish(),Y.abrupt("return",!0);case 14:case"end":return Y.stop()}},v)}));return function(v){return te.apply(this,arguments)}}(),children:(0,n.jsx)(Z.Z,{items:[{key:"1",label:f.format("createTabDomain"),destroyOnHidden:!0,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(re.UW,{children:[(0,n.jsx)(L.Z,{name:["enableSSL"],children:function(v){var s=v.enableSSL;return(0,n.jsx)(ie.Z,{width:"lg",label:f.format("createFormServerName"),tooltip:f.format("createFormServerNameTip"),name:"serverName",placeholder:"www.explame.com, demo.com:8807",rules:[{required:!0}],fieldProps:{addonBefore:s?"https://":"http://"},disabled:P&&P.domain.id>0})}}),(0,n.jsx)(u.Z,{label:" ",valuePropName:"checked",name:"enableSSL",children:(0,n.jsx)(G.Z,{children:"Https?"})})]}),(0,n.jsx)(le.Z,{label:f.format("createFormServerNameAlises"),name:"serverNameAlias",mode:"tags",placeholder:f.format("createFormServerNameAlisesEmpty")}),(0,n.jsx)(L.Z,{name:["enableSSL","serverName"],children:function(v){var s=v.enableSSL,E=v.serverName;if(s)return(0,n.jsxs)(C.Z.Compact,{children:[(0,n.jsx)(le.Z,{label:f.format("createFormCertName"),width:"lg",name:"certName",fieldProps:{labelRender:function(c){return c.value}},required:!0,rules:[{required:!0}],request:O()(o()().mark(function H(){var c;return o()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,A.dZ)();case 2:return c=w.sent,w.abrupt("return",c.data&&c.data.list.map(function(fe,Y){return{label:(0,n.jsx)(C.Z,{wrap:!0,children:fe.domain.map(function(xe,Ie){return(0,n.jsx)(R.Z,{children:xe})})},Y),value:"".concat(fe.domain[0])}}));case 4:case"end":return w.stop()}},H)}))},M),(0,n.jsx)(u.Z,{label:" ",children:(0,n.jsx)(ve.Z,{domain:E?[E]:[],onFinish:function(){I(M+1)}})})]})}}),(0,n.jsx)(d.Z.Group,{label:f.format("createFormType"),name:"type",initialValue:"proxy",options:f.option("createFormTypeOption",["proxy","redirect","fpm"])}),(0,n.jsxs)(C.Z.Compact,{children:[(0,n.jsx)(le.Z,{label:f.format("createFormProtocol"),tooltip:f.format("createFormProtocolTip"),initialValue:"http",name:"serverProtocol",fieldProps:{allowClear:!1},valueEnum:{http:"http",https:"https"}}),(0,n.jsx)(L.Z,{name:["containerId","type"],children:function(v){var s=v.containerId,E=v.type;return[(0,n.jsx)(ie.Z,{width:"lg",label:" ",name:"serverAddress",placeholder:f.format("createFormServerAddressEmpty"),required:!0,disabled:s,rules:[{required:!0}]},"serverAddress"),E!="redirect"&&(0,n.jsxs)(C.Z.Compact,{children:[(0,n.jsx)(u.Z,{label:" ",name:"containerId",children:(0,n.jsx)(je,{onSelect:function(c){var J,w;(J=D.current)===null||J===void 0||J.setFieldValue("serverAddress",c.Name),(w=D.current)===null||w===void 0||w.setFieldValue("containerId",c.Id)}})}),(0,n.jsx)(u.Z,{label:" ",children:(0,n.jsx)(x.ZP,{onClick:function(){var c,J;(c=D.current)===null||c===void 0||c.setFieldValue("containerId",""),(J=D.current)===null||J===void 0||J.setFieldValue("serverAddress","")},children:f.format("createUser")})})]},"selectContainer")]}})]}),(0,n.jsx)(de.Z,{label:f.format("createFormPort"),name:"port",placeholder:f.format("createFormPortEmpty")}),(0,n.jsx)(L.Z,{name:["type"],children:function(v){var s=v.type;if(s=="fpm")return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ie.Z,{fieldProps:{addonBefore:"/dpanel/wwwroot/"},name:"wwwRoot",label:"\u7F51\u7AD9\u6839\u76EE\u5F55"}),(0,n.jsx)(ie.Z,{initialValue:"/www",name:"fpmRoot",label:"FPM \u6839\u76EE\u5F55"})]})}}),(0,n.jsx)(L.Z,{name:["type"],children:function(v){var s=v.type;return s!="redirect"&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(h.Z,{span:12,children:(0,n.jsx)($.Z,{label:f.format("createFormEnableBlockCommonExploits"),name:"enableBlockCommonExploits"})}),(0,n.jsx)(h.Z,{children:(0,n.jsx)($.Z,{width:"md",label:f.format("createFormEnableAssetCache"),name:"enableAssetCache"})})]}),(0,n.jsx)(l.Z,{children:(0,n.jsx)(h.Z,{span:12,children:(0,n.jsx)($.Z,{label:f.format("createFormEnableWs"),name:"enableWs",initialValue:!0})})})]})}})]})},{key:"3",label:"vhost.conf",destroyOnHidden:!0,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(T.Z,{message:f.format("createVhostTip"),showIcon:!0}),(0,n.jsx)(u.Z,{name:"vhost",label:" ",children:(0,n.jsx)(z.ZP,{height:"600px",theme:"dark",style:{backgroundColor:"#282c34"},onChange:function(){}})})]})}]})})}),Se=ye,be=e(5251),Pe=e(83062),Ee=e(38703);function Oe(y){var W,K=0;if(y.sslCrtCreatedAt&&y.sslCrtRenewAt){var U,S,ee=new Date,D=new Date((U=y.sslCrtRenewAt)!==null&&U!==void 0?U:""),ne=new Date((S=y.sslCrtCreatedAt)!==null&&S!==void 0?S:""),F=Math.ceil((D.getTime()-ne.getTime())/86400/1e3),P=Math.ceil((ee.getTime()-ne.getTime())/86400/1e3);K=Math.min(Math.ceil(P/F*100),100)}return y.certName?(0,n.jsx)(Pe.Z,{placement:"right",title:"".concat(X.FD.format("listExpireAt"),": ").concat((0,be.NF)((W=y.sslCrtRenewAt)!==null&&W!==void 0?W:"")),children:(0,n.jsx)(R.Z,{icon:(0,n.jsxs)(C.Z,{children:[(0,n.jsx)(Ee.Z,{type:"circle",percent:K,status:K==100?"exception":"active",strokeWidth:20,size:14}),(0,n.jsx)("span",{})]}),children:y.certName})}):"-"}var r=e(80821),a=e(37413),m=e(59683),p=e(86548),j=e(74453),B=e(82346),q=e(96074),ae=e(25593),ue=e(50136);function oe(){var y=(0,t.useRef)(),W=(0,t.useRef)(),K=(0,t.useState)({}),U=_()(K,2),S=U[0],ee=U[1],D=(0,B.useAccess)(),ne=new X.Uo("app");return(0,n.jsx)(j._z,{extra:[(0,n.jsx)(k.u,{access:"canSeeContainerDomainManage",children:(0,n.jsx)(Se,{ref:W,onFinish:O()(o()().mark(function F(){var P,i;return o()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return!((P=y.current)===null||P===void 0)&&P.reloadAndRest&&((i=y.current)===null||i===void 0||i.reloadAndRest()),b.next=3,(0,A.hZ)();case 3:case"end":return b.stop()}},F)}))},"addDomain")},"addDomain"),(0,n.jsx)(k.u,{access:"canSeeContainerDomainManage",children:(0,n.jsx)(r.Z,{tips:ne.format("domainRestartNginxTip"),action:O()(o()().mark(function F(){return o()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,A.hZ)();case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},F)})),children:ne.format("domainRestartNginx")},"nginx")},"nginx")],children:(0,n.jsx)(m.C,{rowKey:"id",actionRef:y,columns:[{title:X.FD.format("listDomain"),dataIndex:"serverName",render:function(P,i,Q,b,M){var I=[];return i.serverName&&I.push(i.setting.enableSSL?"https://"+i.serverName:"http://"+i.serverName),i.setting.serverNameAlias&&i.setting.serverNameAlias.map(function(f){I.push(i.setting.enableSSL?"https://"+f:"http://"+f)}),(0,n.jsx)(a.Z,{domain:I,domainTitle:"".concat(i.serverName," (").concat(I.length,")")})}},{title:X.FD.format("listTargetAddress"),search:!1,render:function(P,i,Q,b,M){return"".concat(i.setting.serverAddress,":").concat(i.setting.port)}},{title:X.FD.format("listCert"),search:!0,dataIndex:"certName",width:300,valueEnum:S,render:function(P,i,Q,b,M){return i.setting.enableSSL?(0,n.jsx)(Oe,{certName:i.setting.certName,sslCrtRenewAt:i.setting.sslCrtRenewAt,sslCrtCreatedAt:i.setting.sslCrtCreatedAt}):"-"}},{title:X.FD.format("listCreatedAt"),search:!1,width:180,ellipsis:!0,dataIndex:"createdAt",render:function(P,i,Q,b,M){return(0,be.NF)(i.createdAt)}},{title:X.FD.format("listManage"),key:"option",width:50,search:!1,fixed:"right",hidden:!D.canSeeContainerDomainManage,render:function(P,i,Q,b){return(0,n.jsx)(C.Z,{split:(0,n.jsx)(q.Z,{type:"vertical"}),children:(0,n.jsx)(ae.Z.Link,{onClick:function(){var I;return(I=W.current)===null||I===void 0||I.showEdit(i.id),!0},children:(0,n.jsx)(Pe.Z,{title:X.FD.format("listManageEdit"),children:(0,n.jsx)(p.Z,{})})},"edit")})}}],request:function(){var F=O()(o()().mark(function P(i,Q,b){var M,I,f;return o()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,A.i7)({serverName:i.serverName,certName:i.certName});case 2:return M=v.sent,v.next=5,(0,A.dZ)();case 5:return I=v.sent,f={},M.data.list.map(function(s){s.setting.certName&&typeof s.setting.certName=="string"&&(f[s.setting.certName]=s.setting.certName)}),ee(f),v.abrupt("return",{data:M.data.list&&M.data.list.map(function(s){if(I&&I.data.list){var E,H;s.setting.sslCrtCreatedAt=(E=I.data.list.find(function(c){return c.domain[0]==s.setting.certName}))===null||E===void 0?void 0:E.createdAt,s.setting.sslCrtRenewAt=(H=I.data.list.find(function(c){return c.domain[0]==s.setting.certName}))===null||H===void 0?void 0:H.renewAt}return s}),success:!0,total:M.data.list.length});case 10:case"end":return v.stop()}},P)}));return function(P,i,Q){return F.apply(this,arguments)}}(),rowSelection:D.canSeeContainerDomainManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,quickToolbarRender:function(P){var i=P.selectedRows;return[(0,n.jsx)(r.Z,{buttonProps:{danger:!0,type:"primary"},confirmProps:{showCommonConfirm:!0},action:O()(o()().mark(function Q(){var b;return o()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,A.dj)({id:i.map(function(f){return f.id})});case 2:return b=I.sent,I.next=5,(0,A.hZ)();case 5:return I.abrupt("return",b);case 6:case"end":return I.stop()}},Q)})),onSuccess:function(){var b,M;return!((b=y.current)===null||b===void 0)&&b.reloadAndRest&&((M=y.current)===null||M===void 0||M.reloadAndRest()),!0},onError:function(){var b,M;return!((b=y.current)===null||b===void 0)&&b.reset&&((M=y.current)===null||M===void 0||M.reset()),!0},children:X.FD.format("listManageDeleteBatch")},"batchDelete")]},tableExtraRender:function(){return(0,n.jsx)(ue.Z,{mode:"horizontal",selectedKeys:["domain"],items:[{label:(0,n.jsx)(B.Link,{to:"/app/domain/list",replace:!0,children:X.Ob.format("container.domain.list")}),key:"domain"},{label:(0,n.jsx)(B.Link,{to:"/app/domain/cert",replace:!0,children:X.Ob.format("container.domain.cert")}),key:"cert"}]})}},"domain-list")})}},13822:function(he,se,e){e.d(se,{IE:function(){return A},IW:function(){return _},KK:function(){return le},LJ:function(){return de},RF:function(){return Z},Re:function(){return z},aF:function(){return C},eE:function(){return ie},jV:function(){return re}});var g=e(15009),o=e.n(g),ce=e(99289),O=e.n(ce),N=e(82346);function _(l){return k.apply(this,arguments)}function k(){return k=O()(o()().mark(function l(h){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,N.request)("/api/app/container/status",{method:"POST",data:h}));case 1:case"end":return t.stop()}},l)})),k.apply(this,arguments)}function A(l){return V.apply(this,arguments)}function V(){return V=O()(o()().mark(function l(h){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,N.request)("/api/app/container/get-list",{data:h,method:"POST"}));case 1:case"end":return t.stop()}},l)})),V.apply(this,arguments)}function re(l){return L.apply(this,arguments)}function L(){return L=O()(o()().mark(function l(h){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,N.request)("/api/app/container/get-detail",{data:h,method:"POST"}));case 1:case"end":return t.stop()}},l)})),L.apply(this,arguments)}function ie(l){return u.apply(this,arguments)}function u(){return u=O()(o()().mark(function l(h){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,N.request)("/api/app/container/update",{data:h,method:"POST"}));case 1:case"end":return t.stop()}},l)})),u.apply(this,arguments)}function le(){return d.apply(this,arguments)}function d(){return d=O()(o()().mark(function l(){return o()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",(0,N.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return T.stop()}},l)})),d.apply(this,arguments)}function de(l){return $.apply(this,arguments)}function $(){return $=O()(o()().mark(function l(h){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,N.request)("/api/app/container/export",{method:"POST",data:h,responseType:"blob"}));case 1:case"end":return t.stop()}},l)})),$.apply(this,arguments)}function z(l){return x.apply(this,arguments)}function x(){return x=O()(o()().mark(function l(h){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,N.request)("/api/app/container/commit",{method:"POST",data:h}));case 1:case"end":return t.stop()}},l)})),x.apply(this,arguments)}function Z(l){return G.apply(this,arguments)}function G(){return G=O()(o()().mark(function l(h){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,N.request)("/api/app/container/upgrade",{method:"POST",data:h}));case 1:case"end":return t.stop()}},l)})),G.apply(this,arguments)}function C(l){return R.apply(this,arguments)}function R(){return R=O()(o()().mark(function l(h){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,N.request)("/api/app/container/copy",{method:"POST",data:h}));case 1:case"end":return t.stop()}},l)})),R.apply(this,arguments)}},40056:function(he,se,e){e.d(se,{Z:function(){return Oe}});var g=e(67294),o=e(89739),ce=e(4340),O=e(97937),N=e(21640),_=e(78860),k=e(93967),A=e.n(k),V=e(29372),re=e(64217),L=e(42550),ie=e(96159),u=e(53124),le=e(11568),d=e(14747),de=e(83559);const $=(r,a,m,p,j)=>({background:r,border:`${(0,le.bf)(p.lineWidth)} ${p.lineType} ${a}`,[`${j}-icon`]:{color:m}}),z=r=>{const{componentCls:a,motionDurationSlow:m,marginXS:p,marginSM:j,fontSize:B,fontSizeLG:q,lineHeight:ae,borderRadiusLG:ue,motionEaseInOutCirc:oe,withDescriptionIconSize:y,colorText:W,colorTextHeading:K,withDescriptionPadding:U,defaultPadding:S}=r;return{[a]:Object.assign(Object.assign({},(0,d.Wf)(r)),{position:"relative",display:"flex",alignItems:"center",padding:S,wordWrap:"break-word",borderRadius:ue,[`&${a}-rtl`]:{direction:"rtl"},[`${a}-content`]:{flex:1,minWidth:0},[`${a}-icon`]:{marginInlineEnd:p,lineHeight:0},"&-description":{display:"none",fontSize:B,lineHeight:ae},"&-message":{color:K},[`&${a}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${m} ${oe}, opacity ${m} ${oe},
        padding-top ${m} ${oe}, padding-bottom ${m} ${oe},
        margin-bottom ${m} ${oe}`},[`&${a}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${a}-with-description`]:{alignItems:"flex-start",padding:U,[`${a}-icon`]:{marginInlineEnd:j,fontSize:y,lineHeight:0},[`${a}-message`]:{display:"block",marginBottom:p,color:K,fontSize:q},[`${a}-description`]:{display:"block",color:W}},[`${a}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},x=r=>{const{componentCls:a,colorSuccess:m,colorSuccessBorder:p,colorSuccessBg:j,colorWarning:B,colorWarningBorder:q,colorWarningBg:ae,colorError:ue,colorErrorBorder:oe,colorErrorBg:y,colorInfo:W,colorInfoBorder:K,colorInfoBg:U}=r;return{[a]:{"&-success":$(j,p,m,r,a),"&-info":$(U,K,W,r,a),"&-warning":$(ae,q,B,r,a),"&-error":Object.assign(Object.assign({},$(y,oe,ue,r,a)),{[`${a}-description > pre`]:{margin:0,padding:0}})}}},Z=r=>{const{componentCls:a,iconCls:m,motionDurationMid:p,marginXS:j,fontSizeIcon:B,colorIcon:q,colorIconHover:ae}=r;return{[a]:{"&-action":{marginInlineStart:j},[`${a}-close-icon`]:{marginInlineStart:j,padding:0,overflow:"hidden",fontSize:B,lineHeight:(0,le.bf)(B),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${m}-close`]:{color:q,transition:`color ${p}`,"&:hover":{color:ae}}},"&-close-text":{color:q,transition:`color ${p}`,"&:hover":{color:ae}}}}},G=r=>({withDescriptionIconSize:r.fontSizeHeading3,defaultPadding:`${r.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${r.paddingMD}px ${r.paddingContentHorizontalLG}px`});var C=(0,de.I$)("Alert",r=>[z(r),x(r),Z(r)],G),R=function(r,a){var m={};for(var p in r)Object.prototype.hasOwnProperty.call(r,p)&&a.indexOf(p)<0&&(m[p]=r[p]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,p=Object.getOwnPropertySymbols(r);j<p.length;j++)a.indexOf(p[j])<0&&Object.prototype.propertyIsEnumerable.call(r,p[j])&&(m[p[j]]=r[p[j]]);return m};const l={success:o.Z,info:_.Z,error:ce.Z,warning:N.Z},h=r=>{const{icon:a,prefixCls:m,type:p}=r,j=l[p]||null;return a?(0,ie.wm)(a,g.createElement("span",{className:`${m}-icon`},a),()=>({className:A()(`${m}-icon`,a.props.className)})):g.createElement(j,{className:`${m}-icon`})},T=r=>{const{isClosable:a,prefixCls:m,closeIcon:p,handleClose:j,ariaProps:B}=r,q=p===!0||p===void 0?g.createElement(O.Z,null):p;return a?g.createElement("button",Object.assign({type:"button",onClick:j,className:`${m}-close-icon`,tabIndex:0},B),q):null};var ve=g.forwardRef((r,a)=>{const{description:m,prefixCls:p,message:j,banner:B,className:q,rootClassName:ae,style:ue,onMouseEnter:oe,onMouseLeave:y,onClick:W,afterClose:K,showIcon:U,closable:S,closeText:ee,closeIcon:D,action:ne,id:F}=r,P=R(r,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[i,Q]=g.useState(!1),b=g.useRef(null);g.useImperativeHandle(a,()=>({nativeElement:b.current}));const{getPrefixCls:M,direction:I,closable:f,closeIcon:te,className:v,style:s}=(0,u.dj)("alert"),E=M("alert",p),[H,c,J]=C(E),w=me=>{var pe;Q(!0),(pe=r.onClose)===null||pe===void 0||pe.call(r,me)},fe=g.useMemo(()=>r.type!==void 0?r.type:B?"warning":"info",[r.type,B]),Y=g.useMemo(()=>typeof S=="object"&&S.closeIcon||ee?!0:typeof S=="boolean"?S:D!==!1&&D!==null&&D!==void 0?!0:!!f,[ee,D,S,f]),xe=B&&U===void 0?!0:U,Ie=A()(E,`${E}-${fe}`,{[`${E}-with-description`]:!!m,[`${E}-no-icon`]:!xe,[`${E}-banner`]:!!B,[`${E}-rtl`]:I==="rtl"},v,q,ae,J,c),De=(0,re.Z)(P,{aria:!0,data:!0}),Ze=g.useMemo(()=>typeof S=="object"&&S.closeIcon?S.closeIcon:ee||(D!==void 0?D:typeof f=="object"&&f.closeIcon?f.closeIcon:te),[D,S,ee,te]),Me=g.useMemo(()=>{const me=S!=null?S:f;if(typeof me=="object"){const{closeIcon:pe}=me;return R(me,["closeIcon"])}return{}},[S,f]);return H(g.createElement(V.ZP,{visible:!i,motionName:`${E}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:me=>({maxHeight:me.offsetHeight}),onLeaveEnd:K},({className:me,style:pe},Re)=>g.createElement("div",Object.assign({id:F,ref:(0,L.sQ)(b,Re),"data-show":!i,className:A()(Ie,me),style:Object.assign(Object.assign(Object.assign({},s),ue),pe),onMouseEnter:oe,onMouseLeave:y,onClick:W,role:"alert"},De),xe?g.createElement(h,{description:m,icon:r.icon,prefixCls:E,type:fe}):null,g.createElement("div",{className:`${E}-content`},j?g.createElement("div",{className:`${E}-message`},j):null,m?g.createElement("div",{className:`${E}-description`},m):null),ne?g.createElement("div",{className:`${E}-action`},ne):null,g.createElement(T,{isClosable:Y,prefixCls:E,closeIcon:Ze,handleClose:w,ariaProps:Me}))))}),ge=e(15671),X=e(43144),Ce=e(61120),n=e(78814),je=e(82963);function ye(r,a,m){return a=(0,Ce.Z)(a),(0,je.Z)(r,(0,n.Z)()?Reflect.construct(a,m||[],(0,Ce.Z)(r).constructor):a.apply(r,m))}var Se=e(60136),Pe=function(r){function a(){var m;return(0,ge.Z)(this,a),m=ye(this,a,arguments),m.state={error:void 0,info:{componentStack:""}},m}return(0,Se.Z)(a,r),(0,X.Z)(a,[{key:"componentDidCatch",value:function(p,j){this.setState({error:p,info:j})}},{key:"render",value:function(){const{message:p,description:j,id:B,children:q}=this.props,{error:ae,info:ue}=this.state,oe=(ue==null?void 0:ue.componentStack)||null,y=typeof p=="undefined"?(ae||"").toString():p,W=typeof j=="undefined"?oe:j;return ae?g.createElement(ve,{id:B,type:"error",message:y,description:g.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},W)}):q}}])}(g.Component);const Ee=ve;Ee.ErrorBoundary=Pe;var Oe=Ee}}]);
