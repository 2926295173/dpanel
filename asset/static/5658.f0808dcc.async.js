!(function(){var oe=Object.defineProperty,le=Object.defineProperties;var _e=Object.getOwnPropertyDescriptors;var q=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable;var ee=(I,g,t)=>g in I?oe(I,g,{enumerable:!0,configurable:!0,writable:!0,value:t}):I[g]=t,te=(I,g)=>{for(var t in g||(g={}))ue.call(g,t)&&ee(I,t,g[t]);if(q)for(var t of q(g))ce.call(g,t)&&ee(I,t,g[t]);return I},ne=(I,g)=>le(I,_e(g));(self.webpackChunk=self.webpackChunk||[]).push([[5658],{1699:function(I,g,t){"use strict";t.d(g,{u:function(){return r}});var y=t(9783),h=t.n(y),M=t(97857),u=t.n(M),f=t(67294),d=t(82346),E=t(40411),b=t(42075),e=t(85893),r=function(s){var n=(0,d.useAccess)(),a=Array.isArray(s.access)?s.access:[s.access],i,c=s.fallback;if(typeof s.children=="function"?(i=s.children(a.reduce(function(_,p){return u()(u()({},_),{},h()({},p,n[p]))},{})),i||(i=c)):a.every(function(_){return n[_]})?i=s.children:i=c,!c&&i&&s.showProTips&&n.canSeeEnableCe){if(n.canSeeEnableHiddenProTips)return null;i=(0,e.jsx)(E.Z,{offset:s.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:i})}if(!c&&i&&s.showProRibbonTips&&n.canSeeEnableCe){if(n.canSeeEnableHiddenProTips)return null;i=(0,e.jsx)(E.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:i})}return s.space?(0,e.jsx)(b.Z,u()(u()({},s.space),{},{children:i})):i}},74026:function(I,g,t){"use strict";var y=t(15009),h=t.n(y),M=t(99289),u=t.n(M),f=t(5574),d=t.n(f),E=t(66554),b=t(184),e=t(86615),r=t(97462),o=t(90672),s=t(64317),n=t(5966),a=t(62370),i=t(52688),c=t(28036),_=t(42075),p=t(71230),v=t(15746),P=t(67294),j=t(12491),K=t(35887),A=t(77865),R=t(82346),O=t(3616),L=t(36146),C=t(85893),V=(0,P.forwardRef)(function(S,$){var w=(0,P.useState)(!1),m=d()(w,2),D=m[0],T=m[1],l=(0,P.useRef)(),Y=(0,P.useRef)(),z=(0,P.useState)([]),N=d()(z,2),H=N[0],J=N[1],re=(0,R.useModel)("subscriber"),se=(0,P.useState)(),X=d()(se,2),ae=X[0],Q=X[1],U=new L.Uo("components.appDomain");return re.addDataHandler("domain:apply",function(k){var B;(B=Y.current)===null||B===void 0||B.write(k.data)}),(0,P.useImperativeHandle)($,function(){return{edit:function(B){var W,F;Q(B),(W=l.current)===null||W===void 0||W.resetFields(),(F=l.current)===null||F===void 0||F.setFieldsValue({type:B.CA=="import"?"upload":"apply",domain:B.domain,dnsApi:B.dnsApi,sslKeyContent:B.sslKeyContent,sslCrtContent:B.sslCrtContent}),T(!0)}}}),(0,P.useEffect)(function(){(0,E.q2)().then(function(k){J(k.data.setting.map(function(B){return{label:B.title,value:B.serverName}}))})},[]),(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(b.a,{title:U.format("certTitle"),drawerProps:{forceRender:!0,width:O.R_},trigger:(0,C.jsx)(c.ZP,{type:"primary",children:U.format("certTitle")}),formRef:l,onFinish:function(){var k=u()(h()().mark(function B(W){var F,Z,x,ie;return h()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if((F=Y.current)===null||F===void 0||F.clear(),W.type!="upload"){G.next=7;break}return G.next=4,(0,E.ui)({type:W.type,sslKeyContent:W.sslKeyContent,sslCrtContent:W.sslCrtContent});case 4:Z=G.sent,G.next=11;break;case 7:return localStorage.setItem("email",(x=W.email)!==null&&x!==void 0?x:""),G.next=10,(0,E.Pf)({type:W.type,domain:W.domain,email:W.email,certServer:W.certServer,autoUpgrade:W.autoUpgrade,renew:W.renew,debug:W.debug,dnsApi:W.dnsApi});case 10:ie=G.sent;case 11:return S.onFinish&&S.onFinish(),G.abrupt("return",!0);case 13:case"end":return G.stop()}},B)}));return function(B){return k.apply(this,arguments)}}(),onOpenChange:function(B){var W,F;if(!B){var Z;Q(void 0),(Z=l.current)===null||Z===void 0||Z.resetFields()}if(S.domain&&S.domain.length>0){var x;(x=l.current)===null||x===void 0||x.setFieldValue("domain",S.domain)}(W=l.current)===null||W===void 0||W.setFieldsValue({email:(F=localStorage.getItem("email"))!==null&&F!==void 0?F:""}),T(B)},open:D,children:[(0,C.jsx)(e.Z.Group,{label:U.format("certFormType"),name:"type",initialValue:"apply",disabled:!!ae,options:U.option("certFormTypeOption",["upload","apply"])}),(0,C.jsx)(r.Z,{name:["type"],children:function(B){var W=B.type;return W=="upload"?[(0,C.jsx)(o.Z,{fieldProps:{rows:10},label:U.format("certFormSslCrtContent"),name:"sslCrtContent",tooltip:U.format("certFormSslCrtContentTip"),placeholder:"-----BEGIN CERTIFICATE-----",required:!0},"sslCrt"),(0,C.jsx)(j.Z,{title:U.format("certFormImportCrt"),onImport:function(Z){var x;return(x=l.current)===null||x===void 0||x.setFieldValue("sslCrtContent",Z),!0},onLoad:function(Z){if(Z.indexOf("BEGIN CERTIFICATE")<0)throw new Error(L.FD.format("commonFileIncorrectFormat",{name:".crt"}));return!0}},"importCrt"),(0,C.jsx)(o.Z,{fieldProps:{rows:10},label:U.format("certFormSslKeyContent"),name:"sslKeyContent",tooltip:U.format("certFormSslKeyContentTip"),placeholder:"-----BEGIN PRIVATE KEY-----",required:!0},"sslKey"),(0,C.jsx)(j.Z,{title:U.format("certFormImportKey"),onImport:function(Z){var x;return(x=l.current)===null||x===void 0||x.setFieldValue("sslKeyContent",Z),!0},onLoad:function(Z){if(Z.indexOf("PRIVATE KEY")<0)throw new Error(L.FD.format("commonFileIncorrectFormat",{name:".key"}));return!0}},"importKey")]:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(s.Z,{mode:"tags",name:"domain",label:U.format("certFormDomain"),placeholder:U.format("certFormDomainEmpty"),required:!0,rules:[{required:!0}]},"domain"),(0,C.jsx)(n.Z,{label:U.format("certFormEmail"),name:"email",required:!0,rules:[{required:!0}]}),(0,C.jsxs)(_.Z.Compact,{children:[(0,C.jsx)(s.Z,{label:U.format("certFormDnsApi"),tooltip:U.format("certFormDnsApiTip"),name:"dnsApi",width:"lg",required:!0,rules:[{required:!0}],options:H}),(0,C.jsx)(a.Z,{label:" ",children:(0,C.jsx)(A.Z,{onFinish:function(Z){J(Z.map(function(x){return{label:x.title,value:x.serverName}}))}},"dns")})]}),(0,C.jsx)(s.Z,{label:U.format("certFormCertServer"),name:"certServer",tooltip:U.format("certFormCertServerTip"),initialValue:"letsencrypt",options:[{value:"letsencrypt",label:"Let's Encrypt"},{value:"zerossl",label:"ZeroSSL"}]}),(0,C.jsxs)(p.Z,{gutter:[20,10],children:[(0,C.jsx)(v.Z,{children:(0,C.jsx)(i.Z,{label:U.format("certFormAutoUpgrade"),name:"autoUpgrade",initialValue:!0})}),(0,C.jsx)(v.Z,{children:(0,C.jsx)(i.Z,{tooltip:U.format("certFormRenewTip"),label:U.format("certFormRenew"),name:"renew",initialValue:!1})}),(0,C.jsx)(v.Z,{children:(0,C.jsx)(i.Z,{tooltip:U.format("certFormDebugTip"),label:"Debug",name:"debug",initialValue:!1})}),(0,C.jsx)(v.Z,{})]}),(0,C.jsx)(K.Z,{height:"200px",style:{fontSize:12},ref:Y})]})}})]})})});g.Z=V},77865:function(I,g,t){"use strict";var y=t(15009),h=t.n(y),M=t(99289),u=t.n(M),f=t(5574),d=t.n(f),E=t(184),b=t(86615),e=t(97462),r=t(5966),o=t(28036),s=t(67294),n=t(44349),a=t(52255),i=t(66554),c=t(3616),_=t(36146),p=t(85893),v=new _.Uo("components.appDomain"),P=[{value:"dns_cf",label:"CloudFlare",fields:[{name:"CF_Token"}],help:"https://dash.cloudflare.com/profile/api-tokens"},{value:"dns_dp",label:"DNSPod",fields:[{name:"DP_Id"},{name:"DP_Key"}],help:"https://console.dnspod.cn/account/token/token"},{value:"dns_tencent",label:v.format("dnsApiOption.dns_tencent"),fields:[{name:"Tencent_SecretId"},{name:"Tencent_SecretKey"}],help:"https://console.cloud.tencent.com/cam/capi"},{label:v.format("dnsApiOption.dns_ali"),value:"dns_ali",fields:[{name:"Ali_Key"},{name:"Ali_Secret"}],help:"https://ram.console.aliyun.com/users"},{label:v.format("dnsApiOption.dns_huaweicloud"),value:"dns_huaweicloud",fields:[{name:"HUAWEICLOUD_Username"},{name:"HUAWEICLOUD_Password"},{name:"HUAWEICLOUD_DomainName"}],help:"https://support.huaweicloud.com/api-iam/iam_01_0006.html"},{label:"GoDaddy",value:"dns_gd",fields:[{name:"GD_Key"},{name:"GD_Secret"}],help:"https://developer.godaddy.com/keys/"},{label:v.format("dnsApiOption.user"),value:"user",help:"https://github.com/acmesh-official/acme.sh/wiki/dnsapi"}],j=(0,s.forwardRef)(function(K,A){(0,s.useImperativeHandle)(A,function(){return{show:function(){C(!0)}}});var R=(0,s.useState)(!1),O=d()(R,2),L=O[0],C=O[1],V=(0,s.useRef)();return(0,p.jsxs)(E.a,{drawerProps:{width:c.R_},title:v.format("dnsApiTitle"),trigger:(0,p.jsx)(o.ZP,{children:v.format("dnsApiTitle")}),formRef:V,open:L,onFinish:function(){var S=u()(h()().mark(function $(w){var m,D;return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,i.q2)({account:Object.keys((m=w.account)!==null&&m!==void 0?m:{}).map(function(Y){var z;return{title:(z=P.find(function(N){return N.value==Y}))===null||z===void 0?void 0:z.label,serverName:Y,env:Object.keys(w.account[Y]).map(function(N){return{name:N,value:w.account[Y][N]}})}}),user:w.user});case 2:return D=l.sent,K.onFinish&&K.onFinish(D.data.setting),l.abrupt("return",!0);case 5:case"end":return l.stop()}},$)}));return function($){return S.apply(this,arguments)}}(),onOpenChange:function(){var S=u()(h()().mark(function $(w){var m,D,T,l;return h()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(C(w),!w){z.next=9;break}return(m=V.current)===null||m===void 0||m.resetFields(),z.next=5,(0,i.q2)();case 5:T=z.sent,l=[],T.data.setting&&T.data.setting.map(function(N){P.find(function(H){return H.value==N.serverName})?N.env&&N.env.map(function(H){var J;(J=V.current)===null||J===void 0||J.setFieldValue(["account",N.serverName,H.name],H.value)}):N.env&&l.push(N)}),(D=V.current)===null||D===void 0||D.setFieldValue("user",l);case 9:case"end":return z.stop()}},$)}));return function($){return S.apply(this,arguments)}}(),children:[(0,p.jsx)(b.Z.Group,{label:v.format("dnsApiServerNameSelect"),name:"serverNameSelect",radioType:"button",initialValue:"dns_dp",options:P.map(function(S){return{label:S.label,value:S.value}})}),(0,p.jsx)(e.Z,{name:["serverNameSelect"],children:function($){var w,m=$.serverNameSelect,D=(w=P.find(function(T){return T.value===m}))===null||w===void 0?void 0:w.help;return(0,p.jsxs)("div",{style:{marginBottom:20},children:[v.format("dnsApiServerNameTip"),": ",(0,p.jsx)("a",{href:D,target:"_blank",children:D})]})}}),(0,p.jsx)(e.Z,{name:["serverNameSelect"],children:function($){var w=$.serverNameSelect;return(0,p.jsxs)(p.Fragment,{children:[P.map(function(m){if(m.fields)return(0,p.jsx)(a.Z,{show:w==m.value,children:m.fields.map(function(D,T){return(0,p.jsx)(r.Z,{label:D.name,name:["account",m.value,D.name]},"".concat(m.value,"-").concat(T,"-").concat(D.name))})},m.value)}),(0,p.jsx)(a.Z,{show:w=="user",children:(0,p.jsx)(n.Z,{gap:20,name:"user",label:v.format("dnsApiUser"),showAddButton:!0,hideCopyButton:!0,items:[{name:"serverName",label:v.format("dnsApiUserServerName")},{name:"env",render:function(D,T,l){return(0,p.jsx)(n.Z,{gap:20,name:"env",label:v.format("dnsApiUserEnv"),showAddButton:!0,hideCopyButton:!0,items:[{name:"name",label:v.format("dnsApiUserEnvName")},{name:"value",label:v.format("dnsApiUserEnvValue")}]},"env")}}]})},"user")]})}})]})});g.Z=j},52255:function(I,g,t){"use strict";t.d(g,{Z:function(){return M}});var y=t(67294),h=t(85893);function M(u){return(0,h.jsx)("div",{style:{display:u.show?"block":"none"},children:u.children})}},80821:function(I,g,t){"use strict";t.d(g,{Z:function(){return s}});var y=t(97857),h=t.n(y),M=t(5574),u=t.n(M),f=t(24963),d=t(36146),E=t(86738),b=t(83062),e=t(28036),r=t(67294),o=t(85893);function s(n){var a=(0,r.useState)(!1),i=u()(a,2),c=i[0],_=i[1],p=(0,r.useContext)(f.Z),v=p.message,P=new d.Uo,j=function(){_(!0);var A=n.action();A instanceof Promise?A.then(function(R){if(_(!1),R){typeof n.onSuccess=="function"&&n.onSuccess(R);var O="";n.messageSuccess?typeof n.messageSuccess=="function"?O=n.messageSuccess(R):O=n.messageSuccess.indexOf("notification.")==0?P.format(n.messageSuccess):n.messageSuccess:O=P.format("notification.finish"),n.asynced?v.info(O):v.success(O)}}).catch(function(R){_(!1),typeof n.onError=="function"&&n.onError(R)}):_(!1)};return n.confirm?(0,o.jsx)(E.Z,h()(h()({style:{width:500},title:n.confirmTitle?n.confirmTitle:P.format("notification.title.tip"),description:typeof n.confirm=="string"&&n.confirm.indexOf("notification.")==0?P.format(n.confirm):n.confirm,onConfirm:j,okText:"Yes",cancelText:"No",onOpenChange:n.confirmOnOpenChange},n.confirmProps),{},{children:(0,o.jsx)(b.Z,{title:n.tips,children:(0,o.jsx)(e.ZP,{block:n.block,disabled:n.disabled,icon:!n.children&&c?void 0:n.icon,loading:c,danger:n.danger,type:n.type,children:n.children})})})):(0,o.jsx)(b.Z,{title:n.tips,children:(0,o.jsx)(e.ZP,{block:n.block,style:n.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:n.disabled,icon:!n.children&&c?void 0:n.icon,loading:c,onClick:j,danger:n.danger,type:n.type,children:n.children})})}},44349:function(I,g,t){"use strict";var y=t(97857),h=t.n(y),M=t(17186),u=t(5966),f=t(86250),d=t(67294),E=t(85893),b=(0,d.forwardRef)(function(e,r){var o=(0,d.useRef)();(0,d.useImperativeHandle)(r,function(){return{addItem:function(a,i){var c,_=(c=o.current)===null||c===void 0?void 0:c.getList(),p=!1;if(_==null||_.map(function(P){if(P.name==a){p=!0;return}}),!p){var v;(v=o.current)===null||v===void 0||v.add({name:a,value:i})}},clear:function(){var a;(a=o.current)===null||a===void 0||(a=a.getList())===null||a===void 0||a.map(function(i,c){var _;(_=o.current)===null||_===void 0||_.remove(c)})}}});var s={};return e.hideCopyButton===!0&&(s.copyIconProps=!1),e.hideDeleteButton===!0&&(s.deleteIconProps=!1),(0,E.jsx)(M.u,h()(h()({initialValue:e.initialValue,label:e.label,name:e.name,actionRef:o,creatorButtonProps:e.showAddButton?{creatorButtonText:e.label?e.label:e.name}:!1,min:e.min?e.min:0},s),{},{children:function(a,i,c){return(0,E.jsx)(f.Z,{justify:e.justify,gap:e.gap,children:e.items.map(function(_){return _.render?(0,E.jsx)("div",{children:_.render&&_.render(a,i,c)},"".concat(e.name,"-").concat(_.name,"-").concat(a.key)):(0,E.jsx)(u.Z,{width:_.width,name:_.name,label:_.label,required:_.required,rules:[{required:_.required}],disabled:_.disabled,placeholder:_.placeholder},"".concat(e.name,"-").concat(_.name,"-").concat(a.key))})})}}))});g.Z=b},12491:function(I,g,t){"use strict";t.d(g,{Z:function(){return e}});var y=t(24963),h=t(36146),M=t(88484),u=t(62370),f=t(31418),d=t(28036),E=t(67294),b=t(85893);function e(r){var o=(0,E.useContext)(y.Z),s=o.message,n=o.notice,a=(0,E.useRef)(null),i=f.Z.useApp(),c=function(){a.current&&(a.current.click(),a.current.onchange=function(p){if(!p||!p.target)return"";var v=new FileReader;v.onload=function(K){var A,R,O=(A=K.target)===null||A===void 0?void 0:A.result;if(r.onLoad)try{r.onLoad&&r.onLoad(O)}catch(L){n.error(L);return}typeof r.onImport=="function"&&(s.success(h.FD.format("finish")),r.onImport(O)),(R=a.current)!==null&&R!==void 0&&R.value&&(a.current.value="")};var P=p.target;if(P.files&&P.files[0]){var j=P.files[0];if(j.type!=""&&!j.type.includes("text/")){n.error(h.FD.format("commonContentIncorrectFormat",{name:P.files[0].name}));return}try{v.readAsText(P.files[0])}catch(K){n.error(h.FD.format("commonContentIncorrectFormat",{name:P.files[0].name}))}}})};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.Z,{children:(0,b.jsx)(d.ZP,{icon:(0,b.jsx)(M.Z,{}),block:!0,onClick:c,children:r.title})}),(0,b.jsx)("input",{style:{display:"none"},type:"file",ref:a,name:"importFileInput"})]})}},35887:function(I,g,t){"use strict";var y=t(5574),h=t.n(y),M=t(12323),u=t(78267),f=t.n(u),d=t(75458),E=t.n(d),b=t(67294),e=t(4244),r=t.n(e),o=t(24078),s=t(85893),n,a,i,c=(0,b.forwardRef)(function(_,p){var v,P=(0,b.useState)(!0),j=h()(P,2),K=j[0],A=j[1];return(0,b.useEffect)(function(){return n=new e.Terminal(M.X),a=new d.SearchAddon,i=new u.FitAddon,window.addEventListener("resize",function(){_.showInModal||i.fit()}),_.style&&_.style.fontSize&&(n.options.fontSize=_.style.fontSize),n.loadAddon(i),n.loadAddon(a),n.open(document.getElementById(_.id?_.id:"terminal-container")),_.showInModal||i.fit(),function(){n.reset(),A(!0)}},[]),(0,b.useImperativeHandle)(p,function(){return{write:function(O){K&&(i.fit(),A(!1)),n.write(O)},clear:function(){n.clear()},getTerminal:function(){return n},findNext:function(O){a.findNext(O)},findPrev:function(O){a.findPrevious(O)},fit:function(){i.fit()},onData:function(O){return n.onData(O)}}}),(0,s.jsx)("div",{id:_.id?_.id:"terminal-container",style:{width:_.width?_.width:"100%",height:_.height?_.height:"500px",marginTop:(v=_.style)===null||v===void 0?void 0:v.marginTop}})});g.Z=c},3616:function(I,g,t){"use strict";t.d(g,{Ed:function(){return u},FK:function(){return h},R_:function(){return y},ob:function(){return M}});var y=window.innerWidth<=1024?"90vw":"65vw",h="90vw",M="60vw",u="50vh"},12323:function(I,g,t){"use strict";t.d(g,{X:function(){return y},n:function(){return h}});var y={convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,lineHeight:1,cursorStyle:"block",cursorInactiveStyle:"outline",cursorBlink:!0,letterSpacing:0,theme:{foreground:"#bfbfbf",cursor:"gray",selectionForeground:"#ffffff"}},h=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"]},24963:function(I,g,t){"use strict";var y=t(67294),h=(0,y.createContext)({});g.Z=h},66554:function(I,g,t){"use strict";t.d(g,{Fj:function(){return b},KK:function(){return V},Pf:function(){return c},Ss:function(){return K},dZ:function(){return L},dj:function(){return s},hZ:function(){return P},i7:function(){return d},lQ:function(){return a},ll:function(){return $},q2:function(){return R},ui:function(){return p}});var y=t(15009),h=t.n(y),M=t(99289),u=t.n(M),f=t(82346);function d(m){return E.apply(this,arguments)}function E(){return E=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-domain/get-list",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),E.apply(this,arguments)}function b(m){return e.apply(this,arguments)}function e(){return e=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-domain/create",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),e.apply(this,arguments)}function r(m){return o.apply(this,arguments)}function o(){return o=_asyncToGenerator(_regeneratorRuntime().mark(function m(D){return _regeneratorRuntime().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",request("/api/app/site-domain/update",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),o.apply(this,arguments)}function s(m){return n.apply(this,arguments)}function n(){return n=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-domain/delete",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),n.apply(this,arguments)}function a(m){return i.apply(this,arguments)}function i(){return i=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-domain/get-detail",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),i.apply(this,arguments)}function c(m){return _.apply(this,arguments)}function _(){return _=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-cert/apply",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),_.apply(this,arguments)}function p(m){return v.apply(this,arguments)}function v(){return v=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-cert/import",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),v.apply(this,arguments)}function P(){return j.apply(this,arguments)}function j(){return j=u()(h()().mark(function m(){return h()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",(0,f.request)("/api/app/site-domain/restart-nginx",{method:"POST"}));case 1:case"end":return T.stop()}},m)})),j.apply(this,arguments)}function K(m){return A.apply(this,arguments)}function A(){return A=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-domain/update-vhost",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),A.apply(this,arguments)}function R(m){return O.apply(this,arguments)}function O(){return O=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-cert/dns-api",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),O.apply(this,arguments)}function L(m){return C.apply(this,arguments)}function C(){return C=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-cert/get-list",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),C.apply(this,arguments)}function V(m){return S.apply(this,arguments)}function S(){return S=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-cert/delete",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),S.apply(this,arguments)}function $(m){return w.apply(this,arguments)}function w(){return w=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-cert/download",{method:"POST",data:D,responseType:"blob"}));case 1:case"end":return l.stop()}},m)})),w.apply(this,arguments)}},67255:function(I,g,t){"use strict";t.d(g,{O:function(){return y},j:function(){return h}});function y(M){var u=localStorage.getItem("dpanel-pagesize");return u=="all"?!1:{defaultCurrent:M==null?void 0:M.page,showSizeChanger:!0,defaultPageSize:parseInt(u!=null?u:"20"),onChange:function(d,E){localStorage.setItem("dpanel-page-"+location.pathname.split("/").slice(-2).join("-"),"".concat(d))}}}function h(M){var u="dpanel-table-column-".concat(M),f={};if(localStorage.getItem(u)){var d;f=JSON.parse((d=localStorage.getItem(u))!==null&&d!==void 0?d:"{}")}return{defaultValue:f,onChange:function(b){localStorage.setItem("dpanel-table-column-".concat(M),JSON.stringify(b))}}}},75458:function(I){(function(g,t){I.exports=t()})(self,()=>(()=>{"use strict";var g={345:(M,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.runAndSubscribe=u.forwardEvent=u.EventEmitter=void 0,u.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=f=>(this._listeners.push(f),{dispose:()=>{if(!this._disposed){for(let d=0;d<this._listeners.length;d++)if(this._listeners[d]===f)return void this._listeners.splice(d,1)}}})),this._event}fire(f,d){const E=[];for(let b=0;b<this._listeners.length;b++)E.push(this._listeners[b]);for(let b=0;b<E.length;b++)E[b].call(void 0,f,d)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},u.forwardEvent=function(f,d){return f(E=>d.fire(E))},u.runAndSubscribe=function(f,d){return d(void 0),f(E=>d(E))}},859:(M,u)=>{function f(d){for(const E of d)E.dispose();d.length=0}Object.defineProperty(u,"__esModule",{value:!0}),u.getDisposeArrayDisposable=u.disposeArray=u.toDisposable=u.MutableDisposable=u.Disposable=void 0,u.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const d of this._disposables)d.dispose();this._disposables.length=0}register(d){return this._disposables.push(d),d}unregister(d){const E=this._disposables.indexOf(d);E!==-1&&this._disposables.splice(E,1)}},u.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(d){var E;this._isDisposed||d===this._value||((E=this._value)==null||E.dispose(),this._value=d)}clear(){this.value=void 0}dispose(){var d;this._isDisposed=!0,(d=this._value)==null||d.dispose(),this._value=void 0}},u.toDisposable=function(d){return{dispose:d}},u.disposeArray=f,u.getDisposeArrayDisposable=function(d){return{dispose:()=>f(d)}}}},t={};function y(M){var u=t[M];if(u!==void 0)return u.exports;var f=t[M]={exports:{}};return g[M](f,f.exports,y),f.exports}var h={};return(()=>{var M=h;Object.defineProperty(M,"__esModule",{value:!0}),M.SearchAddon=void 0;const u=y(345),f=y(859),d=" ~!@#$%^&*()+`-=[]{}|\\;:\"',./<>?";class E extends f.Disposable{constructor(e){var r;super(),this._highlightedLines=new Set,this._highlightDecorations=[],this._selectedDecoration=this.register(new f.MutableDisposable),this._linesCacheTimeoutId=0,this._linesCacheDisposables=new f.MutableDisposable,this._onDidChangeResults=this.register(new u.EventEmitter),this.onDidChangeResults=this._onDidChangeResults.event,this._highlightLimit=(r=e==null?void 0:e.highlightLimit)!=null?r:1e3}activate(e){this._terminal=e,this.register(this._terminal.onWriteParsed(()=>this._updateMatches())),this.register(this._terminal.onResize(()=>this._updateMatches())),this.register((0,f.toDisposable)(()=>this.clearDecorations()))}_updateMatches(){var e;this._highlightTimeout&&window.clearTimeout(this._highlightTimeout),this._cachedSearchTerm&&((e=this._lastSearchOptions)!=null&&e.decorations)&&(this._highlightTimeout=setTimeout(()=>{const r=this._cachedSearchTerm;this._cachedSearchTerm=void 0,this.findPrevious(r,ne(te({},this._lastSearchOptions),{incremental:!0,noScroll:!0}))},200))}clearDecorations(e){this._selectedDecoration.clear(),(0,f.disposeArray)(this._highlightDecorations),this._highlightDecorations=[],this._highlightedLines.clear(),e||(this._cachedSearchTerm=void 0)}clearActiveDecoration(){this._selectedDecoration.clear()}findNext(e,r){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const o=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,r);this._lastSearchOptions=r,r!=null&&r.decorations&&(this._cachedSearchTerm===void 0||e!==this._cachedSearchTerm||o)&&this._highlightAllMatches(e,r);const s=this._findNextAndSelect(e,r);return this._fireResults(r),this._cachedSearchTerm=e,s}_highlightAllMatches(e,r){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!e||e.length===0)return void this.clearDecorations();r=r||{},this.clearDecorations(!0);const o=[];let s,n=this._find(e,0,0,r);for(;n&&((s==null?void 0:s.row)!==n.row||(s==null?void 0:s.col)!==n.col)&&!(o.length>=this._highlightLimit);)s=n,o.push(s),n=this._find(e,s.col+s.term.length>=this._terminal.cols?s.row+1:s.row,s.col+s.term.length>=this._terminal.cols?0:s.col+1,r);for(const a of o){const i=this._createResultDecoration(a,r.decorations);i&&(this._highlightedLines.add(i.marker.line),this._highlightDecorations.push({decoration:i,match:a,dispose(){i.dispose()}}))}}_find(e,r,o,s){var i;if(!this._terminal||!e||e.length===0)return(i=this._terminal)==null||i.clearSelection(),void this.clearDecorations();if(o>this._terminal.cols)throw new Error(`Invalid col: ${o} to search in terminal of ${this._terminal.cols} cols`);let n;this._initLinesCache();const a={startRow:r,startCol:o};if(n=this._findInLine(e,a,s),!n)for(let c=r+1;c<this._terminal.buffer.active.baseY+this._terminal.rows&&(a.startRow=c,a.startCol=0,n=this._findInLine(e,a,s),!n);c++);return n}_findNextAndSelect(e,r){var c;if(!this._terminal||!e||e.length===0)return(c=this._terminal)==null||c.clearSelection(),this.clearDecorations(),!1;const o=this._terminal.getSelectionPosition();this._terminal.clearSelection();let s=0,n=0;o&&(this._cachedSearchTerm===e?(s=o.end.x,n=o.end.y):(s=o.start.x,n=o.start.y)),this._initLinesCache();const a={startRow:n,startCol:s};let i=this._findInLine(e,a,r);if(!i)for(let _=n+1;_<this._terminal.buffer.active.baseY+this._terminal.rows&&(a.startRow=_,a.startCol=0,i=this._findInLine(e,a,r),!i);_++);if(!i&&n!==0)for(let _=0;_<n&&(a.startRow=_,a.startCol=0,i=this._findInLine(e,a,r),!i);_++);return!i&&o&&(a.startRow=o.start.y,a.startCol=0,i=this._findInLine(e,a,r)),this._selectResult(i,r==null?void 0:r.decorations,r==null?void 0:r.noScroll)}findPrevious(e,r){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const o=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,r);this._lastSearchOptions=r,r!=null&&r.decorations&&(this._cachedSearchTerm===void 0||e!==this._cachedSearchTerm||o)&&this._highlightAllMatches(e,r);const s=this._findPreviousAndSelect(e,r);return this._fireResults(r),this._cachedSearchTerm=e,s}_didOptionsChange(e,r){return!!r&&(e.caseSensitive!==r.caseSensitive||e.regex!==r.regex||e.wholeWord!==r.wholeWord)}_fireResults(e){if(e!=null&&e.decorations){let r=-1;if(this._selectedDecoration.value){const o=this._selectedDecoration.value.match;for(let s=0;s<this._highlightDecorations.length;s++){const n=this._highlightDecorations[s].match;if(n.row===o.row&&n.col===o.col&&n.size===o.size){r=s;break}}}this._onDidChangeResults.fire({resultIndex:r,resultCount:this._highlightDecorations.length})}}_findPreviousAndSelect(e,r){var _;if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!this._terminal||!e||e.length===0)return(_=this._terminal)==null||_.clearSelection(),this.clearDecorations(),!1;const o=this._terminal.getSelectionPosition();this._terminal.clearSelection();let s=this._terminal.buffer.active.baseY+this._terminal.rows-1,n=this._terminal.cols;const a=!0;this._initLinesCache();const i={startRow:s,startCol:n};let c;if(o&&(i.startRow=s=o.start.y,i.startCol=n=o.start.x,this._cachedSearchTerm!==e&&(c=this._findInLine(e,i,r,!1),c||(i.startRow=s=o.end.y,i.startCol=n=o.end.x))),c||(c=this._findInLine(e,i,r,a)),!c){i.startCol=Math.max(i.startCol,this._terminal.cols);for(let p=s-1;p>=0&&(i.startRow=p,c=this._findInLine(e,i,r,a),!c);p--);}if(!c&&s!==this._terminal.buffer.active.baseY+this._terminal.rows-1)for(let p=this._terminal.buffer.active.baseY+this._terminal.rows-1;p>=s&&(i.startRow=p,c=this._findInLine(e,i,r,a),!c);p--);return this._selectResult(c,r==null?void 0:r.decorations,r==null?void 0:r.noScroll)}_initLinesCache(){const e=this._terminal;this._linesCache||(this._linesCache=new Array(e.buffer.active.length),this._linesCacheDisposables.value=(0,f.getDisposeArrayDisposable)([e.onLineFeed(()=>this._destroyLinesCache()),e.onCursorMove(()=>this._destroyLinesCache()),e.onResize(()=>this._destroyLinesCache())])),window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=window.setTimeout(()=>this._destroyLinesCache(),15e3)}_destroyLinesCache(){this._linesCache=void 0,this._linesCacheDisposables.clear(),this._linesCacheTimeoutId&&(window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=0)}_isWholeWord(e,r,o){return(e===0||d.includes(r[e-1]))&&(e+o.length===r.length||d.includes(r[e+o.length]))}_findInLine(e,r,o={},s=!1){var R;const n=this._terminal,a=r.startRow,i=r.startCol,c=n.buffer.active.getLine(a);if(c!=null&&c.isWrapped)return s?void(r.startCol+=n.cols):(r.startRow--,r.startCol+=n.cols,this._findInLine(e,r,o));let _=(R=this._linesCache)==null?void 0:R[a];_||(_=this._translateBufferLineToStringWithWrap(a,!0),this._linesCache&&(this._linesCache[a]=_));const[p,v]=_,P=this._bufferColsToStringOffset(a,i),j=o.caseSensitive?e:e.toLowerCase(),K=o.caseSensitive?p:p.toLowerCase();let A=-1;if(o.regex){const O=RegExp(j,"g");let L;if(s)for(;L=O.exec(K.slice(0,P));)A=O.lastIndex-L[0].length,e=L[0],O.lastIndex-=e.length-1;else L=O.exec(K.slice(P)),L&&L[0].length>0&&(A=P+(O.lastIndex-L[0].length),e=L[0])}else s?P-j.length>=0&&(A=K.lastIndexOf(j,P-j.length)):A=K.indexOf(j,P);if(A>=0){if(o.wholeWord&&!this._isWholeWord(A,K,e))return;let O=0;for(;O<v.length-1&&A>=v[O+1];)O++;let L=O;for(;L<v.length-1&&A+e.length>=v[L+1];)L++;const C=A-v[O],V=A+e.length-v[L],S=this._stringLengthToBufferSize(a+O,C);return{term:e,col:S,row:a+O,size:this._stringLengthToBufferSize(a+L,V)-S+n.cols*(L-O)}}}_stringLengthToBufferSize(e,r){const o=this._terminal.buffer.active.getLine(e);if(!o)return 0;for(let s=0;s<r;s++){const n=o.getCell(s);if(!n)break;const a=n.getChars();a.length>1&&(r-=a.length-1);const i=o.getCell(s+1);i&&i.getWidth()===0&&r++}return r}_bufferColsToStringOffset(e,r){const o=this._terminal;let s=e,n=0,a=o.buffer.active.getLine(s);for(;r>0&&a;){for(let i=0;i<r&&i<o.cols;i++){const c=a.getCell(i);if(!c)break;c.getWidth()&&(n+=c.getCode()===0?1:c.getChars().length)}if(s++,a=o.buffer.active.getLine(s),a&&!a.isWrapped)break;r-=o.cols}return n}_translateBufferLineToStringWithWrap(e,r){var i;const o=this._terminal,s=[],n=[0];let a=o.buffer.active.getLine(e);for(;a;){const c=o.buffer.active.getLine(e+1),_=!!c&&c.isWrapped;let p=a.translateToString(!_&&r);if(_&&c){const v=a.getCell(a.length-1);v&&v.getCode()===0&&v.getWidth()===1&&((i=c.getCell(0))==null?void 0:i.getWidth())===2&&(p=p.slice(0,-1))}if(s.push(p),!_)break;n.push(n[n.length-1]+p.length),e++,a=c}return[s.join(""),n]}_selectResult(e,r,o){const s=this._terminal;if(this._selectedDecoration.clear(),!e)return s.clearSelection(),!1;if(s.select(e.col,e.row,e.size),r){const n=s.registerMarker(-s.buffer.active.baseY-s.buffer.active.cursorY+e.row);if(n){const a=s.registerDecoration({marker:n,x:e.col,width:e.size,backgroundColor:r.activeMatchBackground,layer:"top",overviewRulerOptions:{color:r.activeMatchColorOverviewRuler}});if(a){const i=[];i.push(n),i.push(a.onRender(c=>this._applyStyles(c,r.activeMatchBorder,!0))),i.push(a.onDispose(()=>(0,f.disposeArray)(i))),this._selectedDecoration.value={decoration:a,match:e,dispose(){a.dispose()}}}}}if(!o&&(e.row>=s.buffer.active.viewportY+s.rows||e.row<s.buffer.active.viewportY)){let n=e.row-s.buffer.active.viewportY;n-=Math.floor(s.rows/2),s.scrollLines(n)}return!0}_applyStyles(e,r,o){e.classList.contains("xterm-find-result-decoration")||(e.classList.add("xterm-find-result-decoration"),r&&(e.style.outline=`1px solid ${r}`)),o&&e.classList.add("xterm-find-active-result-decoration")}_createResultDecoration(e,r){const o=this._terminal,s=o.registerMarker(-o.buffer.active.baseY-o.buffer.active.cursorY+e.row);if(!s)return;const n=o.registerDecoration({marker:s,x:e.col,width:e.size,backgroundColor:r.matchBackground,overviewRulerOptions:this._highlightedLines.has(s.line)?void 0:{color:r.matchOverviewRuler,position:"center"}});if(n){const a=[];a.push(s),a.push(n.onRender(i=>this._applyStyles(i,r.matchBorder,!1))),a.push(n.onDispose(()=>(0,f.disposeArray)(a)))}return n}}M.SearchAddon=E})(),h})())}}]);
}());