"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3161],{81146:function(w,O,e){var j=e(97857),a=e.n(j),R=e(15009),_=e.n(R),l=e(99289),U=e.n(l),T=e(67294),Z=e(97269),I=e(62370),y=e(5966),v=e(97462),E=e(82346),o=e(71230),C=e(15746),n=e(34041),A=e(83622),P=e(84567),D=e(42075),u=e(80821),b=e(23430),B=e(93162),c=e.n(B),x=e(78267),s=e.n(x),m=e(75458),r=e.n(m),h=e(12323),L=e(4244),t=e.n(L),Q=e(24078),H=e(36146),i=e(85893),W,$,k,z={decorations:{matchBackground:"",matchBorder:"#FFFF00",activeMatchBackground:"#FFFF0066",matchOverviewRuler:"",activeMatchColorOverviewRuler:""}},X=(0,T.forwardRef)(function(K,Y){var S=(0,T.useRef)(),G=(0,E.useModel)("subscriber"),M=new H.Uo("components.containerLog");(0,T.useImperativeHandle)(Y,function(){return{fit:function(){W.clear(),k.fit()},start:function(){return U()(_()().mark(function d(){return _()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,V({lineTotal:500});case 2:case"end":return p.stop()}},d)}))()},close:function(){G.progress.close(K.id)}}});function V(g){return N.apply(this,arguments)}function N(){return N=U()(_()().mark(function g(d){return _()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:G.progress.close(K.id),W.clear(),d.download=!1,K.request(d);case 4:case"end":return p.stop()}},g)})),N.apply(this,arguments)}return(0,T.useEffect)(function(){return window.addEventListener("resize",function(){k.fit()}),W=new L.Terminal(a()(a()({},h.X),{},{fontSize:12,lineHeight:1.2,allowProposedApi:!0})),k=new x.FitAddon,$=new m.SearchAddon({}),W.loadAddon(k),W.loadAddon($),W.open(document.getElementById("terminal-container-log")),k.fit(),G.addDataHandler(K.id,function(g){W.write(g.data)}),function(){W.clear(),W.reset(),G.progress.close(K.id)}},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Z.A,{submitter:!1,layout:"horizontal",onFinish:function(d){var f;V({id:K.id,lineTotal:parseInt(d.lineTotal),showTime:(f=d.showTime)!==null&&f!==void 0?f:!1})},formRef:S,children:(0,i.jsxs)(o.Z,{gutter:[10,0],children:[(0,i.jsx)(C.Z,{span:8,children:(0,i.jsx)(I.Z,{name:"lineTotal",initialValue:"500",label:M.format("formLineTotal"),children:(0,i.jsxs)(n.Z,{defaultValue:"500",onChange:function(d){var f;(f=S.current)===null||f===void 0||f.submit()},children:[(0,i.jsx)(n.Z.Option,{value:"100",children:M.format("formLineTotalOption",{number:"100"})}),(0,i.jsx)(n.Z.Option,{value:"200",children:M.format("formLineTotalOption",{number:"200"})}),(0,i.jsx)(n.Z.Option,{value:"500",children:M.format("formLineTotalOption",{number:"500"})}),(0,i.jsx)(n.Z.Option,{value:"1000",children:M.format("formLineTotalOption",{number:"1000"})}),(0,i.jsx)(n.Z.Option,{value:"-1",children:M.format("formLineTotalOptionAll")})]})})}),(0,i.jsx)(C.Z,{children:(0,i.jsx)(A.ZP,{onClick:function(){W.clear()},children:M.format("clearButton")})}),(0,i.jsx)(C.Z,{children:(0,i.jsx)(I.Z,{name:"showTime",valuePropName:"checked",children:(0,i.jsx)(P.Z,{onChange:function(d){var f;(f=S.current)===null||f===void 0||f.submit()},children:M.format("formShowTime")})})}),(0,i.jsx)(C.Z,{children:(0,i.jsx)(y.Z,{label:M.format("formKeywork"),name:"keywork",fieldProps:{onPressEnter:function(){var d;$.findNext((d=S.current)===null||d===void 0?void 0:d.getFieldValue("keywork"),z)},onChange:function(d){$.findNext(d.target.value,z)}},placeholder:M.format("formKeyworkEmpty")})}),(0,i.jsx)(C.Z,{children:(0,i.jsx)(v.Z,{name:["keywork"],children:function(d){var f=d.keywork;return(0,i.jsxs)(D.Z,{size:10,children:[(0,i.jsx)(A.ZP,{onClick:function(){$.findNext(f,z)},children:M.format("formKeyworkNext")},"next"),(0,i.jsx)(A.ZP,{onClick:function(){$.findPrevious(f,z)},children:M.format("formKeyworkPrev")},"prev")]})}})}),(0,i.jsx)(C.Z,{children:(0,i.jsx)(u.Z,{buttonProps:{icon:(0,i.jsx)(b.Z,{})},action:U()(_()().mark(function g(){var d,f,p;return _()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(!K.download){F.next=5;break}return F.next=3,K.download({lineTotal:parseInt((d=S.current)===null||d===void 0?void 0:d.getFieldValue("lineTotal")),showTime:(f=S.current)===null||f===void 0?void 0:f.getFieldValue("showTime")});case 3:p=F.sent,(0,B.saveAs)(p.data,p.name);case 5:case"end":return F.stop()}},g)})),children:M.format("downloadButton")})})]})}),(0,i.jsx)("div",{style:{marginTop:"20px",height:K.showInDrawer?"75vh":"85vh"},id:"terminal-container-log"})]})});O.Z=X},37413:function(w,O,e){e.d(O,{Z:function(){return C}});var j=e(19632),a=e.n(j),R=e(36146),_=e(85577),l=e(58638),U=e(36693),T=e(35995),Z=e(99611),I=e(38345),y=e(42075),v=e(66309),E=e(55241),o=e(85893);function C(n){var A,P=new R.Uo("components.containerPort"),D=[];n.publicPort&&(D=a()(n.publicPort)),n.privatePort&&(D=[].concat(a()(D),a()(n.privatePort)));var u=(A=n.serverIp)!==null&&A!==void 0?A:"localhost";if(u!=""&&u.indexOf("http")===-1&&u.indexOf(":")>-1&&(u="[".concat(u,"]")),u==""||u=="127.0.0.1"){var b=document.location.protocol+"//"+document.location.hostname;u=b}var B=(0,o.jsxs)(I.Z,{direction:n.layout=="inline"?"row":"column",style:{width:n.layout!="inline"?600:"auto"},ghost:!0,children:[D.length>0&&(0,o.jsx)(I.Z,{title:(0,o.jsx)(_.Z,{}),subTitle:P.format("cardPortTitle"),ghost:n.ghost,bodyStyle:{maxHeight:300,overflow:"auto",margin:"10px 0"},children:D.map(function(c,x){var s;return u==""&&c.IP&&(u=c.IP),(0,o.jsx)(y.Z,{size:"large",wrap:!0,children:(0,o.jsx)(v.Z,{color:c.PublicPort?"blue":"yellow",icon:c.PublicPort?(0,o.jsx)(l.Z,{}):"",style:{marginBottom:10,marginRight:15},children:c.PublicPort?(0,o.jsx)("a",{href:"".concat(u.indexOf("http")===0?u:"http://"+u,":").concat(c.PublicPort),target:"_blank",children:"".concat(c.PublicPort?((s=c.IP)!==null&&s!==void 0?s:"0.0.0.0")+":"+c.PublicPort+" -> ":"").concat(c.PrivatePort,"/").concat(c.Type)},"link".concat(x)):"".concat(c.PrivatePort,"/").concat(c.Type)})},"space".concat(x))})}),n.domain&&n.domain.length>0&&(0,o.jsx)(I.Z,{title:(0,o.jsx)(U.Z,{}),subTitle:P.format("cardDomainTitle"),ghost:n.ghost,children:(0,o.jsx)(y.Z,{wrap:!0,style:{textAlign:"left"},children:n.domain&&n.domain.map(function(c,x){return(0,o.jsx)(v.Z,{color:"blue",icon:(0,o.jsx)(l.Z,{}),children:(0,o.jsx)("a",{href:c,target:"_blank",children:c})},"domain".concat(x))})})})]});return n.showInDetail?B:(0,o.jsx)(E.Z,{placement:"right",content:B,children:(0,o.jsxs)(y.Z,{direction:"vertical",children:[n.privatePort&&n.privatePort.length>0&&(0,o.jsxs)(v.Z,{color:"yellow",icon:(0,o.jsx)(T.Z,{}),children:[P.format("portPrivate"),": ",n.privatePort.length]}),n.publicPort&&n.publicPort.length>0&&(0,o.jsxs)(v.Z,{color:"blue",icon:(0,o.jsx)(Z.Z,{}),children:[P.format("protPublic"),": ",n.publicPort.length]}),n.domain&&n.domain.length>0&&(0,o.jsx)(v.Z,{color:"geekblue",icon:(0,o.jsx)(U.Z,{}),children:n.domainTitle?n.domainTitle:"".concat(P.format("domain"),": ").concat(n.domain.length)})]})})}},94359:function(w,O,e){e.d(O,{Z:function(){return A}});var j=e(5574),a=e.n(j),R=e(3089),_=e(98165),l=e(18429),U=e(8751),T=e(66212),Z=e(14313),I=e(30159),y=e(87740),v=e(50888),E=e(66309),o=e(83062),C=e(36146),n=e(85893);function A(P){var D,u,b=new C.Uo("components.containerStatus"),B=P.status.split("."),c=a()(B,2),x=c[0],s=c[1],m="";m=b.format(P.status,(D=P.statusValue)!==null&&D!==void 0?D:{});var r=(0,n.jsx)(n.Fragment,{});return s=="0"&&(r=(0,n.jsx)(E.Z,{icon:(0,n.jsx)(R.Z,{}),color:"default",children:m})),s=="10"&&(r=(0,n.jsx)(E.Z,{icon:(0,n.jsx)(_.Z,{spin:!0}),color:"processing",children:m})),s=="20"&&(r=(0,n.jsx)(E.Z,{icon:(0,n.jsx)(l.Z,{}),color:"error",children:m})),s=="30"&&(r=(0,n.jsx)(E.Z,{icon:(0,n.jsx)(U.Z,{}),color:"success",children:m})),s=="new"&&(r=(0,n.jsx)(E.Z,{icon:(0,n.jsx)(T.Z,{}),children:m})),(s=="running"||s=="healthy"||s=="active"||s=="ready")&&(r=(0,n.jsx)(E.Z,{icon:(0,n.jsx)(Z.Z,{}),color:"success",children:m})),(s=="paused"||s=="pause"||s=="rollback_paused")&&(r=(0,n.jsx)(E.Z,{icon:(0,n.jsx)(I.Z,{}),color:"warning",children:m})),(s=="waiting"||s=="starting"||s=="accepted")&&(r=(0,n.jsx)(E.Z,{icon:(0,n.jsx)(y.Z,{}),children:m})),["deploying","pending","allocated","accepted","assigned","preparing","updating","rollback_started"].includes(s)&&(r=(0,n.jsx)(E.Z,{icon:(0,n.jsx)(v.Z,{}),color:"processing",children:m})),(s=="error"||s=="down"||s=="failed")&&(r=(0,n.jsx)(E.Z,{icon:(0,n.jsx)(l.Z,{}),color:"error",children:m})),["complete","completed","rollback_completed"].includes(s)&&(r=(0,n.jsx)(E.Z,{icon:(0,n.jsx)(U.Z,{}),color:"success",children:m})),["exited","dead","removing","restarting","unhealthy","created","drain","unreachable","shutdown","rejected","remove","orphaned"].includes(s)&&(r=(0,n.jsx)(E.Z,{icon:(0,n.jsx)(l.Z,{}),color:"warning",children:m})),(0,n.jsx)(o.Z,{placement:"top",title:(u=P.tip)!==null&&u!==void 0?u:"",children:r})}},76428:function(w,O,e){e.d(O,{Z:function(){return _}});var j=e(25593),a=e(67294),R=e(85893);function _(l){return(0,R.jsx)(j.Z.Text,{copyable:!0,children:l.title})}},78451:function(w,O,e){e.d(O,{Z:function(){return R}});var j=e(67294),a=e(85893);function R(_){var l;return(0,a.jsx)("span",{style:{width:_.width?_.width:"auto",wordBreak:"break-word"},children:(l=_.content)!==null&&l!==void 0?l:_.children})}},12323:function(w,O,e){e.d(O,{X:function(){return j},n:function(){return a}});var j={convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,lineHeight:1,cursorStyle:"block",cursorInactiveStyle:"outline",cursorBlink:!0,letterSpacing:0,theme:{foreground:"#bfbfbf",cursor:"gray",selectionForeground:"#ffffff"}},a=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"]},73813:function(w,O,e){e.d(O,{Ck:function(){return U},Fj:function(){return A},GH:function(){return Z},KG:function(){return E},Rb:function(){return b},Xz:function(){return y},YU:function(){return D},ZQ:function(){return c},ao:function(){return C},cD:function(){return s}});var j=e(15009),a=e.n(j),R=e(99289),_=e.n(R),l=e(82346);function U(r){return T.apply(this,arguments)}function T(){return T=_()(a()().mark(function r(h){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/app/image/import-by-container-tar",{method:"POST",data:h}));case 1:case"end":return t.stop()}},r)})),T.apply(this,arguments)}function Z(r){return I.apply(this,arguments)}function I(){return I=_()(a()().mark(function r(h){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/app/image/import-by-image-tar",{method:"POST",data:h}));case 1:case"end":return t.stop()}},r)})),I.apply(this,arguments)}function y(r){return v.apply(this,arguments)}function v(){return v=_()(a()().mark(function r(h){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.request)("/api/app/image/prune",{method:"POST"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},r)})),v.apply(this,arguments)}function E(r){return o.apply(this,arguments)}function o(){return o=_()(a()().mark(function r(h){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/app/image/get-list",{method:"POST",data:h}));case 1:case"end":return t.stop()}},r)})),o.apply(this,arguments)}function C(r){return n.apply(this,arguments)}function n(){return n=_()(a()().mark(function r(h){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.request)("/api/app/image/delete",{method:"POST",data:h});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},r)})),n.apply(this,arguments)}function A(r){return P.apply(this,arguments)}function P(){return P=_()(a()().mark(function r(h){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.request)("/api/app/image/update-title",{method:"POST",data:h});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},r)})),P.apply(this,arguments)}function D(r){return u.apply(this,arguments)}function u(){return u=_()(a()().mark(function r(h){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/app/image/get-detail",{method:"POST",data:h}));case 1:case"end":return t.stop()}},r)})),u.apply(this,arguments)}function b(r){return B.apply(this,arguments)}function B(){return B=_()(a()().mark(function r(h){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/app/image/export",{method:"POST",data:h,responseType:"blob"}));case 1:case"end":return t.stop()}},r)})),B.apply(this,arguments)}function c(r){return x.apply(this,arguments)}function x(){return x=_()(a()().mark(function r(h){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/app/image/check-upgrade",{method:"POST",data:h}));case 1:case"end":return t.stop()}},r)})),x.apply(this,arguments)}function s(r){return m.apply(this,arguments)}function m(){return m=_()(a()().mark(function r(h){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/pro/image/get-rootfs",{method:"POST",data:h}));case 1:case"end":return t.stop()}},r)})),m.apply(this,arguments)}}}]);
