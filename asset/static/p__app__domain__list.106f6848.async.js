"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7750],{64789:function(xe,ie,e){e.d(ie,{Z:function(){return Z}});var p=e(87462),a=e(67294),de={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},S=de,R=e(84089),K=function(ee,T){return a.createElement(R.Z,(0,p.Z)({},ee,{ref:T,icon:S}))},X=a.forwardRef(K),Z=X},92067:function(xe,ie,e){e.d(ie,{Z:function(){return f}});var p=e(15009),a=e.n(p),de=e(99289),S=e.n(de),R=e(13822),K=e(64789),X=e(56729),Z=e(42075),Q=e(83062),ee=e(83622),T=e(37413),fe=e(5251),c=e(36146),F=e(85893);function f(le){return(0,F.jsx)(X.Z,{columns:[{title:c.FD.format("listContainerName"),dataIndex:"name",render:function($,l,ce,J){return(0,F.jsx)(Z.Z,{direction:"vertical",style:{textAlign:"left"},children:l==null?void 0:l.Names.map(function(d){return(0,fe.fi)(d,"/")})},l.Id)}},{title:c.FD.format("listPort"),dataIndex:"ports",search:!1,render:function($,l,ce,J){var d=[],M=[];return l!=null&&l.Ports&&l.Ports.map(function(i,P){i.PublicPort?d.push(i):M.push(i)}),(0,F.jsx)(T.Z,{publicPort:d,privatePort:M,domain:[]})}},{title:c.FD.format("listManage"),valueType:"option",key:"option",ellipsis:!0,width:100,render:function($,l,ce,J){return[(0,F.jsx)(Q.Z,{title:c.FD.format("listManageUse"),children:(0,F.jsx)(ee.ZP,{type:"link",onClick:S()(a()().mark(function d(){var M;return a()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,R.jV)({md5:l.Id});case 2:M=P.sent,le.onSelect&&le.onSelect(M.data.info);case 4:case"end":return P.stop()}},d)})),children:(0,F.jsx)(K.Z,{})},l.Id)},l.Id)]}}],rowKey:"Id",request:function(){var D=S()(a()().mark(function $(l,ce,J){var d;return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,R.IE)({siteTitle:l.name});case 2:return d=i.sent,i.abrupt("return",{data:d.data.list,success:!0,total:d.data.list.length});case 4:case"end":return i.stop()}},$)}));return function($,l,ce){return D.apply(this,arguments)}}(),pagination:{pageSize:9}})}},37413:function(xe,ie,e){e.d(ie,{Z:function(){return F}});var p=e(19632),a=e.n(p),de=e(36146),S=e(85577),R=e(58638),K=e(36693),X=e(35995),Z=e(99611),Q=e(38345),ee=e(42075),T=e(66309),fe=e(55241),c=e(85893);function F(f){var le,D=new de.Uo("components.containerPort"),$=[];f.publicPort&&($=a()(f.publicPort)),f.privatePort&&($=[].concat(a()($),a()(f.privatePort)));var l=(le=f.serverIp)!==null&&le!==void 0?le:"localhost";if(l!=""&&l.indexOf("http")===-1&&l.indexOf(":")>-1&&(l="[".concat(l,"]")),l==""||l=="127.0.0.1"){var ce=document.location.protocol+"//"+document.location.hostname;l=ce}var J=(0,c.jsxs)(Q.Z,{direction:f.layout=="inline"?"row":"column",style:{width:f.layout!="inline"?750:"auto"},ghost:!0,children:[$.length>0&&(0,c.jsx)(Q.Z,{title:(0,c.jsx)(S.Z,{}),subTitle:D.format("cardPortTitle"),ghost:f.ghost,bodyStyle:{maxHeight:300,overflow:"auto",margin:"10px 0"},children:$.map(function(d,M){return l==""&&(l=d.IP),(0,c.jsx)(ee.Z,{size:"large",wrap:!0,children:(0,c.jsx)(T.Z,{color:d.PublicPort?"#2db7f5":"warning",icon:d.PublicPort?(0,c.jsx)(R.Z,{}):"",style:{marginBottom:10,marginRight:15},children:d.PublicPort?(0,c.jsx)("a",{href:"".concat(l.indexOf("http")===0?l:"http://"+l,":").concat(d.PublicPort),target:"_blank",children:"".concat(d.PublicPort?d.IP+":"+d.PublicPort+" -> ":"").concat(d.PrivatePort,"/").concat(d.Type)},"link".concat(M)):"".concat(d.PrivatePort,"/").concat(d.Type)})},"space".concat(M))})}),f.domain&&f.domain.length>0&&(0,c.jsx)(Q.Z,{title:(0,c.jsx)(K.Z,{}),subTitle:D.format("cardDomainTitle"),ghost:f.ghost,children:(0,c.jsx)(ee.Z,{wrap:!0,style:{textAlign:"left"},children:f.domain&&f.domain.map(function(d,M){return(0,c.jsx)(T.Z,{color:"blue",icon:(0,c.jsx)(R.Z,{}),children:(0,c.jsx)("a",{href:d,target:"_blank",children:d})},"domain".concat(M))})})})]});return f.showInDetail?J:(0,c.jsx)(fe.Z,{placement:"bottom",content:J,children:(0,c.jsxs)(ee.Z,{direction:"vertical",children:[f.privatePort&&f.privatePort.length>0&&(0,c.jsxs)(T.Z,{color:"warning",icon:(0,c.jsx)(X.Z,{}),children:[D.format("portPrivate"),": ",f.privatePort.length]}),f.publicPort&&f.publicPort.length>0&&(0,c.jsxs)(T.Z,{color:"#2db7f5",icon:(0,c.jsx)(Z.Z,{}),children:[D.format("protPublic"),": ",f.publicPort.length]}),f.domain&&f.domain.length>0&&(0,c.jsx)(T.Z,{color:"blue",icon:(0,c.jsx)(K.Z,{}),children:f.domainTitle?f.domainTitle:"".concat(D.format("domain"),": ").concat(f.domain.length)})]})})}},96668:function(xe,ie,e){e.r(ie),e.d(ie,{default:function(){return pe}});var p=e(15009),a=e.n(p),de=e(99289),S=e.n(de),R=e(5574),K=e.n(R),X=e(1699),Z=e(66554),Q=e(184),ee=e(24739),T=e(97462),fe=e(5966),c=e(62370),F=e(64317),f=e(86615),le=e(31199),D=e(52688),$=e(11106),l=e(83622),ce=e(92398),J=e(84567),d=e(42075),M=e(66309),i=e(85265),P=e(71230),B=e(15746),o=e(40056),ne=e(67294),be=e(92067),Oe=e(74026),Pe=e(3616),Y=e(36146),n=e(85893),Ie=(0,ne.forwardRef)(function(b,_){var k=(0,ne.useState)(!1),O=K()(k,2),ae=O[0],q=O[1],H=(0,ne.useRef)(),ve=(0,ne.useState)(),A=K()(ve,2),v=A[0],s=A[1],oe=(0,ne.useState)(!1),N=K()(oe,2),I=N[0],h=N[1],L=(0,ne.useState)(1),Ee=K()(L,2),se=Ee[0],y=Ee[1],E=new Y.Uo("components.appDomain");return(0,ne.useImperativeHandle)(_,function(){return{showEdit:function(C){return S()(a()().mark(function g(){var w,he,j;return a()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(0,Z.lQ)({id:C});case 2:he=V.sent,j=he.data,(w=H.current)===null||w===void 0||w.setFieldsValue({containerId:j.domain.containerId,serverName:j.domain.serverName,serverNameAlias:j.domain.setting.serverNameAlias,protocol:j.domain.setting.serverProtocol,port:j.domain.setting.port,enableBlockCommonExploits:j.domain.setting.enableBlockCommonExploits,enableAssetCache:j.domain.setting.enableAssetCache,enableWs:j.domain.setting.enableWs,extraNginx:j.domain.setting.extraNginx,enableSSL:j.domain.setting.enableSSL,certName:j.domain.setting.certName,vhost:j.vhost,hostname:j.domain.setting.serverAddress}),s(j),q(!0);case 7:case"end":return V.stop()}},g)}))()}}}),(0,n.jsx)(Q.a,{drawerProps:{forceRender:!0,width:Pe.R_},open:ae,onOpenChange:function(C){q(C)},title:E.format("createTitle"),trigger:(0,n.jsx)(l.ZP,{onClick:function(){var C;s(void 0),(C=H.current)===null||C===void 0||C.resetFields()},type:"primary",children:E.format("createTriggerButton")}),formRef:H,onFinish:function(){var W=S()(a()().mark(function C(g){var w,he,j,ge,V;return a()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(!g.vhost){G.next=8;break}return G.next=3,(0,Z.Ss)({id:v&&(v==null?void 0:v.domain.id)>0?v.domain.id:0,vhost:g.vhost});case 3:return he=G.sent,G.next=6,(0,Z.hZ)();case 6:G.next=11;break;case 8:return G.next=10,(0,Z.Fj)({id:v&&(v==null?void 0:v.domain.id)>0?v.domain.id:0,containerId:g.containerId,serverName:g.serverName,serverNameAlias:g.serverNameAlias,hostname:g.hostname,protocol:(j=g.protocol)!==null&&j!==void 0?j:"http",port:parseInt((ge=g.port)!==null&&ge!==void 0?ge:"80"),enableBlockCommonExploits:g.enableBlockCommonExploits,enableAssetCache:g.enableAssetCache,enableWs:g.enableWs,enableSSL:g.enableSSL,extraNginx:g.extraNginx,certName:g.certName});case 10:V=G.sent;case 11:return(w=H.current)===null||w===void 0||w.resetFields(),b.onFinish(),G.abrupt("return",!0);case 14:case"end":return G.stop()}},C)}));return function(C){return W.apply(this,arguments)}}(),children:(0,n.jsx)(ce.Z,{items:[{key:"1",label:E.format("createTabDomain"),destroyInactiveTabPane:!0,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(ee.UW,{children:[(0,n.jsx)(T.Z,{name:["enableSSL"],children:function(C){var g=C.enableSSL;return(0,n.jsx)(fe.Z,{width:"lg",label:E.format("createFormServerName"),tooltip:E.format("createFormServerNameTip"),name:"serverName",placeholder:"www.explame.com, demo.com:8807",rules:[{required:!0}],fieldProps:{addonBefore:g?"https://":"http://"},disabled:v&&v.domain.id>0})}}),(0,n.jsx)(c.Z,{label:" ",valuePropName:"checked",name:"enableSSL",children:(0,n.jsx)(J.Z,{children:"Https?"})})]}),(0,n.jsx)(F.Z,{label:E.format("createFormServerNameAlises"),name:"serverNameAlias",mode:"tags",placeholder:E.format("createFormServerNameAlisesEmpty")}),(0,n.jsx)(T.Z,{name:["enableSSL","serverName"],children:function(C){var g=C.enableSSL,w=C.serverName;if(g)return(0,n.jsxs)(d.Z.Compact,{children:[(0,n.jsx)(F.Z,{label:E.format("createCertName"),width:"lg",name:"certName",fieldProps:{labelRender:function(j){return j.value}},required:!0,rules:[{required:!0}],request:S()(a()().mark(function he(){var j;return a()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(0,Z.dZ)();case 2:return j=V.sent,V.abrupt("return",j.data&&j.data.list.map(function(je,G){return{label:(0,n.jsx)(d.Z,{wrap:!0,children:je.domain.map(function(me,Ce){return(0,n.jsx)(M.Z,{children:me})})},G),value:"".concat(je.domain[0])}}));case 4:case"end":return V.stop()}},he)}))},se),(0,n.jsx)(c.Z,{label:" ",children:(0,n.jsx)(Oe.Z,{domain:w?[w]:[],onFinish:function(){y(se+1)}})})]})}}),(0,n.jsx)(f.Z.Group,{label:E.format("createFormType"),name:"type",initialValue:"proxy",options:E.option("createFormTypeOption",["proxy","redirect"])}),(0,n.jsxs)(d.Z.Compact,{children:[(0,n.jsx)(F.Z,{label:E.format("createFormProtocol"),tooltip:E.format("createFormProtocolTip"),initialValue:"http",name:"protocol",fieldProps:{allowClear:!1},valueEnum:{http:"http",https:"https"}}),(0,n.jsx)(T.Z,{name:["containerId"],children:function(C){var g=C.containerId;return(0,n.jsx)(fe.Z,{width:"lg",label:" ",name:"hostname",placeholder:E.format("createFormHostnameEmpty"),required:!0,disabled:g,rules:[{required:!0}]})}}),(0,n.jsx)(c.Z,{label:" ",name:"containerId",children:(0,n.jsx)(l.ZP,{type:"primary",onClick:function(){h(!0)},children:E.format("createSelectContainer")})}),(0,n.jsx)(c.Z,{label:" ",name:"containerId",children:(0,n.jsx)(l.ZP,{onClick:function(){var C,g;(C=H.current)===null||C===void 0||C.setFieldValue("containerId",""),(g=H.current)===null||g===void 0||g.setFieldValue("hostname","")},children:E.format("createUser")})}),(0,n.jsx)(i.Z,{open:I,width:Pe.R_,onClose:function(){return h(!1)},children:(0,n.jsx)(be.Z,{onSelect:function(C){var g,w;(g=H.current)===null||g===void 0||g.setFieldValue("hostname",C.Name),(w=H.current)===null||w===void 0||w.setFieldValue("containerId",C.Id),h(!1)}})})]}),(0,n.jsx)(le.Z,{label:E.format("createFormPort"),name:"port",placeholder:E.format("createFormPortEmpty")}),(0,n.jsxs)(P.Z,{children:[(0,n.jsx)(B.Z,{span:12,children:(0,n.jsx)(D.Z,{label:E.format("createFormEnableBlockCommonExploits"),name:"enableBlockCommonExploits"})}),(0,n.jsx)(B.Z,{children:(0,n.jsx)(D.Z,{width:"md",label:E.format("createFormEnableAssetCache"),name:"enableAssetCache"})})]}),(0,n.jsx)(P.Z,{children:(0,n.jsx)(B.Z,{span:12,children:(0,n.jsx)(D.Z,{label:E.format("createFormEnableWs"),name:"enableWs",initialValue:!0})})}),(0,n.jsx)(c.Z,{name:"extraNginx",label:E.format("createFormExtraNginx"),children:(0,n.jsx)($.ZP,{height:"300px",theme:"dark",style:{backgroundColor:"#282c34"}})})]})},{key:"3",label:"vhost.conf",destroyInactiveTabPane:!0,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{message:E.format("createVhostTip"),showIcon:!0}),(0,n.jsx)(c.Z,{name:"vhost",label:" ",children:(0,n.jsx)($.ZP,{height:"600px",theme:"dark",style:{backgroundColor:"#282c34"},onChange:function(){}})})]})}]})})}),Ze=Ie,Re=e(5251),ye=e(83062),Se=e(38703);function De(b){var _,k=0;if(b.sslCrtCreatedAt&&b.sslCrtRenewAt){var O,ae,q=new Date,H=new Date((O=b.sslCrtRenewAt)!==null&&O!==void 0?O:""),ve=new Date((ae=b.sslCrtCreatedAt)!==null&&ae!==void 0?ae:""),A=Math.ceil((H.getTime()-ve.getTime())/86400/1e3),v=Math.ceil((q.getTime()-ve.getTime())/86400/1e3);k=Math.min(Math.ceil(v/A*100),100)}return b.certName?(0,n.jsx)(ye.Z,{placement:"right",title:"".concat(Y.FD.format("listExpireAt"),": ").concat((0,Re.NF)((_=b.sslCrtRenewAt)!==null&&_!==void 0?_:"")),children:(0,n.jsx)(M.Z,{icon:(0,n.jsxs)(d.Z,{children:[(0,n.jsx)(Se.Z,{type:"circle",percent:k,status:k==100?"exception":"active",strokeWidth:20,size:14}),(0,n.jsx)("span",{})]}),children:b.certName})}):"-"}var t=e(80821),r=e(37413),u=e(67255),m=e(86548),x=e(90078),U=e(56729),z=e(82346),te=e(96074),ue=e(25593),re=e(50136);function pe(){var b=(0,ne.useRef)(),_=(0,ne.useRef)(),k=(0,ne.useState)({}),O=K()(k,2),ae=O[0],q=O[1],H=(0,z.useAccess)(),ve=new Y.Uo("app");return(0,n.jsx)(x._z,{extra:[(0,n.jsx)(X.u,{access:"canSeeContainerDomainManage",children:(0,n.jsx)(Ze,{ref:_,onFinish:S()(a()().mark(function A(){var v,s;return a()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return!((v=b.current)===null||v===void 0)&&v.reloadAndRest&&((s=b.current)===null||s===void 0||s.reloadAndRest()),N.next=3,(0,Z.hZ)();case 3:case"end":return N.stop()}},A)}))},"addDomain")},"addDomain"),(0,n.jsx)(X.u,{access:"canSeeContainerDomainManage",children:(0,n.jsx)(t.Z,{tips:ve.format("domainRestartNginxTip"),action:S()(a()().mark(function A(){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,Z.hZ)();case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},A)})),children:ve.format("domainRestartNginx")},"nginx")},"nginx")],children:(0,n.jsx)(U.Z,{scroll:{x:"max-content"},rowKey:"id",actionRef:b,columns:[{title:Y.FD.format("listDomain"),dataIndex:"serverName",render:function(v,s,oe,N,I){var h=[];return s.serverName&&h.push(s.setting.enableSSL?"https://"+s.serverName:"http://"+s.serverName),s.setting.serverNameAlias&&s.setting.serverNameAlias.map(function(L){h.push(s.setting.enableSSL?"https://"+L:"http://"+L)}),(0,n.jsx)(r.Z,{domain:h,domainTitle:"".concat(s.serverName," (").concat(h.length,")")})}},{title:Y.FD.format("listTargetAddress"),search:!1,render:function(v,s,oe,N,I){return"".concat(s.setting.serverAddress,":").concat(s.setting.port)}},{title:Y.FD.format("listCert"),search:!0,dataIndex:"certName",width:300,valueEnum:ae,render:function(v,s,oe,N,I){return s.setting.enableSSL?(0,n.jsx)(De,{certName:s.setting.certName,sslCrtRenewAt:s.setting.sslCrtRenewAt,sslCrtCreatedAt:s.setting.sslCrtCreatedAt}):"-"}},{title:Y.FD.format("listCreatedAt"),search:!1,width:180,ellipsis:!0,dataIndex:"createdAt",render:function(v,s,oe,N,I){return new Date(s.createdAt).toLocaleString()}},{title:Y.FD.format("listManage"),key:"option",width:50,search:!1,fixed:"right",hidden:!H.canSeeContainerDomainManage,render:function(v,s,oe,N){return(0,n.jsx)(d.Z,{split:(0,n.jsx)(te.Z,{type:"vertical"}),children:(0,n.jsx)(ue.Z.Link,{onClick:function(){var h;return(h=_.current)===null||h===void 0||h.showEdit(s.id),!0},children:(0,n.jsx)(ye.Z,{title:Y.FD.format("listManageEdit"),children:(0,n.jsx)(m.Z,{})})},"edit")})}}],request:function(){var A=S()(a()().mark(function v(s,oe,N){var I,h,L;return a()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,(0,Z.i7)({serverName:s.serverName,certName:s.certName});case 2:return I=se.sent,se.next=5,(0,Z.dZ)();case 5:return h=se.sent,L={},I.data.list.map(function(y){y.setting.certName&&typeof y.setting.certName=="string"&&(L[y.setting.certName]=y.setting.certName)}),q(L),se.abrupt("return",{data:I.data.list&&I.data.list.map(function(y){if(h&&h.data.list){var E,W;y.setting.sslCrtCreatedAt=(E=h.data.list.find(function(C){return C.domain[0]==y.setting.certName}))===null||E===void 0?void 0:E.createdAt,y.setting.sslCrtRenewAt=(W=h.data.list.find(function(C){return C.domain[0]==y.setting.certName}))===null||W===void 0?void 0:W.renewAt}return y}),success:!0,total:I.data.list.length});case 10:case"end":return se.stop()}},v)}));return function(v,s,oe){return A.apply(this,arguments)}}(),rowSelection:H.canSeeContainerDomainManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,tableAlertOptionRender:function(v){var s=v.selectedRowKeys,oe=v.selectedRows;return(0,n.jsx)(d.Z,{size:16,children:(0,n.jsx)(t.Z,{danger:!0,confirm:"notification.confirm.title",type:"primary",action:S()(a()().mark(function N(){var I;return a()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,(0,Z.dj)({id:s});case 2:return I=L.sent,L.next=5,(0,Z.hZ)();case 5:return L.abrupt("return",I);case 6:case"end":return L.stop()}},N)})),onSuccess:function(){var I,h;return!((I=b.current)===null||I===void 0)&&I.reloadAndRest&&((h=b.current)===null||h===void 0||h.reloadAndRest()),!0},onError:function(){var I,h;return!((I=b.current)===null||I===void 0)&&I.reset&&((h=b.current)===null||h===void 0||h.reset()),!0},children:Y.FD.format("listManageDeleteBatch")})})},tableExtraRender:function(){return(0,n.jsx)(re.Z,{mode:"horizontal",selectedKeys:["domain"],items:[{label:(0,n.jsx)(z.Link,{to:"/app/domain/list",replace:!0,children:Y.Ob.format("container.domain.list")}),key:"domain"},{label:(0,n.jsx)(z.Link,{to:"/app/domain/cert",replace:!0,children:Y.Ob.format("container.domain.cert")}),key:"cert"}]})},pagination:(0,u.O)()})})}},13822:function(xe,ie,e){e.d(ie,{IE:function(){return Z},IW:function(){return K},KK:function(){return F},LJ:function(){return le},RF:function(){return ce},Re:function(){return $},aF:function(){return d},eE:function(){return fe},jV:function(){return ee}});var p=e(15009),a=e.n(p),de=e(99289),S=e.n(de),R=e(82346);function K(i){return X.apply(this,arguments)}function X(){return X=S()(a()().mark(function i(P){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,R.request)("/api/app/container/status",{method:"POST",data:P}));case 1:case"end":return o.stop()}},i)})),X.apply(this,arguments)}function Z(i){return Q.apply(this,arguments)}function Q(){return Q=S()(a()().mark(function i(P){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,R.request)("/api/app/container/get-list",{data:P,method:"POST"}));case 1:case"end":return o.stop()}},i)})),Q.apply(this,arguments)}function ee(i){return T.apply(this,arguments)}function T(){return T=S()(a()().mark(function i(P){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,R.request)("/api/app/container/get-detail",{data:P,method:"POST"}));case 1:case"end":return o.stop()}},i)})),T.apply(this,arguments)}function fe(i){return c.apply(this,arguments)}function c(){return c=S()(a()().mark(function i(P){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,R.request)("/api/app/container/update",{data:P,method:"POST"}));case 1:case"end":return o.stop()}},i)})),c.apply(this,arguments)}function F(){return f.apply(this,arguments)}function f(){return f=S()(a()().mark(function i(){return a()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.abrupt("return",(0,R.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return B.stop()}},i)})),f.apply(this,arguments)}function le(i){return D.apply(this,arguments)}function D(){return D=S()(a()().mark(function i(P){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,R.request)("/api/app/container/export",{method:"POST",data:P,responseType:"blob"}));case 1:case"end":return o.stop()}},i)})),D.apply(this,arguments)}function $(i){return l.apply(this,arguments)}function l(){return l=S()(a()().mark(function i(P){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,R.request)("/api/app/container/commit",{method:"POST",data:P}));case 1:case"end":return o.stop()}},i)})),l.apply(this,arguments)}function ce(i){return J.apply(this,arguments)}function J(){return J=S()(a()().mark(function i(P){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,R.request)("/api/app/container/upgrade",{method:"POST",data:P}));case 1:case"end":return o.stop()}},i)})),J.apply(this,arguments)}function d(i){return M.apply(this,arguments)}function M(){return M=S()(a()().mark(function i(P){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,R.request)("/api/app/container/copy",{method:"POST",data:P}));case 1:case"end":return o.stop()}},i)})),M.apply(this,arguments)}},40056:function(xe,ie,e){e.d(ie,{Z:function(){return De}});var p=e(67294),a=e(89739),de=e(4340),S=e(97937),R=e(21640),K=e(78860),X=e(93967),Z=e.n(X),Q=e(29372),ee=e(64217),T=e(42550),fe=e(96159),c=e(53124),F=e(11568),f=e(14747),le=e(83559);const D=(t,r,u,m,x)=>({background:t,border:`${(0,F.bf)(m.lineWidth)} ${m.lineType} ${r}`,[`${x}-icon`]:{color:u}}),$=t=>{const{componentCls:r,motionDurationSlow:u,marginXS:m,marginSM:x,fontSize:U,fontSizeLG:z,lineHeight:te,borderRadiusLG:ue,motionEaseInOutCirc:re,withDescriptionIconSize:pe,colorText:b,colorTextHeading:_,withDescriptionPadding:k,defaultPadding:O}=t;return{[r]:Object.assign(Object.assign({},(0,f.Wf)(t)),{position:"relative",display:"flex",alignItems:"center",padding:O,wordWrap:"break-word",borderRadius:ue,[`&${r}-rtl`]:{direction:"rtl"},[`${r}-content`]:{flex:1,minWidth:0},[`${r}-icon`]:{marginInlineEnd:m,lineHeight:0},"&-description":{display:"none",fontSize:U,lineHeight:te},"&-message":{color:_},[`&${r}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${u} ${re}, opacity ${u} ${re},
        padding-top ${u} ${re}, padding-bottom ${u} ${re},
        margin-bottom ${u} ${re}`},[`&${r}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${r}-with-description`]:{alignItems:"flex-start",padding:k,[`${r}-icon`]:{marginInlineEnd:x,fontSize:pe,lineHeight:0},[`${r}-message`]:{display:"block",marginBottom:m,color:_,fontSize:z},[`${r}-description`]:{display:"block",color:b}},[`${r}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},l=t=>{const{componentCls:r,colorSuccess:u,colorSuccessBorder:m,colorSuccessBg:x,colorWarning:U,colorWarningBorder:z,colorWarningBg:te,colorError:ue,colorErrorBorder:re,colorErrorBg:pe,colorInfo:b,colorInfoBorder:_,colorInfoBg:k}=t;return{[r]:{"&-success":D(x,m,u,t,r),"&-info":D(k,_,b,t,r),"&-warning":D(te,z,U,t,r),"&-error":Object.assign(Object.assign({},D(pe,re,ue,t,r)),{[`${r}-description > pre`]:{margin:0,padding:0}})}}},ce=t=>{const{componentCls:r,iconCls:u,motionDurationMid:m,marginXS:x,fontSizeIcon:U,colorIcon:z,colorIconHover:te}=t;return{[r]:{"&-action":{marginInlineStart:x},[`${r}-close-icon`]:{marginInlineStart:x,padding:0,overflow:"hidden",fontSize:U,lineHeight:(0,F.bf)(U),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${u}-close`]:{color:z,transition:`color ${m}`,"&:hover":{color:te}}},"&-close-text":{color:z,transition:`color ${m}`,"&:hover":{color:te}}}}},J=t=>({withDescriptionIconSize:t.fontSizeHeading3,defaultPadding:`${t.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${t.paddingMD}px ${t.paddingContentHorizontalLG}px`});var d=(0,le.I$)("Alert",t=>[$(t),l(t),ce(t)],J),M=function(t,r){var u={};for(var m in t)Object.prototype.hasOwnProperty.call(t,m)&&r.indexOf(m)<0&&(u[m]=t[m]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,m=Object.getOwnPropertySymbols(t);x<m.length;x++)r.indexOf(m[x])<0&&Object.prototype.propertyIsEnumerable.call(t,m[x])&&(u[m[x]]=t[m[x]]);return u};const i={success:a.Z,info:K.Z,error:de.Z,warning:R.Z},P=t=>{const{icon:r,prefixCls:u,type:m}=t,x=i[m]||null;return r?(0,fe.wm)(r,p.createElement("span",{className:`${u}-icon`},r),()=>({className:Z()(`${u}-icon`,r.props.className)})):p.createElement(x,{className:`${u}-icon`})},B=t=>{const{isClosable:r,prefixCls:u,closeIcon:m,handleClose:x,ariaProps:U}=t,z=m===!0||m===void 0?p.createElement(S.Z,null):m;return r?p.createElement("button",Object.assign({type:"button",onClick:x,className:`${u}-close-icon`,tabIndex:0},U),z):null};var ne=p.forwardRef((t,r)=>{const{description:u,prefixCls:m,message:x,banner:U,className:z,rootClassName:te,style:ue,onMouseEnter:re,onMouseLeave:pe,onClick:b,afterClose:_,showIcon:k,closable:O,closeText:ae,closeIcon:q,action:H,id:ve}=t,A=M(t,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[v,s]=p.useState(!1),oe=p.useRef(null);p.useImperativeHandle(r,()=>({nativeElement:oe.current}));const{getPrefixCls:N,direction:I,closable:h,closeIcon:L,className:Ee,style:se}=(0,c.dj)("alert"),y=N("alert",m),[E,W,C]=d(y),g=me=>{var Ce;s(!0),(Ce=t.onClose)===null||Ce===void 0||Ce.call(t,me)},w=p.useMemo(()=>t.type!==void 0?t.type:U?"warning":"info",[t.type,U]),he=p.useMemo(()=>typeof O=="object"&&O.closeIcon||ae?!0:typeof O=="boolean"?O:q!==!1&&q!==null&&q!==void 0?!0:!!h,[ae,q,O,h]),j=U&&k===void 0?!0:k,ge=Z()(y,`${y}-${w}`,{[`${y}-with-description`]:!!u,[`${y}-no-icon`]:!j,[`${y}-banner`]:!!U,[`${y}-rtl`]:I==="rtl"},Ee,z,te,C,W),V=(0,ee.Z)(A,{aria:!0,data:!0}),je=p.useMemo(()=>typeof O=="object"&&O.closeIcon?O.closeIcon:ae||(q!==void 0?q:typeof h=="object"&&h.closeIcon?h.closeIcon:L),[q,O,ae,L]),G=p.useMemo(()=>{const me=O!=null?O:h;if(typeof me=="object"){const{closeIcon:Ce}=me;return M(me,["closeIcon"])}return{}},[O,h]);return E(p.createElement(Q.ZP,{visible:!v,motionName:`${y}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:me=>({maxHeight:me.offsetHeight}),onLeaveEnd:_},({className:me,style:Ce},Me)=>p.createElement("div",Object.assign({id:ve,ref:(0,T.sQ)(oe,Me),"data-show":!v,className:Z()(ge,me),style:Object.assign(Object.assign(Object.assign({},se),ue),Ce),onMouseEnter:re,onMouseLeave:pe,onClick:b,role:"alert"},V),j?p.createElement(P,{description:u,icon:t.icon,prefixCls:y,type:w}):null,p.createElement("div",{className:`${y}-content`},x?p.createElement("div",{className:`${y}-message`},x):null,u?p.createElement("div",{className:`${y}-description`},u):null),H?p.createElement("div",{className:`${y}-action`},H):null,p.createElement(B,{isClosable:he,prefixCls:y,closeIcon:je,handleClose:g,ariaProps:G}))))}),be=e(15671),Oe=e(43144),Pe=e(61120),Y=e(78814),n=e(82963);function Ie(t,r,u){return r=(0,Pe.Z)(r),(0,n.Z)(t,(0,Y.Z)()?Reflect.construct(r,u||[],(0,Pe.Z)(t).constructor):r.apply(t,u))}var Ze=e(60136),ye=function(t){function r(){var u;return(0,be.Z)(this,r),u=Ie(this,r,arguments),u.state={error:void 0,info:{componentStack:""}},u}return(0,Ze.Z)(r,t),(0,Oe.Z)(r,[{key:"componentDidCatch",value:function(m,x){this.setState({error:m,info:x})}},{key:"render",value:function(){const{message:m,description:x,id:U,children:z}=this.props,{error:te,info:ue}=this.state,re=(ue==null?void 0:ue.componentStack)||null,pe=typeof m=="undefined"?(te||"").toString():m,b=typeof x=="undefined"?re:x;return te?p.createElement(ne,{id:U,type:"error",message:pe,description:p.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},b)}):z}}])}(p.Component);const Se=ne;Se.ErrorBoundary=ye;var De=Se}}]);
