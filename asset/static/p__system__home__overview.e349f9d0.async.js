"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8566],{1699:function(ne,C,n){n.d(C,{u:function(){return I}});var T=n(9783),u=n.n(T),L=n(97857),m=n.n(L),j=n(67294),U=n(82346),S=n(40411),h=n(42075),P=n(85893),I=function(a){var i=(0,U.useAccess)(),d=Array.isArray(a.access)?a.access:[a.access],f,o=a.fallback;if(typeof a.children=="function"?(f=a.children(d.reduce(function(p,e){return m()(m()({},p),{},u()({},e,i[e]))},{})),f||(f=o)):d.every(function(p){return i[p]})?f=a.children:f=o,!o&&f&&a.showProTips&&i.canSeeEnableCe){if(i.canSeeEnableHiddenProTips)return null;f=(0,P.jsx)(S.Z,{offset:a.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:f})}if(!o&&f&&a.showProRibbonTips&&i.canSeeEnableCe){if(i.canSeeEnableHiddenProTips)return null;f=(0,P.jsx)(S.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:f})}return a.space?(0,P.jsx)(h.Z,m()(m()({},a.space),{},{children:f})):f}},80821:function(ne,C,n){n.d(C,{Z:function(){return E}});var T=n(97857),u=n.n(T),L=n(5574),m=n.n(L),j=n(24963),U=n(86738),S=n(28036),h=n(83062),P=n(67294),I=n(85893);function E(a){var i=(0,P.useState)(!1),d=m()(i,2),f=d[0],o=d[1],p=(0,P.useContext)(j.Z),e=p.lang,F=p.message,Q=function(){o(!0);var ie=a.action();ie instanceof Promise?ie.then(function(v){if(o(!1),v){typeof a.onSuccess=="function"&&a.onSuccess(v);var _="";a.messageSuccess?typeof a.messageSuccess=="function"?_=a.messageSuccess(v):_=a.messageSuccess.indexOf("notification.")==0?e(a.messageSuccess):a.messageSuccess:_=e("notification.finish"),a.asynced?F.info(_):F.success(_)}}).catch(function(v){o(!1),typeof a.onError=="function"&&a.onError(v)}):o(!1)};return a.confirm?(0,I.jsx)(U.Z,u()(u()({style:{width:500},title:a.confirmTitle?a.confirmTitle:e("notification.title.tip"),description:typeof a.confirm=="string"&&a.confirm.indexOf("notification.")==0?e(a.confirm):a.confirm,onConfirm:Q,okText:"Yes",cancelText:"No",onOpenChange:a.confirmOnOpenChange},a.confirmProps),{},{children:(0,I.jsx)(S.ZP,{block:a.block,disabled:a.disabled,icon:!a.children&&f?void 0:a.icon,loading:f,danger:a.danger,type:a.type,children:a.children})})):(0,I.jsx)(h.Z,{title:a.tips,children:(0,I.jsx)(S.ZP,{block:a.block,style:a.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:a.disabled,icon:!a.children&&f?void 0:a.icon,loading:f,onClick:Q,danger:a.danger,type:a.type,children:a.children})})}},27619:function(ne,C,n){n.d(C,{Z:function(){return S}});var T=n(5574),u=n.n(T),L=n(82346),m=n(67294),j=n(64389),U=n(85893);function S(h){var P=(0,L.useModel)("@@initialState"),I=P.initialState,E="chart-area-".concat(h.name),a=(0,m.useState)(),i=u()(a,2),d=i[0],f=i[1],o={};h.data.forEach(function(e){e.show===!1?o[e.name]=!1:o[e.name]=!0});var p={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}},valueFormatter:function(F){return h.yValueFormatter?h.yValueFormatter(F):F}},legend:{selected:o},grid:{left:"0",right:"0",bottom:"0",top:"30",containLabel:!0},xAxis:{type:"category",data:h.data[0].data.map(function(e){return e.date}),boundaryGap:!1,axisLabel:{rotate:20}},yAxis:{type:"value",axisLabel:{formatter:h.yLabelFormatter},max:function(F){if(h.yDomainMaxCallback)return h.yDomainMaxCallback(F)}},series:[]};return(0,m.useEffect)(function(){var e="",F=window.matchMedia("(prefers-color-scheme: dark)");(I==null?void 0:I.theme.algorithm)=="dark"||F.matches?e="dark":e="",d&&!d.isDisposed()&&d.dispose();var Q=document.getElementById(E),Z=j.S1(Q,e);Z.setOption(p);var ie=new ResizeObserver(function(){Z.resize()});Q&&ie.observe(Q),f(Z)},[I]),(0,m.useEffect)(function(){d&&!d.isDisposed()&&d.setOption({legend:{data:h.data.map(function(e){return e.name})},xAxis:{data:h.data[0].data.map(function(e){return e.date})},series:h.data.map(function(e){return{name:e.name,type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:e.data.map(function(F){return F.value})}})})},[h.data]),(0,U.jsx)("div",{style:{height:200},id:E})}},3616:function(ne,C,n){n.d(C,{Ed:function(){return m},FK:function(){return u},R_:function(){return T},ob:function(){return L}});var T=window.innerWidth<=1024?"90vw":"65vw",u="90vw",L="60vw",m="50vh"},24963:function(ne,C,n){var T=n(67294),u=(0,T.createContext)({});C.Z=u},52756:function(ne,C,n){n.r(C),n.d(C,{default:function(){return I},getLang:function(){return P}});var T=n(82346),u=n(31418),L=n(26058),m=n(85137),j=n(24963),U=n(65913),S=n(67294),h=n(85893);function P(E,a,i){var d=(0,T.getLocale)();i!=null&&i.XK&&(d="zh-XK");var f=(0,T.getIntl)(d).formatMessage({id:E},a);return f}function I(){var E=(0,S.useRef)(),a=(0,T.useIntl)(),i=function(_){for(var c=arguments.length,r=new Array(c>1?c-1:0),b=1;b<c;b++)r[b-1]=arguments[b];f.notification[_]({message:a.formatMessage({id:"notification.title."+_}),description:r.join(" "),placement:"topRight"})},d=function(_){for(var c=arguments.length,r=new Array(c>1?c-1:0),b=1;b<c;b++)r[b-1]=arguments[b];f.message[_](r.join(" "))},f=u.Z.useApp(),o=(0,T.useModel)("@@initialState"),p=o.initialState,e=o.loading,F=o.error,Q=o.refresh,Z=o.setInitialState,ie=(0,T.useModel)("subscriber");return p!=null&&p.user.username&&ie.addDataHandler("user:permission:".concat(p==null?void 0:p.user.username),function(v){Q()}),(0,h.jsx)(L.Z,{children:(0,h.jsx)(j.Z.Provider,{value:{notice:{success:function(){for(var _=arguments.length,c=new Array(_),r=0;r<_;r++)c[r]=arguments[r];i.apply(void 0,["success"].concat(c))},error:function(){for(var _=arguments.length,c=new Array(_),r=0;r<_;r++)c[r]=arguments[r];i.apply(void 0,["error"].concat(c))},warning:function(){for(var _=arguments.length,c=new Array(_),r=0;r<_;r++)c[r]=arguments[r];i.apply(void 0,["warning"].concat(c))},info:function(){for(var _=arguments.length,c=new Array(_),r=0;r<_;r++)c[r]=arguments[r];i.apply(void 0,["info"].concat(c))},destroy:function(){f.notification.destroy()}},message:{success:function(){for(var _=arguments.length,c=new Array(_),r=0;r<_;r++)c[r]=arguments[r];d.apply(void 0,["success"].concat(c))},error:function(){for(var _=arguments.length,c=new Array(_),r=0;r<_;r++)c[r]=arguments[r];d.apply(void 0,["error"].concat(c))},warning:function(){for(var _=arguments.length,c=new Array(_),r=0;r<_;r++)c[r]=arguments[r];d.apply(void 0,["warning"].concat(c))},info:function(){for(var _=arguments.length,c=new Array(_),r=0;r<_;r++)c[r]=arguments[r];d.apply(void 0,["info"].concat(c))},loading:function(){for(var _=arguments.length,c=new Array(_),r=0;r<_;r++)c[r]=arguments[r];d.apply(void 0,["loading"].concat(c))},destroy:function(){f.message.destroy()}},loading:{show:function(){E.current&&E.current.show()},destroy:function(){E.current&&E.current.destroy()}},lang:function(_,c){return a.formatMessage({id:_},c)}},children:(0,h.jsxs)(U.Z,{ref:E,children:[(0,h.jsx)(T.Outlet,{}),(0,h.jsx)(m.Z.BackTop,{duration:10,style:{bottom:100}})]})},e?"1":"2")})}},65913:function(ne,C,n){var T=n(5574),u=n.n(T),L=n(74330),m=n(67294),j=n(85893),U=(0,m.forwardRef)(function(S,h){(0,m.useImperativeHandle)(h,function(){return{show:function(){a(!0)},destroy:function(){a(!1)}}});var P=(0,m.useState)(!1),I=u()(P,2),E=I[0],a=I[1];return(0,j.jsx)(L.Z,{spinning:E,size:"default",children:S.children})});C.Z=U},55617:function(ne,C,n){n.r(C),n.d(C,{default:function(){return Ne}});var T=n(15009),u=n.n(T),L=n(99289),m=n.n(L),j=n(5574),U=n.n(j),S=n(19632),h=n.n(S),P=n(1699),I=n(80821),E=n(27619),a=n(3616),i=n(5251),d=n(184),f=n(25593),o=n(60940),p=n(67294),e=n(85893);function F(V){return(0,e.jsx)(d.a,{drawerProps:{width:a.R_},title:"\u5BB9\u5668\u72B6\u6001\u6570\u636E",submitter:!1,trigger:(0,e.jsx)(f.Z.Link,{children:"\u8BE6\u60C5\u6570\u636E"}),children:(0,e.jsx)(o.Z,{pagination:!1,dataSource:V.data,rowKey:"name",columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"name"},{title:"Cpu",dataIndex:"cpu",sorter:function(y,D){return y.cpu-D.cpu},render:function(y,D,N){return"".concat(D.cpu.toFixed(2),"%")}},{title:"\u5185\u5B58",dataIndex:"memory",sorter:function(y,D){return y.memory.in-D.memory.in},render:function(y,D,N){var W,Y;return"".concat((0,i.FI)((W=D==null?void 0:D.memory.in)!==null&&W!==void 0?W:0)," / ").concat((0,i.FI)((Y=D==null?void 0:D.memory.out)!==null&&Y!==void 0?Y:0))}},{title:"\u7F51\u7EDC I/O",dataIndex:"networkIO",render:function(y,D,N){return"".concat((0,i.FI)(D.networkIO.in)," / ").concat((0,i.FI)(D.networkIO.out))}},{title:"\u78C1\u76D8 I/O",dataIndex:"blockIO",render:function(y,D,N){return"".concat((0,i.FI)(D.blockIO.in)," / ").concat((0,i.FI)(D.blockIO.out))}}]})})}var Q=n(97857),Z=n.n(Q),ie=n(64389),v=n(52756),_={tooltip:{show:!0,formatter:function(R){return R&&R.data&&R.data.tooltipItem?R.data.tooltipItem.map(function(y){return"<div>".concat(y.field,": ").concat(y.content,"</div>")}).join(" "):"".concat(R.data.name,": ").concat((0,i.FI)(R.data.value))}},legend:{selectedMode:"single",top:0,itemGap:5},series:[]},c={name:"",type:"treemap",left:0,right:0,top:30,bottom:0,roam:!1,label:{show:!0},levels:[{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}}],sort:!0,leafDepth:1,data:[]},r=(0,p.forwardRef)(function(V,R){var y=V.data.usage,D=(0,p.useState)(),N=U()(D,2),W=N[0],Y=N[1];(0,p.useImperativeHandle)(R,function(){return{}});function de(){if(!y.Containers||!y.Images){W&&W.setOption({series:[Z()(Z()({},c),{},{name:"",data:[{name:"\u6B63\u5728\u83B7\u53D6\u8BA1\u7B97,\u4E2A\u522B\u7CFB\u7EDF\u4F1A\u6BD4\u8F83\u8017\u65F6.",value:1}]})]});return}var w=[],B=[];y.Containers&&y.Containers.forEach(function(g){var $,ae,re,se=g.SizeRootFs+(($=g.SizeRw)!==null&&$!==void 0?$:0),oe=[];y.Volumes&&g.Mounts.forEach(function(J){var le=y.Volumes.find(function(he){return he.Name==J.Name});le&&(se+=le.UsageData.Size,oe.push({name:(0,v.getLang)("system.home.usageDisk.volume",{name:J.Name}),value:le.UsageData.Size,children:[]}))});var me={name:(0,i.fi)(g.Names[0],"/"),value:se,tooltipItem:[{field:(0,i.fi)(g.Names[0],"/"),content:(0,i.FI)(se)},{field:(0,v.getLang)("system.home.usageDisk.containerRootFs"),content:(0,i.FI)((ae=g.SizeRootFs)!==null&&ae!==void 0?ae:0)},{field:(0,v.getLang)("system.home.usageDisk.containerRw"),content:(0,i.FI)((re=g.SizeRw)!==null&&re!==void 0?re:0)}],children:[{name:(0,v.getLang)("system.home.usageDisk.containerRootFs"),value:g.SizeRootFs,children:[]},{name:(0,v.getLang)("system.home.usageDisk.containerRw"),value:g.SizeRw,children:[]}]};if(oe&&oe.length>0){var _e,ce;(_e=me.children).push.apply(_e,oe),(ce=me.tooltipItem)===null||ce===void 0||ce.push.apply(ce,h()(oe.map(function(J){var le;return{field:J.name,content:(0,i.FI)((le=J.value)!==null&&le!==void 0?le:0)}})))}B.push(me)}),w.push(Z()(Z()({},c),{},{name:"\u5BB9\u5668",data:B})),B=[],y.Images&&y.Images.forEach(function(g){var $,ae,re,se;B.push({name:g.RepoTags?g.RepoTags[0]:g.Id.substring(7,19),value:g.Size+(($=g.SharedSize)!==null&&$!==void 0?$:0),tooltipItem:[{field:g.RepoTags?g.RepoTags[0]:g.Id.substring(7,19),content:(0,i.FI)(g.Size+((ae=g.SharedSize)!==null&&ae!==void 0?ae:0))},{field:(0,v.getLang)("system.home.usageDisk.imageSize"),content:(0,i.FI)((re=g.Size)!==null&&re!==void 0?re:0)},{field:(0,v.getLang)("system.home.usageDisk.imageSharedSize"),content:(0,i.FI)((se=g.SharedSize)!==null&&se!==void 0?se:0)}],children:[{name:(0,v.getLang)("system.home.usageDisk.imageSize"),value:g.Size,children:[]},{name:(0,v.getLang)("system.home.usageDisk.imageSharedSize"),value:g.SharedSize,children:[]}]})}),w.push(Z()(Z()({},c),{},{name:"\u955C\u50CF",data:B})),B=[],y.Volumes&&y.Volumes.forEach(function(g){B.push({name:g.Name,value:g.UsageData.Size,children:[]})}),w.push(Z()(Z()({},c),{},{name:"\u5B58\u50A8\u5377",data:B})),w&&w.length>0&&W&&W.setOption({series:w,legend:{data:w.map(function(g){return g.name})}})}return(0,p.useEffect)(function(){var w=document.getElementById("docker-disk-usage"),B=ie.S1(w);B.setOption(_);var g=new ResizeObserver(function(){B&&B.resize()});return w&&g.observe(w),Y(B),function(){W&&W.dispose(),Y(void 0)}},[]),(0,p.useEffect)(function(){W&&de()},[W]),(0,e.jsx)("div",{style:{height:450},id:"docker-disk-usage"})}),b=r,A=n(55241),l=n(71230),De=n(15746),Re=n(38703),Ae=(0,p.forwardRef)(function(V,R){return(0,p.useImperativeHandle)(R,function(){return{}}),(0,e.jsxs)(A.Z,{placement:"left",children:[(0,e.jsx)(l.Z,{justify:"center",children:(0,e.jsx)(De.Z,{children:(0,e.jsx)(Re.Z,{percent:V.showPercent,type:"dashboard",format:function(D,N){return"".concat(D,"%")},size:150,status:V.showPercent>=100?"exception":"normal"})})}),(0,e.jsx)(l.Z,{justify:"center",children:(0,e.jsxs)(De.Z,{style:{marginTop:"10px"},children:[V.showLabel,": ",V.showUse," / ",V.showTotal]})})]})}),Pe=Ae,Le=n(24963),Be=n(87662),ve=n(2831),We=n(18148),ye=n(89075),Fe=n(20578),Ze=n(45605),we=n(1210),fe=n(12122),K=n(38345),z=n(88273),te=n(82346),ue=n(42075),$e=n(28036),X=n(26412),ge=n(83062),Ke=n(40411),ke=n(86250),ze=n(93162),Ve=function(R,y){switch(y.type){case"update":var D=new Date().toLocaleTimeString(),N=0,W=0,Y=0,de=0,w=0,B=0;y.payload.map(function($){N+=$.cpu,W+=$.memory.in,Y+=$.networkIO.in,de+=$.networkIO.out,w+=$.blockIO.in,B+=$.blockIO.out});var g={list:y.payload,cpu:N,memory:W,network:[{name:"\u4E0A\u884C",data:[].concat(h()(R.network[0].data.slice(-20)),[{date:D,value:de}])},{name:"\u4E0B\u884C",data:[].concat(h()(R.network[1].data.slice(-20)),[{date:D,value:Y}])}],io:[{name:"\u8BFB\u53D6",data:[].concat(h()(R.io[0].data.slice(-20)),[{date:D,value:B}])},{name:"\u5199\u5165",data:[].concat(h()(R.io[1].data.slice(-20)),[{date:D,value:w}])}]};return g}};function Ne(){var V,R,y,D,N,W,Y,de,w,B,g,$,ae,re,se,oe,me,_e,ce,J=(0,te.useAccess)(),le=(0,p.useState)(),he=U()(le,2),pe=he[0],Ge=he[1],He=(0,p.useState)(),Oe=U()(He,2),q=Oe[0],Xe=Oe[1],Ye=(0,p.useState)(),Se=U()(Ye,2),s=Se[0],Qe=Se[1],Je=(0,p.useState)(),Ie=U()(Je,2),t=Ie[0],qe=Ie[1],en=(0,p.useState)(),be=U()(en,2),Ee=be[0],nn=be[1],tn=(0,p.useReducer)(Ve,{cpu:0,memory:0,network:[{name:"\u4E0A\u884C",data:[]},{name:"\u4E0B\u884C",data:[]}],io:[{name:"\u8BFB\u53D6",data:[]},{name:"\u5199\u5165",data:[]}],list:[]}),xe=U()(tn,2),k=xe[0],Me=xe[1],an=(0,p.useContext)(Le.Z),Te=an.loading,Ce=(0,te.useModel)("subscriber");Ce.addDataHandler("container:stat",function(O){Me({type:"update",payload:O.data})});function Ue(){return je.apply(this,arguments)}function je(){return je=m()(u()().mark(function O(){var x,M,ee;return u()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return Te.show(),H.next=3,(0,ve.aF)().finally(function(){Te.destroy()});case 3:return x=H.sent,Qe(x.data),H.next=7,(0,ve.Ll)();case 7:return M=H.sent,qe(M.data),H.next=11,(0,Be.Cz)({follow:!0});case 11:ee=H.sent,Me({type:"update",payload:[]});case 13:case"end":return H.stop()}},O)})),je.apply(this,arguments)}return(0,p.useEffect)(function(){return Ue(),!J.canSeeEnableCe&&(0,ye.YQ)().then(function(O){Ge(O.data)}),!J.canSeeEnableCe&&(0,Fe.q)().then(function(O){Xe(O.data)}),(0,ve.u5)().then(function(O){nn(O.data)}),function(){Ce.progress.close("container:stat")}},[]),(0,e.jsxs)(K.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,e.jsxs)(K.Z,{bordered:!0,split:"vertical",wrap:!0,children:[(0,e.jsx)(K.Z,{style:{height:"570px",overflow:"hidden"},colSpan:{xs:24,sm:24,md:24,lg:9,xl:9},headerBordered:!0,title:(0,e.jsx)(Ze.Z,{}),subTitle:"\u57FA\u7840\u4FE1\u606F",extra:(0,e.jsx)(ue.Z,{children:J.canSeeEnableCe?J.canSeeEnableInDPanel&&(0,e.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/manual/pro",target:"_blank",children:(0,v.getLang)("system.home.buyProTitle")},"proLink"):pe&&pe.expireTime?(0,e.jsxs)("span",{children:["\u8FC7\u671F\u65F6\u95F4: ",new Date(pe.expireTime).toLocaleString()]},"expireTime"):(0,e.jsx)($e.ZP,{type:"link",onClick:m()(u()().mark(function O(){var x,M;return u()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,(0,ye.$w)();case 2:x=G.sent,M=new Blob([x.data.code],{type:"text/plain"}),(0,ze.saveAs)(M,"dpanel.code");case 5:case"end":return G.stop()}},O)})),children:"\u6388\u6743\u7801"},"downloadCode")}),children:(0,e.jsxs)(X.Z,{column:1,labelStyle:{width:100,justifyContent:"flex-end"},children:[(0,e.jsx)(X.Z.Item,{label:"\u9762\u677F\u4FE1\u606F",children:(0,e.jsxs)(ue.Z,{direction:"horizontal",wrap:!0,children:[s==null?void 0:s.dpanel.version," - ",s==null?void 0:s.dpanel.env," - ",s==null?void 0:s.dpanel.family,J.canSeeEnableInDPanel&&(0,e.jsx)(ge.Z,{title:"\u5347\u7EA7\u65E5\u5FD7",children:(0,e.jsx)("a",{target:"_blank",href:"https://github.com/donknap/dpanel/releases",children:(0,e.jsx)(we.Z,{})})}),Ee&&Ee.newVersion!=""&&(0,e.jsx)(te.Link,{to:"/system/upgrade",children:(0,e.jsx)(Ke.Z,{count:Ee.newVersion,size:"small"})})]})}),(0,e.jsxs)(X.Z.Item,{label:"Docker Host",children:[s==null?void 0:s.info.Name," ",(0,e.jsx)(e.Fragment,{children:(s==null?void 0:s.info.ID)==""&&(0,e.jsx)(te.Link,{to:"/system/env",state:{item:{name:"local",title:"\u672C\u5730"},t:(0,i.Fs)()},children:"\u914D\u7F6E\u9ED8\u8BA4 Docker \u5BA2\u6237\u7AEF"})})]}),(0,e.jsx)(X.Z.Item,{label:"Docker \u7248\u672C",children:"".concat(s==null?void 0:s.info.OperatingSystem," - ").concat(s==null?void 0:s.info.ServerVersion," - ").concat(s==null?void 0:s.sdkVersion)}),(0,e.jsx)(X.Z.Item,{label:"\u6587\u4EF6\u5B58\u50A8\u9A71\u52A8",children:"".concat(s==null?void 0:s.info.Driver)}),(0,e.jsx)(X.Z.Item,{label:"\u65E5\u5FD7\u9A71\u52A8",children:"".concat(s==null?void 0:s.info.LoggingDriver)}),(0,e.jsx)(X.Z.Item,{label:"\u7CFB\u7EDF\u67B6\u6784",children:"".concat(s==null?void 0:s.info.KernelVersion," - ").concat(s==null?void 0:s.info.Architecture)}),(0,e.jsxs)(X.Z.Item,{label:"Cpu",children:[s==null?void 0:s.info.NCPU," \u6838"]}),(0,e.jsx)(X.Z.Item,{label:"Memory",children:(0,i.FI)((V=s==null?void 0:s.info.MemTotal)!==null&&V!==void 0?V:0)}),(0,e.jsx)(X.Z.Item,{label:"\u6839\u76EE\u5F55",children:s==null?void 0:s.info.DockerRootDir}),(0,e.jsx)(X.Z.Item,{label:"\u5B58\u50A8\u5377\u63D2\u4EF6",children:(0,e.jsx)(ue.Z,{children:s==null?void 0:s.info.Plugins.Volume})}),(0,e.jsx)(X.Z.Item,{label:"\u7F51\u7EDC\u63D2\u4EF6",children:(0,e.jsx)(ue.Z,{wrap:!0,children:s==null?void 0:s.info.Plugins.Network})}),(0,e.jsx)(X.Z.Item,{label:"\u7CFB\u7EDF\u65F6\u95F4",children:new Date((R=s==null?void 0:s.info.SystemTime)!==null&&R!==void 0?R:"").toLocaleString()})]})}),(0,e.jsxs)(K.Z,{headerBordered:!0,colSpan:{xs:24,sm:24,md:24,lg:15,xl:15},title:(0,e.jsx)(fe.Z,{}),subTitle:"\u5BB9\u5668\u8FD0\u884C\u7EDF\u8BA1",split:"horizontal",extra:(0,e.jsx)(ue.Z,{children:k.list&&(0,e.jsx)(F,{data:k.list})}),children:[(0,e.jsx)(K.Z,{children:(0,e.jsxs)(ke.Z,{gap:50,align:"center",justify:"space-evenly",children:[(0,e.jsx)(Pe,{showPercent:parseFloat((((y=k==null?void 0:k.cpu)!==null&&y!==void 0?y:0)/((D=s==null?void 0:s.info.NCPU)!==null&&D!==void 0?D:0)).toFixed(2)),showLabel:"Cpu",showUse:"".concat(((N=k==null?void 0:k.cpu)!==null&&N!==void 0?N:0).toFixed(2)),showTotal:"".concat((W=s==null?void 0:s.info.NCPU)!==null&&W!==void 0?W:0," \u6838")}),(0,e.jsx)(Pe,{showPercent:parseFloat((((Y=k==null?void 0:k.memory)!==null&&Y!==void 0?Y:0)/((de=s==null?void 0:s.info.MemTotal)!==null&&de!==void 0?de:0)*100).toFixed(2)),showLabel:"\u5185\u5B58",showUse:(0,i.FI)((w=k==null?void 0:k.memory)!==null&&w!==void 0?w:0),showTotal:"".concat((0,i.FI)((B=s==null?void 0:s.info.MemTotal)!==null&&B!==void 0?B:0))})]})}),(0,e.jsxs)(K.Z,{split:"vertical",wrap:!0,children:[(0,e.jsx)(K.Z,{colSpan:12,title:(0,e.jsx)(fe.Z,{}),subTitle:"\u7F51\u7EDC",headerBordered:!0,children:(0,e.jsx)(E.Z,{data:k.network,yLabelFormatter:function(x){return(0,i.FI)(parseFloat(x))},yDomainMaxCallback:function(x){return x.max*1.5},name:"network"})}),(0,e.jsx)(K.Z,{colSpan:12,title:(0,e.jsx)(fe.Z,{}),subTitle:"\u78C1\u76D8",headerBordered:!0,children:(0,e.jsx)(E.Z,{name:"disk",data:k.io,yLabelFormatter:function(x){return(0,i.FI)(parseFloat(x))},yDomainMaxCallback:function(x){return x.max*1.5}})})]})]})]}),(0,e.jsxs)(K.Z,{bordered:!0,headerBordered:!0,title:(0,e.jsx)(fe.Z,{}),subTitle:"\u7528\u91CF\u7EDF\u8BA1",wrap:!0,extra:(0,e.jsx)(ue.Z,{children:(0,e.jsx)("span",{children:t!=null&&t.diskUsage&&t!==null&&t!==void 0&&t.diskUsage.updatedAt?"\u6570\u636E\u6700\u540E\u66F4\u65B0: ".concat(t==null?void 0:t.diskUsage.updatedAt):""},"lastUpdate")},"size"),children:[(0,e.jsx)(K.Z,{colSpan:{xs:24,sm:24,md:24,lg:24,xl:12,xxl:12},ghost:!0,children:(t==null?void 0:t.diskUsage)&&(0,e.jsx)(b,{data:t==null?void 0:t.diskUsage})}),(0,e.jsxs)(K.Z,{colSpan:{xs:24,sm:8,md:8,lg:8,xl:4,xxl:4},split:"horizontal",ghost:!0,children:[(0,e.jsx)(z.Z,{statistic:{title:(0,e.jsx)(ue.Z,{children:"\u5BB9\u5668"}),value:t!=null&&t.diskUsage.usage.Containers?(0,i.FI)((g=t.diskUsage.usage.Containers.reduce(function(O,x){var M;return O+x.SizeRootFs+((M=x.SizeRw)!==null&&M!==void 0?M:0)},0))!==null&&g!==void 0?g:0):0,description:"\u955C\u50CF\u53CA\u5199\u5165\u6570\u636E"}}),(0,e.jsx)(z.Z,{statistic:{title:(0,e.jsx)(ue.Z,{children:"\u955C\u50CF"}),value:t!=null&&t.diskUsage.usage.Images?(0,i.FI)(($=t.diskUsage.usage.Images.reduce(function(O,x){var M;return O+(x.Size+((M=x.SharedSize)!==null&&M!==void 0?M:0))},0))!==null&&$!==void 0?$:0):0,description:"\u5305\u542B\u4E2D\u95F4\u955C\u50CF"}}),(0,e.jsx)(z.Z,{statistic:{title:(0,e.jsx)(ue.Z,{children:"\u5B58\u50A8\u5377"}),value:t!=null&&t.diskUsage.usage.Volumes?(0,i.FI)((ae=t.diskUsage.usage.Volumes.reduce(function(O,x){return O+x.UsageData.Size},0))!==null&&ae!==void 0?ae:0):0,description:"\u4E0D\u5305\u542B\u6302\u8F7D\u76EE\u5F55"}}),(0,e.jsx)(z.Z,{statistic:{title:"\u6784\u5EFA\u7F13\u5B58",value:t!=null&&t.diskUsage.usage.BuildCache?(0,i.FI)((re=t.diskUsage.usage.BuildCache.reduce(function(O,x){return O+x.Size},0))!==null&&re!==void 0?re:0):0,description:(0,e.jsx)(P.u,{access:"canSeeHomeOverviewClear",children:(0,e.jsx)(I.Z,{action:function(){return(0,We.c5)()},type:"link",onSuccess:function(){Ue()},ghost:!0,children:"\u6E05\u9664"})})}})]}),(0,e.jsxs)(K.Z,{colSpan:{xs:24,sm:16,md:16,lg:16,xl:8,xxl:8},ghost:!0,split:"horizontal",children:[(0,e.jsx)(K.Z,{ghost:!0,children:(0,e.jsxs)(z.Z.Group,{children:[(0,e.jsx)(z.Z,{statistic:{title:"\u5BB9\u5668",value:(se=s==null?void 0:s.info.Containers)!==null&&se!==void 0?se:0,description:(0,e.jsx)(te.Link,{to:"/app/list",children:"\u67E5\u770B"})}}),!J.canSeeEnableCe&&(0,e.jsx)(z.Z,{statistic:{title:"\u65B0\u7248\u672C",status:"processing",valueRender:function(x){var M,ee,G;return(0,e.jsx)(ge.Z,{title:"\u5FFD\u7565:  ".concat((M=q==null?void 0:q.ignore)!==null&&M!==void 0?M:0," \u5931\u8D25: ").concat((ee=q==null?void 0:q.failed)!==null&&ee!==void 0?ee:0," \u672C\u5730:").concat((G=q==null?void 0:q.local)!==null&&G!==void 0?G:0),children:q==null?void 0:q.upgrade})}}}),(0,e.jsx)(z.Z,{statistic:{title:"\u9884\u8B66",status:"error",valueRender:function(x){var M,ee,G,H=0;return t&&t.total&&t.total.containerRunning.stop&&(H+=t.total.containerRunning.stop),t&&t.total&&t.total.containerRunning.pause&&(H+=t.total.containerRunning.pause),t&&t.total&&t.total.containerRunning.unhealthy&&(H+=t.total.containerRunning.unhealthy),(0,e.jsx)(ge.Z,{title:"\u505C\u6B62\uFF1A".concat((M=t==null?void 0:t.total.containerRunning.stop)!==null&&M!==void 0?M:0,"\uFF0C\u6682\u505C\uFF1A").concat((ee=t==null?void 0:t.total.containerRunning.pause)!==null&&ee!==void 0?ee:0,"\uFF0C\u4E0D\u5065\u5EB7\uFF1A").concat((G=t==null?void 0:t.total.containerRunning.unhealthy)!==null&&G!==void 0?G:0),children:H})}}}),(0,e.jsx)(z.Z,{statistic:{title:"\u56DE\u6536\u7AD9",value:(oe=t==null?void 0:t.total.containerTask)!==null&&oe!==void 0?oe:0,description:(0,e.jsx)(te.Link,{to:"/app/list/recycle",children:"\u67E5\u770B"})}})]})}),(0,e.jsxs)(K.Z,{ghost:!0,children:[(0,e.jsx)(z.Z,{statistic:{title:"\u955C\u50CF",value:"".concat((me=(t==null?void 0:t.diskUsage.usage.Images)&&(t==null?void 0:t.diskUsage.usage.Images.length))!==null&&me!==void 0?me:0),description:(0,e.jsx)(te.Link,{to:"/image/list",children:"\u67E5\u770B"})},chartPlacement:"left"}),(0,e.jsx)(z.Z,{statistic:{title:"\u4EFB\u52A1",value:(_e=t==null?void 0:t.total.imageTask)!==null&&_e!==void 0?_e:0,description:(0,e.jsx)(te.Link,{to:"/image/list/recycle",children:"\u67E5\u770B"})},chartPlacement:"left"})]}),(0,e.jsxs)(K.Z,{ghost:!0,children:[(0,e.jsx)(z.Z,{statistic:{title:"\u7F51\u7EDC",value:t==null?void 0:t.total.network,description:(0,e.jsx)(te.Link,{to:"/docker/network",children:"\u67E5\u770B"})},chartPlacement:"left"}),(0,e.jsx)(z.Z,{statistic:{title:"\u7AEF\u53E3\u6620\u5C04",value:t==null?void 0:t.total.port,description:(0,e.jsx)(d.a,{drawerProps:{width:a.R_},submitter:!1,title:"\u67E5\u770B\u6620\u5C04\u7AEF\u53E3",trigger:(0,e.jsx)(f.Z.Link,{children:"\u67E5\u770B"}),children:(0,e.jsx)(o.Z,{pagination:!1,dataSource:t==null?void 0:t.port,rowKey:"name",columns:[{title:"\u4E3B\u673A\u7AEF\u53E3",dataIndex:["port","host"],sorter:function(x,M){return parseInt(x.port.host)-parseInt(M.port.host)},render:function(x,M,ee){return M.port.host!="0"?"".concat(M.port.hostIp,":").concat(M.port.host):"-"}},{title:"\u5BB9\u5668\u7AEF\u53E3",dataIndex:["port","dest"]},{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"name",render:function(x,M,ee){return(0,i.fi)(M.name,"/")}}]})})},chartPlacement:"left"})]}),(0,e.jsxs)(K.Z,{ghost:!0,children:[(0,e.jsx)(z.Z,{statistic:{title:"\u5B58\u50A8\u5377",value:(ce=(t==null?void 0:t.diskUsage.usage.Volumes)&&(t==null?void 0:t.diskUsage.usage.Volumes.length))!==null&&ce!==void 0?ce:0,description:(0,e.jsx)(te.Link,{to:"/docker/volume",children:"\u67E5\u770B"})},chartPlacement:"left"}),(0,e.jsx)(z.Z,{statistic:{title:"\u5907\u4EFD",value:t==null?void 0:t.total.backup,description:(0,e.jsx)(te.Link,{to:"/app/backup",children:"\u67E5\u770B"})},chartPlacement:"left"})]})]})]})]})}},2831:function(ne,C,n){n.d(C,{Ll:function(){return I},aF:function(){return U},d6:function(){return a},u5:function(){return h}});var T=n(15009),u=n.n(T),L=n(99289),m=n.n(L),j=n(82346);function U(){return S.apply(this,arguments)}function S(){return S=m()(u()().mark(function d(){return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,j.request)("/api/common/home/info",{method:"POST"});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},d)})),S.apply(this,arguments)}function h(){return P.apply(this,arguments)}function P(){return P=m()(u()().mark(function d(){return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,j.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},d)})),P.apply(this,arguments)}function I(){return E.apply(this,arguments)}function E(){return E=m()(u()().mark(function d(){return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,j.request)("/api/common/home/usage",{method:"POST"});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},d)})),E.apply(this,arguments)}function a(){return i.apply(this,arguments)}function i(){return i=m()(u()().mark(function d(){return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,j.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},d)})),i.apply(this,arguments)}},18148:function(ne,C,n){n.d(C,{$q:function(){return d},Fj:function(){return ie},KG:function(){return U},KX:function(){return _},T8:function(){return a},Xn:function(){return I},ao:function(){return o},c5:function(){return Q},c7:function(){return e}});var T=n(15009),u=n.n(T),L=n(99289),m=n.n(L),j=n(82346);function U(r){return S.apply(this,arguments)}function S(){return S=m()(u()().mark(function r(b){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,j.request)("/api/app/image/get-list",{method:"POST",data:b}));case 1:case"end":return l.stop()}},r)})),S.apply(this,arguments)}function h(r){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function r(b){return _regeneratorRuntime().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,request("/api/app/log/image-build",{method:"POST",data:b});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},r)})),P.apply(this,arguments)}function I(r){return E.apply(this,arguments)}function E(){return E=m()(u()().mark(function r(b){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,j.request)("/api/app/image/get-list-build",{method:"POST",data:b}));case 1:case"end":return l.stop()}},r)})),E.apply(this,arguments)}function a(r){return i.apply(this,arguments)}function i(){return i=m()(u()().mark(function r(b){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,j.request)("/api/app/image/get-build-task",{method:"POST",data:b});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},r)})),i.apply(this,arguments)}function d(r){return f.apply(this,arguments)}function f(){return f=m()(u()().mark(function r(b){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,j.request)("/api/app/image/delete-build-task",{method:"POST",data:b});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},r)})),f.apply(this,arguments)}function o(r){return p.apply(this,arguments)}function p(){return p=m()(u()().mark(function r(b){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,j.request)("/api/app/image/image-delete",{method:"POST",data:b});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},r)})),p.apply(this,arguments)}function e(){return F.apply(this,arguments)}function F(){return F=m()(u()().mark(function r(){return u()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,j.request)("/api/app/image/image-prune",{method:"POST"});case 2:return A.abrupt("return",A.sent);case 3:case"end":return A.stop()}},r)})),F.apply(this,arguments)}function Q(){return Z.apply(this,arguments)}function Z(){return Z=m()(u()().mark(function r(){return u()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,j.request)("/api/app/image/build-prune",{method:"POST"});case 2:return A.abrupt("return",A.sent);case 3:case"end":return A.stop()}},r)})),Z.apply(this,arguments)}function ie(r){return v.apply(this,arguments)}function v(){return v=m()(u()().mark(function r(b){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,j.request)("/api/app/image/update-title",{method:"POST",data:b});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},r)})),v.apply(this,arguments)}function _(r){return c.apply(this,arguments)}function c(){return c=m()(u()().mark(function r(b){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,j.request)("/api/app/image/tag-sync",{method:"POST",data:b}));case 1:case"end":return l.stop()}},r)})),c.apply(this,arguments)}},89075:function(ne,C,n){n.d(C,{$w:function(){return U},YQ:function(){return h},ax:function(){return I}});var T=n(15009),u=n.n(T),L=n(99289),m=n.n(L),j=n(82346);function U(){return S.apply(this,arguments)}function S(){return S=m()(u()().mark(function a(){return u()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,j.request)("/api/pro/home/get-machine-id",{method:"POST"}));case 1:case"end":return d.stop()}},a)})),S.apply(this,arguments)}function h(){return P.apply(this,arguments)}function P(){return P=m()(u()().mark(function a(){return u()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,j.request)("/api/pro/home/get-license-info",{method:"POST"}));case 1:case"end":return d.stop()}},a)})),P.apply(this,arguments)}function I(){return E.apply(this,arguments)}function E(){return E=m()(u()().mark(function a(){return u()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,j.request)("/api/pro/home/login-info",{method:"POST"}));case 1:case"end":return d.stop()}},a)})),E.apply(this,arguments)}},20578:function(ne,C,n){n.d(C,{q:function(){return h},w:function(){return U}});var T=n(15009),u=n.n(T),L=n(99289),m=n.n(L),j=n(82346);function U(I){return S.apply(this,arguments)}function S(){return S=m()(u()().mark(function I(E){return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,j.request)("/api/pro/container/recycle-restore",{data:E,method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},I)})),S.apply(this,arguments)}function h(){return P.apply(this,arguments)}function P(){return P=m()(u()().mark(function I(){return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,j.request)("/api/pro/container/check-all-upgrade",{method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},I)})),P.apply(this,arguments)}}}]);
