"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2691],{1699:function(S,g,n){n.d(g,{u:function(){return u}});var D=n(9783),o=n.n(D),M=n(97857),c=n.n(M),f=n(67294),I=n(82346),P=n(40411),T=n(42075),b=n(85893),u=function(a){var d=(0,I.useAccess)(),m=Array.isArray(a.access)?a.access:[a.access],l,h=a.fallback;if(typeof a.children=="function"?(l=a.children(m.reduce(function(E,C){return c()(c()({},E),{},o()({},C,d[C]))},{})),l||(l=h)):m.every(function(E){return d[E]})?l=a.children:l=h,!h&&l&&a.showProTips&&d.canSeeEnableCe){if(d.canSeeEnableHiddenProTips)return null;l=(0,b.jsx)(P.Z,{offset:a.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:l})}if(!h&&l&&a.showProRibbonTips&&d.canSeeEnableCe){if(d.canSeeEnableHiddenProTips)return null;l=(0,b.jsx)(P.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:l})}return a.space?(0,b.jsx)(T.Z,c()(c()({},a.space),{},{children:l})):l}},16970:function(S,g,n){var D=n(15009),o=n.n(D),M=n(99289),c=n.n(M),f=n(5574),I=n.n(f),P=n(3616),T=n(24963),b=n(14946),u=n(36146),_=n(184),a=n(5966),d=n(62370),m=n(97462),l=n(52688),h=n(24739),E=n(17186),C=n(83622),j=n(34041),w=n(71230),O=n(15746),s=n(67294),e=n(85893),p=(0,s.forwardRef)(function(r,Y){var y,J=(0,s.useState)(!1),X=I()(J,2),Q=X[0],q=X[1],L=(0,s.useRef)(),ee=(0,s.useContext)(T.Z),re=ee.message,t=new u.Uo("components.network");return(0,s.useImperativeHandle)(Y,function(){return{}}),(0,e.jsxs)(_.a,{drawerProps:{width:P.R_},name:"createNetwork",title:t.format("createTitle"),open:Q,onOpenChange:function(v){q(v)},formRef:L,trigger:(y=r.trigger)!==null&&y!==void 0?y:(0,e.jsx)(C.ZP,{type:"primary",children:t.format("createTitle")}),onFinish:function(){var U=c()(o()().mark(function v(i){var A,Z,B,K,F,V,k,N,$,G,z,W,x,H;return o()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return W={name:i.name,driver:(A=i.driver)!==null&&A!==void 0?A:"bridge",ipSubnet:(Z=i.ipSubnet)!==null&&Z!==void 0?Z:"",ipGateway:(B=i.ipGateway)!==null&&B!==void 0?B:"",ipRange:(K=i.ipRange)!==null&&K!==void 0?K:"",ipAux:i.ipAux,enableIpV6:(F=i.enableIpV6)!==null&&F!==void 0?F:!1,ipV6Subnet:(V=i.ipV6Subnet)!==null&&V!==void 0?V:"",ipV6Gateway:(k=i.ipV6Gateway)!==null&&k!==void 0?k:"",ipV6Range:(N=i.ipV6Range)!==null&&N!==void 0?N:"",ipV6Aux:($=i.ipV6Aux)!==null&&$!==void 0?$:[],driverOption:i.driverOption,internal:(G=i.internal)!==null&&G!==void 0?G:!1,attachable:(z=i.attachable)!==null&&z!==void 0?z:!1},(i.driver=="macvlan"||i.driver=="ipvlan")&&(W.driverOption||(W.driverOption=[]),W.driverOption.push({name:"parent",value:i.macvlanParentCard})),R.next=4,(0,b.XY)(W);case 4:if(x=R.sent,!(x&&x.data&&x.data.id!="")){R.next=10;break}return re.success(u.FD.format("finish")),r.onFinish&&r.onFinish(),(H=L.current)===null||H===void 0||H.resetFields(),R.abrupt("return",!0);case 10:case"end":return R.stop()}},v)}));return function(v){return U.apply(this,arguments)}}(),children:[(0,e.jsx)(a.Z,{label:t.format("createFormName"),name:"name",required:!0,rules:[{required:!0}],placeholder:t.format("createFormNameEmpty")}),(0,e.jsx)(d.Z,{label:t.format("createFormDriver"),name:"driver",children:(0,e.jsxs)(j.Z,{defaultValue:"bridge",children:[(0,e.jsx)(j.Z.Option,{value:"bridge",children:"bridge"}),(0,e.jsx)(j.Z.Option,{value:"macvlan",children:"macvlan"}),(0,e.jsx)(j.Z.Option,{value:"ipvlan",children:"ipvlan"}),(0,e.jsx)(j.Z.Option,{value:"overlay",children:"overlay"})]})}),(0,e.jsx)(m.Z,{name:["driver"],children:function(v){var i=v.driver;if(i=="macvlan"||i=="ipvlan")return(0,e.jsx)(a.Z,{required:!0,rules:[{required:!0}],label:t.format("createFormMacvlanParentCard"),name:"macvlanParentCard",tooltip:t.format("createFormMacvlanParentCardTip")})}}),(0,e.jsxs)(w.Z,{children:[(0,e.jsx)(O.Z,{span:8,children:(0,e.jsx)(l.Z,{label:t.format("createFormUserIpV4Subnet"),name:"userIpV4Subnet"})}),(0,e.jsx)(O.Z,{span:8,children:(0,e.jsx)(l.Z,{name:"internal",label:t.format("createFormInternal"),initialValue:!1})}),(0,e.jsx)(O.Z,{span:8,children:(0,e.jsx)(l.Z,{name:"attachable",label:t.format("createFormAttachable"),initialValue:!1})})]}),(0,e.jsx)(m.Z,{name:["userIpV4Subnet"],children:function(v){var i=v.userIpV4Subnet;if(i)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(h.UW,{title:t.format("createFormIpTitle"),children:[(0,e.jsx)(a.Z,{label:t.format("createFormIpSubnet"),name:"ipSubnet",width:"md",tooltip:t.format("createFormIpSubnetTip"),placeholder:"192.168.0.0/16"}),(0,e.jsx)(a.Z,{label:t.format("createFormIpGateway"),name:"ipGateway",width:"md",placeholder:"192.168.0.1"}),(0,e.jsx)(a.Z,{label:t.format("createFormIpRange"),name:"ipRange",width:"md",placeholder:"192.168.1.0/24"})]}),(0,e.jsx)(E.u,{name:"ipAux",label:t.format("createFormIpAux"),children:(0,e.jsxs)(h.UW,{children:[(0,e.jsx)(a.Z,{label:t.format("createFormIpAuxDevice"),name:"device",width:"md"}),(0,e.jsx)(a.Z,{label:t.format("createFormIpAuxAddress"),name:"address",width:"md"})]})})]})}}),(0,e.jsxs)(w.Z,{children:[(0,e.jsx)(O.Z,{span:8,children:(0,e.jsx)(l.Z,{label:t.format("createFormEnableIpV6"),name:"enableIpV6"})}),(0,e.jsx)(O.Z,{children:(0,e.jsx)(l.Z,{label:t.format("createFormUserIpV6Subnet"),name:"userIpV6Subnet",fieldProps:{onChange:function(v,i){if(v){var A;(A=L.current)===null||A===void 0||A.setFieldValue("enableIpV6",!0)}}}})})]}),(0,e.jsx)(m.Z,{name:["userIpV6Subnet"],children:function(v){var i=v.userIpV6Subnet;if(i)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(h.UW,{title:t.format("createFormIpV6"),children:[(0,e.jsx)(a.Z,{label:t.format("createFormIpSubnet"),name:"ipV6Subnet",width:"md",placeholder:"2001:db8::/48"}),(0,e.jsx)(a.Z,{label:t.format("createFormIpGateway"),name:"ipV6Gateway",width:"md",placeholder:"2001:db8::1"}),(0,e.jsx)(a.Z,{label:t.format("createFormIpRange"),name:"ipV6Range",width:"md",placeholder:"2001:db8::/64"})]}),(0,e.jsx)(E.u,{name:"ipV6Aux",label:t.format("createFormIpAux"),children:(0,e.jsxs)(h.UW,{children:[(0,e.jsx)(a.Z,{label:t.format("createFormIpAuxDevice"),name:"device",width:"md"}),(0,e.jsx)(a.Z,{label:t.format("createFormIpAuxAddress"),name:"address",width:"md"})]})})]})}}),(0,e.jsx)(E.u,{name:"driverOption",label:t.format("createFormDriverOption"),children:(0,e.jsxs)(h.UW,{children:[(0,e.jsx)(a.Z,{label:t.format("createFormDriverOptionName"),name:"name",width:"md"}),(0,e.jsx)(a.Z,{label:t.format("createFormDriverOptionValue"),name:"value",width:"md"})]})})]})});g.Z=p},14946:function(S,g,n){n.d(g,{CI:function(){return u},HY:function(){return C},IS:function(){return I},XY:function(){return m},_3:function(){return w},_x:function(){return a},jR:function(){return T},t9:function(){return h}});var D=n(15009),o=n.n(D),M=n(99289),c=n.n(M),f=n(82346);function I(s){return P.apply(this,arguments)}function P(){return P=c()(o()().mark(function s(e){return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,f.request)("/api/app/network/get-detail",{method:"POST",data:e}));case 1:case"end":return r.stop()}},s)})),P.apply(this,arguments)}function T(s){return b.apply(this,arguments)}function b(){return b=c()(o()().mark(function s(e){return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,f.request)("/api/app/network/get-list",{method:"POST",data:e}));case 1:case"end":return r.stop()}},s)})),b.apply(this,arguments)}function u(){return _.apply(this,arguments)}function _(){return _=c()(o()().mark(function s(){return o()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,f.request)("/api/app/network/prune",{method:"POST"});case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},s)})),_.apply(this,arguments)}function a(s){return d.apply(this,arguments)}function d(){return d=c()(o()().mark(function s(e){return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.request)("/api/app/network/delete",{method:"POST",data:e});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},s)})),d.apply(this,arguments)}function m(s){return l.apply(this,arguments)}function l(){return l=c()(o()().mark(function s(e){return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.request)("/api/app/network/create",{method:"POST",data:e});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},s)})),l.apply(this,arguments)}function h(s){return E.apply(this,arguments)}function E(){return E=c()(o()().mark(function s(e){return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.request)("/api/app/network/disconnect",{method:"POST",data:e});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},s)})),E.apply(this,arguments)}function C(s){return j.apply(this,arguments)}function j(){return j=c()(o()().mark(function s(e){return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.request)("/api/app/network/connect",{method:"POST",data:e});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},s)})),j.apply(this,arguments)}function w(s){return O.apply(this,arguments)}function O(){return O=c()(o()().mark(function s(e){return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,f.request)("/api/app/network/get-container-list",{method:"POST",data:e}));case 1:case"end":return r.stop()}},s)})),O.apply(this,arguments)}},67255:function(S,g,n){n.d(g,{G$:function(){return f},LX:function(){return b},MJ:function(){return c},Oh:function(){return M},h5:function(){return P},j_:function(){return I},rj:function(){return T}});var D=n(5574),o=n.n(D);function M(u){var _=localStorage.getItem("dpanel-pagesize");return _=="all"?!1:{defaultCurrent:u==null?void 0:u.page,showSizeChanger:!0,defaultPageSize:parseInt(_!=null?_:"20"),showQuickJumper:!0}}function c(u,_){_?localStorage.setItem("dpanel-page-"+u,"".concat(_)):localStorage.removeItem("dpanel-page-"+u)}function f(u,_){var a,d=_?Math.ceil((_==null?void 0:_.total)/(_==null?void 0:_.pageSize)):void 0,m=parseInt((a=localStorage.getItem("dpanel-page-"+u))!==null&&a!==void 0?a:"");if(console.log(d),console.log(m),m!=0)return d&&m>d?d:m}function I(u){return{persistenceKey:u,persistenceType:"localStorage"}}var P=["descend","ascend"];function T(u,_){var a=localStorage.getItem("dpanel-table-sort-".concat(u));if(a){var d=a.split("|"),m=o()(d,2),l=m[0],h=m[1];if(l==_)return h}}function b(u,_,a){!_||!a?localStorage.removeItem("dpanel-table-sort-".concat(u)):localStorage.setItem("dpanel-table-sort-".concat(u),"".concat(_,"|").concat(a))}}}]);
