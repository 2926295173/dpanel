"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9907],{94149:function(V,S,e){e.d(S,{Z:function(){return Z}});var u=e(87462),i=e(67294),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},F=E,p=e(84089),j=function(d,f){return i.createElement(p.Z,(0,u.Z)({},d,{ref:f,icon:F}))},M=i.forwardRef(j),Z=M},88641:function(V,S,e){e.d(S,{Z:function(){return Z}});var u=e(87462),i=e(67294),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},F=E,p=e(84089),j=function(d,f){return i.createElement(p.Z,(0,u.Z)({},d,{ref:f,icon:F}))},M=i.forwardRef(j),Z=M},88360:function(V,S,e){e.d(S,{Z:function(){return Z}});var u=e(87462),i=e(67294),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"},F=E,p=e(84089),j=function(d,f){return i.createElement(p.Z,(0,u.Z)({},d,{ref:f,icon:F}))},M=i.forwardRef(j),Z=M},68262:function(V,S,e){e.d(S,{U:function(){return W}});var u=e(1413),i=e(45987),E=e(10915),F=e(21532),p=e(93967),j=e.n(p),M=e(67294),Z=e(97269),I=e(4942),d=e(98082),f=function(h){return(0,I.Z)((0,I.Z)({},h.componentCls,{"&-container":{display:"flex",flex:"1",flexDirection:"column",height:"100%",paddingInline:32,paddingBlock:24,overflow:"auto",background:"inherit"},"&-top":{textAlign:"center"},"&-header":{display:"flex",alignItems:"center",justifyContent:"center",height:"44px",lineHeight:"44px",a:{textDecoration:"none"}},"&-title":{position:"relative",insetBlockStart:"2px",color:"@heading-color",fontWeight:"600",fontSize:"33px"},"&-logo":{width:"44px",height:"44px",marginInlineEnd:"16px",verticalAlign:"top",img:{width:"100%"}},"&-desc":{marginBlockStart:"12px",marginBlockEnd:"40px",color:h.colorTextSecondary,fontSize:h.fontSize},"&-main":{minWidth:"328px",maxWidth:"580px",margin:"0 auto","&-other":{marginBlockStart:"24px",lineHeight:"22px",textAlign:"start"}}}),"@media (min-width: @screen-md-min)",(0,I.Z)({},"".concat(h.componentCls,"-container"),{paddingInline:0,paddingBlockStart:32,paddingBlockEnd:24,backgroundRepeat:"no-repeat",backgroundPosition:"center 110px",backgroundSize:"100%"}))};function T(g){return(0,d.Xj)("LoginForm",function(h){var A=(0,u.Z)((0,u.Z)({},h),{},{componentCls:".".concat(g)});return[f(A)]})}var m=e(85893),N=["logo","message","contentStyle","title","subTitle","actions","children","containerStyle","otherStyle"];function W(g){var h,A=g.logo,l=g.message,$=g.contentStyle,R=g.title,D=g.subTitle,G=g.actions,z=g.children,O=g.containerStyle,U=g.otherStyle,s=(0,i.Z)(g,N),n=(0,E.YB)(),t=s.submitter===!1?!1:(0,u.Z)((0,u.Z)({searchConfig:{submitText:n.getMessage("loginForm.submitText","\u767B\u5F55")}},s.submitter),{},{submitButtonProps:(0,u.Z)({size:"large",style:{width:"100%"}},(h=s.submitter)===null||h===void 0?void 0:h.submitButtonProps),render:function(L,P){var b,H=P.pop();if(typeof(s==null||(b=s.submitter)===null||b===void 0?void 0:b.render)=="function"){var C,w;return s==null||(C=s.submitter)===null||C===void 0||(w=C.render)===null||w===void 0?void 0:w.call(C,L,P)}return H}}),a=(0,M.useContext)(F.ZP.ConfigContext),r=a.getPrefixCls("pro-form-login"),c=T(r),o=c.wrapSSR,x=c.hashId,v=function(L){return"".concat(r,"-").concat(L," ").concat(x)},B=(0,M.useMemo)(function(){return A?typeof A=="string"?(0,m.jsx)("img",{src:A}):A:null},[A]);return o((0,m.jsxs)("div",{className:j()(v("container"),x),style:O,children:[(0,m.jsxs)("div",{className:"".concat(v("top")," ").concat(x).trim(),children:[R||B?(0,m.jsxs)("div",{className:"".concat(v("header")),children:[B?(0,m.jsx)("span",{className:v("logo"),children:B}):null,R?(0,m.jsx)("span",{className:v("title"),children:R}):null]}):null,D?(0,m.jsx)("div",{className:v("desc"),children:D}):null]}),(0,m.jsxs)("div",{className:v("main"),style:(0,u.Z)({width:328},$),children:[(0,m.jsxs)(Z.A,(0,u.Z)((0,u.Z)({isKeyPressSubmit:!0},s),{},{submitter:t,children:[l,z]})),G?(0,m.jsx)("div",{className:v("main-other"),style:U,children:G}):null]})]}))}},67719:function(V,S,e){e.r(S),e.d(S,{default:function(){return z}});var u=e(15009),i=e.n(u),E=e(99289),F=e.n(E),p=e(5574),j=e.n(p),M=e(68262),Z=e(9361),I=e(86250),d=e(45360),f=e(67294),T=e(88360),m=e(29177),N=e(88641),W=e(94149),g=e(5966),h=e(97462),A=e(92398),l=e(85893);function $(O){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(A.Z,{centered:!0,activeKey:"register",items:[{icon:(0,l.jsx)(T.Z,{}),key:"register",label:"\u7528\u6237\u6CE8\u518C\u6216\u91CD\u7F6E"}]}),(0,l.jsx)(g.Z,{name:"username",fieldProps:{size:"large",prefix:(0,l.jsx)(m.Z,{className:"prefixIcon"}),disabled:!0,defaultValue:O.username}}),(0,l.jsx)(g.Z,{name:"email",fieldProps:{size:"large",prefix:(0,l.jsx)(N.Z,{className:"prefixIcon"}),disabled:!!O.email||!1,defaultValue:O.email},placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1",rules:O.email?[]:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\uFF01"},{type:"email",message:"\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E\uFF01"}]}),(0,l.jsx)(g.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,l.jsx)(W.Z,{className:"prefixIcon"})},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:O.securityPassword?[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"},{min:8,message:"\u5BC6\u7801\u957F\u5EA6\u4E0D\u80FD\u5C0F\u4E8E8\u4F4D\uFF01"},{pattern:/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,message:"\u5BC6\u7801\u5FC5\u987B\u5305\u542B\u5927\u5C0F\u5199\u5B57\u6BCD\u548C\u6570\u5B57\uFF01"}]:[]},"password"),(0,l.jsx)(h.Z,{name:["password"],children:function(){return(0,l.jsx)(g.Z.Password,{fieldProps:{size:"large",prefix:(0,l.jsx)(W.Z,{className:"prefixIcon"})},placeholder:"\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801",name:"confirmPassword",dependencies:["password"],rules:[{required:!0,message:"\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801\uFF01"},function(s){var n=s.getFieldValue;return{validator:function(a,r){return!r||n("password")===r?Promise.resolve():Promise.reject(new Error("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4"))}}}]},"confirmPassword")}}),O.token&&(0,l.jsx)("input",{type:"hidden",name:"token",value:O.token})]})}var R=e(68602),D=e(82346);function G(O){try{var U=O.split(".");if(U.length!==3)throw new Error("JWT\u683C\u5F0F\u4E0D\u6B63\u786E");var s=U[1],n=s.replace(/-/g,"+").replace(/_/g,"/"),t=decodeURIComponent(atob(n).split("").map(function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)}catch(a){return console.error("JWT\u89E3\u6790\u9519\u8BEF:",a),null}}var z=function(){var O=Z.Z.useToken(),U=O.token,s=(0,D.useSearchParams)(),n=j()(s,1),t=n[0],a=G(t.get("token")||""),r=(0,f.useState)(),c=j()(r,1),o=c[0],x=a.securityPassword,v=(0,f.useState)({token:t.get("token")||"",username:a.username||"",email:a.email||""}),B=j()(v,1),y=B[0];return(0,f.useEffect)(function(){window.document.title="DPanel - Docker \u7BA1\u7406\u9762\u677F"},[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(I.Z,{justify:"center",align:"center",style:{height:"100vh",background:o&&o.themeUserConfig&&o.themeUserConfig.bgImage&&o.themeUserConfig.bgImage.src?"url(".concat(o.themeUserConfig.bgImage.src,")"):"".concat(U.colorBgElevated,"dd")},children:(0,l.jsx)(M.U,{onFinish:function(){var L=F()(i()().mark(function P(b){return i()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,(0,R.MS)({password:b.password,confirmPassword:b.confirmPassword,email:b.email||y.email,token:y.token});case 2:d.ZP.success("\u6CE8\u518C\u6210\u529F"),D.history.replace("/user/login");case 4:case"end":return C.stop()}},P)}));return function(P){return L.apply(this,arguments)}}(),containerStyle:{background:"transparent",height:"auto"},logo:"",title:(0,l.jsx)("a",{href:"https://dpanel.cc",target:"_blank",children:(0,l.jsx)("img",{src:o&&o.themeUserConfig&&o.themeUserConfig.loginLogo?o.themeUserConfig.loginLogo:"/dpanel/static/asset/logo.png",width:"350"})}),subTitle:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("br",{}),(0,l.jsx)("br",{})]}),children:(0,l.jsx)($,{securityPassword:x,token:y.token,username:y.username,email:y.email})})})})}},86250:function(V,S,e){e.d(S,{Z:function(){return U}});var u=e(67294),i=e(93967),E=e.n(i),F=e(98423),p=e(98065),j=e(53124),M=e(83559),Z=e(83262);const I=["wrap","nowrap","wrap-reverse"],d=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],f=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],T=(s,n)=>{const t=n.wrap===!0?"wrap":n.wrap;return{[`${s}-wrap-${t}`]:t&&I.includes(t)}},m=(s,n)=>{const t={};return f.forEach(a=>{t[`${s}-align-${a}`]=n.align===a}),t[`${s}-align-stretch`]=!n.align&&!!n.vertical,t},N=(s,n)=>{const t={};return d.forEach(a=>{t[`${s}-justify-${a}`]=n.justify===a}),t};function W(s,n){return E()(Object.assign(Object.assign(Object.assign({},T(s,n)),m(s,n)),N(s,n)))}var g=W;const h=s=>{const{componentCls:n}=s;return{[n]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},A=s=>{const{componentCls:n}=s;return{[n]:{"&-gap-small":{gap:s.flexGapSM},"&-gap-middle":{gap:s.flexGap},"&-gap-large":{gap:s.flexGapLG}}}},l=s=>{const{componentCls:n}=s,t={};return I.forEach(a=>{t[`${n}-wrap-${a}`]={flexWrap:a}}),t},$=s=>{const{componentCls:n}=s,t={};return f.forEach(a=>{t[`${n}-align-${a}`]={alignItems:a}}),t},R=s=>{const{componentCls:n}=s,t={};return d.forEach(a=>{t[`${n}-justify-${a}`]={justifyContent:a}}),t},D=()=>({});var G=(0,M.I$)("Flex",s=>{const{paddingXS:n,padding:t,paddingLG:a}=s,r=(0,Z.IX)(s,{flexGapSM:n,flexGap:t,flexGapLG:a});return[h(r),A(r),l(r),$(r),R(r)]},D,{resetStyle:!1}),z=function(s,n){var t={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&n.indexOf(a)<0&&(t[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(s);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(s,a[r])&&(t[a[r]]=s[a[r]]);return t},U=u.forwardRef((s,n)=>{const{prefixCls:t,rootClassName:a,className:r,style:c,flex:o,gap:x,children:v,vertical:B=!1,component:y="div"}=s,L=z(s,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:P,direction:b,getPrefixCls:H}=u.useContext(j.E_),C=H("flex",t),[w,J,X]=G(C),Y=B!=null?B:P==null?void 0:P.vertical,Q=E()(r,a,P==null?void 0:P.className,C,J,X,g(C,s),{[`${C}-rtl`]:b==="rtl",[`${C}-gap-${x}`]:(0,p.n)(x),[`${C}-vertical`]:Y}),K=Object.assign(Object.assign({},P==null?void 0:P.style),c);return o&&(K.flex=o),x&&!(0,p.n)(x)&&(K.gap=x),w(u.createElement(y,Object.assign({ref:n,className:Q,style:K},(0,F.Z)(L,["justify","wrap","align"])),v))})},45360:function(V,S,e){var u=e(74902),i=e(67294),E=e(66968),F=e(53124),p=e(21532),j=e(69711),M=e(66277),Z=e(16474),I=e(84926);let d=null,f=n=>n(),T=[],m={};function N(){const{getContainer:n,duration:t,rtl:a,maxCount:r,top:c}=m,o=(n==null?void 0:n())||document.body;return{getContainer:()=>o,duration:t,rtl:a,maxCount:r,top:c}}const W=i.forwardRef((n,t)=>{const{messageConfig:a,sync:r}=n,{getPrefixCls:c}=(0,i.useContext)(F.E_),o=m.prefixCls||c("message"),x=(0,i.useContext)(E.J),[v,B]=(0,Z.K)(Object.assign(Object.assign(Object.assign({},a),{prefixCls:o}),x.message));return i.useImperativeHandle(t,()=>{const y=Object.assign({},v);return Object.keys(y).forEach(L=>{y[L]=function(){return r(),v[L].apply(v,arguments)}}),{instance:y,sync:r}}),B}),g=i.forwardRef((n,t)=>{const[a,r]=i.useState(N),c=()=>{r(N)};i.useEffect(c,[]);const o=(0,p.w6)(),x=o.getRootPrefixCls(),v=o.getIconPrefixCls(),B=o.getTheme(),y=i.createElement(W,{ref:t,sync:c,messageConfig:a});return i.createElement(p.ZP,{prefixCls:x,iconPrefixCls:v,theme:B},o.holderRender?o.holderRender(y):y)});function h(){if(!d){const n=document.createDocumentFragment(),t={fragment:n};d=t,f(()=>{(0,j.x)()(i.createElement(g,{ref:r=>{const{instance:c,sync:o}=r||{};Promise.resolve().then(()=>{!t.instance&&c&&(t.instance=c,t.sync=o,h())})}}),n)});return}d.instance&&(T.forEach(n=>{const{type:t,skipped:a}=n;if(!a)switch(t){case"open":{f(()=>{const r=d.instance.open(Object.assign(Object.assign({},m),n.config));r==null||r.then(n.resolve),n.setCloseFn(r)});break}case"destroy":f(()=>{d==null||d.instance.destroy(n.key)});break;default:f(()=>{var r;const c=(r=d.instance)[t].apply(r,(0,u.Z)(n.args));c==null||c.then(n.resolve),n.setCloseFn(c)})}}),T=[])}function A(n){m=Object.assign(Object.assign({},m),n),f(()=>{var t;(t=d==null?void 0:d.sync)===null||t===void 0||t.call(d)})}function l(n){const t=(0,I.J)(a=>{let r;const c={type:"open",config:n,resolve:a,setCloseFn:o=>{r=o}};return T.push(c),()=>{r?f(()=>{r()}):c.skipped=!0}});return h(),t}function $(n,t){const a=(0,p.w6)(),r=(0,I.J)(c=>{let o;const x={type:n,args:t,resolve:c,setCloseFn:v=>{o=v}};return T.push(x),()=>{o?f(()=>{o()}):x.skipped=!0}});return h(),r}const R=n=>{T.push({type:"destroy",key:n}),h()},D=["success","info","warning","error","loading"],z={open:l,destroy:R,config:A,useMessage:Z.Z,_InternalPanelDoNotUseOrYouWillBeFired:M.ZP};D.forEach(n=>{z[n]=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return $(n,a)}});const O=()=>{};let U=null,s=null;S.ZP=z}}]);
