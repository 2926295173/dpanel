"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9907],{94149:function(H,T,e){e.d(T,{Z:function(){return F}});var g=e(87462),c=e(67294),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},R=E,C=e(84089),j=function(i,p){return c.createElement(C.Z,(0,g.Z)({},i,{ref:p,icon:R}))},I=c.forwardRef(j),F=I},88641:function(H,T,e){e.d(T,{Z:function(){return F}});var g=e(87462),c=e(67294),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},R=E,C=e(84089),j=function(i,p){return c.createElement(C.Z,(0,g.Z)({},i,{ref:p,icon:R}))},I=c.forwardRef(j),F=I},88360:function(H,T,e){e.d(T,{Z:function(){return F}});var g=e(87462),c=e(67294),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"},R=E,C=e(84089),j=function(i,p){return c.createElement(C.Z,(0,g.Z)({},i,{ref:p,icon:R}))},I=c.forwardRef(j),F=I},5966:function(H,T,e){var g=e(97685),c=e(1413),E=e(45987),R=e(21770),C=e(21054),j=e(55241),I=e(98423),F=e(67294),O=e(40284),i=e(85893),p=["fieldProps","proFieldProps"],U=["fieldProps","proFieldProps"],v="text",$=function(m){var n=m.fieldProps,S=m.proFieldProps,M=(0,E.Z)(m,p);return(0,i.jsx)(O.Z,(0,c.Z)({valueType:v,fieldProps:n,filedConfig:{valueType:v},proFieldProps:S},M))},V=function(m){var n=(0,R.Z)(m.open||!1,{value:m.open,onChange:m.onOpenChange}),S=(0,g.Z)(n,2),M=S[0],N=S[1];return(0,i.jsx)(C.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(Z){var h,r=Z.getFieldValue(m.name||[]);return(0,i.jsx)(j.Z,(0,c.Z)((0,c.Z)({getPopupContainer:function(s){return s&&s.parentNode?s.parentNode:s},onOpenChange:function(s){return N(s)},content:(0,i.jsxs)("div",{style:{padding:"4px 0"},children:[(h=m.statusRender)===null||h===void 0?void 0:h.call(m,r),m.strengthText?(0,i.jsx)("div",{style:{marginTop:10},children:(0,i.jsx)("span",{children:m.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},m.popoverProps),{},{open:M,children:m.children}))}})},P=function(m){var n=m.fieldProps,S=m.proFieldProps,M=(0,E.Z)(m,U),N=(0,F.useState)(!1),b=(0,g.Z)(N,2),Z=b[0],h=b[1];return n!=null&&n.statusRender&&M.name?(0,i.jsx)(V,{name:M.name,statusRender:n==null?void 0:n.statusRender,popoverProps:n==null?void 0:n.popoverProps,strengthText:n==null?void 0:n.strengthText,open:Z,onOpenChange:h,children:(0,i.jsx)("div",{children:(0,i.jsx)(O.Z,(0,c.Z)({valueType:"password",fieldProps:(0,c.Z)((0,c.Z)({},(0,I.Z)(n,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(a){var s;n==null||(s=n.onBlur)===null||s===void 0||s.call(n,a),h(!1)},onClick:function(a){var s;n==null||(s=n.onClick)===null||s===void 0||s.call(n,a),h(!0)}}),proFieldProps:S,filedConfig:{valueType:v}},M))})}):(0,i.jsx)(O.Z,(0,c.Z)({valueType:"password",fieldProps:n,proFieldProps:S,filedConfig:{valueType:v}},M))},f=$;f.Password=P,f.displayName="ProFormComponent",T.Z=f},68262:function(H,T,e){e.d(T,{U:function(){return V}});var g=e(1413),c=e(45987),E=e(10915),R=e(21532),C=e(93967),j=e.n(C),I=e(67294),F=e(97269),O=e(4942),i=e(64847),p=function(f){return(0,O.Z)((0,O.Z)({},f.componentCls,{"&-container":{display:"flex",flex:"1",flexDirection:"column",height:"100%",paddingInline:32,paddingBlock:24,overflow:"auto",background:"inherit"},"&-top":{textAlign:"center"},"&-header":{display:"flex",alignItems:"center",justifyContent:"center",height:"44px",lineHeight:"44px",a:{textDecoration:"none"}},"&-title":{position:"relative",insetBlockStart:"2px",color:"@heading-color",fontWeight:"600",fontSize:"33px"},"&-logo":{width:"44px",height:"44px",marginInlineEnd:"16px",verticalAlign:"top",img:{width:"100%"}},"&-desc":{marginBlockStart:"12px",marginBlockEnd:"40px",color:f.colorTextSecondary,fontSize:f.fontSize},"&-main":{minWidth:"328px",maxWidth:"580px",margin:"0 auto","&-other":{marginBlockStart:"24px",lineHeight:"22px",textAlign:"start"}}}),"@media (min-width: @screen-md-min)",(0,O.Z)({},"".concat(f.componentCls,"-container"),{paddingInline:0,paddingBlockStart:32,paddingBlockEnd:24,backgroundRepeat:"no-repeat",backgroundPosition:"center 110px",backgroundSize:"100%"}))};function U(P){return(0,i.Xj)("LoginForm",function(f){var D=(0,g.Z)((0,g.Z)({},f),{},{componentCls:".".concat(P)});return[p(D)]})}var v=e(85893),$=["logo","message","contentStyle","title","subTitle","actions","children","containerStyle","otherStyle"];function V(P){var f,D=P.logo,m=P.message,n=P.contentStyle,S=P.title,M=P.subTitle,N=P.actions,b=P.children,Z=P.containerStyle,h=P.otherStyle,r=(0,c.Z)(P,$),a=(0,E.YB)(),s=r.submitter===!1?!1:(0,g.Z)((0,g.Z)({searchConfig:{submitText:a.getMessage("loginForm.submitText","\u767B\u5F55")}},r.submitter),{},{submitButtonProps:(0,g.Z)({size:"large",style:{width:"100%"}},(f=r.submitter)===null||f===void 0?void 0:f.submitButtonProps),render:function(x,A){var K,B=A.pop();if(typeof(r==null||(K=r.submitter)===null||K===void 0?void 0:K.render)=="function"){var w,z;return r==null||(w=r.submitter)===null||w===void 0||(z=w.render)===null||z===void 0?void 0:z.call(w,x,A)}return B}}),t=(0,I.useContext)(R.ZP.ConfigContext),o=t.getPrefixCls("pro-form-login"),y=U(o),l=y.wrapSSR,u=y.hashId,d=function(x){return"".concat(o,"-").concat(x," ").concat(u)},L=(0,I.useMemo)(function(){return D?typeof D=="string"?(0,v.jsx)("img",{src:D}):D:null},[D]);return l((0,v.jsxs)("div",{className:j()(d("container"),u),style:Z,children:[(0,v.jsxs)("div",{className:"".concat(d("top")," ").concat(u).trim(),children:[S||L?(0,v.jsxs)("div",{className:"".concat(d("header")),children:[L?(0,v.jsx)("span",{className:d("logo"),children:L}):null,S?(0,v.jsx)("span",{className:d("title"),children:S}):null]}):null,M?(0,v.jsx)("div",{className:d("desc"),children:M}):null]}),(0,v.jsxs)("div",{className:d("main"),style:(0,g.Z)({width:328},n),children:[(0,v.jsxs)(F.A,(0,g.Z)((0,g.Z)({isKeyPressSubmit:!0},r),{},{submitter:s,children:[m,b]})),N?(0,v.jsx)("div",{className:d("main-other"),style:h,children:N}):null]})]}))}},67719:function(H,T,e){e.r(T),e.d(T,{default:function(){return b}});var g=e(15009),c=e.n(g),E=e(99289),R=e.n(E),C=e(5574),j=e.n(C),I=e(68262),F=e(9361),O=e(86250),i=e(45360),p=e(67294),U=e(36146),v=e(88360),$=e(29177),V=e(88641),P=e(94149),f=e(5966),D=e(97462),m=e(92398),n=e(85893);function S(Z){var h=new U.Uo("user");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.Z,{centered:!0,activeKey:"register",items:[{icon:(0,n.jsx)(v.Z,{}),key:"register",label:h.format("registerUserTitle")}]}),(0,n.jsx)(f.Z,{name:"username",fieldProps:{size:"large",prefix:(0,n.jsx)($.Z,{className:"prefixIcon"}),disabled:!0,defaultValue:Z.username}}),(0,n.jsx)(f.Z,{name:"email",fieldProps:{size:"large",prefix:(0,n.jsx)(V.Z,{className:"prefixIcon"}),disabled:!!Z.email||!1,defaultValue:Z.email},placeholder:h.format("formEmailEmpty"),rules:Z.email?[]:[{required:!0,message:h.format("formEmailEmpty")},{type:"email"}]}),(0,n.jsx)(f.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,n.jsx)(P.Z,{className:"prefixIcon"})},placeholder:h.format("formPasswordEmpty"),rules:Z.securityPassword?[{required:!0,message:h.format("formPasswordEmpty")},{min:8,message:h.format("formPasswordRule1")},{pattern:/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,message:h.format("formPasswordRule2")}]:[]},"password"),(0,n.jsx)(D.Z,{name:["password"],children:function(){return(0,n.jsx)(f.Z.Password,{fieldProps:{size:"large",prefix:(0,n.jsx)(P.Z,{className:"prefixIcon"})},placeholder:h.format("formConfirmPasswordEmpty"),name:"confirmPassword",dependencies:["password"],rules:[{required:!0,message:h.format("formConfirmPasswordEmpty")},function(a){var s=a.getFieldValue;return{validator:function(o,y){return!y||s("password")===y?Promise.resolve():Promise.reject(new Error(h.format("formMessagePasswordNotMatch")))}}}]},"confirmPassword")}}),Z.token&&(0,n.jsx)("input",{type:"hidden",name:"token",value:Z.token})]})}var M=e(68602),N=e(82346),b=function(){var Z=F.Z.useToken(),h=Z.token,r=(0,N.useSearchParams)(),a=j()(r,1),s=a[0],t=K(s.get("token")||""),o=(0,p.useState)(),y=j()(o,2),l=y[0],u=y[1],d=t.securityPassword,L=(0,p.useState)({token:s.get("token")||"",username:t.username||"",email:t.email||""}),W=j()(L,1),x=W[0],A=new U.Uo("user");(0,p.useEffect)(function(){window.document.title=A.format("documentTitle")},[]);function K(B){try{var w=B.split(".");if(w.length!==3)throw new Error(A.format("jwtMessageIncorrectFormat"));var z=w[1],X=z.replace(/-/g,"+").replace(/_/g,"/"),G=decodeURIComponent(atob(X).split("").map(function(J){return"%"+("00"+J.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(G)}catch(J){return console.error(A.format("jwtMessageInvalid"),J),null}}return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(O.Z,{justify:"center",align:"center",style:{height:"100vh",background:l&&l.themeUserConfig&&l.themeUserConfig.bgImage&&l.themeUserConfig.bgImage.src?"url(".concat(l.themeUserConfig.bgImage.src,")"):"".concat(h.colorBgElevated,"dd")},children:(0,n.jsx)(I.U,{onFinish:function(){var B=R()(c()().mark(function w(z){return c()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,(0,M.MS)({password:z.password,confirmPassword:z.confirmPassword,email:z.email||x.email,token:x.token});case 2:i.ZP.success(U.FD.format("title.successRegister")),N.history.replace("/user/login");case 4:case"end":return G.stop()}},w)}));return function(w){return B.apply(this,arguments)}}(),containerStyle:{background:"transparent",height:"auto"},logo:"",title:(0,n.jsx)("a",{href:"https://dpanel.cc",target:"_blank",children:(0,n.jsx)("img",{src:l&&l.themeUserConfig&&l.themeUserConfig.loginLogo?l.themeUserConfig.loginLogo:"/dpanel/static/asset/logo.png",width:"350"})}),subTitle:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("br",{}),(0,n.jsx)("br",{})]}),children:(0,n.jsx)(S,{securityPassword:d,token:x.token,username:x.username,email:x.email})})})})}},86250:function(H,T,e){e.d(T,{Z:function(){return h}});var g=e(67294),c=e(93967),E=e.n(c),R=e(98423),C=e(98065),j=e(53124),I=e(83559),F=e(83262);const O=["wrap","nowrap","wrap-reverse"],i=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],p=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],U=(r,a)=>{const s=a.wrap===!0?"wrap":a.wrap;return{[`${r}-wrap-${s}`]:s&&O.includes(s)}},v=(r,a)=>{const s={};return p.forEach(t=>{s[`${r}-align-${t}`]=a.align===t}),s[`${r}-align-stretch`]=!a.align&&!!a.vertical,s},$=(r,a)=>{const s={};return i.forEach(t=>{s[`${r}-justify-${t}`]=a.justify===t}),s};function V(r,a){return E()(Object.assign(Object.assign(Object.assign({},U(r,a)),v(r,a)),$(r,a)))}var P=V;const f=r=>{const{componentCls:a}=r;return{[a]:{display:"flex",margin:0,padding:0,"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},D=r=>{const{componentCls:a}=r;return{[a]:{"&-gap-small":{gap:r.flexGapSM},"&-gap-middle":{gap:r.flexGap},"&-gap-large":{gap:r.flexGapLG}}}},m=r=>{const{componentCls:a}=r,s={};return O.forEach(t=>{s[`${a}-wrap-${t}`]={flexWrap:t}}),s},n=r=>{const{componentCls:a}=r,s={};return p.forEach(t=>{s[`${a}-align-${t}`]={alignItems:t}}),s},S=r=>{const{componentCls:a}=r,s={};return i.forEach(t=>{s[`${a}-justify-${t}`]={justifyContent:t}}),s},M=()=>({});var N=(0,I.I$)("Flex",r=>{const{paddingXS:a,padding:s,paddingLG:t}=r,o=(0,F.IX)(r,{flexGapSM:a,flexGap:s,flexGapLG:t});return[f(o),D(o),m(o),n(o),S(o)]},M,{resetStyle:!1}),b=function(r,a){var s={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&a.indexOf(t)<0&&(s[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(r);o<t.length;o++)a.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(r,t[o])&&(s[t[o]]=r[t[o]]);return s},h=g.forwardRef((r,a)=>{const{prefixCls:s,rootClassName:t,className:o,style:y,flex:l,gap:u,vertical:d=!1,component:L="div"}=r,W=b(r,["prefixCls","rootClassName","className","style","flex","gap","vertical","component"]),{flex:x,direction:A,getPrefixCls:K}=g.useContext(j.E_),B=K("flex",s),[w,z,X]=N(B),G=d!=null?d:x==null?void 0:x.vertical,J=E()(o,t,x==null?void 0:x.className,B,z,X,P(B,r),{[`${B}-rtl`]:A==="rtl",[`${B}-gap-${u}`]:(0,C.n)(u),[`${B}-vertical`]:G}),Y=Object.assign(Object.assign({},x==null?void 0:x.style),y);return l&&(Y.flex=l),u&&!(0,C.n)(u)&&(Y.gap=u),w(g.createElement(L,Object.assign({ref:a,className:J,style:Y},(0,R.Z)(W,["justify","wrap","align"]))))})},45360:function(H,T,e){var g=e(74902),c=e(67294),E=e(66968),R=e(53124),C=e(21532),j=e(69711),I=e(66277),F=e(16474),O=e(84926);let i=null,p=t=>t(),U=[],v={};function $(){const{getContainer:t,duration:o,rtl:y,maxCount:l,top:u}=v,d=(t==null?void 0:t())||document.body;return{getContainer:()=>d,duration:o,rtl:y,maxCount:l,top:u}}const V=c.forwardRef((t,o)=>{const{messageConfig:y,sync:l}=t,{getPrefixCls:u}=(0,c.useContext)(R.E_),d=v.prefixCls||u("message"),L=(0,c.useContext)(E.J),[W,x]=(0,F.K)(Object.assign(Object.assign(Object.assign({},y),{prefixCls:d}),L.message));return c.useImperativeHandle(o,()=>{const A=Object.assign({},W);return Object.keys(A).forEach(K=>{A[K]=(...B)=>(l(),W[K].apply(W,B))}),{instance:A,sync:l}}),x}),P=c.forwardRef((t,o)=>{const[y,l]=c.useState($),u=()=>{l($)};c.useEffect(u,[]);const d=(0,C.w6)(),L=d.getRootPrefixCls(),W=d.getIconPrefixCls(),x=d.getTheme(),A=c.createElement(V,{ref:o,sync:u,messageConfig:y});return c.createElement(C.ZP,{prefixCls:L,iconPrefixCls:W,theme:x},d.holderRender?d.holderRender(A):A)});function f(){if(!i){const t=document.createDocumentFragment(),o={fragment:t};i=o,p(()=>{(0,j.q)()(c.createElement(P,{ref:l=>{const{instance:u,sync:d}=l||{};Promise.resolve().then(()=>{!o.instance&&u&&(o.instance=u,o.sync=d,f())})}}),t)});return}i.instance&&(U.forEach(t=>{const{type:o,skipped:y}=t;if(!y)switch(o){case"open":{p(()=>{const l=i.instance.open(Object.assign(Object.assign({},v),t.config));l==null||l.then(t.resolve),t.setCloseFn(l)});break}case"destroy":p(()=>{i==null||i.instance.destroy(t.key)});break;default:p(()=>{var l;const u=(l=i.instance)[o].apply(l,(0,g.Z)(t.args));u==null||u.then(t.resolve),t.setCloseFn(u)})}}),U=[])}function D(t){v=Object.assign(Object.assign({},v),t),p(()=>{var o;(o=i==null?void 0:i.sync)===null||o===void 0||o.call(i)})}function m(t){const o=(0,O.J)(y=>{let l;const u={type:"open",config:t,resolve:y,setCloseFn:d=>{l=d}};return U.push(u),()=>{l?p(()=>{l()}):u.skipped=!0}});return f(),o}function n(t,o){const y=(0,C.w6)(),l=(0,O.J)(u=>{let d;const L={type:t,args:o,resolve:u,setCloseFn:W=>{d=W}};return U.push(L),()=>{d?p(()=>{d()}):L.skipped=!0}});return f(),l}const S=t=>{U.push({type:"destroy",key:t}),f()},M=["success","info","warning","error","loading"],b={open:m,destroy:S,config:D,useMessage:F.Z,_InternalPanelDoNotUseOrYouWillBeFired:I.ZP};M.forEach(t=>{b[t]=(...o)=>n(t,o)});const Z=()=>{};let h=null;const r=null;let a=null;const s=null;T.ZP=b}}]);
