"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9170],{37767:function(ee,K,e){e.d(K,{Z:function(){return Ee}});var S=e(15009),r=e.n(S),y=e(99289),f=e.n(y),M=e(5574),j=e.n(M),p=e(45605),h=e(38345),R=e(97269),I=e(26412),P=e(42075),Y=e(96074),B=e(25593),m=e(2487),F=e(67294),D=e(76428),l=e(78498),k=e(44771),n=e(13822),H=e(24963),G=e(37413),te=e(5251),T=e(82346),_=e(87662),i=e(36146),t=e(85893);function Ee(u){var ie,se,X,le,de,ue,oe,ce,ae,a,z=new i.Uo("components.appDetail.appDetailContainer"),je=(0,F.useState)(""),me=j()(je,2),_e=me[0],fe=me[1],Pe=(0,T.useAccess)(),pe=(0,F.useContext)(H.Z),ve=pe.message,he=(0,F.useRef)(),ge=[],v=[],w=[],q=(0,F.useState)(""),J=j()(q,2),b=J[0],L=J[1];return(0,F.useEffect)(function(){if(u.data){var c;(c=he.current)===null||c===void 0||c.setFieldValue("restart",u.data.info.HostConfig.RestartPolicy.Name),(0,_.K3)().then(function(C){var O;L((O=C.data.serverUrl)!==null&&O!==void 0?O:"")}),fe(u.data.info.Name)}},[u.data]),u.data&&u.data.domain&&u.data.domain.map(function(c){w.push(c.setting.enableSSL?"https://"+c.serverName:"http://"+c.serverName)}),u.data&&u.data.info.NetworkSettings&&u.data.info.NetworkSettings.Ports&&Object.keys(u.data.info.NetworkSettings.Ports).map(function(c){var C,O,U=(C=(O=u.data.info)===null||O===void 0?void 0:O.NetworkSettings.Ports[c])!==null&&C!==void 0?C:[{HostPort:null,HostIp:""}],N=c.split("/"),ne=j()(N,2),A=ne[0],W=ne[1];U.map(function(x){x.HostPort?ge.push({PrivatePort:A,Type:W,IP:x.HostIp,PublicPort:x.HostPort}):v.push({PrivatePort:A,Type:W,IP:"",PublicPort:""})})}),(0,t.jsxs)(t.Fragment,{children:[u.data&&u.data.info.State.Running&&(0,t.jsx)(G.Z,{publicPort:ge,privatePort:v,domain:w,serverIp:b,showInDetail:!0,ghost:u.ghost,layout:"inline"}),(0,t.jsx)(h.Z,{title:(0,t.jsx)(p.Z,{}),subTitle:z.format("cardTitle"),ghost:u.ghost,children:(0,t.jsxs)(I.Z,{column:1,bordered:!0,children:[(0,t.jsx)(I.Z.Item,{label:"Hostname",children:(0,t.jsx)(P.Z,{split:(0,t.jsx)(Y.Z,{type:"vertical"}),children:(0,t.jsx)(D.Z,{title:(ie=u.data.info)===null||ie===void 0?void 0:ie.Config.Hostname})})}),(0,t.jsx)(I.Z.Item,{label:z.format("containerName"),children:(0,t.jsxs)(P.Z,{split:(0,t.jsx)(Y.Z,{type:"vertical"}),children:[(0,t.jsx)(D.Z,{title:(se=u.data.info)===null||se===void 0?void 0:se.Id.substring(0,12)}),(0,t.jsx)(B.Z.Text,{copyable:!0,editable:{tooltip:z.format("containerNameEditTip"),onChange:function(){var c=f()(r()().mark(function O(U){var N,ne;return r()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if((N=u.data.info)!==null&&N!==void 0&&N.Id){W.next=2;break}return W.abrupt("return");case 2:return W.next=4,(0,n.eE)({md5:u.data.info.Id,name:U});case 4:ne=W.sent,fe(U),ve.success(i.FD.format("finish"));case 7:case"end":return W.stop()}},O)}));function C(O){return c.apply(this,arguments)}return C}()},children:(0,te.fi)(_e,"/")})]})}),(0,t.jsx)(I.Z.Item,{label:(0,t.jsx)(l.Z,{title:z.format("network"),help:z.format("networkHelp")}),children:((X=u.data.info)===null||X===void 0?void 0:X.State.Running)&&(0,t.jsxs)(I.Z,{column:1,bordered:!0,children:[u.data.info.NetworkSettings.Networks&&Object.keys(u.data.info.NetworkSettings.Networks).map(function(c,C){var O,U,N;return(0,t.jsx)(I.Z.Item,{label:c,children:c=="host"?z.format("networkUseHost"):(0,t.jsxs)(P.Z,{direction:"vertical",children:[(0,t.jsx)(D.Z,{title:(O=u.data.info)===null||O===void 0?void 0:O.NetworkSettings.Networks[c].IPAddress}),(U=u.data.info)===null||U===void 0?void 0:U.NetworkSettings.Networks[c].Gateway,(N=u.data.info)===null||N===void 0?void 0:N.NetworkSettings.Networks[c].MacAddress]})},C)}),u.data.info.HostConfig.ExtraHosts&&(0,t.jsx)(I.Z.Item,{label:z.format("networkExtra"),children:(0,t.jsx)(P.Z,{direction:"vertical",children:u.data.info.HostConfig.ExtraHosts.map(function(c,C){if(c.indexOf(":")>-1){var O=c.split(":");return"".concat(O[0]," - ").concat(O.slice(1).join(":"))}})})},"host")]})}),(0,t.jsx)(I.Z.Item,{label:z.format("runTime"),children:z.format("runTimeValue",{create:new Date((le=(de=u.data.info)===null||de===void 0?void 0:de.Created)!==null&&le!==void 0?le:"").toLocaleString(),upgrade:new Date((ue=(oe=u.data.info)===null||oe===void 0?void 0:oe.State.StartedAt)!==null&&ue!==void 0?ue:"").toLocaleString()})}),Pe.canSeeContainerListManage&&(0,t.jsx)(I.Z.Item,{label:z.format("restartPolicy"),children:(0,t.jsx)(R.A,{name:"container-restart",submitter:!1,onValuesChange:function(){var c=f()(r()().mark(function C(O){var U,N;return r()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if((U=u.data.info)!==null&&U!==void 0&&U.Id){A.next=2;break}return A.abrupt("return");case 2:return A.next=4,(0,n.eE)({md5:u.data.info.Id,restart:O.restart});case 4:return N=A.sent,ve.success(i.FD.format("finish")),A.abrupt("return");case 7:case"end":return A.stop()}},C)}));return function(C){return c.apply(this,arguments)}}(),layout:"inline",formRef:he,children:(0,t.jsx)(k.Z,{defaultValue:(ce=u.data.info)===null||ce===void 0?void 0:ce.HostConfig.RestartPolicy.Name})})}),(0,t.jsx)(I.Z.Item,{label:z.format("env"),children:(0,t.jsx)(m.Z,{dataSource:(ae=(a=u.data.info)===null||a===void 0?void 0:a.Config.Env)!==null&&ae!==void 0?ae:[],renderItem:function(C){var O=C.split("=");return(0,t.jsxs)(m.Z.Item,{children:[(0,t.jsx)(B.Z.Text,{code:!0,children:O[0]})," = ",(0,t.jsx)(B.Z.Text,{copyable:!0,children:O.slice(1).join("=")})]})}})})]})})]})}},14245:function(ee,K,e){e.d(K,{Z:function(){return p}});var S=e(36146),r=e(60433),y=e(38345),f=e(26412),M=e(25593),j=e(85893);function p(h){var R=new S.Uo("components.appDetail.appDetailQuickImage");return(0,j.jsx)(y.Z,{ghost:h.ghost,title:(0,j.jsx)(r.Z,{}),subTitle:R.format("cardTitle"),children:(0,j.jsxs)(f.Z,{labelStyle:{width:"200px"},column:1,bordered:!0,children:[(0,j.jsx)(f.Z.Item,{label:"Image Tag",children:(0,j.jsx)(M.Z.Text,{copyable:!0,children:h.data.Config.Image})}),(0,j.jsx)(f.Z.Item,{label:"Image",children:h.data.Image}),(0,j.jsx)(f.Z.Item,{label:"CMD",children:h.data.Config.Cmd&&h.data.Config.Cmd.join(" ")}),(0,j.jsx)(f.Z.Item,{label:"ENTRYPOINT",children:h.data.Config.Entrypoint}),(0,j.jsx)(f.Z.Item,{label:"Labels",children:(0,j.jsx)(f.Z,{column:1,bordered:!0,children:h.data&&Object.keys(h.data.Config.Labels).map(function(I){return(0,j.jsx)(f.Z.Item,{label:I,children:h.data.Config.Labels[I]},I)})})})]})})}},72409:function(ee,K,e){e.d(K,{Z:function(){return ge}});var S=e(15009),r=e.n(S),y=e(99289),f=e.n(y),M=e(5574),j=e.n(M),p=e(67294),h=e(80821),R=e(62597),I=e(13822),P=e(43425),Y=e(58638),B=e(60219),m=e(86548),F=e(57132),D=e(87784),l=e(25035),k=e(38345),n=e(97269),H=e(62370),G=e(5966),te=e(52688),T=e(82346),_=e(42075),i=e(65233),t=e(96074),Ee=e(28036),u=e(25593),ie=e(85418),se=e(40411),X=e(84567),le=e(83062),de=e(93162),ue=e(24739),oe=e(97462),ce=e(70146),ae=e(36146),a=e(85893);function z(v){var w=(0,p.useRef)(),q=new ae.Uo("components.appDetail");return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(h.Z,{icon:(0,a.jsx)(B.Z,{}),action:f()(r()().mark(function J(){var b,L,c,C;return r()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,ce.yB)({id:v.container.Name,enableImage:(b=w.current)===null||b===void 0?void 0:b.getFieldValue("enableImage"),volume:Object.keys((L=(c=w.current)===null||c===void 0?void 0:c.getFieldValue("volume"))!==null&&L!==void 0?L:{}).filter(function(N){return N}),enableCommitImage:(C=w.current)===null||C===void 0?void 0:C.getFieldValue("enableCommitImage")});case 2:case"end":return U.stop()}},J)})),confirmOnOpenChange:function(b){var L,c;!((L=w.current)===null||L===void 0)&&L.resetFields&&((c=w.current)===null||c===void 0||c.resetFields())},confirm:(0,a.jsxs)(_.Z,{style:{width:650,marginTop:"10px",paddingRight:"10px"},direction:"vertical",size:20,children:[(0,a.jsx)(u.Z.Text,{children:(0,a.jsx)("ul",{children:q.prefix("backupVolumeTip",4).map(function(J,b){return(0,a.jsxs)("li",{children:[J," ",b==3&&(0,a.jsx)(T.Link,{to:"/app/backup",children:ae.Ob.format("container.backup")})]},b)})})}),(0,a.jsxs)(n.A,{layout:"horizontal",formRef:w,submitter:!1,children:[(0,a.jsxs)(ue.UW,{children:[(0,a.jsx)(H.Z,{valuePropName:"checked",name:"enableSelectVolume",children:(0,a.jsx)(X.Z,{disabled:!v.container.Mounts||v.container.Mounts.length==0,children:q.format("backupVolumeEnableSelectVolume")})}),(0,a.jsx)(H.Z,{valuePropName:"checked",name:"enableImage",children:(0,a.jsx)(X.Z,{children:q.format("backupVolumeEnableImage")})}),(0,a.jsx)(oe.Z,{name:["enableImage"],children:function(b){var L=b.enableImage;if(L)return(0,a.jsx)(H.Z,{valuePropName:"checked",name:"enableCommitImage",children:(0,a.jsx)(X.Z,{children:q.format("backupVolumeEnableCommitImage")})})}})]}),(0,a.jsx)(oe.Z,{name:["enableSelectVolume"],children:function(b){var L=b.enableSelectVolume;return L&&(0,a.jsx)(_.Z,{wrap:!0,children:v.container.Mounts.map(function(c,C){return(0,a.jsx)(H.Z,{valuePropName:"checked",name:["volume",c.Destination],children:(0,a.jsx)(X.Z,{children:c.Destination})},"volume-".concat(C))})})}})]})]}),children:q.format("backupVolumeButton")})})}var je=e(24963),me=e(99861),_e=e(3393),fe=e(50888),Pe=e(16596),pe=e(1699),ve=e(5251),he=(0,p.forwardRef)(function(v,w){var q;(0,p.useImperativeHandle)(w,function(){return{}});var J=(0,p.useRef)(),b=(0,p.useRef)(),L=(0,p.useRef)(),c=(0,p.useContext)(je.Z),C=c.loading,O=(0,p.useRef)(),U=(0,p.useRef)(),N=(0,p.useState)({status:0,error:""}),ne=j()(N,2),A=ne[0],W=ne[1],x=new ae.Uo("components.appDetail.appDetailQuickManage");function De(Z){return Ie.apply(this,arguments)}function Ie(){return Ie=f()(r()().mark(function Z(o){var s,E,d;return r()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(E=-2,!o.ignore){g.next=6;break}if(!(o.ignore.indexOf("".concat(o.info.Name,"@*"))>-1)){g.next=4;break}return g.abrupt("return",{status:-2,error:""});case 4:if(!(o.ignore.indexOf("".concat(o.info.Name,"@").concat(o.info.Image))>-1)){g.next=6;break}return g.abrupt("return",{status:-2,error:""});case 6:return g.next=8,(0,_e.ZQ)({tag:(s=o.info.Config.Image)!==null&&s!==void 0?s:"",md5:o.info.Image,cacheTime:3600}).catch(function(V){E=-1});case 8:if(d=g.sent,!(d&&d.data.error&&d.data.error!="")){g.next=11;break}return g.abrupt("return",{status:-1,error:d.data.error});case 11:return d&&(d.data.digestLocal&&d.data.digestLocal.length>0?E=d.data.upgrade?1:2:d.data.error!=""?E=-1:E=-2),g.abrupt("return",{status:E,error:""});case 13:case"end":return g.stop()}},Z)})),Ie.apply(this,arguments)}return(0,p.useEffect)(function(){v.checkContainerUpgrade&&(W({status:0}),De(v.data).then(function(Z){W(Z)}))},[v.data]),(0,a.jsx)(k.Z,{ghost:v.ghost,title:(0,a.jsx)(P.Z,{}),subTitle:x.format("cardTitle"),children:(0,a.jsxs)(_.Z,{wrap:!0,children:[(0,a.jsx)(h.Z,{icon:(0,a.jsx)(Y.Z,{}),action:function(){var o,s;return(0,I.LJ)({md5:(o=(s=v.data)===null||s===void 0?void 0:s.info.Id)!==null&&o!==void 0?o:""})},confirm:x.format("exportConfirm"),onSuccess:function(o){var s,E=new Blob([o],{type:"application/tar"});(0,de.saveAs)(E,(0,ve.fi)((s=v.data)===null||s===void 0?void 0:s.info.Name,"/")+".tar")},children:x.format("exportButton")}),(0,a.jsx)(h.Z,{icon:(0,a.jsx)(B.Z,{}),action:f()(r()().mark(function Z(){var o,s,E,d,$;return r()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(0,I.Re)({md5:(o=(s=v.data)===null||s===void 0?void 0:s.info.Id)!==null&&o!==void 0?o:"",name:(E=(d=b.current)===null||d===void 0?void 0:d.getFieldValue("saveImageName"))!==null&&E!==void 0?E:($=v.data)===null||$===void 0?void 0:$.info.Name});case 2:case"end":return V.stop()}},Z)})),confirmTitle:x.format("commitConfirmTitle"),confirm:(0,a.jsx)(_.Z,{style:{width:400,marginTop:"10px",paddingRight:"10px"},direction:"vertical",children:(0,a.jsx)(n.A,{formRef:b,submitter:!1,children:(0,a.jsx)(H.Z,{name:"saveImageName",children:(0,a.jsx)(i.Z,{addonBefore:x.format("commitConfirmSaveImageName")})})})}),children:x.format("commitButton")}),v.data&&(0,a.jsx)(pe.u,{access:"canSeeContainerBackup",children:(0,a.jsx)(z,{container:v.data.info})}),(0,a.jsx)(t.Z,{type:"vertical"}),(0,a.jsx)(T.Link,{to:"/app/create/image?id=".concat((q=v.data)===null||q===void 0?void 0:q.info.Id,"&op=update"),children:(0,a.jsx)(Ee.ZP,{type:"primary",icon:(0,a.jsx)(m.Z,{}),children:x.format("editButton")})}),(0,a.jsx)(h.Z,{icon:(0,a.jsx)(F.Z,{}),action:f()(r()().mark(function Z(){var o,s,E,d,$,g;return r()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,(0,I.aF)({md5:(o=(s=v.data)===null||s===void 0?void 0:s.info.Id)!==null&&o!==void 0?o:"",copyName:(E=(d=L.current)===null||d===void 0?void 0:d.getFieldValue("copyName"))!==null&&E!==void 0?E:"",enableRandomPort:($=(g=L.current)===null||g===void 0?void 0:g.getFieldValue("enableRandomPort"))!==null&&$!==void 0?$:!1});case 2:return Q.abrupt("return",Q.sent);case 3:case"end":return Q.stop()}},Z)})),confirm:(0,a.jsxs)(_.Z,{style:{width:400,paddingRight:"10px"},direction:"vertical",children:[(0,a.jsx)(u.Z.Text,{children:x.format("copyConfirmTip")}),(0,a.jsxs)(n.A,{formRef:L,submitter:!1,layout:"horizontal",children:[(0,a.jsx)("br",{}),(0,a.jsx)(G.Z,{label:x.format("copyCopyName"),name:"copyName"}),(0,a.jsx)(te.Z,{label:x.format("copyEnableRandomPort"),name:"enableRandomPort"})]})]}),onSuccess:function(o){var s;(s=L.current)===null||s===void 0||s.resetFields()},children:x.format("copyButton")}),v.data&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(me.Z,{image:[v.data.info.Config.Image],ref:O}),(0,a.jsx)(ie.Z,{placement:"bottomLeft",menu:{items:[{key:"1",label:(0,a.jsx)(h.Z,{action:f()(r()().mark(function Z(){var o,s,E,d,$,g;return r()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,(0,R.ze)({md5:(o=(s=v.data.info)===null||s===void 0?void 0:s.Name)!==null&&o!==void 0?o:"",imageId:""});case 2:return W({status:0}),Q.next=5,(0,_e.ZQ)({tag:(E=(d=v.data.info)===null||d===void 0?void 0:d.Config.Image)!==null&&E!==void 0?E:"",md5:($=(g=v.data.info)===null||g===void 0?void 0:g.Image)!==null&&$!==void 0?$:"",cacheTime:0}).then(function(re){re.data.error&&re.data.error!=""?W({status:-1,error:re.data.error}):re.data.digestLocal&&re.data.digestLocal.length>0?W({status:re.data.upgrade?1:2}):W({status:-2})}).catch(function(re){W({status:-1})});case 5:return Q.abrupt("return",Q.sent);case 6:case"end":return Q.stop()}},Z)})),type:"link",children:x.format("upgradeCheckUpgrade")})},{key:"2",label:(0,a.jsx)(h.Z,{action:f()(r()().mark(function Z(){var o,s,E,d;return r()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,R.ze)({md5:(o=(s=v.data.info)===null||s===void 0?void 0:s.Name)!==null&&o!==void 0?o:"",imageId:(E=(d=v.data.info)===null||d===void 0?void 0:d.Image)!==null&&E!==void 0?E:""});case 2:return g.abrupt("return",g.sent);case 3:case"end":return g.stop()}},Z)})),type:"link",children:x.format("upgradeCheckUpgradeIgnoreOnce")})},{key:"3",label:(0,a.jsx)(h.Z,{action:f()(r()().mark(function Z(){var o,s;return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,R.ze)({md5:(o=(s=v.data.info)===null||s===void 0?void 0:s.Name)!==null&&o!==void 0?o:"",imageId:"*"});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},Z)})),type:"link",children:x.format("upgradeCheckUpgradeIgnore")})}]},children:(0,a.jsx)(se.Z,{title:A.error,count:x.format("checkImageUpgrade."+A.status),color:x.format("checkImageUpgradeColor."+A.status),children:(0,a.jsx)(h.Z,{disabled:A.status===0,icon:A.status===0?(0,a.jsx)(fe.Z,{}):(0,a.jsx)(Pe.Z,{}),action:f()(r()().mark(function Z(){var o,s,E,d,$;return r()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(o=O.current)===null||o===void 0?void 0:o.start();case 2:return C.show(),(s=O.current)===null||s===void 0||s.finish(),V.next=6,(0,I.RF)({md5:(E=v.data.info.Id)!==null&&E!==void 0?E:"",imageTag:"",enableBak:(d=($=U.current)===null||$===void 0?void 0:$.getFieldValue("enableBak"))!==null&&d!==void 0?d:!1});case 6:return V.abrupt("return",V.sent);case 7:case"end":return V.stop()}},Z)})),confirm:(0,a.jsxs)(_.Z,{style:{width:280,paddingRight:"10px"},direction:"vertical",children:[(0,a.jsx)(u.Z.Text,{children:x.format("upgradeConfirm")}),(0,a.jsx)(n.A,{formRef:U,submitter:!1,layout:"inline",children:(0,a.jsx)(H.Z,{name:"enableBak",valuePropName:"checked",children:(0,a.jsx)(X.Z,{children:x.format("upgradeConfirmEnableBak")})})})]}),onSuccess:function(o){C.destroy(),v.checkContainerUpgrade&&v.checkContainerUpgrade()},children:x.format("upgradeButton")})})})]}),(0,a.jsx)(t.Z,{type:"vertical"}),v.data&&(0,a.jsx)(h.Z,{action:function(){var o,s,E,d,$,g;return(0,R.Ct)({md5:(o=(s=v.data)===null||s===void 0?void 0:s.info.Id)!==null&&o!==void 0?o:"",deleteImage:(E=(d=J.current)===null||d===void 0?void 0:d.getFieldValue("deleteImage"))!==null&&E!==void 0?E:!1,deleteVolume:($=(g=J.current)===null||g===void 0?void 0:g.getFieldValue("deleteVolume"))!==null&&$!==void 0?$:!1})},danger:!0,type:"primary",icon:(0,a.jsx)(D.Z,{}),onSuccess:function(){C.destroy(),v.checkContainerUpgrade&&v.checkContainerUpgrade()},confirm:(0,a.jsxs)(_.Z,{style:{width:200},direction:"vertical",children:[(0,a.jsx)(u.Z.Text,{children:ae.FD.format("confirm.title")}),(0,a.jsxs)(n.A,{formRef:J,layout:"inline",submitter:!1,children:[(0,a.jsx)(H.Z,{addonAfter:(0,a.jsx)(le.Z,{title:x.format("deleteConfirmTip"),children:(0,a.jsx)(l.Z,{})}),name:"deleteVolume",valuePropName:"checked",children:(0,a.jsx)(X.Z,{children:x.format("deleteConfirmDeleteVolume")})}),(0,a.jsx)(H.Z,{name:"deleteImage",valuePropName:"checked",children:(0,a.jsx)(X.Z,{children:x.format("deleteConfirmDeleteImage")})})]})]}),children:x.format("deleteButton")})]})})}),ge=he},14189:function(ee,K,e){var S=e(43425),r=e(74842),y=e(87784),f=e(33160),M=e(30159),j=e(89035),p=e(38345),h=e(42075),R=e(96074),I=e(28036),P=e(67294),Y=e(94359),B=e(80821),m=e(13822),F=e(99922),D=e(36146),l=e(85893),k=(0,P.forwardRef)(function(n,H){(0,P.useImperativeHandle)(H,function(){return{showConsole:T}});var G=new D.Uo("components.appDetail.appDetailQuickOperation"),te=(0,P.useRef)();function T(_){var i;(i=te.current)===null||i===void 0||i.show({url:"/console/container/".concat(n.data.Id),title:n.data.Name,workDir:_})}return console.log(n.data),(0,l.jsx)(p.Z,{title:(0,l.jsx)(S.Z,{}),ghost:n.ghost,subTitle:(0,l.jsxs)(h.Z,{children:[G.format("cardTitle")," - ",n.data&&(0,l.jsx)(Y.Z,{status:"container.".concat(n.data.State.Status),tip:n.data.State.Status})]}),children:(0,l.jsxs)(h.Z,{wrap:!0,children:[(0,l.jsx)(B.Z,{icon:(0,l.jsx)(r.Z,{}),action:function(){var i,t;return(0,m.IW)({md5:(i=(t=n.data)===null||t===void 0?void 0:t.Id)!==null&&i!==void 0?i:"",operate:"start"})},onSuccess:function(){return n.onFinish&&n.onFinish()},disabled:n.data&&n.data.State.Running||n.data&&n.data.State.Paused,children:G.format("start")}),(0,l.jsx)(B.Z,{action:function(){var i,t;return(0,m.IW)({md5:(i=(t=n.data)===null||t===void 0?void 0:t.Id)!==null&&i!==void 0?i:"",operate:"stop"})},icon:(0,l.jsx)(y.Z,{}),onSuccess:function(){return n.onFinish&&n.onFinish()},disabled:n.data&&n.data.State.Dead,children:G.format("stop")}),(0,l.jsx)(B.Z,{action:function(){var i,t;return(0,m.IW)({md5:(i=(t=n.data)===null||t===void 0?void 0:t.Id)!==null&&i!==void 0?i:"",operate:"restart"})},onSuccess:function(){return n.onFinish&&n.onFinish()},icon:(0,l.jsx)(f.Z,{}),children:G.format("restart")}),(0,l.jsx)(B.Z,{action:function(){var i,t;return(0,m.IW)({md5:(i=(t=n.data)===null||t===void 0?void 0:t.Id)!==null&&i!==void 0?i:"",operate:"pause"})},onSuccess:function(){return n.onFinish&&n.onFinish()},icon:(0,l.jsx)(M.Z,{}),disabled:n.data&&n.data&&!n.data.State.Running,children:G.format("pause")}),(0,l.jsx)(B.Z,{action:function(){var i,t;return(0,m.IW)({md5:(i=(t=n.data)===null||t===void 0?void 0:t.Id)!==null&&i!==void 0?i:"",operate:"unpause"})},onSuccess:function(){return n.onFinish&&n.onFinish()},icon:(0,l.jsx)(r.Z,{}),disabled:n.data&&!n.data.State.Paused,children:G.format("unpause")}),(0,l.jsx)(R.Z,{type:"vertical"}),n.data&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(F.Z,{ref:te}),(0,l.jsx)(I.ZP,{type:"dashed",onClick:function(){n.data&&T(n.data.Config.WorkingDir)},icon:(0,l.jsx)(j.Z,{}),children:"Console"})]}),(0,l.jsx)(R.Z,{type:"vertical"}),n.extra&&n.extra.map(function(_,i){return(0,l.jsx)("span",{children:_},i)})]})})});K.Z=k},52031:function(ee,K,e){e.d(K,{Z:function(){return p}});var S=e(31574),r=e(38345),y=e(26412),f=e(78451),M=e(36146),j=e(85893);function p(h){var R,I=new M.Uo("components.appDetail.appDetailVolume");return h.data&&h.data.Mounts&&h.data.Mounts.length>0&&(0,j.jsx)(r.Z,{ghost:h.ghost,title:(0,j.jsx)(S.Z,{}),subTitle:I.format("cardTitle"),children:(0,j.jsx)(y.Z,{column:1,bordered:!0,children:(R=h.data)===null||R===void 0?void 0:R.Mounts.map(function(P,Y){return(0,j.jsx)(y.Z.Item,{labelStyle:{width:"30%"},label:P.Type=="volume"?(0,j.jsx)(f.Z,{content:P.Name}):P.Source,children:P.Destination},Y)})})})}},94359:function(ee,K,e){e.d(K,{Z:function(){return F}});var S=e(5574),r=e.n(S),y=e(3089),f=e(98165),M=e(18429),j=e(8751),p=e(14313),h=e(30159),R=e(87740),I=e(50888),P=e(66309),Y=e(83062),B=e(36146),m=e(85893);function F(D){var l,k,n=new B.Uo("components.containerStatus"),H=D.status.split("."),G=r()(H,2),te=G[0],T=G[1],_="";_=n.format(D.status,(l=D.statusValue)!==null&&l!==void 0?l:{});var i=(0,m.jsx)(m.Fragment,{});return T=="0"&&(i=(0,m.jsx)(P.Z,{icon:(0,m.jsx)(y.Z,{}),color:"default",children:_})),T=="10"&&(i=(0,m.jsx)(P.Z,{icon:(0,m.jsx)(f.Z,{spin:!0}),color:"processing",children:_})),T=="20"&&(i=(0,m.jsx)(P.Z,{icon:(0,m.jsx)(M.Z,{}),color:"error",children:_})),T=="30"&&(i=(0,m.jsx)(P.Z,{icon:(0,m.jsx)(j.Z,{}),color:"success",children:_})),(T=="running"||T=="healthy")&&(i=(0,m.jsx)(P.Z,{icon:(0,m.jsx)(p.Z,{}),color:"success",children:_})),T=="paused"&&(i=(0,m.jsx)(P.Z,{icon:(0,m.jsx)(h.Z,{}),children:_})),(T=="waiting"||T=="starting")&&(i=(0,m.jsx)(P.Z,{icon:(0,m.jsx)(R.Z,{}),children:_})),T=="deploying"&&(i=(0,m.jsx)(P.Z,{icon:(0,m.jsx)(I.Z,{}),color:"processing",children:_})),T=="error"&&(i=(0,m.jsx)(P.Z,{icon:(0,m.jsx)(M.Z,{}),color:"error",children:_})),["exited","dead","removing","restarting","unhealthy","created"].includes(T)&&(i=(0,m.jsx)(P.Z,{icon:(0,m.jsx)(M.Z,{}),color:"warning",children:_})),(0,m.jsx)(Y.Z,{placement:"top",title:(k=D.tip)!==null&&k!==void 0?k:"",children:i})}},76428:function(ee,K,e){e.d(K,{Z:function(){return f}});var S=e(25593),r=e(67294),y=e(85893);function f(M){return(0,y.jsx)(S.Z.Text,{copyable:!0,children:M.title})}},78498:function(ee,K,e){e.d(K,{Z:function(){return j}});var S=e(25035),r=e(42075),y=e(83062),f=e(67294),M=e(85893);function j(p){return(0,M.jsxs)(r.Z,{children:[p.title,(0,M.jsx)(y.Z,{title:p.help,children:(0,M.jsx)(S.Z,{})})]})}},70146:function(ee,K,e){e.d(K,{SR:function(){return Y},VE:function(){return I},Zy:function(){return h},iD:function(){return m},yB:function(){return j}});var S=e(15009),r=e.n(S),y=e(99289),f=e.n(y),M=e(82346);function j(D){return p.apply(this,arguments)}function p(){return p=f()(r()().mark(function D(l){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,M.request)("/api/app/container-backup/create",{data:l,method:"POST"});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},D)})),p.apply(this,arguments)}function h(D){return R.apply(this,arguments)}function R(){return R=f()(r()().mark(function D(l){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,M.request)("/api/app/container-backup/get-list",{method:"POST",data:l}));case 1:case"end":return n.stop()}},D)})),R.apply(this,arguments)}function I(D){return P.apply(this,arguments)}function P(){return P=f()(r()().mark(function D(l){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,M.request)("/api/app/container-backup/delete",{method:"POST",data:l}));case 1:case"end":return n.stop()}},D)})),P.apply(this,arguments)}function Y(D){return B.apply(this,arguments)}function B(){return B=f()(r()().mark(function D(l){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,M.request)("/api/app/container-backup/restore",{method:"POST",data:l}));case 1:case"end":return n.stop()}},D)})),B.apply(this,arguments)}function m(D){return F.apply(this,arguments)}function F(){return F=f()(r()().mark(function D(l){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,M.request)("/api/app/container-backup/get-detail",{method:"POST",data:l}));case 1:case"end":return n.stop()}},D)})),F.apply(this,arguments)}}}]);
