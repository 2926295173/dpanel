"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2902],{43831:function(w,f,e){var A=e(15009),r=e.n(A),h=e(99289),u=e.n(h),l=e(5574),D=e.n(l),i=e(67294),g=e(14946),B=e(43425),v=e(48689),O=e(38345),b=e(10641),d=e(42075),m=e(25593),T=e(83062),o=e(60335),C=e(78498),K=e(80821),S=e(10032),Z=e(5251),x=e(28230),W=e(46442),U=e(78451),t=e(85893),_=(0,i.forwardRef)(function(a,n){var y;(0,i.useImperativeHandle)(n,function(){return{}});var E=(0,i.useRef)(),L=(0,i.useRef)(),$=(0,i.useState)(),j=D()($,2),G=j[0],V=j[1];return(0,i.useEffect)(function(){var R,P;V(a.containerInfo),!((R=E.current)===null||R===void 0)&&R.reloadAndRest&&((P=E.current)===null||P===void 0||P.reloadAndRest())},[a.containerInfo]),(0,t.jsxs)(O.Z,{ghost:a.ghost,children:[(0,t.jsx)(S.Z,{ref:L}),(0,t.jsx)(b.Z,{scroll:{x:"max-content"},rowKey:"key",actionRef:E,pagination:!1,columns:[{title:"\u6240\u5C5E\u7F51\u7EDC",key:"name",dataIndex:"networkName"},{title:"\u5BB9\u5668\u540D\u79F0",key:"containerName",dataIndex:"containerName",width:100,render:function(P,s,I,M,k){return(0,t.jsx)(U.Z,{content:(0,Z.fi)(s.containerName,"/")})}},{title:(0,t.jsx)(C.Z,{title:"hostname",help:"\u63D0\u4F9B\u5BB9\u5668\u5185\u90E8\u8BBF\u95EE"}),key:"hostName",render:function(P,s,I){return s.hostName?(0,t.jsx)(d.Z,{direction:"vertical",children:s.hostName.map(function(M){if(M)return(0,t.jsx)(m.Z.Text,{copyable:!0,keyboard:!0,children:M},M)})}):(0,t.jsx)(t.Fragment,{})}},{title:"Ip",key:"ip",render:function(P,s,I,M,k){return(0,t.jsxs)(d.Z,{direction:"vertical",children:[(0,t.jsx)("span",{children:s.networkInfo.IPv4Address}),s.networkInfo.IPv6Address&&(0,t.jsx)("span",{children:s.networkInfo.IPv6Address})]})}},{title:"\u64CD\u4F5C",key:"option",width:50,fixed:"right",render:function(P,s,I,M,k){return(0,t.jsxs)(d.Z,{children:[s.networkName!=""&&(0,t.jsx)(m.Z.Link,{onClick:function(){var p;(p=L.current)===null||p===void 0||p.show(s.networkName)},children:(0,t.jsx)(T.Z,{title:"\u7BA1\u7406",children:(0,t.jsx)(B.Z,{})})}),s.key!="bridge"&&s.key!="none"&&s.key!="host"&&s.networkName!=""&&(0,t.jsx)(K.Z,{type:"link",action:function(){return(0,g.t9)({name:s.networkName,containerName:a.containerInfo.Name})},onSuccess:function(){var p,c;!((p=E.current)===null||p===void 0)&&p.reloadAndRest&&((c=E.current)===null||c===void 0||c.reloadAndRest())},tips:"\u9000\u51FA\u8BE5\u7F51\u7EDC",children:(0,t.jsx)(v.Z,{})})]})}}],request:function(){var R=u()(r()().mark(function P(s,I,M){var k,N;return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,o.jV)({md5:a.containerInfo.Name});case 2:return k=c.sent,V(k.data.info),c.next=6,(0,g._3)({name:Object.keys(k.data.info.NetworkSettings.Networks)});case 6:return N=c.sent,c.abrupt("return",{data:N.data.list,success:!0,total:N.data.list.length});case 8:case"end":return c.stop()}},P)}));return function(P,s,I){return R.apply(this,arguments)}}(),toolBarRender:function(){return[(0,t.jsx)(W.Z,{showTriggerButton:!0,onSelect:function(){var P=u()(r()().mark(function s(I){var M,k;return r()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,g.HY)({name:I.Name,containerName:a.containerInfo.Name,ipV4:""});case 2:k=p.sent,!((M=E.current)===null||M===void 0)&&M.reloadAndRest&&E.current.reloadAndRest();case 4:case"end":return p.stop()}},s)}));return function(s){return P.apply(this,arguments)}}()},"joinNetwork"),(0,t.jsx)(x.Z,{onFinish:function(){var s,I;!((s=E.current)===null||s===void 0)&&s.reloadAndRest&&((I=E.current)===null||I===void 0||I.reloadAndRest())}},"create")]},search:!1,expandable:{expandRowByClick:!1,expandedRowKeys:Object.keys((y=G==null?void 0:G.NetworkSettings.Networks)!==null&&y!==void 0?y:{bridge:[]})}})]})});f.Z=_},46442:function(w,f,e){var A=e(15009),r=e.n(A),h=e(99289),u=e.n(h),l=e(5574),D=e.n(l),i=e(67294),g=e(14946),B=e(64789),v=e(10641),O=e(28036),b=e(85265),d=e(42075),m=e(66309),T=e(28230),o=e(85893),C=(0,i.forwardRef)(function(K,S){(0,i.useImperativeHandle)(S,function(){return{show:function(){U(!0)}}});var Z=(0,i.useState)(!1),x=D()(Z,2),W=x[0],U=x[1],t=(0,i.useRef)();return(0,o.jsxs)(o.Fragment,{children:[K.showTriggerButton&&(0,o.jsx)(O.ZP,{onClick:function(){U(!0)},children:"\u52A0\u5165\u7F51\u7EDC"}),(0,o.jsx)(b.Z,{title:"\u9009\u62E9\u7F51\u7EDC",width:800,footer:!1,open:W,onClose:function(){return U(!1)},extra:(0,o.jsx)(d.Z,{children:(0,o.jsx)(T.Z,{onFinish:function(){var a,n;!((a=t.current)===null||a===void 0)&&a.reloadAndRest&&((n=t.current)===null||n===void 0||n.reloadAndRest())}},"create")}),children:(0,o.jsx)(v.Z,{rowKey:"Name",toolBarRender:!1,actionRef:t,columns:[{title:"\u540D\u79F0",dataIndex:"Name",render:function(a,n,y,E,L){return n.Name=="none"||n.Name=="bridge"||n.Name=="host"?(0,o.jsxs)(o.Fragment,{children:[n.Name," ",(0,o.jsx)(m.Z,{color:"blue",children:"System"})]}):(0,o.jsx)(o.Fragment,{children:a})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4 IPAM Network",search:!1,dataIndex:["IPAM","Config",0,"Subnet"],render:function(a,n,y,E,L){return(0,o.jsxs)(d.Z,{children:[n.IPAM.Config&&n.IPAM.Config[0]&&"".concat(n.IPAM.Config[0].Subnet," - ").concat(n.IPAM.Config[0].Gateway),n.IPAM.Config&&n.IPAM.Config[1]&&"".concat(n.IPAM.Config[1].Subnet," - ").concat(n.IPAM.Config[1].Gateway)]})}},{title:"\u64CD\u4F5C",width:100,search:!1,render:function(a,n,y,E,L){return[n.Name!="none"&&n.Name!="bridge"&&n.Name!="host"&&(0,o.jsx)(O.ZP,{type:"link",onClick:function(){K.onSelect(n),U(!1)},children:(0,o.jsx)(B.Z,{})},n.Id)]}}],request:function(){var _=u()(r()().mark(function a(n,y,E){var L;return r()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,(0,g.jR)({name:n.Name});case 2:return L=j.sent,j.abrupt("return",{data:L.data.list,success:!0,total:L.data.list.length});case 4:case"end":return j.stop()}},a)}));return function(a,n,y){return _.apply(this,arguments)}}(),pagination:{pageSize:10}})})]})});f.Z=C},78498:function(w,f,e){e.d(f,{Z:function(){return D}});var A=e(25035),r=e(42075),h=e(83062),u=e(67294),l=e(85893);function D(i){return(0,l.jsxs)(r.Z,{children:[i.title,(0,l.jsx)(h.Z,{title:i.help,children:(0,l.jsx)(A.Z,{})})]})}},78451:function(w,f,e){e.d(f,{Z:function(){return h}});var A=e(67294),r=e(85893);function h(u){return(0,r.jsx)("span",{style:{width:u.width?u.width:"auto",wordBreak:"break-word"},children:u.content})}},50070:function(w,f,e){e.r(f),e.d(f,{AppDetailContext:function(){return T},default:function(){return o}});var A=e(15009),r=e.n(A),h=e(99289),u=e.n(h),l=e(5574),D=e.n(l),i=e(24963),g=e(60335),B=e(55809),v=e(82346),O=e(25593),b=e(50136),d=e(67294),m=e(85893),T=(0,d.createContext)({});function o(){var C,K=(0,d.useContext)(i.Z),S=K.lang,Z=K.loading,x=K.message,W=(0,v.useParams)(),U=(0,v.useSearchParams)(),t=D()(U,2),_=t[0],a=t[1],n=(C=_.get("tab"))!==null&&C!==void 0?C:"edit",y=(0,d.useState)("edit"),E=D()(y,2),L=E[0],$=E[1],j=(0,v.useNavigate)(),G=(0,d.useState)(1),V=D()(G,2),R=V[0],P=V[1],s=[{label:(0,m.jsx)(v.Link,{to:"/app/detail/edit/".concat(W.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,m.jsx)(v.Link,{to:"/app/detail/network/".concat(W.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,m.jsx)(O.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){x.info(S("app.detail.createExplorerPlugin")),j("/app/detail/file/".concat(W.id,"?tab=file"))}},{label:(0,m.jsx)(O.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){j("/app/detail/log/".concat(W.id,"?tab=log"))}},{label:(0,m.jsx)(O.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){j("/app/detail/stat/".concat(W.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,m.jsx)(B.Z,{}),disabled:!0}],I=(0,d.useState)(s),M=D()(I,2),k=M[0],N=M[1];(0,d.useEffect)(function(){Z.show(),$(n);var c=function(){var J=u()(r()().mark(function X(){var Y,Q,z;return r()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return Q=s,H.next=3,(0,g.jV)({md5:(Y=W.id)!==null&&Y!==void 0?Y:""});case 3:z=H.sent,Q.map(function(F){return F.key=="containerName"&&(F.label=z.data.info.Name),(!z.data.info.State.Running||z.data.info.State.Restarting)&&(F.key=="file"||F.key=="stat")&&(F.disabled=!0),F}),N(Q),Z.destroy();case 7:case"end":return H.stop()}},X)}));return function(){return J.apply(this,arguments)}}();c()},[R]);var p=function(J){$(J.key)};return(0,m.jsxs)(T.Provider,{value:{reload:function(){P(R+1)}},children:[(0,m.jsx)(b.Z,{mode:"horizontal",onClick:p,selectedKeys:[L],items:k}),(0,m.jsx)(v.Outlet,{})]})}},77812:function(w,f,e){e.r(f),e.d(f,{default:function(){return B}});var A=e(5574),r=e.n(A),h=e(67294),u=e(60335),l=e(82346),D=e(50070),i=e(43831),g=e(85893);function B(){var v=(0,l.useParams)(),O=(0,h.useState)(),b=r()(O,2),d=b[0],m=b[1],T=(0,h.useContext)(D.AppDetailContext);return(0,h.useEffect)(function(){var o;(0,u.jV)({md5:(o=v.id)!==null&&o!==void 0?o:""}).then(function(C){m(C.data.info)}),T.reload()},[]),d&&(0,g.jsx)(i.Z,{containerInfo:d})}},60335:function(w,f,e){e.d(f,{IE:function(){return g},IW:function(){return D},KK:function(){return m},LJ:function(){return o},RF:function(){return Z},Re:function(){return K},aF:function(){return W},eE:function(){return b},jV:function(){return v}});var A=e(15009),r=e.n(A),h=e(99289),u=e.n(h),l=e(82346);function D(t){return i.apply(this,arguments)}function i(){return i=u()(r()().mark(function t(_){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/status",{method:"POST",data:_}));case 1:case"end":return n.stop()}},t)})),i.apply(this,arguments)}function g(t){return B.apply(this,arguments)}function B(){return B=u()(r()().mark(function t(_){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/get-list",{data:_,method:"POST"}));case 1:case"end":return n.stop()}},t)})),B.apply(this,arguments)}function v(t){return O.apply(this,arguments)}function O(){return O=u()(r()().mark(function t(_){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/get-detail",{data:_,method:"POST"}));case 1:case"end":return n.stop()}},t)})),O.apply(this,arguments)}function b(t){return d.apply(this,arguments)}function d(){return d=u()(r()().mark(function t(_){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/update",{data:_,method:"POST"}));case 1:case"end":return n.stop()}},t)})),d.apply(this,arguments)}function m(){return T.apply(this,arguments)}function T(){return T=u()(r()().mark(function t(){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,l.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return a.stop()}},t)})),T.apply(this,arguments)}function o(t){return C.apply(this,arguments)}function C(){return C=u()(r()().mark(function t(_){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/export",{method:"POST",data:_,responseType:"blob"}));case 1:case"end":return n.stop()}},t)})),C.apply(this,arguments)}function K(t){return S.apply(this,arguments)}function S(){return S=u()(r()().mark(function t(_){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/commit",{method:"POST",data:_}));case 1:case"end":return n.stop()}},t)})),S.apply(this,arguments)}function Z(t){return x.apply(this,arguments)}function x(){return x=u()(r()().mark(function t(_){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/upgrade",{method:"POST",data:_}));case 1:case"end":return n.stop()}},t)})),x.apply(this,arguments)}function W(t){return U.apply(this,arguments)}function U(){return U=u()(r()().mark(function t(_){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/copy",{method:"POST",data:_}));case 1:case"end":return n.stop()}},t)})),U.apply(this,arguments)}}}]);
