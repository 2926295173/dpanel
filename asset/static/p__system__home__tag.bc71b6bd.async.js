"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2440],{1699:function(Z,b,e){e.d(b,{u:function(){return t}});var D=e(9783),r=e.n(D),R=e(97857),i=e.n(R),o=e(67294),L=e(82346),P=e(40411),j=e(42075),g=e(85893),t=function(f){var E=(0,L.useAccess)(),p=Array.isArray(f.access)?f.access:[f.access],l,O=f.fallback;return typeof f.children=="function"?(l=f.children(p.reduce(function(_,y){return i()(i()({},_),{},r()({},y,E[y]))},{})),l||(l=O)):p.every(function(_){return E[_]})?l=f.children:l=O,!O&&l&&f.showProTips&&E.canSeeEnableCe&&(l=(0,g.jsx)(P.Z,{offset:f.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:l})),!O&&l&&f.showProRibbonTips&&E.canSeeEnableCe&&(l=(0,g.jsx)(P.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:l})),f.space?(0,g.jsx)(j.Z,i()(i()({},f.space),{},{children:l})):l}},80821:function(Z,b,e){e.d(b,{Z:function(){return g}});var D=e(5574),r=e.n(D),R=e(24963),i=e(86738),o=e(28036),L=e(83062),P=e(67294),j=e(85893);function g(t){var C=(0,P.useState)(!1),f=r()(C,2),E=f[0],p=f[1],l=(0,P.useContext)(R.Z),O=l.lang,_=l.notice,y=l.message,W=function(){p(!0);var U=t.action();U instanceof Promise?U.then(function(A){if(p(!1),A){typeof t.onSuccess=="function"&&t.onSuccess(A);var T="";t.messageSuccess?typeof t.messageSuccess=="function"?T=t.messageSuccess(A):T=t.messageSuccess.indexOf("notification.")==0?O(t.messageSuccess):t.messageSuccess:T=O("notification.finish"),t.asynced?y.info(T):y.success(T)}}).catch(function(A){p(!1),typeof t.onError=="function"&&t.onError(A)}):p(!1)};return t.confirm?(0,j.jsx)(i.Z,{style:{width:500},title:t.confirmTitle?t.confirmTitle:O("notification.title.tip"),description:typeof t.confirm=="string"&&t.confirm.indexOf("notification.")==0?O(t.confirm):t.confirm,onConfirm:W,okText:"Yes",cancelText:"No",onOpenChange:t.confirmOnOpenChange,children:(0,j.jsx)(o.ZP,{block:t.block,disabled:t.disabled,icon:!t.children&&E?void 0:t.icon,loading:E,danger:t.danger,type:t.type,children:t.children})}):(0,j.jsx)(L.Z,{title:t.tips,children:(0,j.jsx)(o.ZP,{block:t.block,style:t.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:t.disabled,icon:!t.children&&E?void 0:t.icon,loading:E,onClick:W,danger:t.danger,type:t.type,children:t.children})})}},24963:function(Z,b,e){var D=e(67294),r=(0,D.createContext)({});b.Z=r},96788:function(Z,b,e){e.r(b),e.d(b,{default:function(){return Y}});var D=e(15009),r=e.n(D),R=e(99289),i=e.n(R),o=e(5574),L=e.n(o),P=e(1699),j=e(80821),g=e(29453),t=e(90098),C=e(60335),f=e(40666),E=e(58638),p=e(74842),l=e(87784),O=e(43428),_=e(90078),y=e(38345),W=e(82346),$=e(86250),U=e(32983),A=e(71230),T=e(15746),d=e(7134),h=e(25593),M=e(42075),s=e(85418),k=e(67294),c=e(85893);function Y(){var x=(0,k.useState)([]),F=L()(x,2),G=F[0],u=F[1],a=(0,k.useState)(1),v=L()(a,2),n=v[0],J=v[1],X=(0,W.useAccess)();return(0,k.useEffect)(function(){X.canSeeEnableHomeTag&&(0,g.pK)().then(function(){var Q=i()(r()().mark(function H(N){var I;return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,m.next=3,(0,C.IE)();case 3:I=m.sent,m.next=8;break;case 6:m.prev=6,m.t0=m.catch(0);case 8:N.data.list&&u(N.data.list.filter(function(w){return w.enableShowGroup}).map(function(w){return w.container=w.container.map(function(B){if(!I)return B;var S=I.data.list&&I.data.list.find(function(K){return K.Names.includes(B.containerName)});if(S){var z;B.state=S.State,B.composeName=(z=S.Labels&&S.Labels["com.docker.compose.project"])!==null&&z!==void 0?z:""}return B}),w}));case 9:case"end":return m.stop()}},H,null,[[0,6]])}));return function(H){return Q.apply(this,arguments)}}())},[n]),(0,c.jsx)(_._z,{children:(0,c.jsx)(P.u,{access:"canSeeEnableHomeTag",showProRibbonTips:!0,children:function(H){var N=H.canSeeEnableHomeTag;return(0,c.jsxs)(y.Z,{direction:"column",children:[!N&&(0,c.jsx)($.Z,{justify:"center",style:{height:"58vh"},vertical:!0,children:(0,c.jsx)(U.Z,{image:U.Z.PRESENTED_IMAGE_SIMPLE,description:(0,c.jsxs)(c.Fragment,{children:["\u8BF7\u5728\u5BB9\u5668\u8BE6\u60C5\u9875\u4E2D\u6DFB\u52A0\u9996\u9875\u5206\u7EC4\u6807\u7B7E, ",(0,c.jsx)(W.Link,{to:"/app/list",children:"\u5BB9\u5668\u5217\u8868"})]})})}),N&&G.map(function(I,V){return(0,c.jsx)(y.Z,{title:(0,c.jsx)(f.Z,{}),subTitle:I.tag,direction:"row",gutter:[15,15],headerBordered:!0,bodyStyle:{paddingTop:20,marginBottom:10},ghost:!0,wrap:!0,children:I.container.map(function(m,w){var B;return(0,c.jsx)(y.Z,{bordered:!0,hoverable:!0,colSpan:{xs:24,sm:12,md:12,lg:12,xl:8,xxl:6},bodyStyle:{height:80},children:(0,c.jsxs)(A.Z,{align:"middle",gutter:[10,0],children:[(0,c.jsx)(T.Z,{span:5,children:(0,c.jsx)(d.C,{shape:"square",src:(B=m.icon)!==null&&B!==void 0?B:"",gap:10,size:"large",children:m.containerName.substring(1,2)})}),(0,c.jsxs)(T.Z,{span:14,children:[(0,c.jsx)(h.Z.Title,{level:5,children:(0,c.jsx)("a",{target:"_blank",href:m.url,children:(0,c.jsxs)(M.Z,{children:[m.title,(0,c.jsx)(E.Z,{})]})})}),(0,c.jsx)(h.Z.Text,{children:m.description})]}),(0,c.jsx)(T.Z,{span:5,children:(0,c.jsxs)(M.Z,{children:[(0,c.jsx)(j.Z,{action:i()(r()().mark(function S(){return r()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(!m.composeName){K.next=2;break}return K.abrupt("return",(0,t.GG)({id:m.composeName,op:m.state=="running"?"stop":"start"}));case 2:return K.abrupt("return",(0,C.IW)({md5:m.containerName,operate:m.state=="running"?"stop":"start"}));case 3:case"end":return K.stop()}},S)})),onSuccess:function(){J(n+1)},type:"link",icon:(0,c.jsx)("div",{style:m.state=="running"?{color:"red"}:void 0,children:m.state&&m.state!="running"?(0,c.jsx)(p.Z,{}):(0,c.jsx)(l.Z,{})})}),(0,c.jsx)(s.Z,{trigger:["click"],menu:{items:[{label:(0,c.jsx)(j.Z,{action:function(){return(0,g._2)({containerName:m.containerName,tag:I.tag})},onSuccess:function(){J(n+1)},type:"link",children:"\u5220\u9664\u6807\u7B7E"}),key:"2"}]},children:(0,c.jsx)(h.Z.Link,{children:(0,c.jsx)(O.Z,{})})})]})})]})},w)})},"group-".concat(V))})]})}})})}},29453:function(Z,b,e){e.d(b,{_2:function(){return t},pK:function(){return j},q6:function(){return f},s6:function(){return L}});var D=e(15009),r=e.n(D),R=e(99289),i=e.n(R),o=e(82346);function L(p){return P.apply(this,arguments)}function P(){return P=i()(r()().mark(function p(l){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,o.request)("/api/app/container-tag/create",{method:"POST",data:l});case 2:return _.abrupt("return",_.sent);case 3:case"end":return _.stop()}},p)})),P.apply(this,arguments)}function j(p){return g.apply(this,arguments)}function g(){return g=i()(r()().mark(function p(l){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,o.request)("/api/app/container-tag/get-list",{method:"POST",data:l});case 2:return _.abrupt("return",_.sent);case 3:case"end":return _.stop()}},p)})),g.apply(this,arguments)}function t(p){return C.apply(this,arguments)}function C(){return C=i()(r()().mark(function p(l){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,o.request)("/api/app/container-tag/delete",{method:"POST",data:l});case 2:return _.abrupt("return",_.sent);case 3:case"end":return _.stop()}},p)})),C.apply(this,arguments)}function f(p){return E.apply(this,arguments)}function E(){return E=i()(r()().mark(function p(l){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,o.request)("/api/pro/container-tag/get-url-icon",{method:"POST",data:l});case 2:return _.abrupt("return",_.sent);case 3:case"end":return _.stop()}},p)})),E.apply(this,arguments)}},90098:function(Z,b,e){e.d(b,{GG:function(){return y},MG:function(){return M},Oh:function(){return p},Pn:function(){return t},U_:function(){return d},Yz:function(){return $},iE:function(){return Y},ik:function(){return f},im:function(){return L},mg:function(){return O},pm:function(){return j},tw:function(){return F},vf:function(){return A},xC:function(){return k}});var D=e(15009),r=e.n(D),R=e(99289),i=e.n(R),o=e(82346);function L(u){return P.apply(this,arguments)}function P(){return P=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/compose/create",{method:"POST",data:a}));case 1:case"end":return n.stop()}},u)})),P.apply(this,arguments)}function j(u){return g.apply(this,arguments)}function g(){return g=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/compose/get-list",{method:"POST",data:a}));case 1:case"end":return n.stop()}},u)})),g.apply(this,arguments)}function t(u){return C.apply(this,arguments)}function C(){return C=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.id=String(a.id),n.abrupt("return",(0,o.request)("/api/app/compose/get-task",{method:"POST",data:a}));case 2:case"end":return n.stop()}},u)})),C.apply(this,arguments)}function f(u){return E.apply(this,arguments)}function E(){return E=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/compose/delete",{method:"POST",data:a}));case 1:case"end":return n.stop()}},u)})),E.apply(this,arguments)}function p(u){return l.apply(this,arguments)}function l(){return l=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.id=String(a.id),n.abrupt("return",(0,o.request)("/api/app/compose/container-deploy",{method:"POST",data:a}));case 2:case"end":return n.stop()}},u)})),l.apply(this,arguments)}function O(u){return _.apply(this,arguments)}function _(){return _=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.id=String(a.id),n.abrupt("return",(0,o.request)("/api/app/compose/container-destroy",{method:"POST",data:a}));case 2:case"end":return n.stop()}},u)})),_.apply(this,arguments)}function y(u){return W.apply(this,arguments)}function W(){return W=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.id=String(a.id),n.abrupt("return",(0,o.request)("/api/app/compose/container-ctrl",{method:"POST",data:a}));case 2:case"end":return n.stop()}},u)})),W.apply(this,arguments)}function $(u){return U.apply(this,arguments)}function U(){return U=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.id=String(a.id),n.abrupt("return",(0,o.request)("/api/app/compose/container-log",{method:"POST",data:a}));case 2:case"end":return n.stop()}},u)})),U.apply(this,arguments)}function A(u){return T.apply(this,arguments)}function T(){return T=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.download=!0,a.id=String(a.id),n.next=4,(0,o.request)("/api/app/compose/container-log",{method:"POST",data:a,responseType:"blob"});case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}},u)})),T.apply(this,arguments)}function d(u){return h.apply(this,arguments)}function h(){return h=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/compose/container-process-kill",{method:"POST",data:a}));case 1:case"end":return n.stop()}},u)})),h.apply(this,arguments)}function M(u){return s.apply(this,arguments)}function s(){return s=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/compose/get-from-uri",{method:"POST",data:a}));case 1:case"end":return n.stop()}},u)})),s.apply(this,arguments)}function k(u){return c.apply(this,arguments)}function c(){return c=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.id=String(a.id),n.abrupt("return",(0,o.request)("/api/app/compose/parse",{method:"POST",data:a}));case 2:case"end":return n.stop()}},u)})),c.apply(this,arguments)}function Y(u){return x.apply(this,arguments)}function x(){return x=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/common/store/deploy",{method:"POST",data:a}));case 1:case"end":return n.stop()}},u)})),x.apply(this,arguments)}function F(u){return G.apply(this,arguments)}function G(){return G=i()(r()().mark(function u(a){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.id=String(a.id),n.abrupt("return",(0,o.request)("/api/app/compose/download",{method:"POST",data:a,responseType:"blob"}));case 2:case"end":return n.stop()}},u)})),G.apply(this,arguments)}},60335:function(Z,b,e){e.d(b,{IE:function(){return j},IW:function(){return L},KK:function(){return p},LJ:function(){return O},RF:function(){return $},Re:function(){return y},aF:function(){return A},eE:function(){return f},jV:function(){return t}});var D=e(15009),r=e.n(D),R=e(99289),i=e.n(R),o=e(82346);function L(d){return P.apply(this,arguments)}function P(){return P=i()(r()().mark(function d(h){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,o.request)("/api/app/container/status",{method:"POST",data:h}));case 1:case"end":return s.stop()}},d)})),P.apply(this,arguments)}function j(d){return g.apply(this,arguments)}function g(){return g=i()(r()().mark(function d(h){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,o.request)("/api/app/container/get-list",{data:h,method:"POST"}));case 1:case"end":return s.stop()}},d)})),g.apply(this,arguments)}function t(d){return C.apply(this,arguments)}function C(){return C=i()(r()().mark(function d(h){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,o.request)("/api/app/container/get-detail",{data:h,method:"POST"}));case 1:case"end":return s.stop()}},d)})),C.apply(this,arguments)}function f(d){return E.apply(this,arguments)}function E(){return E=i()(r()().mark(function d(h){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,o.request)("/api/app/container/update",{data:h,method:"POST"}));case 1:case"end":return s.stop()}},d)})),E.apply(this,arguments)}function p(){return l.apply(this,arguments)}function l(){return l=i()(r()().mark(function d(){return r()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",(0,o.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return M.stop()}},d)})),l.apply(this,arguments)}function O(d){return _.apply(this,arguments)}function _(){return _=i()(r()().mark(function d(h){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,o.request)("/api/app/container/export",{method:"POST",data:h,responseType:"blob"}));case 1:case"end":return s.stop()}},d)})),_.apply(this,arguments)}function y(d){return W.apply(this,arguments)}function W(){return W=i()(r()().mark(function d(h){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,o.request)("/api/app/container/commit",{method:"POST",data:h}));case 1:case"end":return s.stop()}},d)})),W.apply(this,arguments)}function $(d){return U.apply(this,arguments)}function U(){return U=i()(r()().mark(function d(h){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,o.request)("/api/app/container/upgrade",{method:"POST",data:h}));case 1:case"end":return s.stop()}},d)})),U.apply(this,arguments)}function A(d){return T.apply(this,arguments)}function T(){return T=i()(r()().mark(function d(h){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,o.request)("/api/app/container/copy",{method:"POST",data:h}));case 1:case"end":return s.stop()}},d)})),T.apply(this,arguments)}}}]);
