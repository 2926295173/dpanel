"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3985],{99861:function(xe,te,u){var ie=u(15009),_=u.n(ie),he=u(64599),X=u.n(he),ae=u(99289),K=u.n(ae),ve=u(5574),g=u.n(ve),de=u(83062),_e=u(14726),o=u(42119),c=u(67294),k=u(92754),p=u(3393),pe=u(184),l=u(38345),R=u(85893),ue=(0,c.forwardRef)(function(s,y){(0,c.useImperativeHandle)(y,function(){return{}});var b=(0,c.useState)(0),m=g()(b,2),j=m[0],v=m[1],C=(0,c.useRef)();return(0,R.jsxs)(pe.a,{trigger:(0,R.jsx)(de.Z,{title:"\u5F53\u90E8\u7F72\u65F6\u65E0\u6CD5\u6B63\u5E38\u62C9\u53D6\u955C\u50CF\u65F6\uFF0C\u53EF\u4EE5\u624B\u52A8\u4F7F\u7528\u9762\u677F\u7684\u4ED3\u5E93\u52A0\u901F\u529F\u80FD\u62C9\u53D6\u6240\u6709\u955C\u50CF",children:(0,R.jsx)(_e.ZP,{children:s.title?s.title:"\u4E00\u952E\u62C9\u53D6\u955C\u50CF"})}),width:800,submitter:!1,title:"\u4E00\u952E\u62C9\u53D6\u955C\u50CF",onOpenChange:function(){var P=K()(_()().mark(function V(re){var q,B,f,H,Y,G,fe;return _()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!re){D.next=25;break}B=0,f=X()(s.image),D.prev=3,f.s();case 5:if((H=f.n()).done){D.next=15;break}return G=H.value,v(B),(Y=C.current)===null||Y===void 0||Y.setStart(),D.next=11,(0,p.Gb)({tag:G,type:"pull"});case 11:fe=D.sent,B++;case 13:D.next=5;break;case 15:D.next=20;break;case 17:D.prev=17,D.t0=D.catch(3),f.e(D.t0);case 20:return D.prev=20,f.f(),D.finish(20);case 23:(q=C.current)===null||q===void 0||q.setFinish(),v(B);case 25:case"end":return D.stop()}},V,null,[[3,17,20,23]])}));return function(V){return P.apply(this,arguments)}}(),children:[(0,R.jsx)(l.Z,{children:(0,R.jsx)(o.Z,{current:j,items:s.image.map(function(P,V){return{title:P,key:V}})})}),(0,R.jsx)(l.Z,{children:(0,R.jsx)(k.Z,{ref:C})})]})});te.Z=ue},91058:function(xe,te,u){var ie=u(5574),_=u.n(ie),he=u(89035),X=u(38345),ae=u(17186),K=u(24739),ve=u(5966),g=u(83062),de=u(14726),_e=u(85576),o=u(67294),c=u(95089),k=u(85893),p="docker-image",pe=(0,o.forwardRef)(function(l,R){var ue=(0,o.useState)(p),s=_()(ue,2),y=s[0],b=s[1],m=(0,o.useRef)(),j=(0,o.useState)(""),v=_()(j,2),C=v[0],P=v[1],V=function(){y!="code"?b("code"):b(p)};(0,o.useImperativeHandle)(R,function(){return{addEnvItem:function(f,H){var Y,G=(Y=m.current)===null||Y===void 0?void 0:Y.getList(),fe=!1;if(G==null||G.map(function(D){if(D.name==f){fe=!0;return}}),!fe){var e;(e=m.current)===null||e===void 0||e.add({name:f,value:H})}},clear:function(){var f;(f=m.current)===null||f===void 0||(f=f.getList())===null||f===void 0||f.map(function(H,Y){var G;(G=m.current)===null||G===void 0||G.remove(Y)})}}});function re(B){try{for(var f,H,Y=(f=(H=m.current)===null||H===void 0||(H=H.getList())===null||H===void 0?void 0:H.length)!==null&&f!==void 0?f:0,G=Y;G>=0;G--){var fe;(fe=m.current)===null||fe===void 0||fe.remove(G)}var e=B.split(`
`),D=0;e.map(function(Ie){var ge,oe=Ie.split("=");oe.length<2||((ge=m.current)===null||ge===void 0||ge.add({name:oe[0],value:oe.slice(1).join("=")},D),D++)})}catch(Ie){}}function q(){if(m){var B,f=(B=m.current)===null||B===void 0?void 0:B.getList();if(f){var H=[];return f.map(function(Y){H.push("".concat(Y.name,"=").concat(Y.value))}),H.join(`
`)}else return""}else return""}return(0,k.jsxs)(X.Z,{title:"\u73AF\u5883\u53D8\u91CF",headerBordered:!0,extra:(0,k.jsx)(g.Z,{title:"\u4EE3\u7801\u7F16\u8F91\u6A21\u5F0F",children:(0,k.jsx)(de.ZP,{icon:(0,k.jsx)(he.Z,{}),type:y=="code"?"primary":"default",onClick:V,children:"\u4EE3\u7801\u6A21\u5F0F"})}),children:[(0,k.jsx)(ae.u,{name:"environment",actionRef:m,creatorButtonProps:l.showAddButton?{creatorButtonText:"\u6DFB\u52A0\u5BB9\u5668\u73AF\u5883\u53D8\u91CF"}:!1,copyIconProps:!1,min:0,children:(0,k.jsxs)(K.UW,{children:[(0,k.jsx)(ve.Z,{width:l.showInDrawer?"sm":"md",name:"name",label:"\u53D8\u91CF\u540D",required:!0,rules:[{required:!0}],disabled:l.showDisableName,placeholder:"\u8F93\u5165\u53D8\u91CF\u540D\u79F0"}),(0,k.jsx)(ve.Z,{width:"md",name:"value",label:"\u53D8\u91CF\u503C",rules:[{required:!!l.requireValue}],placeholder:"\u8F93\u5165\u53D8\u91CF\u503C\uFF0C\u53EF\u4EE5\u4E3A\u7A7A"})]})}),(0,k.jsx)(_e.Z,{width:"800px",open:y=="code",onCancel:function(){return b("docker-image")},onOk:function(){re(C),b("docker-image")},children:(0,k.jsx)(c.ZP,{onChange:function(f){return P(f)},value:q(),height:"680px",theme:"light"})})]})});te.Z=pe},82034:function(xe,te,u){var ie=u(5574),_=u.n(ie),he=u(35880),X=u(38345),ae=u(52688),K=u(97462),ve=u(17186),g=u(24739),de=u(5966),_e=u(42075),o=u(67294),c=u(85893),k=(0,o.forwardRef)(function(p,pe){var l=(0,o.useState)(""),R=_()(l,2),ue=R[0],s=R[1],y=(0,o.useRef)(),b=(0,o.useContext)(he.Z),m=b.createFormRef;return(0,o.useImperativeHandle)(pe,function(){return{setExposePort:function(v){if(v){var C,P,V=(C=(P=y.current)===null||P===void 0?void 0:P.getList())!==null&&C!==void 0?C:[];Object.keys(v).map(function(re){var q=!1;if(V.map(function(f){f.dest==re&&(q=!0)}),!q){var B;(B=y.current)===null||B===void 0||B.add({host:"",dest:re})}})}},setHostname:function(v){s(v)},addPortItem:function(v,C){var P,V=(P=y.current)===null||P===void 0?void 0:P.getList(),re=!1;if(V==null||V.map(function(B){if(B.host==v){re=!0;return}}),!re){var q;(q=y.current)===null||q===void 0||q.add({host:v,dest:C})}}}}),(0,c.jsx)(X.Z,{title:"\u7ED1\u5B9A\u7AEF\u53E3",tooltip:"\u8BBF\u95EE\u7AEF\u53E3\u7559\u7A7A\u65F6\u968F\u673A\u751F\u6210\u7AEF\u53E3\uFF0C\u5168\u90E8\u5220\u9664\u5219\u8868\u793A\u4E0D\u66B4\u9732\u7AEF\u53E3",headerBordered:!0,extra:(0,c.jsxs)(_e.Z,{children:[p.showBindHost&&(0,c.jsx)(ae.Z,{name:"useHostNetwork",fieldProps:{checkedChildren:"\u7ED1\u5B9AHost\u7F51\u7EDC",unCheckedChildren:"\u7ED1\u5B9AHost\u7F51\u7EDC",onChange:function(v){if(v){var C;(C=m.current)===null||C===void 0||C.setFieldsValue({bindIpV6:!1,publishAllPorts:!1})}}}}),p.showBindIpV6&&(0,c.jsx)(K.Z,{name:["siteName","useHostNetwork"],children:function(v){var C=v.useHostNetwork;return(0,c.jsx)(ae.Z,{name:"publishAllPorts",fieldProps:{checkedChildren:"\u7ED1\u5B9A\u5168\u90E8\u7AEF\u53E3",unCheckedChildren:"\u7ED1\u5B9A\u5168\u90E8\u7AEF\u53E3"},disabled:C},"publishAllPorts")}}),p.showBindIpV6&&(0,c.jsx)(K.Z,{name:["siteName","useHostNetwork"],children:function(v){var C=v.useHostNetwork;return(0,c.jsx)(ae.Z,{name:"bindIpV6",fieldProps:{checkedChildren:"IpV6",unCheckedChildren:"IpV6"},disabled:C},"bindIpV6")}})]}),children:(0,c.jsx)(K.Z,{name:["useHostNetwork","bindIpV6","publishAllPorts"],children:function(v){var C=v.useHostNetwork,P=v.bindIpV6,V=v.publishAllPorts;if(!C&&!V)return(0,c.jsx)(ve.u,{name:"ports",actionRef:y,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BF9\u5916\u90E8\u8BBF\u95EE"},min:0,copyIconProps:!1,children:(0,c.jsxs)(g.UW,{children:[(0,c.jsx)(de.Z,{width:p.showInDrawer?"sm":"md",name:"host",label:"\u5916\u90E8\u8BBF\u95EE\u7AEF\u53E3",tooltip:"\u5BF9\u5916\u8BBF\u95EE\u53EF\u4EE5\u901A\u8FC7\u6DFB\u52A0\u8BBF\u95EE\u7AEF\u53E3\u6216\u662F\u521B\u5EFA\u5B8C\u6210\u540E\u5BF9\u5BB9\u5668\u7ED1\u5B9A\u57DF\u540D",placeholder:"\u7559\u7A7A\u5C06\u4F7F\u7528\u968F\u673A\u7AEF\u53E3\uFF0C\u7ED1\u5B9AIpV6\u5FC5\u586B",required:P,rules:[{required:P}]}),(0,c.jsx)(de.Z,{label:"\u5BB9\u5668\u5185\u7AEF\u53E3",width:p.showInDrawer?"sm":"md",name:"dest",placeholder:"\u6784\u5EFA\u65F6 Expose \u6307\u5B9A\u7684\u7AEF\u53E3",required:!0,rules:[{required:!0}]})]})})}})})});te.Z=k},92067:function(xe,te,u){u.d(te,{Z:function(){return pe}});var ie=u(15009),_=u.n(ie),he=u(99289),X=u.n(he),ae=u(60335),K=u(27496),ve=u(64789),g=u(10641),de=u(42075),_e=u(66309),o=u(60922),c=u(14726),k=u(67294),p=u(85893);function pe(l){return(0,p.jsx)(g.Z,{columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"names",render:function(ue,s,y,b){return(0,p.jsx)(de.Z,{direction:"vertical",style:{textAlign:"left"},children:s==null?void 0:s.Names.map(function(m){return m})},s.Id)}},{title:"\u7AEF\u53E3",dataIndex:"ports",search:!1,render:function(ue,s,y,b){return s!=null&&s.Ports?(0,p.jsx)(de.Z,{direction:"vertical",style:{textAlign:"left"},children:s==null?void 0:s.Ports.map(function(m,j){return(0,p.jsx)(_e.Z,{color:"#2db7f5",icon:m.PublicPort?(0,p.jsx)(K.Z,{}):"",children:"".concat(m.PublicPort?m.IP+":"+m.PublicPort+"->":"").concat(m.PrivatePort,"/").concat(m.Type)},j)})},s.Id):(0,p.jsx)(p.Fragment,{})}},{title:"\u8FD0\u884C\u5BB9\u5668",search:!1,render:function(ue,s,y,b){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(o.Z.Text,{ellipsis:{tooltip:s.Image},children:s.Image},s.Id)})}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",ellipsis:!0,width:100,render:function(ue,s,y,b){return[(0,p.jsx)(c.ZP,{type:"link",onClick:function(){(0,ae.jV)({md5:s.Id}).then(function(j){return l.onSelect&&l.onSelect(j.data.info),!0})},children:(0,p.jsx)(ve.Z,{})},s.Id)]}}],rowKey:"Id",request:function(){var R=X()(_()().mark(function ue(s,y,b){return _()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",new Promise(function(v,C){(0,ae.IE)({tag:s.names}).then(function(P){var V={data:P.data.list,success:!0,total:P.data.list.length};v(V)})}));case 1:case"end":return j.stop()}},ue)}));return function(ue,s,y){return R.apply(this,arguments)}}(),pagination:{pageSize:5}})}},35880:function(xe,te,u){var ie=u(67294),_=(0,ie.createContext)({});te.Z=_},15107:function(xe,te,u){u.r(te),u.d(te,{default:function(){return ou}});var ie=u(15009),_=u.n(ie),he=u(99289),X=u.n(he),ae=u(5574),K=u.n(ae),ve=u(90078),g=u(38345),de=u(97269),_e=u(2236),o=u(5966),c=u(97462),k=u(64218),p=u(92398),pe=u(40056),l=u(67294),R=u(35880),ue=u(10641),s=u(62370),y=u(85576),b=u(42075),m=u(96074),j=u(60922),v=u(83062),C=u(71230),P=u(15746),V=u(14726),re=u(3393),q=u(18148),B=u(5251),f=u(64789),H=u(75162),Y=u(28307),G=u(78451),fe=u(99861),e=u(85893);function D(i){var N=(0,l.useState)(!1),T=K()(N,2),A=T[0],r=T[1],I=(0,l.useRef)(),E=(0,l.useContext)(R.Z),Z=E.createFormRef,w=E.volumeListRef,W=E.createEnvRef,h=E.domainRef,F=(0,l.useRef)(),ee=function(){var U=X()(_()().mark(function O(a){var S,ce,$,Q,d,se,me,Fe,le,z,L,t;return _()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return r(!1),J.next=3,(0,re.YU)({md5:a});case 3:d=J.sent,i.redeploy||(le=(se=Z.current)===null||se===void 0?void 0:se.getFieldsValue(),(me=Z.current)===null||me===void 0||me.resetFields(),(Fe=Z.current)===null||Fe===void 0||Fe.setFieldsValue({siteName:le.siteName,siteTitle:le.siteTitle})),d.data.info.Config.Env&&d.data.info.Config.Env.map(function(ne){var x,Ee=ne.split("=");(x=W.current)===null||x===void 0||x.addEnvItem(Ee[0],Ee.slice(1).join("="))}),(S=Z.current)===null||S===void 0||S.setFieldValue("imageName",a),(ce=Z.current)===null||ce===void 0||ce.setFieldValue("workDir",d.data.info.Config.WorkingDir),($=h.current)===null||$===void 0||$.setExposePort(d.data.info.Config.ExposedPorts),d.data.info.Config.Volumes?(L=[],Object.keys(d.data.info.Config.Volumes).map(function(ne,x){L.push(ne)}),(z=w.current)===null||z===void 0||z.setDefaultDestPath(L)):(t=w.current)===null||t===void 0||t.setDefaultDestPath([]),(Q=Z.current)===null||Q===void 0||Q.setFieldsValue({workDir:{value:"",useDefault:!0,default:d.data.info.Config.WorkingDir},user:{value:"",useDefault:!0,default:d.data.info.Config.User},command:{value:"",useDefault:!0,default:d.data.info.Config.Cmd&&d.data.info.Config.Cmd.join(" ")},entrypoint:{value:"",useDefault:!0,default:d.data.info.Config.Entrypoint&&d.data.info.Config.Entrypoint.join(" ")}});case 11:case"end":return J.stop()}},O)}));return function(a){return U.apply(this,arguments)}}();return(0,l.useEffect)(function(){i.fromImageId&&ee(i.fromImageId)},[i.fromImageId]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(y.Z,{open:A,width:1024,title:"\u9009\u62E9\u955C\u50CF",footer:!1,onCancel:function(){return r(!1)},children:(0,e.jsx)(ue.Z,{scroll:{x:"max-content"},columns:[{title:"Id",dataIndex:"Id",search:!1,width:200,render:function(O,a,S,ce,$){return(0,e.jsx)(G.Z,{content:a.Id})}},{title:"\u955C\u50CF\u540D\u79F0",dataIndex:"tag",width:200,render:function(O,a,S,ce){return(0,e.jsx)(G.Z,{content:a.RepoTags[0]})}},{title:"\u521B\u5EFA\u65E5\u671F",dataIndex:"Created",ellipsis:!0,search:!1,width:"180px",render:function(O,a,S,ce){return(0,e.jsx)("div",{children:(0,B.ZM)(a.Created*1e3)},a.Id)},sorter:function(O,a){return O.Created-a.Created}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:80,render:function(O,a,S,ce){return(0,e.jsxs)(b.Z,{split:(0,e.jsx)(m.Z,{type:"vertical"}),children:[(0,e.jsx)(j.Z.Link,{onClick:X()(_()().mark(function $(){return _()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",ee(a.RepoTags[0]));case 1:case"end":return d.stop()}},$)})),children:(0,e.jsx)(v.Z,{title:"\u4F7F\u7528\u955C\u50CF",children:(0,e.jsx)(f.Z,{})})},"addImage"),(0,e.jsx)(j.Z.Link,{onClick:X()(_()().mark(function $(){var Q;return _()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:a.RepoTags[0]&&((Q=F.current)===null||Q===void 0||Q.setImageName(a.RepoTags[0]));case 1:case"end":return se.stop()}},$)})),children:(0,e.jsx)(v.Z,{title:"\u66F4\u65B0\u955C\u50CF",children:(0,e.jsx)(H.Z,{})})},"updateImage")]})}}],request:function(){var U=X()(_()().mark(function O(a,S,ce){var $,Q,d,se,me;return _()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return i.redeploy&&(Q=($=Z.current)===null||$===void 0?void 0:$.getFieldValue("imageName"),a.tag=Q?Q.split(":")[0]:a.tag),le.next=3,(0,q.KG)({tag:a.tag});case 3:return d=le.sent,se=0,me=[],d.data.list&&(me=d.data.list.flatMap(function(z){return z.RepoTags.map(function(L){return{Key:se++,Id:z.Id,Created:z.Created,RepoTags:[L]}})})),le.abrupt("return",{data:me,success:!0,total:me.length});case 8:case"end":return le.stop()}},O)}));return function(O,a,S){return U.apply(this,arguments)}}(),toolBarRender:function(){return[(0,e.jsx)(Y.Z,{onClick:function(){r(!1)},buttonType:"primary",ref:F,onFinish:function(a){console.log(a),ee(a)}},"remote")]},formRef:I,rowKey:"Key",pagination:{pageSize:5}})},"imageTableList"),(0,e.jsxs)(C.Z,{children:[(0,e.jsx)(P.Z,{span:14,children:(0,e.jsx)(o.Z,{label:"\u955C\u50CF",tooltip:i.redeploy?"\u66F4\u65B0\u5BB9\u5668\u65F6,\u53EA\u53EF\u4EE5\u9009\u62E9\u8BE5\u955C\u50CF\u4E0B\u7684\u4E0D\u540Ctag.\u4E5F\u53EF\u4EE5\u5F3A\u5236\u66F4\u65B0\u5DF2\u90E8\u7F72tag,\u66F4\u6B21\u90E8\u7F72":"\u65B0\u5EFA\u5BB9\u5668\u65F6,\u53EF\u4EE5\u4F7F\u7528\u672C\u5730\u955C\u50CF,\u4E5F\u53EF\u4EE5\u4E0B\u8F7D\u5168\u65B0\u7684\u955C\u50CF\u6216\u662F\u66F4\u65B0\u672C\u5730\u955C\u50CF\u7684tag",name:"imageName",disabled:!0,placeholder:"\u8BF7\u9009\u62E9\u955C\u50CF\uFF0C\u5982\u679C\u662F\u8FDC\u7A0B\u955C\u50CF\u8BF7\u5148\u4E0B\u8F7D",rules:[{required:!0}],required:!0})}),(0,e.jsx)(P.Z,{children:(0,e.jsx)(s.Z,{label:" ",children:(0,e.jsxs)(b.Z,{children:[(0,e.jsx)(V.ZP,{type:"primary",onClick:function(){return r(!0)},children:i.redeploy?"\u66F4\u65B0\u955C\u50CF":"\u9009\u62E9\u955C\u50CF"},"showBtn"),(0,e.jsx)(c.Z,{name:["imageName"],children:function(O){var a=O.imageName;if(i.redeploy)return(0,e.jsx)(fe.Z,{image:[a],title:"\u66F4\u65B0\u5F53\u524D\u955C\u50CF"})}})]})})})]})]})}var Ie=u(60335),ge=u(24969),oe=u(24739),Ne=u(63434),Pe=u(17186),we=u(92067),Se=(0,l.forwardRef)(function(i,N){var T=(0,l.useState)(!1),A=K()(T,2),r=A[0],I=A[1],E=(0,l.useRef)(),Z=function(h){var F=(0,l.useState)([]),ee=K()(F,2),U=ee[0],O=ee[1];return(0,l.useEffect)(function(){(0,Ie.jV)({md5:h.name}).then(function(a){var S;return O((S=a.data.info.Config.Env)!==null&&S!==void 0?S:[]),!0})},[]),(0,e.jsxs)(g.Z,{bordered:!0,extra:h.action,style:{marginBottom:10},children:[(0,e.jsx)(g.Z,{title:"\u5173\u8054\u4FE1\u606F",children:(0,e.jsxs)(oe.UW,{children:[(0,e.jsx)(o.Z,{label:"\u5BB9\u5668\u540D\u79F0",name:"name",width:"md",readonly:!0}),(0,e.jsx)(o.Z,{label:"\u8BBF\u95EEHostName",name:"alise",width:"md",tooltip:"\u901A\u8FC7\u914D\u7F6E\u6B64\u540D\u79F0\uFF0C\u5728\u5BB9\u5668\u5185\u90E8\u8FDB\u884C\u8BF7\u6C42\u8BBF\u95EE"}),(0,e.jsx)(Ne.Z,{label:"\u5173\u8054\u5B58\u50A8",name:"volume"})]})}),(0,e.jsx)(g.Z,{title:"\u73AF\u5883\u53D8\u91CF",children:(0,e.jsx)(b.Z,{direction:"vertical",children:U&&U.map(function(a,S){return(0,e.jsx)(j.Z.Text,{copyable:{icon:(0,e.jsx)(ge.Z,{}),onCopy:function(){var $=a.split("=");i.onAddEnv($[0],$[1])},tooltips:["add env","success"]},code:!0,ellipsis:{tooltip:a},style:{width:300},children:a},S)})},"linkEnv")})]})},w=function(h){var F,ee,U=!1,O=(F=(ee=E.current)===null||ee===void 0?void 0:ee.getList())!==null&&F!==void 0?F:[];if(O.map(function(S){S.name==h.name&&(U=!0)}),!U){var a;(a=E.current)===null||a===void 0||a.add(h)}};return(0,l.useImperativeHandle)(N,function(){return{setDefaultLink:function(h){h&&h.map(function(F){F.name!=""&&w(F)})}}}),(0,e.jsxs)(g.Z,{title:"\u5173\u8054\u5BB9\u5668",headerBordered:!0,children:[(0,e.jsx)(Pe.u,{name:"links",actionRef:E,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5173\u8054"},actionGuard:{beforeAddRow:function(h,F){return I(!0),!1}},copyIconProps:!1,min:0,itemRender:function(h,F){return(0,e.jsx)(Z,{action:h.action,name:F.record.name})}}),(0,e.jsx)(y.Z,{title:"\u9009\u62E9\u5BB9\u5668",width:1024,footer:!1,open:r,onCancel:function(){return I(!1)},children:(0,e.jsx)(we.Z,{onSelect:function(h){w({name:h.Name,alise:h.Config.Hostname,volume:!1}),I(!1)}})})]})}),Ke=Se,ke=u(91058),ye=u(86615),be=u(64317),He=(0,l.forwardRef)(function(i,N){var T=(0,l.useRef)();return(0,l.useImperativeHandle)(N,function(){return{setDefaultDestPath:function(r){var I,E,Z=(I=(E=T.current)===null||E===void 0?void 0:E.getList())!==null&&I!==void 0?I:[];r.length!=0&&r.filter(function(w){return w!=""}).map(function(w){var W=!1;if(Z.map(function(F){if(F.dest==w){W=!0;return}}),!W){var h;(h=T.current)===null||h===void 0||h.add({dest:w,permission:"write",inImage:!0,edit:!1})}})}}}),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(g.Z,{title:"\u9ED8\u8BA4\u5B58\u50A8\uFF08Volume\uFF09",subTitle:"\u9ED8\u8BA4\u5B58\u50A8\u4E0E\u7AD9\u70B9\u6807\u8BC6\u4FDD\u6301\u4E00\u81F4",headerBordered:!0,children:(0,e.jsx)(Pe.u,{name:"volumesDefault",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u76EE\u5F55\u5230\u9ED8\u8BA4\u5B58\u50A8"},actionRef:T,copyIconProps:!1,min:0,children:function(r,I,E){var Z=E.getCurrentRowData();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(o.Z,{width:"lg",name:"dest",label:"\u5BB9\u5668\u5185\u8DEF\u5F84",required:!0,rules:[{required:!0}],disabled:Z.inImage}),(0,e.jsx)(ye.Z.Group,{hidden:!0,name:"inImage",label:"\u955C\u50CF\u5185\u6302\u8F7D",valueEnum:{1:"\u662F",0:"\u5426"}})]})}})}),(0,e.jsx)(g.Z,{title:"\u81EA\u5B9A\u4E49\u6302\u8F7D\u6216\u662F\u5B58\u50A8\u5377",tooltip:"\u6302\u8F7D\u53EF\u4EE5\u662F\u5BBF\u4E3B\u673A\u7684\u76EE\u5F55\u6216\u662F\u6587\u4EF6\uFF0C\u4E5F\u53EF\u4EE5\u6307\u5B9A\u5B58\u50A8\u5377\u540D\uFF08\u81EA\u52A8\u65B0\u5EFA\uFF09\u3002",headerBordered:!0,direction:"column",children:(0,e.jsx)(Pe.u,{name:"volumes",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u6620\u5C04\u76EE\u5F55"},copyIconProps:!1,min:0,children:(0,e.jsxs)(oe.UW,{children:[(0,e.jsxs)(b.Z.Compact,{children:[(0,e.jsx)(o.Z,{label:"\u5BBF\u4E3B\u673A\u6587\u4EF6\u3001\u76EE\u5F55\u6216\u5B58\u50A8\u5377",name:"host",width:"md",required:!0,rules:[{required:!0}]}),(0,e.jsx)(be.Z,{label:" ",valueEnum:{write:"\u8BFB\u5199",readonly:"\u53EA\u8BFB"},initialValue:"write",name:"permission"})]}),(0,e.jsx)(o.Z,{label:"\u5BB9\u5668\u5185\u8DEF\u5F84",name:"dest",width:"md",required:!0,rules:[{required:!0}]})]})})})]})}),Ge=He,$e=u(2831),Ue=u(86125);function ze(i){var N,T=(0,l.useState)(),A=K()(T,2),r=A[0],I=A[1];return(0,l.useEffect)(function(){(0,$e.a)().then(function(E){return I(E.data.info)})},[]),(0,e.jsxs)(g.Z,{children:[(0,e.jsx)(o.Z,{label:"\u5171\u4EAB\u5185\u5B58\u5927\u5C0F - /dev/shm",name:"shmsize",initialValue:"64M",tooltip:"0 \u4E3A\u4F7F\u7528\u9ED8\u8BA464M"}),(0,e.jsx)(s.Z,{label:"\u6700\u5927Cpu\u914D\u989D",name:"cpus",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(Ue.Z,{step:.1,max:r==null?void 0:r.NCPU,marks:{0:"0",.5:"0.5\u6838",1:"1\u6838",1.5:"1.5\u6838",2:"2\u6838",4:"4\u6838",6:"6\u6838",8:"8\u6838"}})}),(0,e.jsx)(s.Z,{label:"\u6700\u5927\u5185\u5B58\u914D\u989D",name:"memory",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(Ue.Z,{step:256,max:Math.round(((N=r==null?void 0:r.MemTotal)!==null&&N!==void 0?N:0)/1024/1024),marks:{0:"0",1024:"1G",2048:"2G",3072:"3G",4096:"4G"}})}),(0,e.jsx)(be.Z,{label:"\u65E5\u5FD7\u7C7B\u578B",name:["log","driver"],tooltip:"\u9ED8\u8BA4\u4F7F\u7528 json-file \u9A71\u52A8\u7531 docker \u7EDF\u4E00\u7BA1\u7406\u3002\u91C7\u7528 journal \u65F6\u65E5\u5FD7\u5C06\u6765\u5BBF\u4E3B\u673A\u7BA1\u7406",initialValue:"json-file",valueEnum:{"json-file":"json-file",journald:"journal (\u5BBF\u4E3B\u9700\u8981\u5B89\u88C5journal\u670D\u52A1)"}}),(0,e.jsx)(c.Z,{name:["log"],children:function(Z){var w=Z.log;if(w.driver=="json-file")return(0,e.jsxs)(oe.UW,{children:[(0,e.jsx)(o.Z,{label:"\u65E5\u5FD7\u5207\u5272\u5C3A\u5BF8",name:["log","maxSize"],placeholder:"\u4F8B\u5982\uFF1A10k,5M",tooltip:"\u9ED8\u8BA4 Docker \u5E76\u4E0D\u4F1A\u81EA\u52A8\u5207\u5272\u65E5\u5FD7"}),(0,e.jsx)(o.Z,{tooltip:"\u9ED8\u8BA4 Docker \u5E76\u4E0D\u4F1A\u81EA\u52A8\u6E05\u7406\u65E5\u5FD7\u6587\u4EF6",label:"\u4FDD\u7559\u65E5\u5FD7\u6587\u4EF6\u6570",name:["log","maxFile"],placeholder:"\u4F8B\u5982\uFF1A10"})]})}})]})}function Ye(){return(0,e.jsx)(g.Z,{children:(0,e.jsx)(Pe.u,{name:"label",label:"\u5BB9\u5668\u6807\u7B7E",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BB9\u5668\u6807\u7B7E"},copyIconProps:!1,min:0,children:(0,e.jsxs)(oe.UW,{children:[(0,e.jsx)(o.Z,{width:"md",name:"name",label:"\u540D\u79F0",placeholder:""}),(0,e.jsx)(o.Z,{width:"md",name:"value",label:"\u503C",placeholder:""})]})})})}var Oe=u(52688),Je=u(44771),su="default",lu="user";function Qe(i){return(0,e.jsx)(s.Z,{label:i.label,tooltip:i.tooltip,children:(0,e.jsxs)(b.Z.Compact,{block:!0,children:[(0,e.jsx)(ye.Z.Group,{radioType:"button",name:[i.name,"useDefault"],options:[{label:"\u4F7F\u7528\u9ED8\u8BA4",value:!0},{label:"\u81EA\u5B9A\u4E49",value:!1}]}),(0,e.jsx)(c.Z,{name:[i.name],children:function(T){return T[i.name]&&T[i.name].useDefault?(0,e.jsx)(o.Z,{name:[i.name,"default"],disabled:!0,placeholder:"\u672A\u8BBE\u7F6E"}):(0,e.jsx)(o.Z,{name:[i.name,"value"]})}})]})})}var Ze=Qe;function Xe(){return(0,e.jsxs)(g.Z,{children:[(0,e.jsx)(Je.Z,{label:"\u91CD\u542F\u7B56\u7565"}),(0,e.jsxs)(oe.UW,{children:[(0,e.jsx)(Oe.Z,{name:"privileged",label:"\u8D4B\u4E88\u5BB9\u5668Root\u6743\u9650",initialValue:!1}),(0,e.jsx)(Oe.Z,{name:"autoRemove",label:"\u505C\u6B62\u540E\u81EA\u52A8\u5220\u9664",initialValue:!1})]}),(0,e.jsx)(Ze,{label:"\u5DE5\u4F5C\u76EE\u5F55",tooltip:"\u9ED8\u8BA4\u4F7F\u7528\u955C\u50CF\u4E2D\u6307\u5B9A\u7684\u5DE5\u4F5C\u76EE\u5F55",name:"workDir"}),(0,e.jsx)(Ze,{label:"User",tooltip:"\u5728\u5BB9\u5668\u4E2D\u8FD0\u884C\u547D\u4EE4\u7684\u7528\u6237",name:"user"}),(0,e.jsx)(Ze,{label:"Command",tooltip:"\u542F\u52A8\u5BB9\u5668\u65F6\u8FD0\u884C\u7684\u547D\u4EE4\uFF0C\u4EE5\u7A7A\u683C\u5206\u9694",name:"command"}),(0,e.jsx)(Ze,{label:"Entrypoint",tooltip:"\u65E0\u6CD5\u8986\u76D6\u955C\u50CF\u4E2D\u5DF2\u7ECF\u6307\u5B9A\u7684 Entrypoint \u547D\u4EE4",name:"entrypoint"})]})}var qe=u(91845),We=u(62597),Le=u(54006),eu=u(4798),uu=u(82034);function je(i){return(0,e.jsx)("div",{style:{display:i.show?"block":"none"},children:i.children})}function nu(){var i=(0,l.useRef)(),N=function(r){var I,E,Z=!1,w=(I=(E=i.current)===null||E===void 0?void 0:E.getList())!==null&&I!==void 0?I:[];if(w.map(function(h){h.name==r.name&&(Z=!0)}),!Z){var W;(W=i.current)===null||W===void 0||W.add(r)}},T=function(r){var I,E,Z=!1,w=(I=(E=i.current)===null||E===void 0?void 0:E.getList())!==null&&I!==void 0?I:[];w.map(function(W,h){if(W.name==r){var F;(F=i.current)===null||F===void 0||F.remove(h)}})};return(0,e.jsx)(g.Z,{title:"\u5173\u8054\u5BBF\u4E3B\u7F51\u7EDC\u4E3B\u673A",tooltip:"\u5BB9\u5668\u5185\u5982\u679C\u9700\u8981\u8BF7\u6C42\u5BBF\u4E3B\u673A\u6240\u5728\u7684\u7F51\u7EDC\u4E2D\u7684\u4E3B\u673A\uFF0C\u53EF\u4EE5\u901A\u8FC7\u6B64\u914D\u7F6E\u5C06Ip\u6CE8\u5165\u5230\u5BB9\u5668\u4E2D",extra:(0,e.jsx)(b.Z,{children:(0,e.jsx)(Oe.Z,{name:"enableBindHost",fieldProps:{checkedChildren:"\u7ED1\u5B9A\u5BBF\u4E3B\u673AIp",unCheckedChildren:"\u7ED1\u5B9A\u5BBF\u4E3B\u673AIp",onChange:function(r){r?N({name:"host.dpanel.local",value:"host-gateway"}):T("host.dpanel.local")}}})}),children:(0,e.jsx)(Pe.u,{name:"extraHosts",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BBF\u4E3B\u673A\u7F51\u7EDC\u5173\u8054"},actionRef:i,copyIconProps:!1,min:0,children:(0,e.jsxs)(oe.UW,{children:[(0,e.jsx)(o.Z,{width:"md",name:"name",label:"Hostname",placeholder:""}),(0,e.jsx)(o.Z,{width:"md",name:"value",label:"ip",placeholder:""})]})})})}var tu=u(90672),au=(0,l.forwardRef)(function(i,N){return(0,l.useImperativeHandle)(N,function(){return{}}),(0,e.jsxs)(g.Z,{title:"\u7F51\u7EDC\u914D\u7F6E",children:[(0,e.jsxs)(oe.UW,{children:[(0,e.jsx)(o.Z,{label:"\u914D\u7F6E ipV4 \u5730\u5740",name:["ipV4","address"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u5730\u5740\uFF0C\u4F8B\u5982 192.168.1.5",placeholder:"192.168.1.5"}),(0,e.jsx)(c.Z,{name:["ipV4"],children:function(A){var r=A.ipV4;return(0,e.jsx)(o.Z,{label:"\u914D\u7F6E ipV4 \u5B50\u7F51",name:["ipV4","subnet"],width:"md",required:r&&r.address,tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u6240\u5728\u7684\u5B50\u7F51\uFF0C\u4F8B\u5982 192.168.1.0/24",placeholder:"192.168.1.0/24",rules:[{required:r&&r.address}]})}}),(0,e.jsx)(o.Z,{label:"\u914D\u7F6E ipV4 \u7F51\u5173",name:["ipV4","gateway"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u7684\u7F51\u5173\uFF0C\u4F8B\u5982 192.168.1.1",placeholder:"192.168.1.1"})]}),(0,e.jsxs)(oe.UW,{children:[(0,e.jsx)(o.Z,{label:"\u914D\u7F6E ipV6 \u5730\u5740",name:["ipV6","address"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipV6\u5730\u5740\uFF0C\u4F8B\u5982 2001:db8::5",placeholder:"2001:db8::5"}),(0,e.jsx)(c.Z,{name:["ipV6"],children:function(A){var r=A.ipV6;return(0,e.jsx)(o.Z,{label:"\u914D\u7F6E ipV6 \u5B50\u7F51",name:["ipV6","subnet"],width:"md",required:r&&r.address,tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u6240\u5728\u7684\u5B50\u7F51\uFF0C\u4F8B\u5982 2001:db8::/48",placeholder:"2001:db8::/48",rules:[{required:r&&r.address}]})}}),(0,e.jsx)(o.Z,{label:"\u914D\u7F6E ipV6 \u7F51\u5173",name:["ipV6","gateway"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipV6\u7684\u7F51\u5173\uFF0C\u4F8B\u5982 2001:db8::1",placeholder:"2001:db8::1"})]}),(0,e.jsx)(tu.Z,{label:"DNS\u914D\u7F6E",name:"dns",placeholder:"\u8BF7\u6307\u5B9Adns\u5730\u5740\uFF0C\u4F8B\u5982\uFF1A8.8.8.8\uFF0C\u4E00\u884C\u6DFB\u4E00\u6761dns\u5730\u5740"})]})}),ru=au,Ae="update",Ve="copy",Re="new";function ou(){var i,N,T,A=(0,l.useContext)(R.Z),r=A.createFormRef,I=A.volumeListRef,E=A.domainRef,Z=A.createEnvRef,w=A.createLinkRef,W=(0,l.useState)(Re),h=K()(W,2),F=h[0],ee=h[1],U=(0,Le.useSearchParams)(),O=K()(U,2),a=O[0],S=O[1],ce=(0,Le.useNavigate)(),$=(0,l.useState)("basic"),Q=K()($,2),d=Q[0],se=Q[1],me=parseInt((i=a.get("id"))!==null&&i!==void 0?i:""),Fe=(N=a.get("containerId"))!==null&&N!==void 0?N:"",le=(T=a.get("imageId"))!==null&&T!==void 0?T:"";return(0,l.useEffect)(function(){if(Fe||me)(0,We.iE)({md5:Fe,id:me}).then(function(){var L=X()(_()().mark(function t(n){var J,ne,x,Ee,Ce,Te,Me;return _()().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:if(x={info:{},layer:[]},!n.data.env.imageName){De.next=6;break}return De.next=4,(0,re.YU)({md5:n.data.env.imageName});case 4:Ee=De.sent,x=Ee.data;case 6:a.get("op")==Ve?ee(Ve):ee(Ae),n.data.env.network&&n.data.env.network.map(function(M){return!M.alise&&M.name!="bridge"&&(M.alise=[n.data.siteName+".pod.dpanel.local"]),M}),n.data.env.ports&&n.data.env.ports.map(function(M){return M.host=="0"&&(M.host=""),M}),Ce=n.data.env.bindIpV6,n.data.containerInfo.Info&&n.data.containerInfo.Info.NetworkSettings.Networks&&Object.keys(n.data.containerInfo.Info.NetworkSettings.Networks).map(function(M){n.data.env.network&&(n.data.env.network=n.data.env.network.map(function(Be){return M==Be.name&&(Be.subnet=n.data.containerInfo.Info.NetworkSettings.Networks[M].IPAddress+"/"+n.data.containerInfo.Info.NetworkSettings.Networks[M].IPPrefixLen),Be})),n.data.containerInfo.Info.NetworkSettings.Networks[M].IPv6Gateway!=""&&(Ce=!0)}),n.data.env.extraHosts&&n.data.env.extraHosts.map(function(M){if(M.value=="host-gateway"){var Be;(Be=r.current)===null||Be===void 0||Be.setFieldValue("enableBindHost",!0)}}),Te=n.data.env.ports,n.data.env.ports&&(Te=n.data.env.ports.map(function(M){return M.host=(M.hostIp?M.hostIp+":":"")+M.host,M})),(J=r.current)===null||J===void 0||J.setFieldsValue({imageName:n.data.env.imageName,privileged:n.data.env.privileged,bindIpV6:n.data.env.useHostNetwork?!1:Ce,useHostNetwork:n.data.env.useHostNetwork,publishAllPorts:n.data.env.useHostNetwork?!1:n.data.env.publishAllPorts,workDir:{value:n.data.env.workDir,useDefault:!n.data.env.workDir,default:x&&x.info.Config.WorkingDir},user:{value:n.data.env.user,useDefault:!n.data.env.user,default:x&&x.info.Config.User},command:{value:n.data.env.command,useDefault:!n.data.env.command,default:x&&x.info.Config.Cmd&&x.info.Config.Cmd.join(" ")},entrypoint:{value:n.data.env.entrypoint,useDefault:!n.data.env.entrypoint,default:x&&x.info.Config.Entrypoint&&x.info.Config.Entrypoint.join(" ")},shmsize:(ne=n.data.env.shmsize)!==null&&ne!==void 0?ne:"64M",cpus:n.data.env.cpus,memory:n.data.env.memory,environment:n.data.env.environment,label:n.data.env.label,volumesDefault:n.data.env.volumesDefault,volumes:n.data.env.volumes,ports:Te,links:n.data.env.links,network:n.data.env.network,restart:n.data.env.restart,extraHosts:n.data.env.extraHosts,autoRemove:n.data.env.autoRemove,log:n.data.env.log,dns:n.data.env.dns&&n.data.env.dns.join(`
`),ipV4:n.data.env.ipV4,ipV6:n.data.env.ipV6}),a.get("op")==Ae&&((Me=r.current)===null||Me===void 0||Me.setFieldsValue({siteTitle:n.data.siteTitle,siteName:n.data.siteName}));case 16:case"end":return De.stop()}},t)}));return function(t){return L.apply(this,arguments)}}());else{var z;ee(Re),(z=r.current)===null||z===void 0||z.resetFields()}},[a]),(0,e.jsx)(ve._z,{children:(0,e.jsx)(g.Z,{direction:"column",gutter:[0,10],children:(0,e.jsxs)(de.A,{submitter:{render:function(L,t){return(0,e.jsx)(_e.S,{children:t})}},formRef:r,onFinish:function(){var z=X()(_()().mark(function L(t){var n,J,ne,x;return _()().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return console.log(t),x={siteTitle:t.siteTitle,siteName:t.siteName,imageName:t.imageName,environment:t.environment,links:t.links,ports:t.ports,volumes:t.volumes,volumesDefault:t.volumesDefault,network:t.network,privileged:(n=t.privileged)!==null&&n!==void 0?n:!1,autoRemove:(J=t.autoRemove)!==null&&J!==void 0?J:!1,restart:t.restart,cpus:t.cpus,memory:t.memory,shmsize:(ne=t.shmsize)!==null&&ne!==void 0?ne:0,workDir:t.workDir&&!t.workDir.useDefault?t.workDir.value:"",user:t.user&&!t.user.useDefault?t.user.value:"",command:t.command&&!t.command.useDefault?t.command.value:"",entrypoint:t.entrypoint&&!t.entrypoint.useDefault?t.entrypoint.value:"",useHostNetwork:t.useHostNetwork,bindIpV6:t.bindIpV6,log:t.log,dns:t.dns&&t.dns!=""?t.dns.split(`
`):[],label:t.label,publishAllPorts:t.publishAllPorts,extraHosts:t.extraHosts,ipV4:t.ipV4,ipV6:t.ipV6},Fe&&F==Ae&&(x.containerId=Fe),Ce.next=5,(0,We.$G)(x);case 5:return ce("/app/list"),Ce.abrupt("return",!0);case 7:case"end":return Ce.stop()}},L)}));return function(L){return z.apply(this,arguments)}}(),children:[(0,e.jsxs)(g.Z,{title:"\u57FA\u7840\u4FE1\u606F",headerBordered:!0,children:[(0,e.jsx)(o.Z,{name:"siteTitle",label:"\u7AD9\u70B9\u540D\u79F0",required:!0,rules:[{required:!0}],fieldProps:{onChange:function(L){var t="";if(L.target.value&&F!=Ae){var n,J=(0,qe.N9)(L.target.value.trim(),{toneType:"none",type:"array"});t=J.join(""),(n=r.current)===null||n===void 0||n.setFieldValue("siteName",t)}}},placeholder:"\u8BF7\u8F93\u5165\u7AD9\u70B9\u540D\u79F0"}),(0,e.jsx)(o.Z,{name:"siteName",label:"\u7AD9\u70B9\u6807\u8BC6",tooltip:"\u7AD9\u70B9\u552F\u4E00\u6807\u8BC6\uFF0C\u7528\u4E8E\u6807\u8BC6\u7AD9\u70B9\u548C\u5185\u90E8\u8BBF\u95EE",required:!0,disabled:F==Ae,rules:[{required:!0}],placeholder:"\u8BF7\u8F93\u5165\u7AD9\u70B9\u540D\u79F0"}),(0,e.jsx)(D,{redeploy:F!=Re,fromImageId:le})]}),(0,e.jsx)(k.Z,{offsetTop:50,children:(0,e.jsx)(g.Z,{style:{marginBottom:-20},children:(0,e.jsx)(p.Z,{activeKey:d,onChange:function(L){se(L),window.scrollTo(0,450)},items:[{label:"\u57FA\u672C\u914D\u7F6E",key:"basic"},{label:"\u5173\u8054\u914D\u7F6E",key:"link"},{label:"\u5B58\u50A8\u914D\u7F6E",key:"storage"},{label:"\u542F\u52A8\u914D\u7F6E",key:"run-command"},{label:"\u8D44\u6E90\u914D\u7F6E",key:"resource"},{label:"\u5176\u5B83",key:"other"}]})})}),(0,e.jsxs)(je,{show:d=="basic",children:[(0,e.jsx)(uu.Z,{ref:E,showBindHost:!0,showBindIpV6:!0}),(0,e.jsx)(ke.Z,{showAddButton:!0,ref:Z}),(0,e.jsx)(ru,{})]}),(0,e.jsx)(je,{show:d=="link",children:(0,e.jsx)(c.Z,{name:["siteName","useHostNetwork"],children:function(L){var t=L.siteName,n=L.useHostNetwork;return n?(0,e.jsx)(pe.Z,{showIcon:!0,description:"\u7ED1\u5B9A\u5230\u5BBF\u4E3B\u673A\u7F51\u7EDC\u65F6\uFF0C\u65E0\u6CD5\u901A\u8FC7 Docker \u5173\u8054\u5176\u5B83\u5BB9\u5668\u3002\u8BF7\u4F7F\u7528\u5BBF\u4E3B\u673A\u5185\u7F51IP\u6216\u662F127.0.0.1\u4E92\u8054\u5BB9\u5668\u66B4\u9732\u7AEF\u53E3\u3002"}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ke,{onAddEnv:function(ne,x){var Ee;(Ee=Z.current)===null||Ee===void 0||Ee.addEnvItem(ne,x)},ref:w}),(0,e.jsx)(eu.Z,{siteName:t}),(0,e.jsx)(nu,{})]})}})}),(0,e.jsx)(je,{show:d=="storage",children:(0,e.jsx)(Ge,{ref:I})}),(0,e.jsx)(je,{show:d=="run-command",children:(0,e.jsx)(Xe,{})}),(0,e.jsx)(je,{show:d=="resource",children:(0,e.jsx)(ze,{})}),(0,e.jsx)(je,{show:d=="other",children:(0,e.jsx)(Ye,{})})]},"form")})})}}}]);
