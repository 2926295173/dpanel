"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3985],{92067:function(xe,J,e){e.d(J,{Z:function(){return _}});var q=e(15009),i=e.n(q),_e=e(99289),c=e.n(_e),A=e(13822),z=e(64789),N=e(56729),S=e(42075),L=e(83062),E=e(83622),Z=e(37413),d=e(5251),K=e(36146),B=e(67255),O=e(85893);function _(m){return(0,O.jsx)(N.Z,{columns:[{title:K.FD.format("listContainerName"),dataIndex:"name",render:function(u,l,ee,j){return(0,O.jsx)(S.Z,{direction:"vertical",style:{textAlign:"left"},children:l==null?void 0:l.Names.map(function(I){return(0,d.fi)(I,"/")})},l.Id)}},{title:K.FD.format("listPort"),dataIndex:"ports",search:!1,render:function(u,l,ee,j){var I=[],t=[];return l!=null&&l.Ports&&l.Ports.map(function(h,g){h.PublicPort?I.push(h):t.push(h)}),(0,O.jsx)(Z.Z,{publicPort:I,privatePort:t,domain:[]})}},{title:K.FD.format("listManage"),valueType:"option",key:"option",ellipsis:!0,width:100,render:function(u,l,ee,j){return[(0,O.jsx)(L.Z,{title:K.FD.format("listManageUse"),children:(0,O.jsx)(E.ZP,{type:"link",onClick:c()(i()().mark(function I(){var t;return i()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,A.jV)({md5:l.Id});case 2:t=g.sent,m.onSelect&&m.onSelect(t.data.info);case 4:case"end":return g.stop()}},I)})),children:(0,O.jsx)(z.Z,{})},l.Id)},l.Id)]}}],rowKey:"Id",request:function(){var p=c()(i()().mark(function u(l,ee,j){var I;return i()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,A.IE)({siteTitle:l.name});case 2:return I=h.sent,h.abrupt("return",{data:I.data.list,success:!0,total:I.data.list.length});case 4:case"end":return h.stop()}},u)}));return function(u,l,ee){return p.apply(this,arguments)}}(),pagination:(0,B.Oh)()})}},81366:function(xe,J,e){var q=e(97857),i=e.n(q),_e=e(19632),c=e.n(_e),A=e(5574),z=e.n(A),N=e(27254),S=e(42075),L=e(85418),E=e(25593),Z=e(83622),d=e(67294),K=e(31112),B=e(85893),O={title:"/",path:"/"},_=(0,d.forwardRef)(function(m,p){var u=(0,d.useContext)(K.Z),l=u.showPath,ee=u.redirectPath,j=(0,d.useState)([O]),I=z()(j,2),t=I[0],h=I[1];(0,d.useImperativeHandle)(p,function(){return{addHistory:function(F,T){T=="/"?h([O]):h([].concat(c()(t),[{title:F,path:T}]))},initHistory:function(F,T){h([i()(i()({},O),{},{children:T})].concat(c()(F)))}}});var g=function(F){l?l(t[F].title,t[F].path):m.showPath&&m.showPath(t[F].title,t[F].path);var T=t.filter(function(Y,f){return f<=F});h(c()(T))};return(0,B.jsxs)(S.Z,{children:[(0,B.jsx)(S.Z.Compact,{children:t.map(function(o,F){return o.children?(0,B.jsxs)(L.Z.Button,{menu:{items:o.children.map(function(T,Y){return{key:Y,label:(0,B.jsx)(E.Z.Link,{onClick:function(){ee(T)},children:T},Y)}})},type:"dashed",onClick:function(Y){g(F)},children:[(0,B.jsx)(N.Z,{})," ",o.title]},F):(0,B.jsx)(Z.ZP,{icon:(0,B.jsx)(N.Z,{}),type:"dashed",onClick:function(){g(F)},children:o.title},F)})}),t.length>=2&&(0,B.jsx)(E.Z.Text,{copyable:{text:t[t.length-1].path}})]})});J.Z=_},31112:function(xe,J,e){var q=e(67294),i=(0,q.createContext)({});J.Z=i},68536:function(xe,J,e){e.d(J,{Z:function(){return Z}});var q=e(24963),i=e(36146),_e=e(93613),c=e(36693),A=e(2741),z=e(25593),N=e(42075),S=e(67294),L=e(85893),E=0;function Z(d){var K=(0,S.useContext)(q.Z),B=K.message,O=new i.Uo("components.explorer");return d.isDir?(0,L.jsx)(z.Z.Link,{onClick:function(){d.onClick&&d.onClick()},children:(0,L.jsxs)(N.Z,{children:[(0,L.jsx)(_e.Z,{}),d.showName]})}):d.isLink?(0,L.jsx)(z.Z.Link,{onClick:function(){d.onClick&&d.onClick()},children:(0,L.jsxs)(N.Z,{children:[(0,L.jsx)(c.Z,{}),d.showName]})}):(0,L.jsx)(z.Z.Text,{onClick:function(){if(E++,E==2){E=0,d.onClick&&d.onClick();return}setTimeout(function(){E==1&&B.info(O.format("fileNameMessageViewDetail")),E=0},400)},style:{cursor:"pointer"},children:(0,L.jsxs)(N.Z,{children:[(0,L.jsx)(A.Z,{}),d.showName]})})}},47248:function(xe,J,e){var q=e(15009),i=e.n(q),_e=e(99289),c=e.n(_e),A=e(5574),z=e.n(A),N=e(38345),S=e(97269),L=e(62370),E=e(5966),Z=e(64317),d=e(83622),K=e(85265),B=e(25593),O=e(42075),_=e(67294),m=e(3393),p=e(97961),u=e(92754),l=e(82346),ee=e(2205),j=e(3616),I=e(36146),t=e(85893),h=(0,_.forwardRef)(function(g,o){var F=(0,_.useState)(!1),T=z()(F,2),Y=T[0],f=T[1],le=(0,_.useRef)(),ue=(0,_.useRef)(),ne=(0,_.useState)(!1),R=z()(ne,2),W=R[0],n=R[1],pe=new I.Uo("components.imagePull");return(0,_.useImperativeHandle)(o,function(){return{upgradeImage:function(y){var G;return f(!0),(G=le.current)===null||G===void 0||G.setFieldValue("imageUrl",y),(0,m.Gb)({tag:y,type:"pull"})},setImageName:function(y){var G;f(!0),(G=le.current)===null||G===void 0||G.setFieldValue("imageUrl",y)}}}),[(0,t.jsx)(d.ZP,{type:g.buttonType?g.buttonType:"default",onClick:function(){var y,G;f(!0),(y=le.current)===null||y===void 0||y.resetFields(),(G=ue.current)===null||G===void 0||G.setStart("")},children:pe.format("triggerButton")},"remoteBtn"),(0,t.jsxs)(K.Z,{forceRender:!0,open:Y,title:pe.format("drawerTitle"),width:j.R_,onClose:function(){var y;f(!1),(y=ue.current)===null||y===void 0||y.close()},footer:!1,children:[(0,t.jsx)(N.Z,{children:(0,t.jsx)(B.Z.Text,{children:(0,t.jsxs)("ul",{style:{lineHeight:"30px"},children:[(0,t.jsxs)("li",{children:[pe.format("tip.1")," ",(0,t.jsx)("a",{href:"https://hub.docker.com/",target:"_blank",children:I.FD.format("help")})]}),(0,t.jsxs)("li",{children:[pe.format("tip.2")," ",(0,t.jsx)("a",{href:"https://hub.docker.com/search?q=",target:"_blank",children:I.FD.format("help")})]}),(0,t.jsxs)("li",{children:[pe.format("tip.3")," "]}),(0,t.jsxs)("li",{children:[pe.format("tip.4")," ",(0,t.jsx)(l.Link,{to:"/image/registry",children:I.Ob.format("image.registry.create")})]}),(0,t.jsxs)("li",{children:[pe.format("tip.5")," ",(0,t.jsx)(l.Link,{to:"/image/registry",children:I.Ob.format("image.registry")})]})]})})}),(0,t.jsx)(N.Z,{title:pe.format("triggerButton"),headerBordered:!0,children:(0,t.jsxs)(S.A,{formRef:le,submitter:!1,isKeyPressSubmit:!0,onFinish:function(){var ge=c()(i()().mark(function y(G){var Ae,ye,Ne,ke,Ze,Be;return i()().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return Ze=(Ae=G.imageUrl)!==null&&Ae!==void 0?Ae:"",G.registry&&(Ze=G.registry.serverAddress+"/"+Ze),n(!0),(ye=ue.current)===null||ye===void 0||ye.setStart(Ze),be.next=6,(0,m.Gb)({tag:Ze,type:"pull",platform:(Ne=G.platform)!==null&&Ne!==void 0?Ne:""}).finally(function(){n(!1)});case 6:return Be=be.sent,(ke=ue.current)===null||ke===void 0||ke.setFinish(),f(!1),g.onFinish&&g.onFinish(Be.data.tag),be.abrupt("return",!0);case 11:case"end":return be.stop()}},y)}));return function(y){return ge.apply(this,arguments)}}(),children:[(0,t.jsxs)(O.Z.Compact,{children:[(0,t.jsx)(L.Z,{name:"registry",children:(0,t.jsx)(ee.Z,{width:"150px"})}),(0,t.jsx)(E.Z,{disabled:W,width:270,name:"imageUrl",placeholder:pe.format("imageUrlEmpty"),required:!0,rules:[{required:!0}]}),(0,t.jsx)(Z.Z,{name:"platform",style:{width:100},placeholder:pe.format("imagePlatformEmpty"),options:p.ii.map(function(ge){return{label:ge.name,value:ge.name}})}),(0,t.jsx)(d.ZP,{loading:W,onClick:c()(i()().mark(function ge(){var y;return i()().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:(y=le.current)===null||y===void 0||y.submit();case 1:case"end":return Ae.stop()}},ge)})),children:pe.format("triggerButton")}),(0,t.jsx)(d.ZP,{danger:!0,onClick:function(){var y;(y=ue.current)===null||y===void 0||y.close()},children:I.FD.format("listManageKill")})]}),(0,t.jsx)(L.Z,{label:pe.format("progressTitle"),children:(0,t.jsx)(u.Z,{ref:ue})})]})})]},"remoteDrawer")]});J.Z=h},80271:function(xe,J,e){var q=e(15009),i=e.n(q),_e=e(99289),c=e.n(_e),A=e(5574),z=e.n(A),N=e(184),S=e(56729),L=e(83062),E=e(67294),Z=e(3393),d=e(68536),K=e(5251),B=e(81366),O=e(3616),_=e(36146),m=e(85893),p=(0,E.forwardRef)(function(u,l){(0,E.useImperativeHandle)(l,function(){return{show:function(){}}});var ee=(0,E.useState)(""),j=z()(ee,2),I=j[0],t=j[1],h=(0,E.useState)(!1),g=z()(h,2),o=g[0],F=g[1],T=(0,E.useRef)(),Y=(0,E.useRef)(),f=function(R,W){t(W)},le=new _.Uo("components.explorer"),ue=new _.Uo("image");return(0,m.jsx)(N.a,{drawerProps:{width:O.R_},open:o,submitter:!1,title:ue.format("fileTitle"),onOpenChange:function(R){F(R),t(R?"/":"")},trigger:(0,m.jsx)(L.Z,{title:ue.format("fileTitle"),children:u.trigger}),children:(0,m.jsx)(S.Z,{headerTitle:(0,m.jsx)(B.Z,{ref:Y,showPath:f}),scroll:{x:"max-content"},search:!1,rowKey:"name",pagination:{pageSize:500,position:["topRight","bottomRight"]},actionRef:T,request:c()(i()().mark(function ne(){var R;return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(I!=""){n.next=2;break}return n.abrupt("return",{data:[],total:0,success:!0});case 2:return n.next=4,(0,Z.cD)({md5:u.imageId,path:I});case 4:return R=n.sent,n.abrupt("return",{data:R.data.info,total:R.data.info.length,success:!0});case 6:case"end":return n.stop()}},ne)})),columns:[{title:le.format("listName"),dataIndex:"showName",key:"name",render:function(y,W,n,pe,ge){var y,G=W.name.replace(I,"");return W.isDir?y=(0,m.jsx)(d.Z,{isDir:!0,onClick:function(){return f(G,W.path)},showName:G}):W.isSymlink?y=(0,m.jsx)(d.Z,{isLink:!0,showName:G}):y=(0,m.jsx)(d.Z,{showName:G}),y}},{title:le.format("listModStr"),dataIndex:"modStr",key:"modStr"},{title:le.format("listUser"),dataIndex:"user"},{title:le.format("listGroup"),dataIndex:"group"},{title:le.format("listSize"),dataIndex:"size",key:"size",render:function(R,W,n,pe,ge){return(0,K.FI)(W.size)}},{title:le.format("listModTime"),dataIndex:"modTime",key:"modTime",render:function(R,W,n,pe,ge){return(0,K.NF)(W.modTime)},sorter:function(R,W){return new Date(R.modTime).getTime()-new Date(W.modTime).getTime()}}],cardProps:{ghost:!0}},"".concat(u.imageId,"-").concat(I))})});J.Z=p},20743:function(xe,J,e){var q=e(15009),i=e.n(q),_e=e(99289),c=e.n(_e),A=e(5574),z=e.n(A),N=e(67294),S=e(14946),L=e(64789),E=e(56729),Z=e(83622),d=e(85265),K=e(42075),B=e(66309),O=e(16970),_=e(3616),m=e(36146),p=e(67255),u=e(85893),l=(0,N.forwardRef)(function(ee,j){(0,N.useImperativeHandle)(j,function(){return{show:function(){g(!0)}}});var I=(0,N.useState)(!1),t=z()(I,2),h=t[0],g=t[1],o=(0,N.useRef)(),F=new m.Uo("components.network");return(0,u.jsxs)(u.Fragment,{children:[ee.showTriggerButton&&(0,u.jsx)(Z.ZP,{onClick:function(){g(!0)},children:F.format("selectTriggerButton")}),(0,u.jsx)(d.Z,{title:F.format("selectDrawerTitle"),width:_.R_,footer:!1,open:h,onClose:function(){return g(!1)},extra:(0,u.jsx)(K.Z,{children:(0,u.jsx)(O.Z,{onFinish:function(){var Y,f;!((Y=o.current)===null||Y===void 0)&&Y.reloadAndRest&&((f=o.current)===null||f===void 0||f.reloadAndRest())}},"create")}),children:(0,u.jsx)(E.Z,{rowKey:"Name",actionRef:o,columns:[{title:m.FD.format("listTitle"),dataIndex:"Name",render:function(Y,f,le,ue,ne){return f.Name=="none"||f.Name=="bridge"||f.Name=="host"?(0,u.jsxs)(u.Fragment,{children:[f.Name," ",(0,u.jsx)(B.Z,{color:"blue",children:"System"})]}):(0,u.jsx)(u.Fragment,{children:Y})}},{title:m.FD.format("listType"),ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"Driver",ellipsis:!0,width:100,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",search:!1,width:120,render:function(Y,f,le,ue,ne){return f.IPAM.Config&&f.IPAM.Config[0]&&(0,u.jsxs)(K.Z,{direction:"vertical",children:[f.IPAM.Config[0].Subnet,f.IPAM.Config[0].Gateway]})}},{title:"IPV6",search:!1,render:function(Y,f,le,ue,ne){return f.IPAM.Config&&f.IPAM.Config[1]&&(0,u.jsxs)(K.Z,{direction:"vertical",children:[f.IPAM.Config[1].Subnet,f.IPAM.Config[1].Gateway]})}},{title:m.FD.format("listManage"),width:100,search:!1,render:function(Y,f,le,ue,ne){return[f.Name!="none"&&f.Name!="bridge"&&f.Name!="host"&&(0,u.jsx)(Z.ZP,{type:"link",onClick:function(){ee.onSelect(f),g(!1)},children:(0,u.jsx)(L.Z,{})},f.Id)]}}],request:function(){var T=c()(i()().mark(function Y(f,le,ue){var ne;return i()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,(0,S.jR)({name:f.Name});case 2:return ne=W.sent,W.abrupt("return",{data:ne.data.list,success:!0,total:ne.data.list.length});case 4:case"end":return W.stop()}},Y)}));return function(Y,f,le){return T.apply(this,arguments)}}(),pagination:(0,p.Oh)()})})]})});J.Z=l},2205:function(xe,J,e){e.d(J,{Z:function(){return E}});var q=e(97857),i=e.n(q),_e=e(5574),c=e.n(_e),A=e(75870),z=e(36146),N=e(34041),S=e(67294),L=e(85893);function E(Z){var d=(0,S.useState)([]),K=c()(d,2),B=K[0],O=K[1],_=new z.Uo("components.selectRegistry");(0,S.useEffect)(function(){(0,A.Ot)().then(function(p){p&&O(p.data.list)})},[]);var m={};return Z.multiple&&(m.mode="multiple"),Z.top&&(m.placement="topLeft"),(0,L.jsx)(N.Z,i()({popupMatchSelectWidth:!Z.width,style:Z.width?{width:Z.width}:{},onChange:function(u){if(u)if(Array.isArray(u)){var l=u.map(function(ee){return B[ee]});Z.onChangeList&&Z.onChangeList(l)}else Z.onChange&&Z.onChange(B[u])},placeholder:_.format("nameEmpty"),options:B.map(function(p,u){return{value:u,label:p.title+"("+p.serverAddress+")"}}),allowClear:!0},m))}},47131:function(xe,J,e){e.r(J),e.d(J,{default:function(){return Gn}});var q=e(97857),i=e.n(q),_e=e(15009),c=e.n(_e),A=e(19632),z=e.n(A),N=e(99289),S=e.n(N),L=e(5574),E=e.n(L),Z=e(90078),d=e(38345),K=e(97269),B=e(2236),O=e(62370),_=e(5966),m=e(24739),p=e(97462),u=e(30291),l=e(92398),ee=e(40056),j=e(67294),I=e(42963),t=e(51042),h=e(63434),g=e(17186),o=e(71230),F=e(15746),T=e(42075),Y=e(25593),f=e(85265),le=e(92067),ue=e(5251),ne=e(3616),R=e(36146),W=e(89240),n=e(85893),pe=(0,j.forwardRef)(function(D,Ce){var v=(0,j.useState)(!1),fe=E()(v,2),$=fe[0],de=fe[1],re=(0,j.useRef)(),x=new R.Uo("components.appForm"),Q=function(U){return(0,n.jsxs)(d.Z,{bordered:!0,extra:U.action,style:{marginBottom:10},children:[(0,n.jsx)(d.Z,{title:x.format("createLinkItemTitle"),ghost:!0,children:(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(F.Z,{span:6,children:(0,n.jsx)(_.Z,{label:x.format("createLinkItemName"),name:"name",width:"md",readonly:!0})}),(0,n.jsxs)(F.Z,{span:14,children:[(0,n.jsx)(_.Z,{label:x.format("createLinkItemAlise"),name:"alise",width:"md",readonly:!0,tooltip:x.format("createLinkItemAliseTip"),hidden:!0}),(0,n.jsx)(O.Z,{label:x.format("createLinkItemAlise"),tooltip:x.format("createLinkItemAliseTip"),children:(0,n.jsx)(T.Z,{direction:"vertical",children:[U.name,U.record.alise].map(function(w){return(0,n.jsx)(Y.Z.Text,{copyable:!0,children:w})})})})]}),(0,n.jsx)(F.Z,{span:4,children:(0,n.jsx)(h.Z,{label:x.format("createLinkItemVolume"),name:"volume"})})]})}),(0,n.jsx)(d.Z,{ghost:!0,title:x.format("createLinkItemEnv"),children:(0,n.jsx)(T.Z,{direction:"vertical",children:U.record.env&&(0,ue.oZ)(U.record.env).map(function(w,V){return(0,n.jsx)(Y.Z.Text,{copyable:{icon:(0,n.jsx)(t.Z,{}),onCopy:function(){D.onAddEnv(w.name,w.value)},tooltips:[x.format("createLinkAddToEnv"),"success"]},code:!0,ellipsis:{tooltip:"".concat(w.name,"=").concat(w.value)},children:"".concat(w.name,"=").concat(w.value)},V)})},"linkEnv")})]})},je=function(U){var w,V,b=!1,M=(w=(V=re.current)===null||V===void 0?void 0:V.getList())!==null&&w!==void 0?w:[];if(M.map(function(Ee){Ee.name==U.name&&(b=!0)}),!b){var te;(te=re.current)===null||te===void 0||te.add(U)}};return(0,j.useImperativeHandle)(Ce,function(){return{setDefaultLink:function(U){U&&U.map(function(w){w.name!=""&&je(w)})}}}),(0,n.jsxs)(d.Z,{title:x.format("createLinkTitle"),headerBordered:!0,tooltip:"".concat(x.format("createParamsDemo",{params:"--link list"})),children:[(0,n.jsx)(g.u,{name:"links",actionRef:re,creatorButtonProps:{creatorButtonText:x.format("createLinkAddButton")},actionGuard:{beforeAddRow:function(U,w){return de(!0),!1}},copyIconProps:!1,min:0,itemRender:function(U,w){return(0,n.jsx)(Q,{action:U.action,name:w.record.name,record:w.record})}}),(0,n.jsx)(f.Z,{title:x.format("createLinkSelectContainer"),width:ne.R_,footer:!1,open:$,onClose:function(){return de(!1)},children:(0,n.jsx)(le.Z,{onSelect:function(U){je({name:(0,ue.fi)(U.Name,"/"),volume:!1,env:U.Config.Env,alise:(0,W.zY)(U.Name)}),de(!1)}})})]})}),ge=pe,y=e(91058),G=e(10523),Ae=e(24796),ye=e(52688),Ne=e(24963);function ke(){var D=(0,j.useContext)(Ne.Z),Ce=D.message,v=new R.Uo("components.appForm");return(0,n.jsx)(d.Z,{children:(0,n.jsxs)(m.UW,{children:[(0,n.jsx)(ye.Z,{fieldProps:{onChange:function($){$&&Ce.warning(v.format("createAdvRunCommandPrivilegedNotice"))}},name:"privileged",tooltip:"".concat(v.format("createParamsDemo",{params:"--privileged"})),label:v.format("createAdvRunCommandPrivileged"),initialValue:!1}),(0,n.jsx)(ye.Z,{name:"autoRemove",tooltip:"".concat(v.format("createParamsDemo",{params:"--rm"})),label:v.format("createAdvRunCommandAutoRemove"),initialValue:!1}),(0,n.jsx)(ye.Z,{fieldProps:{onChange:function($){$&&Ce.warning(v.format("createAdvRunCommandHostPidNotice"))}},tooltip:"".concat(v.format("createParamsDemo",{params:"--pid host"})),name:"hostPid",label:v.format("createAdvRunCommandHostPid"),initialValue:!1})]})})}var Ze=e(91845),Be=e(62597),Ge=e(82346),be=e(20743),_n=(0,j.forwardRef)(function(D,Ce){var v=(0,j.useRef)(),fe=(0,j.useRef)(),$=new R.Uo("components.appForm");(0,j.useImperativeHandle)(Ce,function(){return{}});var de=function(x){var Q,je,me=!1,U=(Q=(je=v.current)===null||je===void 0?void 0:je.getList())!==null&&Q!==void 0?Q:[];if(U.map(function(V){V.name==x.name&&(me=!0)}),!me){var w;(w=v.current)===null||w===void 0||w.add(x)}};return(0,n.jsxs)(d.Z,{title:$.format("createNetworkTitle"),tooltip:"".concat($.format("createParamsDemo",{params:"--network list"})),headerBordered:!0,extra:(0,n.jsx)(T.Z,{children:D.showUseBridgeNetwork&&(0,n.jsx)(ye.Z,{name:"useBridgeNetwork",initialValue:!0,fieldProps:{checkedChildren:$.format("createNetworkUseBridgeNetwork"),unCheckedChildren:$.format("createNetworkUseBridgeNetwork")}},"useBridgeNetwork")}),children:[(0,n.jsx)(g.u,{name:"network",actionRef:v,creatorButtonProps:{creatorButtonText:$.format("createNetworkAddButton")},actionGuard:{beforeAddRow:function(x,Q){var je;return(je=fe.current)===null||je===void 0||je.show(),!1}},copyIconProps:!1,min:0,itemRender:function(x,Q){return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(m.UW,{children:[(0,n.jsx)(_.Z,{label:$.format("createNetworkName"),name:"name",width:"md",disabled:!0,fieldProps:{value:Q.record.name}}),(0,n.jsx)(_.Z,{label:$.format("createNetworkAlise"),name:"alise",tooltip:$.format("createNetworkAliseTip"),placeholder:$.format("createNetworkAliseEmpty"),disabled:Q.record.name=="bridge"}),(0,n.jsx)(_.Z,{label:"IpV4",name:"ipV4",width:"md",disabled:Q.record.name=="bridge",fieldProps:{addonAfter:Q.record.subnet}}),Q.record.subnetV6&&(0,n.jsx)(_.Z,{label:"IpV6",name:"ipV6",width:"md",disabled:Q.record.name=="bridge",fieldProps:{addonAfter:Q.record.subnetV6}}),(0,n.jsx)(O.Z,{label:" ",children:x.action})]})})}}),(0,n.jsx)(be.Z,{ref:fe,onSelect:function(x){de({name:x.Name,alise:[""],subnet:x.IPAM.Config&&x.IPAM.Config[0].Subnet,subnetV6:x.IPAM.Config&&x.IPAM.Config[1]&&x.IPAM.Config[1].Subnet})}})]})}),fn=_n,vn=e(82034),Fe=e(52255),pn=e(59252),nn=e(3393),hn=function(Ce){var v=new R.Uo("components.appForm");return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(d.Z,{title:v.format("createSelfNetworkTitle"),subTitle:v.format("createSelfNetworkTitleTip"),tooltip:"".concat(v.format("createParamsDemo",{params:"--network string --ip string --ip6 string"})),children:[(0,n.jsxs)(m.UW,{children:[(0,n.jsx)(_.Z,{label:v.format("createSelfNetworkIp",{ip:"ipv4"}),name:["ipV4","address"],width:"md",tooltip:v.format("createSelfNetworkIpTip",{ip:"ipv4",example:"192.168.1.5"}),placeholder:"192.168.1.5"}),(0,n.jsx)(p.Z,{name:["ipV4"],children:function($){var de=$.ipV4;return(0,n.jsx)(_.Z,{label:v.format("createSelfNetworkIpSubnet",{ip:"ipv4"}),name:["ipV4","subnet"],width:"md",required:de&&de.address,tooltip:v.format("createSelfNetworkIpSubnetTip",{ip:"ipv4",example:"192.168.1.0/24"}),placeholder:"192.168.1.0/24",rules:[{required:de&&de.address}]})}}),(0,n.jsx)(_.Z,{label:v.format("createSelfNetworkIpGateway",{ip:"ipv4"}),name:["ipV4","gateway"],width:"md",tooltip:v.format("createSelfNetworkIpGatewayTip",{ip:"ipv4",example:"192.168.1.1"}),placeholder:"192.168.1.1"}),(0,n.jsx)(ye.Z,{label:v.format("createSelfNetworkIpV6Enable"),name:"enableIpV6Address"})]}),(0,n.jsx)(p.Z,{name:["enableIpV6Address"],children:function($){var de=$.enableIpV6Address;if(de)return(0,n.jsxs)(m.UW,{children:[(0,n.jsx)(_.Z,{label:v.format("createSelfNetworkIp",{ip:"ipv6"}),name:["ipV6","address"],width:"md",tooltip:v.format("createSelfNetworkIpTip",{ip:"ipv6",example:"2001:db8::5"}),placeholder:"2001:db8::5"}),(0,n.jsx)(p.Z,{name:["ipV6"],children:function(x){var Q=x.ipV6;return(0,n.jsx)(_.Z,{label:v.format("createSelfNetworkIpSubnet",{ip:"ipv6"}),name:["ipV6","subnet"],width:"md",required:Q&&Q.address,tooltip:v.format("createSelfNetworkIpSubnetTip",{ip:"ipv6",example:"2001:db8::/48"}),placeholder:"2001:db8::/48",rules:[{required:Q&&Q.address}]})}}),(0,n.jsx)(_.Z,{label:v.format("createSelfNetworkIpGateway",{ip:"ipv6"}),name:["ipV6","gateway"],width:"md",tooltip:v.format("createSelfNetworkIpGatewayTip",{ip:"ipv6",example:"2001:db8::1"}),placeholder:"2001:db8::1"})]})}})]})})},gn=hn,En=e(90672);function Pn(){var D=new R.Uo("components.appForm");return(0,n.jsx)(d.Z,{title:D.format("createHookTitle"),headerBordered:!0,subTitle:"",children:(0,n.jsx)(En.Z,{label:D.format("createHookContainerCreate"),name:["hook","containerCreate"],placeholder:D.format("createHookContainerCreateTip")})})}var Cn=e(93529),jn=e(56729),Dn=e(66309),In=e(96074),ze=e(83622),Mn=e(83062),On=e(18148),Rn=e(64789),Tn=e(85060),rn=e(78451),xn=e(99861),An=e(80821),yn=e(1699),Un=e(80271),bn=e(47248),tn=e(67255);function Ln(D){var Ce=(0,j.useState)(!1),v=E()(Ce,2),fe=v[0],$=v[1],de=(0,j.useContext)(I.Z),re=de.createFormRef,x=de.volumeListRef,Q=de.createEnvRef,je=de.domainRef,me=new R.Uo("components.appForm");function U(V){return w.apply(this,arguments)}function w(){return w=S()(c()().mark(function V(b){var M,te,Ee,H,Me,Oe,ve,k,a,ae,se,Pe;return c()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,(0,nn.YU)({md5:b});case 2:return H=X.sent,D.redeploy||(k=(Me=re.current)===null||Me===void 0?void 0:Me.getFieldsValue(),(Oe=re.current)===null||Oe===void 0||Oe.resetFields(),(ve=re.current)===null||ve===void 0||ve.setFieldsValue({siteName:k.siteName,siteTitle:k.siteTitle})),H.data.info.Config.Env&&H.data.info.Config.Env.map(function(Te){var oe,De=Te.split("=");(oe=Q.current)===null||oe===void 0||oe.addEnvItem(De[0],De.slice(1).join("="))}),(M=re.current)===null||M===void 0||M.setFieldValue("imageName",b),(te=re.current)===null||te===void 0||te.setFieldValue("workDir",H.data.info.Config.WorkingDir),(Ee=je.current)===null||Ee===void 0||Ee.setExposePort(H.data.info.Config.ExposedPorts),D.redeploy||(H.data.info.Config.Volumes?(se=[],Object.keys(H.data.info.Config.Volumes).map(function(Te,oe){se.push(Te)}),(ae=x.current)===null||ae===void 0||ae.setDefaultDestPath(se)):(Pe=x.current)===null||Pe===void 0||Pe.setDefaultDestPath([]),(a=re.current)===null||a===void 0||a.setFieldsValue({workDir:{value:"",useDefault:!0,default:H.data.info.Config.WorkingDir},user:{value:"",useDefault:!0,default:H.data.info.Config.User},command:{value:"",useDefault:!0,default:H.data.info.Config.Cmd&&H.data.info.Config.Cmd.join(" ")},entrypoint:{value:"",useDefault:!0,default:H.data.info.Config.Entrypoint&&H.data.info.Config.Entrypoint.join(" ")}})),X.abrupt("return",!0);case 10:case"end":return X.stop()}},V)})),w.apply(this,arguments)}return(0,j.useEffect)(function(){D.fromImageId&&U(D.fromImageId)},[D.fromImageId]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.Z,{destroyOnHidden:!0,open:fe,width:ne.R_,title:me.format("dockerImageTitle"),footer:!1,onClose:function(){$(!1)},children:(0,n.jsx)(jn.Z,{scroll:{x:"max-content"},columns:[{title:"Id",dataIndex:"Id",search:!1,width:120,render:function(b,M,te,Ee,H){return(0,n.jsx)(rn.Z,{content:M.Id.slice(7,19)})}},{title:R.FD.format("listImageName"),dataIndex:"tag",render:function(b,M,te,Ee){return(0,n.jsx)(rn.Z,{content:M.RepoTags[0]})}},{title:"Digest",width:120,render:function(b,M,te,Ee,H){var Me=M.RepoDigests&&M.RepoDigests[0];return Me?Me.substring(Me.indexOf("@")+8).substring(0,12):(0,n.jsx)(Dn.Z,{color:"warning",children:new R.Uo("components.appDetail.appDetailQuickManage").format("checkImageUpgrade.-3")})}},{title:R.FD.format("listCreatedAt"),dataIndex:"Created",search:!1,width:180,render:function(b,M,te,Ee){return(0,n.jsx)("div",{children:(0,ue.ZM)(M.Created*1e3)},M.Id)},sorter:function(b,M){return b.Created-M.Created}},{title:R.FD.format("listManage"),valueType:"option",key:"option",width:50,render:function(b,M,te,Ee){return(0,n.jsx)(T.Z,{split:(0,n.jsx)(In.Z,{type:"vertical"}),children:(0,n.jsx)(An.Z,{icon:(0,n.jsx)(Rn.Z,{}),tips:R.FD.format("listManageUse"),action:function(){return U(M.RepoTags[0])},type:"link",onSuccess:function(){$(!1)}},"addImage")})}}],request:function(){var V=S()(c()().mark(function b(M,te,Ee){var H,Me,Oe;return c()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return D.redeploy,k.next=3,(0,On.KG)({tag:M.tag});case 3:return H=k.sent,Me=0,Oe=[],H.data.list&&(Oe=H.data.list.flatMap(function(a){return a.RepoTags.map(function(ae){var se,Pe=(se=a.RepoDigests)===null||se===void 0?void 0:se.find(function(Re){var X=Re.split("@"),Te=E()(X,2),oe=Te[0],De=Te[1];return ae.includes(oe)});return{Key:Me++,Id:a.Id,Created:a.Created,RepoTags:[ae],RepoDigests:[Pe]}})})),k.abrupt("return",{data:Oe,success:!0,total:Oe.length});case 8:case"end":return k.stop()}},b)}));return function(b,M,te){return V.apply(this,arguments)}}(),rowKey:"Key",pagination:(0,tn.Oh)()})},"imageTableList"),(0,n.jsxs)(T.Z.Compact,{children:[(0,n.jsx)(_.Z,{width:"lg",label:me.format("dockerImageImageName"),name:"imageName",disabled:!0,placeholder:me.format("dockerImageImageNameEmpty"),rules:[{required:!0}],required:!0}),(0,n.jsx)(O.Z,{label:" ",children:(0,n.jsx)(ze.ZP,{type:"primary",onClick:function(){return $(!0)},children:me.format("dockerImageTitle")},"showBtn")}),(0,n.jsx)(p.Z,{name:["imageName"],children:function(b){var M=b.imageName;if(M)return(0,n.jsx)(O.Z,{label:" ",children:(0,n.jsx)(xn.Z,{finishAutoHide:!0,image:M?[M]:[],trigger:(0,n.jsx)(Mn.Z,{title:me.format("dockerImageUpgradeImageTip"),children:(0,n.jsx)(ze.ZP,{icon:(0,n.jsx)(Tn.Z,{}),children:me.format("dockerImageUpgradeImageButton")})})})})}}),(0,n.jsx)(O.Z,{label:" ",children:(0,n.jsx)(bn.Z,{onFinish:function(b){U(b)}},"remote")}),(0,n.jsx)(O.Z,{label:" ",children:(0,n.jsx)(p.Z,{name:["imageName"],children:function(b){var M=b.imageName;if(M)return(0,n.jsx)(yn.u,{access:"canSeeEnableCe",showProTips:!0,children:function(Ee){var H=Ee.canSeeEnableCe;return(0,n.jsx)(Un.Z,{imageId:M,trigger:(0,n.jsx)(ze.ZP,{disabled:H,children:me.format("dockerImageFileExplorer")})})}})}})})]})]})}var Zn=e(44349);function Bn(){var D=new R.Uo("components.appForm");return(0,n.jsx)(d.Z,{title:D.format("createDevice"),headerBordered:!0,tooltip:"".concat(D.format("createParamsDemo",{params:"--device list"})),children:(0,n.jsx)(Zn.Z,{name:"device",showAddButtonLabel:"".concat(R.FD.format("listManageAdd")).concat(D.format("createDevice")),hideCopyButton:!0,showAddButton:!0,gap:10,items:[{label:D.format("createDeviceHost"),name:"host",width:"md",placeholder:"/dev/tty0"},{label:D.format("createDeviceDest"),name:"dest",width:"md",placeholder:"/dev/tty0"}]})})}var an=e(64317);function Wn(){var D=new R.Uo("components.appForm");return(0,n.jsxs)(d.Z,{children:[(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(F.Z,{span:4,children:(0,n.jsx)(ye.Z,{label:D.format("createGpus"),name:["gpus","enable"]})}),(0,n.jsx)(F.Z,{span:20,children:(0,n.jsx)(p.Z,{name:["gpus"],children:function(v){var fe=v.gpus;if(fe&&fe.enable)return(0,n.jsx)(an.Z,{tooltip:"".concat(D.format("createParamsDemo",{params:"--gpus 'device=0'"})),mode:"tags",label:D.format("createGpusDevice"),name:["gpus","device"],placeholder:D.format("createGpusDeviceEmpty")})}})})]}),(0,n.jsx)(p.Z,{name:["gpus"],children:function(v){var fe=v.gpus;if(fe&&fe.enable)return(0,n.jsx)(an.Z,{tooltip:"".concat(D.format("createParamsDemo",{params:"--gpus 'capabilities=compute,utility'"})),label:D.format("createGpusCap"),name:["gpus","capabilities"],mode:"multiple",fieldProps:{allowClear:!0},options:D.option("createGpusCapOption",["compute","compat32","graphics","utility","video","display"])})}})]})}var wn=e(55730),Nn=e(27323),Sn=e(44771),Kn=e(33879),kn=e(96486),Ye=e.n(kn),Fn=e(73396),sn=e(14946),Hn=e(13822),$n=e(55375),Vn=e(64412);function Gn(){var D,Ce=(0,j.useContext)(Ne.Z),v=Ce.loading,fe=Ce.notice,$=(0,Ge.useSearchParams)(),de=E()($,2),re=de[0],x=de[1],Q=(0,Ge.useNavigate)(),je=(0,j.useState)("basic"),me=E()(je,2),U=me[0],w=me[1],V=(D=re.get("imageId"))!==null&&D!==void 0?D:"",b=new R.Uo("app"),M=new R.Uo("components.appForm"),te=(0,j.useRef)(),Ee=(0,j.useRef)(),H=(0,j.useRef)(),Me=(0,j.useRef)(),Oe=(0,j.useRef)();return(0,j.useEffect)(function(){var ve,k=re.get("id");(ve=te.current)===null||ve===void 0||ve.resetFields(),k&&(v.show(),(0,Be.iE)({id:k}).then(function(){var a=S()(c()().mark(function ae(se){var Pe,Re,X,Te,oe,De,Qe,r,Ie,on,Se,ln,un,Ke,dn;return c()().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(r=(Pe=se.data.containerInfo)===null||Pe===void 0?void 0:Pe.Info,Ie={info:{}},!r){ce.next=12;break}return ce.prev=3,ce.next=6,(0,nn.YU)({md5:r.Image});case 6:on=ce.sent,Ie=on.data,ce.next=12;break;case 10:ce.prev=10,ce.t0=ce.catch(3);case 12:return Se=[],ce.prev=13,ce.next=16,(0,sn.jR)();case 16:ln=ce.sent,Se=ln.data.list,ce.next=22;break;case 20:ce.prev=20,ce.t1=ce.catch(13);case 22:return un=function(s){if(!s)return{};var P=s[se.data.siteName];if(!P)return{};var C=Se&&Se.find(function(ie){return ie.Id==P.NetworkID});return{ipV4:{address:P.IPAddress,gateway:P.Gateway,subnet:C&&C.IPAM.Config&&C.IPAM.Config[0]&&C.IPAM.Config[0].Subnet},ipV6:{address:P.GlobalIPv6Address,gateway:P.IPv6Gateway,subnet:C&&C.IPAM.Config&&C.IPAM.Config[1]&&C.IPAM.Config[1].Subnet},enableIpV6Address:C&&C.IPAM.Config&&C.IPAM.Config[1],bindIpV6:!!(C&&C.IPAM.Config&&C.IPAM.Config[1])}}(r==null?void 0:r.NetworkSettings.Networks),Ke=[],ce.next=26,function(){var s=S()(c()().mark(function P(C,ie){var Le;return c()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(!(!(ie!=null&&ie.NetworkSettings)||!(ie!=null&&ie.NetworkSettings.Networks)||!(ie!=null&&ie.NetworkSettings.Networks[C]))){he.next=2;break}return he.abrupt("return",[]);case 2:return he.next=4,(0,sn.IS)({name:C});case 4:if(Le=he.sent,he.t0=Le.data.info.Containers,!he.t0){he.next=10;break}return he.next=9,Promise.all(Object.entries(Le.data.info.Containers).filter(function(Xe){var He=E()(Xe,2),mn=He[0],$e=He[1];return $e.Name!=C}).map(function(){var Xe=S()(c()().mark(function He(mn){var $e,zn,Ve,Je,cn,We,qe;return c()().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:if($e=E()(mn,2),zn=$e[0],Ve=$e[1],Ve.Name==C){we.next=9;break}return we.next=4,(0,Hn.jV)({md5:Ve.Name});case 4:return cn=we.sent,We=cn.data.info,qe=(Je=ie.HostConfig.VolumesFrom)===null||Je===void 0?void 0:Je.includes(Ve.Name),qe&&We.Mounts&&Ke.push.apply(Ke,z()(We.Mounts.map(function(Yn){var en;return(en=Yn.Destination)!==null&&en!==void 0?en:""}))),we.abrupt("return",{name:Ve.Name,alise:We&&(0,W.zY)(We.Name),env:We&&We.Config.Env,volume:qe});case 9:case"end":return we.stop()}},He)}));return function(He){return Xe.apply(this,arguments)}}()));case 9:he.t0=he.sent;case 10:return he.abrupt("return",he.t0);case 11:case"end":return he.stop()}},P)}));return function(P,C){return s.apply(this,arguments)}}()(se.data.siteName,r);case 26:dn=ce.sent,(Re=te.current)===null||Re===void 0||Re.setFieldsValue(i()({id:r==null?void 0:r.Id,siteTitle:se.data.siteTitle,siteName:se.data.siteName,hook:se.data.env.hook,imageName:r==null?void 0:r.Config.Image,hostname:r==null?void 0:r.Config.Hostname,privileged:r==null?void 0:r.HostConfig.Privileged,useHostNetwork:(r==null?void 0:r.HostConfig.NetworkMode)=="host",publishAllPorts:r==null?void 0:r.HostConfig.PublishAllPorts,groupAdd:r==null?void 0:r.HostConfig.GroupAdd,workDir:{value:r==null?void 0:r.Config.WorkingDir,useDefault:Ie.info.Config.WorkingDir==(r==null?void 0:r.Config.WorkingDir),default:Ie&&Ie.info.Config&&Ie.info.Config.WorkingDir},user:{value:r==null?void 0:r.Config.User,useDefault:Ie.info.Config.User==(r==null?void 0:r.Config.User),default:Ie.info.Config.User},command:{value:r==null||(X=r.Config.Cmd)===null||X===void 0?void 0:X.join(" "),useDefault:Ye().isEqual(Ie.info.Config.Cmd,r==null?void 0:r.Config.Cmd),default:((Te=Ie.info.Config)===null||Te===void 0?void 0:Te.Cmd)&&Ie.info.Config.Cmd.join(" ")},entrypoint:{value:r==null?void 0:r.Config.Entrypoint,useDefault:Ye().isEqual(Ie.info.Config.Entrypoint,r==null?void 0:r.Config.Entrypoint),default:((oe=Ie.info)===null||oe===void 0||(oe=oe.Config)===null||oe===void 0?void 0:oe.Entrypoint)&&Ie.info.Config.Entrypoint.join(" ")},shmsize:(0,W.Rk)(r==null?void 0:r.HostConfig.ShmSize),cpus:(0,W.PD)(r==null?void 0:r.HostConfig.NanoCpus),memory:(0,W.pM)(r==null?void 0:r.HostConfig.Memory),environment:(r==null?void 0:r.Config.Env)&&(0,ue.oZ)(r.Config.Env,"="),label:function(s){return s&&Object.entries(s).map(function(P){var C=E()(P,2),ie=C[0],Le=C[1];return{name:ie,value:Le}})}(r==null?void 0:r.Config.Labels),volumes:function(s){return s==null?void 0:s.filter(function(P){var C;return!Ke||Ke.length==0||!Ke.includes((C=P.Destination)!==null&&C!==void 0?C:"")}).map(function(P){return{host:P.Type=="bind"?P.Source:P.Name,dest:P.Destination,type:P.Type,permission:P.RW?"write":"readonly"}})}(r==null?void 0:r.Mounts),ports:(0,W.yi)(r),links:dn,network:function(s){return s&&Object.entries(s).map(function(P){var C=E()(P,2),ie=C[0],Le=C[1],Ue=Se&&Se.find(function(he){return he.Name==ie});return{name:ie,alise:"",ipV4:Le.IPAddress,subnet:"".concat(Ue&&Ue.IPAM.Config&&Ue!==null&&Ue!==void 0&&Ue.IPAM.Config[0]?Ue==null?void 0:Ue.IPAM.Config[0].Subnet:"-","/").concat(Le.IPPrefixLen)}})}(r==null?void 0:r.NetworkSettings.Networks),restart:function(s){return s?{name:s==null?void 0:s.Name,maxAttempt:s==null?void 0:s.MaximumRetryCount}:{name:"no"}}(r==null?void 0:r.HostConfig.RestartPolicy),extraHosts:(0,ue.oZ)(r==null?void 0:r.HostConfig.ExtraHosts,":"),autoRemove:r==null?void 0:r.HostConfig.AutoRemove,log:function(s,P){return{driver:(P=s==null?void 0:s.Type)!==null&&P!==void 0?P:"json-file",maxFile:(s==null?void 0:s.Config)&&s.Config["max-file"],maxSize:(s==null?void 0:s.Config)&&s.Config["max-size"]}}(r==null?void 0:r.HostConfig.LogConfig),dns:r==null||(De=r.HostConfig.Dns)===null||De===void 0?void 0:De.join(`
`),gpus:function(s){var P=s==null?void 0:s.find(function(ie){return ie.Driver=="nvidia"});if(!P)return{enable:!1};var C=P.Capabilities&&P.Capabilities[0];return{device:P.DeviceIDs,capabilities:C&&C.includes("gpu")?[]:C,enable:!0}}(r==null?void 0:r.HostConfig.DeviceRequests),device:function(s){return s==null?void 0:s.map(function(P){return{host:P.PathOnHost,dest:P.PathInContainer}})}(r==null?void 0:r.HostConfig.Devices),hostPid:(r==null?void 0:r.HostConfig.PidMode)=="host",capAdd:r==null?void 0:r.HostConfig.CapAdd,healthcheck:function(s,P,C){if(!s)return{};var ie=s!=null&&(P=s.Test)!==null&&P!==void 0&&P.includes("CMD-SHELL")?"CMD-SHELL":"CMD";return{interval:(s==null?void 0:s.Interval)&&s.Interval/Be.nL.Second,timeout:(s==null?void 0:s.Timeout)&&s.Timeout/Be.nL.Second,retries:s==null?void 0:s.Retries,cmd:s!=null&&s.Test?s==null||(C=s.Test)===null||C===void 0?void 0:C.slice(1).join(" "):"",shellType:ie}}(r==null?void 0:r.Config.Healthcheck),useBridgeNetwork:function(s){return!!(s&&s.bridge)}(r==null?void 0:r.NetworkSettings.Networks),enableBindHost:r==null||(Qe=r.HostConfig.ExtraHosts)===null||Qe===void 0?void 0:Qe.some(function(s){return s.includes(":host-gateway")})},un));case 28:case"end":return ce.stop()}},ae,null,[[3,10],[13,20]])}));return function(ae){return a.apply(this,arguments)}}()).finally(function(){v.destroy()}))},[re]),(0,n.jsx)(I.Z.Provider,{value:{createFormRef:te,volumeListRef:Ee,domainRef:H,createEnvRef:Oe,createLinkRef:Me},children:(0,n.jsx)(Z._z,{children:(0,n.jsx)(d.Z,{direction:"column",gutter:[0,10],children:(0,n.jsxs)(K.A,{submitter:{render:function(k,a){return(0,n.jsx)(B.S,{children:a})}},formRef:te,onFinish:function(){var ve=S()(c()().mark(function k(a){var ae,se,Pe,Re,X;return c()().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(X={id:a.id,siteTitle:a.siteTitle,siteName:a.siteName,hostname:a.hostname,imageName:a.imageName,environment:a.environment,links:a.links,ports:a.ports,volumes:a.volumes,network:a.network&&a.network.map(function(De){return Ye().isArray(De.alise)||(De.alise=[De.alise]),De}),privileged:(ae=a.privileged)!==null&&ae!==void 0?ae:!1,autoRemove:(se=a.autoRemove)!==null&&se!==void 0?se:!1,restartPolicy:a.restart,cpus:a.cpus,memory:a.memory,shmsize:(Pe=a.shmsize)!==null&&Pe!==void 0?Pe:0,workDir:a.workDir&&!a.workDir.useDefault?a.workDir.value:"",user:a.user&&!a.user.useDefault?a.user.value:"",groupAdd:a.groupAdd,command:a.command&&!a.command.useDefault?a.command.value:"",entrypoint:a.entrypoint&&!a.entrypoint.useDefault?a.entrypoint.value:"",useHostNetwork:a.useHostNetwork,bindIpV6:a.bindIpV6,log:a.log,dns:a.dns,label:a.label,publishAllPorts:a.publishAllPorts,extraHosts:a.extraHosts,ipV4:a.ipV4,ipV6:a.ipV6,device:a.device,gpus:a.gpus,hook:a.hook,hostPid:a.hostPid,capAdd:a.capAdd,useBridgeNetwork:(Re=a.useBridgeNetwork)!==null&&Re!==void 0?Re:!0},!(!a.useBridgeNetwork&&!a.useHostNetwork&&(!a.network||a.network.length==0))){oe.next=4;break}return fe.error(b.format("createMessageNoBridgeNetworkMustHasUseNetwork")),oe.abrupt("return",!1);case 4:return a.useBridgeNetwork&&X.network&&!X.network.find(function(De){return De.name=="bridge"})&&X.network.push({name:"bridge",alise:[],ipV4:""}),a.healthcheck&&a.healthcheck.cmd&&a.healthcheck.cmd!=""&&(X.healthcheck=a.healthcheck),oe.next=8,(0,Be.$G)(X);case 8:return Q("/app/list",{state:{page:(0,tn.G$)($n.Dc)}}),oe.abrupt("return",!0);case 10:case"end":return oe.stop()}},k)}));return function(k){return ve.apply(this,arguments)}}(),children:[(0,n.jsxs)(d.Z,{title:b.format("createTitle"),headerBordered:!0,children:[(0,n.jsx)(O.Z,{hidden:!0,name:"id"}),(0,n.jsx)(_.Z,{name:"siteTitle",label:b.format("createSiteTitle"),fieldProps:{onChange:function(k){var a="";if(k.target.value&&!re.get("id")){var ae,se=(0,Ze.N9)(k.target.value.trim(),{toneType:"none",type:"array"});a=se.join(""),(ae=te.current)===null||ae===void 0||ae.setFieldValue("siteName",a)}}},placeholder:b.format("createSiteTitleEmpty")}),(0,n.jsxs)(m.UW,{children:[(0,n.jsx)(_.Z,{width:"lg",name:"siteName",label:b.format("createSiteName"),required:!0,rules:[{required:!0}],tooltip:"".concat(M.format("createParamsDemo",{params:"--name string"})),placeholder:b.format("createSiteNameEmpty")}),(0,n.jsx)(_.Z,{label:"Hostname",name:"hostname",width:"md",tooltip:"".concat(M.format("createParamsDemo",{params:"--hostname string"}))})]}),(0,n.jsx)(Ln,{redeploy:!!re.get("id"),fromImageId:V})]}),(0,n.jsx)(u.Z,{offsetTop:50,children:(0,n.jsx)(d.Z,{style:{marginBottom:-20},children:(0,n.jsx)(l.Z,{activeKey:U,onChange:function(k){w(k),window.scrollTo(0,450)},items:M.option("createTabOption",["basic","link","run-command","resource","cap"]).map(function(ve){return{label:ve.label,key:ve.value}})})})}),(0,n.jsxs)(Fe.Z,{show:U=="basic",children:[(0,n.jsx)(vn.Z,{ref:H,showBindHost:!0,showBindIpV6:!0,showBindAll:!0}),(0,n.jsx)(y.Z,{showAddButton:!0,showImportButton:!0,showCodeMode:!0,ref:Oe,drawerProps:{title:M.format("createEnvTitle"),tooltip:"".concat(b.format("createParamsDemo",{params:"-e, --env list"}))}}),(0,n.jsx)(G.Z,{showDefault:!0,ref:Ee}),(0,n.jsx)(p.Z,{name:["siteName","useHostNetwork"],children:function(k){var a=k.siteName,ae=k.useHostNetwork;if(!ae)return(0,n.jsx)(gn,{})}}),(0,n.jsx)(Vn.Z,{})]}),(0,n.jsxs)(Fe.Z,{show:U=="link",children:[(0,n.jsx)(p.Z,{name:["siteName","useHostNetwork"],children:function(k){var a=k.siteName,ae=k.useHostNetwork;return ae?(0,n.jsx)(d.Z,{children:(0,n.jsx)(ee.Z,{showIcon:!0,description:b.format("createNetworkDesc")})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ge,{onAddEnv:function(Pe,Re){var X;(X=Oe.current)===null||X===void 0||X.addEnvItem(Pe,Re)},ref:Me}),(0,n.jsx)(fn,{showUseBridgeNetwork:!0,siteName:a}),(0,n.jsx)(pn.Z,{})]})}}),(0,n.jsx)(Bn,{})]}),(0,n.jsxs)(Fe.Z,{show:U=="run-command",children:[(0,n.jsxs)(m.UW,{children:[(0,n.jsx)(Sn.Z,{defaultValue:"always",showLabel:!0}),(0,n.jsx)(ke,{})]}),(0,n.jsx)(Kn.Z,{showCommand:!0,showEntrypoint:!0,showWorkDir:!0,showUser:!0}),(0,n.jsx)(Fn.Z,{}),(0,n.jsx)(Nn.Z,{}),(0,n.jsx)(Pn,{}),(0,n.jsx)(Ae.Z,{})]}),(0,n.jsxs)(Fe.Z,{show:U=="resource",children:[(0,n.jsx)(wn.Z,{showShmsize:!0}),(0,n.jsx)(Wn,{})]}),(0,n.jsx)(Fe.Z,{show:U=="cap",children:(0,n.jsx)(Cn.Z,{})})]},"form")})})})}},97961:function(xe,J,e){e.d(J,{GH:function(){return Z},_2:function(){return K},fN:function(){return N},ii:function(){return z},vC:function(){return L}});var q=e(15009),i=e.n(q),_e=e(99289),c=e.n(_e),A=e(82346),z=[{name:"amd64",arch:"amd64",search:["amd64","x86_64","86_64"]},{name:"arm64",arch:"arm64",search:["arm64","arrch64"]},{name:"i386",arch:"386",search:[]},{name:"arm/v6",arch:"arm",search:[]},{name:"arm/v7",arch:"arm",search:[]},{name:"arm/v8",arch:"arm64",search:[]},{name:"ppc64le",arch:"ppc64le",search:[]},{name:"riscv64",arch:"riscv64",search:[]}];function N(m){return S.apply(this,arguments)}function S(){return S=c()(i()().mark(function m(p){return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,A.request)("/api/app/image/create-by-dockerfile",{method:"POST",data:p}));case 1:case"end":return l.stop()}},m)})),S.apply(this,arguments)}function L(m){return E.apply(this,arguments)}function E(){return E=c()(i()().mark(function m(p){return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,A.request)("/api/app/image/import-by-container-tar",{method:"POST",data:p}));case 1:case"end":return l.stop()}},m)})),E.apply(this,arguments)}function Z(m){return d.apply(this,arguments)}function d(){return d=c()(i()().mark(function m(p){return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,A.request)("/api/app/image/import-by-image-tar",{method:"POST",data:p}));case 1:case"end":return l.stop()}},m)})),d.apply(this,arguments)}function K(m){return B.apply(this,arguments)}function B(){return B=c()(i()().mark(function m(p){return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,A.request)("/api/common/attach/delete",{method:"POST",data:p});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},m)})),B.apply(this,arguments)}function O(){return _.apply(this,arguments)}function _(){return _=_asyncToGenerator(_regeneratorRuntime().mark(function m(){return _regeneratorRuntime().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",request("/api/app/image/get-template-list",{method:"POST"}));case 1:case"end":return u.stop()}},m)})),_.apply(this,arguments)}},18148:function(xe,J,e){e.d(J,{$q:function(){return d},Fj:function(){return l},KG:function(){return z},KX:function(){return j},T8:function(){return E},Xn:function(){return S},ao:function(){return B},c5:function(){return p},c7:function(){return _}});var q=e(15009),i=e.n(q),_e=e(99289),c=e.n(_e),A=e(82346);function z(t){return N.apply(this,arguments)}function N(){return N=c()(i()().mark(function t(h){return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,A.request)("/api/app/image/get-list",{method:"POST",data:h}));case 1:case"end":return o.stop()}},t)})),N.apply(this,arguments)}function S(t){return L.apply(this,arguments)}function L(){return L=c()(i()().mark(function t(h){return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,A.request)("/api/app/image/get-list-build",{method:"POST",data:h}));case 1:case"end":return o.stop()}},t)})),L.apply(this,arguments)}function E(t){return Z.apply(this,arguments)}function Z(){return Z=c()(i()().mark(function t(h){return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,A.request)("/api/app/image/get-build-task",{method:"POST",data:h});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},t)})),Z.apply(this,arguments)}function d(t){return K.apply(this,arguments)}function K(){return K=c()(i()().mark(function t(h){return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,A.request)("/api/app/image/delete-build-task",{method:"POST",data:h});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},t)})),K.apply(this,arguments)}function B(t){return O.apply(this,arguments)}function O(){return O=c()(i()().mark(function t(h){return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,A.request)("/api/app/image/image-delete",{method:"POST",data:h});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},t)})),O.apply(this,arguments)}function _(t){return m.apply(this,arguments)}function m(){return m=c()(i()().mark(function t(h){return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,A.request)("/api/app/image/image-prune",{method:"POST"});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},t)})),m.apply(this,arguments)}function p(){return u.apply(this,arguments)}function u(){return u=c()(i()().mark(function t(){return i()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,A.request)("/api/app/image/build-prune",{method:"POST"});case 2:return g.abrupt("return",g.sent);case 3:case"end":return g.stop()}},t)})),u.apply(this,arguments)}function l(t){return ee.apply(this,arguments)}function ee(){return ee=c()(i()().mark(function t(h){return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,A.request)("/api/app/image/update-title",{method:"POST",data:h});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},t)})),ee.apply(this,arguments)}function j(t){return I.apply(this,arguments)}function I(){return I=c()(i()().mark(function t(h){return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,A.request)("/api/app/image/tag-sync",{method:"POST",data:h}));case 1:case"end":return o.stop()}},t)})),I.apply(this,arguments)}}}]);
