"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7549],{80821:function(S,U,e){e.d(U,{Z:function(){return r}});var R=e(97857),s=e.n(R),B=e(5574),E=e.n(B),M=e(24963),v=e(36146),O=e(86738),g=e(83062),i=e(28036),d=e(67294),D=e(85893);function r(_){var u=(0,d.useState)(!1),W=E()(u,2),o=W[0],a=W[1],f=(0,d.useContext)(M.Z),m=f.message,t=new v.Uo,b=function(){a(!0);var j=_.action();j instanceof Promise?j.then(function(n){if(a(!1),n){typeof _.onSuccess=="function"&&_.onSuccess(n);var C="";_.messageSuccess?typeof _.messageSuccess=="function"?C=_.messageSuccess(n):C=_.messageSuccess.indexOf("notification.")==0?t.format(_.messageSuccess):_.messageSuccess:C=t.format("notification.finish"),_.asynced?m.info(C):m.success(C)}}).catch(function(n){a(!1),typeof _.onError=="function"&&_.onError(n)}):a(!1)};return _.confirm?(0,D.jsx)(O.Z,s()(s()({style:{width:500},title:_.confirmTitle?_.confirmTitle:t.format("notification.title.tip"),description:typeof _.confirm=="string"&&_.confirm.indexOf("notification.")==0?t.format(_.confirm):_.confirm,onConfirm:b,okText:"Yes",cancelText:"No",onOpenChange:_.confirmOnOpenChange},_.confirmProps),{},{children:(0,D.jsx)(g.Z,{title:_.tips,children:(0,D.jsx)(i.ZP,{block:_.block,disabled:_.disabled,icon:!_.children&&o?void 0:_.icon,loading:o,danger:_.danger,type:_.type,children:_.children})})})):(0,D.jsx)(g.Z,{title:_.tips,children:(0,D.jsx)(i.ZP,{block:_.block,style:_.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:_.disabled,icon:!_.children&&o?void 0:_.icon,loading:o,onClick:b,danger:_.danger,type:_.type,children:_.children})})}},81366:function(S,U,e){var R=e(97857),s=e.n(R),B=e(19632),E=e.n(B),M=e(5574),v=e.n(M),O=e(27254),g=e(42075),i=e(85418),d=e(25593),D=e(28036),r=e(67294),_=e(31112),u=e(85893),W={title:"/",path:"/"},o=(0,r.forwardRef)(function(a,f){var m=(0,r.useContext)(_.Z),t=m.showPath,b=m.redirectPath,$=(0,r.useState)([W]),j=v()($,2),n=j[0],C=j[1];(0,r.useImperativeHandle)(f,function(){return{addHistory:function(h,P){P=="/"?C([W]):C([].concat(E()(n),[{title:h,path:P}]))},initHistory:function(h,P){C([s()(s()({},W),{},{children:P})].concat(E()(h)))}}});var L=function(h){t?t(n[h].title,n[h].path):a.showPath&&a.showPath(n[h].title,n[h].path);var P=n.filter(function(K,A){return A<=h});C(E()(P))};return(0,u.jsxs)(g.Z,{children:[(0,u.jsx)(g.Z.Compact,{children:n.map(function(I,h){return I.children?(0,u.jsxs)(i.Z.Button,{menu:{items:I.children.map(function(P,K){return{key:K,label:(0,u.jsx)(d.Z.Link,{onClick:function(){b(P)},children:P},K)}})},type:"dashed",onClick:function(K){L(h)},children:[(0,u.jsx)(O.Z,{})," ",I.title]},h):(0,u.jsx)(D.ZP,{icon:(0,u.jsx)(O.Z,{}),type:"dashed",onClick:function(){L(h)},children:I.title},h)})}),n.length>=2&&(0,u.jsx)(d.Z.Text,{copyable:{text:n[n.length-1].path}})]})});U.Z=o},31112:function(S,U,e){var R=e(67294),s=(0,R.createContext)({});U.Z=s},68536:function(S,U,e){e.d(U,{Z:function(){return D}});var R=e(24963),s=e(36146),B=e(93613),E=e(36693),M=e(2741),v=e(25593),O=e(42075),g=e(67294),i=e(85893),d=0;function D(r){var _=(0,g.useContext)(R.Z),u=_.message,W=new s.Uo("components.explorer");return r.isDir?(0,i.jsx)(v.Z.Link,{onClick:function(){r.onClick&&r.onClick()},children:(0,i.jsxs)(O.Z,{children:[(0,i.jsx)(B.Z,{}),r.showName]})}):r.isLink?(0,i.jsx)(v.Z.Link,{onClick:function(){r.onClick&&r.onClick()},children:(0,i.jsxs)(O.Z,{children:[(0,i.jsx)(E.Z,{}),r.showName]})}):(0,i.jsx)(v.Z.Text,{onClick:function(){if(d++,d==2){d=0,r.onClick&&r.onClick();return}setTimeout(function(){d==1&&u.info(W.format("fileNameMessageViewDetail")),d=0},400)},style:{cursor:"pointer"},children:(0,i.jsxs)(O.Z,{children:[(0,i.jsx)(M.Z,{}),r.showName]})})}},47248:function(S,U,e){var R=e(15009),s=e.n(R),B=e(99289),E=e.n(B),M=e(5574),v=e.n(M),O=e(38345),g=e(97269),i=e(62370),d=e(5966),D=e(64317),r=e(28036),_=e(85265),u=e(25593),W=e(42075),o=e(67294),a=e(3393),f=e(97961),m=e(92754),t=e(82346),b=e(2205),$=e(3616),j=e(36146),n=e(85893),C=(0,o.forwardRef)(function(L,I){var h=(0,o.useState)(!1),P=v()(h,2),K=P[0],A=P[1],k=(0,o.useRef)(),x=(0,o.useRef)(),Q=(0,o.useState)(!1),V=v()(Q,2),Y=V[0],z=V[1],T=new j.Uo("components.imagePull");return(0,o.useImperativeHandle)(I,function(){return{upgradeImage:function(l){var c;return A(!0),(c=k.current)===null||c===void 0||c.setFieldValue("imageUrl",l),(0,a.Gb)({tag:l,type:"pull"})},setImageName:function(l){var c;A(!0),(c=k.current)===null||c===void 0||c.setFieldValue("imageUrl",l)}}}),[(0,n.jsx)(r.ZP,{type:L.buttonType?L.buttonType:"default",onClick:function(){var l,c;A(!0),(l=k.current)===null||l===void 0||l.resetFields(),(c=x.current)===null||c===void 0||c.setStart("")},children:T.format("triggerButton")},"remoteBtn"),(0,n.jsxs)(_.Z,{forceRender:!0,open:K,title:T.format("drawerTitle"),width:$.R_,onClose:function(){var l;A(!1),(l=x.current)===null||l===void 0||l.close()},footer:!1,children:[(0,n.jsx)(O.Z,{children:(0,n.jsx)(u.Z.Text,{children:(0,n.jsxs)("ul",{style:{lineHeight:"30px"},children:[(0,n.jsxs)("li",{children:[T.format("tip.1")," ",(0,n.jsx)("a",{href:"https://hub.docker.com/",target:"_blank",children:j.FD.format("help")})]}),(0,n.jsxs)("li",{children:[T.format("tip.2")," ",(0,n.jsx)("a",{href:"https://hub.docker.com/search?q=",target:"_blank",children:j.FD.format("help")})]}),(0,n.jsxs)("li",{children:[T.format("tip.3")," "]}),(0,n.jsxs)("li",{children:[T.format("tip.4")," ",(0,n.jsx)(t.Link,{to:"/image/registry",children:j.Ob.format("image.registry.create")})]}),(0,n.jsxs)("li",{children:[T.format("tip.5")," ",(0,n.jsx)(t.Link,{to:"/image/registry",children:j.Ob.format("image.registry")})]})]})})}),(0,n.jsx)(O.Z,{title:T.format("triggerButton"),headerBordered:!0,children:(0,n.jsxs)(g.A,{formRef:k,submitter:!1,isKeyPressSubmit:!0,onFinish:function(){var p=E()(s()().mark(function l(c){var y,H,N,G,F,J;return s()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return F=(y=c.imageUrl)!==null&&y!==void 0?y:"",c.registry&&(F=c.registry.serverAddress+"/"+F),z(!0),(H=x.current)===null||H===void 0||H.setStart(F),Z.next=6,(0,a.Gb)({tag:F,type:"pull",platform:(N=c.platform)!==null&&N!==void 0?N:""}).finally(function(){z(!1)});case 6:return J=Z.sent,(G=x.current)===null||G===void 0||G.setFinish(),A(!1),L.onFinish&&L.onFinish(J.data.tag),Z.abrupt("return",!0);case 11:case"end":return Z.stop()}},l)}));return function(l){return p.apply(this,arguments)}}(),children:[(0,n.jsxs)(W.Z.Compact,{children:[(0,n.jsx)(i.Z,{name:"registry",children:(0,n.jsx)(b.Z,{width:"150px"})}),(0,n.jsx)(d.Z,{disabled:Y,width:270,name:"imageUrl",placeholder:T.format("imageUrlEmpty"),required:!0,rules:[{required:!0}]}),(0,n.jsx)(D.Z,{name:"platform",style:{width:100},placeholder:T.format("imagePlatformEmpty"),options:f.ii.map(function(p){return{label:p.name,value:p.name}})}),(0,n.jsx)(r.ZP,{loading:Y,onClick:E()(s()().mark(function p(){var l;return s()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:(l=k.current)===null||l===void 0||l.submit();case 1:case"end":return y.stop()}},p)})),children:T.format("triggerButton")}),(0,n.jsx)(r.ZP,{danger:!0,onClick:function(){var l;(l=x.current)===null||l===void 0||l.close()},children:j.FD.format("listManageKill")})]}),(0,n.jsx)(i.Z,{label:T.format("progressTitle"),children:(0,n.jsx)(m.Z,{ref:x})})]})})]},"remoteDrawer")]});U.Z=C},97961:function(S,U,e){e.d(U,{GH:function(){return D},_2:function(){return _},fN:function(){return O},ii:function(){return v},vC:function(){return i}});var R=e(15009),s=e.n(R),B=e(99289),E=e.n(B),M=e(82346),v=[{name:"amd64",arch:"amd64",search:["amd64","x86_64","86_64"]},{name:"arm64",arch:"arm64",search:["arm64","arrch64"]},{name:"i386",arch:"386",search:[]},{name:"arm/v6",arch:"arm",search:[]},{name:"arm/v7",arch:"arm",search:[]},{name:"arm/v8",arch:"arm64",search:[]},{name:"ppc64le",arch:"ppc64le",search:[]},{name:"riscv64",arch:"riscv64",search:[]}];function O(a){return g.apply(this,arguments)}function g(){return g=E()(s()().mark(function a(f){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,M.request)("/api/app/image/create-by-dockerfile",{method:"POST",data:f}));case 1:case"end":return t.stop()}},a)})),g.apply(this,arguments)}function i(a){return d.apply(this,arguments)}function d(){return d=E()(s()().mark(function a(f){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,M.request)("/api/app/image/import-by-container-tar",{method:"POST",data:f}));case 1:case"end":return t.stop()}},a)})),d.apply(this,arguments)}function D(a){return r.apply(this,arguments)}function r(){return r=E()(s()().mark(function a(f){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,M.request)("/api/app/image/import-by-image-tar",{method:"POST",data:f}));case 1:case"end":return t.stop()}},a)})),r.apply(this,arguments)}function _(a){return u.apply(this,arguments)}function u(){return u=E()(s()().mark(function a(f){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,M.request)("/api/common/attach/delete",{method:"POST",data:f});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},a)})),u.apply(this,arguments)}function W(){return o.apply(this,arguments)}function o(){return o=_asyncToGenerator(_regeneratorRuntime().mark(function a(){return _regeneratorRuntime().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",request("/api/app/image/get-template-list",{method:"POST"}));case 1:case"end":return m.stop()}},a)})),o.apply(this,arguments)}}}]);
