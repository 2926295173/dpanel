"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7523],{86615:function(he,N,e){var p=e(1413),r=e(45987),S=e(22270),s=e(78045),h=e(67294),I=e(90789),j=e(55855),n=e(85893),W=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],K=h.forwardRef(function(c,m){var M=c.fieldProps,i=c.options,a=c.radioType,P=c.layout,E=c.proFieldProps,g=c.valueEnum,C=(0,r.Z)(c,W);return(0,n.jsx)(j.Z,(0,p.Z)((0,p.Z)({valueType:a==="button"?"radioButton":"radio",ref:m,valueEnum:(0,S.h)(g,void 0)},C),{},{fieldProps:(0,p.Z)({options:i,layout:P},M),proFieldProps:E,filedConfig:{customLightMode:!0}}))}),Z=h.forwardRef(function(c,m){var M=c.fieldProps,i=c.children;return(0,n.jsx)(s.ZP,(0,p.Z)((0,p.Z)({},M),{},{ref:m,children:i}))}),D=(0,I.G)(Z,{valuePropName:"checked",ignoreWidth:!0}),L=D;L.Group=K,L.Button=s.ZP.Button,L.displayName="ProFormComponent",N.Z=L},184:function(he,N,e){e.d(N,{a:function(){return T}});var p=e(4942),r=e(74165),S=e(15861),s=e(1413),h=e(97685),I=e(45987),j=e(12044),n=e(51812),W=e(48171),K=e(73177),Z=e(28459),D=e(85265),L=e(93967),c=e.n(L),m=e(55917),M=e(21770),i=e(80334),a=e(67294),P=e(73935),E=e(89671),g=e(98082),C=function(B){return(0,p.Z)({},B.componentCls,{"&-sidebar-dragger":{width:"5px",cursor:"ew-resize",padding:"4px 0 0",borderTop:"1px solid transparent",position:"absolute",top:0,left:0,bottom:0,zIndex:100,backgroundColor:"transparent","&-min-disabled":{cursor:"w-resize"},"&-max-disabled":{cursor:"e-resize"}}})};function y(d){return(0,g.Xj)("DrawerForm",function(B){var u=(0,s.Z)((0,s.Z)({},B),{},{componentCls:".".concat(d)});return[C(u)]})}var f=e(85893),t=["children","trigger","onVisibleChange","drawerProps","onFinish","submitTimeout","title","width","resize","onOpenChange","visible","open"];function T(d){var B,u,pe=d.children,oe=d.trigger,z=d.onVisibleChange,R=d.drawerProps,Ce=d.onFinish,Ee=d.submitTimeout,Te=d.title,ge=d.width,X=d.resize,ce=d.onOpenChange,ve=d.visible,ye=d.open,Q=(0,I.Z)(d,t);(0,i.ET)(!Q.footer||!(R!=null&&R.footer),"DrawerForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002");var O=a.useMemo(function(){var U,_,o,b={onResize:function(){},maxWidth:(0,j.j)()?window.innerWidth*.8:void 0,minWidth:300};return typeof X=="boolean"?X?b:{}:(0,n.Y)({onResize:(U=X==null?void 0:X.onResize)!==null&&U!==void 0?U:b.onResize,maxWidth:(_=X==null?void 0:X.maxWidth)!==null&&_!==void 0?_:b.maxWidth,minWidth:(o=X==null?void 0:X.minWidth)!==null&&o!==void 0?o:b.minWidth})},[X]),le=(0,a.useContext)(Z.ZP.ConfigContext),Pe=le.getPrefixCls("pro-form-drawer"),te=y(Pe),$=te.wrapSSR,H=te.hashId,V=function(_){return"".concat(Pe,"-").concat(_," ").concat(H)},G=(0,a.useState)([]),re=(0,h.Z)(G,2),ne=re[1],ae=(0,a.useState)(!1),A=(0,h.Z)(ae,2),v=A[0],x=A[1],w=(0,a.useState)(!1),Y=(0,h.Z)(w,2),F=Y[0],me=Y[1],q=(0,a.useState)(ge||(X?O==null?void 0:O.minWidth:800)),ie=(0,h.Z)(q,2),ee=ie[0],k=ie[1],l=(0,M.Z)(!!ve,{value:ye||ve,onChange:ce||z}),J=(0,h.Z)(l,2),se=J[0],de=J[1],Fe=(0,a.useRef)(null),De=(0,a.useCallback)(function(U){Fe.current===null&&U&&ne([]),Fe.current=U},[]),Oe=(0,a.useRef)(),xe=(0,a.useCallback)(function(){var U,_,o,b=(U=(_=(o=Q.formRef)===null||o===void 0?void 0:o.current)!==null&&_!==void 0?_:Q.form)!==null&&U!==void 0?U:Oe.current;b&&R!==null&&R!==void 0&&R.destroyOnClose&&b.resetFields()},[R==null?void 0:R.destroyOnClose,Q.form,Q.formRef]);(0,a.useEffect)(function(){se&&(ye||ve)&&(ce==null||ce(!0),z==null||z(!0)),F&&k(O==null?void 0:O.minWidth)},[ve,se,F]),(0,a.useImperativeHandle)(Q.formRef,function(){return Oe.current},[Oe.current]);var be=(0,a.useMemo)(function(){return oe?a.cloneElement(oe,(0,s.Z)((0,s.Z)({key:"trigger"},oe.props),{},{onClick:function(){var U=(0,S.Z)((0,r.Z)().mark(function o(b){var fe,ue;return(0,r.Z)().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:de(!se),me(!Object.keys(O)),(fe=oe.props)===null||fe===void 0||(ue=fe.onClick)===null||ue===void 0||ue.call(fe,b);case 3:case"end":return _e.stop()}},o)}));function _(o){return U.apply(this,arguments)}return _}()})):null},[de,oe,se,me,F]),je=(0,a.useMemo)(function(){var U,_,o,b;return Q.submitter===!1?!1:(0,m.Z)({searchConfig:{submitText:(U=(_=le.locale)===null||_===void 0||(_=_.Modal)===null||_===void 0?void 0:_.okText)!==null&&U!==void 0?U:"\u786E\u8BA4",resetText:(o=(b=le.locale)===null||b===void 0||(b=b.Modal)===null||b===void 0?void 0:b.cancelText)!==null&&o!==void 0?o:"\u53D6\u6D88"},resetButtonProps:{preventDefault:!0,disabled:Ee?v:void 0,onClick:function(ue){var Ie;de(!1),R==null||(Ie=R.onClose)===null||Ie===void 0||Ie.call(R,ue)}}},Q.submitter)},[Q.submitter,(B=le.locale)===null||B===void 0||(B=B.Modal)===null||B===void 0?void 0:B.okText,(u=le.locale)===null||u===void 0||(u=u.Modal)===null||u===void 0?void 0:u.cancelText,Ee,v,de,R]),Ze=(0,a.useCallback)(function(U,_){return(0,f.jsxs)(f.Fragment,{children:[U,Fe.current&&_?(0,f.jsx)(a.Fragment,{children:(0,P.createPortal)(_,Fe.current)},"submitter"):_]})},[]),Ae=(0,W.J)(function(){var U=(0,S.Z)((0,r.Z)().mark(function _(o){var b,fe,ue;return(0,r.Z)().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return b=Ce==null?void 0:Ce(o),Ee&&b instanceof Promise&&(x(!0),fe=setTimeout(function(){return x(!1)},Ee),b.finally(function(){clearTimeout(fe),x(!1)})),_e.next=4,b;case 4:return ue=_e.sent,ue&&de(!1),_e.abrupt("return",ue);case 7:case"end":return _e.stop()}},_)}));return function(_){return U.apply(this,arguments)}}()),Me=(0,K.X)(se,z),Be=(0,a.useCallback)(function(U){var _,o,b=(document.body.offsetWidth||1e3)-(U.clientX-document.body.offsetLeft),fe=(_=O==null?void 0:O.minWidth)!==null&&_!==void 0?_:ge||800,ue=(o=O==null?void 0:O.maxWidth)!==null&&o!==void 0?o:window.innerWidth*.8;if(b<fe){k(fe);return}if(b>ue){k(ue);return}k(b)},[O==null?void 0:O.maxWidth,O==null?void 0:O.minWidth,ge]),Re=(0,a.useCallback)(function(){document.removeEventListener("mousemove",Be),document.removeEventListener("mouseup",Re)},[Be]);return $((0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(D.Z,(0,s.Z)((0,s.Z)((0,s.Z)({title:Te,width:ee},R),Me),{},{afterOpenChange:function(_){var o;_||xe(),R==null||(o=R.afterOpenChange)===null||o===void 0||o.call(R,_)},onClose:function(_){var o;Ee&&v||(de(!1),R==null||(o=R.onClose)===null||o===void 0||o.call(R,_))},footer:Q.submitter!==!1&&(0,f.jsx)("div",{ref:De,style:{display:"flex",justifyContent:"flex-end"}}),children:[X?(0,f.jsx)("div",{className:c()(V("sidebar-dragger"),H,(0,p.Z)((0,p.Z)({},V("sidebar-dragger-min-disabled"),ee===(O==null?void 0:O.minWidth)),V("sidebar-dragger-max-disabled"),ee===(O==null?void 0:O.maxWidth))),onMouseDown:function(_){var o;O==null||(o=O.onResize)===null||o===void 0||o.call(O),_.stopPropagation(),_.preventDefault(),document.addEventListener("mousemove",Be),document.addEventListener("mouseup",Re),me(!0)}}):null,(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(E.I,(0,s.Z)((0,s.Z)({formComponentType:"DrawerForm",layout:"vertical"},Q),{},{formRef:Oe,onInit:function(_,o){var b;Q.formRef&&(Q.formRef.current=o),Q==null||(b=Q.onInit)===null||b===void 0||b.call(Q,_,o),Oe.current=o},submitter:je,onFinish:function(){var U=(0,S.Z)((0,r.Z)().mark(function _(o){var b;return(0,r.Z)().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,Ae(o);case 2:return b=ue.sent,ue.abrupt("return",b);case 4:case"end":return ue.stop()}},_)}));return function(_){return U.apply(this,arguments)}}(),contentRender:Ze,children:pe}))})]})),be]}))}},37476:function(he,N,e){e.d(N,{Y:function(){return i}});var p=e(74165),r=e(15861),S=e(1413),s=e(97685),h=e(45987),I=e(73177),j=e(28459),n=e(85576),W=e(55917),K=e(21770),Z=e(80334),D=e(67294),L=e(73935),c=e(89671),m=e(85893),M=["children","trigger","onVisibleChange","onOpenChange","modalProps","onFinish","submitTimeout","title","width","visible","open"];function i(a){var P,E,g=a.children,C=a.trigger,y=a.onVisibleChange,f=a.onOpenChange,t=a.modalProps,T=a.onFinish,d=a.submitTimeout,B=a.title,u=a.width,pe=a.visible,oe=a.open,z=(0,h.Z)(a,M);(0,Z.ET)(!z.footer||!(t!=null&&t.footer),"ModalForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002");var R=(0,D.useContext)(j.ZP.ConfigContext),Ce=(0,D.useState)([]),Ee=(0,s.Z)(Ce,2),Te=Ee[1],ge=(0,D.useState)(!1),X=(0,s.Z)(ge,2),ce=X[0],ve=X[1],ye=(0,K.Z)(!!pe,{value:oe||pe,onChange:f||y}),Q=(0,s.Z)(ye,2),O=Q[0],le=Q[1],Pe=(0,D.useRef)(null),te=(0,D.useCallback)(function(A){Pe.current===null&&A&&Te([]),Pe.current=A},[]),$=(0,D.useRef)(),H=(0,D.useCallback)(function(){var A,v,x,w=(A=(v=z.form)!==null&&v!==void 0?v:(x=z.formRef)===null||x===void 0?void 0:x.current)!==null&&A!==void 0?A:$.current;w&&t!==null&&t!==void 0&&t.destroyOnClose&&w.resetFields()},[t==null?void 0:t.destroyOnClose,z.form,z.formRef]);(0,D.useImperativeHandle)(z.formRef,function(){return $.current},[$.current]),(0,D.useEffect)(function(){(oe||pe)&&(f==null||f(!0),y==null||y(!0))},[pe,oe]);var V=(0,D.useMemo)(function(){return C?D.cloneElement(C,(0,S.Z)((0,S.Z)({key:"trigger"},C.props),{},{onClick:function(){var A=(0,r.Z)((0,p.Z)().mark(function x(w){var Y,F;return(0,p.Z)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:le(!O),(Y=C.props)===null||Y===void 0||(F=Y.onClick)===null||F===void 0||F.call(Y,w);case 2:case"end":return q.stop()}},x)}));function v(x){return A.apply(this,arguments)}return v}()})):null},[le,C,O]),G=(0,D.useMemo)(function(){var A,v,x,w,Y,F;return z.submitter===!1?!1:(0,W.Z)({searchConfig:{submitText:(A=(v=t==null?void 0:t.okText)!==null&&v!==void 0?v:(x=R.locale)===null||x===void 0||(x=x.Modal)===null||x===void 0?void 0:x.okText)!==null&&A!==void 0?A:"\u786E\u8BA4",resetText:(w=(Y=t==null?void 0:t.cancelText)!==null&&Y!==void 0?Y:(F=R.locale)===null||F===void 0||(F=F.Modal)===null||F===void 0?void 0:F.cancelText)!==null&&w!==void 0?w:"\u53D6\u6D88"},resetButtonProps:{preventDefault:!0,disabled:d?ce:void 0,onClick:function(q){var ie;le(!1),t==null||(ie=t.onCancel)===null||ie===void 0||ie.call(t,q)}}},z.submitter)},[(P=R.locale)===null||P===void 0||(P=P.Modal)===null||P===void 0?void 0:P.cancelText,(E=R.locale)===null||E===void 0||(E=E.Modal)===null||E===void 0?void 0:E.okText,t,z.submitter,le,ce,d]),re=(0,D.useCallback)(function(A,v){return(0,m.jsxs)(m.Fragment,{children:[A,Pe.current&&v?(0,m.jsx)(D.Fragment,{children:(0,L.createPortal)(v,Pe.current)},"submitter"):v]})},[]),ne=(0,D.useCallback)(function(){var A=(0,r.Z)((0,p.Z)().mark(function v(x){var w,Y,F;return(0,p.Z)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return w=T==null?void 0:T(x),d&&w instanceof Promise&&(ve(!0),Y=setTimeout(function(){return ve(!1)},d),w.finally(function(){clearTimeout(Y),ve(!1)})),q.next=4,w;case 4:return F=q.sent,F&&le(!1),q.abrupt("return",F);case 7:case"end":return q.stop()}},v)}));return function(v){return A.apply(this,arguments)}}(),[T,le,d]),ae=(0,I.X)(O);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(n.Z,(0,S.Z)((0,S.Z)((0,S.Z)({title:B,width:u||800},t),ae),{},{onCancel:function(v){var x;d&&ce||(le(!1),t==null||(x=t.onCancel)===null||x===void 0||x.call(t,v))},afterClose:function(){var v;H(),O&&le(!1),t==null||(v=t.afterClose)===null||v===void 0||v.call(t)},footer:z.submitter!==!1?(0,m.jsx)("div",{ref:te,style:{display:"flex",justifyContent:"flex-end"}}):null,children:(0,m.jsx)(c.I,(0,S.Z)((0,S.Z)({formComponentType:"ModalForm",layout:"vertical"},z),{},{onInit:function(v,x){var w;z.formRef&&(z.formRef.current=x),z==null||(w=z.onInit)===null||w===void 0||w.call(z,v,x),$.current=x},formRef:$,submitter:G,onFinish:function(){var A=(0,r.Z)((0,p.Z)().mark(function v(x){var w;return(0,p.Z)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,ne(x);case 2:return w=F.sent,F.abrupt("return",w);case 4:case"end":return F.stop()}},v)}));return function(v){return A.apply(this,arguments)}}(),contentRender:re,children:g}))})),V]})}},74344:function(he,N,e){var p=e(5574),r=e.n(p),S=e(37476),s=e(38345),h=e(54006),I=e(67294),j=e(54964),n=e(85893),W=(0,I.forwardRef)(function(K,Z){(0,I.useImperativeHandle)(Z,function(){return{start:function(){for(var y=arguments.length,f=new Array(y),t=0;t<y;t++)f[t]=arguments[t];P(f.join(":")),m(!0)},reset:function(){var y;(y=g.current)===null||y===void 0||y.clear()},show:function(y){var f,t;(f=g.current)===null||f===void 0||f.clear(),(t=g.current)===null||t===void 0||t.write(y),m(!0)}}});var D=(0,I.useState)(!1),L=r()(D,2),c=L[0],m=L[1],M=(0,I.useState)(""),i=r()(M,2),a=i[0],P=i[1],E=(0,h.useModel)("subscriber"),g=(0,I.useRef)();return E.addDataHandler("image:"+a,function(C){var y;(y=g.current)===null||y===void 0||y.write(C.data)}),(0,I.useEffect)(function(){var C;(C=g.current)===null||C===void 0||C.fit()},[]),(0,n.jsx)(S.Y,{modalProps:{forceRender:!0},title:"\u6784\u5EFA\u65E5\u5FD7",submitter:!1,width:1e3,onOpenChange:function(y){if(m(y),y){var f,t;(f=g.current)===null||f===void 0||f.clear(),(t=g.current)===null||t===void 0||t.fit()}},open:c,children:(0,n.jsx)(s.Z,{ghost:!0,children:(0,n.jsx)(j.Z,{showInModal:!0,width:"960px",height:"500px",ref:g})})})});N.Z=W},89063:function(he,N,e){e.d(N,{Z:function(){return n}});var p=e(24963),r=e(88484),S=e(31418),s=e(72723),h=e(14726),I=e(67294),j=e(85893);function n(W){var K=(0,I.useContext)(p.Z),Z=K.message,D=K.notice,L=K.lang,c=(0,I.useRef)(null),m=S.Z.useApp(),M=function(){c.current&&(c.current.click(),c.current.onchange=function(a){if(!a||!a.target)return"";var P=new FileReader;P.onload=function(g){var C,y,f=(C=g.target)===null||C===void 0?void 0:C.result;if(W.onLoad)try{W.onLoad&&W.onLoad(f)}catch(t){D.error(t);return}typeof W.onImport=="function"&&W.onImport(f),(y=c.current)!==null&&y!==void 0&&y.value&&(c.current.value="")};var E=a.target;if(E.files)try{P.readAsText(E.files[0])}catch(g){D.error("\u5BFC\u5165\u6587\u4EF6\u5FC5\u987B\u662F\u6587\u672C\u7C7B\u578B")}})};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(s.Z.Item,{name:"importFile",label:W.label,children:(0,j.jsx)(h.ZP,{icon:(0,j.jsx)(r.Z,{}),block:!0,onClick:M,children:W.title})}),(0,j.jsx)("input",{style:{display:"none"},type:"file",ref:c,name:"importFileInput"})]})}},54964:function(he,N,e){e.d(N,{a:function(){return K}});var p=e(78267),r=e.n(p),S=e(75458),s=e.n(S),h=e(67294),I=e(12320),j=e.n(I),n=e(89629),W=e(85893),K={convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,cursorStyle:"block",cursorBlink:!0,theme:{foreground:"#bfbfbf",cursor:"gray",selectionForeground:"#ffffff"}},Z=new I.Terminal(K),D=new S.SearchAddon,L=new p.FitAddon,c=(0,h.forwardRef)(function(m,M){return(0,h.useEffect)(function(){window.addEventListener("resize",function(){m.showInModal||L.fit()}),m.style&&m.style.fontSize&&(Z.options.fontSize=m.style.fontSize),Z.loadAddon(L),Z.loadAddon(D),Z.open(document.getElementById("terminal-container")),L.fit()},[]),(0,h.useImperativeHandle)(M,function(){return{write:function(a){Z.write(a)},clear:function(){Z.clear()},getTerminal:function(){return Z},findNext:function(a){D.findNext(a)},findPrev:function(a){D.findPrevious(a)},fit:function(){L.fit()},onData:function(a){Z.onData(a)}}}),(0,W.jsx)("div",{id:"terminal-container",style:{width:m.width?m.width:"100%",height:m.height?m.height:"500px"}})});N.Z=c},24963:function(he,N,e){var p=e(67294),r=(0,p.createContext)({});N.Z=r},90128:function(he,N,e){e.r(N),e.d(N,{default:function(){return Pe}});var p=e(15009),r=e.n(p),S=e(99289),s=e.n(S),h=e(5574),I=e.n(h),j=e(5966),n=e(85893);function W(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(j.Z,{fieldProps:{min:2,max:255},rules:[{required:!0}],required:!0,placeholder:"\u6307\u5B9AGit\u5730\u5740\uFF0C\u79C1\u6709\u4ED3\u5E93\u8BF7\u9644\u52A0\u6743\u9650\u3002\u4EC5\u652F\u6301Master\u5206\u652F",label:"Git\u4ED3\u5E93\u5730\u5740",name:"buildGit"})})}var K=e(97961),Z=e(1413),D=e(45987),L=e(88484),c=e(31365),m=e(14726),M=e(67294),i=e(9105),a=e(90789),P=["fieldProps","action","accept","listType","title","max","icon","buttonProps","disabled","proFieldProps"],E=function($,H){var V,G=$.fieldProps,re=$.action,ne=$.accept,ae=$.listType,A=$.title,v=A===void 0?"\u5355\u51FB\u4E0A\u4F20":A,x=$.max,w=$.icon,Y=w===void 0?(0,n.jsx)(L.Z,{}):w,F=$.buttonProps,me=$.disabled,q=$.proFieldProps,ie=(0,D.Z)($,P),ee=(0,M.useMemo)(function(){var de;return(de=ie.fileList)!==null&&de!==void 0?de:ie.value},[ie.fileList,ie.value]),k=(0,M.useContext)(i.A),l=(q==null?void 0:q.mode)||k.mode||"edit",J=(x===void 0||!ee||(ee==null?void 0:ee.length)<x)&&l!=="read",se=(ae!=null?ae:G==null?void 0:G.listType)==="picture-card";return(0,n.jsx)(c.Z,(0,Z.Z)((0,Z.Z)({action:re,accept:ne,ref:H,listType:ae||"picture",fileList:ee},G),{},{name:(V=G==null?void 0:G.name)!==null&&V!==void 0?V:"file",onChange:function(Fe){var De;G==null||(De=G.onChange)===null||De===void 0||De.call(G,Fe)},children:J&&(se?(0,n.jsxs)("span",{children:[Y," ",v]}):(0,n.jsxs)(m.ZP,(0,Z.Z)((0,Z.Z)({disabled:me||(G==null?void 0:G.disabled)},F),{},{children:[Y,v]})))}))},g=(0,a.G)(M.forwardRef(E),{getValueFromEvent:function($){return $.fileList}}),C=g;function y(te){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(C,{max:1,title:te.title,label:te.label,required:!0,rules:[{required:!0}],fieldProps:{name:"file",accept:te.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(H){return new Promise(function(V){var G;(0,K._2)({path:(G=H.response.data.path)!==null&&G!==void 0?G:""}).then(function(re){V(!0)})})}},name:te.name})})}var f=e(74344),t=e(89063),T=e(95089),d=e(62370),B=e(184),u=e(86615),pe=e(97462),oe=e(34041);function z(te){var $=(0,M.useState)([]),H=I()($,2),V=H[0],G=H[1];return(0,M.useEffect)(function(){(0,K.MF)().then(function(re){var ne=Object.keys(re.data).map(function(ae){return re.data[ae]});G(ne)})},[]),(0,n.jsx)(d.Z,{children:(0,n.jsxs)(B.a,{trigger:(0,n.jsx)(m.ZP,{block:!0,children:"\u4F7F\u7528\u6A21\u677F\u751F\u6210"}),onFinish:function(ne){return new Promise(function(ae,A){var v=ne[ne.language+"EnvVersion"].split("|"),x=I()(v,2),w=x[0],Y=x[1],F="FROM ".concat(w,`
# \u5E94\u7528\u76EE\u5F55\u4F4D\u4E8E /app
# \u53EF\u901A\u7BA1\u5BB9\u5668 - \u6587\u4EF6\u7BA1\u7406, \u4E0A\u4F20\u4EE3\u7801\u81F3\u6B64\u76EE\u5F55\u5E76\u4FEE\u6539\u6743\u9650

WORKDIR /app
VOLUME [ "/app" ]
EXPOSE 80

# \u81EA\u5B9A\u4E49\u5B89\u88C5\u7EC4\u4EF6\u3001\u6269\u5C55\u6216\u662F\u5E93, \u4F8B\u5982:
# RUN apk add --no-cache --update vim
`);switch(ne.language){case"php":F+=`
                
# \u7AD9\u70B9\u76EE\u5F55\u4F4D\u4E8E /app/wwwroot \u53EF\u4E0A\u4F20\u6216\u662F\u4FEE\u6539\u7AD9\u70B9\u6587\u4EF6
# nginx \u914D\u7F6E\u4F4D\u4E8E /app/nginx/ \u53EF\u4FEE\u6539\u589E\u52A0\u81EA\u5B9A\u4E49\u914D\u7F6E
# \u901A\u8FC7\u8BBF\u95EE\u5BB9\u5668\u8FD0\u884C\u6620\u5C04\u7AEF\u53E3\uFF0C\u67E5\u770B\u73AF\u5883\u53CA\u6269\u5C55\u4FE1\u606F

`,ne.language=="php"&&ne.phpExt&&(F+="RUN apk add --no-cache --update ",ne.phpExt.map(function(me){F+="php".concat(Y,"-").concat(me," ")}));break;case"golang":F+=`
# \u53EF\u4EE5\u4FEE\u6539 RUN_COMMAND \u73AF\u5883\u53D8\u91CF, \u66F4\u6539\u542F\u52A8\u6267\u884C\u547D\u4EE4
ENV RUN_COMMAND="go version"`;break;default:break}te.onFinish(F),ae(!0)})},children:[(0,n.jsx)(u.Z.Group,{radioType:"button",name:"language",label:"\u7A0B\u5E8F\u8BED\u8A00",options:V.map(function(re){return{label:re.name,value:re.name}}),required:!0}),(0,n.jsx)(pe.Z,{name:["language"],children:function(ne){var ae=ne.language;return ae?(0,n.jsx)(n.Fragment,{children:V.map(function(A){if(A.name==ae)return(0,n.jsxs)("div",{children:[(0,n.jsx)(d.Z,{name:"".concat(A.name,"EnvVersion"),label:"\u73AF\u5883\u7248\u672C",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7A0B\u5E8F\u8FD0\u884C\u7684\u73AF\u5883"}],children:(0,n.jsx)(oe.Z,{options:A.env.map(function(v){return{label:v.name,value:v.baseImage}}),placeholder:"\u8BF7\u9009\u62E9\u5177\u4F53\u7684\u73AF\u5883\u7248\u672C"},"".concat(A.name,"Select"))},A.name),A.name=="php"&&(0,n.jsx)(d.Z,{label:"php\u6269\u5C55",name:"phpExt",children:(0,n.jsx)(oe.Z,{options:A.ext.map(function(v){return{label:v,value:v}}),mode:"multiple",placeholder:"\u8BF7\u9009\u62E9\u8981\u5B89\u88C5\u7684php\u6269\u5C55"},"phpExtSelect")},"phpExt")]},"envSelect")})}):(0,n.jsx)(n.Fragment,{})}})]})})}function R(te){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.Z,{title:"\u5BFC\u5165\u672C\u5730Dockerfile\u6587\u4EF6",onImport:function(H){var V;return(V=te.createFormRef.current)===null||V===void 0||V.setFieldValue("buildDockerfile",H),!0},onLoad:function(H){if(H.indexOf("FROM ")<0)throw new Error("\u5BFC\u5165Dockerfile\u6587\u4EF6\u9519\u8BEF");return!0}}),(0,n.jsx)(z,{onFinish:function(H){var V;(V=te.createFormRef.current)===null||V===void 0||V.setFieldValue("buildDockerfile",H)}}),(0,n.jsx)(d.Z,{shouldUpdate:!0,children:function(H){var V=H.getFieldValue;return(0,n.jsx)(d.Z,{name:"buildDockerfile",children:(0,n.jsx)(T.ZP,{value:V("buildDockerfile"),onChange:function(re){var ne;(ne=te.createFormRef.current)===null||ne===void 0||ne.setFieldValue("buildDockerfile",re)},height:"600px",theme:"dark",style:{marginBottom:"20px"}})})}})]})}var Ce=e(24963),Ee=e(18148),Te=e(75870),ge=e(38345),X=e(97269),ce=e(64317),ve=e(90672),ye=e(54006),Q=e(42075),O=e(83062),le=e(91845);function Pe(){var te=(0,M.useContext)(Ce.Z),$=te.loading,H=(0,M.useRef)(),V=(0,M.useState)([]),G=I()(V,2),re=G[0],ne=G[1],ae=(0,ye.useSearchParams)(),A=I()(ae,2),v=A[0],x=A[1],w=(0,M.useState)("dockerfile"),Y=I()(w,2),F=Y[0],me=Y[1],q=(0,ye.useNavigate)(),ie=(0,M.useRef)();return(0,M.useEffect)(function(){var ee,k=(ee=v.get("id"))!==null&&ee!==void 0?ee:0;k&&($.show(),(0,Ee.T8)({id:parseInt(k)}).then(function(l){var J;me(l.data.task.buildType),(J=H.current)===null||J===void 0||J.setFieldsValue({title:l.data.task.title,imageTag:l.data.task.tag,imageRegistry:l.data.task.setting.registry,uploadType:l.data.task.buildType,buildRoot:l.data.task.setting.buildRoot,buildGit:l.data.task.setting.buildGit,buildDockerfile:l.data.task.setting.buildDockerfile,platform:l.data.task.setting.platform})}).finally(function(){$.destroy()}))},[]),(0,n.jsxs)(ge.Z,{direction:"column",ghost:!0,gutter:[0,10],children:[(0,n.jsx)(ge.Z,{bordered:!0,headerBordered:!0,children:(0,n.jsxs)(X.A,{submitter:{render:function(k,l){return(0,n.jsx)(Q.Z,{children:l})}},onFinish:function(){var ee=s()(r()().mark(function k(l){var J,se,de,Fe,De,Oe,xe,be,je,Ze,Ae,Me,Be,Re,U;return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(F!="containerTar"){o.next=8;break}return o.next=3,(0,K.vC)({tag:l.imageTag,registry:l.imageRegistry,tar:(J=l.containerTar[0].response.data.path)!==null&&J!==void 0?J:"",cmd:l.cmd,workDir:l.workDir,expose:l.expose?l.expose.split(`
`):[],env:l.env?l.env.split(`
`):[],volume:l.volume?l.volume.split(`
`):[]});case 3:return se=o.sent,q("/image/list"),o.abrupt("return",!0);case 8:if(F!="imageTar"){o.next=18;break}return(de=ie.current)===null||de===void 0||de.start("import",l.imageTag),o.next=12,(0,K.hG)({tag:l.imageTag,registry:l.imageRegistry,tar:(Fe=l.imageTar[0].response.data.path)!==null&&Fe!==void 0?Fe:""});case 12:return Oe=o.sent,(De=ie.current)===null||De===void 0||De.reset(),q("/image/list"),o.abrupt("return",!0);case 18:return Ze=(xe=v.get("id"))!==null&&xe!==void 0?xe:"0",Ae=re&&re[0]?re[0].fileName:"",Me={name:"",arch:""},K.ii.map(function(b){b.name==l.platform&&(Me=b)}),Be={id:parseInt(Ze),tag:l.imageTag,title:l.title,registry:l.imageRegistry,buildRoot:l.buildRoot,buildDockerfile:l.buildDockerfile,buildZip:Ae!=null?Ae:"",buildGit:l.buildGit,buildType:F,platform:Me.name,PlatformArch:Me.arch},l.buildZip&&l.buildZip.length>0&&(Be.buildZip=(Re=l.buildZip[0].response.data.path)!==null&&Re!==void 0?Re:""),(be=ie.current)===null||be===void 0||be.start("build",Ze),o.next=27,(0,K.fN)(Be);case 27:return U=o.sent,(je=ie.current)===null||je===void 0||je.reset(),q("/image/list/recycle"),o.abrupt("return",!0);case 31:case"end":return o.stop()}},k)}));return function(k){return ee.apply(this,arguments)}}(),formRef:H,children:[(0,n.jsx)(j.Z,{label:"\u955C\u50CF\u540D\u79F0",name:"title",fieldProps:{onChange:function(k){var l="";if(k.target.value){var J,se=(0,le.N9)(k.target.value.trim(),{toneType:"none",type:"array"});l=se.join(""),(J=H.current)===null||J===void 0||J.setFieldValue("imageTag",l)}}}}),(0,n.jsx)(ce.Z,{label:"\u955C\u50CF\u4ED3\u5E93",tooltip:(0,n.jsxs)(n.Fragment,{children:["\u63A8\u9001\u524D\u8BF7\u4FDD\u8BC1\u4ED3\u5E93\u4E2D\u6709\u6307\u5B9A\u7684\u547D\u540D\u7A7A\u95F4, \u5982\u6CA1\u6709\u8BF7\u5148 ",(0,n.jsx)("a",{href:"",target:"_blank",children:"\u6DFB\u52A0\u4ED3\u5E93"})]}),name:"imageRegistry",request:s()(r()().mark(function ee(){var k;return r()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,(0,Te.Ot)();case 2:return k=J.sent,J.abrupt("return",k.data.list.map(function(se){return{value:se.serverAddress,label:se.title+"("+se.serverAddress+")"}}));case 4:case"end":return J.stop()}},ee)}))}),(0,n.jsx)(pe.Z,{name:["imageRegistry"],children:function(k){var l=k.imageRegistry;return(0,n.jsx)(j.Z,{fieldProps:{min:2,max:255,addonBefore:"".concat(l||"","/")},rules:[{required:!0}],required:!0,tooltip:"\u4F8B\u5982: name:tag\u3001namespace/name:tag\u3001registry/namespace/name:tag",placeholder:"\u53EA\u80FD\u4F7F\u7528\u5C0F\u5199\u82F1\u6587\u5B57\u7B26\u3001\u6570\u5B57\u3001_\u3001-\u3001",label:"\u955C\u50CFTag",name:"imageTag"})}}),(0,n.jsx)(u.Z.Group,{name:"uploadType",label:"\u6784\u5EFA\u65B9\u5F0F",initialValue:F,options:[{label:(0,n.jsx)(O.Z,{title:"\u901A\u8FC7 Dockerfile \u6587\u4EF6\u5FEB\u901F\u6784\u5EFA\u955C\u50CF",children:"Dockerfile"}),value:"dockerfile"},{label:(0,n.jsx)(O.Z,{title:"\u5C06 Dockerfile \u6587\u4EF6\u4E0E\u6784\u5EFA\u955C\u50CF\u7528\u5230\u7684\u8D44\u6E90\uFF0C\u901A\u8FC7\u4E0A\u4F20 Zip \u5305\u7684\u5F62\u5F0F\u6784\u5EFA\u955C\u50CF",children:"Zip\u5305"}),value:"zip"},{label:(0,n.jsx)(O.Z,{title:"\u5C06 Dockerfile \u6587\u4EF6\u4E0E\u6784\u5EFA\u955C\u50CF\u7528\u5230\u7684\u8D44\u6E90\u653E\u7F6E\u5230 Git \u4ED3\u5E93\u4E2D\uFF0C\u53EF\u4EE5\u6301\u7EED\u6027\u7684\u6784\u5EFA\u955C\u50CF",children:"Git\u6E90\u7801\u4ED3\u5E93"}),value:"git"},{label:(0,n.jsx)(O.Z,{title:"\u4E0A\u4F20\u5BB9\u5668\u5BFC\u51FA\u7684 Tar \u5305\uFF0C\u5E76\u81EA\u5B9A\u4E49\u53C2\u6570\u6784\u5EFA\u955C\u50CF\u3002\u5982\u679C\u4F60\u4E0D\u9700\u8981\u4FEE\u6539\u5BB9\u5668\u539F\u59CB\u914D\u7F6E\uFF0C\u53EF\u4EE5\u5728\u5BB9\u5668\u8BE6\u60C5\u9875\u4F7F\u7528\u3010\u5C06\u5BB9\u5668\u4FDD\u5B58\u4E3A\u955C\u50CF\u3011\u529F\u80FD",children:"\u5BFC\u5165\u5BB9\u5668Tar\u5305"}),value:"containerTar"},{label:(0,n.jsx)(O.Z,{title:"\u4E0A\u4F20\u955C\u50CF Tar \u5305\u6784\u5EFA\u955C\u50CF",children:"\u5BFC\u5165\u955C\u50CFTar\u5305"}),value:"imageTar"}],fieldProps:{onChange:function(k){me(k.target.value)}}}),(0,n.jsx)(pe.Z,{name:["uploadType"],children:function(k){var l=k.uploadType;if(l=="containerTar")return[(0,n.jsx)(j.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u5DE5\u4F5C\u76EE\u5F55\uFF0C\u4E00\u822C\u6307\u5411\u4EE3\u7801\u7684\u6240\u5728\u76EE\u5F55",label:"\u5DE5\u4F5C\u76EE\u5F55",name:"workDir",placeholder:"\u9ED8\u8BA4\u4E3A / \u76EE\u5F55"},"workDir"),(0,n.jsx)(j.Z,{required:!0,tooltip:"\u901A\u8FC7\u5BB9\u5668\u5BFC\u5165\u955C\u50CF\u65F6\uFF0C\u5FC5\u987B\u6307\u5B9A\u542F\u52A8\u547D\u4EE4\uFF0C\u5426\u5219\u518D\u521B\u5EFA\u65F6\u65E0\u6CD5\u542F\u52A8",rules:[{required:!0}],label:"CMD",name:"cmd"},"cmd"),(0,n.jsx)(ve.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u5BF9\u5916\u66B4\u9732\u7684\u7AEF\u53E3\uFF0C\u4E00\u884C\u6307\u5B9A\u4E00\u4E2A\u7AEF\u53E3",label:"\u66B4\u9732\u7AEF\u53E3",name:"expose",placeholder:`80 
9000`},"expose"),(0,n.jsx)(ve.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u9700\u8981\u914D\u7F6E\u7684\u73AF\u5883\u53D8\u91CF\uFF0C\u4E00\u884C\u6307\u5B9A\u4E00\u4E2A\u73AF\u5883\u53D8\u91CF",label:"\u73AF\u5883\u53D8\u91CF",name:"env",placeholder:`TEST_VALUE=123 
TEST_NO_VALUE=`},"env"),(0,n.jsx)(ve.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u9700\u8981\u6301\u4E45\u5316\u7684\u76EE\u5F55\uFF0C\u4E00\u884C\u6307\u5B9A\u4E00\u4E2A\u76EE\u5F55",label:"\u5B58\u50A8\u5377\u76EE\u5F55",name:"volume",placeholder:`/app 
/home`},"volume")];if(l!="imageTar"){if(l=="zip"||l=="git")return(0,n.jsx)(j.Z,{name:"buildRoot",label:"Dockerfile\u6587\u4EF6\u4F4D\u7F6E",tooltip:"\u6307\u5B9ADockerfile\u6240\u5728\u7684\u76EE\u5F55",fieldProps:{addonBefore:"\u9ED8\u8BA4\u4EE5\u5305\u6216\u662F\u4ED3\u5E93\u76EE\u5F55\u5F00\u59CB\uFF08/\uFF09"},placeholder:"/Dockerfile"})}}}),F=="zip"&&(0,n.jsx)(y,{label:"\u4E0A\u4F20\u6784\u5EFA\u5305 (\u53EA\u5141\u8BB8\u4E0A\u4F20 .zip \u6587\u4EF6\uFF0C\u4E14\u4E0E\u5305\u4E2D\u7684 Dockerfile \u6307\u5B9A\u7684\u76EE\u5F55\u4FDD\u6301\u4E00\u81F4)",name:"buildZip",accept:".zip"}),F=="containerTar"&&(0,n.jsx)(y,{label:"\u5BFC\u5165\u5BB9\u5668\u5305\uFF08\u53EA\u5141\u8BB8\u4E0A\u4F20 .tar \u6587\u4EF6\uFF0C\u901A\u8FC7\u5BFC\u51FA\u5BB9\u5668\u751F\u6210\uFF09",name:"containerTar",accept:".tar"}),F=="imageTar"&&(0,n.jsx)(y,{label:"\u5BFC\u5165\u955C\u50CF\u5305\uFF08\u53EA\u5141\u8BB8\u4E0A\u4F20 .tar \u6587\u4EF6\uFF0C\u901A\u8FC7\u5BFC\u51FA\u955C\u50CF\u751F\u6210\uFF09",name:"imageTar",accept:".tar"}),F=="git"&&(0,n.jsx)(W,{}),F=="dockerfile"&&(0,n.jsx)(R,{createFormRef:H})]})}),(0,n.jsx)(f.Z,{ref:ie})]})}},97961:function(he,N,e){e.d(N,{MF:function(){return m},_2:function(){return L},fN:function(){return j},hG:function(){return Z},ii:function(){return I},vC:function(){return W}});var p=e(15009),r=e.n(p),S=e(99289),s=e.n(S),h=e(54006),I=[{name:"amd64",arch:"amd64"},{name:"arm64",arch:"arm64"},{name:"i386",arch:"386"},{name:"arm/v6",arch:"arm"},{name:"arm/v7",arch:"arm"},{name:"arm/v8",arch:"arm64"},{name:"ppc64le",arch:"ppc64le"},{name:"riscv64",arch:"riscv64"}];function j(i){return n.apply(this,arguments)}function n(){return n=s()(r()().mark(function i(a){return r()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,h.request)("/api/app/image/create-by-dockerfile",{method:"POST",data:a}));case 1:case"end":return E.stop()}},i)})),n.apply(this,arguments)}function W(i){return K.apply(this,arguments)}function K(){return K=s()(r()().mark(function i(a){return r()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,h.request)("/api/app/image/import-by-container-tar",{method:"POST",data:a}));case 1:case"end":return E.stop()}},i)})),K.apply(this,arguments)}function Z(i){return D.apply(this,arguments)}function D(){return D=s()(r()().mark(function i(a){return r()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,h.request)("/api/app/image/import-by-image-tar",{method:"POST",data:a}));case 1:case"end":return E.stop()}},i)})),D.apply(this,arguments)}function L(i){return c.apply(this,arguments)}function c(){return c=s()(r()().mark(function i(a){return r()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,h.request)("/api/common/attach/delete",{method:"POST",data:a});case 2:return E.abrupt("return",E.sent);case 3:case"end":return E.stop()}},i)})),c.apply(this,arguments)}function m(){return M.apply(this,arguments)}function M(){return M=s()(r()().mark(function i(){return r()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,h.request)("/api/app/image/get-template-list",{method:"POST"}));case 1:case"end":return P.stop()}},i)})),M.apply(this,arguments)}},18148:function(he,N,e){e.d(N,{$q:function(){return c},Fj:function(){return C},KG:function(){return I},KX:function(){return f},T8:function(){return D},Xn:function(){return K},ao:function(){return M},c5:function(){return E},c7:function(){return a}});var p=e(15009),r=e.n(p),S=e(99289),s=e.n(S),h=e(54006);function I(T){return j.apply(this,arguments)}function j(){return j=s()(r()().mark(function T(d){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,h.request)("/api/app/image/get-list",{method:"POST",data:d}));case 1:case"end":return u.stop()}},T)})),j.apply(this,arguments)}function n(T){return W.apply(this,arguments)}function W(){return W=_asyncToGenerator(_regeneratorRuntime().mark(function T(d){return _regeneratorRuntime().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,request("/api/app/log/image-build",{method:"POST",data:d});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},T)})),W.apply(this,arguments)}function K(T){return Z.apply(this,arguments)}function Z(){return Z=s()(r()().mark(function T(d){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,h.request)("/api/app/image/get-list-build",{method:"POST",data:d}));case 1:case"end":return u.stop()}},T)})),Z.apply(this,arguments)}function D(T){return L.apply(this,arguments)}function L(){return L=s()(r()().mark(function T(d){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,h.request)("/api/app/image/get-build-task",{method:"POST",data:d});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},T)})),L.apply(this,arguments)}function c(T){return m.apply(this,arguments)}function m(){return m=s()(r()().mark(function T(d){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,h.request)("/api/app/image/delete-build-task",{method:"POST",data:d});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},T)})),m.apply(this,arguments)}function M(T){return i.apply(this,arguments)}function i(){return i=s()(r()().mark(function T(d){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,h.request)("/api/app/image/image-delete",{method:"POST",data:d});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},T)})),i.apply(this,arguments)}function a(){return P.apply(this,arguments)}function P(){return P=s()(r()().mark(function T(){return r()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,(0,h.request)("/api/app/image/image-prune",{method:"POST"});case 2:return B.abrupt("return",B.sent);case 3:case"end":return B.stop()}},T)})),P.apply(this,arguments)}function E(){return g.apply(this,arguments)}function g(){return g=s()(r()().mark(function T(){return r()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,(0,h.request)("/api/app/image/build-prune",{method:"POST"});case 2:return B.abrupt("return",B.sent);case 3:case"end":return B.stop()}},T)})),g.apply(this,arguments)}function C(T){return y.apply(this,arguments)}function y(){return y=s()(r()().mark(function T(d){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,h.request)("/api/app/image/update-title",{method:"POST",data:d});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},T)})),y.apply(this,arguments)}function f(T){return t.apply(this,arguments)}function t(){return t=s()(r()().mark(function T(d){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,h.request)("/api/app/image/tag-sync",{method:"POST",data:d}));case 1:case"end":return u.stop()}},T)})),t.apply(this,arguments)}},75870:function(he,N,e){e.d(N,{Ot:function(){return I},ZH:function(){return n},ix:function(){return K},t1:function(){return D}});var p=e(15009),r=e.n(p),S=e(99289),s=e.n(S),h=e(54006);function I(c){return j.apply(this,arguments)}function j(){return j=s()(r()().mark(function c(m){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,h.request)("/api/common/registry/get-list",{method:"POST",data:m}));case 1:case"end":return i.stop()}},c)})),j.apply(this,arguments)}function n(c){return W.apply(this,arguments)}function W(){return W=s()(r()().mark(function c(m){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,h.request)("/api/common/registry/create",{method:"POST",data:m}));case 1:case"end":return i.stop()}},c)})),W.apply(this,arguments)}function K(c){return Z.apply(this,arguments)}function Z(){return Z=s()(r()().mark(function c(m){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,h.request)("/api/common/registry/delete",{method:"POST",data:m}));case 1:case"end":return i.stop()}},c)})),Z.apply(this,arguments)}function D(c){return L.apply(this,arguments)}function L(){return L=s()(r()().mark(function c(m){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,h.request)("/api/common/registry/get-detail",{method:"POST",data:m}));case 1:case"end":return i.stop()}},c)})),L.apply(this,arguments)}},85576:function(he,N,e){e.d(N,{Z:function(){return E}});var p=e(56080),r=e(38657),S=e(56745),s=e(67294),h=e(93967),I=e.n(h),j=e(40974),n=e(8745),W=e(53124),K=e(35792),Z=e(32409),D=e(4941),L=e(71194),c=function(g,C){var y={};for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&C.indexOf(f)<0&&(y[f]=g[f]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,f=Object.getOwnPropertySymbols(g);t<f.length;t++)C.indexOf(f[t])<0&&Object.prototype.propertyIsEnumerable.call(g,f[t])&&(y[f[t]]=g[f[t]]);return y};const m=g=>{const{prefixCls:C,className:y,closeIcon:f,closable:t,type:T,title:d,children:B,footer:u}=g,pe=c(g,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:oe}=s.useContext(W.E_),z=oe(),R=C||oe("modal"),Ce=(0,K.Z)(z),[Ee,Te,ge]=(0,L.ZP)(R,Ce),X=`${R}-confirm`;let ce={};return T?ce={closable:t!=null?t:!1,title:"",footer:"",children:s.createElement(Z.O,Object.assign({},g,{prefixCls:R,confirmPrefixCls:X,rootPrefixCls:z,content:B}))}:ce={closable:t!=null?t:!0,title:d,footer:u!==null&&s.createElement(D.$,Object.assign({},g)),children:B},Ee(s.createElement(j.s,Object.assign({prefixCls:R,className:I()(Te,`${R}-pure-panel`,T&&X,T&&`${X}-${T}`,y,ge,Ce)},pe,{closeIcon:(0,D.b)(R,f),closable:t},ce)))};var M=(0,n.i)(m),i=e(94423);function a(g){return(0,p.ZP)((0,p.uW)(g))}const P=S.Z;P.useModal=i.Z,P.info=function(C){return(0,p.ZP)((0,p.cw)(C))},P.success=function(C){return(0,p.ZP)((0,p.vq)(C))},P.error=function(C){return(0,p.ZP)((0,p.AQ)(C))},P.warning=a,P.warn=a,P.confirm=function(C){return(0,p.ZP)((0,p.Au)(C))},P.destroyAll=function(){for(;r.Z.length;){const C=r.Z.pop();C&&C()}},P.config=p.ai,P._InternalPanelDoNotUseOrYouWillBeFired=M;var E=P}}]);
