"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3917],{1699:function(X,I,e){e.d(I,{u:function(){return L}});var j=e(9783),i=e.n(j),y=e(97857),m=e.n(y),S=e(67294),A=e(82346),b=e(40411),g=e(42075),f=e(85893),L=function(n){var E=(0,A.useAccess)(),v=Array.isArray(n.access)?n.access:[n.access],l,p=n.fallback;if(typeof n.children=="function"?(l=n.children(v.reduce(function(s,_){return m()(m()({},s),{},i()({},_,E[_]))},{})),l||(l=p)):v.every(function(s){return E[s]})?l=n.children:l=p,!p&&l&&n.showProTips&&E.canSeeEnableCe){if(E.canSeeEnableHiddenProTips)return null;l=(0,f.jsx)(b.Z,{offset:n.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:l})}if(!p&&l&&n.showProRibbonTips&&E.canSeeEnableCe){if(E.canSeeEnableHiddenProTips)return null;l=(0,f.jsx)(b.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:l})}return n.space?(0,f.jsx)(g.Z,m()(m()({},n.space),{},{children:l})):l}},80821:function(X,I,e){e.d(I,{Z:function(){return h}});var j=e(97857),i=e.n(j),y=e(5574),m=e.n(y),S=e(24963),A=e(86738),b=e(28036),g=e(83062),f=e(67294),L=e(85893);function h(n){var E=(0,f.useState)(!1),v=m()(E,2),l=v[0],p=v[1],s=(0,f.useContext)(S.Z),_=s.lang,M=s.message,K=function(){p(!0);var T=n.action();T instanceof Promise?T.then(function(r){if(p(!1),r){typeof n.onSuccess=="function"&&n.onSuccess(r);var u="";n.messageSuccess?typeof n.messageSuccess=="function"?u=n.messageSuccess(r):u=n.messageSuccess.indexOf("notification.")==0?_(n.messageSuccess):n.messageSuccess:u=_("notification.finish"),n.asynced?M.info(u):M.success(u)}}).catch(function(r){p(!1),typeof n.onError=="function"&&n.onError(r)}):p(!1)};return n.confirm?(0,L.jsx)(A.Z,i()(i()({style:{width:500},title:n.confirmTitle?n.confirmTitle:_("notification.title.tip"),description:typeof n.confirm=="string"&&n.confirm.indexOf("notification.")==0?_(n.confirm):n.confirm,onConfirm:K,okText:"Yes",cancelText:"No",onOpenChange:n.confirmOnOpenChange},n.confirmProps),{},{children:(0,L.jsx)(b.ZP,{block:n.block,disabled:n.disabled,icon:!n.children&&l?void 0:n.icon,loading:l,danger:n.danger,type:n.type,children:n.children})})):(0,L.jsx)(g.Z,{title:n.tips,children:(0,L.jsx)(b.ZP,{block:n.block,style:n.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:n.disabled,icon:!n.children&&l?void 0:n.icon,loading:l,onClick:K,danger:n.danger,type:n.type,children:n.children})})}},44349:function(X,I,e){var j=e(97857),i=e.n(j),y=e(17186),m=e(5966),S=e(86250),A=e(67294),b=e(85893),g=(0,A.forwardRef)(function(f,L){var h=(0,A.useRef)();(0,A.useImperativeHandle)(L,function(){return{addItem:function(v,l){var p,s=(p=h.current)===null||p===void 0?void 0:p.getList(),_=!1;if(s==null||s.map(function(K){if(K.name==v){_=!0;return}}),!_){var M;(M=h.current)===null||M===void 0||M.add({name:v,value:l})}},clear:function(){var v;(v=h.current)===null||v===void 0||(v=v.getList())===null||v===void 0||v.map(function(l,p){var s;(s=h.current)===null||s===void 0||s.remove(p)})}}});var n={};return f.hideCopyButton===!0&&(n.copyIconProps=!1),f.hideDeleteButton===!0&&(n.deleteIconProps=!1),(0,b.jsx)(y.u,i()(i()({initialValue:f.initialValue,label:f.label,name:f.name,actionRef:h,creatorButtonProps:f.showAddButton?{creatorButtonText:"\u6DFB\u52A0"+(f.label?f.label:f.name)}:!1,min:f.min?f.min:0},n),{},{children:function(v,l,p){return(0,b.jsx)(S.Z,{justify:f.justify,gap:f.gap,children:f.items.map(function(s){return s.render?(0,b.jsx)("div",{children:s.render&&s.render(v,l,p)},"".concat(f.name,"-").concat(s.name,"-").concat(v.key)):(0,b.jsx)(m.Z,{width:s.width,name:s.name,label:s.label,required:s.required,rules:[{required:s.required}],disabled:s.disabled,placeholder:s.placeholder},"".concat(f.name,"-").concat(s.name,"-").concat(v.key))})})}}))});I.Z=g},8680:function(X,I,e){var j=e(15009),i=e.n(j),y=e(64599),m=e.n(y),S=e(99289),A=e.n(S),b=e(9783),g=e.n(b),f=e(5574),L=e.n(f),h=e(67294),n=e(184),E=e(38345),v=e(97269),l=e(97321),p=e(97462),s=e(64317),_=e(5966),M=e(86615),K=e(68602),c=e(28036),T=e(83403),r=e(24963),u=e(1699),o=e(29177),t=e(45742),H=e(43425),te=e(44349),ae=e(3616),x=e(85893),se=(0,h.forwardRef)(function(Q,oe){var ue=(0,h.useState)(!1),ne=L()(ue,2),q=ne[0],re=ne[1],W=(0,h.useRef)(),ee=(0,h.useContext)(r.Z),k=ee.message,J=(0,h.useState)([]),$=L()(J,2),P=$[0],w=$[1],Y=g()(g()(g()(g()(g()({},T.W6.CONTAINER,"Id"),T.W6.APPSTORE,"name"),T.W6.COMPOSE,"name"),T.W6.REGISTRY,"serverAddress"),T.W6.DOCKER_ENV,"name"),B=g()(g()(g()(g()(g()({},T.W6.CONTAINER,"name"),T.W6.APPSTORE,"name"),T.W6.COMPOSE,"name"),T.W6.REGISTRY,"title"),T.W6.DOCKER_ENV,"title"),Z=Y[Q.type],R=B[Q.type],G=Q.selected.map(function(z){return z[Y[Q.type]]});return h.useEffect(function(){q&&((0,K.dP)({permission:{uri:Q.type,key:Z,value:G}}).then(function(z){var U;(U=W.current)===null||U===void 0||U.setFieldValue("list",Object.keys(z.data.list).map(function(O){return{name:O,type:z.data.list[O].type,users:z.data.list[O].users}}))}),(0,K.lE)().then(function(z){var U,O=(U=z.data)===null||U===void 0||(U=U.list)===null||U===void 0?void 0:U.map(function(d){return{label:d.username,value:d.username}});w(O)}))},[q]),(0,x.jsx)(u.u,{access:["canSeeEnableEe","canSeeFounder","canSeeManage"],children:(0,x.jsxs)(n.a,{name:"create",title:"\u6570\u636E\u6743\u9650\u8BBE\u7F6E",open:q,onOpenChange:function(U){if(!U){var O;(O=W.current)===null||O===void 0||O.resetFields()}re(U)},drawerProps:{forceRender:!0,width:ae.R_},formRef:W,trigger:(0,x.jsx)(c.ZP,{icon:(0,x.jsx)(o.Z,{}),children:"\u6570\u636E\u6743\u9650"}),onFinish:function(){var z=A()(i()().mark(function U(O){var d,a,C;return i()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:d=m()(O.list),D.prev=1,d.s();case 3:if((a=d.n()).done){D.next=9;break}return C=a.value,D.next=7,(0,K.Db)({usernames:C.users,permissionType:C.type,permission:{uri:Q.type,key:Z,showKey:R,value:[C.name]}});case 7:D.next=3;break;case 9:D.next=14;break;case 11:D.prev=11,D.t0=D.catch(1),d.e(D.t0);case 14:return D.prev=14,d.f(),D.finish(14);case 17:k.success("\u6743\u9650\u8BBE\u7F6E\u6210\u529F"),re(!1),Q.onSuccess();case 20:case"end":return D.stop()}},U,null,[[1,11,14,17]])}));return function(U){return z.apply(this,arguments)}}(),children:[(0,x.jsxs)(E.Z,{ghost:!0,title:(0,x.jsx)(t.Z,{}),subTitle:"\u6279\u91CF\u8BBE\u7F6E",children:[(0,x.jsx)(v.A.Item,{name:"type",style:{marginBottom:0},children:(0,x.jsxs)(l.Z.Group,{defaultValue:"admin",onChange:function(U){var O,d,a=(O=W.current)===null||O===void 0?void 0:O.getFieldValue("list");a.forEach(function(C){C.type=U,C.users=[]}),(d=W.current)===null||d===void 0||d.setFieldValue("list",a)},children:[(0,x.jsx)(l.Z,{style:{width:240},title:"\u7BA1\u7406\u5458",description:"\u4EC5\u7BA1\u7406\u5458\u53EF\u89C1",value:"admin"}),(0,x.jsx)(l.Z,{style:{width:240},title:"\u6307\u5B9A\u7528\u6237",description:"\u4EC5\u9009\u4E2D\u7528\u6237\u53EF\u89C1",value:"restricted"}),(0,x.jsx)(l.Z,{style:{width:240},title:"\u516C\u5171",description:"\u6240\u6709\u4EBA\u53EF\u89C1",value:"public"})]})}),(0,x.jsx)(p.Z,{name:["type"],children:function(U){var O=U.type;if(O==="restricted")return(0,x.jsx)(s.Z,{mode:"multiple",name:"usernames",label:"\u9009\u62E9\u7528\u6237",onChange:function(a){var C,F,D=(C=W.current)===null||C===void 0?void 0:C.getFieldValue("list");D.forEach(function(N){N.users=a}),(F=W.current)===null||F===void 0||F.setFieldValue("list",D)},rules:[{required:!0}],request:A()(i()().mark(function d(){var a,C,F;return i()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(!(P.length>0)){N.next=2;break}return N.abrupt("return",P);case 2:return N.next=4,(0,K.lE)();case 4:return C=N.sent,F=(a=C.data)===null||a===void 0||(a=a.list)===null||a===void 0?void 0:a.map(function(V){return{label:V.username,value:V.username}}),w(F),N.abrupt("return",F);case 8:case"end":return N.stop()}},d)}))})}})]}),(0,x.jsx)(E.Z,{ghost:!0,title:(0,x.jsx)(H.Z,{}),subTitle:"\u6570\u636E\u6743\u9650\u8BBE\u7F6E",children:(0,x.jsx)(te.Z,{name:"list",hideCopyButton:!0,gap:10,items:[{name:"name",label:"\u540D\u79F0",render:function(U,O,d){var a=d.getCurrentRowData();return(0,x.jsx)(_.Z,{disabled:!0,label:"\u540D\u79F0",width:"sm",name:"name"})}},{name:"type",label:"\u6743\u9650\u7C7B\u578B",render:function(U,O,d){var a=d.getCurrentRowData();return(0,x.jsx)(M.Z.Group,{label:"\u6743\u9650\u7C7B\u578B",name:"type",radioType:"button",options:[{label:"\u7BA1\u7406\u5458",value:"admin"},{label:"\u516C\u5171",value:"public"},{label:"\u6307\u5B9A\u7528\u6237",value:"restricted"}]})}},{name:"users",label:"\u5173\u8054\u7528\u6237",render:function(U,O,d){return(0,x.jsx)(p.Z,{name:["type"],children:function(C){var F=C.type;if(F=="restricted")return(0,x.jsx)(s.Z,{width:"sm",mode:"tags",name:"users",label:"\u5173\u8054\u7528\u6237",options:P})}})}}]})})]})})});I.Z=se},3616:function(X,I,e){e.d(I,{Ed:function(){return m},FK:function(){return i},R_:function(){return j},ob:function(){return y}});var j=window.innerWidth<=1024?"90vw":"65vw",i="90vw",y="60vw",m="50vh"},24963:function(X,I,e){var j=e(67294),i=(0,j.createContext)({});I.Z=i},52756:function(X,I,e){e.r(I),e.d(I,{default:function(){return L},getLang:function(){return f}});var j=e(82346),i=e(31418),y=e(26058),m=e(85137),S=e(24963),A=e(65913),b=e(67294),g=e(85893);function f(h,n,E){var v=(0,j.getLocale)();E!=null&&E.XK&&(v="zh-XK");var l=(0,j.getIntl)(v).formatMessage({id:h},n);return l}function L(){var h=(0,b.useRef)(),n=(0,j.useIntl)(),E=function(u){for(var o=arguments.length,t=new Array(o>1?o-1:0),H=1;H<o;H++)t[H-1]=arguments[H];l.notification[u]({message:n.formatMessage({id:"notification.title."+u}),description:t.join(" "),placement:"topRight"})},v=function(u){for(var o=arguments.length,t=new Array(o>1?o-1:0),H=1;H<o;H++)t[H-1]=arguments[H];l.message[u](t.join(" "))},l=i.Z.useApp(),p=(0,j.useModel)("@@initialState"),s=p.initialState,_=p.loading,M=p.error,K=p.refresh,c=p.setInitialState,T=(0,j.useModel)("subscriber");return s!=null&&s.user.username&&T.addDataHandler("user:permission:".concat(s==null?void 0:s.user.username),function(r){K()}),(0,g.jsx)(y.Z,{children:(0,g.jsx)(S.Z.Provider,{value:{notice:{success:function(){for(var u=arguments.length,o=new Array(u),t=0;t<u;t++)o[t]=arguments[t];E.apply(void 0,["success"].concat(o))},error:function(){for(var u=arguments.length,o=new Array(u),t=0;t<u;t++)o[t]=arguments[t];E.apply(void 0,["error"].concat(o))},warning:function(){for(var u=arguments.length,o=new Array(u),t=0;t<u;t++)o[t]=arguments[t];E.apply(void 0,["warning"].concat(o))},info:function(){for(var u=arguments.length,o=new Array(u),t=0;t<u;t++)o[t]=arguments[t];E.apply(void 0,["info"].concat(o))},destroy:function(){l.notification.destroy()}},message:{success:function(){for(var u=arguments.length,o=new Array(u),t=0;t<u;t++)o[t]=arguments[t];v.apply(void 0,["success"].concat(o))},error:function(){for(var u=arguments.length,o=new Array(u),t=0;t<u;t++)o[t]=arguments[t];v.apply(void 0,["error"].concat(o))},warning:function(){for(var u=arguments.length,o=new Array(u),t=0;t<u;t++)o[t]=arguments[t];v.apply(void 0,["warning"].concat(o))},info:function(){for(var u=arguments.length,o=new Array(u),t=0;t<u;t++)o[t]=arguments[t];v.apply(void 0,["info"].concat(o))},loading:function(){for(var u=arguments.length,o=new Array(u),t=0;t<u;t++)o[t]=arguments[t];v.apply(void 0,["loading"].concat(o))},destroy:function(){l.message.destroy()}},loading:{show:function(){h.current&&h.current.show()},destroy:function(){h.current&&h.current.destroy()}},lang:function(u,o){return n.formatMessage({id:u},o)}},children:(0,g.jsxs)(A.Z,{ref:h,children:[(0,g.jsx)(j.Outlet,{}),(0,g.jsx)(m.Z.BackTop,{duration:10,style:{bottom:100}})]})},_?"1":"2")})}},65913:function(X,I,e){var j=e(5574),i=e.n(j),y=e(74330),m=e(67294),S=e(85893),A=(0,m.forwardRef)(function(b,g){(0,m.useImperativeHandle)(g,function(){return{show:function(){n(!0)},destroy:function(){n(!1)}}});var f=(0,m.useState)(!1),L=i()(f,2),h=L[0],n=L[1];return(0,S.jsx)(y.Z,{spinning:h,size:"default",children:b.children})});I.Z=A},29337:function(X,I,e){e.r(I),e.d(I,{default:function(){return re}});var j=e(15009),i=e.n(j),y=e(99289),m=e.n(y),S=e(5574),A=e.n(S),b=e(3616),g=e(52756),f=e(24963),L=e(15078),h=e(184),n=e(5966),E=e(97462),v=e(86615),l=e(62370),p=e(82346),s=e(28036),_=e(42075),M=e(25593),K=e(66309),c=e(38925),T=e(67294),r=e(85893),u=(0,T.forwardRef)(function(W,ee){var k=(0,T.useState)(!1),J=A()(k,2),$=J[0],P=J[1],w=(0,T.useRef)(),Y=(0,T.useContext)(f.Z),B=Y.message,Z=Y.notice,R=(0,p.useSearchParams)(),G=A()(R,2),z=G[0],U=G[1];return(0,T.useImperativeHandle)(ee,function(){return{edit:function(d){var a;(a=w.current)===null||a===void 0||a.setFieldsValue({title:d.title,name:d.name,type:d.setting.type,url:d.setting.url,id:d.id}),P(!0)}}}),(0,T.useEffect)(function(){z.get("op")=="create"&&P(!0)},[]),(0,r.jsxs)(h.a,{name:"create",title:"\u6DFB\u52A0\u7B2C\u4E09\u65B9\u5E94\u7528\u5546\u5E97",open:$,onOpenChange:function(d){var a;!d&&((a=w.current)===null||a===void 0||a.resetFields()),P(d)},drawerProps:{forceRender:!0,width:b.R_},formRef:w,trigger:(0,r.jsx)(s.ZP,{type:"primary",children:"\u6DFB\u52A0\u7B2C\u4E09\u65B9\u5E94\u7528\u5546\u5E97"}),onFinish:function(){var O=m()(i()().mark(function d(a){var C,F,D;return i()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return a.type=="1panel-local"&&(a.url="/dpanel/store/".concat(a.name)),V.next=3,(0,L.ks)({name:a.name,url:a.url,type:a.type});case 3:if(C=V.sent,!(C&&C.data)){V.next=13;break}return V.next=7,(0,L.$c)({id:a.id,name:a.name,title:a.title,type:a.type,url:a.url,apps:C.data.list});case 7:if(F=V.sent,!(F&&F.data)){V.next=13;break}return B.success("\u6DFB\u52A0\u7B2C\u4E09\u65B9\u5E94\u7528\u5546\u5E97\u6210\u529F"),W.onFinish&&W.onFinish(),(D=w.current)===null||D===void 0||D.resetFields(),V.abrupt("return",!0);case 13:case"end":return V.stop()}},d)}));return function(d){return O.apply(this,arguments)}}(),children:[(0,r.jsx)(n.Z,{name:"id",hidden:!0}),(0,r.jsx)(n.Z,{label:"\u540D\u79F0",name:"title",required:!0,rules:[{required:!0}],placeholder:"\u7528\u4E8E\u533A\u5206\u4E0D\u540C\u7684\u5E94\u7528\u5546\u5E97"}),(0,r.jsx)(E.Z,{name:["id"],children:function(d){var a=d.id;return(0,r.jsx)(n.Z,{label:"\u6807\u8BC6",name:"name",required:!0,disabled:!!a,rules:[{required:!0}],placeholder:"\u6307\u5B9A\u5546\u5E97\u6807\u8BC6\uFF0C\u7528\u4E8E\u521B\u5EFA\u5546\u5E97\u6587\u4EF6\u5B58\u50A8\u76EE\u5F55"})}}),(0,r.jsx)(v.Z.Group,{name:"type",label:"\u5546\u5E97\u7C7B\u578B",valueEnum:{casaos:"casaos","1panel":"1panel","1panel-local":"1panel \u672C\u5730"},fieldProps:{onChange:function(d){var a;(a=w.current)===null||a===void 0||a.resetFields(["url"])}}}),(0,r.jsx)(E.Z,{name:["type","name"],children:function(d){var a=d.type,C=d.name,F=[],D=[];return a=="1panel"&&(D=["https://gitee.com/qyg2297248353/appstore-dpanel","https://github.com/1Panel-dev/appstore","https://github.com/okxlin/appstore"],F=[(0,r.jsx)(n.Z,{label:"\u4ED3\u5E93\u5730\u5740",name:"url",required:!0,rules:[{required:!0}],placeholder:"\u8BF7\u8F93\u5165\u8FDC\u7A0B git \u4ED3\u5E93\u5730\u5740\u6216\u662F\u9762\u677F /dpanel/store \u4E0B\u7684\u5B50\u76EE\u5F55\u540D"},"gitUrl")]),a=="portainer"&&(F=[(0,r.jsx)(n.Z,{label:"template.json \u5730\u5740",name:"url",required:!0,rules:[{required:!0}],placeholder:"https://github.com/Lissy93/portainer-templates/blob/main/templates.json"},"jsonUrl")]),a=="casaos"&&(D=["https://play.cuse.eu.org/Cp0204-AppStore-Play.zip"],F=[(0,r.jsx)(n.Z,{label:"zip \u5730\u5740",name:"url",required:!0,rules:[{required:!0}],placeholder:"\u8BF7\u8F93\u5165\u8FDC\u7A0B zip \u5730\u5740"},"zipUrl")]),a&&a!="1panel-local"?[F,(0,r.jsx)(l.Z,{label:(0,r.jsxs)(_.Z,{children:["\u63A8\u8350\u5546\u5E97",(0,r.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/manual/setting/store?id=%e6%94%af%e6%8c%81%e7%b1%bb%e5%9e%8b",target:"_blank",children:(0,g.getLang)("notification.help")})]}),children:(0,r.jsx)(_.Z,{wrap:!0,children:D.map(function(N,V){return(0,r.jsx)(M.Z.Link,{onClick:function(){var le;(le=w.current)===null||le===void 0||le.setFieldValue("url",N)},children:(0,r.jsx)(K.Z,{color:"cyan",children:N})},V)})})},"recommend")]:[F,(0,r.jsx)(l.Z,{children:(0,r.jsx)(c.Z,{message:"\u65B0\u5EFA /dpanel/store/".concat(C!=null?C:""," \u76EE\u5F55\uFF0C\u5E76\u81EA\u884C\u4E0B\u8F7D\u6216\u662F\u6DFB\u52A0\u5E94\u7528")})},"local-description")]}})]})}),o=u,t=e(80821),H=e(8680),te=e(83403),ae=e(5251),x=e(67255),se=e(43425),Q=e(98165),oe=e(90078),ue=e(41482),ne=e(96074),q=e(83062);function re(){var W=(0,T.useRef)(),ee=(0,p.useAccess)(),k=(0,T.useRef)();return(0,r.jsx)(oe._z,{header:{extra:[ee.canSeeFounder&&(0,r.jsx)(o,{ref:k,onFinish:function(){var $,P;!(($=W.current)===null||$===void 0)&&$.reloadAndRest&&((P=W.current)===null||P===void 0||P.reloadAndRest())}},"create")]},children:(0,r.jsx)(ue.Z,{scroll:{x:"max-content"},rowKey:"id",pagination:(0,x.O)(),columns:[{title:"\u6807\u8BC6",dataIndex:"name",width:200},{title:"\u540D\u79F0",dataIndex:"title"},{title:"\u5730\u5740",width:500,search:!1,render:function($,P,w,Y,B){return(0,r.jsx)("a",{href:P.setting.url,target:"_blank",children:(0,r.jsx)(K.Z,{children:P.setting.url})})}},{title:"\u6700\u540E\u66F4\u65B0",width:180,render:function($,P,w,Y,B){if(P.setting.updatedAt)return(0,ae.ZM)(P.setting.updatedAt*1e3)}},{title:"\u64CD\u4F5C",width:100,search:!1,fixed:"right",render:function($,P,w,Y,B){return(0,r.jsxs)(_.Z,{split:(0,r.jsx)(ne.Z,{type:"vertical"}),children:[(0,r.jsx)(M.Z.Link,{onClick:function(){var R;(R=k.current)===null||R===void 0||R.edit(P)},children:(0,r.jsx)(q.Z,{title:"\u7BA1\u7406",children:(0,r.jsx)(se.Z,{})})},"manage"),(0,r.jsx)(t.Z,{type:"link",icon:(0,r.jsx)(Q.Z,{}),action:function(){var R,G;return(0,L.ks)({id:P.id,name:P.name,url:(R=P.setting.url)!==null&&R!==void 0?R:"",type:(G=P.setting.type)!==null&&G!==void 0?G:""})},onSuccess:function(){var R,G;return!((R=W.current)===null||R===void 0)&&R.reloadAndRest&&((G=W.current)===null||G===void 0||G.reloadAndRest()),!0},onError:function(){var R,G;return!((R=W.current)===null||R===void 0)&&R.reloadAndRest&&((G=W.current)===null||G===void 0||G.reloadAndRest()),!0},children:" "},"upgrade")]})}}],request:function(){var J=m()(i()().mark(function $(P,w,Y){var B;return i()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,L.eO)({name:P.name,title:P.title});case 2:return B=R.sent,R.abrupt("return",{data:B.data.list,success:!0,total:B.data.list.length});case 4:case"end":return R.stop()}},$)}));return function($,P,w){return J.apply(this,arguments)}}(),rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},actionRef:W,tableAlertOptionRender:function($){var P=$.selectedRowKeys,w=$.selectedRows;return(0,r.jsxs)(_.Z,{size:16,children:[(0,r.jsx)(H.Z,{type:te.W6.APPSTORE,selected:w,onSuccess:function(){var B,Z;return!((B=W.current)===null||B===void 0)&&B.reloadAndRest&&((Z=W.current)===null||Z===void 0||Z.reloadAndRest()),!0}}),(0,r.jsx)(t.Z,{danger:!0,type:"primary",action:function(){return(0,L.Me)({id:w.map(function(B){return B.id})})},onSuccess:function(){var B,Z;return!((B=W.current)===null||B===void 0)&&B.reloadAndRest&&((Z=W.current)===null||Z===void 0||Z.reloadAndRest()),!0},onError:function(){var B,Z;return!((B=W.current)===null||B===void 0)&&B.reset&&((Z=W.current)===null||Z===void 0||Z.reset()),!0},confirm:"notification.confirm.title",children:"\u6279\u91CF\u5220\u9664"},"delete")]})}})})}},15078:function(X,I,e){e.d(I,{$c:function(){return A},Me:function(){return v},eO:function(){return n},ks:function(){return g},yL:function(){return p}});var j=e(15009),i=e.n(j),y=e(99289),m=e.n(y),S=e(82346);function A(_){return b.apply(this,arguments)}function b(){return b=m()(i()().mark(function _(M){return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,S.request)("/api/common/store/create",{method:"POST",data:M}));case 1:case"end":return c.stop()}},_)})),b.apply(this,arguments)}function g(_){return f.apply(this,arguments)}function f(){return f=m()(i()().mark(function _(M){return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,S.request)("/api/common/store/sync",{method:"POST",data:M}));case 1:case"end":return c.stop()}},_)})),f.apply(this,arguments)}function L(_){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function _(M){return _regeneratorRuntime().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",request("/api/common/store/get-detail",{method:"POST",data:M}));case 1:case"end":return c.stop()}},_)})),h.apply(this,arguments)}function n(_){return E.apply(this,arguments)}function E(){return E=m()(i()().mark(function _(M){return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,S.request)("/api/common/store/get-list",{method:"POST",data:M}));case 1:case"end":return c.stop()}},_)})),E.apply(this,arguments)}function v(_){return l.apply(this,arguments)}function l(){return l=m()(i()().mark(function _(M){return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,S.request)("/api/common/store/delete",{method:"POST",data:M});case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},_)})),l.apply(this,arguments)}function p(_){return s.apply(this,arguments)}function s(){return s=m()(i()().mark(function _(M){return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,S.request)(M==null?void 0:M.path,{method:"GET"}));case 1:case"end":return c.stop()}},_)})),s.apply(this,arguments)}},67255:function(X,I,e){e.d(I,{O:function(){return j},j:function(){return i}});function j(y){var m=localStorage.getItem("dpanel-pagesize");return m=="all"?!1:{current:y==null?void 0:y.page,showSizeChanger:!0,defaultPageSize:parseInt(m!=null?m:"20"),onChange:function(A,b){localStorage.setItem("dpanel-page-"+location.pathname.split("/").slice(-2).join("-"),"".concat(A))}}}function i(y){var m="dpanel-table-column-".concat(y),S={};if(localStorage.getItem(m)){var A;S=JSON.parse((A=localStorage.getItem(m))!==null&&A!==void 0?A:"{}")}return{defaultValue:S,onChange:function(g){localStorage.setItem("dpanel-table-column-".concat(y),JSON.stringify(g))}}}}}]);
