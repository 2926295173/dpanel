"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2538],{44771:function(w,D,n){n.d(D,{Z:function(){return i}});var j=n(34041),r=n(25449),M=n(67294),u=n(85893);function i(v){return(0,u.jsx)(r.Z,{label:v.label,name:"restart",initialValue:v.defaultValue?v.defaultValue:"on-failure",children:(0,u.jsx)(j.Z,{options:[{value:"no",label:"\u4E0D\u91CD\u542F"},{value:"on-failure",label:"\u5931\u8D25\u540E\u91CD\u542F\uFF08\u9ED8\u8BA45\u6B21\uFF09"},{value:"unless-stopped",label:"\u672A\u624B\u52A8\u505C\u6B62\u5219\u91CD\u542F"},{value:"always",label:"\u4E00\u76F4\u91CD\u542F"}]})})}},4798:function(w,D,n){var j=n(15009),r=n.n(j),M=n(99289),u=n.n(M),i=n(5574),v=n.n(i),p=n(14946),C=n(93246),m=n(64789),h=n(38345),f=n(17186),s=n(24739),E=n(5966),I=n(62370),P=n(10641),R=n(31418),O=n(46464),o=n(85576),d=n(66309),g=n(42075),_=n(14726),t=n(67294),a=n(85893),c=(0,t.forwardRef)(function(e,k){var N=(0,t.useState)(!1),S=v()(N,2),$=S[0],B=S[1],K=(0,t.useRef)(),Z=R.Z.useApp();(0,t.useImperativeHandle)(k,function(){return{}});var G=function(b){var l,W,y=!1,A=(l=(W=K.current)===null||W===void 0?void 0:W.getList())!==null&&l!==void 0?l:[];if(A.map(function(T){T.name==b.name&&(y=!0)}),!y){var L;(L=K.current)===null||L===void 0||L.add(b)}};return(0,a.jsxs)(h.Z,{title:"\u5173\u8054\u7F51\u7EDC",headerBordered:!0,children:[(0,a.jsx)(f.u,{name:"network",actionRef:K,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u7F51\u7EDC"},actionGuard:{beforeAddRow:function(b,l){return!e.siteName||e.siteName==""||typeof e.siteName=="undefined"?((0,C.YZ)(Z,"\u8BF7\u8F93\u5165\u7AD9\u70B9\u6807\u8BC6"),!1):(B(!0),!1)}},copyIconProps:!1,min:0,itemRender:function(b,l){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.UW,{children:[(0,a.jsx)(E.Z,{label:"\u7F51\u7EDC\u540D\u79F0",name:"name",width:"md",disabled:!0,fieldProps:{value:l.record.name}}),(0,a.jsx)(I.Z,{label:"\u8BBF\u95EEHostname",name:"alise",children:l.record.alise!=""&&(0,a.jsx)(O.Z.Text,{code:!0,copyable:!0,children:l.record.alise})}),(0,a.jsx)(I.Z,{label:" ",children:b.action})]}),(0,a.jsx)(s.UW,{children:(0,a.jsx)(E.Z,{label:"\u6307\u5B9AIpV4",name:"ipV4",width:"md",fieldProps:{addonAfter:l.record.subnet}})})]})}}),(0,a.jsx)(o.Z,{title:"\u9009\u62E9\u7F51\u7EDC",width:1024,footer:!1,open:$,onCancel:function(){return B(!1)},children:(0,a.jsx)(P.Z,{rowKey:"Name",toolBarRender:!1,columns:[{title:"\u540D\u79F0",dataIndex:"Name",render:function(b,l,W,y,A){return l.Name=="none"||l.Name=="bridge"||l.Name=="host"?(0,a.jsxs)(a.Fragment,{children:[l.Name," ",(0,a.jsx)(d.Z,{color:"blue",children:"System"})]}):(0,a.jsx)(a.Fragment,{children:b})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4 IPAM Network",search:!1,dataIndex:["IPAM","Config",0,"Subnet"],render:function(b,l,W,y,A){return(0,a.jsxs)(g.Z,{children:[l.IPAM.Config&&l.IPAM.Config[0]&&"".concat(l.IPAM.Config[0].Subnet," - ").concat(l.IPAM.Config[0].Gateway),l.IPAM.Config&&l.IPAM.Config[1]&&"".concat(l.IPAM.Config[1].Subnet," - ").concat(l.IPAM.Config[1].Gateway)]})}},{title:"\u64CD\u4F5C",width:100,search:!1,render:function(b,l,W,y,A){return[(0,a.jsx)(_.ZP,{type:"link",onClick:function(){var T;G({name:l.Name,alise:[((T=e.siteName)!==null&&T!==void 0?T:"")+".pod.dpanel.local"],subnet:l.IPAM.Config[0].Subnet}),B(!1)},children:(0,a.jsx)(m.Z,{})},l.Id)]}}],request:function(){var U=u()(r()().mark(function b(l,W,y){var A;return r()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,p.jR)({name:l.Name});case 2:return A=T.sent,T.abrupt("return",{data:A.data.list,success:!0,total:A.data.list.length});case 4:case"end":return T.stop()}},b)}));return function(b,l,W){return U.apply(this,arguments)}}(),pagination:{pageSize:10}})})]})});D.Z=c},80821:function(w,D,n){n.d(D,{Z:function(){return f}});var j=n(5574),r=n.n(j),M=n(93246),u=n(54006),i=n(31418),v=n(86738),p=n(14726),C=n(83062),m=n(67294),h=n(85893);function f(s){var E=(0,m.useState)(!1),I=r()(E,2),P=I[0],R=I[1],O=i.Z.useApp(),o=(0,u.useIntl)(),d=function(){R(!0),s.action().then(function(_){if(R(!1),typeof s.onSuccess=="function"&&s.onSuccess(_),s.messageSuccess){var t="";typeof s.messageSuccess=="function"?t=s.messageSuccess(_):t=s.messageSuccess,t.indexOf(".")>-1&&(t=o.formatMessage({id:t})),s.asynced?(0,M.Rk)(O,t):(0,M.$h)(O,t)}}).catch(function(_){R(!1),typeof s.onError=="function"&&s.onError(_)})};return s.confirm?(0,h.jsx)(v.Z,{style:{width:500},title:"\u63D0\u793A",description:s.confirm,onConfirm:d,okText:"Yes",cancelText:"No",children:(0,h.jsx)(p.ZP,{disabled:s.disabled,icon:s.icon,loading:P,danger:s.danger,type:s.type,children:s.children})}):(0,h.jsx)(C.Z,{title:s.tips,children:(0,h.jsx)(p.ZP,{disabled:s.disabled,icon:s.icon,loading:P,onClick:d,danger:s.danger,type:s.type,children:s.children})})}},78451:function(w,D,n){n.d(D,{Z:function(){return M}});var j=n(67294),r=n(85893);function M(u){return(0,r.jsx)("span",{style:{wordBreak:"break-word"},children:u.content})}},62597:function(w,D,n){n.d(D,{$G:function(){return v},Ct:function(){return R},Tb:function(){return h},XH:function(){return s},cl:function(){return C},iE:function(){return I},lK:function(){return g},xb:function(){return o}});var j=n(15009),r=n.n(j),M=n(99289),u=n.n(M),i=n(54006);function v(t){return p.apply(this,arguments)}function p(){return p=u()(r()().mark(function t(a){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("/api/app/site/create-by-image",{method:"POST",data:a}));case 1:case"end":return e.stop()}},t)})),p.apply(this,arguments)}function C(t){return m.apply(this,arguments)}function m(){return m=u()(r()().mark(function t(a){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("/api/app/site/get-list",{method:"POST",data:a}));case 1:case"end":return e.stop()}},t)})),m.apply(this,arguments)}function h(t){return f.apply(this,arguments)}function f(){return f=u()(r()().mark(function t(a){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.download=!1,e.next=3,(0,i.request)("/api/app/log/run",{method:"POST",data:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},t)})),f.apply(this,arguments)}function s(t){return E.apply(this,arguments)}function E(){return E=u()(r()().mark(function t(a){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.download=!0,e.next=3,(0,i.request)("/api/app/log/run",{method:"POST",data:a,responseType:"blob"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},t)})),E.apply(this,arguments)}function I(t){return P.apply(this,arguments)}function P(){return P=u()(r()().mark(function t(a){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.request)("/api/app/site/get-detail",{data:a,method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t)})),P.apply(this,arguments)}function R(t){return O.apply(this,arguments)}function O(){return O=u()(r()().mark(function t(a){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("/api/app/container/delete",{method:"POST",data:a}));case 1:case"end":return e.stop()}},t)})),O.apply(this,arguments)}function o(t){return d.apply(this,arguments)}function d(){return d=u()(r()().mark(function t(a){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("/api/app/site/delete",{method:"POST",data:a}));case 1:case"end":return e.stop()}},t)})),d.apply(this,arguments)}function g(t){return _.apply(this,arguments)}function _(){return _=u()(r()().mark(function t(a){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.request)("/api/app/site/update-title",{method:"POST",data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t)})),_.apply(this,arguments)}},2831:function(w,D,n){n.d(D,{a:function(){return v},d:function(){return C}});var j=n(15009),r=n.n(j),M=n(99289),u=n.n(M),i=n(54006);function v(){return p.apply(this,arguments)}function p(){return p=u()(r()().mark(function h(){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,i.request)("/api/common/home/info",{method:"POST"});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},h)})),p.apply(this,arguments)}function C(){return m.apply(this,arguments)}function m(){return m=u()(r()().mark(function h(){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,i.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},h)})),m.apply(this,arguments)}},14946:function(w,D,n){n.d(D,{CI:function(){return h},HY:function(){return o},IS:function(){return v},XY:function(){return I},_3:function(){return g},_x:function(){return s},jR:function(){return C},t9:function(){return R}});var j=n(15009),r=n.n(j),M=n(99289),u=n.n(M),i=n(54006);function v(t){return p.apply(this,arguments)}function p(){return p=u()(r()().mark(function t(a){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("/api/app/network/get-detail",{method:"POST",data:a}));case 1:case"end":return e.stop()}},t)})),p.apply(this,arguments)}function C(t){return m.apply(this,arguments)}function m(){return m=u()(r()().mark(function t(a){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("/api/app/network/get-list",{method:"POST",data:a}));case 1:case"end":return e.stop()}},t)})),m.apply(this,arguments)}function h(){return f.apply(this,arguments)}function f(){return f=u()(r()().mark(function t(){return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,i.request)("/api/app/network/prune",{method:"POST"});case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},t)})),f.apply(this,arguments)}function s(t){return E.apply(this,arguments)}function E(){return E=u()(r()().mark(function t(a){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.request)("/api/app/network/delete",{method:"POST",data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t)})),E.apply(this,arguments)}function I(t){return P.apply(this,arguments)}function P(){return P=u()(r()().mark(function t(a){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.request)("/api/app/network/create",{method:"POST",data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t)})),P.apply(this,arguments)}function R(t){return O.apply(this,arguments)}function O(){return O=u()(r()().mark(function t(a){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.request)("/api/app/network/disconnect",{method:"POST",data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t)})),O.apply(this,arguments)}function o(t){return d.apply(this,arguments)}function d(){return d=u()(r()().mark(function t(a){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.request)("/api/app/network/connect",{method:"POST",data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t)})),d.apply(this,arguments)}function g(t){return _.apply(this,arguments)}function _(){return _=u()(r()().mark(function t(a){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("/api/app/network/get-container-list",{method:"POST",data:a}));case 1:case"end":return e.stop()}},t)})),_.apply(this,arguments)}},60335:function(w,D,n){n.d(D,{IE:function(){return C},IW:function(){return v},KK:function(){return I},LJ:function(){return R},eE:function(){return s},jV:function(){return h}});var j=n(15009),r=n.n(j),M=n(99289),u=n.n(M),i=n(54006);function v(o){return p.apply(this,arguments)}function p(){return p=u()(r()().mark(function o(d){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,i.request)("/api/app/container/status",{method:"POST",data:d}));case 1:case"end":return _.stop()}},o)})),p.apply(this,arguments)}function C(o){return m.apply(this,arguments)}function m(){return m=u()(r()().mark(function o(d){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,i.request)("/api/app/container/get-list",{data:d,method:"POST"}));case 1:case"end":return _.stop()}},o)})),m.apply(this,arguments)}function h(o){return f.apply(this,arguments)}function f(){return f=u()(r()().mark(function o(d){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,i.request)("/api/app/container/get-detail",{data:d,method:"POST"}));case 1:case"end":return _.stop()}},o)})),f.apply(this,arguments)}function s(o){return E.apply(this,arguments)}function E(){return E=u()(r()().mark(function o(d){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,i.request)("/api/app/container/update",{data:d,method:"POST"}));case 1:case"end":return _.stop()}},o)})),E.apply(this,arguments)}function I(){return P.apply(this,arguments)}function P(){return P=u()(r()().mark(function o(){return r()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,i.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return g.stop()}},o)})),P.apply(this,arguments)}function R(o){return O.apply(this,arguments)}function O(){return O=u()(r()().mark(function o(d){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,i.request)("/api/app/container/export",{method:"POST",data:d,responseType:"blob"}));case 1:case"end":return _.stop()}},o)})),O.apply(this,arguments)}}}]);
