(self.webpackChunk=self.webpackChunk||[]).push([[1355],{23430:function(K,A,n){"use strict";n.d(A,{Z:function(){return p}});var v=n(87462),m=n(67294),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},R=P,O=n(84089),T=function(h,l){return m.createElement(O.Z,(0,v.Z)({},h,{ref:l,icon:R}))},y=m.forwardRef(T),p=y},88484:function(K,A,n){"use strict";n.d(A,{Z:function(){return p}});var v=n(87462),m=n(67294),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},R=P,O=n(84089),T=function(h,l){return m.createElement(O.Z,(0,v.Z)({},h,{ref:l,icon:R}))},y=m.forwardRef(T),p=y},52688:function(K,A,n){"use strict";var v=n(1413),m=n(45987),P=n(67294),R=n(35510),O=n(85893),T=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],y=P.forwardRef(function(p,x){var h=p.fieldProps,l=p.unCheckedChildren,s=p.checkedChildren,C=p.proFieldProps,i=(0,m.Z)(p,T);return(0,O.jsx)(R.Z,(0,v.Z)({valueType:"switch",fieldProps:(0,v.Z)({unCheckedChildren:l,checkedChildren:s},h),ref:x,valuePropName:"checked",proFieldProps:C,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},i))});A.Z=y},5966:function(K,A,n){"use strict";var v=n(97685),m=n(1413),P=n(45987),R=n(21770),O=n(72723),T=n(55241),y=n(97435),p=n(67294),x=n(35510),h=n(85893),l=["fieldProps","proFieldProps"],s=["fieldProps","proFieldProps"],C="text",i=function(_){var d=_.fieldProps,D=_.proFieldProps,B=(0,P.Z)(_,l);return(0,h.jsx)(x.Z,(0,m.Z)({valueType:C,fieldProps:d,filedConfig:{valueType:C},proFieldProps:D},B))},g=function(_){var d=(0,R.Z)(_.open||!1,{value:_.open,onChange:_.onOpenChange}),D=(0,v.Z)(d,2),B=D[0],$=D[1];return(0,h.jsx)(O.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(F){var c,w=F.getFieldValue(_.name||[]);return(0,h.jsx)(T.Z,(0,m.Z)((0,m.Z)({getPopupContainer:function(M){return M&&M.parentNode?M.parentNode:M},onOpenChange:function(M){return $(M)},content:(0,h.jsxs)("div",{style:{padding:"4px 0"},children:[(c=_.statusRender)===null||c===void 0?void 0:c.call(_,w),_.strengthText?(0,h.jsx)("div",{style:{marginTop:10},children:(0,h.jsx)("span",{children:_.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},_.popoverProps),{},{open:B,children:_.children}))}})},W=function(_){var d=_.fieldProps,D=_.proFieldProps,B=(0,P.Z)(_,s),$=(0,p.useState)(!1),H=(0,v.Z)($,2),F=H[0],c=H[1];return d!=null&&d.statusRender&&B.name?(0,h.jsx)(g,{name:B.name,statusRender:d==null?void 0:d.statusRender,popoverProps:d==null?void 0:d.popoverProps,strengthText:d==null?void 0:d.strengthText,open:F,onOpenChange:c,children:(0,h.jsx)("div",{children:(0,h.jsx)(x.Z,(0,m.Z)({valueType:"password",fieldProps:(0,m.Z)((0,m.Z)({},(0,y.Z)(d,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(j){var M;d==null||(M=d.onBlur)===null||M===void 0||M.call(d,j),c(!1)},onClick:function(j){var M;d==null||(M=d.onClick)===null||M===void 0||M.call(d,j),c(!0)}}),proFieldProps:D,filedConfig:{valueType:C}},B))})}):(0,h.jsx)(x.Z,(0,m.Z)({valueType:"password",fieldProps:d,proFieldProps:D,filedConfig:{valueType:C}},B))},b=i;b.Password=W,b.displayName="ProFormComponent",A.Z=b},89497:function(K,A,n){"use strict";n.r(A),n.d(A,{default:function(){return w}});var v=n(15009),m=n.n(v),P=n(99289),R=n.n(P),O=n(74026),T=n(77865),y=n(80821),p=n(66554),x=n(5251),h=n(67255),l=n(86548),s=n(23430),C=n(90078),i=n(78099),g=n(82346),W=n(50136),b=n(42075),L=n(66309),_=n(96074),d=n(25593),D=n(83062),B=n(67294),$=n(93162),H=n.n($),F=n(1699),c=n(85893);function w(){var j=(0,B.useRef)(),M=(0,B.useRef)(),G=(0,B.useRef)(),Q=(0,g.useAccess)();return(0,c.jsx)(C._z,{extra:[(0,c.jsx)(F.u,{access:"canSeeContainerDomainManage",children:(0,c.jsx)(O.Z,{ref:G,onFinish:function(){var r,o;!((r=j.current)===null||r===void 0)&&r.reloadAndRest&&((o=j.current)===null||o===void 0||o.reloadAndRest())}},"cert")},"cert"),(0,c.jsx)(F.u,{access:"canSeeContainerDomainManage",children:(0,c.jsx)(T.Z,{ref:M},"dns")},"dns")],children:(0,c.jsx)(i.Z,{actionRef:j,scroll:{x:"max-content"},tableExtraRender:function(){return(0,c.jsx)(W.Z,{mode:"horizontal",selectedKeys:["cert"],items:[{label:(0,c.jsx)(g.Link,{to:"/app/domain/list",replace:!0,children:"\u57DF\u540D\u7BA1\u7406"}),key:"domain"},{label:(0,c.jsx)(g.Link,{to:"/app/domain/cert",replace:!0,children:"\u8BC1\u4E66\u7BA1\u7406"}),key:"cert"}]})},rowKey:"mainDomain",columns:[{title:"\u57DF\u540D",render:function(r,o,a,t,f){return(0,c.jsx)(b.Z,{wrap:!0,children:o.domain.map(function(u,E){return(0,c.jsx)(L.Z,{color:E==0?"blue":"",children:u},u)})})}},{title:"\u72B6\u6001",search:!1,width:100,render:function(r,o,a,t,f){return o.inUse&&(0,c.jsx)(L.Z,{color:"cyan",children:"\u4F7F\u7528\u4E2D"},"use-".concat(a))}},{title:"CA",dataIndex:"CA",search:!1,width:200},{title:"\u521B\u5EFA\u65F6\u95F4",search:!1,width:180,render:function(r,o,a,t,f){return(0,x.NF)(o.createdAt)}},{title:"\u7EED\u7B7E\u65F6\u95F4",search:!1,width:180,render:function(r,o,a,t,f){return(0,x.NF)(o.renewAt)}},{title:"\u64CD\u4F5C",width:100,search:!1,fixed:"right",hidden:!Q.canSeeContainerDomainManage,render:function(r,o,a,t,f){return(0,c.jsxs)(b.Z,{split:(0,c.jsx)(_.Z,{type:"vertical"}),children:[(0,c.jsx)(d.Z.Link,{onClick:function(){var E;return(E=G.current)===null||E===void 0||E.edit(o),!0},children:(0,c.jsx)(D.Z,{title:"\u7F16\u8F91\u8BC1\u4E66",children:(0,c.jsx)(l.Z,{})})}),(0,c.jsx)(d.Z.Link,{onClick:R()(m()().mark(function u(){var E,S;return m()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,p.ll)({name:o.mainDomain});case 2:E=I.sent,S=new Blob([E],{type:"application/zip"}),(0,$.saveAs)(S,"cert-"+o.mainDomain+".zip");case 5:case"end":return I.stop()}},u)})),children:(0,c.jsx)(D.Z,{title:"\u4E0B\u8F7D",children:(0,c.jsx)(s.Z,{})})},"2")]})}}],request:R()(m()().mark(function e(){var r,o;return m()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,p.dZ)();case 2:return r=t.sent,t.next=5,(0,p.i7)();case 5:return o=t.sent,t.abrupt("return",{data:r.data.list&&r.data.list.map(function(f){var u=!1;return o&&o.data&&o.data.list.map(function(E){E.setting.certName==f.mainDomain&&(u=!0)}),f.inUse=u,f}),success:!0,total:r.data.list.length});case 7:case"end":return t.stop()}},e)})),pagination:(0,h.O)(),tableAlertOptionRender:function(r){var o=r.selectedRowKeys,a=r.selectedRows;return(0,c.jsx)(b.Z,{size:16,children:(0,c.jsx)(y.Z,{danger:!0,type:"primary",confirm:"notification.confirm.title",action:R()(m()().mark(function t(){var f;return m()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,p.KK)({name:o});case 2:return f=E.sent,E.abrupt("return",f);case 4:case"end":return E.stop()}},t)})),onSuccess:function(){var f,u;return!((f=j.current)===null||f===void 0)&&f.reloadAndRest&&((u=j.current)===null||u===void 0||u.reloadAndRest()),!0},onError:function(){var f,u;return!((f=j.current)===null||f===void 0)&&f.reset&&((u=j.current)===null||u===void 0||u.reset()),!0},children:"\u6279\u91CF\u5220\u9664"})})},rowSelection:Q.canSeeContainerDomainManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0})})}},66309:function(K,A,n){"use strict";n.d(A,{Z:function(){return Q}});var v=n(67294),m=n(93967),P=n.n(m),R=n(98423),O=n(98787),T=n(69760),y=n(96159),p=n(45353),x=n(53124),h=n(11568),l=n(10274),s=n(14747),C=n(83262),i=n(83559);const g=e=>{const{paddingXXS:r,lineWidth:o,tagPaddingHorizontal:a,componentCls:t,calc:f}=e,u=f(a).sub(o).equal(),E=f(r).sub(o).equal();return{[t]:Object.assign(Object.assign({},(0,s.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:u,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,h.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${t}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${t}-close-icon`]:{marginInlineStart:E,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${t}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${t}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:u}}),[`${t}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},W=e=>{const{lineWidth:r,fontSizeIcon:o,calc:a}=e,t=e.fontSizeSM;return(0,C.IX)(e,{tagFontSize:t,tagLineHeight:(0,h.bf)(a(e.lineHeightSM).mul(t).equal()),tagIconSize:a(o).sub(a(r).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},b=e=>({defaultBg:new l.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var L=(0,i.I$)("Tag",e=>{const r=W(e);return g(r)},b),_=function(e,r){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,a=Object.getOwnPropertySymbols(e);t<a.length;t++)r.indexOf(a[t])<0&&Object.prototype.propertyIsEnumerable.call(e,a[t])&&(o[a[t]]=e[a[t]]);return o},D=v.forwardRef((e,r)=>{const{prefixCls:o,style:a,className:t,checked:f,onChange:u,onClick:E}=e,S=_(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:V,tag:I}=v.useContext(x.E_),Y=J=>{u==null||u(!f),E==null||E(J)},N=V("tag",o),[k,q,Z]=L(N),ee=P()(N,`${N}-checkable`,{[`${N}-checkable-checked`]:f},I==null?void 0:I.className,t,q,Z);return k(v.createElement("span",Object.assign({},S,{ref:r,style:Object.assign(Object.assign({},a),I==null?void 0:I.style),className:ee,onClick:Y})))}),B=n(98719);const $=e=>(0,B.Z)(e,(r,o)=>{let{textColor:a,lightBorderColor:t,lightColor:f,darkColor:u}=o;return{[`${e.componentCls}${e.componentCls}-${r}`]:{color:a,background:f,borderColor:t,"&-inverse":{color:e.colorTextLightSolid,background:u,borderColor:u},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var H=(0,i.bk)(["Tag","preset"],e=>{const r=W(e);return $(r)},b);function F(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const c=(e,r,o)=>{const a=F(o);return{[`${e.componentCls}${e.componentCls}-${r}`]:{color:e[`color${o}`],background:e[`color${a}Bg`],borderColor:e[`color${a}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var w=(0,i.bk)(["Tag","status"],e=>{const r=W(e);return[c(r,"success","Success"),c(r,"processing","Info"),c(r,"error","Error"),c(r,"warning","Warning")]},b),j=function(e,r){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,a=Object.getOwnPropertySymbols(e);t<a.length;t++)r.indexOf(a[t])<0&&Object.prototype.propertyIsEnumerable.call(e,a[t])&&(o[a[t]]=e[a[t]]);return o};const G=v.forwardRef((e,r)=>{const{prefixCls:o,className:a,rootClassName:t,style:f,children:u,icon:E,color:S,onClose:V,bordered:I=!0,visible:Y}=e,N=j(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:k,direction:q,tag:Z}=v.useContext(x.E_),[ee,J]=v.useState(!0),ce=(0,R.Z)(N,["closeIcon","closable"]);v.useEffect(()=>{Y!==void 0&&J(Y)},[Y]);const re=(0,O.o2)(S),oe=(0,O.yT)(S),ne=re||oe,de=Object.assign(Object.assign({backgroundColor:S&&!ne?S:void 0},Z==null?void 0:Z.style),f),U=k("tag",o),[ue,ve,fe]=L(U),pe=P()(U,Z==null?void 0:Z.className,{[`${U}-${S}`]:ne,[`${U}-has-color`]:S&&!ne,[`${U}-hidden`]:!ee,[`${U}-rtl`]:q==="rtl",[`${U}-borderless`]:!I},a,t,ve,fe),ae=X=>{X.stopPropagation(),V==null||V(X),!X.defaultPrevented&&J(!1)},[,me]=(0,T.Z)((0,T.w)(e),(0,T.w)(Z),{closable:!1,closeIconRender:X=>{const Ee=v.createElement("span",{className:`${U}-close-icon`,onClick:ae},X);return(0,y.wm)(X,Ee,z=>({onClick:ie=>{var te;(te=z==null?void 0:z.onClick)===null||te===void 0||te.call(z,ie),ae(ie)},className:P()(z==null?void 0:z.className,`${U}-close-icon`)}))}}),he=typeof N.onClick=="function"||u&&u.type==="a",le=E||null,_e=le?v.createElement(v.Fragment,null,le,u&&v.createElement("span",null,u)):u,se=v.createElement("span",Object.assign({},ce,{ref:r,className:pe,style:de}),_e,me,re&&v.createElement(H,{key:"preset",prefixCls:U}),oe&&v.createElement(w,{key:"status",prefixCls:U}));return ue(he?v.createElement(p.Z,{component:"Tag"},se):se)});G.CheckableTag=D;var Q=G},93162:function(K,A,n){var v,m,P;(function(R,O){m=[],v=O,P=typeof v=="function"?v.apply(A,m):v,P!==void 0&&(K.exports=P)})(this,function(){"use strict";function R(l,s){return typeof s=="undefined"?s={autoBom:!1}:typeof s!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l}function O(l,s,C){var i=new XMLHttpRequest;i.open("GET",l),i.responseType="blob",i.onload=function(){h(i.response,s,C)},i.onerror=function(){console.error("could not download file")},i.send()}function T(l){var s=new XMLHttpRequest;s.open("HEAD",l,!1);try{s.send()}catch(C){}return 200<=s.status&&299>=s.status}function y(l){try{l.dispatchEvent(new MouseEvent("click"))}catch(C){var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(s)}}var p=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof n.g=="object"&&n.g.global===n.g?n.g:void 0,x=p.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=p.saveAs||(typeof window!="object"||window!==p?function(){}:"download"in HTMLAnchorElement.prototype&&!x?function(l,s,C){var i=p.URL||p.webkitURL,g=document.createElement("a");s=s||l.name||"download",g.download=s,g.rel="noopener",typeof l=="string"?(g.href=l,g.origin===location.origin?y(g):T(g.href)?O(l,s,C):y(g,g.target="_blank")):(g.href=i.createObjectURL(l),setTimeout(function(){i.revokeObjectURL(g.href)},4e4),setTimeout(function(){y(g)},0))}:"msSaveOrOpenBlob"in navigator?function(l,s,C){if(s=s||l.name||"download",typeof l!="string")navigator.msSaveOrOpenBlob(R(l,C),s);else if(T(l))O(l,s,C);else{var i=document.createElement("a");i.href=l,i.target="_blank",setTimeout(function(){y(i)})}}:function(l,s,C,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),typeof l=="string")return O(l,s,C);var g=l.type==="application/octet-stream",W=/constructor/i.test(p.HTMLElement)||p.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||g&&W||x)&&typeof FileReader!="undefined"){var L=new FileReader;L.onloadend=function(){var D=L.result;D=b?D:D.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=D:location=D,i=null},L.readAsDataURL(l)}else{var _=p.URL||p.webkitURL,d=_.createObjectURL(l);i?i.location=d:location.href=d,i=null,setTimeout(function(){_.revokeObjectURL(d)},4e4)}});p.saveAs=h.saveAs=h,K.exports=h})}}]);
