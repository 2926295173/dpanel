"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3831],{43831:function(G,K,n){var g=n(15009),M=n.n(g),Z=n(99289),b=n.n(Z),N=n(5574),S=n.n(N),v=n(67294),A=n(14946),y=n(43425),w=n(48689),R=n(38345),k=n(78099),p=n(42075),W=n(25593),s=n(83062),a=n(60335),_=n(78498),B=n(80821),$=n(10032),F=n(5251),T=n(28230),L=n(46442),C=n(78451),r=n(85893),f=(0,v.forwardRef)(function(i,e){var O;(0,v.useImperativeHandle)(e,function(){return{}});var c=(0,v.useRef)(),P=(0,v.useRef)(),x=(0,v.useState)(),h=S()(x,2),l=h[0],j=h[1];return(0,v.useEffect)(function(){var m,d;j(i.containerInfo),!((m=c.current)===null||m===void 0)&&m.reloadAndRest&&((d=c.current)===null||d===void 0||d.reloadAndRest())},[i.containerInfo]),(0,r.jsxs)(R.Z,{ghost:i.ghost,children:[(0,r.jsx)($.Z,{ref:P}),(0,r.jsx)(k.Z,{scroll:{x:"max-content"},rowKey:"key",actionRef:c,pagination:!1,columns:[{title:"\u6240\u5C5E\u7F51\u7EDC",key:"name",dataIndex:"networkName"},{title:"\u5BB9\u5668\u540D\u79F0",key:"containerName",dataIndex:"containerName",width:100,render:function(d,t,u,o,I){return(0,r.jsx)(C.Z,{content:(0,F.fi)(t.containerName,"/")})}},{title:(0,r.jsx)(_.Z,{title:"hostname",help:"\u63D0\u4F9B\u5BB9\u5668\u5185\u90E8\u8BBF\u95EE"}),key:"hostName",render:function(d,t,u){return t.hostName?(0,r.jsx)(p.Z,{direction:"vertical",children:t.hostName.map(function(o){if(o)return(0,r.jsx)(W.Z.Text,{copyable:!0,keyboard:!0,children:o},o)})}):(0,r.jsx)(r.Fragment,{})}},{title:"Ip",key:"ip",render:function(d,t,u,o,I){return(0,r.jsxs)(p.Z,{direction:"vertical",children:[(0,r.jsx)("span",{children:t.networkInfo.IPv4Address}),t.networkInfo.IPv6Address&&(0,r.jsx)("span",{children:t.networkInfo.IPv6Address})]})}},{title:"\u64CD\u4F5C",key:"option",width:50,fixed:"right",render:function(d,t,u,o,I){return(0,r.jsxs)(p.Z,{children:[t.networkName!=""&&(0,r.jsx)(W.Z.Link,{onClick:function(){var E;(E=P.current)===null||E===void 0||E.show(t.networkName)},children:(0,r.jsx)(s.Z,{title:"\u7BA1\u7406",children:(0,r.jsx)(y.Z,{})})}),t.key!="bridge"&&t.key!="none"&&t.key!="host"&&t.networkName!=""&&(0,r.jsx)(B.Z,{type:"link",action:function(){return(0,A.t9)({name:t.networkName,containerName:i.containerInfo.Name})},onSuccess:function(){var E,D;!((E=c.current)===null||E===void 0)&&E.reloadAndRest&&((D=c.current)===null||D===void 0||D.reloadAndRest())},tips:"\u9000\u51FA\u8BE5\u7F51\u7EDC",children:(0,r.jsx)(w.Z,{})})]})}}],request:function(){var m=b()(M()().mark(function d(t,u,o){var I,U;return M()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,a.jV)({md5:i.containerInfo.Name});case 2:return I=D.sent,j(I.data.info),D.next=6,(0,A._3)({name:Object.keys(I.data.info.NetworkSettings.Networks)});case 6:return U=D.sent,D.abrupt("return",{data:U.data.list,success:!0,total:U.data.list.length});case 8:case"end":return D.stop()}},d)}));return function(d,t,u){return m.apply(this,arguments)}}(),toolBarRender:function(){return[(0,r.jsx)(L.Z,{showTriggerButton:!0,onSelect:function(){var d=b()(M()().mark(function t(u){var o,I;return M()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,A.HY)({name:u.Name,containerName:i.containerInfo.Name,ipV4:""});case 2:I=E.sent,!((o=c.current)===null||o===void 0)&&o.reloadAndRest&&c.current.reloadAndRest();case 4:case"end":return E.stop()}},t)}));return function(t){return d.apply(this,arguments)}}()},"joinNetwork"),(0,r.jsx)(T.Z,{onFinish:function(){var t,u;!((t=c.current)===null||t===void 0)&&t.reloadAndRest&&((u=c.current)===null||u===void 0||u.reloadAndRest())}},"create")]},search:!1,expandable:{expandRowByClick:!1,expandedRowKeys:Object.keys((O=l==null?void 0:l.NetworkSettings.Networks)!==null&&O!==void 0?O:{bridge:[]})}})]})});K.Z=f},10032:function(G,K,n){var g=n(5574),M=n.n(g),Z=n(15009),b=n.n(Z),N=n(99289),S=n.n(N),v=n(80821),A=n(14946),y=n(48689),w=n(184),R=n(38345),k=n(60940),p=n(42075),W=n(96074),s=n(26412),a=n(67294),_=n(85893),B=(0,a.forwardRef)(function($,F){(0,a.useImperativeHandle)(F,function(){return{show:function(j){return S()(b()().mark(function m(){var d,t;return b()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,A.IS)({name:j});case 2:d=o.sent,d.data.info.Containers?(t=[],Object.keys(d.data.info.Containers).map(function(I){d.data.info.Containers[I].Id=I,t.push(d.data.info.Containers[I])}),h(t)):h([]),O(d.data.info),r(!0);case 6:case"end":return o.stop()}},m)}))()}}});var T=(0,a.useState)(!1),L=M()(T,2),C=L[0],r=L[1],f=(0,a.useState)(),i=M()(f,2),e=i[0],O=i[1],c=(0,a.useState)(),P=M()(c,2),x=P[0],h=P[1];return(0,_.jsx)(w.a,{title:"\u7F51\u7EDC\u8BE6\u60C5",open:C,onOpenChange:function(j){r(j)},submitter:!1,children:(0,_.jsxs)(R.Z,{ghost:!0,direction:"column",gutter:[10,0],children:[(0,_.jsx)(R.Z,{title:"\u7F51\u7EDC\u5185\u5BB9\u5668",ghost:!0,children:(0,_.jsx)(k.Z,{rowKey:"Id",columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"Name"},{title:"IPV4",dataIndex:"IPv4Address"},{title:"IPV6",dataIndex:"IPv6Address"},{title:"MacAddress",dataIndex:"MacAddress"},{title:"\u64CD\u4F5C",render:function(j,m,d){return(0,_.jsx)(p.Z,{split:(0,_.jsx)(W.Z,{type:"vertical"}),children:(0,_.jsx)(v.Z,{type:"text",action:function(){var u,o;return(0,A.t9)({name:(u=e==null?void 0:e.Id)!==null&&u!==void 0?u:"",containerName:(o=m.Id)!==null&&o!==void 0?o:""})},onSuccess:function(){var u=x==null?void 0:x.filter(function(o){return o.Id!=m.Id});h(u)},children:(0,_.jsx)(y.Z,{})},"delete")})}}],dataSource:x,pagination:!1})}),(0,_.jsx)(R.Z,{ghost:!0,title:"\u57FA\u7840\u4FE1\u606F",children:(0,_.jsxs)(s.Z,{labelStyle:{width:"180px"},column:1,bordered:!0,children:[(0,_.jsx)(s.Z.Item,{label:"\u540D\u79F0",children:e==null?void 0:e.Name}),(0,_.jsx)(s.Z.Item,{label:"Id",children:e==null?void 0:e.Id}),(0,_.jsx)(s.Z.Item,{label:"Driver",children:e==null?void 0:e.Driver}),(0,_.jsx)(s.Z.Item,{label:"Scope",children:e==null?void 0:e.Scope}),(0,_.jsx)(s.Z.Item,{label:"Attachable",children:e!=null&&e.Attachable?"\u662F":"\u5426"}),(0,_.jsx)(s.Z.Item,{label:"Internal",children:e!=null&&e.Internal?"\u662F":"\u5426"}),(e==null?void 0:e.IPAM.Config)&&(e==null?void 0:e.IPAM.Config.map(function(l){return(0,_.jsx)(s.Z.Item,{label:l.Gateway.includes(":")?"IPV6":"IPV4",children:(0,_.jsxs)(s.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:[(0,_.jsx)(s.Z.Item,{label:"Subnet",children:l.Subnet}),(0,_.jsx)(s.Z.Item,{label:"Gateway",children:l.Gateway}),(0,_.jsx)(s.Z.Item,{label:"IP Range ",children:l.IPRange}),(0,_.jsx)(s.Z.Item,{label:"Excluded IPs",children:l.AuxiliaryAddresses&&Object.keys(l.AuxiliaryAddresses).map(function(j){return l.AuxiliaryAddresses[j]+" ,"})})]})})})),(e==null?void 0:e.Options)&&Object.keys(e==null?void 0:e.Options).length>0&&(0,_.jsx)(s.Z.Item,{label:"Options",children:(0,_.jsx)(s.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Options).map(function(l){return(0,_.jsx)(s.Z.Item,{label:l,children:e.Options[l]},l)})})}),(e==null?void 0:e.Labels)&&Object.keys(e==null?void 0:e.Labels).length>0&&(0,_.jsx)(s.Z.Item,{label:"Lables",children:(0,_.jsx)(s.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Labels).map(function(l){return(0,_.jsx)(s.Z.Item,{label:l,children:e.Labels[l]},l)})})})]})})]})})});K.Z=B},46442:function(G,K,n){var g=n(15009),M=n.n(g),Z=n(99289),b=n.n(Z),N=n(5574),S=n.n(N),v=n(67294),A=n(14946),y=n(64789),w=n(78099),R=n(28036),k=n(85265),p=n(42075),W=n(66309),s=n(28230),a=n(85893),_=(0,v.forwardRef)(function(B,$){(0,v.useImperativeHandle)($,function(){return{show:function(){C(!0)}}});var F=(0,v.useState)(!1),T=S()(F,2),L=T[0],C=T[1],r=(0,v.useRef)();return(0,a.jsxs)(a.Fragment,{children:[B.showTriggerButton&&(0,a.jsx)(R.ZP,{onClick:function(){C(!0)},children:"\u52A0\u5165\u7F51\u7EDC"}),(0,a.jsx)(k.Z,{title:"\u9009\u62E9\u7F51\u7EDC",width:800,footer:!1,open:L,onClose:function(){return C(!1)},extra:(0,a.jsx)(p.Z,{children:(0,a.jsx)(s.Z,{onFinish:function(){var i,e;!((i=r.current)===null||i===void 0)&&i.reloadAndRest&&((e=r.current)===null||e===void 0||e.reloadAndRest())}},"create")}),children:(0,a.jsx)(w.Z,{rowKey:"Name",toolBarRender:!1,actionRef:r,columns:[{title:"\u540D\u79F0",dataIndex:"Name",render:function(i,e,O,c,P){return e.Name=="none"||e.Name=="bridge"||e.Name=="host"?(0,a.jsxs)(a.Fragment,{children:[e.Name," ",(0,a.jsx)(W.Z,{color:"blue",children:"System"})]}):(0,a.jsx)(a.Fragment,{children:i})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4 IPAM Network",search:!1,dataIndex:["IPAM","Config",0,"Subnet"],render:function(i,e,O,c,P){return(0,a.jsxs)(p.Z,{children:[e.IPAM.Config&&e.IPAM.Config[0]&&"".concat(e.IPAM.Config[0].Subnet," - ").concat(e.IPAM.Config[0].Gateway),e.IPAM.Config&&e.IPAM.Config[1]&&"".concat(e.IPAM.Config[1].Subnet," - ").concat(e.IPAM.Config[1].Gateway)]})}},{title:"\u64CD\u4F5C",width:100,search:!1,render:function(i,e,O,c,P){return[e.Name!="none"&&e.Name!="bridge"&&e.Name!="host"&&(0,a.jsx)(R.ZP,{type:"link",onClick:function(){B.onSelect(e),C(!1)},children:(0,a.jsx)(y.Z,{})},e.Id)]}}],request:function(){var f=b()(M()().mark(function i(e,O,c){var P;return M()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,A.jR)({name:e.Name});case 2:return P=h.sent,h.abrupt("return",{data:P.data.list,success:!0,total:P.data.list.length});case 4:case"end":return h.stop()}},i)}));return function(i,e,O){return f.apply(this,arguments)}}(),pagination:{pageSize:10}})})]})});K.Z=_}}]);
