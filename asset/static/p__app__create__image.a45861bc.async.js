"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3985],{99861:function(xe,te,u){var ie=u(15009),p=u.n(ie),he=u(64599),X=u.n(he),ae=u(99289),k=u.n(ae),ve=u(5574),A=u.n(ve),de=u(83062),_e=u(14726),r=u(42119),c=u(67294),H=u(92754),F=u(3393),pe=u(184),l=u(38345),T=u(85893),ue=(0,c.forwardRef)(function(s,b){(0,c.useImperativeHandle)(b,function(){return{}});var U=(0,c.useState)(0),v=A()(U,2),D=v[0],f=v[1],C=(0,c.useRef)();return(0,T.jsxs)(pe.a,{trigger:(0,T.jsx)(de.Z,{title:"\u5F53\u90E8\u7F72\u65F6\u65E0\u6CD5\u6B63\u5E38\u62C9\u53D6\u955C\u50CF\u65F6\uFF0C\u53EF\u4EE5\u624B\u52A8\u4F7F\u7528\u9762\u677F\u7684\u4ED3\u5E93\u52A0\u901F\u529F\u80FD\u62C9\u53D6\u6240\u6709\u955C\u50CF",children:(0,T.jsx)(_e.ZP,{children:s.title?s.title:"\u4E00\u952E\u62C9\u53D6\u955C\u50CF"})}),width:800,submitter:!1,title:"\u4E00\u952E\u62C9\u53D6\u955C\u50CF",onOpenChange:function(){var I=k()(p()().mark(function V(re){var q,j,E,G,Y,$,fe;return p()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(!re){x.next=25;break}j=0,E=X()(s.image),x.prev=3,E.s();case 5:if((G=E.n()).done){x.next=15;break}return $=G.value,f(j),(Y=C.current)===null||Y===void 0||Y.setStart(),x.next=11,(0,F.Gb)({tag:$,type:"pull"});case 11:fe=x.sent,j++;case 13:x.next=5;break;case 15:x.next=20;break;case 17:x.prev=17,x.t0=x.catch(3),E.e(x.t0);case 20:return x.prev=20,E.f(),x.finish(20);case 23:(q=C.current)===null||q===void 0||q.setFinish(),f(j);case 25:case"end":return x.stop()}},V,null,[[3,17,20,23]])}));return function(V){return I.apply(this,arguments)}}(),children:[(0,T.jsx)(l.Z,{children:(0,T.jsx)(r.Z,{current:D,items:s.image.map(function(I,V){return{title:I,key:V}})})}),(0,T.jsx)(l.Z,{children:(0,T.jsx)(H.Z,{ref:C})})]})});te.Z=ue},91058:function(xe,te,u){var ie=u(5574),p=u.n(ie),he=u(89035),X=u(38345),ae=u(17186),k=u(24739),ve=u(5966),A=u(83062),de=u(14726),_e=u(85576),r=u(67294),c=u(95089),H=u(85893),F="docker-image",pe=(0,r.forwardRef)(function(l,T){var ue=(0,r.useState)(F),s=p()(ue,2),b=s[0],U=s[1],v=(0,r.useRef)(),D=(0,r.useState)(""),f=p()(D,2),C=f[0],I=f[1],V=function(){b!="code"?U("code"):U(F)};(0,r.useImperativeHandle)(T,function(){return{addEnvItem:function(E,G){var Y,$=(Y=v.current)===null||Y===void 0?void 0:Y.getList(),fe=!1;if($==null||$.map(function(x){if(x.name==E){fe=!0;return}}),!fe){var e;(e=v.current)===null||e===void 0||e.add({name:E,value:G})}},clear:function(){var E;(E=v.current)===null||E===void 0||(E=E.getList())===null||E===void 0||E.map(function(G,Y){var $;($=v.current)===null||$===void 0||$.remove(Y)})}}});function re(j){try{for(var E,G,Y=(E=(G=v.current)===null||G===void 0||(G=G.getList())===null||G===void 0?void 0:G.length)!==null&&E!==void 0?E:0,$=Y;$>=0;$--){var fe;(fe=v.current)===null||fe===void 0||fe.remove($)}var e=j.split(`
`),x=0;e.map(function(Ie){var ge,oe=Ie.split("=");oe.length<2||((ge=v.current)===null||ge===void 0||ge.add({name:oe[0],value:oe.slice(1).join("=")},x),x++)})}catch(Ie){}}function q(){if(v){var j,E=(j=v.current)===null||j===void 0?void 0:j.getList();if(E){var G=[];return E.map(function(Y){G.push("".concat(Y.name,"=").concat(Y.value))}),G.join(`
`)}else return""}else return""}return(0,H.jsxs)(X.Z,{title:"\u73AF\u5883\u53D8\u91CF",headerBordered:!0,extra:(0,H.jsx)(A.Z,{title:"\u4EE3\u7801\u7F16\u8F91\u6A21\u5F0F",children:(0,H.jsx)(de.ZP,{icon:(0,H.jsx)(he.Z,{}),type:b=="code"?"primary":"default",onClick:V,children:"\u4EE3\u7801\u6A21\u5F0F"})}),children:[(0,H.jsx)(ae.u,{name:"environment",actionRef:v,creatorButtonProps:l.showAddButton?{creatorButtonText:"\u6DFB\u52A0\u5BB9\u5668\u73AF\u5883\u53D8\u91CF"}:!1,copyIconProps:!1,min:0,children:(0,H.jsxs)(k.UW,{children:[(0,H.jsx)(ve.Z,{width:l.showInDrawer?"sm":"md",name:"name",label:"\u53D8\u91CF\u540D",required:!0,rules:[{required:!0}],disabled:l.showDisableName,placeholder:"\u8F93\u5165\u53D8\u91CF\u540D\u79F0"}),(0,H.jsx)(ve.Z,{width:"md",name:"value",label:"\u53D8\u91CF\u503C",rules:[{required:!!l.requireValue}],placeholder:"\u8F93\u5165\u53D8\u91CF\u503C\uFF0C\u53EF\u4EE5\u4E3A\u7A7A"})]})}),(0,H.jsx)(_e.Z,{width:"800px",open:b=="code",onCancel:function(){return U("docker-image")},onOk:function(){re(C),U("docker-image")},children:(0,H.jsx)(c.ZP,{onChange:function(E){return I(E)},value:q(),height:"680px",theme:"light"})})]})});te.Z=pe},82034:function(xe,te,u){var ie=u(5574),p=u.n(ie),he=u(35880),X=u(38345),ae=u(52688),k=u(97462),ve=u(17186),A=u(24739),de=u(5966),_e=u(42075),r=u(67294),c=u(85893),H=(0,r.forwardRef)(function(F,pe){var l=(0,r.useState)(""),T=p()(l,2),ue=T[0],s=T[1],b=(0,r.useRef)(),U=(0,r.useContext)(he.Z),v=U.createFormRef;return(0,r.useImperativeHandle)(pe,function(){return{setExposePort:function(f){if(f){var C,I,V=(C=(I=b.current)===null||I===void 0?void 0:I.getList())!==null&&C!==void 0?C:[];Object.keys(f).map(function(re){var q=!1;if(V.map(function(E){E.dest==re&&(q=!0)}),!q){var j;(j=b.current)===null||j===void 0||j.add({host:"",dest:re})}})}},setHostname:function(f){s(f)},addPortItem:function(f,C){var I,V=(I=b.current)===null||I===void 0?void 0:I.getList(),re=!1;if(V==null||V.map(function(j){if(j.host==f){re=!0;return}}),!re){var q;(q=b.current)===null||q===void 0||q.add({host:f,dest:C})}}}}),(0,c.jsx)(X.Z,{title:"\u7ED1\u5B9A\u7AEF\u53E3",tooltip:"\u8BBF\u95EE\u7AEF\u53E3\u7559\u7A7A\u65F6\u968F\u673A\u751F\u6210\u7AEF\u53E3\uFF0C\u5168\u90E8\u5220\u9664\u5219\u8868\u793A\u4E0D\u66B4\u9732\u7AEF\u53E3",headerBordered:!0,extra:(0,c.jsxs)(_e.Z,{children:[F.showBindHost&&(0,c.jsx)(ae.Z,{name:"useHostNetwork",fieldProps:{checkedChildren:"\u7ED1\u5B9AHost\u7F51\u7EDC",unCheckedChildren:"\u7ED1\u5B9AHost\u7F51\u7EDC",onChange:function(f){if(f){var C;(C=v.current)===null||C===void 0||C.setFieldsValue({bindIpV6:!1,publishAllPorts:!1})}}}}),F.showBindIpV6&&(0,c.jsx)(k.Z,{name:["siteName","useHostNetwork"],children:function(f){var C=f.useHostNetwork;return(0,c.jsx)(ae.Z,{name:"publishAllPorts",fieldProps:{checkedChildren:"\u7ED1\u5B9A\u5168\u90E8\u7AEF\u53E3",unCheckedChildren:"\u7ED1\u5B9A\u5168\u90E8\u7AEF\u53E3"},disabled:C},"publishAllPorts")}}),F.showBindIpV6&&(0,c.jsx)(k.Z,{name:["siteName","useHostNetwork"],children:function(f){var C=f.useHostNetwork;return(0,c.jsx)(ae.Z,{name:"bindIpV6",fieldProps:{checkedChildren:"IpV6",unCheckedChildren:"IpV6"},disabled:C},"bindIpV6")}})]}),children:(0,c.jsx)(k.Z,{name:["useHostNetwork","bindIpV6","publishAllPorts"],children:function(f){var C=f.useHostNetwork,I=f.bindIpV6,V=f.publishAllPorts;if(!C&&!V)return(0,c.jsx)(ve.u,{name:"ports",actionRef:b,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BF9\u5916\u90E8\u8BBF\u95EE"},min:0,copyIconProps:!1,children:(0,c.jsxs)(A.UW,{children:[(0,c.jsx)(de.Z,{width:F.showInDrawer?"sm":"md",name:"host",label:"\u5916\u90E8\u8BBF\u95EE\u7AEF\u53E3",tooltip:"\u5BF9\u5916\u8BBF\u95EE\u53EF\u4EE5\u901A\u8FC7\u6DFB\u52A0\u8BBF\u95EE\u7AEF\u53E3\u6216\u662F\u521B\u5EFA\u5B8C\u6210\u540E\u5BF9\u5BB9\u5668\u7ED1\u5B9A\u57DF\u540D",placeholder:"\u7559\u7A7A\u5C06\u4F7F\u7528\u968F\u673A\u7AEF\u53E3\uFF0C\u7ED1\u5B9AIpV6\u5FC5\u586B",required:I,rules:[{required:I}]}),(0,c.jsx)(de.Z,{label:"\u5BB9\u5668\u5185\u7AEF\u53E3",width:F.showInDrawer?"sm":"md",name:"dest",placeholder:"\u6784\u5EFA\u65F6 Expose \u6307\u5B9A\u7684\u7AEF\u53E3",required:!0,rules:[{required:!0}]})]})})}})})});te.Z=H},92067:function(xe,te,u){u.d(te,{Z:function(){return pe}});var ie=u(15009),p=u.n(ie),he=u(99289),X=u.n(he),ae=u(60335),k=u(27496),ve=u(64789),A=u(10641),de=u(42075),_e=u(66309),r=u(60922),c=u(14726),H=u(67294),F=u(85893);function pe(l){return(0,F.jsx)(A.Z,{columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"names",render:function(ue,s,b,U){return(0,F.jsx)(de.Z,{direction:"vertical",style:{textAlign:"left"},children:s==null?void 0:s.Names.map(function(v){return v})},s.Id)}},{title:"\u7AEF\u53E3",dataIndex:"ports",search:!1,render:function(ue,s,b,U){return s!=null&&s.Ports?(0,F.jsx)(de.Z,{direction:"vertical",style:{textAlign:"left"},children:s==null?void 0:s.Ports.map(function(v,D){return(0,F.jsx)(_e.Z,{color:"#2db7f5",icon:v.PublicPort?(0,F.jsx)(k.Z,{}):"",children:"".concat(v.PublicPort?v.IP+":"+v.PublicPort+"->":"").concat(v.PrivatePort,"/").concat(v.Type)},D)})},s.Id):(0,F.jsx)(F.Fragment,{})}},{title:"\u8FD0\u884C\u5BB9\u5668",search:!1,render:function(ue,s,b,U){return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(r.Z.Text,{ellipsis:{tooltip:s.Image},children:s.Image},s.Id)})}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",ellipsis:!0,width:100,render:function(ue,s,b,U){return[(0,F.jsx)(c.ZP,{type:"link",onClick:function(){(0,ae.jV)({md5:s.Id}).then(function(D){return l.onSelect&&l.onSelect(D.data.info),!0})},children:(0,F.jsx)(ve.Z,{})},s.Id)]}}],rowKey:"Id",request:function(){var T=X()(p()().mark(function ue(s,b,U){return p()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",new Promise(function(f,C){(0,ae.IE)({tag:s.names}).then(function(I){var V={data:I.data.list,success:!0,total:I.data.list.length};f(V)})}));case 1:case"end":return D.stop()}},ue)}));return function(ue,s,b){return T.apply(this,arguments)}}(),pagination:{pageSize:5}})}},35880:function(xe,te,u){var ie=u(67294),p=(0,ie.createContext)({});te.Z=p},15107:function(xe,te,u){u.r(te),u.d(te,{default:function(){return ou}});var ie=u(15009),p=u.n(ie),he=u(99289),X=u.n(he),ae=u(5574),k=u.n(ae),ve=u(90078),A=u(38345),de=u(97269),_e=u(2236),r=u(5966),c=u(97462),H=u(64218),F=u(92398),pe=u(40056),l=u(67294),T=u(35880),ue=u(10641),s=u(62370),b=u(85576),U=u(42075),v=u(96074),D=u(60922),f=u(83062),C=u(71230),I=u(15746),V=u(14726),re=u(3393),q=u(18148),j=u(5251),E=u(64789),G=u(75162),Y=u(28307),$=u(78451),fe=u(99861),e=u(85893);function x(i){var N=(0,l.useState)(!1),M=k()(N,2),Z=M[0],o=M[1],g=(0,l.useRef)(),m=(0,l.useContext)(T.Z),h=m.createFormRef,w=m.volumeListRef,L=m.createEnvRef,_=m.domainRef,B=(0,l.useRef)(),ee=function(){var W=X()(p()().mark(function O(a){var S,ce,z,Q,d,se,me,Fe,le,K,R,t;return p()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return o(!1),J.next=3,(0,re.YU)({md5:a});case 3:d=J.sent,i.redeploy||(le=(se=h.current)===null||se===void 0?void 0:se.getFieldsValue(),(me=h.current)===null||me===void 0||me.resetFields(),(Fe=h.current)===null||Fe===void 0||Fe.setFieldsValue({siteName:le.siteName,siteTitle:le.siteTitle})),d.data.info.Config.Env&&d.data.info.Config.Env.map(function(ne){var P,Ee=ne.split("=");(P=L.current)===null||P===void 0||P.addEnvItem(Ee[0],Ee.slice(1).join("="))}),(S=h.current)===null||S===void 0||S.setFieldValue("imageName",a),(ce=h.current)===null||ce===void 0||ce.setFieldValue("workDir",d.data.info.Config.WorkingDir),(z=_.current)===null||z===void 0||z.setExposePort(d.data.info.Config.ExposedPorts),d.data.info.Config.Volumes?(R=[],Object.keys(d.data.info.Config.Volumes).map(function(ne,P){R.push(ne)}),(K=w.current)===null||K===void 0||K.setDefaultDestPath(R)):(t=w.current)===null||t===void 0||t.setDefaultDestPath([]),(Q=h.current)===null||Q===void 0||Q.setFieldsValue({workDir:{value:"",useDefault:!0,default:d.data.info.Config.WorkingDir},user:{value:"",useDefault:!0,default:d.data.info.Config.User},command:{value:"",useDefault:!0,default:d.data.info.Config.Cmd&&d.data.info.Config.Cmd.join(" ")},entrypoint:{value:"",useDefault:!0,default:d.data.info.Config.Entrypoint&&d.data.info.Config.Entrypoint.join(" ")}});case 11:case"end":return J.stop()}},O)}));return function(a){return W.apply(this,arguments)}}();return(0,l.useEffect)(function(){i.fromImageId&&ee(i.fromImageId)},[i.fromImageId]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(b.Z,{open:Z,width:1024,title:"\u9009\u62E9\u955C\u50CF",footer:!1,onCancel:function(){return o(!1)},children:(0,e.jsx)(ue.Z,{scroll:{x:"max-content"},columns:[{title:"Id",dataIndex:"Id",search:!1,width:200,render:function(O,a,S,ce,z){return(0,e.jsx)($.Z,{content:a.Id})}},{title:"\u955C\u50CF\u540D\u79F0",dataIndex:"tag",width:200,render:function(O,a,S,ce){return(0,e.jsx)($.Z,{content:a.RepoTags[0]})}},{title:"\u521B\u5EFA\u65E5\u671F",dataIndex:"Created",ellipsis:!0,search:!1,width:"180px",render:function(O,a,S,ce){return(0,e.jsx)("div",{children:(0,j.ZM)(a.Created*1e3)},a.Id)},sorter:function(O,a){return O.Created-a.Created}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:80,render:function(O,a,S,ce){return(0,e.jsxs)(U.Z,{split:(0,e.jsx)(v.Z,{type:"vertical"}),children:[(0,e.jsx)(D.Z.Link,{onClick:X()(p()().mark(function z(){return p()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",ee(a.RepoTags[0]));case 1:case"end":return d.stop()}},z)})),children:(0,e.jsx)(f.Z,{title:"\u4F7F\u7528\u955C\u50CF",children:(0,e.jsx)(E.Z,{})})},"addImage"),(0,e.jsx)(D.Z.Link,{onClick:X()(p()().mark(function z(){var Q;return p()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:a.RepoTags[0]&&((Q=B.current)===null||Q===void 0||Q.setImageName(a.RepoTags[0]));case 1:case"end":return se.stop()}},z)})),children:(0,e.jsx)(f.Z,{title:"\u66F4\u65B0\u955C\u50CF",children:(0,e.jsx)(G.Z,{})})},"updateImage")]})}}],request:function(){var W=X()(p()().mark(function O(a,S,ce){var z,Q,d,se,me;return p()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return i.redeploy&&(Q=(z=h.current)===null||z===void 0?void 0:z.getFieldValue("imageName"),a.tag=Q?Q.split(":")[0]:a.tag),le.next=3,(0,q.KG)({tag:a.tag});case 3:return d=le.sent,se=0,me=[],d.data.list&&(me=d.data.list.flatMap(function(K){return K.RepoTags.map(function(R){return{Key:se++,Id:K.Id,Created:K.Created,RepoTags:[R]}})})),le.abrupt("return",{data:me,success:!0,total:me.length});case 8:case"end":return le.stop()}},O)}));return function(O,a,S){return W.apply(this,arguments)}}(),toolBarRender:function(){return[(0,e.jsx)(Y.Z,{onClick:function(){o(!1)},buttonType:"primary",ref:B,onFinish:function(a){console.log(a),ee(a)}},"remote")]},formRef:g,rowKey:"Key",pagination:{pageSize:5}})},"imageTableList"),(0,e.jsxs)(C.Z,{children:[(0,e.jsx)(I.Z,{span:14,children:(0,e.jsx)(r.Z,{label:"\u955C\u50CF",tooltip:i.redeploy?"\u66F4\u65B0\u5BB9\u5668\u65F6,\u53EA\u53EF\u4EE5\u9009\u62E9\u8BE5\u955C\u50CF\u4E0B\u7684\u4E0D\u540Ctag.\u4E5F\u53EF\u4EE5\u5F3A\u5236\u66F4\u65B0\u5DF2\u90E8\u7F72tag,\u66F4\u6B21\u90E8\u7F72":"\u65B0\u5EFA\u5BB9\u5668\u65F6,\u53EF\u4EE5\u4F7F\u7528\u672C\u5730\u955C\u50CF,\u4E5F\u53EF\u4EE5\u4E0B\u8F7D\u5168\u65B0\u7684\u955C\u50CF\u6216\u662F\u66F4\u65B0\u672C\u5730\u955C\u50CF\u7684tag",name:"imageName",disabled:!0,placeholder:"\u8BF7\u9009\u62E9\u955C\u50CF\uFF0C\u5982\u679C\u662F\u8FDC\u7A0B\u955C\u50CF\u8BF7\u5148\u4E0B\u8F7D",rules:[{required:!0}],required:!0})}),(0,e.jsx)(I.Z,{children:(0,e.jsx)(s.Z,{label:" ",children:(0,e.jsxs)(U.Z,{children:[(0,e.jsx)(V.ZP,{type:"primary",onClick:function(){return o(!0)},children:i.redeploy?"\u66F4\u65B0\u955C\u50CF":"\u9009\u62E9\u955C\u50CF"},"showBtn"),(0,e.jsx)(c.Z,{name:["imageName"],children:function(O){var a=O.imageName;if(i.redeploy)return(0,e.jsx)(fe.Z,{image:[a],title:"\u66F4\u65B0\u5F53\u524D\u955C\u50CF"})}})]})})})]})]})}var Ie=u(60335),ge=u(24969),oe=u(24739),Ne=u(63434),Pe=u(17186),we=u(92067),Se=(0,l.forwardRef)(function(i,N){var M=(0,l.useState)(!1),Z=k()(M,2),o=Z[0],g=Z[1],m=(0,l.useRef)(),h=function(_){var B=(0,l.useState)([]),ee=k()(B,2),W=ee[0],O=ee[1];return(0,l.useEffect)(function(){(0,Ie.jV)({md5:_.name}).then(function(a){var S;return O((S=a.data.info.Config.Env)!==null&&S!==void 0?S:[]),!0})},[]),(0,e.jsxs)(A.Z,{bordered:!0,extra:_.action,style:{marginBottom:10},children:[(0,e.jsx)(A.Z,{title:"\u5173\u8054\u4FE1\u606F",children:(0,e.jsxs)(oe.UW,{children:[(0,e.jsx)(r.Z,{label:"\u5BB9\u5668\u540D\u79F0",name:"name",width:"md",readonly:!0}),(0,e.jsx)(r.Z,{label:"\u8BBF\u95EEHostName",name:"alise",width:"md",tooltip:"\u901A\u8FC7\u914D\u7F6E\u6B64\u540D\u79F0\uFF0C\u5728\u5BB9\u5668\u5185\u90E8\u8FDB\u884C\u8BF7\u6C42\u8BBF\u95EE"}),(0,e.jsx)(Ne.Z,{label:"\u5173\u8054\u5B58\u50A8",name:"volume"})]})}),(0,e.jsx)(A.Z,{title:"\u73AF\u5883\u53D8\u91CF",children:(0,e.jsx)(U.Z,{direction:"vertical",children:W&&W.map(function(a,S){return(0,e.jsx)(D.Z.Text,{copyable:{icon:(0,e.jsx)(ge.Z,{}),onCopy:function(){var z=a.split("=");i.onAddEnv(z[0],z[1])},tooltips:["add env","success"]},code:!0,ellipsis:{tooltip:a},style:{width:300},children:a},S)})},"linkEnv")})]})},w=function(_){var B,ee,W=!1,O=(B=(ee=m.current)===null||ee===void 0?void 0:ee.getList())!==null&&B!==void 0?B:[];if(O.map(function(S){S.name==_.name&&(W=!0)}),!W){var a;(a=m.current)===null||a===void 0||a.add(_)}};return(0,l.useImperativeHandle)(N,function(){return{setDefaultLink:function(_){_&&_.map(function(B){B.name!=""&&w(B)})}}}),(0,e.jsxs)(A.Z,{title:"\u5173\u8054\u5BB9\u5668",headerBordered:!0,children:[(0,e.jsx)(Pe.u,{name:"links",actionRef:m,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5173\u8054"},actionGuard:{beforeAddRow:function(_,B){return g(!0),!1}},copyIconProps:!1,min:0,itemRender:function(_,B){return(0,e.jsx)(h,{action:_.action,name:B.record.name})}}),(0,e.jsx)(b.Z,{title:"\u9009\u62E9\u5BB9\u5668",width:1024,footer:!1,open:o,onCancel:function(){return g(!1)},children:(0,e.jsx)(we.Z,{onSelect:function(_){w({name:_.Name,alise:_.Config.Hostname,volume:!1}),g(!1)}})})]})}),Ke=Se,ke=u(91058),ye=u(86615),be=u(64317),He=(0,l.forwardRef)(function(i,N){var M=(0,l.useRef)();return(0,l.useImperativeHandle)(N,function(){return{setDefaultDestPath:function(o){var g,m,h=(g=(m=M.current)===null||m===void 0?void 0:m.getList())!==null&&g!==void 0?g:[];o.length!=0&&o.filter(function(w){return w!=""}).map(function(w){var L=!1;if(h.map(function(B){if(B.dest==w){L=!0;return}}),!L){var _;(_=M.current)===null||_===void 0||_.add({dest:w,permission:"write",inImage:!0,edit:!1})}})}}}),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(A.Z,{title:"\u9ED8\u8BA4\u5B58\u50A8\uFF08Volume\uFF09",subTitle:"\u9ED8\u8BA4\u5B58\u50A8\u4E0E\u7AD9\u70B9\u6807\u8BC6\u4FDD\u6301\u4E00\u81F4",headerBordered:!0,children:(0,e.jsx)(Pe.u,{name:"volumesDefault",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u76EE\u5F55\u5230\u9ED8\u8BA4\u5B58\u50A8"},actionRef:M,copyIconProps:!1,min:0,children:function(o,g,m){var h=m.getCurrentRowData();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(r.Z,{width:"lg",name:"dest",label:"\u5BB9\u5668\u5185\u8DEF\u5F84",required:!0,rules:[{required:!0}],disabled:h.inImage}),(0,e.jsx)(ye.Z.Group,{hidden:!0,name:"inImage",label:"\u955C\u50CF\u5185\u6302\u8F7D",valueEnum:{1:"\u662F",0:"\u5426"}})]})}})}),(0,e.jsx)(A.Z,{title:"\u81EA\u5B9A\u4E49\u6302\u8F7D\u6216\u662F\u5B58\u50A8\u5377",tooltip:"\u6302\u8F7D\u53EF\u4EE5\u662F\u5BBF\u4E3B\u673A\u7684\u76EE\u5F55\u6216\u662F\u6587\u4EF6\uFF0C\u4E5F\u53EF\u4EE5\u6307\u5B9A\u5B58\u50A8\u5377\u540D\uFF08\u81EA\u52A8\u65B0\u5EFA\uFF09\u3002",headerBordered:!0,direction:"column",children:(0,e.jsx)(Pe.u,{name:"volumes",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u6620\u5C04\u76EE\u5F55"},copyIconProps:!1,min:0,children:(0,e.jsxs)(oe.UW,{children:[(0,e.jsxs)(U.Z.Compact,{children:[(0,e.jsx)(r.Z,{label:"\u5BBF\u4E3B\u673A\u6587\u4EF6\u3001\u76EE\u5F55\u6216\u5B58\u50A8\u5377",name:"host",width:"md",required:!0,rules:[{required:!0}]}),(0,e.jsx)(be.Z,{label:" ",valueEnum:{write:"\u8BFB\u5199",readonly:"\u53EA\u8BFB"},initialValue:"write",name:"permission"})]}),(0,e.jsx)(r.Z,{label:"\u5BB9\u5668\u5185\u8DEF\u5F84",name:"dest",width:"md",required:!0,rules:[{required:!0}]})]})})})]})}),Ge=He,$e=u(2831),Ue=u(86125);function ze(i){var N,M=(0,l.useState)(),Z=k()(M,2),o=Z[0],g=Z[1];return(0,l.useEffect)(function(){(0,$e.a)().then(function(m){return g(m.data.info)})},[]),(0,e.jsxs)(A.Z,{children:[(0,e.jsx)(r.Z,{label:"\u5171\u4EAB\u5185\u5B58\u5927\u5C0F - /dev/shm",name:"shmsize",initialValue:"64M",tooltip:"0 \u4E3A\u4F7F\u7528\u9ED8\u8BA464M"}),(0,e.jsx)(s.Z,{label:"\u6700\u5927Cpu\u914D\u989D",name:"cpus",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(Ue.Z,{step:.1,max:o==null?void 0:o.NCPU,marks:{0:"0",.5:"0.5\u6838",1:"1\u6838",1.5:"1.5\u6838",2:"2\u6838",4:"4\u6838",6:"6\u6838",8:"8\u6838"}})}),(0,e.jsx)(s.Z,{label:"\u6700\u5927\u5185\u5B58\u914D\u989D",name:"memory",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(Ue.Z,{step:256,max:Math.round(((N=o==null?void 0:o.MemTotal)!==null&&N!==void 0?N:0)/1024/1024),marks:{0:"0",1024:"1G",2048:"2G",3072:"3G",4096:"4G"}})}),(0,e.jsx)(be.Z,{label:"\u65E5\u5FD7\u7C7B\u578B",name:["log","driver"],tooltip:"\u9ED8\u8BA4\u4F7F\u7528 json-file \u9A71\u52A8\u7531 docker \u7EDF\u4E00\u7BA1\u7406\u3002\u91C7\u7528 journal \u65F6\u65E5\u5FD7\u5C06\u6765\u5BBF\u4E3B\u673A\u7BA1\u7406",initialValue:"json-file",valueEnum:{"json-file":"json-file",journald:"journal (\u5BBF\u4E3B\u9700\u8981\u5B89\u88C5journal\u670D\u52A1)"}}),(0,e.jsx)(c.Z,{name:["log"],children:function(h){var w=h.log;if(w.driver=="json-file")return(0,e.jsxs)(oe.UW,{children:[(0,e.jsx)(r.Z,{label:"\u65E5\u5FD7\u5207\u5272\u5C3A\u5BF8",name:["log","maxSize"],placeholder:"\u4F8B\u5982\uFF1A10k,5M",tooltip:"\u9ED8\u8BA4 Docker \u5E76\u4E0D\u4F1A\u81EA\u52A8\u5207\u5272\u65E5\u5FD7"}),(0,e.jsx)(r.Z,{tooltip:"\u9ED8\u8BA4 Docker \u5E76\u4E0D\u4F1A\u81EA\u52A8\u6E05\u7406\u65E5\u5FD7\u6587\u4EF6",label:"\u4FDD\u7559\u65E5\u5FD7\u6587\u4EF6\u6570",name:["log","maxFile"],placeholder:"\u4F8B\u5982\uFF1A10"})]})}})]})}function Ye(){return(0,e.jsx)(A.Z,{children:(0,e.jsx)(Pe.u,{name:"label",label:"\u5BB9\u5668\u6807\u7B7E",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BB9\u5668\u6807\u7B7E"},copyIconProps:!1,min:0,children:(0,e.jsxs)(oe.UW,{children:[(0,e.jsx)(r.Z,{width:"md",name:"name",label:"\u540D\u79F0",placeholder:""}),(0,e.jsx)(r.Z,{width:"md",name:"value",label:"\u503C",placeholder:""})]})})})}var Ze=u(52688),Je=u(44771),su="default",lu="user";function Qe(i){return(0,e.jsx)(s.Z,{label:i.label,tooltip:i.tooltip,children:(0,e.jsxs)(U.Z.Compact,{block:!0,children:[(0,e.jsx)(ye.Z.Group,{radioType:"button",name:[i.name,"useDefault"],options:[{label:"\u4F7F\u7528\u9ED8\u8BA4",value:!0},{label:"\u81EA\u5B9A\u4E49",value:!1}]}),(0,e.jsx)(c.Z,{name:[i.name],children:function(M){return M[i.name]&&M[i.name].useDefault?(0,e.jsx)(r.Z,{name:[i.name,"default"],disabled:!0,placeholder:"\u672A\u8BBE\u7F6E"}):(0,e.jsx)(r.Z,{name:[i.name,"value"]})}})]})})}var Oe=Qe;function Xe(){return(0,e.jsxs)(A.Z,{children:[(0,e.jsx)(Je.Z,{label:"\u91CD\u542F\u7B56\u7565"}),(0,e.jsxs)(oe.UW,{children:[(0,e.jsx)(Ze.Z,{name:"privileged",label:"\u8D4B\u4E88\u5BB9\u5668Root\u6743\u9650",initialValue:!1}),(0,e.jsx)(Ze.Z,{name:"autoRemove",label:"\u505C\u6B62\u540E\u81EA\u52A8\u5220\u9664",initialValue:!1})]}),(0,e.jsx)(Oe,{label:"\u5DE5\u4F5C\u76EE\u5F55",tooltip:"\u9ED8\u8BA4\u4F7F\u7528\u955C\u50CF\u4E2D\u6307\u5B9A\u7684\u5DE5\u4F5C\u76EE\u5F55",name:"workDir"}),(0,e.jsx)(Oe,{label:"User",tooltip:"\u5728\u5BB9\u5668\u4E2D\u8FD0\u884C\u547D\u4EE4\u7684\u7528\u6237",name:"user"}),(0,e.jsx)(Oe,{label:"Command",tooltip:"\u542F\u52A8\u5BB9\u5668\u65F6\u8FD0\u884C\u7684\u547D\u4EE4\uFF0C\u4EE5\u7A7A\u683C\u5206\u9694",name:"command"}),(0,e.jsx)(Oe,{label:"Entrypoint",tooltip:"\u65E0\u6CD5\u8986\u76D6\u955C\u50CF\u4E2D\u5DF2\u7ECF\u6307\u5B9A\u7684 Entrypoint \u547D\u4EE4",name:"entrypoint"})]})}var qe=u(91845),We=u(62597),Le=u(54006),eu=u(4798),uu=u(82034);function je(i){return(0,e.jsx)("div",{style:{display:i.show?"block":"none"},children:i.children})}function nu(){var i=(0,l.useRef)(),N=function(o){var g,m,h=!1,w=(g=(m=i.current)===null||m===void 0?void 0:m.getList())!==null&&g!==void 0?g:[];if(w.map(function(_){_.name==o.name&&(h=!0)}),!h){var L;(L=i.current)===null||L===void 0||L.add(o)}},M=function(o){var g,m,h=!1,w=(g=(m=i.current)===null||m===void 0?void 0:m.getList())!==null&&g!==void 0?g:[];w.map(function(L,_){if(L.name==o){var B;(B=i.current)===null||B===void 0||B.remove(_)}})};return(0,e.jsx)(A.Z,{title:"\u5173\u8054\u5BBF\u4E3B\u7F51\u7EDC\u4E3B\u673A",tooltip:"\u5BB9\u5668\u5185\u5982\u679C\u9700\u8981\u8BF7\u6C42\u5BBF\u4E3B\u673A\u6240\u5728\u7684\u7F51\u7EDC\u4E2D\u7684\u4E3B\u673A\uFF0C\u53EF\u4EE5\u901A\u8FC7\u6B64\u914D\u7F6E\u5C06Ip\u6CE8\u5165\u5230\u5BB9\u5668\u4E2D",extra:(0,e.jsx)(U.Z,{children:(0,e.jsx)(Ze.Z,{name:"enableBindHost",fieldProps:{checkedChildren:"\u7ED1\u5B9A\u5BBF\u4E3B\u673AIp",unCheckedChildren:"\u7ED1\u5B9A\u5BBF\u4E3B\u673AIp",onChange:function(o){o?N({name:"host.dpanel.local",value:"host-gateway"}):M("host.dpanel.local")}}})}),children:(0,e.jsx)(Pe.u,{name:"extraHosts",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BBF\u4E3B\u673A\u7F51\u7EDC\u5173\u8054"},actionRef:i,copyIconProps:!1,min:0,children:(0,e.jsxs)(oe.UW,{children:[(0,e.jsx)(r.Z,{width:"md",name:"name",label:"Hostname",placeholder:""}),(0,e.jsx)(r.Z,{width:"md",name:"value",label:"ip",placeholder:""})]})})})}var tu=u(90672),au=(0,l.forwardRef)(function(i,N){return(0,l.useImperativeHandle)(N,function(){return{}}),(0,e.jsxs)(A.Z,{title:"\u7F51\u7EDC\u914D\u7F6E",children:[(0,e.jsxs)(oe.UW,{children:[(0,e.jsx)(r.Z,{label:"\u914D\u7F6E ipV4 \u5730\u5740",name:["ipV4","address"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u5730\u5740\uFF0C\u4F8B\u5982 192.168.1.5",placeholder:"192.168.1.5"}),(0,e.jsx)(c.Z,{name:["ipV4"],children:function(Z){var o=Z.ipV4;return(0,e.jsx)(r.Z,{label:"\u914D\u7F6E ipV4 \u5B50\u7F51",name:["ipV4","subnet"],width:"md",required:o&&o.address,tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u6240\u5728\u7684\u5B50\u7F51\uFF0C\u4F8B\u5982 192.168.1.0/24",placeholder:"192.168.1.0/24",rules:[{required:o&&o.address}]})}}),(0,e.jsx)(r.Z,{label:"\u914D\u7F6E ipV4 \u7F51\u5173",name:["ipV4","gateway"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u7684\u7F51\u5173\uFF0C\u4F8B\u5982 192.168.1.1",placeholder:"192.168.1.1"}),(0,e.jsx)(Ze.Z,{label:"\u81EA\u5B9A\u4E49ipV6",name:"enableIpV6Address"})]}),(0,e.jsx)(c.Z,{name:["enableIpV6Address"],children:function(Z){var o=Z.enableIpV6Address;if(o)return(0,e.jsxs)(oe.UW,{children:[(0,e.jsx)(r.Z,{label:"\u914D\u7F6E ipV6 \u5730\u5740",name:["ipV6","address"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipV6\u5730\u5740\uFF0C\u4F8B\u5982 2001:db8::5",placeholder:"2001:db8::5"}),(0,e.jsx)(c.Z,{name:["ipV6"],children:function(m){var h=m.ipV6;return(0,e.jsx)(r.Z,{label:"\u914D\u7F6E ipV6 \u5B50\u7F51",name:["ipV6","subnet"],width:"md",required:h&&h.address,tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u6240\u5728\u7684\u5B50\u7F51\uFF0C\u4F8B\u5982 2001:db8::/48",placeholder:"2001:db8::/48",rules:[{required:h&&h.address}]})}}),(0,e.jsx)(r.Z,{label:"\u914D\u7F6E ipV6 \u7F51\u5173",name:["ipV6","gateway"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipV6\u7684\u7F51\u5173\uFF0C\u4F8B\u5982 2001:db8::1",placeholder:"2001:db8::1"})]})}}),(0,e.jsx)(tu.Z,{label:"DNS\u914D\u7F6E",name:"dns",placeholder:"\u8BF7\u6307\u5B9Adns\u5730\u5740\uFF0C\u4F8B\u5982\uFF1A8.8.8.8\uFF0C\u4E00\u884C\u6DFB\u4E00\u6761dns\u5730\u5740"})]})}),ru=au,Ae="update",Ve="copy",Re="new";function ou(){var i,N,M,Z=(0,l.useContext)(T.Z),o=Z.createFormRef,g=Z.volumeListRef,m=Z.domainRef,h=Z.createEnvRef,w=Z.createLinkRef,L=(0,l.useState)(Re),_=k()(L,2),B=_[0],ee=_[1],W=(0,Le.useSearchParams)(),O=k()(W,2),a=O[0],S=O[1],ce=(0,Le.useNavigate)(),z=(0,l.useState)("basic"),Q=k()(z,2),d=Q[0],se=Q[1],me=parseInt((i=a.get("id"))!==null&&i!==void 0?i:""),Fe=(N=a.get("containerId"))!==null&&N!==void 0?N:"",le=(M=a.get("imageId"))!==null&&M!==void 0?M:"";return(0,l.useEffect)(function(){if(Fe||me)(0,We.iE)({md5:Fe,id:me}).then(function(){var R=X()(p()().mark(function t(n){var J,ne,P,Ee,Be,Te,Me;return p()().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:if(P={info:{},layer:[]},!n.data.env.imageName){De.next=6;break}return De.next=4,(0,re.YU)({md5:n.data.env.imageName});case 4:Ee=De.sent,P=Ee.data;case 6:a.get("op")==Ve?ee(Ve):ee(Ae),n.data.env.network&&n.data.env.network.map(function(y){return!y.alise&&y.name!="bridge"&&(y.alise=[n.data.siteName+".pod.dpanel.local"]),y}),n.data.env.ports&&n.data.env.ports.map(function(y){return y.host=="0"&&(y.host=""),y}),Be=n.data.env.bindIpV6,n.data.containerInfo.Info&&n.data.containerInfo.Info.NetworkSettings.Networks&&Object.keys(n.data.containerInfo.Info.NetworkSettings.Networks).map(function(y){n.data.env.network&&(n.data.env.network=n.data.env.network.map(function(Ce){return y==Ce.name&&(Ce.subnet=n.data.containerInfo.Info.NetworkSettings.Networks[y].IPAddress+"/"+n.data.containerInfo.Info.NetworkSettings.Networks[y].IPPrefixLen),Ce})),n.data.containerInfo.Info.NetworkSettings.Networks[y].IPv6Gateway!=""&&(Be=!0)}),n.data.env.extraHosts&&n.data.env.extraHosts.map(function(y){if(y.value=="host-gateway"){var Ce;(Ce=o.current)===null||Ce===void 0||Ce.setFieldValue("enableBindHost",!0)}}),Te=n.data.env.ports,n.data.env.ports&&(Te=n.data.env.ports.map(function(y){return y.host=(y.hostIp?y.hostIp+":":"")+y.host,y})),(J=o.current)===null||J===void 0||J.setFieldsValue({imageName:n.data.env.imageName,privileged:n.data.env.privileged,bindIpV6:n.data.env.useHostNetwork?!1:Be,useHostNetwork:n.data.env.useHostNetwork,publishAllPorts:n.data.env.useHostNetwork?!1:n.data.env.publishAllPorts,workDir:{value:n.data.env.workDir,useDefault:!n.data.env.workDir,default:P&&P.info.Config.WorkingDir},user:{value:n.data.env.user,useDefault:!n.data.env.user,default:P&&P.info.Config.User},command:{value:n.data.env.command,useDefault:!n.data.env.command,default:P&&P.info.Config.Cmd&&P.info.Config.Cmd.join(" ")},entrypoint:{value:n.data.env.entrypoint,useDefault:!n.data.env.entrypoint,default:P&&P.info.Config.Entrypoint&&P.info.Config.Entrypoint.join(" ")},shmsize:(ne=n.data.env.shmsize)!==null&&ne!==void 0?ne:"64M",cpus:n.data.env.cpus,memory:n.data.env.memory,environment:n.data.env.environment,label:n.data.env.label,volumesDefault:n.data.env.volumesDefault,volumes:n.data.env.volumes,ports:Te,links:n.data.env.links,network:n.data.env.network,restart:n.data.env.restart,extraHosts:n.data.env.extraHosts,autoRemove:n.data.env.autoRemove,log:n.data.env.log,dns:n.data.env.dns&&n.data.env.dns.join(`
`),ipV4:n.data.env.ipV4,ipV6:n.data.env.ipV6}),a.get("op")==Ae&&((Me=o.current)===null||Me===void 0||Me.setFieldsValue({siteTitle:n.data.siteTitle,siteName:n.data.siteName}));case 16:case"end":return De.stop()}},t)}));return function(t){return R.apply(this,arguments)}}());else{var K;ee(Re),(K=o.current)===null||K===void 0||K.resetFields()}},[a]),(0,e.jsx)(ve._z,{children:(0,e.jsx)(A.Z,{direction:"column",gutter:[0,10],children:(0,e.jsxs)(de.A,{submitter:{render:function(R,t){return(0,e.jsx)(_e.S,{children:t})}},formRef:o,onFinish:function(){var K=X()(p()().mark(function R(t){var n,J,ne,P;return p()().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return console.log(t),P={siteTitle:t.siteTitle,siteName:t.siteName,imageName:t.imageName,environment:t.environment,links:t.links,ports:t.ports,volumes:t.volumes,volumesDefault:t.volumesDefault,network:t.network,privileged:(n=t.privileged)!==null&&n!==void 0?n:!1,autoRemove:(J=t.autoRemove)!==null&&J!==void 0?J:!1,restart:t.restart,cpus:t.cpus,memory:t.memory,shmsize:(ne=t.shmsize)!==null&&ne!==void 0?ne:0,workDir:t.workDir&&!t.workDir.useDefault?t.workDir.value:"",user:t.user&&!t.user.useDefault?t.user.value:"",command:t.command&&!t.command.useDefault?t.command.value:"",entrypoint:t.entrypoint&&!t.entrypoint.useDefault?t.entrypoint.value:"",useHostNetwork:t.useHostNetwork,bindIpV6:t.bindIpV6,log:t.log,dns:t.dns&&t.dns!=""?t.dns.split(`
`):[],label:t.label,publishAllPorts:t.publishAllPorts,extraHosts:t.extraHosts,ipV4:t.ipV4,ipV6:t.ipV6},Fe&&B==Ae&&(P.containerId=Fe),Be.next=5,(0,We.$G)(P);case 5:return ce("/app/list"),Be.abrupt("return",!0);case 7:case"end":return Be.stop()}},R)}));return function(R){return K.apply(this,arguments)}}(),children:[(0,e.jsxs)(A.Z,{title:"\u57FA\u7840\u4FE1\u606F",headerBordered:!0,children:[(0,e.jsx)(r.Z,{name:"siteTitle",label:"\u7AD9\u70B9\u540D\u79F0",required:!0,rules:[{required:!0}],fieldProps:{onChange:function(R){var t="";if(R.target.value&&B!=Ae){var n,J=(0,qe.N9)(R.target.value.trim(),{toneType:"none",type:"array"});t=J.join(""),(n=o.current)===null||n===void 0||n.setFieldValue("siteName",t)}}},placeholder:"\u8BF7\u8F93\u5165\u7AD9\u70B9\u540D\u79F0"}),(0,e.jsx)(r.Z,{name:"siteName",label:"\u7AD9\u70B9\u6807\u8BC6",tooltip:"\u7AD9\u70B9\u552F\u4E00\u6807\u8BC6\uFF0C\u7528\u4E8E\u6807\u8BC6\u7AD9\u70B9\u548C\u5185\u90E8\u8BBF\u95EE",required:!0,disabled:B==Ae,rules:[{required:!0}],placeholder:"\u8BF7\u8F93\u5165\u7AD9\u70B9\u540D\u79F0"}),(0,e.jsx)(x,{redeploy:B!=Re,fromImageId:le})]}),(0,e.jsx)(H.Z,{offsetTop:50,children:(0,e.jsx)(A.Z,{style:{marginBottom:-20},children:(0,e.jsx)(F.Z,{activeKey:d,onChange:function(R){se(R),window.scrollTo(0,450)},items:[{label:"\u57FA\u672C\u914D\u7F6E",key:"basic"},{label:"\u5173\u8054\u914D\u7F6E",key:"link"},{label:"\u5B58\u50A8\u914D\u7F6E",key:"storage"},{label:"\u542F\u52A8\u914D\u7F6E",key:"run-command"},{label:"\u8D44\u6E90\u914D\u7F6E",key:"resource"},{label:"\u5176\u5B83",key:"other"}]})})}),(0,e.jsxs)(je,{show:d=="basic",children:[(0,e.jsx)(uu.Z,{ref:m,showBindHost:!0,showBindIpV6:!0}),(0,e.jsx)(ke.Z,{showAddButton:!0,ref:h}),(0,e.jsx)(c.Z,{name:["siteName","useHostNetwork"],children:function(R){var t=R.siteName,n=R.useHostNetwork;if(!n)return(0,e.jsx)(ru,{})}})]}),(0,e.jsx)(je,{show:d=="link",children:(0,e.jsx)(c.Z,{name:["siteName","useHostNetwork"],children:function(R){var t=R.siteName,n=R.useHostNetwork;return n?(0,e.jsx)(pe.Z,{showIcon:!0,description:"\u7ED1\u5B9A\u5230\u5BBF\u4E3B\u673A\u7F51\u7EDC\u65F6\uFF0C\u65E0\u6CD5\u901A\u8FC7 Docker \u5173\u8054\u5176\u5B83\u5BB9\u5668\u3002\u8BF7\u4F7F\u7528\u5BBF\u4E3B\u673A\u5185\u7F51IP\u6216\u662F127.0.0.1\u4E92\u8054\u5BB9\u5668\u66B4\u9732\u7AEF\u53E3\u3002"}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ke,{onAddEnv:function(ne,P){var Ee;(Ee=h.current)===null||Ee===void 0||Ee.addEnvItem(ne,P)},ref:w}),(0,e.jsx)(eu.Z,{siteName:t}),(0,e.jsx)(nu,{})]})}})}),(0,e.jsx)(je,{show:d=="storage",children:(0,e.jsx)(Ge,{ref:g})}),(0,e.jsx)(je,{show:d=="run-command",children:(0,e.jsx)(Xe,{})}),(0,e.jsx)(je,{show:d=="resource",children:(0,e.jsx)(ze,{})}),(0,e.jsx)(je,{show:d=="other",children:(0,e.jsx)(Ye,{})})]},"form")})})}}}]);
