(self.webpackChunk=self.webpackChunk||[]).push([[8022],{91806:function(U,P,e){"use strict";e.d(P,{Z:function(){return r}});var g=e(87462),l=e(67294),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V687h97.9c11.6 32.8 32 62.3 59.1 84.7 34.5 28.5 78.2 44.3 123 44.3s88.5-15.7 123-44.3c27.1-22.4 47.5-51.9 59.1-84.7H792v-63H643.6l-5.2 24.7C626.4 708.5 573.2 752 512 752s-114.4-43.5-126.5-103.3l-5.2-24.7H232V136h560v752zM320 341h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 160h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"container",theme:"outlined"},_=f,O=e(84089),m=function(j,n){return l.createElement(O.Z,(0,g.Z)({},j,{ref:n,icon:_}))},C=l.forwardRef(m),r=C},2741:function(U,P,e){"use strict";e.d(P,{Z:function(){return r}});var g=e(87462),l=e(67294),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z"}}]},name:"file",theme:"filled"},_=f,O=e(84089),m=function(j,n){return l.createElement(O.Z,(0,g.Z)({},j,{ref:n,icon:_}))},C=l.forwardRef(m),r=C},93613:function(U,P,e){"use strict";e.d(P,{Z:function(){return r}});var g=e(87462),l=e(67294),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32z"}}]},name:"folder",theme:"filled"},_=f,O=e(84089),m=function(j,n){return l.createElement(O.Z,(0,g.Z)({},j,{ref:n,icon:_}))},C=l.forwardRef(m),r=C},27254:function(U,P,e){"use strict";e.d(P,{Z:function(){return r}});var g=e(87462),l=e(67294),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zm-180 0H238c-13 0-24.8 7.9-29.7 20L136 643.2V256h188.5l119.6 114.4H748V444z"}}]},name:"folder-open",theme:"filled"},_=f,O=e(84089),m=function(j,n){return l.createElement(O.Z,(0,g.Z)({},j,{ref:n,icon:_}))},C=l.forwardRef(m),r=C},36693:function(U,P,e){"use strict";var g=e(87462),l=e(67294),f=e(80111),_=e(84089),O=function(r,v){return l.createElement(_.Z,(0,g.Z)({},r,{ref:v,icon:f.Z}))},m=l.forwardRef(O);P.Z=m},64789:function(U,P,e){"use strict";e.d(P,{Z:function(){return r}});var g=e(87462),l=e(67294),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},_=f,O=e(84089),m=function(j,n){return l.createElement(O.Z,(0,g.Z)({},j,{ref:n,icon:_}))},C=l.forwardRef(m),r=C},44349:function(U,P,e){"use strict";var g=e(97857),l=e.n(g),f=e(17186),_=e(5966),O=e(86250),m=e(67294),C=e(85893),r=(0,m.forwardRef)(function(v,j){var n=(0,m.useRef)();(0,m.useImperativeHandle)(j,function(){return{addItem:function(t,E){var F,h=(F=n.current)===null||F===void 0?void 0:F.getList(),H=!1;if(h==null||h.map(function($){if($.name==t){H=!0;return}}),!H){var S;(S=n.current)===null||S===void 0||S.add({name:t,value:E})}},clear:function(){var t;(t=n.current)===null||t===void 0||(t=t.getList())===null||t===void 0||t.map(function(E,F){var h;(h=n.current)===null||h===void 0||h.remove(F)})}}});var o={};return v.hideCopyButton===!0&&(o.copyIconProps=!1),v.hideDeleteButton===!0&&(o.deleteIconProps=!1),(0,C.jsx)(f.u,l()(l()({initialValue:v.initialValue,label:v.label,name:v.name,actionRef:n,creatorButtonProps:v.showAddButton?{creatorButtonText:"\u6DFB\u52A0"+(v.label?v.label:v.name)}:!1,min:v.min?v.min:0},o),{},{children:function(t,E,F){return(0,C.jsx)(O.Z,{justify:v.justify,gap:v.gap,children:v.items.map(function(h){return h.render?(0,C.jsx)("div",{children:h.render&&h.render(t,E,F)},"".concat(v.name,"-").concat(h.name,"-").concat(t.key)):(0,C.jsx)(_.Z,{width:h.width,name:h.name,label:h.label,required:h.required,rules:[{required:h.required}],disabled:h.disabled,placeholder:h.placeholder},"".concat(v.name,"-").concat(h.name,"-").concat(t.key))})})}}))});P.Z=r},8680:function(U,P,e){"use strict";var g=e(15009),l=e.n(g),f=e(64599),_=e.n(f),O=e(99289),m=e.n(O),C=e(9783),r=e.n(C),v=e(5574),j=e.n(v),n=e(67294),o=e(184),M=e(38345),t=e(97269),E=e(97321),F=e(97462),h=e(64317),H=e(5966),S=e(86615),$=e(68602),z=e(28036),V=e(83403),q=e(24963),N=e(1699),i=e(29177),ne=e(45742),te=e(43425),ae=e(44349),D=e(85893),re=(0,n.forwardRef)(function(J,se){var W=(0,n.useState)(!1),K=j()(W,2),X=K[0],w=K[1],x=(0,n.useRef)(),k=(0,n.useContext)(q.Z),ee=k.message,Z=(0,n.useState)([]),p=j()(Z,2),a=p[0],R=p[1],d=r()(r()(r()(r()(r()({},V.W6.CONTAINER,"Id"),V.W6.APPSTORE,"name"),V.W6.COMPOSE,"name"),V.W6.REGISTRY,"serverAddress"),V.W6.DOCKER_ENV,"name"),u=r()(r()(r()(r()(r()({},V.W6.CONTAINER,"name"),V.W6.APPSTORE,"name"),V.W6.COMPOSE,"name"),V.W6.REGISTRY,"title"),V.W6.DOCKER_ENV,"title"),T=d[J.type],L=u[J.type],G=J.selected.map(function(s){return s[d[J.type]]});return n.useEffect(function(){X&&((0,$.dP)({permission:{uri:J.type,key:T,value:G}}).then(function(s){var c;(c=x.current)===null||c===void 0||c.setFieldValue("list",Object.keys(s.data.list).map(function(A){return{name:A,type:s.data.list[A].type,users:s.data.list[A].users}}))}),(0,$.lE)().then(function(s){var c,A=(c=s.data)===null||c===void 0||(c=c.list)===null||c===void 0?void 0:c.map(function(y){return{label:y.username,value:y.username}});R(A)}))},[X]),(0,D.jsx)(N.u,{access:["canSeeEnableEe","canSeeFounder","canSeeManage"],children:(0,D.jsxs)(o.a,{name:"create",title:"\u6570\u636E\u6743\u9650\u8BBE\u7F6E",open:X,onOpenChange:function(c){if(!c){var A;(A=x.current)===null||A===void 0||A.resetFields()}w(c)},drawerProps:{forceRender:!0},formRef:x,trigger:(0,D.jsx)(z.ZP,{icon:(0,D.jsx)(i.Z,{}),children:"\u6570\u636E\u6743\u9650"}),onFinish:function(){var s=m()(l()().mark(function c(A){var y,B,b;return l()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:y=_()(A.list),I.prev=1,y.s();case 3:if((B=y.n()).done){I.next=9;break}return b=B.value,I.next=7,(0,$.Db)({usernames:b.users,permissionType:b.type,permission:{uri:J.type,key:T,showKey:L,value:[b.name]}});case 7:I.next=3;break;case 9:I.next=14;break;case 11:I.prev=11,I.t0=I.catch(1),y.e(I.t0);case 14:return I.prev=14,y.f(),I.finish(14);case 17:ee.success("\u6743\u9650\u8BBE\u7F6E\u6210\u529F"),w(!1),J.onSuccess();case 20:case"end":return I.stop()}},c,null,[[1,11,14,17]])}));return function(c){return s.apply(this,arguments)}}(),children:[(0,D.jsxs)(M.Z,{ghost:!0,title:(0,D.jsx)(ne.Z,{}),subTitle:"\u6279\u91CF\u8BBE\u7F6E",children:[(0,D.jsx)(t.A.Item,{name:"type",style:{marginBottom:0},children:(0,D.jsxs)(E.Z.Group,{defaultValue:"admin",onChange:function(c){var A,y,B=(A=x.current)===null||A===void 0?void 0:A.getFieldValue("list");B.forEach(function(b){b.type=c,b.users=[]}),(y=x.current)===null||y===void 0||y.setFieldValue("list",B)},children:[(0,D.jsx)(E.Z,{style:{width:240},title:"\u7BA1\u7406\u5458",description:"\u4EC5\u7BA1\u7406\u5458\u53EF\u89C1",value:"admin"}),(0,D.jsx)(E.Z,{style:{width:240},title:"\u6307\u5B9A\u7528\u6237",description:"\u4EC5\u9009\u4E2D\u7528\u6237\u53EF\u89C1",value:"restricted"}),(0,D.jsx)(E.Z,{style:{width:240},title:"\u516C\u5171",description:"\u6240\u6709\u4EBA\u53EF\u89C1",value:"public"})]})}),(0,D.jsx)(F.Z,{name:["type"],children:function(c){var A=c.type;if(A==="restricted")return(0,D.jsx)(h.Z,{mode:"multiple",name:"usernames",label:"\u9009\u62E9\u7528\u6237",onChange:function(B){var b,Y,I=(b=x.current)===null||b===void 0?void 0:b.getFieldValue("list");I.forEach(function(Q){Q.users=B}),(Y=x.current)===null||Y===void 0||Y.setFieldValue("list",I)},rules:[{required:!0}],request:m()(l()().mark(function y(){var B,b,Y;return l()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(!(a.length>0)){Q.next=2;break}return Q.abrupt("return",a);case 2:return Q.next=4,(0,$.lE)();case 4:return b=Q.sent,Y=(B=b.data)===null||B===void 0||(B=B.list)===null||B===void 0?void 0:B.map(function(oe){return{label:oe.username,value:oe.username}}),R(Y),Q.abrupt("return",Y);case 8:case"end":return Q.stop()}},y)}))})}})]}),(0,D.jsx)(M.Z,{ghost:!0,title:(0,D.jsx)(te.Z,{}),subTitle:"\u6570\u636E\u6743\u9650\u8BBE\u7F6E",children:(0,D.jsx)(ae.Z,{name:"list",hideCopyButton:!0,gap:10,items:[{name:"name",label:"\u540D\u79F0",render:function(c,A,y){var B=y.getCurrentRowData();return(0,D.jsx)(H.Z,{disabled:!0,label:"\u540D\u79F0",width:"sm",name:"name"})}},{name:"type",label:"\u6743\u9650\u7C7B\u578B",render:function(c,A,y){var B=y.getCurrentRowData();return(0,D.jsx)(S.Z.Group,{label:"\u6743\u9650\u7C7B\u578B",name:"type",radioType:"button",options:[{label:"\u7BA1\u7406\u5458",value:"admin"},{label:"\u516C\u5171",value:"public"},{label:"\u6307\u5B9A\u7528\u6237",value:"restricted"}]})}},{name:"users",label:"\u5173\u8054\u7528\u6237",render:function(c,A,y){return(0,D.jsx)(F.Z,{name:["type"],children:function(b){var Y=b.type;if(Y=="restricted")return(0,D.jsx)(h.Z,{width:"sm",mode:"tags",name:"users",label:"\u5173\u8054\u7528\u6237",options:a})}})}}]})})]})})});P.Z=re},96781:function(U,P,e){"use strict";var g=e(67294),l=(0,g.createContext)({});P.Z=l},83536:function(U,P,e){"use strict";e.r(P),e.d(P,{default:function(){return se}});var g=e(64599),l=e.n(g),f=e(15009),_=e.n(f),O=e(99289),m=e.n(O),C=e(80821),r=e(90098),v=e(43425),j=e(23430),n=e(90078),o=e(78099),M=e(82346),t=e(28036),E=e(25593),F=e(42075),h=e(96074),H=e(83062),S=e(67294),$=e(94359),z=e(67255),V=e(93162),q=e(24963),N=e(66309),i=e(85893);function ne(W){var K=(0,M.useIntl)(),X=(0,S.useContext)(q.Z),w=X.lang,x;if(!W.type)x=(0,i.jsx)(N.Z,{children:w("compose.type.default")});else switch(W.type){case"remoteUrl":x=(0,i.jsx)(N.Z,{color:"cyan",children:w("compose.type.".concat(W.type))});break;case"serverPath":x=(0,i.jsx)(N.Z,{color:"blue",children:w("compose.type.".concat(W.type))});break;case"storagePath":x=(0,i.jsx)(N.Z,{color:"geekblue",children:w("compose.type.".concat(W.type))});break;case"outPath":x=(0,i.jsx)(N.Z,{color:"yellow",children:w("compose.type.".concat(W.type))});break;case"store":x=(0,i.jsx)(N.Z,{color:"green",children:w("compose.type.".concat(W.type))});break;case"dangling":x=(0,i.jsx)(N.Z,{color:"error",children:w("compose.type.".concat(W.type))});break;default:x=(0,i.jsx)(N.Z,{children:w("compose.type.".concat(W.type))})}return(0,i.jsx)(H.Z,{title:W.tootip,children:x})}var te=e(96781),ae=e(73587),D=e(1699),re=e(83403),J=e(8680);function se(){var W=(0,S.useContext)(te.Z),K=W.listTableRef,X=(0,S.useContext)(q.Z),w=X.lang,x=X.notice,k=(0,S.useRef)(),ee=(0,M.useAccess)();return(0,i.jsxs)(n._z,{header:{extra:[(0,i.jsx)(D.u,{access:"canSeeComposeListManageCreate",children:(0,i.jsx)(M.Link,{to:"/compose/create",reloadDocument:location.search.length>0,children:(0,i.jsx)(t.ZP,{type:"primary",children:"\u521B\u5EFA\u4EFB\u52A1"},"createCompose")},"create")},"create")]},children:[(0,i.jsx)(ae.Z,{ref:k,onClose:function(){var p;!((p=K.current)===null||p===void 0)&&p.reloadAndRest&&K.current.reloadAndRest()}}),(0,i.jsx)(o.Z,{scroll:{x:"max-content"},request:function(){var Z=m()(_()().mark(function p(a){var R;return _()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,r.pm)({title:a.title,name:a.name});case 2:return R=u.sent,u.abrupt("return",{data:R.data.list,success:!0,total:R.data.list.length});case 4:case"end":return u.stop()}},p)}));return function(p){return Z.apply(this,arguments)}}(),rowKey:"name",columns:[{title:"\u6807\u8BC6",dataIndex:"name",width:200,render:function(p,a,R,d,u){return(0,i.jsx)(E.Z.Link,{onClick:function(){var L;(L=k.current)===null||L===void 0||L.show(a.id||a.name)},children:a.name})},sorter:function(p,a){return p.name.localeCompare(a.name)},sortDirections:["descend","ascend"]},{title:"\u9879\u76EE\u540D\u79F0",dataIndex:"title",width:200},{title:"\u7C7B\u578B",width:150,search:!1,render:function(p,a,R,d,u){var T;return(0,i.jsx)(ne,{tootip:(T=a.setting.uri)!==null&&T!==void 0?T:"",type:a.setting&&a.setting.type?a.setting.type:""})}},{title:"\u5BB9\u5668\u72B6\u6001",dataIndex:"status",search:!1,width:300,render:function(p,a,R,d,u){return(0,i.jsx)(F.Z,{children:a.setting.status.split(", ").map(function(T,L){var G="running",s=T.indexOf("(");return s>-1?G=T.slice(0,s):G=T,(0,i.jsx)($.Z,{status:G,message:{content:w("compose.status.".concat(G),{count:T.slice(s+1,T.length-1)}),title:a.setting.message,placement:"top",showInTag:!0}},L)})})},sorter:function(p,a){return p.setting.status.localeCompare(a.setting.status)}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"",search:!1,width:150,render:function(p,a,R,d,u){return a.setting.createdAt?new Date(a.setting.createdAt).toLocaleString():"-"},sorter:function(p,a){var R,d;return new Date((R=p.setting.createdAt)!==null&&R!==void 0?R:"").toLocaleString().localeCompare(new Date((d=a.setting.createdAt)!==null&&d!==void 0?d:"").toLocaleString())}},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"",search:!1,width:150,render:function(p,a,R,d,u){return a.setting.updatedAt?new Date(a.setting.updatedAt).toLocaleString():"-"},sorter:function(p,a){var R,d;return new Date((R=p.setting.updatedAt)!==null&&R!==void 0?R:"").toLocaleString().localeCompare(new Date((d=a.setting.updatedAt)!==null&&d!==void 0?d:"").toLocaleString())}},{title:"\u64CD\u4F5C",width:80,valueType:"option",fixed:"right",key:"option",hidden:!ee.canSeeComposeListManage,render:function(p,a,R,d,u){return a.setting.type!="dangling"&&(0,i.jsxs)(F.Z,{split:(0,i.jsx)(h.Z,{type:"vertical"}),children:[(0,i.jsx)(E.Z.Link,{onClick:function(){var L;(L=k.current)===null||L===void 0||L.show(a.id||a.name)},children:(0,i.jsx)(H.Z,{title:"\u90E8\u7F72",children:(0,i.jsx)(v.Z,{})})},"3"),(0,i.jsx)(E.Z.Link,{onClick:m()(_()().mark(function T(){var L,G;return _()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,r.tw)({id:a.id||a.name});case 2:L=c.sent,G=new Blob([L],{type:"application/zip"}),(0,V.saveAs)(G,"compose-"+a.name+".zip");case 5:case"end":return c.stop()}},T)})),children:(0,i.jsx)(H.Z,{title:"\u4E0B\u8F7D",children:(0,i.jsx)(j.Z,{})})},"2")]})}}],rowSelection:ee.canSeeComposeListManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0,getCheckboxProps:function(p){return{disabled:p.setting.type=="dangling"||p.setting.type=="outPath"}}}:void 0,tableAlertOptionRender:function(p){var a=p.selectedRows;return(0,i.jsxs)(F.Z,{size:16,children:[(0,i.jsx)(J.Z,{type:re.W6.COMPOSE,selected:a,onSuccess:function(){var d,u;return!((d=K.current)===null||d===void 0)&&d.reloadAndRest&&((u=K.current)===null||u===void 0||u.reloadAndRest()),!0}}),(0,i.jsx)(D.u,{access:"canSeeComposeListManageDelete",children:(0,i.jsx)(C.Z,{danger:!0,type:"primary",action:m()(_()().mark(function R(){var d,u,T,L;return _()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:s.prev=0,u=l()(a),s.prev=2,u.s();case 4:if((T=u.n()).done){s.next=11;break}return L=T.value,s.next=8,(0,r.mg)({id:L.id||L.name});case 8:d=s.sent;case 9:s.next=4;break;case 11:s.next=16;break;case 13:s.prev=13,s.t0=s.catch(2),u.e(s.t0);case 16:return s.prev=16,u.f(),s.finish(16);case 19:s.next=23;break;case 21:s.prev=21,s.t1=s.catch(0);case 23:return s.abrupt("return",(0,r.ik)({id:a.map(function(c){return c.id})}));case 24:case"end":return s.stop()}},R,null,[[0,21],[2,13,16,19]])})),onSuccess:function(){var d,u;return!((d=K.current)===null||d===void 0)&&d.reloadAndRest&&((u=K.current)===null||u===void 0||u.reloadAndRest()),!0},onError:function(){var d,u;return!((d=K.current)===null||d===void 0)&&d.reset&&((u=K.current)===null||u===void 0||u.reset()),!0},confirm:"notification.confirm.title",children:"\u6279\u91CF\u5220\u9664"})})]})},pagination:(0,z.O)(),search:{collapsed:!1},actionRef:K,columnsState:(0,z.j)("compose-list")})]})}},67255:function(U,P,e){"use strict";e.d(P,{O:function(){return g},j:function(){return l}});function g(){var f=localStorage.getItem("dpanel-pagesize");return f=="all"?!1:{showSizeChanger:!0,defaultPageSize:parseInt(f!=null?f:"20")}}function l(f){var _="dpanel-table-column-".concat(f),O={};if(localStorage.getItem(_)){var m;O=JSON.parse((m=localStorage.getItem(_))!==null&&m!==void 0?m:"{}")}return{defaultValue:O,onChange:function(r){localStorage.setItem("dpanel-table-column-".concat(f),JSON.stringify(r))}}}},93162:function(U,P,e){var g,l,f;(function(_,O){l=[],g=O,f=typeof g=="function"?g.apply(P,l):g,f!==void 0&&(U.exports=f)})(this,function(){"use strict";function _(n,o){return typeof o=="undefined"?o={autoBom:!1}:typeof o!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n}function O(n,o,M){var t=new XMLHttpRequest;t.open("GET",n),t.responseType="blob",t.onload=function(){j(t.response,o,M)},t.onerror=function(){console.error("could not download file")},t.send()}function m(n){var o=new XMLHttpRequest;o.open("HEAD",n,!1);try{o.send()}catch(M){}return 200<=o.status&&299>=o.status}function C(n){try{n.dispatchEvent(new MouseEvent("click"))}catch(M){var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(o)}}var r=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof e.g=="object"&&e.g.global===e.g?e.g:void 0,v=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),j=r.saveAs||(typeof window!="object"||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!v?function(n,o,M){var t=r.URL||r.webkitURL,E=document.createElement("a");o=o||n.name||"download",E.download=o,E.rel="noopener",typeof n=="string"?(E.href=n,E.origin===location.origin?C(E):m(E.href)?O(n,o,M):C(E,E.target="_blank")):(E.href=t.createObjectURL(n),setTimeout(function(){t.revokeObjectURL(E.href)},4e4),setTimeout(function(){C(E)},0))}:"msSaveOrOpenBlob"in navigator?function(n,o,M){if(o=o||n.name||"download",typeof n!="string")navigator.msSaveOrOpenBlob(_(n,M),o);else if(m(n))O(n,o,M);else{var t=document.createElement("a");t.href=n,t.target="_blank",setTimeout(function(){C(t)})}}:function(n,o,M,t){if(t=t||open("","_blank"),t&&(t.document.title=t.document.body.innerText="downloading..."),typeof n=="string")return O(n,o,M);var E=n.type==="application/octet-stream",F=/constructor/i.test(r.HTMLElement)||r.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||E&&F||v)&&typeof FileReader!="undefined"){var H=new FileReader;H.onloadend=function(){var z=H.result;z=h?z:z.replace(/^data:[^;]*;/,"data:attachment/file;"),t?t.location.href=z:location=z,t=null},H.readAsDataURL(n)}else{var S=r.URL||r.webkitURL,$=S.createObjectURL(n);t?t.location=$:location.href=$,t=null,setTimeout(function(){S.revokeObjectURL($)},4e4)}});r.saveAs=j.saveAs=j,U.exports=j})}}]);
