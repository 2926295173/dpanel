"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7523],{86615:function(le,G,e){var c=e(1413),u=e(45987),j=e(22270),s=e(78045),m=e(67294),b=e(90789),A=e(35510),n=e(85893),B=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],S=m.forwardRef(function(o,d){var $=o.fieldProps,t=o.options,i=o.radioType,E=o.layout,h=o.proFieldProps,_=o.valueEnum,C=(0,u.Z)(o,B);return(0,n.jsx)(A.Z,(0,c.Z)((0,c.Z)({valueType:i==="button"?"radioButton":"radio",ref:d,valueEnum:(0,j.h)(_,void 0)},C),{},{fieldProps:(0,c.Z)({options:t,layout:E},$),proFieldProps:h,filedConfig:{customLightMode:!0}}))}),I=m.forwardRef(function(o,d){var $=o.fieldProps,t=o.children;return(0,n.jsx)(s.ZP,(0,c.Z)((0,c.Z)({},$),{},{ref:d,children:t}))}),f=(0,b.G)(I,{valuePropName:"checked",ignoreWidth:!0}),L=f;L.Group=S,L.Button=s.ZP.Button,L.displayName="ProFormComponent",G.Z=L},1677:function(le,G,e){var c=e(1413),u=e(45987),j=e(88484),s=e(31365),m=e(28036),b=e(67294),A=e(9105),n=e(90789),B=e(85893),S=["fieldProps","action","accept","listType","title","max","icon","buttonProps","disabled","proFieldProps"],I=function(o,d){var $,t=o.fieldProps,i=o.action,E=o.accept,h=o.listType,_=o.title,C=_===void 0?"\u5355\u51FB\u4E0A\u4F20":_,y=o.max,p=o.icon,a=p===void 0?(0,B.jsx)(j.Z,{}):p,F=o.buttonProps,g=o.disabled,P=o.proFieldProps,l=(0,u.Z)(o,S),J=(0,b.useMemo)(function(){var re;return(re=l.fileList)!==null&&re!==void 0?re:l.value},[l.fileList,l.value]),q=(0,b.useContext)(A.A),K=(P==null?void 0:P.mode)||q.mode||"edit",D=(y===void 0||!J||(J==null?void 0:J.length)<y)&&K!=="read",de=(h!=null?h:t==null?void 0:t.listType)==="picture-card";return(0,B.jsx)(s.Z,(0,c.Z)((0,c.Z)({action:i,accept:E,ref:d,listType:h||"picture",fileList:J},t),{},{name:($=t==null?void 0:t.name)!==null&&$!==void 0?$:"file",onChange:function(te){var X;t==null||(X=t.onChange)===null||X===void 0||X.call(t,te)},children:D&&(de?(0,B.jsxs)("span",{children:[a," ",C]}):(0,B.jsxs)(m.ZP,(0,c.Z)((0,c.Z)({disabled:g||(t==null?void 0:t.disabled)},F),{},{children:[a,C]})))}))},f=(0,n.G)(b.forwardRef(I),{getValueFromEvent:function(o){return o.fileList}});G.Z=f},184:function(le,G,e){e.d(G,{a:function(){return F}});var c=e(4942),u=e(74165),j=e(15861),s=e(1413),m=e(97685),b=e(45987),A=e(12044),n=e(51812),B=e(48171),S=e(73177),I=e(21532),f=e(85265),L=e(93967),o=e.n(L),d=e(55917),$=e(21770),t=e(80334),i=e(67294),E=e(73935),h=e(89671),_=e(98082),C=function(P){return(0,c.Z)({},P.componentCls,{"&-sidebar-dragger":{width:"5px",cursor:"ew-resize",padding:"4px 0 0",borderTop:"1px solid transparent",position:"absolute",top:0,left:0,bottom:0,zIndex:100,backgroundColor:"transparent","&-min-disabled":{cursor:"w-resize"},"&-max-disabled":{cursor:"e-resize"}}})};function y(g){return(0,_.Xj)("DrawerForm",function(P){var l=(0,s.Z)((0,s.Z)({},P),{},{componentCls:".".concat(g)});return[C(l)]})}var p=e(85893),a=["children","trigger","onVisibleChange","drawerProps","onFinish","submitTimeout","title","width","resize","onOpenChange","visible","open"];function F(g){var P,l,J=g.children,q=g.trigger,K=g.onVisibleChange,D=g.drawerProps,de=g.onFinish,re=g.submitTimeout,te=g.title,X=g.width,W=g.resize,w=g.onOpenChange,oe=g.visible,ee=g.open,M=(0,b.Z)(g,a);(0,t.ET)(!M.footer||!(D!=null&&D.footer),"DrawerForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002");var T=i.useMemo(function(){var V,O,x,U={onResize:function(){},maxWidth:(0,A.j)()?window.innerWidth*.8:void 0,minWidth:300};return typeof W=="boolean"?W?U:{}:(0,n.Y)({onResize:(V=W==null?void 0:W.onResize)!==null&&V!==void 0?V:U.onResize,maxWidth:(O=W==null?void 0:W.maxWidth)!==null&&O!==void 0?O:U.maxWidth,minWidth:(x=W==null?void 0:W.minWidth)!==null&&x!==void 0?x:U.minWidth})},[W]),N=(0,i.useContext)(I.ZP.ConfigContext),Q=N.getPrefixCls("pro-form-drawer"),me=y(Q),fe=me.wrapSSR,_e=me.hashId,ie=function(O){return"".concat(Q,"-").concat(O," ").concat(_e)},ae=(0,i.useState)([]),Oe=(0,m.Z)(ae,2),Pe=Oe[1],pe=(0,i.useState)(!1),Z=(0,m.Z)(pe,2),v=Z[0],r=Z[1],R=(0,i.useState)(!1),k=(0,m.Z)(R,2),z=k[0],ne=k[1],H=(0,i.useState)(X||(W?T==null?void 0:T.minWidth:800)),ve=(0,m.Z)(H,2),De=ve[0],Ce=ve[1],Be=(0,$.Z)(!!oe,{value:ee||oe,onChange:w||K}),ye=(0,m.Z)(Be,2),Ee=ye[0],ce=ye[1],Fe=(0,i.useRef)(null),Me=(0,i.useCallback)(function(V){Fe.current===null&&V&&Pe([]),Fe.current=V},[]),Te=(0,i.useRef)(),xe=(0,i.useCallback)(function(){var V,O,x,U=(V=(O=(x=M.formRef)===null||x===void 0?void 0:x.current)!==null&&O!==void 0?O:M.form)!==null&&V!==void 0?V:Te.current;U&&D!==null&&D!==void 0&&D.destroyOnClose&&U.resetFields()},[D==null?void 0:D.destroyOnClose,M.form,M.formRef]);(0,i.useEffect)(function(){Ee&&(ee||oe)&&(w==null||w(!0),K==null||K(!0)),z&&Ce(T==null?void 0:T.minWidth)},[oe,Ee,z]),(0,i.useImperativeHandle)(M.formRef,function(){return Te.current},[Te.current]);var ue=(0,i.useMemo)(function(){return q?i.cloneElement(q,(0,s.Z)((0,s.Z)({key:"trigger"},q.props),{},{onClick:function(){var V=(0,j.Z)((0,u.Z)().mark(function x(U){var se,Y;return(0,u.Z)().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:ce(!Ee),ne(!Object.keys(T)),(se=q.props)===null||se===void 0||(Y=se.onClick)===null||Y===void 0||Y.call(se,U);case 3:case"end":return ge.stop()}},x)}));function O(x){return V.apply(this,arguments)}return O}()})):null},[ce,q,Ee,ne,z]),he=(0,i.useMemo)(function(){var V,O,x,U;return M.submitter===!1?!1:(0,d.Z)({searchConfig:{submitText:(V=(O=N.locale)===null||O===void 0||(O=O.Modal)===null||O===void 0?void 0:O.okText)!==null&&V!==void 0?V:"\u786E\u8BA4",resetText:(x=(U=N.locale)===null||U===void 0||(U=U.Modal)===null||U===void 0?void 0:U.cancelText)!==null&&x!==void 0?x:"\u53D6\u6D88"},resetButtonProps:{preventDefault:!0,disabled:re?v:void 0,onClick:function(Y){var Ae;ce(!1),D==null||(Ae=D.onClose)===null||Ae===void 0||Ae.call(D,Y)}}},M.submitter)},[M.submitter,(P=N.locale)===null||P===void 0||(P=P.Modal)===null||P===void 0?void 0:P.okText,(l=N.locale)===null||l===void 0||(l=l.Modal)===null||l===void 0?void 0:l.cancelText,re,v,ce,D]),je=(0,i.useCallback)(function(V,O){return(0,p.jsxs)(p.Fragment,{children:[V,Fe.current&&O?(0,p.jsx)(i.Fragment,{children:(0,E.createPortal)(O,Fe.current)},"submitter"):O]})},[]),Ze=(0,B.J)(function(){var V=(0,j.Z)((0,u.Z)().mark(function O(x){var U,se,Y;return(0,u.Z)().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return U=de==null?void 0:de(x),re&&U instanceof Promise&&(r(!0),se=setTimeout(function(){return r(!1)},re),U.finally(function(){clearTimeout(se),r(!1)})),ge.next=4,U;case 4:return Y=ge.sent,Y&&ce(!1),ge.abrupt("return",Y);case 7:case"end":return ge.stop()}},O)}));return function(O){return V.apply(this,arguments)}}()),Ie=(0,S.X)(Ee,K),Re=(0,i.useCallback)(function(V){var O,x,U=(document.body.offsetWidth||1e3)-(V.clientX-document.body.offsetLeft),se=(O=T==null?void 0:T.minWidth)!==null&&O!==void 0?O:X||800,Y=(x=T==null?void 0:T.maxWidth)!==null&&x!==void 0?x:window.innerWidth*.8;if(U<se){Ce(se);return}if(U>Y){Ce(Y);return}Ce(U)},[T==null?void 0:T.maxWidth,T==null?void 0:T.minWidth,X]),be=(0,i.useCallback)(function(){document.removeEventListener("mousemove",Re),document.removeEventListener("mouseup",be)},[Re]);return fe((0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(f.Z,(0,s.Z)((0,s.Z)((0,s.Z)({title:te,width:De},D),Ie),{},{afterOpenChange:function(O){var x;O||xe(),D==null||(x=D.afterOpenChange)===null||x===void 0||x.call(D,O)},onClose:function(O){var x;re&&v||(ce(!1),D==null||(x=D.onClose)===null||x===void 0||x.call(D,O))},footer:M.submitter!==!1&&(0,p.jsx)("div",{ref:Me,style:{display:"flex",justifyContent:"flex-end"}}),children:[W?(0,p.jsx)("div",{className:o()(ie("sidebar-dragger"),_e,(0,c.Z)((0,c.Z)({},ie("sidebar-dragger-min-disabled"),De===(T==null?void 0:T.minWidth)),ie("sidebar-dragger-max-disabled"),De===(T==null?void 0:T.maxWidth))),onMouseDown:function(O){var x;T==null||(x=T.onResize)===null||x===void 0||x.call(T),O.stopPropagation(),O.preventDefault(),document.addEventListener("mousemove",Re),document.addEventListener("mouseup",be),ne(!0)}}):null,(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(h.I,(0,s.Z)((0,s.Z)({formComponentType:"DrawerForm",layout:"vertical"},M),{},{formRef:Te,onInit:function(O,x){var U;M.formRef&&(M.formRef.current=x),M==null||(U=M.onInit)===null||U===void 0||U.call(M,O,x),Te.current=x},submitter:he,onFinish:function(){var V=(0,j.Z)((0,u.Z)().mark(function O(x){var U;return(0,u.Z)().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,Ze(x);case 2:return U=Y.sent,Y.abrupt("return",U);case 4:case"end":return Y.stop()}},O)}));return function(O){return V.apply(this,arguments)}}(),contentRender:je,children:J}))})]})),ue]}))}},37476:function(le,G,e){e.d(G,{Y:function(){return t}});var c=e(74165),u=e(15861),j=e(1413),s=e(97685),m=e(45987),b=e(73177),A=e(21532),n=e(85576),B=e(55917),S=e(21770),I=e(80334),f=e(67294),L=e(73935),o=e(89671),d=e(85893),$=["children","trigger","onVisibleChange","onOpenChange","modalProps","onFinish","submitTimeout","title","width","visible","open"];function t(i){var E,h,_=i.children,C=i.trigger,y=i.onVisibleChange,p=i.onOpenChange,a=i.modalProps,F=i.onFinish,g=i.submitTimeout,P=i.title,l=i.width,J=i.visible,q=i.open,K=(0,m.Z)(i,$);(0,I.ET)(!K.footer||!(a!=null&&a.footer),"ModalForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002");var D=(0,f.useContext)(A.ZP.ConfigContext),de=(0,f.useState)([]),re=(0,s.Z)(de,2),te=re[1],X=(0,f.useState)(!1),W=(0,s.Z)(X,2),w=W[0],oe=W[1],ee=(0,S.Z)(!!J,{value:q||J,onChange:p||y}),M=(0,s.Z)(ee,2),T=M[0],N=M[1],Q=(0,f.useRef)(null),me=(0,f.useCallback)(function(Z){Q.current===null&&Z&&te([]),Q.current=Z},[]),fe=(0,f.useRef)(),_e=(0,f.useCallback)(function(){var Z,v,r,R=(Z=(v=K.form)!==null&&v!==void 0?v:(r=K.formRef)===null||r===void 0?void 0:r.current)!==null&&Z!==void 0?Z:fe.current;R&&a!==null&&a!==void 0&&a.destroyOnClose&&R.resetFields()},[a==null?void 0:a.destroyOnClose,K.form,K.formRef]);(0,f.useImperativeHandle)(K.formRef,function(){return fe.current},[fe.current]),(0,f.useEffect)(function(){(q||J)&&(p==null||p(!0),y==null||y(!0))},[J,q]);var ie=(0,f.useMemo)(function(){return C?f.cloneElement(C,(0,j.Z)((0,j.Z)({key:"trigger"},C.props),{},{onClick:function(){var Z=(0,u.Z)((0,c.Z)().mark(function r(R){var k,z;return(0,c.Z)().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:N(!T),(k=C.props)===null||k===void 0||(z=k.onClick)===null||z===void 0||z.call(k,R);case 2:case"end":return H.stop()}},r)}));function v(r){return Z.apply(this,arguments)}return v}()})):null},[N,C,T]),ae=(0,f.useMemo)(function(){var Z,v,r,R,k,z;return K.submitter===!1?!1:(0,B.Z)({searchConfig:{submitText:(Z=(v=a==null?void 0:a.okText)!==null&&v!==void 0?v:(r=D.locale)===null||r===void 0||(r=r.Modal)===null||r===void 0?void 0:r.okText)!==null&&Z!==void 0?Z:"\u786E\u8BA4",resetText:(R=(k=a==null?void 0:a.cancelText)!==null&&k!==void 0?k:(z=D.locale)===null||z===void 0||(z=z.Modal)===null||z===void 0?void 0:z.cancelText)!==null&&R!==void 0?R:"\u53D6\u6D88"},resetButtonProps:{preventDefault:!0,disabled:g?w:void 0,onClick:function(H){var ve;N(!1),a==null||(ve=a.onCancel)===null||ve===void 0||ve.call(a,H)}}},K.submitter)},[(E=D.locale)===null||E===void 0||(E=E.Modal)===null||E===void 0?void 0:E.cancelText,(h=D.locale)===null||h===void 0||(h=h.Modal)===null||h===void 0?void 0:h.okText,a,K.submitter,N,w,g]),Oe=(0,f.useCallback)(function(Z,v){return(0,d.jsxs)(d.Fragment,{children:[Z,Q.current&&v?(0,d.jsx)(f.Fragment,{children:(0,L.createPortal)(v,Q.current)},"submitter"):v]})},[]),Pe=(0,f.useCallback)(function(){var Z=(0,u.Z)((0,c.Z)().mark(function v(r){var R,k,z;return(0,c.Z)().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return R=F==null?void 0:F(r),g&&R instanceof Promise&&(oe(!0),k=setTimeout(function(){return oe(!1)},g),R.finally(function(){clearTimeout(k),oe(!1)})),H.next=4,R;case 4:return z=H.sent,z&&N(!1),H.abrupt("return",z);case 7:case"end":return H.stop()}},v)}));return function(v){return Z.apply(this,arguments)}}(),[F,N,g]),pe=(0,b.X)(T);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.Z,(0,j.Z)((0,j.Z)((0,j.Z)({title:P,width:l||800},a),pe),{},{onCancel:function(v){var r;g&&w||(N(!1),a==null||(r=a.onCancel)===null||r===void 0||r.call(a,v))},afterClose:function(){var v;_e(),T&&N(!1),a==null||(v=a.afterClose)===null||v===void 0||v.call(a)},footer:K.submitter!==!1?(0,d.jsx)("div",{ref:me,style:{display:"flex",justifyContent:"flex-end"}}):null,children:(0,d.jsx)(o.I,(0,j.Z)((0,j.Z)({formComponentType:"ModalForm",layout:"vertical"},K),{},{onInit:function(v,r){var R;K.formRef&&(K.formRef.current=r),K==null||(R=K.onInit)===null||R===void 0||R.call(K,v,r),fe.current=r},formRef:fe,submitter:ae,onFinish:function(){var Z=(0,u.Z)((0,c.Z)().mark(function v(r){var R;return(0,c.Z)().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,Pe(r);case 2:return R=z.sent,z.abrupt("return",R);case 4:case"end":return z.stop()}},v)}));return function(v){return Z.apply(this,arguments)}}(),contentRender:Oe,children:_}))})),ie]})}},34879:function(le,G,e){e.d(G,{Z:function(){return s}});var c=e(97961),u=e(1677),j=e(85893);function s(m){return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(u.Z,{max:1,title:m.title,label:m.label,required:m.required,rules:[{required:m.required}],fieldProps:{name:"file",accept:m.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(A){return new Promise(function(n){var B;(0,c._2)({path:(B=A.response.data.path)!==null&&B!==void 0?B:""}).then(function(S){n(!0)})})}},name:m.name})})}},74344:function(le,G,e){var c=e(5574),u=e.n(c),j=e(37476),s=e(38345),m=e(63713),b=e(67294),A=e(54964),n=e(85893),B=(0,b.forwardRef)(function(S,I){(0,b.useImperativeHandle)(I,function(){return{start:function(){for(var y=arguments.length,p=new Array(y),a=0;a<y;a++)p[a]=arguments[a];E(p.join(":")),d(!0)},reset:function(){var y;(y=_.current)===null||y===void 0||y.clear(),d(!1)},show:function(y){var p,a;(p=_.current)===null||p===void 0||p.clear(),(a=_.current)===null||a===void 0||a.write(y),d(!0)}}});var f=(0,b.useState)(!1),L=u()(f,2),o=L[0],d=L[1],$=(0,b.useState)(""),t=u()($,2),i=t[0],E=t[1],h=(0,m.useModel)("subscriber"),_=(0,b.useRef)();return h.addDataHandler("image:"+i,function(C){var y;(y=_.current)===null||y===void 0||y.write(C.data)}),(0,b.useEffect)(function(){var C;(C=_.current)===null||C===void 0||C.fit()},[]),(0,n.jsx)(j.Y,{modalProps:{forceRender:!0},title:"\u6784\u5EFA\u65E5\u5FD7",submitter:!1,width:1e3,onOpenChange:function(y){if(d(y),y){var p,a;(p=_.current)===null||p===void 0||p.clear(),(a=_.current)===null||a===void 0||a.fit()}},open:o,children:(0,n.jsx)(s.Z,{ghost:!0,children:(0,n.jsx)(A.Z,{showInModal:!0,width:"960px",height:"500px",ref:_})})})});G.Z=B},89063:function(le,G,e){e.d(G,{Z:function(){return n}});var c=e(24963),u=e(88484),j=e(62370),s=e(31418),m=e(28036),b=e(67294),A=e(85893);function n(B){var S=(0,b.useContext)(c.Z),I=S.message,f=S.notice,L=S.lang,o=(0,b.useRef)(null),d=s.Z.useApp(),$=function(){o.current&&(o.current.click(),o.current.onchange=function(i){if(!i||!i.target)return"";var E=new FileReader;E.onload=function(_){var C,y,p=(C=_.target)===null||C===void 0?void 0:C.result;if(B.onLoad)try{B.onLoad&&B.onLoad(p)}catch(a){f.error(a);return}typeof B.onImport=="function"&&(I.success("\u6210\u529F\u5BFC\u5165 ".concat(B.title)),B.onImport(p)),(y=o.current)!==null&&y!==void 0&&y.value&&(o.current.value="")};var h=i.target;if(h.files)try{E.readAsText(h.files[0])}catch(_){f.error("\u5BFC\u5165\u6587\u4EF6\u5FC5\u987B\u662F\u6587\u672C\u7C7B\u578B")}})};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(j.Z,{children:(0,A.jsx)(m.ZP,{icon:(0,A.jsx)(u.Z,{}),block:!0,onClick:$,children:B.title})}),(0,A.jsx)("input",{style:{display:"none"},type:"file",ref:o,name:"importFileInput"})]})}},54964:function(le,G,e){e.d(G,{a:function(){return S}});var c=e(78267),u=e.n(c),j=e(75458),s=e.n(j),m=e(67294),b=e(12320),A=e.n(b),n=e(89629),B=e(85893),S={convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,cursorStyle:"block",cursorBlink:!0,theme:{foreground:"#bfbfbf",cursor:"gray",selectionForeground:"#ffffff"}},I=new b.Terminal(S),f=new j.SearchAddon,L=new c.FitAddon,o=(0,m.forwardRef)(function(d,$){return(0,m.useEffect)(function(){window.addEventListener("resize",function(){d.showInModal||L.fit()}),d.style&&d.style.fontSize&&(I.options.fontSize=d.style.fontSize),I.loadAddon(L),I.loadAddon(f),I.open(document.getElementById("terminal-container")),d.showInModal||L.fit()},[]),(0,m.useImperativeHandle)($,function(){return{write:function(i){I.write(i)},clear:function(){I.clear()},getTerminal:function(){return I},findNext:function(i){f.findNext(i)},findPrev:function(i){f.findPrevious(i)},fit:function(){L.fit()},onData:function(i){I.onData(i)}}}),(0,B.jsx)("div",{id:"terminal-container",style:{width:d.width?d.width:"100%",height:d.height?d.height:"500px"}})});G.Z=o},24963:function(le,G,e){var c=e(67294),u=(0,c.createContext)({});G.Z=u},77096:function(le,G,e){e.r(G),e.d(G,{default:function(){return re}});var c=e(15009),u=e.n(c),j=e(99289),s=e.n(j),m=e(5574),b=e.n(m),A=e(5966),n=e(85893);function B(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(A.Z,{fieldProps:{min:2,max:255},rules:[{required:!0}],required:!0,placeholder:"\u6307\u5B9AGit\u5730\u5740\uFF0C\u79C1\u6709\u4ED3\u5E93\u8BF7\u9644\u52A0\u6743\u9650\u3002\u4EC5\u652F\u6301Master\u5206\u652F",label:"Git\u4ED3\u5E93\u5730\u5740",name:"buildGit"})})}var S=e(34879),I=e(74344),f=e(67294),L=e(89063),o=e(95089),d=e(62370),$=e(184),t=e(86615),i=e(97462),E=e(97961),h=e(28036),_=e(34041);function C(te){var X=(0,f.useState)([]),W=b()(X,2),w=W[0],oe=W[1];return(0,f.useEffect)(function(){(0,E.MF)().then(function(ee){var M=Object.keys(ee.data).map(function(T){return ee.data[T]});oe(M)})},[]),(0,n.jsx)(d.Z,{children:(0,n.jsxs)($.a,{trigger:(0,n.jsx)(h.ZP,{block:!0,children:"\u4F7F\u7528\u6A21\u677F\u751F\u6210"}),onFinish:function(M){return new Promise(function(T,N){var Q=M[M.language+"EnvVersion"].split("|"),me=b()(Q,2),fe=me[0],_e=me[1],ie="FROM ".concat(fe,`
# \u5E94\u7528\u76EE\u5F55\u4F4D\u4E8E /app
# \u53EF\u901A\u7BA1\u5BB9\u5668 - \u6587\u4EF6\u7BA1\u7406, \u4E0A\u4F20\u4EE3\u7801\u81F3\u6B64\u76EE\u5F55\u5E76\u4FEE\u6539\u6743\u9650

WORKDIR /app
VOLUME [ "/app" ]
EXPOSE 80

# \u81EA\u5B9A\u4E49\u5B89\u88C5\u7EC4\u4EF6\u3001\u6269\u5C55\u6216\u662F\u5E93, \u4F8B\u5982:
# RUN apk add --no-cache --update vim
`);switch(M.language){case"php":ie+=`
                
# \u7AD9\u70B9\u76EE\u5F55\u4F4D\u4E8E /app/wwwroot \u53EF\u4E0A\u4F20\u6216\u662F\u4FEE\u6539\u7AD9\u70B9\u6587\u4EF6
# nginx \u914D\u7F6E\u4F4D\u4E8E /app/nginx/ \u53EF\u4FEE\u6539\u589E\u52A0\u81EA\u5B9A\u4E49\u914D\u7F6E
# \u901A\u8FC7\u8BBF\u95EE\u5BB9\u5668\u8FD0\u884C\u6620\u5C04\u7AEF\u53E3\uFF0C\u67E5\u770B\u73AF\u5883\u53CA\u6269\u5C55\u4FE1\u606F

`,M.language=="php"&&M.phpExt&&(ie+="RUN apk add --no-cache --update ",M.phpExt.map(function(ae){ie+="php".concat(_e,"-").concat(ae," ")}));break;case"golang":ie+=`
# \u53EF\u4EE5\u4FEE\u6539 RUN_COMMAND \u73AF\u5883\u53D8\u91CF, \u66F4\u6539\u542F\u52A8\u6267\u884C\u547D\u4EE4
ENV RUN_COMMAND="go version"`;break;default:break}te.onFinish(ie),T(!0)})},children:[(0,n.jsx)(t.Z.Group,{radioType:"button",name:"language",label:"\u7A0B\u5E8F\u8BED\u8A00",options:w.map(function(ee){return{label:ee.name,value:ee.name}}),required:!0}),(0,n.jsx)(i.Z,{name:["language"],children:function(M){var T=M.language;return T?(0,n.jsx)(n.Fragment,{children:w.map(function(N){if(N.name==T)return(0,n.jsxs)("div",{children:[(0,n.jsx)(d.Z,{name:"".concat(N.name,"EnvVersion"),label:"\u73AF\u5883\u7248\u672C",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7A0B\u5E8F\u8FD0\u884C\u7684\u73AF\u5883"}],children:(0,n.jsx)(_.Z,{options:N.env.map(function(Q){return{label:Q.name,value:Q.baseImage}}),placeholder:"\u8BF7\u9009\u62E9\u5177\u4F53\u7684\u73AF\u5883\u7248\u672C"},"".concat(N.name,"Select"))},N.name),N.name=="php"&&(0,n.jsx)(d.Z,{label:"php\u6269\u5C55",name:"phpExt",children:(0,n.jsx)(_.Z,{options:N.ext.map(function(Q){return{label:Q,value:Q}}),mode:"multiple",placeholder:"\u8BF7\u9009\u62E9\u8981\u5B89\u88C5\u7684php\u6269\u5C55"},"phpExtSelect")},"phpExt")]},"envSelect")})}):(0,n.jsx)(n.Fragment,{})}})]})})}function y(te){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(L.Z,{title:"\u5BFC\u5165\u672C\u5730Dockerfile\u6587\u4EF6",onImport:function(W){var w;return(w=te.createFormRef.current)===null||w===void 0||w.setFieldValue("buildDockerfile",W),!0},onLoad:function(W){if(W.indexOf("FROM ")<0)throw new Error("\u5BFC\u5165Dockerfile\u6587\u4EF6\u9519\u8BEF");return!0}}),(0,n.jsx)(C,{onFinish:function(W){var w;(w=te.createFormRef.current)===null||w===void 0||w.setFieldValue("buildDockerfile",W)}}),(0,n.jsx)(d.Z,{shouldUpdate:!0,children:function(W){var w=W.getFieldValue;return(0,n.jsx)(d.Z,{name:"buildDockerfile",children:(0,n.jsx)(o.ZP,{value:w("buildDockerfile"),onChange:function(ee){var M;(M=te.createFormRef.current)===null||M===void 0||M.setFieldValue("buildDockerfile",ee)},height:"600px",theme:"dark",style:{marginBottom:"20px"}})})}})]})}var p=e(24963),a=e(18148),F=e(75870),g=e(38345),P=e(97269),l=e(64317),J=e(90672),q=e(63713),K=e(42075),D=e(83062),de=e(91845);function re(){var te=(0,f.useContext)(p.Z),X=te.loading,W=te.message,w=(0,f.useRef)(),oe=(0,f.useState)([]),ee=b()(oe,2),M=ee[0],T=ee[1],N=(0,q.useSearchParams)(),Q=b()(N,2),me=Q[0],fe=Q[1],_e=(0,f.useState)("dockerfile"),ie=b()(_e,2),ae=ie[0],Oe=ie[1],Pe=(0,q.useNavigate)(),pe=(0,f.useRef)();return(0,f.useEffect)(function(){var Z,v=(Z=me.get("id"))!==null&&Z!==void 0?Z:0;v&&(X.show(),(0,a.T8)({id:parseInt(v)}).then(function(r){var R;Oe(r.data.task.buildType),(R=w.current)===null||R===void 0||R.setFieldsValue({title:r.data.task.title,imageTag:r.data.task.tag,imageRegistry:r.data.task.setting.registry,uploadType:r.data.task.buildType,buildRoot:r.data.task.setting.buildRoot,buildGit:r.data.task.setting.buildGit,buildDockerfile:r.data.task.setting.buildDockerfile,platform:r.data.task.setting.platform})}).finally(function(){X.destroy()}))},[]),(0,n.jsxs)(g.Z,{direction:"column",ghost:!0,gutter:[0,10],children:[(0,n.jsx)(g.Z,{bordered:!0,headerBordered:!0,children:(0,n.jsxs)(P.A,{submitter:{render:function(v,r){return(0,n.jsx)(K.Z,{children:r})}},onFinish:function(){var Z=s()(u()().mark(function v(r){var R,k,z,ne,H,ve,De,Ce,Be,ye,Ee,ce,Fe,Me,Te;return u()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(ae!="containerTar"){ue.next=8;break}return ue.next=3,(0,E.vC)({tag:r.imageTag,registry:r.imageRegistry,tar:(R=r.containerTar[0].response.data.path)!==null&&R!==void 0?R:"",cmd:r.cmd,workDir:r.workDir,expose:r.expose?r.expose.split(`
`):[],env:r.env?r.env.split(`
`):[],volume:r.volume?r.volume.split(`
`):[]});case 3:return k=ue.sent,Pe("/image/list"),ue.abrupt("return",!0);case 8:if(ae!="imageTar"){ue.next=19;break}return(z=pe.current)===null||z===void 0||z.start("import",r.imageTag),ue.next=12,(0,E.GH)({tag:r.imageTag,tar:(ne=r.imageTar[0].response.data.path)!==null&&ne!==void 0?ne:""});case 12:return ve=ue.sent,ve.data.tag&&ve.data.tag.map(function(he){W.success("\u5BFC\u5165 "+he+" \u955C\u50CF\u6210\u529F")}),(H=pe.current)===null||H===void 0||H.reset(),Pe("/image/list"),ue.abrupt("return",!0);case 19:return ye=(De=me.get("id"))!==null&&De!==void 0?De:"0",Ee=M&&M[0]?M[0].fileName:"",ce={name:"",arch:""},E.ii.map(function(he){he.name==r.platform&&(ce=he)}),Fe={id:parseInt(ye),tag:r.imageTag,title:r.title,registry:r.imageRegistry,buildRoot:r.buildRoot,buildDockerfile:r.buildDockerfile,buildZip:Ee!=null?Ee:"",buildGit:r.buildGit,buildType:ae,platform:ce.name,PlatformArch:ce.arch},r.buildZip&&r.buildZip.length>0&&(Fe.buildZip=(Me=r.buildZip[0].response.data.path)!==null&&Me!==void 0?Me:""),(Ce=pe.current)===null||Ce===void 0||Ce.start("build",ye),ue.next=28,(0,E.fN)(Fe).finally(function(){var he;(he=pe.current)===null||he===void 0||he.reset()});case 28:return Te=ue.sent,(Be=pe.current)===null||Be===void 0||Be.reset(),Pe("/image/list/recycle"),ue.abrupt("return",!0);case 32:case"end":return ue.stop()}},v)}));return function(v){return Z.apply(this,arguments)}}(),formRef:w,children:[(0,n.jsx)(A.Z,{label:"\u4EFB\u52A1\u540D\u79F0",name:"title",fieldProps:{onChange:function(v){var r="";if(v.target.value){var R,k=(0,de.N9)(v.target.value.trim(),{toneType:"none",type:"array"});r=k.join(""),(R=w.current)===null||R===void 0||R.setFieldValue("imageTag",r)}}}}),(0,n.jsx)(i.Z,{name:["uploadType"],children:function(v){var r=v.uploadType;if(r!="imageTar")return(0,n.jsx)(l.Z,{label:"\u955C\u50CF\u4ED3\u5E93",tooltip:(0,n.jsxs)(n.Fragment,{children:["\u63A8\u9001\u524D\u8BF7\u4FDD\u8BC1\u4ED3\u5E93\u4E2D\u6709\u6307\u5B9A\u7684\u547D\u540D\u7A7A\u95F4, \u5982\u6CA1\u6709\u8BF7\u5148 ",(0,n.jsx)("a",{href:"",target:"_blank",children:"\u6DFB\u52A0\u4ED3\u5E93"})]}),name:"imageRegistry",request:s()(u()().mark(function R(){var k;return u()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,(0,F.Ot)();case 2:return k=ne.sent,ne.abrupt("return",k.data.list.map(function(H){return{value:H.serverAddress,label:H.title+"("+H.serverAddress+")"}}));case 4:case"end":return ne.stop()}},R)}))})}}),(0,n.jsx)(i.Z,{name:["imageRegistry","uploadType"],children:function(v){var r=v.imageRegistry,R=v.uploadType;if(R!="imageTar")return(0,n.jsx)(A.Z,{fieldProps:{min:2,max:255,addonBefore:"".concat(r||"","/")},rules:[{required:!0}],required:!0,tooltip:"\u4F8B\u5982: name:tag\u3001namespace/name:tag\u3001registry/namespace/name:tag",placeholder:"\u53EA\u80FD\u4F7F\u7528\u5C0F\u5199\u82F1\u6587\u5B57\u7B26\u3001\u6570\u5B57\u3001_\u3001-\u3001",label:"\u955C\u50CFTag",name:"imageTag"})}}),(0,n.jsx)(t.Z.Group,{name:"uploadType",label:"\u6784\u5EFA\u65B9\u5F0F",initialValue:ae,options:[{label:(0,n.jsx)(D.Z,{title:"\u901A\u8FC7 Dockerfile \u6587\u4EF6\u5FEB\u901F\u6784\u5EFA\u955C\u50CF",children:"Dockerfile"}),value:"dockerfile"},{label:(0,n.jsx)(D.Z,{title:"\u5C06 Dockerfile \u6587\u4EF6\u4E0E\u6784\u5EFA\u955C\u50CF\u7528\u5230\u7684\u8D44\u6E90\uFF0C\u901A\u8FC7\u4E0A\u4F20 Zip \u5305\u7684\u5F62\u5F0F\u6784\u5EFA\u955C\u50CF",children:"Zip\u5305"}),value:"zip"},{label:(0,n.jsx)(D.Z,{title:"\u5C06 Dockerfile \u6587\u4EF6\u4E0E\u6784\u5EFA\u955C\u50CF\u7528\u5230\u7684\u8D44\u6E90\u653E\u7F6E\u5230 Git \u4ED3\u5E93\u4E2D\uFF0C\u53EF\u4EE5\u6301\u7EED\u6027\u7684\u6784\u5EFA\u955C\u50CF",children:"Git\u6E90\u7801\u4ED3\u5E93"}),value:"git"},{label:(0,n.jsx)(D.Z,{title:"\u4E0A\u4F20\u5BB9\u5668\u5BFC\u51FA\u7684 Tar \u5305\uFF0C\u5E76\u81EA\u5B9A\u4E49\u53C2\u6570\u6784\u5EFA\u955C\u50CF\u3002\u5982\u679C\u4F60\u4E0D\u9700\u8981\u4FEE\u6539\u5BB9\u5668\u539F\u59CB\u914D\u7F6E\uFF0C\u53EF\u4EE5\u5728\u5BB9\u5668\u8BE6\u60C5\u9875\u4F7F\u7528\u3010\u5C06\u5BB9\u5668\u4FDD\u5B58\u4E3A\u955C\u50CF\u3011\u529F\u80FD",children:"\u5BFC\u5165\u5BB9\u5668Tar\u5305"}),value:"containerTar"},{label:(0,n.jsx)(D.Z,{title:"\u4E0A\u4F20\u955C\u50CF Tar \u5305\u6784\u5EFA\u955C\u50CF",children:"\u5BFC\u5165\u955C\u50CFTar\u5305"}),value:"imageTar"}],fieldProps:{onChange:function(v){Oe(v.target.value)}}}),(0,n.jsx)(i.Z,{name:["uploadType"],children:function(v){var r=v.uploadType;if(r=="containerTar")return[(0,n.jsx)(A.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u5DE5\u4F5C\u76EE\u5F55\uFF0C\u4E00\u822C\u6307\u5411\u4EE3\u7801\u7684\u6240\u5728\u76EE\u5F55",label:"\u5DE5\u4F5C\u76EE\u5F55",name:"workDir",placeholder:"\u9ED8\u8BA4\u4E3A / \u76EE\u5F55"},"workDir"),(0,n.jsx)(A.Z,{required:!0,tooltip:"\u901A\u8FC7\u5BB9\u5668\u5BFC\u5165\u955C\u50CF\u65F6\uFF0C\u5FC5\u987B\u6307\u5B9A\u542F\u52A8\u547D\u4EE4\uFF0C\u5426\u5219\u518D\u521B\u5EFA\u65F6\u65E0\u6CD5\u542F\u52A8",rules:[{required:!0}],label:"CMD",name:"cmd"},"cmd"),(0,n.jsx)(J.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u5BF9\u5916\u66B4\u9732\u7684\u7AEF\u53E3\uFF0C\u4E00\u884C\u6307\u5B9A\u4E00\u4E2A\u7AEF\u53E3",label:"\u66B4\u9732\u7AEF\u53E3",name:"expose",placeholder:`80 
9000`},"expose"),(0,n.jsx)(J.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u9700\u8981\u914D\u7F6E\u7684\u73AF\u5883\u53D8\u91CF\uFF0C\u4E00\u884C\u6307\u5B9A\u4E00\u4E2A\u73AF\u5883\u53D8\u91CF",label:"\u73AF\u5883\u53D8\u91CF",name:"env",placeholder:`TEST_VALUE=123 
TEST_NO_VALUE=`},"env"),(0,n.jsx)(J.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u9700\u8981\u6301\u4E45\u5316\u7684\u76EE\u5F55\uFF0C\u4E00\u884C\u6307\u5B9A\u4E00\u4E2A\u76EE\u5F55",label:"\u5B58\u50A8\u5377\u76EE\u5F55",name:"volume",placeholder:`/app 
/home`},"volume")];if(r!="imageTar"){if(r=="zip"||r=="git")return(0,n.jsx)(A.Z,{name:"buildRoot",label:"Dockerfile\u6587\u4EF6\u4F4D\u7F6E",tooltip:"\u6307\u5B9ADockerfile\u6240\u5728\u7684\u76EE\u5F55",fieldProps:{addonBefore:"\u9ED8\u8BA4\u4EE5\u5305\u6216\u662F\u4ED3\u5E93\u76EE\u5F55\u5F00\u59CB\uFF08/\uFF09"},placeholder:"/Dockerfile"})}}}),ae=="zip"&&(0,n.jsx)(S.Z,{required:!0,label:"\u4E0A\u4F20\u6784\u5EFA\u5305 (\u53EA\u5141\u8BB8\u4E0A\u4F20 .zip \u6587\u4EF6\uFF0C\u4E14\u4E0E\u5305\u4E2D\u7684 Dockerfile \u6307\u5B9A\u7684\u76EE\u5F55\u4FDD\u6301\u4E00\u81F4)",name:"buildZip",accept:".zip"}),ae=="containerTar"&&(0,n.jsx)(S.Z,{required:!0,label:"\u5BFC\u5165\u5BB9\u5668\u5305\uFF08\u53EA\u5141\u8BB8\u4E0A\u4F20 .tar \u6587\u4EF6\uFF0C\u901A\u8FC7\u5BFC\u51FA\u5BB9\u5668\u751F\u6210\uFF09",name:"containerTar",accept:".tar"}),ae=="imageTar"&&(0,n.jsx)(S.Z,{required:!0,label:"\u5BFC\u5165\u955C\u50CF\u5305\uFF08\u53EA\u5141\u8BB8\u4E0A\u4F20 .tar \u6587\u4EF6\uFF0C\u901A\u8FC7\u5BFC\u51FA\u955C\u50CF\u751F\u6210\uFF09",name:"imageTar",accept:".tar"}),ae=="git"&&(0,n.jsx)(B,{}),ae=="dockerfile"&&(0,n.jsx)(y,{createFormRef:w})]})}),(0,n.jsx)(I.Z,{ref:pe})]})}},97961:function(le,G,e){e.d(G,{GH:function(){return I},MF:function(){return d},_2:function(){return L},fN:function(){return A},ii:function(){return b},vC:function(){return B}});var c=e(15009),u=e.n(c),j=e(99289),s=e.n(j),m=e(63713),b=[{name:"linux/amd64",arch:"amd64",search:["amd64","x86_64","86_64"]},{name:"linux/arm64",arch:"arm64",search:["arm64","arrch64"]},{name:"linux/i386",arch:"386",search:[]},{name:"linux/arm/v6",arch:"arm",search:[]},{name:"linux/arm/v7",arch:"arm",search:[]},{name:"linux/arm/v8",arch:"arm64",search:[]},{name:"linux/ppc64le",arch:"ppc64le",search:[]},{name:"linux/riscv64",arch:"riscv64",search:[]}];function A(t){return n.apply(this,arguments)}function n(){return n=s()(u()().mark(function t(i){return u()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,m.request)("/api/app/image/create-by-dockerfile",{method:"POST",data:i}));case 1:case"end":return h.stop()}},t)})),n.apply(this,arguments)}function B(t){return S.apply(this,arguments)}function S(){return S=s()(u()().mark(function t(i){return u()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,m.request)("/api/app/image/import-by-container-tar",{method:"POST",data:i}));case 1:case"end":return h.stop()}},t)})),S.apply(this,arguments)}function I(t){return f.apply(this,arguments)}function f(){return f=s()(u()().mark(function t(i){return u()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,m.request)("/api/app/image/import-by-image-tar",{method:"POST",data:i}));case 1:case"end":return h.stop()}},t)})),f.apply(this,arguments)}function L(t){return o.apply(this,arguments)}function o(){return o=s()(u()().mark(function t(i){return u()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,m.request)("/api/common/attach/delete",{method:"POST",data:i});case 2:return h.abrupt("return",h.sent);case 3:case"end":return h.stop()}},t)})),o.apply(this,arguments)}function d(){return $.apply(this,arguments)}function $(){return $=s()(u()().mark(function t(){return u()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,m.request)("/api/app/image/get-template-list",{method:"POST"}));case 1:case"end":return E.stop()}},t)})),$.apply(this,arguments)}},18148:function(le,G,e){e.d(G,{$q:function(){return o},Fj:function(){return C},KG:function(){return b},KX:function(){return p},T8:function(){return f},Xn:function(){return S},ao:function(){return $},c5:function(){return h},c7:function(){return i}});var c=e(15009),u=e.n(c),j=e(99289),s=e.n(j),m=e(63713);function b(F){return A.apply(this,arguments)}function A(){return A=s()(u()().mark(function F(g){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,m.request)("/api/app/image/get-list",{method:"POST",data:g}));case 1:case"end":return l.stop()}},F)})),A.apply(this,arguments)}function n(F){return B.apply(this,arguments)}function B(){return B=_asyncToGenerator(_regeneratorRuntime().mark(function F(g){return _regeneratorRuntime().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,request("/api/app/log/image-build",{method:"POST",data:g});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},F)})),B.apply(this,arguments)}function S(F){return I.apply(this,arguments)}function I(){return I=s()(u()().mark(function F(g){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,m.request)("/api/app/image/get-list-build",{method:"POST",data:g}));case 1:case"end":return l.stop()}},F)})),I.apply(this,arguments)}function f(F){return L.apply(this,arguments)}function L(){return L=s()(u()().mark(function F(g){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,m.request)("/api/app/image/get-build-task",{method:"POST",data:g});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},F)})),L.apply(this,arguments)}function o(F){return d.apply(this,arguments)}function d(){return d=s()(u()().mark(function F(g){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,m.request)("/api/app/image/delete-build-task",{method:"POST",data:g});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},F)})),d.apply(this,arguments)}function $(F){return t.apply(this,arguments)}function t(){return t=s()(u()().mark(function F(g){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,m.request)("/api/app/image/image-delete",{method:"POST",data:g});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},F)})),t.apply(this,arguments)}function i(){return E.apply(this,arguments)}function E(){return E=s()(u()().mark(function F(){return u()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,m.request)("/api/app/image/image-prune",{method:"POST"});case 2:return P.abrupt("return",P.sent);case 3:case"end":return P.stop()}},F)})),E.apply(this,arguments)}function h(){return _.apply(this,arguments)}function _(){return _=s()(u()().mark(function F(){return u()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,m.request)("/api/app/image/build-prune",{method:"POST"});case 2:return P.abrupt("return",P.sent);case 3:case"end":return P.stop()}},F)})),_.apply(this,arguments)}function C(F){return y.apply(this,arguments)}function y(){return y=s()(u()().mark(function F(g){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,m.request)("/api/app/image/update-title",{method:"POST",data:g});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},F)})),y.apply(this,arguments)}function p(F){return a.apply(this,arguments)}function a(){return a=s()(u()().mark(function F(g){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,m.request)("/api/app/image/tag-sync",{method:"POST",data:g}));case 1:case"end":return l.stop()}},F)})),a.apply(this,arguments)}},75870:function(le,G,e){e.d(G,{Ot:function(){return b},ZH:function(){return n},ix:function(){return S},t1:function(){return f}});var c=e(15009),u=e.n(c),j=e(99289),s=e.n(j),m=e(63713);function b(o){return A.apply(this,arguments)}function A(){return A=s()(u()().mark(function o(d){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.request)("/api/common/registry/get-list",{method:"POST",data:d}));case 1:case"end":return t.stop()}},o)})),A.apply(this,arguments)}function n(o){return B.apply(this,arguments)}function B(){return B=s()(u()().mark(function o(d){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.request)("/api/common/registry/create",{method:"POST",data:d}));case 1:case"end":return t.stop()}},o)})),B.apply(this,arguments)}function S(o){return I.apply(this,arguments)}function I(){return I=s()(u()().mark(function o(d){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.request)("/api/common/registry/delete",{method:"POST",data:d}));case 1:case"end":return t.stop()}},o)})),I.apply(this,arguments)}function f(o){return L.apply(this,arguments)}function L(){return L=s()(u()().mark(function o(d){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.request)("/api/common/registry/get-detail",{method:"POST",data:d}));case 1:case"end":return t.stop()}},o)})),L.apply(this,arguments)}},85576:function(le,G,e){e.d(G,{Z:function(){return h}});var c=e(56080),u=e(38657),j=e(56745),s=e(67294),m=e(93967),b=e.n(m),A=e(40974),n=e(8745),B=e(53124),S=e(35792),I=e(32409),f=e(4941),L=e(71194),o=function(_,C){var y={};for(var p in _)Object.prototype.hasOwnProperty.call(_,p)&&C.indexOf(p)<0&&(y[p]=_[p]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,p=Object.getOwnPropertySymbols(_);a<p.length;a++)C.indexOf(p[a])<0&&Object.prototype.propertyIsEnumerable.call(_,p[a])&&(y[p[a]]=_[p[a]]);return y};const d=_=>{const{prefixCls:C,className:y,closeIcon:p,closable:a,type:F,title:g,children:P,footer:l}=_,J=o(_,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:q}=s.useContext(B.E_),K=q(),D=C||q("modal"),de=(0,S.Z)(K),[re,te,X]=(0,L.ZP)(D,de),W=`${D}-confirm`;let w={};return F?w={closable:a!=null?a:!1,title:"",footer:"",children:s.createElement(I.O,Object.assign({},_,{prefixCls:D,confirmPrefixCls:W,rootPrefixCls:K,content:P}))}:w={closable:a!=null?a:!0,title:g,footer:l!==null&&s.createElement(f.$,Object.assign({},_)),children:P},re(s.createElement(A.s,Object.assign({prefixCls:D,className:b()(te,`${D}-pure-panel`,F&&W,F&&`${W}-${F}`,y,X,de)},J,{closeIcon:(0,f.b)(D,p),closable:a},w)))};var $=(0,n.i)(d),t=e(94423);function i(_){return(0,c.ZP)((0,c.uW)(_))}const E=j.Z;E.useModal=t.Z,E.info=function(C){return(0,c.ZP)((0,c.cw)(C))},E.success=function(C){return(0,c.ZP)((0,c.vq)(C))},E.error=function(C){return(0,c.ZP)((0,c.AQ)(C))},E.warning=i,E.warn=i,E.confirm=function(C){return(0,c.ZP)((0,c.Au)(C))},E.destroyAll=function(){for(;u.Z.length;){const C=u.Z.pop();C&&C()}},E.config=c.ai,E._InternalPanelDoNotUseOrYouWillBeFired=$;var h=E}}]);
