"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5947],{41123:function(X,O,e){e.d(O,{Z:function(){return A}});var s=e(87462),r=e(67294),B={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M555.88 488.24h-92.62v-82.79h92.62zm0-286.24h-92.62v85.59h92.62zm109.45 203.45H572.7v82.79h92.62zm-218.9-101.02h-92.61v84.18h92.6zm109.45 0h-92.61v84.18h92.6zm388.69 140.3c-19.65-14.02-67.36-18.23-102.44-11.22-4.2-33.67-23.85-63.14-57.53-89.8l-19.65-12.62-12.62 19.64c-25.26 39.29-32.28 103.83-5.62 145.92-12.63 7.02-36.48 15.44-67.35 15.44H67.56c-12.63 71.56 8.42 164.16 61.74 227.3C181.22 801.13 259.8 832 360.83 832c220.3 0 384.48-101.02 460.25-286.24 29.47 0 95.42 0 127.7-63.14 1.4-2.8 9.82-18.24 11.22-23.85zm-717.04-39.28h-92.61v82.79h92.6zm109.45 0h-92.61v82.79h92.6zm109.45 0h-92.61v82.79h92.6zM336.98 304.43h-92.61v84.19h92.6z"}}]},name:"docker",theme:"outlined"},p=B,h=e(84089),y=function(W,f){return r.createElement(h.Z,(0,s.Z)({},W,{ref:f,icon:p}))},v=r.forwardRef(y),A=v},24963:function(X,O,e){var s=e(67294),r=(0,s.createContext)({});O.Z=r},50070:function(X,O,e){e.r(O),e.d(O,{AppDetailContext:function(){return Z},default:function(){return Y}});var s=e(15009),r=e.n(s),B=e(99289),p=e.n(B),h=e(5574),y=e.n(h),v=e(24963),A=e(2831),b=e(60335),W=e(41123),f=e(54006),I=e(86738),E=e(25593),l=e(50136),D=e(67294),g=e(85893),Z=(0,D.createContext)({});function Y(){var k,F=(0,D.useContext)(v.Z),L=F.lang,i=F.loading,_=(0,f.useParams)(),C=(0,f.useSearchParams)(),t=y()(C,2),q=t[0],ne=t[1],n=(k=q.get("tab"))!==null&&k!==void 0?k:"edit",o=(0,D.useState)("edit"),d=y()(o,2),a=d[0],u=d[1],j=(0,f.useNavigate)(),K=(0,D.useState)(1),T=y()(K,2),M=T[0],$=T[1],N=(0,f.useAccess)(),x=[{label:(0,g.jsx)(f.Link,{to:"/app/detail/edit/".concat(_.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,g.jsx)(f.Link,{to:"/app/detail/domain/".concat(_.id,"?tab=domain"),children:"\u57DF\u540D\u7BA1\u7406"}),key:"domain"},{label:(0,g.jsx)(I.Z,{style:{width:500},title:L("notification.title.tip"),description:L("app.detail.createExplorerPlugin"),onConfirm:function(){j("/app/detail/file/".concat(_.id,"?tab=file")),G(x.filter(function(S){return S.key!="fileConfirm"})),u("file")},okText:"Yes",cancelText:"No",children:(0,g.jsx)(E.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"})}),key:"fileConfirm"},{label:(0,g.jsx)(E.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){j("/app/detail/file/".concat(_.id,"?tab=file"))}},{label:(0,g.jsx)(E.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){j("/app/detail/log/".concat(_.id,"?tab=log"))}},{label:(0,g.jsx)(E.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){j("/app/detail/stat/".concat(_.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,g.jsx)(W.Z,{}),disabled:!0}],z=(0,D.useState)(x),V=y()(z,2),J=V[0],G=V[1];(0,D.useEffect)(function(){i.show(),u(n);var P=function(){var S=p()(r()().mark(function ee(){var Q,U,w,H;return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return U=x,m.next=3,(0,A.aF)();case 3:return w=m.sent,N.canSeeContainerDomain||(U=U.filter(function(c){return c.key!="domain"})),w.data.plugin.explorer.isCreated||(U=U.filter(function(c){return c.key!="file"})),w.data.plugin.explorer.isCreated&&(U=U.filter(function(c){return c.key!="fileConfirm"})),m.next=9,(0,b.jV)({md5:(Q=_.id)!==null&&Q!==void 0?Q:""});case 9:H=m.sent,U.map(function(c){return c.key=="containerName"&&(c.label=H.data.info.Name),(!H.data.info.State.Running||H.data.info.State.Restarting)&&(c.key=="file"||c.key=="fileConfirm"||c.key=="stat")&&(c.disabled=!0),c}),G(U),i.destroy();case 13:case"end":return m.stop()}},ee)}));return function(){return S.apply(this,arguments)}}();P()},[M]);var R=function(S){S.key!="fileConfirm"&&u(S.key)};return(0,g.jsxs)(Z.Provider,{value:{reload:function(){$(M+1)}},children:[(0,g.jsx)(l.Z,{mode:"horizontal",onClick:R,selectedKeys:[a],items:J}),(0,g.jsx)(f.Outlet,{})]})}},2831:function(X,O,e){e.d(O,{Ll:function(){return A},aF:function(){return y},d6:function(){return W}});var s=e(15009),r=e.n(s),B=e(99289),p=e.n(B),h=e(54006);function y(){return v.apply(this,arguments)}function v(){return v=p()(r()().mark(function I(){return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,h.request)("/api/common/home/info",{method:"POST"});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},I)})),v.apply(this,arguments)}function A(){return b.apply(this,arguments)}function b(){return b=p()(r()().mark(function I(){return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,h.request)("/api/common/home/usage",{method:"POST"});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},I)})),b.apply(this,arguments)}function W(){return f.apply(this,arguments)}function f(){return f=p()(r()().mark(function I(){return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,h.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},I)})),f.apply(this,arguments)}},60335:function(X,O,e){e.d(O,{IE:function(){return A},IW:function(){return y},KK:function(){return l},LJ:function(){return g},RF:function(){return F},Re:function(){return Y},eE:function(){return I},jV:function(){return W}});var s=e(15009),r=e.n(s),B=e(99289),p=e.n(B),h=e(54006);function y(i){return v.apply(this,arguments)}function v(){return v=p()(r()().mark(function i(_){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.request)("/api/app/container/status",{method:"POST",data:_}));case 1:case"end":return t.stop()}},i)})),v.apply(this,arguments)}function A(i){return b.apply(this,arguments)}function b(){return b=p()(r()().mark(function i(_){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.request)("/api/app/container/get-list",{data:_,method:"POST"}));case 1:case"end":return t.stop()}},i)})),b.apply(this,arguments)}function W(i){return f.apply(this,arguments)}function f(){return f=p()(r()().mark(function i(_){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.request)("/api/app/container/get-detail",{data:_,method:"POST"}));case 1:case"end":return t.stop()}},i)})),f.apply(this,arguments)}function I(i){return E.apply(this,arguments)}function E(){return E=p()(r()().mark(function i(_){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.request)("/api/app/container/update",{data:_,method:"POST"}));case 1:case"end":return t.stop()}},i)})),E.apply(this,arguments)}function l(){return D.apply(this,arguments)}function D(){return D=p()(r()().mark(function i(){return r()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,h.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return C.stop()}},i)})),D.apply(this,arguments)}function g(i){return Z.apply(this,arguments)}function Z(){return Z=p()(r()().mark(function i(_){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.request)("/api/app/container/export",{method:"POST",data:_,responseType:"blob"}));case 1:case"end":return t.stop()}},i)})),Z.apply(this,arguments)}function Y(i){return k.apply(this,arguments)}function k(){return k=p()(r()().mark(function i(_){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.request)("/api/app/container/commit",{method:"POST",data:_}));case 1:case"end":return t.stop()}},i)})),k.apply(this,arguments)}function F(i){return L.apply(this,arguments)}function L(){return L=p()(r()().mark(function i(_){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.request)("/api/app/container/upgrade",{method:"POST",data:_}));case 1:case"end":return t.stop()}},i)})),L.apply(this,arguments)}},86738:function(X,O,e){e.d(O,{Z:function(){return ne}});var s=e(67294),r=e(21640),B=e(93967),p=e.n(B),h=e(21770),y=e(98423),v=e(53124),A=e(55241),b=e(86743),W=e(81643),f=e(14726),I=e(33671),E=e(10110),l=e(24457),D=e(66330),g=e(83559);const Z=n=>{const{componentCls:o,iconCls:d,antCls:a,zIndexPopup:u,colorText:j,colorWarning:K,marginXXS:T,marginXS:M,fontSize:$,fontWeightStrong:N,colorTextHeading:x}=n;return{[o]:{zIndex:u,[`&${a}-popover`]:{fontSize:$},[`${o}-message`]:{marginBottom:M,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${o}-message-icon ${d}`]:{color:K,fontSize:$,lineHeight:1,marginInlineEnd:M},[`${o}-title`]:{fontWeight:N,color:x,"&:only-child":{fontWeight:"normal"}},[`${o}-description`]:{marginTop:T,color:j}},[`${o}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:M}}}}},Y=n=>{const{zIndexPopupBase:o}=n;return{zIndexPopup:o+60}};var k=(0,g.I$)("Popconfirm",n=>Z(n),Y,{resetStyle:!1}),F=function(n,o){var d={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&o.indexOf(a)<0&&(d[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(n);u<a.length;u++)o.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(n,a[u])&&(d[a[u]]=n[a[u]]);return d};const L=n=>{const{prefixCls:o,okButtonProps:d,cancelButtonProps:a,title:u,description:j,cancelText:K,okText:T,okType:M="primary",icon:$=s.createElement(r.Z,null),showCancel:N=!0,close:x,onConfirm:z,onCancel:V,onPopupClick:J}=n,{getPrefixCls:G}=s.useContext(v.E_),[R]=(0,E.Z)("Popconfirm",l.Z.Popconfirm),P=(0,W.Z)(u),S=(0,W.Z)(j);return s.createElement("div",{className:`${o}-inner-content`,onClick:J},s.createElement("div",{className:`${o}-message`},$&&s.createElement("span",{className:`${o}-message-icon`},$),s.createElement("div",{className:`${o}-message-text`},P&&s.createElement("div",{className:`${o}-title`},P),S&&s.createElement("div",{className:`${o}-description`},S))),s.createElement("div",{className:`${o}-buttons`},N&&s.createElement(f.ZP,Object.assign({onClick:V,size:"small"},a),K||(R==null?void 0:R.cancelText)),s.createElement(b.Z,{buttonProps:Object.assign(Object.assign({size:"small"},(0,I.nx)(M)),d),actionFn:z,close:x,prefixCls:G("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},T||(R==null?void 0:R.okText))))};var _=n=>{const{prefixCls:o,placement:d,className:a,style:u}=n,j=F(n,["prefixCls","placement","className","style"]),{getPrefixCls:K}=s.useContext(v.E_),T=K("popconfirm",o),[M]=k(T);return M(s.createElement(D.ZP,{placement:d,className:p()(T,a),style:u,content:s.createElement(L,Object.assign({prefixCls:T},j))}))},C=function(n,o){var d={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&o.indexOf(a)<0&&(d[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(n);u<a.length;u++)o.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(n,a[u])&&(d[a[u]]=n[a[u]]);return d};const q=s.forwardRef((n,o)=>{var d,a;const{prefixCls:u,placement:j="top",trigger:K="click",okType:T="primary",icon:M=s.createElement(r.Z,null),children:$,overlayClassName:N,onOpenChange:x,onVisibleChange:z}=n,V=C(n,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:J}=s.useContext(v.E_),[G,R]=(0,h.Z)(!1,{value:(d=n.open)!==null&&d!==void 0?d:n.visible,defaultValue:(a=n.defaultOpen)!==null&&a!==void 0?a:n.defaultVisible}),P=(m,c)=>{R(m,!0),z==null||z(m),x==null||x(m,c)},S=m=>{P(!1,m)},ee=m=>{var c;return(c=n.onConfirm)===null||c===void 0?void 0:c.call(void 0,m)},Q=m=>{var c;P(!1,m),(c=n.onCancel)===null||c===void 0||c.call(void 0,m)},U=(m,c)=>{const{disabled:re=!1}=n;re||P(m,c)},w=J("popconfirm",u),H=p()(w,N),[te]=k(w);return te(s.createElement(A.Z,Object.assign({},(0,y.Z)(V,["title"]),{trigger:K,placement:j,onOpenChange:U,open:G,ref:o,overlayClassName:H,content:s.createElement(L,Object.assign({okType:T,icon:M},n,{prefixCls:w,close:S,onConfirm:ee,onCancel:Q})),"data-popover-inject":!0}),$))});q._InternalPanelDoNotUseOrYouWillBeFired=_;var ne=q}}]);
