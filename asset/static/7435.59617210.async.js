"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7435],{57165:function(W,O,t){t.d(O,{Z:function(){return A}});var I=t(5574),c=t.n(I),m=t(89035),v=t(63713),P=t(83062),D=t(67294),d=t(85893);function A(i){var u=(0,D.useState)({height:800,width:1024}),l=c()(u,2),_=l[0],j=l[1],n=function(){var T=window.innerWidth,B=window.innerHeight;j({height:B,width:T})};(0,D.useEffect)(function(){window.addEventListener("resize",function(){n()}),n()},[i]);var o=i.query?Object.keys(i.query).map(function(f){return"".concat(f,"=").concat(i.query[f])}):[];return(0,d.jsx)(v.Link,{target:"_blank",to:"/console/"+i.container+"?width=".concat(_.width,"&height=").concat(_.height,"&").concat(o.join("&")),children:(0,d.jsxs)(P.Z,{title:i.tips?i.tips:"\u7EC8\u7AEF",children:[(0,d.jsx)(m.Z,{})," ",i.content]})})}},37767:function(W,O,t){t.d(O,{Z:function(){return L}});var I=t(15009),c=t.n(I),m=t(99289),v=t.n(m),P=t(5574),D=t.n(P),d=t(45605),A=t(38345),i=t(97269),u=t(26412),l=t(42075),_=t(96074),j=t(25593),n=t(2487),o=t(67294),f=t(76428),T=t(78498),B=t(44771),g=t(60335),Z=t(24963),U=t(37413),R=t(87662),a=t(85893);function L(e){var S,F,N,b,$,H,z,V,w,nt=(0,o.useState)(""),J=D()(nt,2),at=J[0],Q=J[1],y=(0,o.useContext)(Z.Z),X=y.message,ot=y.notice,dt=y.loading,et=y.lang,Y=(0,o.useRef)(),k=[],q=[],p=[],_t=(0,o.useState)(""),tt=D()(_t,2),it=tt[0],st=tt[1];return(0,o.useEffect)(function(){if(e.data){var s;(s=Y.current)===null||s===void 0||s.setFieldValue("restart",e.data.info.HostConfig.RestartPolicy.Name),(0,R.EH)().then(function(r){st(r.data.ip)}),Q(e.data.info.Name)}},[e]),e.data&&e.data.domain&&e.data.domain.map(function(s){p.push(s.serverName)}),e.data&&e.data.info.NetworkSettings&&e.data.info.NetworkSettings.Ports&&Object.keys(e.data.info.NetworkSettings.Ports).map(function(s){var r,E,h=(r=(E=e.data.info)===null||E===void 0?void 0:E.NetworkSettings.Ports[s])!==null&&r!==void 0?r:[{HostPort:null,HostIp:""}],C=s.split("/"),K=D()(C,2),M=K[0],x=K[1];h.map(function(G){G.HostPort?k.push({PrivatePort:M,Type:x,IP:G.HostIp,PublicPort:G.HostPort}):q.push({PrivatePort:M,Type:x,IP:"",PublicPort:""})})}),(0,a.jsxs)(a.Fragment,{children:[e.data&&e.data.info.State.Running&&(0,a.jsx)(U.Z,{publicPort:k,privatePort:q,domain:p,serverIp:it,showInDetail:!0,ghost:e.ghost,layout:"inline"}),(0,a.jsx)(A.Z,{title:(0,a.jsx)(d.Z,{}),subTitle:"\u5BB9\u5668\u72B6\u6001",ghost:e.ghost,children:(0,a.jsxs)(u.Z,{column:1,bordered:!0,children:[(0,a.jsx)(u.Z.Item,{label:"Hostname",children:(0,a.jsx)(l.Z,{split:(0,a.jsx)(_.Z,{type:"vertical"}),children:(0,a.jsx)(f.Z,{title:(S=e.data.info)===null||S===void 0?void 0:S.Config.Hostname})})}),(0,a.jsx)(u.Z.Item,{label:"\u5BB9\u5668\u540D\u79F0",children:(0,a.jsxs)(l.Z,{split:(0,a.jsx)(_.Z,{type:"vertical"}),children:[(0,a.jsx)(f.Z,{title:(F=e.data.info)===null||F===void 0?void 0:F.Id.substring(0,12)}),(0,a.jsx)(j.Z.Text,{copyable:!0,editable:{tooltip:"\u4FEE\u6539\u5BB9\u5668\u540D\u79F0",onChange:function(){var s=v()(c()().mark(function E(h){var C,K;return c()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if((C=e.data.info)!==null&&C!==void 0&&C.Id){x.next=2;break}return x.abrupt("return");case 2:return x.next=4,(0,g.eE)({md5:e.data.info.Id,name:h});case 4:K=x.sent,Q(h),X.success(et("notification.finish"));case 7:case"end":return x.stop()}},E)}));function r(E){return s.apply(this,arguments)}return r}()},children:at})]})}),(0,a.jsx)(u.Z.Item,{label:(0,a.jsx)(T.Z,{title:"\u7F51\u7EDC",help:"\u9ED8\u8BA4\u7F51\u7EDC\u53EA\u652F\u6301\u901A\u8FC7ip\u8BBF\u95EE,ip\u4F1A\u968F\u7740\u5BB9\u5668\u542F\u52A8\u505C\u6B62\u6539\u53D8.\u5982\u679C\u9700\u8981\u5728\u5BB9\u5668\u5185\u4E92\u8054,\u8BF7\u901A\u8FC7\u3010\u7F16\u8F91\u7AD9\u70B9\u3011-\u3010\u6DFB\u52A0\u5173\u8054\u3011"}),children:((N=e.data.info)===null||N===void 0?void 0:N.State.Running)&&(0,a.jsxs)(u.Z,{column:1,bordered:!0,children:[e.data.info.NetworkSettings.Networks&&Object.keys(e.data.info.NetworkSettings.Networks).map(function(s,r){var E,h,C;return(0,a.jsx)(u.Z.Item,{label:s,children:s=="host"?" Host \u7F51\u7EDC\uFF0C\u4E0E\u5BBF\u4E3B\u673A\u5171\u7528\u540C\u4E00\u7F51\u7EDC":(0,a.jsxs)(l.Z,{direction:"vertical",children:[(0,a.jsx)(f.Z,{title:(E=e.data.info)===null||E===void 0?void 0:E.NetworkSettings.Networks[s].IPAddress}),(h=e.data.info)===null||h===void 0?void 0:h.NetworkSettings.Networks[s].Gateway,(C=e.data.info)===null||C===void 0?void 0:C.NetworkSettings.Networks[s].MacAddress]})},"1")}),e.data.info.HostConfig.ExtraHosts&&(0,a.jsx)(u.Z.Item,{label:"\u5BBF\u4E3B\u673A\u7F51\u7EDC",children:(0,a.jsx)(l.Z,{direction:"vertical",children:e.data.info.HostConfig.ExtraHosts.map(function(s){if(s.indexOf(":")>-1){var r=s.split(":");return(0,a.jsxs)(l.Z,{children:[(0,a.jsx)(f.Z,{title:r[0]})," - ",r[1]]})}})})},"1")]})}),(0,a.jsxs)(u.Z.Item,{label:"\u8FD0\u884C\u65F6\u95F4",children:["\u521B\u5EFA\u4E8E: ",new Date((b=($=e.data.info)===null||$===void 0?void 0:$.Created)!==null&&b!==void 0?b:"").toLocaleString()," / \u66F4\u65B0\u4E8E: ",new Date((H=(z=e.data.info)===null||z===void 0?void 0:z.State.StartedAt)!==null&&H!==void 0?H:"").toLocaleString()]}),(0,a.jsx)(u.Z.Item,{label:"\u91CD\u542F\u7B56\u7565",children:(0,a.jsx)(i.A,{name:"container-restart",submitter:!1,onValuesChange:function(){var s=v()(c()().mark(function r(E){var h,C;return c()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if((h=e.data.info)!==null&&h!==void 0&&h.Id){M.next=2;break}return M.abrupt("return");case 2:return M.next=4,(0,g.eE)({md5:e.data.info.Id,restart:E.restart});case 4:return C=M.sent,X.success("\u4FEE\u6539\u91CD\u542F\u7B56\u7565\u6210\u529F"),M.abrupt("return");case 7:case"end":return M.stop()}},r)}));return function(r){return s.apply(this,arguments)}}(),layout:"inline",formRef:Y,children:(0,a.jsx)(B.Z,{defaultValue:(V=e.data.info)===null||V===void 0?void 0:V.HostConfig.RestartPolicy.Name})})}),(0,a.jsx)(u.Z.Item,{label:"\u73AF\u5883\u53D8\u91CF",children:(0,a.jsx)(n.Z,{dataSource:(w=e.data.info)===null||w===void 0?void 0:w.Config.Env,renderItem:function(r){var E=r.split("=");return(0,a.jsxs)(n.Z.Item,{children:[(0,a.jsx)(j.Z.Text,{code:!0,children:E[0]})," = ",(0,a.jsx)(j.Z.Text,{copyable:!0,children:E.slice(1).join("=")})]})}})})]})})]})}},52031:function(W,O,t){t.d(O,{Z:function(){return A}});var I=t(31574),c=t(95591),m=t(38345),v=t(26412),P=t(78451),D=t(63713),d=t(85893);function A(i){var u;return i.data&&i.data.Mounts&&i.data.Mounts.length>0&&(0,d.jsx)(m.Z,{ghost:i.ghost,title:(0,d.jsx)(I.Z,{}),subTitle:"\u6302\u8F7D\u76EE\u5F55\u8BE6\u60C5",children:(0,d.jsx)(v.Z,{column:1,bordered:!0,children:(u=i.data)===null||u===void 0?void 0:u.Mounts.map(function(l,_){var j;return(0,d.jsx)(v.Z.Item,{labelStyle:{width:"30%"},label:l.Type=="volume"?(0,d.jsx)(P.Z,{content:l.Name}):l.Source,children:(0,d.jsxs)(D.Link,{target:"_blank",to:"/app/detail/file/".concat((j=i.data)===null||j===void 0?void 0:j.Id,"?tab=file&path=").concat(encodeURIComponent(l.Destination)),children:[l.Destination," ",(0,d.jsx)(c.Z,{})]})},_)})})})}},94359:function(W,O,t){t.d(O,{Z:function(){return j}});var I=t(67294),c=t(3089),m=t(98165),v=t(18429),P=t(8751),D=t(14313),d=t(30159),A=t(87740),i=t(66309),u=t(83062),l=t(63713),_=t(85893);function j(n){var o=(0,_.jsx)(_.Fragment,{});if(n.status=="0"&&(o=(0,_.jsx)(i.Z,{icon:(0,_.jsx)(c.Z,{}),color:"default",children:"waiting"})),n.status=="10"&&(o=(0,_.jsx)(i.Z,{icon:(0,_.jsx)(m.Z,{spin:!0}),color:"processing",children:"processing"})),n.status=="20"&&(o=(0,_.jsx)(i.Z,{icon:(0,_.jsx)(v.Z,{}),color:"error",children:"error"})),n.status=="30"&&(o=(0,_.jsx)(i.Z,{icon:(0,_.jsx)(P.Z,{}),color:"success",children:"success"})),n.status=="running"||n.status=="healthy"){var f,T;o=(0,_.jsx)(i.Z,{icon:(0,_.jsx)(D.Z,{}),color:"success",children:(f=n.message)!==null&&f!==void 0&&f.showInTag?(T=n.message)===null||T===void 0?void 0:T.content:n.status})}if(n.status=="paused"){var B,g;o=(0,_.jsx)(i.Z,{icon:(0,_.jsx)(d.Z,{}),children:(B=n.message)!==null&&B!==void 0&&B.showInTag?(g=n.message)===null||g===void 0?void 0:g.content:n.status})}if(n.status=="waiting"||n.status=="starting"){var Z,U;o=(0,_.jsx)(i.Z,{icon:(0,_.jsx)(A.Z,{}),children:(Z=n.message)!==null&&Z!==void 0&&Z.showInTag?(U=n.message)===null||U===void 0?void 0:U.content:n.status})}if(n.status=="exited"||n.status=="dead"||n.status=="removing"||n.status=="restarting"||n.status=="unhealthy"||n.status=="created"){var R,a;o=(0,_.jsx)(i.Z,{icon:(0,_.jsx)(v.Z,{}),color:"warning",children:(R=n.message)!==null&&R!==void 0&&R.showInTag?(a=n.message)===null||a===void 0?void 0:a.content:n.status})}if(n.link&&(o=(0,_.jsx)(l.Link,{to:n.link,children:o})),n.message){var L;o=(0,_.jsx)(u.Z,{placement:(L=n.message.placement)!==null&&L!==void 0?L:"top",title:n.message.content,children:o})}return(0,_.jsx)(_.Fragment,{children:o})}},76428:function(W,O,t){t.d(O,{Z:function(){return v}});var I=t(25593),c=t(67294),m=t(85893);function v(P){return(0,m.jsx)(I.Z.Text,{copyable:!0,children:P.title})}},78498:function(W,O,t){t.d(O,{Z:function(){return D}});var I=t(25035),c=t(42075),m=t(83062),v=t(67294),P=t(85893);function D(d){return(0,P.jsxs)(c.Z,{children:[d.title,(0,P.jsx)(m.Z,{title:d.help,children:(0,P.jsx)(I.Z,{})})]})}}}]);
