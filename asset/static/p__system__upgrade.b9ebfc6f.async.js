"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[992],{62635:function(Z,B,e){e.d(B,{Z:function(){return O}});var t=e(87462),g=e(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"},C=m,f=e(84089),v=function(P,_){return g.createElement(f.Z,(0,t.Z)({},P,{ref:_,icon:C}))},y=g.forwardRef(v),O=y},24963:function(Z,B,e){var t=e(67294),g=(0,t.createContext)({});B.Z=g},52756:function(Z,B,e){e.r(B),e.d(B,{default:function(){return P},getLang:function(){return M}});var t=e(82346),g=e(31418),m=e(26058),C=e(85137),f=e(24963),v=e(65913),y=e(67294),O=e(85893);function M(_,I,h){var E=(0,t.getLocale)();h!=null&&h.XK&&(E="zh-XK");var i=(0,t.getIntl)(E).formatMessage({id:_},I);return i}function P(){var _=(0,y.useRef)(),I=(0,t.useIntl)(),h=function(l){for(var o=arguments.length,n=new Array(o>1?o-1:0),S=1;S<o;S++)n[S-1]=arguments[S];i.notification[l]({message:I.formatMessage({id:"notification.title."+l}),description:n.join(" "),placement:"topRight"})},E=function(l){for(var o=arguments.length,n=new Array(o>1?o-1:0),S=1;S<o;S++)n[S-1]=arguments[S];i.message[l](n.join(" "))},i=g.Z.useApp(),a=(0,t.useModel)("@@initialState"),b=a.initialState,V=a.loading,q=a.error,Y=a.refresh,ee=a.setInitialState,K=(0,t.useModel)("subscriber");return b!=null&&b.user.username&&K.addDataHandler("user:permission:".concat(b==null?void 0:b.user.username),function(D){Y()}),(0,O.jsx)(m.Z,{children:(0,O.jsx)(f.Z.Provider,{value:{notice:{success:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];h.apply(void 0,["success"].concat(o))},error:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];h.apply(void 0,["error"].concat(o))},warning:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];h.apply(void 0,["warning"].concat(o))},info:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];h.apply(void 0,["info"].concat(o))},destroy:function(){i.notification.destroy()}},message:{success:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];E.apply(void 0,["success"].concat(o))},error:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];E.apply(void 0,["error"].concat(o))},warning:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];E.apply(void 0,["warning"].concat(o))},info:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];E.apply(void 0,["info"].concat(o))},loading:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];E.apply(void 0,["loading"].concat(o))},destroy:function(){i.message.destroy()}},loading:{show:function(){_.current&&_.current.show()},destroy:function(){_.current&&_.current.destroy()}},lang:function(l,o){return I.formatMessage({id:l},o)}},children:(0,O.jsxs)(v.Z,{ref:_,children:[(0,O.jsx)(t.Outlet,{}),(0,O.jsx)(C.Z.BackTop,{duration:10,style:{bottom:100}})]})},V?"1":"2")})}},65913:function(Z,B,e){var t=e(5574),g=e.n(t),m=e(74330),C=e(67294),f=e(85893),v=(0,C.forwardRef)(function(y,O){(0,C.useImperativeHandle)(O,function(){return{show:function(){I(!0)},destroy:function(){I(!1)}}});var M=(0,C.useState)(!1),P=g()(M,2),_=P[0],I=P[1];return(0,f.jsx)(m.Z,{spinning:_,size:"default",children:y.children})});B.Z=v},60933:function(Z,B,e){e.r(B),e.d(B,{default:function(){return a}});var t=e(15009),g=e.n(t),m=e(99289),C=e.n(m),f=e(5574),v=e.n(f),y=e(52756),O=e(2831),M=e(89035),P=e(90078),_=e(38345),I=e(40056),h=e(25593),E=e(67294),i=e(85893);function a(){var b=(0,E.useState)([]),V=v()(b,2),q=V[0],Y=V[1];(0,E.useEffect)(function(){ee({})},[]);var ee=function(){var K=C()(g()().mark(function D(l){var o,n,S,G,J;return g()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,O.d6)();case 2:o=w.sent,n="",o.data.info.Mounts.map(function(F){F.Type=="volume"&&(n=F.Name)}),S=Object.keys(o.data.info.HostConfig.PortBindings).map(function(F){return o.data.info.HostConfig.PortBindings[F].map(function(ne){return"-p ".concat(ne.HostPort,":").concat(String(parseInt(F)))})}),G=!1,J=o.data.info.HostConfig.Binds.map(function(F){return F.indexOf(":/dpanel")>-1&&(G=!0),"-v ".concat(F)}),G||(n="",o.data.info.Mounts.map(function(F){F.Type=="volume"&&(n=F.Name)}),J.push("-v "+n+":/dpanel")),Y(["sudo docker stop ".concat(o.data.info.Name," && sudo docker rm ").concat(o.data.info.Name),"sudo docker pull ".concat(o.data.info.Config.Image),"sudo docker run -it -d --name ".concat(o.data.info.Name," --restart=always ").concat(S.join(" ")," ").concat(J.join(" ")," ").concat(o.data.info.Config.Image)+(o.data.info.NetworkSettings.Networks["dpanel-local"]?" && docker network connect dpanel-local ".concat(o.data.info.Name):"")]);case 10:case"end":return w.stop()}},D)}));return function(l){return K.apply(this,arguments)}}();return(0,i.jsx)(P._z,{children:(0,i.jsxs)(_.Z,{direction:"column",children:[(0,i.jsx)(I.Z,{message:"\u8BF7\u52A1\u5FC5\u4ED4\u7EC6\u9605\u8BFB",showIcon:!0,description:(0,i.jsxs)("ol",{style:{marginLeft:"-20px"},children:[(0,i.jsx)("li",{children:"\u66F4\u65B0\u9762\u677F\u65F6\uFF0C\u9700\u8981\u5728\u5BBF\u4E3B\u673A\u4E0A\u6267\u884C\u66F4\u65B0\u811A\u672C\u3002"}),(0,i.jsx)("li",{children:"\u66F4\u65B0\u811A\u672C\u652F\u6301\u66F4\u65B0\u548C\u65B0\u88C5\u9762\u677F\u5BB9\u5668\uFF0C\u66F4\u65B0\u65F6\u8BF7\u6307\u5B9A\u5F53\u524D\u9762\u677F\u5BB9\u5668\u7684\u540D\u79F0"}),(0,i.jsx)("li",{children:"\u66F4\u65B0\u8FC7\u7A0B\u4E2D\u4F1A\u5220\u9664\u3001\u91CD\u5EFA\u9762\u677F\u5BB9\u5668\u3002\u5BFC\u81F4\u7AD9\u70B9\u65E0\u6CD5\u8BBF\u95EE\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\u3002\uFF08Lite \u7248\u65E0\u5F71\u54CD\uFF09"}),(0,i.jsx)("li",{children:(0,i.jsx)(h.Z.Text,{type:"danger",children:"\u8BF7\u4FDD\u6301\u9762\u677F\u5BB9\u5668\u4E2D\u7684 /dpanel \u76EE\u5F55\u4E3A\u4E4B\u524D\u5B58\u50A8\u5377\u6216\u662F\u6302\u8F7D\u76EE\u5F55\uFF0C\u5426\u5219\u6570\u636E\u5C06\u4F1A\u4E22\u5931"})})]}),type:"warning",style:{marginBottom:"20px"}}),(0,i.jsxs)(_.Z,{ghost:!0,style:{paddingBottom:50},direction:"column",gutter:[10,50],children:[(0,i.jsx)(_.Z,{bordered:!0,headerBordered:!0,title:(0,i.jsx)(M.Z,{}),bodyStyle:{padding:"10px",background:"#24292f"},subTitle:(0,i.jsxs)(i.Fragment,{children:["\u4E00\u952E\u66F4\u65B0\u811A\u672C\uFF0C",(0,i.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/install/shell",target:"_blank",children:(0,y.getLang)("notification.help")})]}),children:(0,i.jsx)(h.Z.Text,{copyable:!0,style:{color:"#ffffff"},children:"sudo curl -sSL https://dpanel.cc/quick.sh -o quick.sh && sudo bash quick.sh"})}),(0,i.jsx)(_.Z,{bordered:!0,headerBordered:!0,title:(0,i.jsx)(M.Z,{}),bodyStyle:{padding:"10px",background:"#24292f"},subTitle:(0,i.jsxs)(i.Fragment,{children:["\u624B\u52A8\u66F4\u65B0\u811A\u672C\uFF0C",(0,i.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/manual/setting/upgrade",target:"_blank",children:(0,y.getLang)("notification.help")})]}),children:q.map(function(K){return(0,i.jsx)(h.Z.Paragraph,{copyable:!0,style:{color:"#ffffff"},children:K})})})]})]})})}},2831:function(Z,B,e){e.d(B,{Ll:function(){return P},aF:function(){return v},d6:function(){return I},u5:function(){return O}});var t=e(15009),g=e.n(t),m=e(99289),C=e.n(m),f=e(82346);function v(){return y.apply(this,arguments)}function y(){return y=C()(g()().mark(function E(){return g()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,f.request)("/api/common/home/info",{method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},E)})),y.apply(this,arguments)}function O(){return M.apply(this,arguments)}function M(){return M=C()(g()().mark(function E(){return g()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,f.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},E)})),M.apply(this,arguments)}function P(){return _.apply(this,arguments)}function _(){return _=C()(g()().mark(function E(){return g()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,f.request)("/api/common/home/usage",{method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},E)})),_.apply(this,arguments)}function I(){return h.apply(this,arguments)}function h(){return h=C()(g()().mark(function E(){return g()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,f.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},E)})),h.apply(this,arguments)}},66367:function(Z,B,e){e.d(B,{F:function(){return t}});function t(m){return m!=null&&m===m.window}const g=m=>{var C,f;if(typeof window=="undefined")return 0;let v=0;return t(m)?v=m.pageYOffset:m instanceof Document?v=m.documentElement.scrollTop:(m instanceof HTMLElement||m)&&(v=m.scrollTop),m&&!t(m)&&typeof v!="number"&&(v=(f=((C=m.ownerDocument)!==null&&C!==void 0?C:m).documentElement)===null||f===void 0?void 0:f.scrollTop),v};B.Z=g},58375:function(Z,B,e){e.d(B,{Z:function(){return C}});var t=e(75164);function g(f,v,y,O){const M=y-v;return f/=O/2,f<1?M/2*f*f*f+v:M/2*((f-=2)*f*f+2)+v}var m=e(66367);function C(f){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:y=()=>window,callback:O,duration:M=450}=v,P=y(),_=(0,m.Z)(P),I=Date.now(),h=()=>{const i=Date.now()-I,a=g(i>M?M:i,_,f,M);(0,m.F)(P)?P.scrollTo(window.pageXOffset,a):P instanceof Document||P.constructor.name==="HTMLDocument"?P.documentElement.scrollTop=a:P.scrollTop=a,i<M?(0,t.Z)(h):typeof O=="function"&&O()};(0,t.Z)(h)}},40056:function(Z,B,e){e.d(B,{Z:function(){return fe}});var t=e(67294),g=e(89739),m=e(4340),C=e(97937),f=e(21640),v=e(78860),y=e(93967),O=e.n(y),M=e(29372),P=e(64217),_=e(42550),I=e(96159),h=e(53124),E=e(11568),i=e(14747),a=e(83559);const b=(r,s,u,c,p)=>({background:r,border:`${(0,E.bf)(c.lineWidth)} ${c.lineType} ${s}`,[`${p}-icon`]:{color:u}}),V=r=>{const{componentCls:s,motionDurationSlow:u,marginXS:c,marginSM:p,fontSize:j,fontSizeLG:L,lineHeight:W,borderRadiusLG:U,motionEaseInOutCirc:$,withDescriptionIconSize:N,colorText:H,colorTextHeading:X,withDescriptionPadding:Q,defaultPadding:A}=r;return{[s]:Object.assign(Object.assign({},(0,i.Wf)(r)),{position:"relative",display:"flex",alignItems:"center",padding:A,wordWrap:"break-word",borderRadius:U,[`&${s}-rtl`]:{direction:"rtl"},[`${s}-content`]:{flex:1,minWidth:0},[`${s}-icon`]:{marginInlineEnd:c,lineHeight:0},"&-description":{display:"none",fontSize:j,lineHeight:W},"&-message":{color:X},[`&${s}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${u} ${$}, opacity ${u} ${$},
        padding-top ${u} ${$}, padding-bottom ${u} ${$},
        margin-bottom ${u} ${$}`},[`&${s}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${s}-with-description`]:{alignItems:"flex-start",padding:Q,[`${s}-icon`]:{marginInlineEnd:p,fontSize:N,lineHeight:0},[`${s}-message`]:{display:"block",marginBottom:c,color:X,fontSize:L},[`${s}-description`]:{display:"block",color:H}},[`${s}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},q=r=>{const{componentCls:s,colorSuccess:u,colorSuccessBorder:c,colorSuccessBg:p,colorWarning:j,colorWarningBorder:L,colorWarningBg:W,colorError:U,colorErrorBorder:$,colorErrorBg:N,colorInfo:H,colorInfoBorder:X,colorInfoBg:Q}=r;return{[s]:{"&-success":b(p,c,u,r,s),"&-info":b(Q,X,H,r,s),"&-warning":b(W,L,j,r,s),"&-error":Object.assign(Object.assign({},b(N,$,U,r,s)),{[`${s}-description > pre`]:{margin:0,padding:0}})}}},Y=r=>{const{componentCls:s,iconCls:u,motionDurationMid:c,marginXS:p,fontSizeIcon:j,colorIcon:L,colorIconHover:W}=r;return{[s]:{"&-action":{marginInlineStart:p},[`${s}-close-icon`]:{marginInlineStart:p,padding:0,overflow:"hidden",fontSize:j,lineHeight:(0,E.bf)(j),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${u}-close`]:{color:L,transition:`color ${c}`,"&:hover":{color:W}}},"&-close-text":{color:L,transition:`color ${c}`,"&:hover":{color:W}}}}},ee=r=>({withDescriptionIconSize:r.fontSizeHeading3,defaultPadding:`${r.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${r.paddingMD}px ${r.paddingContentHorizontalLG}px`});var K=(0,a.I$)("Alert",r=>[V(r),q(r),Y(r)],ee),D=function(r,s){var u={};for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&s.indexOf(c)<0&&(u[c]=r[c]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,c=Object.getOwnPropertySymbols(r);p<c.length;p++)s.indexOf(c[p])<0&&Object.prototype.propertyIsEnumerable.call(r,c[p])&&(u[c[p]]=r[c[p]]);return u};const l={success:g.Z,info:v.Z,error:m.Z,warning:f.Z},o=r=>{const{icon:s,prefixCls:u,type:c}=r,p=l[c]||null;return s?(0,I.wm)(s,t.createElement("span",{className:`${u}-icon`},s),()=>({className:O()(`${u}-icon`,s.props.className)})):t.createElement(p,{className:`${u}-icon`})},n=r=>{const{isClosable:s,prefixCls:u,closeIcon:c,handleClose:p,ariaProps:j}=r,L=c===!0||c===void 0?t.createElement(C.Z,null):c;return s?t.createElement("button",Object.assign({type:"button",onClick:p,className:`${u}-close-icon`,tabIndex:0},j),L):null};var G=t.forwardRef((r,s)=>{const{description:u,prefixCls:c,message:p,banner:j,className:L,rootClassName:W,style:U,onMouseEnter:$,onMouseLeave:N,onClick:H,afterClose:X,showIcon:Q,closable:A,closeText:k,closeIcon:z,action:re,id:pe}=r,ge=D(r,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[se,ve]=t.useState(!1),ae=t.useRef(null);t.useImperativeHandle(s,()=>({nativeElement:ae.current}));const{getPrefixCls:_e,direction:he,alert:d}=t.useContext(h.E_),T=_e("alert",c),[Ee,Ce,Oe]=K(T),De=x=>{var R;ve(!0),(R=r.onClose)===null||R===void 0||R.call(r,x)},ie=t.useMemo(()=>r.type!==void 0?r.type:j?"warning":"info",[r.type,j]),Me=t.useMemo(()=>typeof A=="object"&&A.closeIcon||k?!0:typeof A=="boolean"?A:z!==!1&&z!==null&&z!==void 0?!0:!!(d!=null&&d.closable),[k,z,A,d==null?void 0:d.closable]),le=j&&Q===void 0?!0:Q,Be=O()(T,`${T}-${ie}`,{[`${T}-with-description`]:!!u,[`${T}-no-icon`]:!le,[`${T}-banner`]:!!j,[`${T}-rtl`]:he==="rtl"},d==null?void 0:d.className,L,W,Oe,Ce),Pe=(0,P.Z)(ge,{aria:!0,data:!0}),ye=t.useMemo(()=>{var x,R;return typeof A=="object"&&A.closeIcon?A.closeIcon:k||(z!==void 0?z:typeof(d==null?void 0:d.closable)=="object"&&(!((x=d==null?void 0:d.closable)===null||x===void 0)&&x.closeIcon)?(R=d==null?void 0:d.closable)===null||R===void 0?void 0:R.closeIcon:d==null?void 0:d.closeIcon)},[z,A,k,d==null?void 0:d.closeIcon]),Ie=t.useMemo(()=>{const x=A!=null?A:d==null?void 0:d.closable;if(typeof x=="object"){const{closeIcon:R}=x;return D(x,["closeIcon"])}return{}},[A,d==null?void 0:d.closable]);return Ee(t.createElement(M.ZP,{visible:!se,motionName:`${T}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:x=>({maxHeight:x.offsetHeight}),onLeaveEnd:X},(x,R)=>{let{className:ue,style:je}=x;return t.createElement("div",Object.assign({id:pe,ref:(0,_.sQ)(ae,R),"data-show":!se,className:O()(Be,ue),style:Object.assign(Object.assign(Object.assign({},d==null?void 0:d.style),U),je),onMouseEnter:$,onMouseLeave:N,onClick:H,role:"alert"},Pe),le?t.createElement(o,{description:u,icon:r.icon,prefixCls:T,type:ie}):null,t.createElement("div",{className:`${T}-content`},p?t.createElement("div",{className:`${T}-message`},p):null,u?t.createElement("div",{className:`${T}-description`},u):null),re?t.createElement("div",{className:`${T}-action`},re):null,t.createElement(n,{isClosable:Me,prefixCls:T,closeIcon:ye,handleClose:De,ariaProps:Ie}))}))}),J=e(15671),oe=e(43144),w=e(61120),F=e(78814),ne=e(82963);function ce(r,s,u){return s=(0,w.Z)(s),(0,ne.Z)(r,(0,F.Z)()?Reflect.construct(s,u||[],(0,w.Z)(r).constructor):s.apply(r,u))}var de=e(60136),me=function(r){function s(){var u;return(0,J.Z)(this,s),u=ce(this,s,arguments),u.state={error:void 0,info:{componentStack:""}},u}return(0,de.Z)(s,r),(0,oe.Z)(s,[{key:"componentDidCatch",value:function(c,p){this.setState({error:c,info:p})}},{key:"render",value:function(){const{message:c,description:p,id:j,children:L}=this.props,{error:W,info:U}=this.state,$=(U==null?void 0:U.componentStack)||null,N=typeof c=="undefined"?(W||"").toString():c,H=typeof p=="undefined"?$:p;return W?t.createElement(G,{id:j,type:"error",message:N,description:t.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},H)}):L}}])}(t.Component);const te=G;te.ErrorBoundary=me;var fe=te}}]);
