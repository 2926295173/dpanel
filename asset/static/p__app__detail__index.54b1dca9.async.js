"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5947],{55809:function(y,d,e){var i=e(87462),a=e(67294),h=e(44805),_=e(84089),o=function(C,P){return a.createElement(_.Z,(0,i.Z)({},C,{ref:P,icon:h.Z}))},f=a.forwardRef(o);d.Z=f},12044:function(y,d,e){e.d(d,{j:function(){return h}});var i=e(34155),a=typeof i!="undefined"&&i.versions!=null&&i.versions.node!=null,h=function(){return typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.matchMedia!="undefined"&&!a}},1699:function(y,d,e){e.d(d,{u:function(){return P}});var i=e(9783),a=e.n(i),h=e(97857),_=e.n(h),o=e(67294),f=e(82346),v=e(42075),C=e(85893),P=function(u){var p=(0,f.useAccess)(),E=Array.isArray(u.access)?u.access:[u.access],O;return typeof u.children=="function"?O=u.children(E.reduce(function(D,m){return _()(_()({},D),{},a()({},m,p[m]))},{})):E.every(function(D){return p[D]})?O=u.children:O=u.fallback,u.space?(0,C.jsx)(v.Z,_()(_()({},u.space),{},{children:O})):O}},24963:function(y,d,e){var i=e(67294),a=(0,i.createContext)({});d.Z=a},50070:function(y,d,e){e.r(d),e.d(d,{AppDetailContext:function(){return U},default:function(){return g}});var i=e(15009),a=e.n(i),h=e(99289),_=e.n(h),o=e(5574),f=e.n(o),v=e(1699),C=e(24963),P=e(60335),A=e(55809),u=e(90078),p=e(82346),E=e(25593),O=e(28036),D=e(50136),m=e(67294),s=e(85893),U=(0,m.createContext)({});function g(){var W,M=(0,m.useContext)(C.Z),L=M.lang,b=M.loading,r=M.message,t=(0,p.useParams)(),l=(0,p.useSearchParams)(),n=f()(l,2),G=n[0],ne=n[1],z=(W=G.get("tab"))!==null&&W!==void 0?W:"edit",J=(0,m.useState)("edit"),S=f()(J,2),V=S[0],w=S[1],R=(0,p.useNavigate)(),H=(0,m.useState)(1),x=f()(H,2),Z=x[0],Q=x[1],$=[{label:(0,s.jsx)(p.Link,{to:"/app/detail/edit/".concat(t.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,s.jsx)(p.Link,{to:"/app/detail/network/".concat(t.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,s.jsx)(E.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){r.info(L("app.detail.createExplorerPlugin")),R("/app/detail/file/".concat(t.id,"?tab=file"))}},{label:(0,s.jsx)(E.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){R("/app/detail/log/".concat(t.id,"?tab=log"))}},{label:(0,s.jsx)(E.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){R("/app/detail/stat/".concat(t.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,s.jsx)(A.Z,{}),disabled:!0}],X=(0,m.useState)($),F=f()(X,2),Y=F[0],q=F[1];(0,m.useEffect)(function(){b.show(),w(z);var j=function(){var I=_()(a()().mark(function N(){var K,k,B;return a()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return K=$,c.prev=1,c.next=4,(0,P.jV)({md5:(k=t.id)!==null&&k!==void 0?k:""});case 4:B=c.sent,K.map(function(T){return T.key=="containerName"&&(T.label=B.data.info.Name),(!B.data.info.State.Running||B.data.info.State.Restarting)&&(T.key=="file"||T.key=="stat")&&(T.disabled=!0),T}),q(K),c.next=13;break;case 9:return c.prev=9,c.t0=c.catch(1),R("/app/list"),c.abrupt("return");case 13:return c.prev=13,b.destroy(),c.finish(13);case 16:case"end":return c.stop()}},N,null,[[1,9,13,16]])}));return function(){return I.apply(this,arguments)}}();j()},[Z,t]);var ee=function(I){w(I.key)};return(0,s.jsx)(U.Provider,{value:{reload:function(){Q(Z+1)}},children:(0,s.jsxs)(u._z,{header:{extra:[(0,s.jsx)(v.u,{access:"canSeeContainerListManageCreate",children:(0,s.jsx)(p.Link,{to:"/app/create/image",children:(0,s.jsx)(O.ZP,{type:"primary",children:"\u521B\u5EFA\u5BB9\u5668"})})},"create")]},children:[(0,s.jsx)(D.Z,{mode:"horizontal",onClick:ee,selectedKeys:[V],items:Y}),(0,s.jsx)(p.Outlet,{})]})})}},60335:function(y,d,e){e.d(d,{IE:function(){return C},IW:function(){return f},KK:function(){return O},LJ:function(){return m},RF:function(){return W},Re:function(){return U},aF:function(){return L},eE:function(){return p},jV:function(){return A}});var i=e(15009),a=e.n(i),h=e(99289),_=e.n(h),o=e(82346);function f(r){return v.apply(this,arguments)}function v(){return v=_()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/container/status",{method:"POST",data:t}));case 1:case"end":return n.stop()}},r)})),v.apply(this,arguments)}function C(r){return P.apply(this,arguments)}function P(){return P=_()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/container/get-list",{data:t,method:"POST"}));case 1:case"end":return n.stop()}},r)})),P.apply(this,arguments)}function A(r){return u.apply(this,arguments)}function u(){return u=_()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/container/get-detail",{data:t,method:"POST"}));case 1:case"end":return n.stop()}},r)})),u.apply(this,arguments)}function p(r){return E.apply(this,arguments)}function E(){return E=_()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/container/update",{data:t,method:"POST"}));case 1:case"end":return n.stop()}},r)})),E.apply(this,arguments)}function O(){return D.apply(this,arguments)}function D(){return D=_()(a()().mark(function r(){return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,o.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return l.stop()}},r)})),D.apply(this,arguments)}function m(r){return s.apply(this,arguments)}function s(){return s=_()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/container/export",{method:"POST",data:t,responseType:"blob"}));case 1:case"end":return n.stop()}},r)})),s.apply(this,arguments)}function U(r){return g.apply(this,arguments)}function g(){return g=_()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/container/commit",{method:"POST",data:t}));case 1:case"end":return n.stop()}},r)})),g.apply(this,arguments)}function W(r){return M.apply(this,arguments)}function M(){return M=_()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/container/upgrade",{method:"POST",data:t}));case 1:case"end":return n.stop()}},r)})),M.apply(this,arguments)}function L(r){return b.apply(this,arguments)}function b(){return b=_()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/container/copy",{method:"POST",data:t}));case 1:case"end":return n.stop()}},r)})),b.apply(this,arguments)}}}]);
