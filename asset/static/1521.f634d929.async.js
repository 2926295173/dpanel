"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1521],{1699:function(x,M,a){a.d(M,{u:function(){return n}});var A=a(9783),l=a.n(A),B=a(97857),o=a.n(B),h=a(67294),C=a(82346),P=a(40411),b=a(42075),O=a(85893),n=function(i){var d=(0,C.useAccess)(),c=Array.isArray(i.access)?i.access:[i.access],u,p=i.fallback;return typeof i.children=="function"?(u=i.children(c.reduce(function(E,j){return o()(o()({},E),{},l()({},j,d[j]))},{})),u||(u=p)):c.every(function(E){return d[E]})?u=i.children:u=p,!p&&u&&i.showProTips&&d.canSeeEnableCe&&(u=(0,O.jsx)(P.Z,{offset:i.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:u})),!p&&u&&i.showProRibbonTips&&d.canSeeEnableCe&&(u=(0,O.jsx)(P.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:u})),i.space?(0,O.jsx)(b.Z,o()(o()({},i.space),{},{children:u})):u}},80821:function(x,M,a){a.d(M,{Z:function(){return O}});var A=a(5574),l=a.n(A),B=a(24963),o=a(86738),h=a(28036),C=a(83062),P=a(67294),b=a(85893);function O(n){var D=(0,P.useState)(!1),i=l()(D,2),d=i[0],c=i[1],u=(0,P.useContext)(B.Z),p=u.lang,E=u.notice,j=u.message,f=function(){c(!0);var e=n.action();e instanceof Promise?e.then(function(t){if(c(!1),t){typeof n.onSuccess=="function"&&n.onSuccess(t);var s="";n.messageSuccess?typeof n.messageSuccess=="function"?s=n.messageSuccess(t):s=n.messageSuccess.indexOf("notification.")==0?p(n.messageSuccess):n.messageSuccess:s=p("notification.finish"),n.asynced?j.info(s):j.success(s)}}).catch(function(t){c(!1),typeof n.onError=="function"&&n.onError(t)}):c(!1)};return n.confirm?(0,b.jsx)(o.Z,{style:{width:500},title:n.confirmTitle?n.confirmTitle:p("notification.title.tip"),description:typeof n.confirm=="string"&&n.confirm.indexOf("notification.")==0?p(n.confirm):n.confirm,onConfirm:f,okText:"Yes",cancelText:"No",onOpenChange:n.confirmOnOpenChange,children:(0,b.jsx)(h.ZP,{block:n.block,disabled:n.disabled,icon:!n.children&&d?void 0:n.icon,loading:d,danger:n.danger,type:n.type,children:n.children})}):(0,b.jsx)(C.Z,{title:n.tips,children:(0,b.jsx)(h.ZP,{block:n.block,style:n.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:n.disabled,icon:!n.children&&d?void 0:n.icon,loading:d,onClick:f,danger:n.danger,type:n.type,children:n.children})})}},28230:function(x,M,a){var A=a(15009),l=a.n(A),B=a(99289),o=a.n(B),h=a(5574),C=a.n(h),P=a(24963),b=a(14946),O=a(184),n=a(5966),D=a(62370),i=a(97462),d=a(52688),c=a(24739),u=a(17186),p=a(28036),E=a(34041),j=a(71230),f=a(15746),g=a(67294),e=a(85893),t=(0,g.forwardRef)(function(s,m){var r,H=(0,g.useState)(!1),Y=C()(H,2),X=Y[0],z=Y[1],y=(0,g.useRef)(),J=(0,g.useContext)(P.Z),Q=J.message;return(0,g.useImperativeHandle)(m,function(){return{}}),(0,e.jsxs)(O.a,{name:"create",title:"\u521B\u5EFA\u7F51\u7EDC",open:X,onOpenChange:function(v){z(v)},formRef:y,trigger:(r=s.trigger)!==null&&r!==void 0?r:(0,e.jsx)(p.ZP,{type:"primary",children:"\u521B\u5EFA\u7F51\u7EDC"}),onFinish:function(){var T=o()(l()().mark(function v(_){var I,F,L,w,Z,S,K,V,k,$,N,R,U,G;return l()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return R={name:_.name,driver:(I=_.driver)!==null&&I!==void 0?I:"bridge",ipSubnet:(F=_.ipSubnet)!==null&&F!==void 0?F:"",ipGateway:(L=_.ipGateway)!==null&&L!==void 0?L:"",ipRange:(w=_.ipRange)!==null&&w!==void 0?w:"",ipAux:_.ipAux,enableIpV6:(Z=_.enableIpV6)!==null&&Z!==void 0?Z:!1,ipV6Subnet:(S=_.ipV6Subnet)!==null&&S!==void 0?S:"",ipV6Gateway:(K=_.ipV6Gateway)!==null&&K!==void 0?K:"",ipV6Range:(V=_.ipV6Range)!==null&&V!==void 0?V:"",ipV6Aux:(k=_.ipV6Aux)!==null&&k!==void 0?k:[],driverOption:_.driverOption,internal:($=_.internal)!==null&&$!==void 0?$:!1,attachable:(N=_.attachable)!==null&&N!==void 0?N:!1},(_.driver=="macvlan"||_.driver=="ipvlan")&&(R.driverOption||(R.driverOption=[]),R.driverOption.push({name:"parent",value:_.macvlanParentCard})),W.next=4,(0,b.XY)(R);case 4:if(U=W.sent,!(U&&U.data&&U.data.id!="")){W.next=10;break}return Q.success("\u521B\u5EFA\u7F51\u7EDC\u6210\u529F"),s.onFinish&&s.onFinish(),(G=y.current)===null||G===void 0||G.resetFields(),W.abrupt("return",!0);case 10:case"end":return W.stop()}},v)}));return function(v){return T.apply(this,arguments)}}(),children:[(0,e.jsx)(n.Z,{label:"\u540D\u79F0",tooltip:"\u4E0D\u914D\u7F6E\u5B50\u7F51\u65F6\uFF0C\u4F1A\u81EA\u52A8\u751F\u6210",name:"name",required:!0,rules:[{required:!0}],placeholder:"\u6307\u5B9A\u552F\u4E00\u7684\u7F51\u7EDC\u540D\u79F0"}),(0,e.jsx)(D.Z,{label:"\u7C7B\u578B",name:"driver",children:(0,e.jsxs)(E.Z,{defaultValue:"bridge",children:[(0,e.jsx)(E.Z.Option,{value:"bridge",children:"bridge"}),(0,e.jsx)(E.Z.Option,{value:"macvlan",children:"macvlan"}),(0,e.jsx)(E.Z.Option,{value:"ipvlan",children:"ipvlan"}),(0,e.jsx)(E.Z.Option,{value:"overlay",children:"overlay"})]})}),(0,e.jsx)(i.Z,{name:["driver"],children:function(v){var _=v.driver;if(_=="macvlan"||_=="ipvlan")return(0,e.jsx)(n.Z,{required:!0,rules:[{required:!0}],label:"\u7236\u7F51\u5361",name:"macvlanParentCard",tooltip:"\u6307\u5B9A\u8981\u6865\u63A5\u7684\u5BBF\u4E3B\u673A\u7F51\u5361\u540D\u79F0"})}}),(0,e.jsxs)(j.Z,{children:[(0,e.jsx)(f.Z,{span:8,children:(0,e.jsx)(d.Z,{label:"\u81EA\u5B9AIPV4\u5B50\u7F51",name:"userIpV4Subnet"})}),(0,e.jsx)(f.Z,{span:8,children:(0,e.jsx)(d.Z,{name:"internal",label:"\u9694\u79BB\u5916\u90E8\u8BBF\u95EE",initialValue:!1})}),(0,e.jsx)(f.Z,{span:8,children:(0,e.jsx)(d.Z,{name:"attachable",label:"\u5141\u8BB8\u624B\u52A8\u9644\u52A0\u5BB9\u5668",initialValue:!1})})]}),(0,e.jsx)(i.Z,{name:["userIpV4Subnet"],children:function(v){var _=v.userIpV4Subnet;if(_)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(c.UW,{title:"IPV4\u914D\u7F6E",children:[(0,e.jsx)(n.Z,{label:"\u5B50\u7F51",name:"ipSubnet",width:"md",tooltip:"\u683C\u5F0F\u4E3A: \u5B50\u7F51\u8D77\u59CB\u5730\u5740/\u63A9\u7801\u3002\u5E38\u89C1\u7684\u683C\u5F0F\u6709 10.0.0.0/8, 172.20.0.0/16, 192.168.1.0/24",placeholder:"192.168.0.0/16"}),(0,e.jsx)(n.Z,{label:"\u7F51\u5173",name:"ipGateway",width:"md",placeholder:"192.168.0.1"}),(0,e.jsx)(n.Z,{label:"\u6307\u5B9AIp\u8303\u56F4",name:"ipRange",width:"md",placeholder:"192.168.1.0/24"})]}),(0,e.jsx)(u.u,{name:"ipAux",label:"\u6392\u9664Ip",children:(0,e.jsxs)(c.UW,{children:[(0,e.jsx)(n.Z,{label:"\u8BBE\u5907\u540D\u79F0",name:"device",width:"md"}),(0,e.jsx)(n.Z,{label:"Ip\u5730\u5740",name:"address",width:"md"})]})})]})}}),(0,e.jsxs)(j.Z,{children:[(0,e.jsx)(f.Z,{span:8,children:(0,e.jsx)(d.Z,{label:"\u542F\u7528IPV6",name:"enableIpV6"})}),(0,e.jsx)(f.Z,{children:(0,e.jsx)(d.Z,{label:"\u81EA\u5B9AIPV6\u5B50\u7F51",name:"userIpV6Subnet",fieldProps:{onChange:function(v,_){if(v){var I;(I=y.current)===null||I===void 0||I.setFieldValue("enableIpV6",!0)}}}})})]}),(0,e.jsx)(i.Z,{name:["userIpV6Subnet"],children:function(v){var _=v.userIpV6Subnet;if(_)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(c.UW,{title:"IPV6\u914D\u7F6E",children:[(0,e.jsx)(n.Z,{label:"\u5B50\u7F51",name:"ipV6Subnet",width:"md",placeholder:"2001:db8::/48"}),(0,e.jsx)(n.Z,{label:"\u7F51\u5173",name:"ipV6Gateway",width:"md",placeholder:"2001:db8::1"}),(0,e.jsx)(n.Z,{label:"Ip\u8303\u56F4",name:"ipV6Range",width:"md",placeholder:"2001:db8::/64"})]}),(0,e.jsx)(u.u,{name:"ipV6Aux",label:"\u6392\u9664Ip",children:(0,e.jsxs)(c.UW,{children:[(0,e.jsx)(n.Z,{label:"\u8BBE\u5907\u540D\u79F0",name:"device",width:"md"}),(0,e.jsx)(n.Z,{label:"Ip\u5730\u5740",name:"address",width:"md"})]})})]})}}),(0,e.jsx)(u.u,{name:"driverOption",label:"\u81EA\u5B9A\u4E49\u9A71\u52A8\u914D\u7F6E",children:(0,e.jsxs)(c.UW,{children:[(0,e.jsx)(n.Z,{label:"\u540D\u79F0",name:"name",width:"md"}),(0,e.jsx)(n.Z,{label:"\u503C",name:"value",width:"md"})]})})]})});M.Z=t},14946:function(x,M,a){a.d(M,{CI:function(){return n},HY:function(){return j},IS:function(){return C},XY:function(){return c},_3:function(){return g},_x:function(){return i},jR:function(){return b},t9:function(){return p}});var A=a(15009),l=a.n(A),B=a(99289),o=a.n(B),h=a(82346);function C(t){return P.apply(this,arguments)}function P(){return P=o()(l()().mark(function t(s){return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("/api/app/network/get-detail",{method:"POST",data:s}));case 1:case"end":return r.stop()}},t)})),P.apply(this,arguments)}function b(t){return O.apply(this,arguments)}function O(){return O=o()(l()().mark(function t(s){return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("/api/app/network/get-list",{method:"POST",data:s}));case 1:case"end":return r.stop()}},t)})),O.apply(this,arguments)}function n(){return D.apply(this,arguments)}function D(){return D=o()(l()().mark(function t(){return l()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,h.request)("/api/app/network/prune",{method:"POST"});case 2:return m.abrupt("return",m.sent);case 3:case"end":return m.stop()}},t)})),D.apply(this,arguments)}function i(t){return d.apply(this,arguments)}function d(){return d=o()(l()().mark(function t(s){return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,h.request)("/api/app/network/delete",{method:"POST",data:s});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},t)})),d.apply(this,arguments)}function c(t){return u.apply(this,arguments)}function u(){return u=o()(l()().mark(function t(s){return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,h.request)("/api/app/network/create",{method:"POST",data:s});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},t)})),u.apply(this,arguments)}function p(t){return E.apply(this,arguments)}function E(){return E=o()(l()().mark(function t(s){return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,h.request)("/api/app/network/disconnect",{method:"POST",data:s});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},t)})),E.apply(this,arguments)}function j(t){return f.apply(this,arguments)}function f(){return f=o()(l()().mark(function t(s){return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,h.request)("/api/app/network/connect",{method:"POST",data:s});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},t)})),f.apply(this,arguments)}function g(t){return e.apply(this,arguments)}function e(){return e=o()(l()().mark(function t(s){return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("/api/app/network/get-container-list",{method:"POST",data:s}));case 1:case"end":return r.stop()}},t)})),e.apply(this,arguments)}}}]);
