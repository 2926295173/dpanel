"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4202],{1883:function(W,c,e){var m=e(87462),d=e(67294),v=e(3936),u=e(84089),E=function(D,P){return d.createElement(u.Z,(0,m.Z)({},D,{ref:P,icon:v.Z}))},g=d.forwardRef(E);c.Z=g},80821:function(W,c,e){e.d(c,{Z:function(){return h}});var m=e(97857),d=e.n(m),v=e(5574),u=e.n(v),E=e(24963),g=e(36146),x=e(86738),D=e(83062),P=e(96074),l=e(83622),r=e(67294),s=e(85893);function h(n){var a=(0,r.useState)(!1),A=u()(a,2),M=A[0],j=A[1],L=(0,r.useContext)(E.Z),K=L.message,I=new g.Uo,B=function(){j(!0);var _=n.action();_ instanceof Promise?_.then(function(t){if(j(!1),t){typeof n.onSuccess=="function"&&n.onSuccess(t);var o="";n.messageSuccess?typeof n.messageSuccess=="function"?o=n.messageSuccess(t):o=n.messageSuccess.indexOf("notification.")==0?I.format(n.messageSuccess):n.messageSuccess:o=I.format("notification.finish"),n.asynced?K.info(o):K.success(o)}}).catch(function(t){j(!1),typeof n.onError=="function"&&n.onError(t)}):j(!1)};return n.confirm?(0,s.jsx)(x.Z,d()(d()({style:{width:500},title:n.confirmTitle?n.confirmTitle:I.format("notification.title.tip"),description:typeof n.confirm=="string"&&n.confirm.indexOf("notification.")==0?I.format(n.confirm):n.confirm,onConfirm:B,okText:"Yes",cancelText:"No",onOpenChange:n.confirmOnOpenChange},n.confirmProps),{},{children:(0,s.jsxs)(D.Z,{title:n.tips,children:[n.showDivider&&(0,s.jsx)(P.Z,{type:"vertical",style:{marginRight:15}}),(0,s.jsx)(l.ZP,{block:n.block,disabled:n.disabled,icon:!n.children&&M?void 0:n.icon,loading:M,danger:n.danger,type:n.type,children:n.children})]})})):(0,s.jsxs)(D.Z,{title:n.tips,children:[n.showDivider&&(0,s.jsx)(P.Z,{type:"vertical",style:{marginRight:15}}),(0,s.jsx)(l.ZP,{block:n.block,style:n.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:n.disabled,icon:!n.children&&M?void 0:n.icon,loading:M,onClick:B,danger:n.danger,type:n.type,children:n.children})]})}},94359:function(W,c,e){e.d(c,{Z:function(){return A}});var m=e(5574),d=e.n(m),v=e(3089),u=e(98165),E=e(18429),g=e(8751),x=e(66212),D=e(14313),P=e(30159),l=e(87740),r=e(50888),s=e(66309),h=e(83062),n=e(36146),a=e(85893);function A(M){var j,L,K=new n.Uo("components.containerStatus"),I=M.status.split("."),B=d()(I,2),b=B[0],_=B[1],t="";t=K.format(M.status,(j=M.statusValue)!==null&&j!==void 0?j:{});var o=(0,a.jsx)(a.Fragment,{});return _=="0"&&(o=(0,a.jsx)(s.Z,{icon:(0,a.jsx)(v.Z,{}),color:"default",children:t})),_=="10"&&(o=(0,a.jsx)(s.Z,{icon:(0,a.jsx)(u.Z,{spin:!0}),color:"processing",children:t})),_=="20"&&(o=(0,a.jsx)(s.Z,{icon:(0,a.jsx)(E.Z,{}),color:"error",children:t})),_=="30"&&(o=(0,a.jsx)(s.Z,{icon:(0,a.jsx)(g.Z,{}),color:"success",children:t})),_=="new"&&(o=(0,a.jsx)(s.Z,{icon:(0,a.jsx)(x.Z,{}),children:t})),(_=="running"||_=="healthy"||_=="active"||_=="ready")&&(o=(0,a.jsx)(s.Z,{icon:(0,a.jsx)(D.Z,{}),color:"success",children:t})),(_=="paused"||_=="pause"||_=="rollback_paused")&&(o=(0,a.jsx)(s.Z,{icon:(0,a.jsx)(P.Z,{}),color:"warning",children:t})),(_=="waiting"||_=="starting"||_=="accepted")&&(o=(0,a.jsx)(s.Z,{icon:(0,a.jsx)(l.Z,{}),children:t})),["deploying","pending","allocated","accepted","assigned","preparing","updating","rollback_started"].includes(_)&&(o=(0,a.jsx)(s.Z,{icon:(0,a.jsx)(r.Z,{}),color:"processing",children:t})),(_=="error"||_=="down"||_=="failed")&&(o=(0,a.jsx)(s.Z,{icon:(0,a.jsx)(E.Z,{}),color:"error",children:t})),["complete","completed","rollback_completed"].includes(_)&&(o=(0,a.jsx)(s.Z,{icon:(0,a.jsx)(g.Z,{}),color:"success",children:t})),["exited","dead","removing","restarting","unhealthy","created","drain","unreachable","shutdown","rejected","remove","orphaned"].includes(_)&&(o=(0,a.jsx)(s.Z,{icon:(0,a.jsx)(E.Z,{}),color:"warning",children:t})),(0,a.jsx)(h.Z,{placement:"top",title:(L=M.tip)!==null&&L!==void 0?L:"",children:o})}},78451:function(W,c,e){e.d(c,{Z:function(){return v}});var m=e(67294),d=e(85893);function v(u){var E;return(0,d.jsx)("span",{style:{width:u.width?u.width:"auto",wordBreak:"break-word"},children:(E=u.content)!==null&&E!==void 0?E:u.children})}},3616:function(W,c,e){e.d(c,{Ed:function(){return u},FK:function(){return d},R_:function(){return m},ob:function(){return v}});var m=window.innerWidth<=1024?"90vw":"65vw",d="90vw",v="60vw",u="50vh"},24963:function(W,c,e){var m=e(67294),d=(0,m.createContext)({});c.Z=d},52548:function(W,c,e){e.r(c),e.d(c,{default:function(){return o}});var m=e(15009),d=e.n(m),v=e(99289),u=e.n(v),E=e(90078),g=e(56729),x=e(83622),D=e(42075),P=e(66309),l=e(96074),r=e(83062),s=e(25593),h=e(50136),n=e(82346),a=e(18148),A=e(94359),M=e(86548),j=e(1883),L=e(80821),K=e(67294),I=e(67255),B=e(78451),b=e(74344),_=e(36146),t=e(85893);function o(){var y=(0,K.useRef)(),$=(0,K.useRef)(),p=new _.Uo("image");return(0,t.jsxs)(E._z,{header:{extra:[(0,t.jsx)(x.ZP,{type:"primary",children:(0,t.jsx)(n.Link,{to:"/image/create",children:_.Ob.format("image.create")})},"create"),(0,t.jsx)(x.ZP,{children:_.Ob.format("image.pull")},"pull")]},children:[(0,t.jsx)(g.Z,{scroll:{x:"max-content"},actionRef:y,rowKey:"id",columns:[{title:_.FD.format("listTitle"),render:function(R,i,T,O){return(0,t.jsx)(D.Z,{direction:"vertical",style:{textAlign:"left"},children:i.title},i.id)}},{title:_.FD.format("listImageName"),dataIndex:"tag",search:!1,render:function(R,i,T,O){return i.imageInfo?i.imageInfo.info.Id==""?(0,t.jsx)(P.Z,{children:"none"},"none"):(0,t.jsx)(D.Z,{direction:"vertical",style:{textAlign:"left"},children:i.imageInfo.info.RepoTags.map(function(f,C){return(0,t.jsx)(P.Z,{color:"#2db7f5",children:f},C)})},i.id):(0,t.jsx)(P.Z,{color:"#2db7f5",children:i.tag},i.id)}},{title:"Id",search:!1,copyable:!0,width:300,render:function(R,i,T,O,f){return(0,t.jsx)(B.Z,{content:i.imageInfo&&i.imageInfo.info.Id})}},{title:_.FD.format("listStatus"),width:150,ellipsis:!0,search:!1,render:function(R,i,T,O){return[(0,t.jsx)("div",{children:(0,t.jsx)(A.Z,{status:"status.".concat(i.status)},i.id)},i.id)]}},{title:_.FD.format("listManage"),valueType:"option",key:"option",width:100,fixed:"right",render:function(R,i,T,O){return(0,t.jsxs)(D.Z,{split:(0,t.jsx)(l.Z,{type:"vertical"}),children:[(0,t.jsx)(n.Link,{to:"/image/create?id="+i.id,type:"link",children:(0,t.jsx)(r.Z,{title:_.FD.format("listManageEdit"),children:(0,t.jsx)(M.Z,{})})},"rebuild"),(0,t.jsx)(s.Z.Link,{onClick:function(){var C;(C=$.current)===null||C===void 0||C.show(i.message)},children:(0,t.jsx)(r.Z,{title:_.FD.format("listManageLog"),children:(0,t.jsx)(j.Z,{})})},"logs")]})}}],request:function(){var U=u()(d()().mark(function R(i,T,O){var f,C,S;return d()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(0,a.Xn)({page:(f=i.current)!==null&&f!==void 0?f:1,pageSize:(C=i.pageSize)!==null&&C!==void 0?C:10});case 2:return S=Z.sent,Z.abrupt("return",{data:S.data.list,success:!0,total:S.data.total});case 4:case"end":return Z.stop()}},R)}));return function(R,i,T){return U.apply(this,arguments)}}(),pagination:(0,I.Oh)(),search:{collapsed:!1},rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},tableAlertOptionRender:function(R){var i=R.selectedRowKeys;return(0,t.jsx)(D.Z,{size:16,children:(0,t.jsx)(L.Z,{danger:!0,type:"primary",action:function(){return(0,a.$q)({id:i})},onSuccess:function(){var O,f;return!((O=y.current)===null||O===void 0)&&O.reloadAndRest&&((f=y.current)===null||f===void 0||f.reloadAndRest()),!0},onError:function(){var O,f;return!((O=y.current)===null||O===void 0)&&O.reset&&((f=y.current)===null||f===void 0||f.reset()),!0},confirm:"notification.confirm.title",children:_.FD.format("listManageDeleteBatch")})})},tableExtraRender:function(){return(0,t.jsx)(h.Z,{mode:"horizontal",selectedKeys:["build"],items:[{label:(0,t.jsx)(n.Link,{to:"/image/list",replace:!0,children:p.format("title")}),key:"all"},{label:(0,t.jsx)(n.Link,{to:"/image/list/recycle",replace:!0,children:p.format("taskTitle")}),key:"build"}]})}}),(0,t.jsx)(b.Z,{ref:$})]})}},67255:function(W,c,e){e.d(c,{G$:function(){return E},LX:function(){return P},MJ:function(){return u},Oh:function(){return v},h5:function(){return x},j_:function(){return g},rj:function(){return D}});var m=e(5574),d=e.n(m);function v(l){var r=localStorage.getItem("dpanel-pagesize");return r=="all"?!1:{defaultCurrent:l==null?void 0:l.page,showSizeChanger:!0,defaultPageSize:parseInt(r!=null?r:"20"),showQuickJumper:!0}}function u(l,r){r?localStorage.setItem("dpanel-page-"+l,"".concat(r)):localStorage.removeItem("dpanel-page-"+l)}function E(l,r){var s=r?Math.ceil((r==null?void 0:r.total)/(r==null?void 0:r.pageSize)):void 0,h=localStorage.getItem("dpanel-page-"+l),n=1;return h&&(n=parseInt(h)),s&&n>s?1:n}function g(l){return{persistenceKey:l,persistenceType:"localStorage"}}var x=["descend","ascend"];function D(l,r){var s=localStorage.getItem("dpanel-table-sort-".concat(l));if(s){var h=s.split("|"),n=d()(h,2),a=n[0],A=n[1];if(a==r)return A}}function P(l,r,s){!r||!s?localStorage.removeItem("dpanel-table-sort-".concat(l)):localStorage.setItem("dpanel-table-sort-".concat(l),"".concat(r,"|").concat(s))}}}]);
