"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7667],{62107:function(Me,le,t){t.d(le,{Z:function(){return m}});var ge=t(5574),W=t.n(ge),xe=t(15009),f=t.n(xe),je=t(99289),S=t.n(je),g=t(67294),O=t(37767),P=t(60335),se=t(82346),x=t(58638),oe=t(85265),de=t(42075),ce=t(96074),ye=t(83062),Ze=t(86250),Ce=t(52031),De=t(14189),ve=t(27813),Se=t(46934),fe=t(184),j=t(25593),_=t(95591),Z=t(5251),s=t(85893),me=(0,g.forwardRef)(function(C,w){var A,U=(0,g.useState)(!1),$=W()(U,2),B=$[0],o=$[1];return(0,g.useImperativeHandle)(w,function(){return{}}),(0,s.jsx)(fe.a,{submitter:!1,title:(0,Z.fi)(C.containerInfo.Name,"/")+" - \u6587\u4EF6\u7BA1\u7406",onOpenChange:function(e){o(e)},trigger:(0,s.jsx)(j.Z.Link,{children:(0,s.jsx)(_.Z,{})},"file"),children:B&&(0,s.jsx)(Se.Z,{md5:C.containerInfo.Id,initPath:(A=C.containerInfo.Config.WorkingDir)!==null&&A!==void 0?A:"/"})})}),G=me,J=t(24963),E=t(62573),ee=t(52209),Pe=(0,g.forwardRef)(function(C,w){(0,g.useImperativeHandle)(w,function(){return{}});var A=(0,g.useState)(!1),U=W()(A,2),$=U[0],B=U[1];return(0,s.jsx)(fe.a,{submitter:!1,title:(0,Z.fi)(C.containerInfo.Name,"/")+" - \u7F51\u7EDC\u7BA1\u7406",onOpenChange:function(X){B(X)},open:$,trigger:(0,s.jsx)(j.Z.Link,{children:(0,s.jsx)(ee.Z,{})},"file"),children:(0,s.jsx)(E.Z,{ghost:!0,containerInfo:C.containerInfo})})}),Ee=Pe,he=(0,g.forwardRef)(function(C,w){(0,g.useImperativeHandle)(w,function(){return{show:function(H){return S()(f()().mark(function F(){return f()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return ne(!0),Q.next=3,Fe(H);case 3:case"end":return Q.stop()}},F)}))()}}});var A=(0,g.useContext)(J.Z),U=A.loading,$=(0,g.useState)(),B=W()($,2),o=B[0],X=B[1],e=(0,g.useState)(!1),V=W()(e,2),te=V[0],ne=V[1],Fe=function(){var N=S()(f()().mark(function H(F){var R;return f()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,(0,P.jV)({md5:F});case 2:R=z.sent,R.data&&(R.data.info.HostConfig.NetworkMode=="host"&&R.data.info.Config.ExposedPorts&&Object.keys(R.data.info.Config.ExposedPorts).map(function(re){R.data.info.NetworkSettings.Ports[re]=[{HostIp:"0.0.0.0",HostPort:re.substring(0,re.indexOf("/"))}]}),X(R.data));case 4:case"end":return z.stop()}},H)}));return function(F){return N.apply(this,arguments)}}();return(0,s.jsx)(oe.Z,{loading:!o,title:"\u5FEB\u6377\u67E5\u770B\u5BB9\u5668",open:te,onClose:function(){ne(!1)},width:800,extra:(0,s.jsxs)(de.Z,{split:(0,s.jsx)(ce.Z,{type:"vertical"}),children:[(o==null?void 0:o.info)&&(0,s.jsx)(G,{containerInfo:o.info}),(o==null?void 0:o.info)&&(0,s.jsx)(Ee,{containerInfo:o.info}),(0,s.jsx)(ye.Z,{title:"\u67E5\u770B\u5B8C\u6574\u4FE1\u606F",children:(0,s.jsx)(se.Link,{to:"/app/detail/edit/"+(o==null?void 0:o.info.Id),children:(0,s.jsx)(x.Z,{})},"detail")})]}),children:(0,s.jsxs)(Ze.Z,{vertical:!0,gap:20,children:[o&&(0,s.jsx)(De.Z,{ghost:!0,data:o==null?void 0:o.info,onFinish:S()(f()().mark(function N(){return f()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,Fe(o.info.Id);case 2:return F.t0=F.sent,F.abrupt("return",[F.t0]);case 4:case"end":return F.stop()}},N)}))}),o&&(0,s.jsx)(ve.Z,{ghost:!0,data:o,checkContainerUpgrade:function(){ne(!1),C.onUpgradeFinish&&C.onUpgradeFinish()}}),o&&(0,s.jsx)(O.Z,{data:o,ghost:!0}),(0,s.jsx)(Ce.Z,{data:o==null?void 0:o.info,ghost:!0})]})})}),m=he},9740:function(Me,le,t){t.r(le),t.d(le,{default:function(){return re}});var ge=t(19632),W=t.n(ge),xe=t(15009),f=t.n(xe),je=t(99289),S=t.n(je),g=t(5574),O=t.n(g),P=t(80821),se=t(54964),x=t(90098),oe=t(43425),de=t(74842),ce=t(48689),ye=t(33160),Ze=t(87784),Ce=t(30159),De=t(86548),ve=t(89035),Se=t(45742),fe=t(90078),j=t(38345),_=t(97269),Z=t(62370),s=t(82346),me=t(28036),G=t(42075),J=t(25593),E=t(84567),ee=t(96074),Pe=t(63490),Ee=t(83062),he=t(92398),m=t(67294),C=t(99861),w=t(95089),A=t(95213),U=t(24963),$=t(91058),B=t(12320),o=t(89629),X=t(78267),e=t(85893),V=new B.Terminal(se.a),te=new X.FitAddon;function ne(M){var k=(0,s.useModel)("subscriber");return k.addDataHandler("compose:log:"+M.id,function(ae){V.write(ae.data)}),(0,m.useEffect)(function(){return window.addEventListener("resize",function(){te.fit()}),V.options.fontSize=12,V.loadAddon(te),V.open(document.getElementById("terminal-log")),te.fit(),V.clear(),function(){k.progress.close("compose:log:"+M.id)}},[M.id]),(0,e.jsx)("div",{id:"terminal-log",style:{width:"100%",height:"500px"}})}var Fe=t(37413),N=t(87662),H=t(94359),F=t(79245),R=t(78451),Q=t(57716),z=t(62107);function re(){var M,k,ae,Re=(0,m.useContext)(U.Z),$e=Re.loading,Ke=Re.lang,it=Re.notice,ie=(0,s.useParams)(),Ie=(0,s.useNavigate)(),Ye=(0,m.useState)(),Le=O()(Ye,2),n=Le[0],We=Le[1],I=(0,m.useRef)(),Je=(0,m.useState)(0),Oe=O()(Je,2),L=Oe[0],T=Oe[1],Xe=(0,m.useState)("default"),Be=O()(Xe,2),ke=Be[0],K=Be[1],y=(0,m.useRef)(),Ve=(0,s.useModel)("subscriber"),be=(0,m.useState)(""),Ne=O()(be,2),qe=Ne[0],_e=Ne[1],pe=(0,m.useRef)(),b=(0,m.useRef)(),Ae=(0,m.useRef)(),et=(0,m.useState)(!1),Te=O()(et,2),tt=Te[0],Ge=Te[1],nt=(0,s.useSearchParams)(),we=O()(nt,2),rt=we[0],at=we[1];Ve.addDataHandler("compose:"+ie.id,function(i){var a;(a=I.current)===null||a===void 0||a.write(i.data)});var Ue=(0,m.useRef)(),He=(0,m.useRef)(),Qe=function(){var i=S()(f()().mark(function a(r){var u,l,c;return f()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(K("deploy"),(u=I.current)===null||u===void 0||u.clear(),!r.pullImageUseDPanel){h.next=6;break}return h.next=5,(l=Ae.current)===null||l===void 0?void 0:l.start();case 5:(c=Ae.current)===null||c===void 0||c.finish();case 6:return h.next=8,(0,x.Oh)(r);case 8:T(L+1);case 9:case"end":return h.stop()}},a)}));return function(r){return i.apply(this,arguments)}}();return(0,m.useEffect)(function(){return $e.show(),Ge(!1),(0,x.Pn)({id:ie.id}).then(function(){var i=S()(f()().mark(function a(r){var u,l,c,v,h,p;return f()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:u=r.data.detail,u.setting.status&&u.setting.status.indexOf("running")>-1&&(u.isRunning=!0),u.setting.status&&u.setting.status.indexOf("paused")>-1&&(u.isPaused=!0),u.setting.status&&u.setting.status.indexOf("exited")>-1&&(u.isExited=!0),u.setting.status&&u.setting.status=="waiting"?u.isDeploy=!1:u.isDeploy=!0,u.setting.status&&u.setting.status.indexOf("created")>-1&&(u.isCreated=!0,u.isDeploy=!1),r.data.project&&(u.imageList=W()(new Set(Object.keys(r.data.project.services).map(function(d){var D;return(D=r.data.project.services[d].image)!==null&&D!==void 0?D:""})))),l=r.data.project,(!r.data.containerList||r.data.containerList.length==0)&&l&&l.services&&(r.data.containerList=Object.keys(l.services).map(function(d){return{name:"",service:d,publishers:l.services[d].ports?l.services[d].ports.map(function(D){var Y;return{url:"",targetPort:D.target,publishedPort:parseInt(D.published),protocol:(Y=D.protocol)!==null&&Y!==void 0?Y:""}}):[],state:"waiting",status:""}})),r.data.containerList&&((0,N.EH)().then(function(d){_e(d.data.ip)}),u.containerList=r.data.containerList,(c=y.current)===null||c===void 0||c.setFieldValue("deployServiceName",r.data.detail.setting.deployServiceName)),u.yamlList=r.data.yaml,We(u),l!=null&&l.services&&Object.keys(l.services).map(function(d){var D=[];if(l.services&&l.services[d]&&(l.services[d].environment&&Object.keys(l.services[d].environment).map(function(ze){l.services[d].environment&&D.push({name:ze,value:l.services[d].environment[ze]})}),D.length!=0)){var Y;(Y=y.current)===null||Y===void 0||Y.setFieldValue(["environmentService",d],D)}}),r.data.detail.setting.environment?(v=y.current)===null||v===void 0||v.setFieldValue("environment",r.data.detail.setting.environment):(p=(0,F.m)(r.data.yaml[0]),(h=y.current)===null||h===void 0||h.setFieldValue("environment",p)),u.isDeploy&&(0,x.VN)({id:ie.id});case 15:case"end":return ue.stop()}},a)}));return function(a){return i.apply(this,arguments)}}()).catch(function(i){Ie("/compose/list")}).finally(S()(f()().mark(function i(){return f()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:$e.destroy();case 1:case"end":return r.stop()}},i)}))),function(){Ve.progress.close("compose:log:"+ie.id)}},[L]),(0,m.useEffect)(function(){if(rt.get("op")=="deploy"&&n){var i={id:n.id||n.name,pullImageUseDPanel:!0,environment:n.setting.environment,deployServiceName:[],createPath:!0,removeOrphans:!0};Qe(i),T(L+1),at("")}},[n]),(0,e.jsxs)(fe._z,{header:{extra:[(0,e.jsx)(s.Link,{to:"/compose/create",reloadDocument:location.search.length>0,children:(0,e.jsx)(me.ZP,{type:"primary",children:"\u521B\u5EFA\u4EFB\u52A1"},"createCompose")},"create")]},children:[(0,e.jsx)(Q.Z,{ref:Ue}),(0,e.jsx)(z.Z,{ref:He}),(0,e.jsxs)(j.Z,{direction:"column",ghost:!0,gutter:[10,10],children:[(0,e.jsx)(j.Z,{title:(0,e.jsx)(oe.Z,{}),subTitle:"\u64CD\u4F5C - "+(n==null?void 0:n.name),bordered:!0,extra:(0,e.jsx)(e.Fragment,{children:n&&n.imageList&&n.imageList.length>0&&(0,e.jsx)(C.Z,{ref:Ae,image:n.imageList})}),headerBordered:!0,children:n&&(0,e.jsxs)(G.Z,{wrap:!0,children:[(0,e.jsx)(P.Z,{icon:(0,e.jsx)(de.Z,{}),type:"primary",confirm:(0,e.jsxs)(G.Z,{style:{width:300},direction:"vertical",children:[(0,e.jsx)(J.Z.Text,{children:"\u91CD\u65B0\u521B\u5EFA\u8BE5\u4EFB\u52A1\u4E0B\u7684\u5BB9\u5668\uFF1F"}),(0,e.jsxs)(_.A,{name:"createForm",formRef:b,layout:"inline",submitter:!1,children:[(0,e.jsx)(Z.Z,{initialValue:!1,name:"pullImageUseCommand",valuePropName:"checked",children:(0,e.jsx)(E.Z,{children:"\u4F7F\u7528\u547D\u4EE4\u62C9\u53D6\u955C\u50CF\uFF08\u9700\u914D\u7F6E\u547D\u4EE4\u4EE3\u7406\uFF09\uFF1F"})}),(0,e.jsx)(Z.Z,{initialValue:!0,name:"pullImageUseDPanel",valuePropName:"checked",children:(0,e.jsx)(E.Z,{defaultChecked:!0,children:"\u4F7F\u7528\u9762\u677F\u62C9\u53D6\u955C\u50CF\uFF08\u9700\u914D\u7F6E\u4ED3\u5E93\u52A0\u901F\uFF09\uFF1F"})}),(0,e.jsx)(Z.Z,{initialValue:!0,name:"createPath",valuePropName:"checked",children:(0,e.jsx)(E.Z,{defaultChecked:!0,children:"\u521B\u5EFA\u6302\u8F7D\u76EE\u5F55\uFF08\u4EC5\u9762\u677F\u975E\u5BB9\u5668\u90E8\u7F72\u751F\u6548\uFF09\uFF1F"})}),(0,e.jsx)(Z.Z,{initialValue:!0,name:"removeOrphans",valuePropName:"checked",children:(0,e.jsx)(E.Z,{defaultChecked:!0,children:"\u6E05\u9664\u5DF2\u91CD\u547D\u540D\u6216\u662F\u88AB\u5220\u9664\u7684\u670D\u52A1\uFF1F"})})]})]}),action:S()(f()().mark(function i(){var a,r,u,l,c,v,h,p,q;return f()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(p={id:n.id||n.name},(a=b.current)!==null&&a!==void 0&&a.getFieldValue&&b.current.getFieldValue("pullImageUseDPanel")&&(p.pullImageUseDPanel=!0),p.environment=(r=y.current)===null||r===void 0?void 0:r.getFieldValue("environment"),p.deployServiceName=(u=y.current)===null||u===void 0?void 0:u.getFieldValue("deployServiceName"),p.createPath=(l=(c=b.current)===null||c===void 0?void 0:c.getFieldValue("createPath"))!==null&&l!==void 0?l:!0,p.removeOrphans=(v=(h=b.current)===null||h===void 0?void 0:h.getFieldValue("removeOrphans"))!==null&&v!==void 0?v:!0,!(n!=null&&n.isDeploy)){d.next=10;break}if(!((q=b.current)!==null&&q!==void 0&&q.getFieldValue("pullImageUseCommand"))){d.next=10;break}return d.next=10,(0,x.GG)({id:n.id||n.name,op:"pull"});case 10:Qe(p);case 11:case"end":return d.stop()}},i)})),children:n.isDeploy?"\u66F4\u65B0":"\u542F\u52A8"},"create"),(n.isDeploy||n.isCreated)&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(P.Z,{action:function(){var a;return(a=I.current)===null||a===void 0||a.clear(),K("destory"),(0,x.mg)({id:n.id||n.name,deleteImage:!1,deleteData:!1,deleteVolume:!1,deletePath:!1})},onSuccess:function(){T(L+1)},type:"primary",danger:!0,confirm:"notification.confirm.title",icon:(0,e.jsx)(ce.Z,{}),children:"\u5220\u9664\u5BB9\u5668"}),(0,e.jsx)(ee.Z,{type:"vertical"})]}),n.isDeploy&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(P.Z,{icon:(0,e.jsx)(ye.Z,{}),action:S()(f()().mark(function i(){return f()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return K("crtl"),r.next=3,(0,x.GG)({id:n.id||n.name,op:"restart"});case 3:T(L+1);case 4:case"end":return r.stop()}},i)})),children:"\u91CD\u542F"},"restart"),(0,e.jsx)(P.Z,{action:function(){var a;return(a=I.current)===null||a===void 0||a.clear(),K("crtl"),(0,x.GG)({id:n.id||n.name,op:"stop"})},icon:(0,e.jsx)(Ze.Z,{}),disabled:n.isExited,onSuccess:function(){T(L+1)},children:"\u505C\u6B62"}),n.isPaused&&(0,e.jsx)(P.Z,{action:function(){var a;return K("crtl"),(a=I.current)===null||a===void 0||a.clear(),(0,x.GG)({id:n.id||n.name,op:"unpause"})},onSuccess:function(){T(L+1)},icon:(0,e.jsx)(de.Z,{}),children:"\u6062\u590D"}),!n.isPaused&&(0,e.jsx)(P.Z,{action:function(){var a;return K("crtl"),(a=I.current)===null||a===void 0||a.clear(),(0,x.GG)({id:n.id||n.name,op:"pause"})},onSuccess:function(){T(L+1)},icon:(0,e.jsx)(Ce.Z,{}),disabled:!n.isRunning,children:"\u6682\u505C"})]}),(0,e.jsx)(ee.Z,{type:"vertical"}),(0,e.jsx)(s.Link,{to:"/compose/create?id="+(n.id||n.name),children:(0,e.jsx)(me.ZP,{icon:(0,e.jsx)(De.Z,{}),children:"\u7F16\u8F91\u4EFB\u52A1"})}),n.isDeploy&&n.id>0&&(0,e.jsx)(P.Z,{type:"primary",action:S()(f()().mark(function i(){var a,r,u,l,c,v,h,p,q;return f()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return(a=I.current)===null||a===void 0||a.clear(),K("destory"),d.next=4,(0,x.mg)({id:(r=n==null?void 0:n.id)!==null&&r!==void 0?r:0,deleteImage:(u=(l=pe.current)===null||l===void 0?void 0:l.getFieldValue("deleteImage"))!==null&&u!==void 0?u:!1,deleteData:!0,deleteVolume:(c=(v=pe.current)===null||v===void 0?void 0:v.getFieldValue("deleteVolume"))!==null&&c!==void 0?c:!1,deletePath:(h=(p=pe.current)===null||p===void 0?void 0:p.getFieldValue("deletePath"))!==null&&h!==void 0?h:!1});case 4:q=d.sent;case 5:case"end":return d.stop()}},i)})),danger:!0,onSuccess:function(){Ie("/compose/list")},confirm:(0,e.jsxs)(G.Z,{style:{width:240},direction:"vertical",children:[(0,e.jsx)(J.Z.Text,{children:"\u4F1A\u540C\u65F6\u5220\u9664\u5BB9\u5668\u53CA\u90E8\u7F72\u76F8\u5173\u6570\u636E\uFF0C\u672A\u52FE\u9009\u5220\u9664 compose \u6587\u4EF6\u65F6 yaml \u6587\u4EF6\u5C06\u4F1A\u4FDD\u7559\uFF0C\u786E\u8BA4\u5417\uFF1F"}),(0,e.jsxs)(_.A,{formRef:pe,layout:"inline",submitter:!1,children:[(0,e.jsx)(Z.Z,{initialValue:!1,name:"deleteImage",valuePropName:"checked",children:(0,e.jsx)(E.Z,{children:"\u5220\u9664\u955C\u50CF\uFF1F"})}),(0,e.jsx)(Z.Z,{initialValue:!1,name:"deleteVolume",valuePropName:"checked",children:(0,e.jsx)(E.Z,{children:"\u5220\u9664\u5B58\u50A8\u5377\uFF1F"})}),(0,e.jsx)(Z.Z,{initialValue:!1,name:"deletePath",valuePropName:"checked",children:(0,e.jsx)(E.Z,{children:"\u5220\u9664 Compose \u6587\u4EF6\u548C\u4EFB\u52A1\u76EE\u5F55\uFF1F"})})]})]}),children:"\u5220\u9664\u4EFB\u52A1"})]})},"operator"),(0,e.jsxs)(j.Z,{split:"vertical",children:[(0,e.jsxs)(j.Z,{colSpan:"45%",direction:"column",split:"horizontal",title:"\u542F\u52A8\u914D\u7F6E",subTitle:"\u7F16\u8F91\u540E\u53EA\u5F71\u54CD\u672C\u6B21\u90E8\u7F72",extra:[n&&!n.isDeploy&&(0,e.jsx)(E.Z,{onChange:function(a){Ge(a.target.checked)},children:"\u81EA\u5B9A\u4E49\u90E8\u7F72\u5BB9\u5668\u670D\u52A1\uFF1F"},"selectService")],children:[ke!="default"&&(0,e.jsx)(j.Z,{title:(0,e.jsx)(ve.Z,{}),subTitle:"\u63A7\u5236\u53F0",extra:(0,e.jsx)(G.Z,{children:(0,e.jsx)(P.Z,{action:function(){var a;return(a=I.current)===null||a===void 0||a.clear(),(0,x.U_)({})},icon:(0,e.jsx)(ce.Z,{}),danger:!0,onSuccess:function(){T(L+1)},children:"\u4E2D\u6B62\u6267\u884C"},"kill")}),children:(0,e.jsx)(se.Z,{height:"300px",style:{fontSize:12},ref:I})}),n&&(0,e.jsx)(j.Z,{children:(0,e.jsx)(Pe.Z,{scroll:{x:"max-content"},rowKey:"service",pagination:!1,columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"name",width:200,render:function(a,r,u){return(0,e.jsx)(Ee.Z,{title:r.service,children:(0,e.jsx)(R.Z,{content:r.name?r.name:r.service})})}},{title:"\u7AEF\u53E3",render:function(a,r,u){var l=[],c=[];return r.publishers&&r.publishers.map(function(v){v.publishedPort?l.push({PrivatePort:v.targetPort,Type:v.protocol,IP:v.url,PublicPort:v.publishedPort}):v.publishedPort&&c.push({PrivatePort:v.targetPort,Type:v.protocol,IP:v.url,PublicPort:v.publishedPort})}),(0,e.jsx)(Fe.Z,{publicPort:l,privatePort:c,domain:[],serverIp:qe})}},{title:"\u72B6\u6001",render:function(a,r,u){return(0,e.jsx)(H.Z,{status:r.state,message:{content:Ke("container.status.".concat(r.state)),placement:"top",showInTag:!0}},r.name)}},{title:"\u64CD\u4F5C",fixed:"right",render:function(a,r,u){return(0,e.jsxs)(G.Z,{split:(0,e.jsx)(ee.Z,{type:"vertical"}),children:[(0,e.jsx)(J.Z.Link,{onClick:function(){var c;(c=He.current)===null||c===void 0||c.show(r.name)},children:(0,e.jsx)(oe.Z,{})},"container"),r.state=="running"&&(0,e.jsx)(J.Z.Link,{onClick:function(){var c;(c=Ue.current)===null||c===void 0||c.show(r.name)},children:(0,e.jsx)(ve.Z,{})},"console")]})}}],dataSource:n.containerList,rowSelection:tt&&n.containerList?{defaultSelectedRowKeys:n.containerList.map(function(i){return i.service}),onChange:function(a,r,u){var l;(l=y.current)===null||l===void 0||l.setFieldValue("deployServiceName",a)}}:void 0})}),(0,e.jsxs)(_.A,{formRef:y,submitter:!1,children:[(0,e.jsx)(Z.Z,{name:"deployServiceName",hidden:!0}),!(n!=null&&n.isDeploy)&&(0,e.jsx)(j.Z,{title:"\u73AF\u5883\u53D8\u91CF",subTitle:"\u9762\u677F\u751F\u6210 .dpanel.env \u6587\u4EF6\uFF0C\u540C\u65F6\u4F1A\u52A0\u8F7D .env",children:(0,e.jsx)($.Z,{showCardGhost:!0,name:"environment",showDisableName:!0,showInDrawer:!0,requireValue:!0})}),!(n!=null&&n.isDeploy)&&(0,e.jsx)(j.Z,{title:"\u670D\u52A1\u73AF\u5883\u53D8\u91CF",tooltip:"\u4FEE\u6539\u670D\u52A1\u4E2D\u7684\u73AF\u5883\u53D8\u91CF\u65F6\uFF0C\u8BF7\u5728 yaml \u4E2D\u5C06\u503C\u5148\u6620\u5C04\u6210\u81EA\u5B9A\u4E49\u7684\u53D8\u91CF\u540D",children:(0,e.jsx)(he.Z,{indicator:{align:"center"},items:y&&y.current&&((M=y.current)===null||M===void 0?void 0:M.getFieldValue("environmentService"))&&Object.keys((k=y.current)===null||k===void 0?void 0:k.getFieldValue("environmentService")).map(function(i){return{label:i,key:i,children:(0,e.jsx)($.Z,{showCardGhost:!0,name:["environmentService",i],showDisableName:!0,showDisableValue:!0,showInDrawer:!0,requireValue:!0})}})})})]})]}),n&&!n.isDeploy&&(0,e.jsx)(j.Z,{colSpan:"55%",children:(0,e.jsx)(he.Z,{items:n.yamlList&&n.yamlList.map(function(i,a){var r=[{label:"Yaml \u6587\u4EF6",key:"yaml"},{label:"\u8986\u76D6 Yaml \u6587\u4EF6",key:"yamlOverride"}];return{label:r[a].label,key:r[a].key,disabled:i=="",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(w.ZP,{theme:"dark",minHeight:"550px",value:i,readOnly:!0,extensions:[A.RI.yaml()]})})}})})}),n&&n.isDeploy&&(0,e.jsx)(j.Z,{title:(0,e.jsx)(Se.Z,{}),subTitle:"\u65E5\u5FD7",colSpan:"55%",children:(0,e.jsx)(ne,{id:(ae=ie.id)!==null&&ae!==void 0?ae:""})})]})]})]})}}}]);
