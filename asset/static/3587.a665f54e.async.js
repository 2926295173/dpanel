"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3587],{73587:function(Xe,oe,t){t.d(oe,{Z:function(){return Me}});var ce=t(19632),de=t.n(ce),me=t(5574),Y=t.n(me),ve=t(15009),d=t.n(ve),fe=t(99289),I=t.n(fe),l=t(67294),Q=t(80821),$=t(90098),he=t(86548),te=t(43425),re=t(74842),ue=t(48689),Fe=t(33160),pe=t(87784),ge=t(30159),K=t(38345),_=t(97269),G=t(62370),W=t(82346),ae=t(85265),H=t(42075),X=t(96074),q=t(83062),M=t(25593),b=t(84567),xe=t(28036),je=t(99861),ye=t(91058),Ce=t(79245),Ze=t(60940),Re=t(55241),Se=t(78451),De=t(37413),we=t(94359),ee=t(24963),$e=t(91806),Ee=t(60433),ie=t(89035),Pe=t(57716),Ie=t(78272),Be=t(87662),e=t(85893);function Le(a){var U=(0,l.useState)(""),A=Y()(U,2),D=A[0],B=A[1],g=(0,l.useContext)(ee.Z),C=g.loading,N=g.lang,f=g.notice,h=g.message,n=(0,l.useRef)(),w=(0,l.useRef)(),L=(0,l.useState)(!1),x=Y()(L,2),F=x[0],j=x[1];return(0,l.useEffect)(function(){(0,Be.EH)().then(function(o){B(o.data.ip)}),j(!1)},[a.containerList]),a.containerList&&(0,e.jsxs)(K.Z,{ghost:!0,title:(0,e.jsx)($e.Z,{}),subTitle:"\u5BB9\u5668\u5217\u8868",extra:a.enableSelectService&&(0,e.jsx)(b.Z,{onChange:function(O){j(O.target.checked)},children:"\u81EA\u5B9A\u4E49\u90E8\u7F72\u5BB9\u5668\u670D\u52A1\uFF1F"},"selectService"),children:[(0,e.jsx)(Pe.Z,{ref:n}),(0,e.jsx)(Ie.Z,{ref:w}),(0,e.jsx)(Ze.Z,{scroll:{x:"max-content"},rowKey:"service",pagination:!1,columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"name",width:200,render:function(O,s,z){return(0,e.jsx)(q.Z,{title:s.service,children:(0,e.jsx)(Se.Z,{content:s.name?s.name:s.service})})}},{title:"\u7AEF\u53E3",render:function(O,s,z){var y=[],E=[];return s.publishers&&s.publishers.map(function(T){T.publishedPort?y.push({PrivatePort:T.targetPort,Type:T.protocol,IP:T.url,PublicPort:T.publishedPort}):T.publishedPort&&E.push({PrivatePort:T.targetPort,Type:T.protocol,IP:T.url,PublicPort:T.publishedPort})}),(0,e.jsx)(De.Z,{publicPort:y,privatePort:E,domain:[],serverIp:D})}},{title:"\u72B6\u6001",render:function(O,s,z){return(0,e.jsx)(we.Z,{status:s.state,message:{content:N("container.status.".concat(s.state)),placement:"top",showInTag:!0}},s.name)}},{title:"\u64CD\u4F5C",fixed:"right",render:function(O,s,z){return(0,e.jsxs)(H.Z,{split:(0,e.jsx)(X.Z,{type:"vertical"}),children:[s.name==""&&(0,e.jsx)(Re.Z,{placement:"left",content:(0,e.jsx)(K.Z,{ghost:!0,title:"\u5BB9\u5668\u5185\u73AF\u5883\u53D8\u91CF",children:(0,e.jsx)(H.Z,{direction:"vertical",children:s.environment&&Object.keys(s.environment).map(function(y){if(s.environment&&s.environment[y])return(0,e.jsx)(M.Z.Text,{code:!0,children:"".concat(y,"=").concat(s.environment[y])},y)})})}),children:(0,e.jsx)(Ee.Z,{})}),s.name!=""&&(0,e.jsx)(M.Z.Link,{onClick:function(){var E;(E=w.current)===null||E===void 0||E.show(s.name)},children:(0,e.jsx)(te.Z,{})},"container"),s.state=="running"&&(0,e.jsx)(M.Z.Link,{onClick:function(){var E;(E=n.current)===null||E===void 0||E.show(s.name)},children:(0,e.jsx)(ie.Z,{})},"console")]})}}],dataSource:a.containerList,rowSelection:F&&a.containerList?{defaultSelectedRowKeys:a.containerList.map(function(o){return o.service}),onChange:function(O,s,z){a.selectServiceFinish&&a.selectServiceFinish(O)}}:void 0})]})}var Ae=t(81146),Oe=t(45742),Te=(0,l.forwardRef)(function(a,U){(0,l.useImperativeHandle)(U,function(){return{show:function(L){return I()(d()().mark(function x(){return d()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:h(a.composeItem),g(!0);case 2:case"end":return j.stop()}},x)}))()}}});var A=(0,l.useState)(!1),D=Y()(A,2),B=D[0],g=D[1],C=(0,l.useState)(),N=Y()(C,2),f=N[0],h=N[1],n=(0,l.useRef)();return(0,e.jsxs)(e.Fragment,{children:[a.showTriggerButton&&(0,e.jsx)(M.Z.Link,{onClick:I()(d()().mark(function w(){return d()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:h(a.composeItem),g(!0);case 2:case"end":return x.stop()}},w)})),children:(0,e.jsx)(q.Z,{title:"\u8FD0\u884C\u65E5\u5FD7",children:(0,e.jsx)(Oe.Z,{})})},"log"),(0,e.jsx)(ae.Z,{title:"\u4EFB\u52A1\u65E5\u5FD7",open:B,forceRender:!0,onClose:function(){g(!1)},afterOpenChange:function(L){if(L)setTimeout(function(){var F,j;(F=n.current)===null||F===void 0||F.start(),(j=n.current)===null||j===void 0||j.fit()},1e3);else{var x;(x=n.current)===null||x===void 0||x.close()}},width:800,children:f&&B&&(0,e.jsx)(Ae.Z,{ref:n,showInDrawer:!0,id:"compose:log:".concat(String(f.id||f.name)),request:function(){var w=I()(d()().mark(function L(x){var F;return d()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,$.Yz)({id:f.id||f.name,lineTotal:x.lineTotal,download:(F=x.download)!==null&&F!==void 0?F:!1,showTime:x.showTime});case 2:case"end":return o.stop()}},L)}));return function(L){return w.apply(this,arguments)}}(),download:function(){var w=I()(d()().mark(function L(x){var F;return d()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,$.vf)({id:f.id||f.name,lineTotal:x.lineTotal,showTime:x.showTime,download:!0});case 2:return F=o.sent,o.abrupt("return",{data:new Blob([F],{type:"text/plain"}),name:a.composeItem.name+"_"+new Date().toLocaleDateString()+".log"});case 4:case"end":return o.stop()}},L)}));return function(L){return w.apply(this,arguments)}}()})})]})}),Ve=Te,Ne=t(184),ke=t(95213),Ge=t(95089),Ue=t(92398);function Ye(a){var U=(0,l.useContext)(ee.Z),A=U.message,D=(0,l.useRef)();return a.composeItem.yamlList&&(0,e.jsx)(Ne.a,{title:"\u7F16\u8F91\u4EFB\u52A1 Yaml",formRef:D,trigger:(0,e.jsx)(M.Z.Link,{children:(0,e.jsx)(q.Z,{title:"Yaml",children:"Yaml"})}),onFinish:function(){var B=I()(d()().mark(function g(C){return d()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,$.im)({id:String(a.composeItem.id?a.composeItem.id:a.composeItem.name),name:a.composeItem.name,type:a.composeItem.setting.type,yaml:C.yaml,yamlOverride:C.yamlOverride});case 2:return a.onFinish&&a.onFinish(),f.abrupt("return",!0);case 4:case"end":return f.stop()}},g)}));return function(g){return B.apply(this,arguments)}}(),children:(0,e.jsx)(K.Z,{ghost:!0,children:(0,e.jsx)(Ue.Z,{items:a.composeItem.yamlList.map(function(B,g){var C=[{label:"Yaml \u6587\u4EF6",key:"yaml"},{label:"\u8986\u76D6 Yaml \u6587\u4EF6",key:"yamlOverride"}];return{label:C[g].label,key:C[g].key,children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G.Z,{hidden:!0,name:C[g].key}),(0,e.jsx)(G.Z,{shouldUpdate:!0,children:function(f){return(0,e.jsx)(Ge.ZP,{onFocus:function(){if(C[g].key=="yaml"&&a.composeItem.setting.type=="remoteUrl"){A.error("\u8FDC\u7A0Byaml\u6587\u4EF6\u65E0\u6CD5\u4FEE\u6539\uFF0C\u8BF7\u901A\u8FC7\u3010\u8986\u76D6 yaml \u6587\u4EF6\u3011\u7684\u65B9\u5F0F\u4FEE\u6539\u5185\u5BB9\u3002");return}},readOnly:C[g].key=="yaml"&&a.composeItem.setting.type=="remoteUrl",theme:"dark",minHeight:"550px",value:B,onChange:function(n){f.setFieldValue(C[g].key,n)},extensions:[ke.RI.yaml()]})}})]})}})})})})}var Qe=t(54964),He=(0,l.forwardRef)(function(a,U){(0,l.useImperativeHandle)(U,function(){return{show:function(){var h;N(!0),(h=D.current)===null||h===void 0||h.clear(),setTimeout(function(){var n;(n=D.current)===null||n===void 0||n.fit()},1e3)},close:function(){var h;N(!1),(h=D.current)===null||h===void 0||h.clear()}}});var A=(0,W.useModel)("subscriber"),D=(0,l.useRef)(),B=(0,l.useState)(!1),g=Y()(B,2),C=g[0],N=g[1];return A.addDataHandler("compose:"+a.id,function(f){var h;(h=D.current)===null||h===void 0||h.write(f.data)}),(0,e.jsx)(K.Z,{hidden:!C,ghost:!0,title:(0,e.jsx)(ie.Z,{}),subTitle:"\u63A7\u5236\u53F0",extra:(0,e.jsx)(H.Z,{children:(0,e.jsx)(Q.Z,{action:function(){var h;return(h=D.current)===null||h===void 0||h.clear(),(0,$.U_)({})},icon:(0,e.jsx)(ue.Z,{}),danger:!0,onSuccess:function(){},children:"\u4E2D\u6B62\u6267\u884C"},"kill")}),children:(0,e.jsx)(Qe.Z,{height:"200px",style:{fontSize:12},ref:D})})}),be=He,ze=t(65913),Ke=(0,l.forwardRef)(function(a,U){var A;(0,l.useImperativeHandle)(U,function(){return{show:function(u){return I()(d()().mark(function v(){var p;return d()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return(p=y.current)===null||p===void 0||p.close(),C(!0),i.prev=2,i.next=5,le(u);case 5:i.next=12;break;case 7:i.prev=7,i.t0=i.catch(2),C(!1),w(void 0),a.onClose&&a.onClose();case 12:case"end":return i.stop()}},v,null,[[2,7]])}))()}}});var D=(0,l.useState)(!1),B=Y()(D,2),g=B[0],C=B[1],N=(0,W.useNavigate)(),f=(0,l.useState)(),h=Y()(f,2),n=h[0],w=h[1],L=(0,l.useState)(0),x=Y()(L,2),F=x[0],j=x[1],o=(0,l.useRef)(),O=(0,l.useRef)(),s=(0,l.useRef)(),z=(0,l.useRef)(),y=(0,l.useRef)(),E=(0,l.useRef)(),T=(0,l.useContext)(ee.Z),Je=T.message,We=function(){var m=I()(d()().mark(function u(v){var p,S,i,r;return d()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if((p=y.current)===null||p===void 0||p.show(),!v.pullImageUseDPanel){c.next=5;break}return c.next=4,(S=z.current)===null||S===void 0?void 0:S.start();case 4:(i=z.current)===null||i===void 0||i.finish();case 5:return c.prev=5,c.next=8,(0,$.Oh)(v);case 8:(r=y.current)===null||r===void 0||r.close(),a.onDeployFinish&&a.onDeployFinish(),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(5),a.onDeployFailed&&a.onDeployFailed(n);case 15:j(F+1);case 16:case"end":return c.stop()}},u,null,[[5,12]])}));return function(v){return m.apply(this,arguments)}}(),le=function(){var m=I()(d()().mark(function u(v){var p,S,i,r,Z,c,k;return d()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return(p=E.current)===null||p===void 0||p.show(),(S=o.current)===null||S===void 0||S.resetFields(),R.next=4,(0,$.Pn)({id:v}).finally(I()(d()().mark(function V(){var P;return d()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:(P=E.current)===null||P===void 0||P.destroy();case 1:case"end":return ne.stop()}},V)}))).catch(function(V){throw V});case 4:i=R.sent,r=i.data.detail,r.setting.status&&r.setting.status.indexOf("running")>-1&&(r.isRunning=!0),r.setting.status&&r.setting.status.indexOf("paused")>-1&&(r.isPaused=!0),r.setting.status&&r.setting.status.indexOf("exited")>-1&&(r.isExited=!0),r.setting.status&&r.setting.status=="waiting"?r.isDeploy=!1:r.isDeploy=!0,r.setting.status&&r.setting.status.indexOf("created")>-1&&(r.isCreated=!0,r.isDeploy=!1),Z=i.data.project,Z&&(r.imageList=de()(new Set(Object.keys(Z.services).map(function(V){var P;return(P=Z.services[V].image)!==null&&P!==void 0?P:""})))),r.containerList=i.data.containerList,(!r.containerList||r.containerList.length==0)&&Z&&Z.services&&(r.containerList=Object.keys(Z.services).map(function(V){return{name:"",service:V,publishers:Z.services[V].ports?Z.services[V].ports.map(function(P){var J;return{url:"",targetPort:P.target,publishedPort:parseInt(P.published),protocol:(J=P.protocol)!==null&&J!==void 0?J:""}}):[],state:"waiting",status:"",environment:Z.services[V].environment}})),r.containerList&&((c=o.current)===null||c===void 0||c.setFieldValue("deployServiceName",i.data.detail.setting.deployServiceName)),r.yamlList=i.data.yaml,w(r),i.data.yaml&&i.data.yaml.map(function(V){(0,Ce.m)(V).map(function(P){r.setting.environment&&!r.setting.environment.find(function(J){return J.name==P.name})&&r.setting.environment.push(P)})}),i.data.detail.setting.environment&&((k=o.current)===null||k===void 0||k.setFieldValue("environment",i.data.detail.setting.environment));case 20:case"end":return R.stop()}},u)}));return function(v){return m.apply(this,arguments)}}();return(0,l.useEffect)(function(){F>0&&n&&le(n.id||n.name).catch(function(m){C(!1)})},[F]),(0,e.jsx)(ae.Z,{width:800,forceRender:!0,extra:(0,e.jsxs)(H.Z,{split:(0,e.jsx)(X.Z,{type:"vertical"}),children:[n&&n.isDeploy&&(0,e.jsx)(Ve,{composeItem:n,showTriggerButton:!0}),n&&(0,e.jsx)(Ye,{composeItem:n,onFinish:I()(d()().mark(function m(){return d()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:Je.info("\u4FEE\u6539 Yaml \u540E\u8BF7\u66F4\u65B0\u8BE5\u4EFB\u52A1\uFF0C\u5982\u679C\u5305\u542B\u73AF\u5883\u53D8\u91CF\u6539\u52A8\uFF0C\u8BF7\u91CD\u65B0\u90E8\u7F72"),j(F+1);case 2:case"end":return v.stop()}},m)}))}),n&&(0,e.jsx)(W.Link,{to:"/compose/create?id="+(n.id||n.name),children:(0,e.jsx)(q.Z,{title:"\u7F16\u8F91\u4EFB\u52A1",children:(0,e.jsx)(he.Z,{})})})]}),title:(0,e.jsxs)(H.Z,{children:["\u5FEB\u6377\u67E5\u770B\u4EFB\u52A1 - ",(A=n==null?void 0:n.name)!==null&&A!==void 0?A:""]}),open:g,onClose:function(){C(!1),w(void 0),a.onClose&&a.onClose()},children:(0,e.jsx)(ze.Z,{ref:E,children:(0,e.jsxs)(K.Z,{direction:"column",ghost:!0,gutter:[10,10],children:[(0,e.jsx)(K.Z,{title:(0,e.jsx)(te.Z,{}),subTitle:"\u7BA1\u7406\u4EFB\u52A1",ghost:!0,extra:(0,e.jsx)(e.Fragment,{children:n&&n.imageList&&n.imageList.length>0&&(0,e.jsx)(je.Z,{ref:z,image:n.imageList})}),children:n&&(0,e.jsxs)(H.Z,{wrap:!0,children:[(0,e.jsx)(Q.Z,{icon:(0,e.jsx)(re.Z,{}),type:"primary",confirm:(0,e.jsxs)(H.Z,{style:{width:300},direction:"vertical",children:[(0,e.jsx)(M.Z.Text,{children:"\u91CD\u65B0\u521B\u5EFA\u8BE5\u4EFB\u52A1\u4E0B\u7684\u5BB9\u5668\uFF1F"}),(0,e.jsxs)(_.A,{name:"createForm",formRef:s,layout:"inline",submitter:!1,children:[(0,e.jsx)(G.Z,{initialValue:!1,name:"pullImageUseCommand",valuePropName:"checked",children:(0,e.jsx)(b.Z,{children:"\u4F7F\u7528\u547D\u4EE4\u62C9\u53D6\u955C\u50CF\uFF08\u9700\u914D\u7F6E\u547D\u4EE4\u4EE3\u7406\uFF09\uFF1F"})}),(0,e.jsx)(G.Z,{initialValue:!0,name:"pullImageUseDPanel",valuePropName:"checked",children:(0,e.jsx)(b.Z,{defaultChecked:!0,children:"\u4F7F\u7528\u9762\u677F\u62C9\u53D6\u955C\u50CF\uFF08\u9700\u914D\u7F6E\u4ED3\u5E93\u52A0\u901F\uFF09\uFF1F"})}),(0,e.jsx)(G.Z,{initialValue:!0,name:"createPath",valuePropName:"checked",children:(0,e.jsx)(b.Z,{defaultChecked:!0,children:"\u521B\u5EFA\u6302\u8F7D\u76EE\u5F55\uFF08\u4EC5\u9762\u677F\u975E\u5BB9\u5668\u90E8\u7F72\u751F\u6548\uFF09\uFF1F"})}),(0,e.jsx)(G.Z,{initialValue:!0,name:"removeOrphans",valuePropName:"checked",children:(0,e.jsx)(b.Z,{defaultChecked:!0,children:"\u6E05\u9664\u5DF2\u91CD\u547D\u540D\u6216\u662F\u88AB\u5220\u9664\u7684\u670D\u52A1\uFF1F"})})]})]}),action:I()(d()().mark(function m(){var u,v,p,S,i,r,Z,c,k;return d()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(c={id:n.id||n.name},(u=s.current)!==null&&u!==void 0&&u.getFieldValue&&s.current.getFieldValue("pullImageUseDPanel")&&(c.pullImageUseDPanel=!0),c.environment=(v=o.current)===null||v===void 0?void 0:v.getFieldValue("environment"),c.deployServiceName=(p=o.current)===null||p===void 0?void 0:p.getFieldValue("deployServiceName"),c.createPath=(S=(i=s.current)===null||i===void 0?void 0:i.getFieldValue("createPath"))!==null&&S!==void 0?S:!0,c.removeOrphans=(r=(Z=s.current)===null||Z===void 0?void 0:Z.getFieldValue("removeOrphans"))!==null&&r!==void 0?r:!0,!(n!=null&&n.isDeploy)){R.next=10;break}if(!((k=s.current)!==null&&k!==void 0&&k.getFieldValue("pullImageUseCommand"))){R.next=10;break}return R.next=10,(0,$.GG)({id:n.id||n.name,op:"pull"});case 10:return R.abrupt("return",We(c));case 11:case"end":return R.stop()}},m)})),children:n.isDeploy?"\u66F4\u65B0":"\u542F\u52A8"},"create"),(n.isDeploy||n.isCreated)&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Q.Z,{action:function(){var u;return(u=y.current)===null||u===void 0||u.show(),(0,$.mg)({id:n.id||n.name,deleteImage:!1,deleteData:!1,deleteVolume:!1,deletePath:!1})},onSuccess:function(){j(F+1)},type:"primary",danger:!0,confirm:"notification.confirm.title",icon:(0,e.jsx)(ue.Z,{}),children:"\u5220\u9664\u5BB9\u5668"}),(0,e.jsx)(X.Z,{type:"vertical"})]}),n.isDeploy&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Q.Z,{icon:(0,e.jsx)(Fe.Z,{}),action:I()(d()().mark(function m(){var u;return d()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return(u=y.current)===null||u===void 0||u.show(),p.abrupt("return",(0,$.GG)({id:n.id||n.name,op:"restart"}));case 2:case"end":return p.stop()}},m)})),onSuccess:function(){j(F+1)},children:"\u91CD\u542F"},"restart"),(0,e.jsx)(Q.Z,{action:function(){var u;return(u=y.current)===null||u===void 0||u.show(),(0,$.GG)({id:n.id||n.name,op:"stop"})},icon:(0,e.jsx)(pe.Z,{}),disabled:n.isExited,onSuccess:function(){j(F+1)},children:"\u505C\u6B62"}),n.isPaused&&(0,e.jsx)(Q.Z,{action:function(){var u;return(u=y.current)===null||u===void 0||u.show(),(0,$.GG)({id:n.id||n.name,op:"unpause"})},onSuccess:function(){j(F+1)},icon:(0,e.jsx)(re.Z,{}),children:"\u6062\u590D"}),!n.isPaused&&(0,e.jsx)(Q.Z,{action:function(){var u;return(u=y.current)===null||u===void 0||u.show(),(0,$.GG)({id:n.id||n.name,op:"pause"})},onSuccess:function(){j(F+1)},icon:(0,e.jsx)(ge.Z,{}),disabled:!n.isRunning,children:"\u6682\u505C"})]}),(0,e.jsx)(X.Z,{type:"vertical"}),n.id>0&&(0,e.jsx)(Q.Z,{type:"primary",action:I()(d()().mark(function m(){var u,v,p,S,i,r,Z,c,k;return d()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return(u=y.current)===null||u===void 0||u.show(),R.next=3,(0,$.mg)({id:(v=n==null?void 0:n.id)!==null&&v!==void 0?v:n.name,deleteImage:(p=(S=O.current)===null||S===void 0?void 0:S.getFieldValue("deleteImage"))!==null&&p!==void 0?p:!1,deleteVolume:(i=(r=O.current)===null||r===void 0?void 0:r.getFieldValue("deleteVolume"))!==null&&i!==void 0?i:!1,deletePath:(Z=(c=O.current)===null||c===void 0?void 0:c.getFieldValue("deletePath"))!==null&&Z!==void 0?Z:!1});case 3:return R.next=5,(0,$.ik)({id:[(k=n.id)!==null&&k!==void 0?k:0]});case 5:j(F+1);case 6:case"end":return R.stop()}},m)})),danger:!0,onSuccess:function(){N("/compose/list")},confirm:(0,e.jsxs)(H.Z,{style:{width:240},direction:"vertical",children:[(0,e.jsx)(M.Z.Text,{children:"\u4F1A\u540C\u65F6\u5220\u9664\u5BB9\u5668\u53CA\u90E8\u7F72\u76F8\u5173\u6570\u636E\uFF0C\u672A\u52FE\u9009\u5220\u9664 compose \u6587\u4EF6\u65F6 yaml \u6587\u4EF6\u5C06\u4F1A\u4FDD\u7559\uFF0C\u786E\u8BA4\u5417\uFF1F"}),(0,e.jsxs)(_.A,{formRef:O,layout:"inline",submitter:!1,children:[(0,e.jsx)(G.Z,{initialValue:!1,name:"deleteImage",valuePropName:"checked",children:(0,e.jsx)(b.Z,{children:"\u5220\u9664\u955C\u50CF\uFF1F"})}),(0,e.jsx)(G.Z,{initialValue:!1,name:"deleteVolume",valuePropName:"checked",children:(0,e.jsx)(b.Z,{children:"\u5220\u9664\u5B58\u50A8\u5377\uFF1F"})}),(0,e.jsx)(G.Z,{initialValue:!1,name:"deletePath",valuePropName:"checked",children:(0,e.jsx)(b.Z,{children:"\u5220\u9664 Compose \u6587\u4EF6\u548C\u4EFB\u52A1\u76EE\u5F55\uFF1F"})})]})]}),children:"\u5220\u9664\u4EFB\u52A1"}),a.showBackListButton&&(0,e.jsx)(W.Link,{to:"/compose/list",children:(0,e.jsx)(xe.ZP,{children:"\u4EFB\u52A1\u5217\u8868"})})]})},"operator"),n&&(0,e.jsx)(be,{ref:y,id:n.id||n.name}),n&&(0,e.jsx)(Le,{containerList:n.containerList,enableSelectService:!n.isDeploy,selectServiceFinish:function(u){var v;(v=o.current)===null||v===void 0||v.setFieldValue("deployServiceName",u)}}),(0,e.jsxs)(_.A,{submitter:!1,formRef:o,children:[(0,e.jsx)(G.Z,{name:"deployServiceName",hidden:!0}),n&&(0,e.jsx)(K.Z,{title:"\u73AF\u5883\u53D8\u91CF",subTitle:"\u73AF\u5883\u53D8\u91CF\u4F1A\u8986\u76D6 .env \u6587\u4EF6",tooltip:"\u66B4\u9732\u73AF\u5883\u53D8\u91CF\u9700\u8981\u5728 yaml \u4E2D\u914D\u7F6E\u73AF\u5883\u53D8\u91CF",ghost:!0,children:(0,e.jsx)(ye.Z,{showCardGhost:!0,name:"environment",showDisableName:!0,requireValue:!0,showDeleteButton:!1})})]})]})})})}),Me=Ke}}]);
