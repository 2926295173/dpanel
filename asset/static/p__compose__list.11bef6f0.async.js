(self.webpackChunk=self.webpackChunk||[]).push([[8022],{23430:function(B,P,n){"use strict";n.d(P,{Z:function(){return d}});var h=n(87462),i=n(67294),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},c=v,u=n(84089),T=function(D,s){return i.createElement(u.Z,(0,h.Z)({},D,{ref:s,icon:c}))},O=i.forwardRef(T),d=O},80821:function(B,P,n){"use strict";n.d(P,{Z:function(){return s}});var h=n(5574),i=n.n(h),v=n(93246),c=n(54006),u=n(31418),T=n(86738),O=n(14726),d=n(83062),m=n(67294),D=n(85893);function s(e){var f=(0,m.useState)(!1),t=i()(f,2),o=t[0],R=t[1],g=u.Z.useApp(),A=(0,c.useIntl)(),C=function(){R(!0),e.action().then(function(E){if(R(!1),typeof e.onSuccess=="function"&&e.onSuccess(E),e.messageSuccess){var a="";typeof e.messageSuccess=="function"?a=e.messageSuccess(E):a=e.messageSuccess,a.indexOf(".")>-1&&(a=A.formatMessage({id:a})),e.asynced?(0,v.Rk)(g,a):(0,v.$h)(g,a)}}).catch(function(E){R(!1),typeof e.onError=="function"&&e.onError(E)})};return e.confirm?(0,D.jsx)(T.Z,{style:{width:500},title:"\u63D0\u793A",description:e.confirm,onConfirm:C,okText:"Yes",cancelText:"No",children:(0,D.jsx)(O.ZP,{disabled:e.disabled,icon:e.icon,loading:o,danger:e.danger,type:e.type,children:e.children})}):(0,D.jsx)(d.Z,{title:e.tips,children:(0,D.jsx)(O.ZP,{disabled:e.disabled,icon:e.icon,loading:o,onClick:C,danger:e.danger,type:e.type,children:e.children})})}},94359:function(B,P,n){"use strict";n.d(P,{Z:function(){return f}});var h=n(67294),i=n(3089),v=n(98165),c=n(18429),u=n(8751),T=n(14313),O=n(30159),d=n(87740),m=n(66309),D=n(83062),s=n(54006),e=n(85893);function f(t){var o=(0,e.jsx)(e.Fragment,{});if(t.status=="0"&&(o=(0,e.jsx)(m.Z,{icon:(0,e.jsx)(i.Z,{}),color:"default",children:"waiting"})),t.status=="10"&&(o=(0,e.jsx)(m.Z,{icon:(0,e.jsx)(v.Z,{spin:!0}),color:"processing",children:"processing"})),t.status=="20"&&(o=(0,e.jsx)(m.Z,{icon:(0,e.jsx)(c.Z,{}),color:"error",children:"error"})),t.status=="30"&&(o=(0,e.jsx)(m.Z,{icon:(0,e.jsx)(u.Z,{}),color:"success",children:"success"})),t.status=="running"){var R,g;o=(0,e.jsx)(m.Z,{icon:(0,e.jsx)(T.Z,{}),color:"success",children:(R=t.message)!==null&&R!==void 0&&R.showInTag?(g=t.message)===null||g===void 0?void 0:g.content:t.status})}if(t.status=="paused"){var A,C;o=(0,e.jsx)(m.Z,{icon:(0,e.jsx)(O.Z,{}),children:(A=t.message)!==null&&A!==void 0&&A.showInTag?(C=t.message)===null||C===void 0?void 0:C.content:t.status})}if(t.status=="restarting"||t.status=="waiting"){var p,E;o=(0,e.jsx)(m.Z,{icon:(0,e.jsx)(d.Z,{}),children:(p=t.message)!==null&&p!==void 0&&p.showInTag?(E=t.message)===null||E===void 0?void 0:E.content:t.status})}if(t.status=="exited"||t.status=="dead"||t.status=="removing"){var a,l;o=(0,e.jsx)(m.Z,{icon:(0,e.jsx)(c.Z,{}),color:"warning",children:(a=t.message)!==null&&a!==void 0&&a.showInTag?(l=t.message)===null||l===void 0?void 0:l.content:t.status})}return t.link&&(o=(0,e.jsx)(s.Link,{to:t.link,children:o})),t.message&&(o=(0,e.jsx)(D.Z,{placement:t.message.placement,title:t.message.content,children:o})),(0,e.jsx)(e.Fragment,{children:o})}},96781:function(B,P,n){"use strict";var h=n(67294),i=(0,h.createContext)({});P.Z=i},92922:function(B,P,n){"use strict";n.r(P),n.d(P,{default:function(){return l}});var h=n(15009),i=n.n(h),v=n(99289),c=n.n(v),u=n(80821),T=n(24910),O=n(43425),d=n(86548),m=n(23430),D=n(88717),s=n(54006),e=n(78957),f=n(96074),t=n(83062),o=n(22015),R=n(67294),g=n(96781),A=n(94359),C=n(6409),p=n(93162),E=n.n(p),a=n(85893);function l(){var I=(0,R.useContext)(g.Z),r=I.listTableRef;return(0,a.jsx)(D.Z,{scroll:{x:"max-content"},request:function(){var y=c()(i()().mark(function x(_){var U,M,j;return i()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,(0,T.pm)({title:_.title,name:_.name,pageSize:(U=_.pageSize)!==null&&U!==void 0?U:10,page:(M=_.current)!==null&&M!==void 0?M:1});case 2:return j=L.sent,L.abrupt("return",{data:j.data.list,success:!0,total:j.data.list.length});case 4:case"end":return L.stop()}},x)}));return function(x){return y.apply(this,arguments)}}(),rowKey:"name",columns:[{title:"\u6807\u8BC6",dataIndex:"name",width:200,render:function(x,_,U,M,j){return(0,a.jsx)(s.Link,{to:"/compose/deploy/"+_.name,children:_.name},U)}},{title:"\u9879\u76EE\u540D\u79F0",dataIndex:"title",width:200},{title:"\u5BB9\u5668\u72B6\u6001",dataIndex:"status",search:!1,render:function(x,_,U,M,j){var W="running",L=_.setting.status.indexOf("(");return L>-1?W=_.setting.status.slice(0,L):W=_.setting.status,(0,a.jsx)(A.Z,{status:W,message:{content:_.setting.status,placement:"top",showInTag:!0}})}},{title:"\u64CD\u4F5C",width:80,valueType:"option",key:"option",render:function(x,_,U,M,j){return(0,a.jsxs)(e.Z,{split:(0,a.jsx)(f.Z,{type:"vertical"}),children:[(0,a.jsx)(s.Link,{to:"/compose/deploy/"+_.name,children:(0,a.jsx)(t.Z,{title:"\u7BA1\u7406",children:(0,a.jsx)(O.Z,{})})},"3"),_.yaml&&(0,a.jsx)(s.Link,{to:"/compose/create?id="+_.id,children:(0,a.jsx)(t.Z,{title:"\u7F16\u8F91",children:(0,a.jsx)(d.Z,{})})},"4"),_.yaml&&(0,a.jsx)(s.Link,{to:"#",onClick:function(){var L=new Blob([_.yaml],{type:"text/plain"});(0,p.saveAs)(L,_.name+".yaml")},children:(0,a.jsx)(t.Z,{title:"\u4E0B\u8F7D",children:(0,a.jsx)(m.Z,{})})},"2")]})}}],rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0,getCheckboxProps:function(x){return{disabled:!x.yaml}}},tableAlertOptionRender:function(x){var _=x.selectedRows;return(0,a.jsx)(e.Z,{size:16,children:(0,a.jsx)(u.Z,{danger:!0,type:"primary",action:function(){return(0,T.ik)({id:_.map(function(M){return M.id})})},onSuccess:function(){var M,j;return!((M=r.current)===null||M===void 0)&&M.reloadAndRest&&((j=r.current)===null||j===void 0||j.reloadAndRest()),!0},onError:function(){var M,j;return!((M=r.current)===null||M===void 0)&&M.reset&&((j=r.current)===null||j===void 0||j.reset()),!0},messageSuccess:"\u5220\u9664\u6210\u529F",confirm:(0,a.jsx)(e.Z,{style:{width:280},direction:"vertical",children:(0,a.jsx)(o.Z.Text,{children:"\u5220\u9664\u524D\u8BF7\u5148\u9500\u6BC1\u76F8\u5173\u5BB9\u5668\uFF0C\u786E\u8BA4\u5417\uFF1F"})}),children:"\u6279\u91CF\u5220\u9664"})})},pagination:(0,C.O)(),search:{collapsed:!1},actionRef:r})}},24910:function(B,P,n){"use strict";n.d(P,{GG:function(){return A},Oh:function(){return t},U_:function(){return p},YZ:function(){return D},ik:function(){return e},im:function(){return T},mg:function(){return R},pm:function(){return d}});var h=n(15009),i=n.n(h),v=n(99289),c=n.n(v),u=n(54006);function T(a){return O.apply(this,arguments)}function O(){return O=c()(i()().mark(function a(l){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("/api/app/compose/create",{method:"POST",data:l}));case 1:case"end":return r.stop()}},a)})),O.apply(this,arguments)}function d(a){return m.apply(this,arguments)}function m(){return m=c()(i()().mark(function a(l){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("/api/app/compose/get-list",{method:"POST",data:l}));case 1:case"end":return r.stop()}},a)})),m.apply(this,arguments)}function D(a){return s.apply(this,arguments)}function s(){return s=c()(i()().mark(function a(l){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("/api/app/compose/get-detail",{method:"POST",data:l}));case 1:case"end":return r.stop()}},a)})),s.apply(this,arguments)}function e(a){return f.apply(this,arguments)}function f(){return f=c()(i()().mark(function a(l){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("/api/app/compose/delete",{method:"POST",data:l}));case 1:case"end":return r.stop()}},a)})),f.apply(this,arguments)}function t(a){return o.apply(this,arguments)}function o(){return o=c()(i()().mark(function a(l){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("/api/app/compose/container-deploy",{method:"POST",data:l}));case 1:case"end":return r.stop()}},a)})),o.apply(this,arguments)}function R(a){return g.apply(this,arguments)}function g(){return g=c()(i()().mark(function a(l){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("/api/app/compose/container-destroy",{method:"POST",data:l}));case 1:case"end":return r.stop()}},a)})),g.apply(this,arguments)}function A(a){return C.apply(this,arguments)}function C(){return C=c()(i()().mark(function a(l){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("/api/app/compose/container-ctrl",{method:"POST",data:l}));case 1:case"end":return r.stop()}},a)})),C.apply(this,arguments)}function p(a){return E.apply(this,arguments)}function E(){return E=c()(i()().mark(function a(l){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("/api/app/compose/container-process-kill",{method:"POST",data:l}));case 1:case"end":return r.stop()}},a)})),E.apply(this,arguments)}},6409:function(B,P,n){"use strict";n.d(P,{O:function(){return h}});function h(){var i,v=parseInt((i=localStorage.getItem("dpanel-pagesize"))!==null&&i!==void 0?i:"0");return{showSizeChanger:!0,defaultPageSize:v!=null?v:20}}},93162:function(B,P,n){var h,i,v;(function(c,u){i=[],h=u,v=typeof h=="function"?h.apply(P,i):h,v!==void 0&&(B.exports=v)})(this,function(){"use strict";function c(s,e){return typeof e=="undefined"?e={autoBom:!1}:typeof e!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}function u(s,e,f){var t=new XMLHttpRequest;t.open("GET",s),t.responseType="blob",t.onload=function(){D(t.response,e,f)},t.onerror=function(){console.error("could not download file")},t.send()}function T(s){var e=new XMLHttpRequest;e.open("HEAD",s,!1);try{e.send()}catch(f){}return 200<=e.status&&299>=e.status}function O(s){try{s.dispatchEvent(new MouseEvent("click"))}catch(f){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(e)}}var d=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof n.g=="object"&&n.g.global===n.g?n.g:void 0,m=d.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),D=d.saveAs||(typeof window!="object"||window!==d?function(){}:"download"in HTMLAnchorElement.prototype&&!m?function(s,e,f){var t=d.URL||d.webkitURL,o=document.createElement("a");e=e||s.name||"download",o.download=e,o.rel="noopener",typeof s=="string"?(o.href=s,o.origin===location.origin?O(o):T(o.href)?u(s,e,f):O(o,o.target="_blank")):(o.href=t.createObjectURL(s),setTimeout(function(){t.revokeObjectURL(o.href)},4e4),setTimeout(function(){O(o)},0))}:"msSaveOrOpenBlob"in navigator?function(s,e,f){if(e=e||s.name||"download",typeof s!="string")navigator.msSaveOrOpenBlob(c(s,f),e);else if(T(s))u(s,e,f);else{var t=document.createElement("a");t.href=s,t.target="_blank",setTimeout(function(){O(t)})}}:function(s,e,f,t){if(t=t||open("","_blank"),t&&(t.document.title=t.document.body.innerText="downloading..."),typeof s=="string")return u(s,e,f);var o=s.type==="application/octet-stream",R=/constructor/i.test(d.HTMLElement)||d.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||o&&R||m)&&typeof FileReader!="undefined"){var A=new FileReader;A.onloadend=function(){var E=A.result;E=g?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),t?t.location.href=E:location=E,t=null},A.readAsDataURL(s)}else{var C=d.URL||d.webkitURL,p=C.createObjectURL(s);t?t.location=p:location.href=p,t=null,setTimeout(function(){C.revokeObjectURL(p)},4e4)}});d.saveAs=D.saveAs=D,B.exports=D})}}]);
