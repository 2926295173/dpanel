"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1180],{88484:function(X,T,e){e.d(T,{Z:function(){return P}});var D=e(87462),f=e(67294),B={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},x=B,F=e(84089),M=function(t,m){return f.createElement(F.Z,(0,D.Z)({},t,{ref:m,icon:x}))},g=f.forwardRef(M),P=g},52688:function(X,T,e){var D=e(1413),f=e(45987),B=e(67294),x=e(35510),F=e(85893),M=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],g=B.forwardRef(function(P,i){var t=P.fieldProps,m=P.unCheckedChildren,R=P.checkedChildren,y=P.proFieldProps,c=(0,f.Z)(P,M);return(0,F.jsx)(x.Z,(0,D.Z)({valueType:"switch",fieldProps:(0,D.Z)({unCheckedChildren:m,checkedChildren:R},t),ref:i,valuePropName:"checked",proFieldProps:y,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},c))});T.Z=g},5966:function(X,T,e){var D=e(97685),f=e(1413),B=e(45987),x=e(21770),F=e(72723),M=e(55241),g=e(97435),P=e(67294),i=e(35510),t=e(85893),m=["fieldProps","proFieldProps"],R=["fieldProps","proFieldProps"],y="text",c=function(h){var n=h.fieldProps,b=h.proFieldProps,C=(0,B.Z)(h,m);return(0,t.jsx)(i.Z,(0,f.Z)({valueType:y,fieldProps:n,filedConfig:{valueType:y},proFieldProps:b},C))},O=function(h){var n=(0,x.Z)(h.open||!1,{value:h.open,onChange:h.onOpenChange}),b=(0,D.Z)(n,2),C=b[0],U=b[1];return(0,t.jsx)(F.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(Q){var z,u=Q.getFieldValue(h.name||[]);return(0,t.jsx)(M.Z,(0,f.Z)((0,f.Z)({getPopupContainer:function(r){return r&&r.parentNode?r.parentNode:r},onOpenChange:function(r){return U(r)},content:(0,t.jsxs)("div",{style:{padding:"4px 0"},children:[(z=h.statusRender)===null||z===void 0?void 0:z.call(h,u),h.strengthText?(0,t.jsx)("div",{style:{marginTop:10},children:(0,t.jsx)("span",{children:h.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},h.popoverProps),{},{open:C,children:h.children}))}})},j=function(h){var n=h.fieldProps,b=h.proFieldProps,C=(0,B.Z)(h,R),U=(0,P.useState)(!1),H=(0,D.Z)(U,2),Q=H[0],z=H[1];return n!=null&&n.statusRender&&C.name?(0,t.jsx)(O,{name:C.name,statusRender:n==null?void 0:n.statusRender,popoverProps:n==null?void 0:n.popoverProps,strengthText:n==null?void 0:n.strengthText,open:Q,onOpenChange:z,children:(0,t.jsx)("div",{children:(0,t.jsx)(i.Z,(0,f.Z)({valueType:"password",fieldProps:(0,f.Z)((0,f.Z)({},(0,g.Z)(n,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(_){var r;n==null||(r=n.onBlur)===null||r===void 0||r.call(n,_),z(!1)},onClick:function(_){var r;n==null||(r=n.onClick)===null||r===void 0||r.call(n,_),z(!0)}}),proFieldProps:b,filedConfig:{valueType:y}},C))})}):(0,t.jsx)(i.Z,(0,f.Z)({valueType:"password",fieldProps:n,proFieldProps:b,filedConfig:{valueType:y}},C))},E=c;E.Password=j,E.displayName="ProFormComponent",T.Z=E},1699:function(X,T,e){e.d(T,{u:function(){return i}});var D=e(9783),f=e.n(D),B=e(97857),x=e.n(B),F=e(67294),M=e(82346),g=e(42075),P=e(85893),i=function(m){var R=(0,M.useAccess)(),y=Array.isArray(m.access)?m.access:[m.access],c;return typeof m.children=="function"?c=m.children(y.reduce(function(O,j){return x()(x()({},O),{},f()({},j,R[j]))},{})):y.every(function(O){return R[O]})?c=m.children:c=m.fallback,m.space?(0,P.jsx)(g.Z,x()(x()({},m.space),{},{children:c})):c}},80821:function(X,T,e){e.d(T,{Z:function(){return i}});var D=e(5574),f=e.n(D),B=e(24963),x=e(86738),F=e(28036),M=e(83062),g=e(67294),P=e(85893);function i(t){var m=(0,g.useState)(!1),R=f()(m,2),y=R[0],c=R[1],O=(0,g.useContext)(B.Z),j=O.lang,E=O.notice,L=O.message,h=function(){c(!0);var b=t.action();b instanceof Promise?b.then(function(C){if(c(!1),C){typeof t.onSuccess=="function"&&t.onSuccess(C);var U="";t.messageSuccess?typeof t.messageSuccess=="function"?U=t.messageSuccess(C):U=t.messageSuccess.indexOf("notification.")==0?j(t.messageSuccess):t.messageSuccess:U=j("notification.finish"),t.asynced?L.info(U):L.success(U)}}).catch(function(C){c(!1),typeof t.onError=="function"&&t.onError(C)}):c(!1)};return t.confirm?(0,P.jsx)(x.Z,{style:{width:500},title:t.confirmTitle?t.confirmTitle:j("notification.title.tip"),description:typeof t.confirm=="string"&&t.confirm.indexOf("notification.")==0?j(t.confirm):t.confirm,onConfirm:h,okText:"Yes",cancelText:"No",onOpenChange:t.confirmOnOpenChange,children:(0,P.jsx)(F.ZP,{block:t.block,disabled:t.disabled,icon:!t.children&&y?void 0:t.icon,loading:y,danger:t.danger,type:t.type,children:t.children})}):(0,P.jsx)(M.Z,{title:t.tips,children:(0,P.jsx)(F.ZP,{block:t.block,style:t.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:t.disabled,icon:!t.children&&y?void 0:t.icon,loading:y,onClick:h,danger:t.danger,type:t.type,children:t.children})})}},44349:function(X,T,e){var D=e(97857),f=e.n(D),B=e(17186),x=e(5966),F=e(86250),M=e(67294),g=e(85893),P=(0,M.forwardRef)(function(i,t){var m=(0,M.useRef)();(0,M.useImperativeHandle)(t,function(){return{addItem:function(c,O){var j,E=(j=m.current)===null||j===void 0?void 0:j.getList(),L=!1;if(E==null||E.map(function(n){if(n.name==c){L=!0;return}}),!L){var h;(h=m.current)===null||h===void 0||h.add({name:c,value:O})}},clear:function(){var c;(c=m.current)===null||c===void 0||(c=c.getList())===null||c===void 0||c.map(function(O,j){var E;(E=m.current)===null||E===void 0||E.remove(j)})}}});var R={};return i.hideCopyButton===!0&&(R.copyIconProps=!1),i.hideDeleteButton===!0&&(R.deleteIconProps=!1),(0,g.jsx)(B.u,f()(f()({initialValue:i.initialValue,label:i.label,name:i.name,actionRef:m,creatorButtonProps:i.showAddButton?{creatorButtonText:"\u6DFB\u52A0"+(i.label?i.label:i.name)}:!1,min:i.min?i.min:0},R),{},{children:function(c,O,j){return(0,g.jsx)(F.Z,{justify:i.justify,gap:i.gap,children:i.items.map(function(E){return E.render?(0,g.jsx)("div",{children:E.render&&E.render(c,O,j)},"".concat(i.name,"-").concat(E.name,"-").concat(c.key)):(0,g.jsx)(x.Z,{width:E.width,name:E.name,label:E.label,required:E.required,rules:[{required:E.required}],disabled:E.disabled,placeholder:E.placeholder},"".concat(i.name,"-").concat(E.name,"-").concat(c.key))})})}}))});T.Z=P},12491:function(X,T,e){e.d(T,{Z:function(){return P}});var D=e(24963),f=e(88484),B=e(62370),x=e(31418),F=e(28036),M=e(67294),g=e(85893);function P(i){var t=(0,M.useContext)(D.Z),m=t.message,R=t.notice,y=t.lang,c=(0,M.useRef)(null),O=x.Z.useApp(),j=function(){c.current&&(c.current.click(),c.current.onchange=function(L){if(!L||!L.target)return"";var h=new FileReader;h.onload=function(b){var C,U,H=(C=b.target)===null||C===void 0?void 0:C.result;if(i.onLoad)try{i.onLoad&&i.onLoad(H)}catch(Q){R.error(Q);return}typeof i.onImport=="function"&&(m.success("\u6210\u529F\u5BFC\u5165 ".concat(i.title)),i.onImport(H)),(U=c.current)!==null&&U!==void 0&&U.value&&(c.current.value="")};var n=L.target;if(n.files)try{h.readAsText(n.files[0])}catch(b){R.error("\u5BFC\u5165\u6587\u4EF6\u5FC5\u987B\u662F\u6587\u672C\u7C7B\u578B")}})};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(B.Z,{children:(0,g.jsx)(F.ZP,{icon:(0,g.jsx)(f.Z,{}),block:!0,onClick:j,children:i.title})}),(0,g.jsx)("input",{style:{display:"none"},type:"file",ref:c,name:"importFileInput"})]})}},8680:function(X,T,e){var D=e(15009),f=e.n(D),B=e(64599),x=e.n(B),F=e(99289),M=e.n(F),g=e(9783),P=e.n(g),i=e(5574),t=e.n(i),m=e(67294),R=e(184),y=e(38345),c=e(97269),O=e(97321),j=e(97462),E=e(64317),L=e(5966),h=e(86615),n=e(68602),b=e(28036),C=e(83403),U=e(24963),H=e(1699),Q=e(29177),z=e(45742),u=e(43425),_=e(44349),r=e(85893),p=(0,m.forwardRef)(function(A,se){var K=(0,m.useState)(!1),V=t()(K,2),Y=V[0],J=V[1],$=(0,m.useRef)(),te=(0,m.useContext)(U.Z),I=te.message,N=(0,m.useState)([]),re=t()(N,2),G=re[0],w=re[1],ne=P()(P()(P()(P()(P()({},C.W6.CONTAINER,"Id"),C.W6.APPSTORE,"name"),C.W6.COMPOSE,"name"),C.W6.REGISTRY,"serverAddress"),C.W6.DOCKER_ENV,"name"),ae=P()(P()(P()(P()(P()({},C.W6.CONTAINER,"name"),C.W6.APPSTORE,"name"),C.W6.COMPOSE,"name"),C.W6.REGISTRY,"title"),C.W6.DOCKER_ENV,"title"),ee=ne[A.type],S=ae[A.type],o=A.selected.map(function(l){return l[ne[A.type]]});return m.useEffect(function(){Y&&((0,n.dP)({permission:{uri:A.type,key:ee,value:o}}).then(function(l){var s;(s=$.current)===null||s===void 0||s.setFieldValue("list",Object.keys(l.data.list).map(function(d){return{name:d,type:l.data.list[d].type,users:l.data.list[d].users}}))}),(0,n.lE)().then(function(l){var s,d=(s=l.data)===null||s===void 0||(s=s.list)===null||s===void 0?void 0:s.map(function(a){return{label:a.username,value:a.username}});w(d)}))},[Y]),(0,r.jsx)(H.u,{access:["canSeeEnableEe","canSeeFounder","canSeeManage"],children:(0,r.jsxs)(R.a,{name:"create",title:"\u6570\u636E\u6743\u9650\u8BBE\u7F6E",open:Y,onOpenChange:function(s){if(!s){var d;(d=$.current)===null||d===void 0||d.resetFields()}J(s)},drawerProps:{forceRender:!0},formRef:$,trigger:(0,r.jsx)(b.ZP,{icon:(0,r.jsx)(Q.Z,{}),children:"\u6570\u636E\u6743\u9650"}),onFinish:function(){var l=M()(f()().mark(function s(d){var a,v,W;return f()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:a=x()(d.list),Z.prev=1,a.s();case 3:if((v=a.n()).done){Z.next=9;break}return W=v.value,Z.next=7,(0,n.Db)({usernames:W.users,permissionType:W.type,permission:{uri:A.type,key:ee,showKey:S,value:[W.name]}});case 7:Z.next=3;break;case 9:Z.next=14;break;case 11:Z.prev=11,Z.t0=Z.catch(1),a.e(Z.t0);case 14:return Z.prev=14,a.f(),Z.finish(14);case 17:I.success("\u6743\u9650\u8BBE\u7F6E\u6210\u529F"),J(!1),A.onSuccess();case 20:case"end":return Z.stop()}},s,null,[[1,11,14,17]])}));return function(s){return l.apply(this,arguments)}}(),children:[(0,r.jsxs)(y.Z,{ghost:!0,title:(0,r.jsx)(z.Z,{}),subTitle:"\u6279\u91CF\u8BBE\u7F6E",children:[(0,r.jsx)(c.A.Item,{name:"type",style:{marginBottom:0},children:(0,r.jsxs)(O.Z.Group,{defaultValue:"admin",onChange:function(s){var d,a,v=(d=$.current)===null||d===void 0?void 0:d.getFieldValue("list");v.forEach(function(W){W.type=s,W.users=[]}),(a=$.current)===null||a===void 0||a.setFieldValue("list",v)},children:[(0,r.jsx)(O.Z,{style:{width:240},title:"\u7BA1\u7406\u5458",description:"\u4EC5\u7BA1\u7406\u5458\u53EF\u89C1",value:"admin"}),(0,r.jsx)(O.Z,{style:{width:240},title:"\u6307\u5B9A\u7528\u6237",description:"\u4EC5\u9009\u4E2D\u7528\u6237\u53EF\u89C1",value:"restricted"}),(0,r.jsx)(O.Z,{style:{width:240},title:"\u516C\u5171",description:"\u6240\u6709\u4EBA\u53EF\u89C1",value:"public"})]})}),(0,r.jsx)(j.Z,{name:["type"],children:function(s){var d=s.type;if(d==="restricted")return(0,r.jsx)(E.Z,{mode:"multiple",name:"usernames",label:"\u9009\u62E9\u7528\u6237",onChange:function(v){var W,k,Z=(W=$.current)===null||W===void 0?void 0:W.getFieldValue("list");Z.forEach(function(q){q.users=v}),(k=$.current)===null||k===void 0||k.setFieldValue("list",Z)},rules:[{required:!0}],request:M()(f()().mark(function a(){var v,W,k;return f()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(!(G.length>0)){q.next=2;break}return q.abrupt("return",G);case 2:return q.next=4,(0,n.lE)();case 4:return W=q.sent,k=(v=W.data)===null||v===void 0||(v=v.list)===null||v===void 0?void 0:v.map(function(le){return{label:le.username,value:le.username}}),w(k),q.abrupt("return",k);case 8:case"end":return q.stop()}},a)}))})}})]}),(0,r.jsx)(y.Z,{ghost:!0,title:(0,r.jsx)(u.Z,{}),subTitle:"\u6570\u636E\u6743\u9650\u8BBE\u7F6E",children:(0,r.jsx)(_.Z,{name:"list",hideCopyButton:!0,gap:10,items:[{name:"name",label:"\u540D\u79F0",render:function(s,d,a){var v=a.getCurrentRowData();return(0,r.jsx)(L.Z,{disabled:!0,label:"\u540D\u79F0",width:"sm",name:"name"})}},{name:"type",label:"\u6743\u9650\u7C7B\u578B",render:function(s,d,a){var v=a.getCurrentRowData();return(0,r.jsx)(h.Z.Group,{label:"\u6743\u9650\u7C7B\u578B",name:"type",radioType:"button",options:[{label:"\u7BA1\u7406\u5458",value:"admin"},{label:"\u516C\u5171",value:"public"},{label:"\u6307\u5B9A\u7528\u6237",value:"restricted"}]})}},{name:"users",label:"\u5173\u8054\u7528\u6237",render:function(s,d,a){return(0,r.jsx)(j.Z,{name:["type"],children:function(W){var k=W.type;if(k=="restricted")return(0,r.jsx)(E.Z,{width:"sm",mode:"tags",name:"users",label:"\u5173\u8054\u7528\u6237",options:G})}})}}]})})]})})});T.Z=p},24963:function(X,T,e){var D=e(67294),f=(0,D.createContext)({});T.Z=f},53893:function(X,T,e){e.r(T),e.d(T,{default:function(){return se}});var D=e(15009),f=e.n(D),B=e(99289),x=e.n(B),F=e(5574),M=e.n(F),g=e(80821),P=e(184),i=e(5966),t=e(52688),m=e(97462),R=e(62370),y=e(28036),c=e(86250),O=e(67294),j=e(91845),E=e(87662),L=e(24963),h=e(12491),n=e(85893),b=(0,O.forwardRef)(function(K,V){var Y;(0,O.useImperativeHandle)(V,function(){return{edit:function(o){var l;(l=N.current)===null||l===void 0||l.setFieldsValue({name:o.name,title:o.title,address:o.address,enableTLS:o.enableTLS,tlsCa:o.tlsCa,tlsCert:o.tlsCert,tlsKey:o.tlsKey,enableComposePath:o.enableComposePath}),I(!0),ne(o.name)}}});var J=(0,O.useState)(!1),$=M()(J,2),te=$[0],I=$[1],N=(0,O.useRef)(),re=(0,O.useState)(""),G=M()(re,2),w=G[0],ne=G[1],ae=(0,O.useContext)(L.Z),ee=ae.lang;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y.ZP,{onClick:function(){var o;ne(""),(o=N.current)===null||o===void 0||o.resetFields(),I(!0)},type:"primary",children:"\u6DFB\u52A0\u670D\u52A1\u7AEF"}),(0,n.jsxs)(P.a,{drawerProps:{forceRender:!0},onOpenChange:function(o){I(o)},open:te,width:800,formRef:N,title:(Y=N.current)!==null&&Y!==void 0&&Y.getFieldValue&&N.current.getFieldValue("name")=="local"?"\u914D\u7F6E\u9ED8\u8BA4Docker\u670D\u52A1\u7AEF":"\u6DFB\u52A0\u8FDC\u7A0BDocker\u670D\u52A1\u7AEF",onFinish:function(){var S=x()(f()().mark(function o(l){var s,d;return f()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return s={name:l.name,title:l.title,address:l.address,tlsCa:l.tlsCa,tlsCert:l.tlsCert,tlsKey:l.tlsKey,enableTLS:l.enableTLS,enableComposePath:l.enableComposePath,composePath:l.enableComposePath?l.composePath:""},v.next=3,(0,E.ad)(s);case 3:return d=v.sent,K.onFinish&&K.onFinish(),v.abrupt("return",!0);case 6:case"end":return v.stop()}},o)}));return function(o){return S.apply(this,arguments)}}(),children:[(0,n.jsx)(i.Z,{label:"\u540D\u79F0",name:"title",required:!0,rules:[{required:!0}],fieldProps:{onChange:function(o){var l="";if(o.target.value&&!w){var s,d=(0,j.N9)(o.target.value.trim(),{toneType:"none",type:"array"});l=d.join(""),(s=N.current)===null||s===void 0||s.setFieldValue("name",l)}}}}),(0,n.jsx)(i.Z,{label:"\u6807\u8BC6",name:"name",required:!0,disabled:w!="",rules:[{required:!0}],placeholder:"\u6807\u8BC6Docker\u73AF\u5883\uFF0C\u53EA\u5141\u8BB8\u4E3A\u82F1\u6587\u6216\u662F\u6570\u5B57"}),(0,n.jsx)(i.Z,{label:"Docker Api \u5730\u5740",name:"address",tooltip:"\u8FDE\u63A5\u8FDC\u7A0B Docker \u65F6\u8BF7\u5148\u5F00\u542F Api \u5730\u5740\u8BBF\u95EE\u3002",placeholder:"\u4F8B\u5982\uFF1Aunix:///var/run/docker.sock\u3001tcp://192.16.0.5:2375"}),(0,n.jsxs)(c.Z,{gap:80,children:[(0,n.jsx)(t.Z,{label:"\u542F\u7528TLS",name:"enableTLS",tooltip:"\u751F\u6210\u6559\u7A0B\u89C1\uFF1Ahttps://donknap.github.io/dpanel-docs/#/zh-cn/manual/remote"}),(0,n.jsx)(m.Z,{name:["enableComposePath","name"],children:function(o){var l=o.name;if(l!="local")return(0,n.jsx)(t.Z,{label:ee("system.env.createEnableComposePath"),name:"enableComposePath",tooltip:"\u5F00\u542F\u72EC\u7ACBcompose\u914D\u7F6E\u540E\uFF0C\u5207\u6362\u8FDC\u7A0B docker \u5BA2\u6237\u7AEF\u65F6\u5C06\u53EA\u4F1A\u8BFB\u53D6\u8BE5\u73AF\u5883\u4E13\u5C5E\u76EE\u5F55\u4E0B\u7684 compose \u4EFB\u52A1"})}})]}),(0,n.jsx)(m.Z,{name:["enableComposePath","name"],children:function(o){var l=o.enableComposePath,s=o.name;if(l)return(0,n.jsx)(i.Z,{label:ee("system.env.createComposePath"),name:"composePath",disabled:!0,fieldProps:{value:"/dpanel/compose/compose-".concat(s!=null?s:"")}})}}),(0,n.jsx)(m.Z,{name:["enableTLS"],children:function(o){var l=o.enableTLS;if(l)return(0,n.jsxs)(c.Z,{gap:20,justify:"start",children:[(0,n.jsx)(R.Z,{name:"tlsCa",label:"\u4E0A\u4F20\u5BA2\u6237\u7AEF\u8BC1\u4E66",children:(0,n.jsx)(h.Z,{title:"\u4E0A\u4F20CA\u8BC1\u4E66 ca.pem",onImport:function(d){var a;return(a=N.current)===null||a===void 0||a.setFieldValue("tlsCa",d),!0},onLoad:function(d){if(d.indexOf("CERTIFICATE")<0)throw new Error("\u5BFC\u5165ca.pem\u8BC1\u4E66\u9519\u8BEF");return!0}})}),(0,n.jsx)(R.Z,{name:"tlsCert",label:" ",children:(0,n.jsx)(h.Z,{title:"\u4E0A\u4F20\u8BC1\u4E66\u6587\u4EF6 cert.pem",onImport:function(d){var a;return(a=N.current)===null||a===void 0||a.setFieldValue("tlsCert",d),!0},onLoad:function(d){if(d.indexOf("CERTIFICATE")<0)throw new Error("\u5BFC\u5165cert.pem\u8BC1\u4E66\u9519\u8BEF");return!0}})}),(0,n.jsx)(R.Z,{label:" ",name:"tlsKey",children:(0,n.jsx)(h.Z,{title:"\u4E0A\u4F20\u5BC6\u94A5\u6587\u4EF6 key.pem",onImport:function(d){var a;return(a=N.current)===null||a===void 0||a.setFieldValue("tlsKey",d),!0},onLoad:function(d){if(d.indexOf("PRIVATE")<0)throw new Error("\u5BFC\u5165key.pem\u8BC1\u4E66\u9519\u8BEF");return!0}})})]})}})]})]})}),C=b,U=e(8680),H=e(83403),Q=e(86548),z=e(90078),u=e(78099),_=e(82346),r=e(42075),p=e(96074),A=e(25593);function se(){var K=(0,O.useRef)(),V=(0,O.useRef)(),Y=(0,_.useSearchParams)(),J=M()(Y,2),$=J[0],te=J[1],I=(0,_.useModel)("@@initialState"),N=I.initialState,re=I.loading,G=I.error,w=I.refresh,ne=I.setInitialState,ae=(0,O.useContext)(L.Z),ee=ae.message;return(0,n.jsx)(z._z,{header:{extra:[(0,n.jsx)(C,{ref:V,onFinish:x()(f()().mark(function S(){var o,l,s;return f()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!$.get("id")){a.next=5;break}return a.next=3,(0,E.vC)({name:(s=$.get("id"))!==null&&s!==void 0?s:"local"});case 3:return te(""),a.abrupt("return");case 5:w(),!((o=K.current)===null||o===void 0)&&o.reloadAndRest&&((l=K.current)===null||l===void 0||l.reloadAndRest());case 7:case"end":return a.stop()}},S)}))},"dockerEnvCreate")]},children:(0,n.jsx)(u.Z,{rowKey:"name",columns:[{title:"\u6807\u8BC6",dataIndex:"name"},{title:"\u540D\u79F0",dataIndex:"title"},{title:"\u5730\u5740",dataIndex:"address"},{title:"\u64CD\u4F5C",width:100,search:!1,render:function(o,l,s,d,a){return(0,n.jsx)(r.Z,{split:(0,n.jsx)(p.Z,{type:"vertical"}),children:(0,n.jsx)(A.Z.Link,{onClick:function(){var W;(W=V.current)===null||W===void 0||W.edit(l)},children:(0,n.jsx)(Q.Z,{})},l.name)})}}],pagination:!1,request:x()(f()().mark(function S(){var o;return f()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,E.Kg)();case 2:return o=s.sent,$.get("id")&&o.data.list.map(function(d){if(d.name==$.get("id")){var a;(a=V.current)===null||a===void 0||a.edit(d)}}),s.abrupt("return",{data:o.data.list,total:o.data.list.length});case 5:case"end":return s.stop()}},S)})),search:!1,rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},actionRef:K,tableAlertOptionRender:function(o){var l=o.selectedRows,s=o.selectedRowKeys;return(0,n.jsxs)(r.Z,{size:16,children:[(0,n.jsx)(U.Z,{type:H.W6.DOCKER_ENV,selected:l,onSuccess:function(){var a,v;return!((a=K.current)===null||a===void 0)&&a.reloadAndRest&&((v=K.current)===null||v===void 0||v.reloadAndRest()),!0}}),(0,n.jsx)(g.Z,{danger:!0,type:"primary",action:function(){return l.find(function(a){return a.default})?(ee.warning("\u9ED8\u8BA4\u73AF\u5883\u4E0D\u80FD\u5220\u9664"),!1):(0,E._g)({name:s})},onSuccess:function(){var a,v;return w(),!((a=K.current)===null||a===void 0)&&a.reloadAndRest&&((v=K.current)===null||v===void 0||v.reloadAndRest()),!0},onError:function(){var a,v;return!((a=K.current)===null||a===void 0)&&a.reset&&((v=K.current)===null||v===void 0||v.reset()),!0},confirm:"notification.confirm.title",children:"\u6279\u91CF\u5220\u9664"})]})}})})}},86250:function(X,T,e){e.d(T,{Z:function(){return z}});var D=e(67294),f=e(93967),B=e.n(f),x=e(98423),F=e(98065),M=e(53124),g=e(83559),P=e(83262);const i=["wrap","nowrap","wrap-reverse"],t=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],m=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],R=(u,_)=>{const r=_.wrap===!0?"wrap":_.wrap;return{[`${u}-wrap-${r}`]:r&&i.includes(r)}},y=(u,_)=>{const r={};return m.forEach(p=>{r[`${u}-align-${p}`]=_.align===p}),r[`${u}-align-stretch`]=!_.align&&!!_.vertical,r},c=(u,_)=>{const r={};return t.forEach(p=>{r[`${u}-justify-${p}`]=_.justify===p}),r};function O(u,_){return B()(Object.assign(Object.assign(Object.assign({},R(u,_)),y(u,_)),c(u,_)))}var j=O;const E=u=>{const{componentCls:_}=u;return{[_]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},L=u=>{const{componentCls:_}=u;return{[_]:{"&-gap-small":{gap:u.flexGapSM},"&-gap-middle":{gap:u.flexGap},"&-gap-large":{gap:u.flexGapLG}}}},h=u=>{const{componentCls:_}=u,r={};return i.forEach(p=>{r[`${_}-wrap-${p}`]={flexWrap:p}}),r},n=u=>{const{componentCls:_}=u,r={};return m.forEach(p=>{r[`${_}-align-${p}`]={alignItems:p}}),r},b=u=>{const{componentCls:_}=u,r={};return t.forEach(p=>{r[`${_}-justify-${p}`]={justifyContent:p}}),r},C=()=>({});var U=(0,g.I$)("Flex",u=>{const{paddingXS:_,padding:r,paddingLG:p}=u,A=(0,P.IX)(u,{flexGapSM:_,flexGap:r,flexGapLG:p});return[E(A),L(A),h(A),n(A),b(A)]},C,{resetStyle:!1}),H=function(u,_){var r={};for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&_.indexOf(p)<0&&(r[p]=u[p]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,p=Object.getOwnPropertySymbols(u);A<p.length;A++)_.indexOf(p[A])<0&&Object.prototype.propertyIsEnumerable.call(u,p[A])&&(r[p[A]]=u[p[A]]);return r},z=D.forwardRef((u,_)=>{const{prefixCls:r,rootClassName:p,className:A,style:se,flex:K,gap:V,children:Y,vertical:J=!1,component:$="div"}=u,te=H(u,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:I,direction:N,getPrefixCls:re}=D.useContext(M.E_),G=re("flex",r),[w,ne,ae]=U(G),ee=J!=null?J:I==null?void 0:I.vertical,S=B()(A,p,I==null?void 0:I.className,G,ne,ae,j(G,u),{[`${G}-rtl`]:N==="rtl",[`${G}-gap-${V}`]:(0,F.n)(V),[`${G}-vertical`]:ee}),o=Object.assign(Object.assign({},I==null?void 0:I.style),se);return K&&(o.flex=K),V&&!(0,F.n)(V)&&(o.gap=V),w(D.createElement($,Object.assign({ref:_,className:S,style:o},(0,x.Z)(te,["justify","wrap","align"])),Y))})}}]);
