"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7659],{37767:function(tn,y,n){n.d(y,{Z:function(){return q}});var K=n(15009),v=n.n(K),I=n(99289),x=n.n(I),g=n(5574),$=n.n(g),l=n(45605),F=n(38345),D=n(97269),C=n(26412),S=n(42075),o=n(96074),L=n(25593),t=n(2487),O=n(67294),c=n(76428),X=n(78498),u=n(44771),V=n(60335),Q=n(24963),Z=n(37413),f=n(87662),_=n(5251),J=n(82346),d=n(85893);function q(i){var G,k,on,en,rn,sn,cn,vn,fn,En,a=(0,O.useState)(""),hn=$()(a,2),Pn=hn[0],_n=hn[1],gn=(0,J.useAccess)(),dn=(0,O.useContext)(Q.Z),Dn=dn.message,Cn=dn.notice,Bn=dn.loading,In=dn.lang,E=(0,O.useRef)(),ln=[],w=[],mn=[],un=(0,O.useState)(""),nn=$()(un,2),p=nn[0],z=nn[1];return(0,O.useEffect)(function(){if(i.data){var m;(m=E.current)===null||m===void 0||m.setFieldValue("restart",i.data.info.HostConfig.RestartPolicy.Name),(0,f.EH)().then(function(A){z(A.data.ip)}),_n(i.data.info.Name)}},[i.data]),i.data&&i.data.domain&&i.data.domain.map(function(m){mn.push(m.serverName)}),i.data&&i.data.info.NetworkSettings&&i.data.info.NetworkSettings.Ports&&Object.keys(i.data.info.NetworkSettings.Ports).map(function(m){var A,M,T=(A=(M=i.data.info)===null||M===void 0?void 0:M.NetworkSettings.Ports[m])!==null&&A!==void 0?A:[{HostPort:null,HostIp:""}],U=m.split("/"),N=$()(U,2),W=N[0],b=N[1];T.map(function(Y){Y.HostPort?ln.push({PrivatePort:W,Type:b,IP:Y.HostIp,PublicPort:Y.HostPort}):w.push({PrivatePort:W,Type:b,IP:"",PublicPort:""})})}),(0,d.jsxs)(d.Fragment,{children:[i.data&&i.data.info.State.Running&&(0,d.jsx)(Z.Z,{publicPort:ln,privatePort:w,domain:mn,serverIp:p,showInDetail:!0,ghost:i.ghost,layout:"inline"}),(0,d.jsx)(F.Z,{title:(0,d.jsx)(l.Z,{}),subTitle:"\u5BB9\u5668\u72B6\u6001",ghost:i.ghost,children:(0,d.jsxs)(C.Z,{column:1,bordered:!0,children:[(0,d.jsx)(C.Z.Item,{label:"Hostname",children:(0,d.jsx)(S.Z,{split:(0,d.jsx)(o.Z,{type:"vertical"}),children:(0,d.jsx)(c.Z,{title:(G=i.data.info)===null||G===void 0?void 0:G.Config.Hostname})})}),(0,d.jsx)(C.Z.Item,{label:"\u5BB9\u5668\u540D\u79F0",children:(0,d.jsxs)(S.Z,{split:(0,d.jsx)(o.Z,{type:"vertical"}),children:[(0,d.jsx)(c.Z,{title:(k=i.data.info)===null||k===void 0?void 0:k.Id.substring(0,12)}),(0,d.jsx)(L.Z.Text,{copyable:!0,editable:{tooltip:"\u4FEE\u6539\u5BB9\u5668\u540D\u79F0",onChange:function(){var m=x()(v()().mark(function M(T){var U,N;return v()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if((U=i.data.info)!==null&&U!==void 0&&U.Id){b.next=2;break}return b.abrupt("return");case 2:return b.next=4,(0,V.eE)({md5:i.data.info.Id,name:T});case 4:N=b.sent,_n(T),Dn.success(In("notification.finish"));case 7:case"end":return b.stop()}},M)}));function A(M){return m.apply(this,arguments)}return A}()},children:(0,_.fi)(Pn,"/")})]})}),(0,d.jsx)(C.Z.Item,{label:(0,d.jsx)(X.Z,{title:"\u7F51\u7EDC",help:"\u9ED8\u8BA4\u7F51\u7EDC\u53EA\u652F\u6301\u901A\u8FC7ip\u8BBF\u95EE,ip\u4F1A\u968F\u7740\u5BB9\u5668\u542F\u52A8\u505C\u6B62\u6539\u53D8.\u5982\u679C\u9700\u8981\u5728\u5BB9\u5668\u5185\u4E92\u8054,\u8BF7\u901A\u8FC7\u3010\u7F16\u8F91\u7AD9\u70B9\u3011-\u3010\u6DFB\u52A0\u5173\u8054\u3011"}),children:((on=i.data.info)===null||on===void 0?void 0:on.State.Running)&&(0,d.jsxs)(C.Z,{column:1,bordered:!0,children:[i.data.info.NetworkSettings.Networks&&Object.keys(i.data.info.NetworkSettings.Networks).map(function(m,A){var M,T,U;return(0,d.jsx)(C.Z.Item,{label:m,children:m=="host"?" Host \u7F51\u7EDC\uFF0C\u4E0E\u5BBF\u4E3B\u673A\u5171\u7528\u540C\u4E00\u7F51\u7EDC":(0,d.jsxs)(S.Z,{direction:"vertical",children:[(0,d.jsx)(c.Z,{title:(M=i.data.info)===null||M===void 0?void 0:M.NetworkSettings.Networks[m].IPAddress}),(T=i.data.info)===null||T===void 0?void 0:T.NetworkSettings.Networks[m].Gateway,(U=i.data.info)===null||U===void 0?void 0:U.NetworkSettings.Networks[m].MacAddress]})},"1")}),i.data.info.HostConfig.ExtraHosts&&(0,d.jsx)(C.Z.Item,{label:"\u5BBF\u4E3B\u673A\u7F51\u7EDC",children:(0,d.jsx)(S.Z,{direction:"vertical",children:i.data.info.HostConfig.ExtraHosts.map(function(m){if(m.indexOf(":")>-1){var A=m.split(":");return(0,d.jsxs)(S.Z,{children:[(0,d.jsx)(c.Z,{title:A[0]})," - ",A[1]]})}})})},"1")]})}),(0,d.jsxs)(C.Z.Item,{label:"\u8FD0\u884C\u65F6\u95F4",children:["\u521B\u5EFA\u4E8E: ",new Date((en=(rn=i.data.info)===null||rn===void 0?void 0:rn.Created)!==null&&en!==void 0?en:"").toLocaleString()," / \u66F4\u65B0\u4E8E: ",new Date((sn=(cn=i.data.info)===null||cn===void 0?void 0:cn.State.StartedAt)!==null&&sn!==void 0?sn:"").toLocaleString()]}),gn.canSeeContainerListManage&&(0,d.jsx)(C.Z.Item,{label:"\u91CD\u542F\u7B56\u7565",children:(0,d.jsx)(D.A,{name:"container-restart",submitter:!1,onValuesChange:function(){var m=x()(v()().mark(function A(M){var T,U;return v()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if((T=i.data.info)!==null&&T!==void 0&&T.Id){W.next=2;break}return W.abrupt("return");case 2:return W.next=4,(0,V.eE)({md5:i.data.info.Id,restart:M.restart});case 4:return U=W.sent,Dn.success("\u4FEE\u6539\u91CD\u542F\u7B56\u7565\u6210\u529F"),W.abrupt("return");case 7:case"end":return W.stop()}},A)}));return function(A){return m.apply(this,arguments)}}(),layout:"inline",formRef:E,children:(0,d.jsx)(u.Z,{defaultValue:(vn=i.data.info)===null||vn===void 0?void 0:vn.HostConfig.RestartPolicy.Name})})}),(0,d.jsx)(C.Z.Item,{label:"\u73AF\u5883\u53D8\u91CF",children:(0,d.jsx)(t.Z,{dataSource:(fn=(En=i.data.info)===null||En===void 0?void 0:En.Config.Env)!==null&&fn!==void 0?fn:[],renderItem:function(A){var M=A.split("=");return(0,d.jsxs)(t.Z.Item,{children:[(0,d.jsx)(L.Z.Text,{code:!0,children:M[0]})," = ",(0,d.jsx)(L.Z.Text,{copyable:!0,children:M.slice(1).join("=")})]})}})})]})})]})}},14245:function(tn,y,n){n.d(y,{Z:function(){return $}});var K=n(60433),v=n(38345),I=n(26412),x=n(25593),g=n(85893);function $(l){return(0,g.jsx)(v.Z,{ghost:l.ghost,title:(0,g.jsx)(K.Z,{}),subTitle:"\u955C\u50CF\u8BE6\u60C5",children:(0,g.jsxs)(I.Z,{labelStyle:{width:"200px"},column:1,bordered:!0,children:[(0,g.jsx)(I.Z.Item,{label:"Image Tag",children:(0,g.jsx)(x.Z.Text,{copyable:!0,children:l.data.Config.Image})}),(0,g.jsx)(I.Z.Item,{label:"Image",children:l.data.Image}),(0,g.jsx)(I.Z.Item,{label:"CMD",children:l.data.Config.Cmd&&l.data.Config.Cmd.join(" ")}),(0,g.jsx)(I.Z.Item,{label:"ENTRYPOINT",children:l.data.Config.Entrypoint}),(0,g.jsx)(I.Z.Item,{label:"Labels",children:(0,g.jsx)(I.Z,{column:1,bordered:!0,children:l.data&&Object.keys(l.data.Config.Labels).map(function(F){return(0,g.jsx)(I.Z.Item,{label:F,children:l.data.Config.Labels[F]},F)})})})]})})}},27813:function(tn,y,n){n.d(y,{Z:function(){return In}});var K=n(15009),v=n.n(K),I=n(99289),x=n.n(I),g=n(5574),$=n.n(g),l=n(67294),F=n(80821),D=n(62597),C=n(60335),S=n(43425),o=n(58638),L=n(60219),t=n(86548),O=n(57132),c=n(87784),X=n(25035),u=n(38345),V=n(97269),Q=n(62370),Z=n(5966),f=n(52688),_=n(82346),J=n(42075),d=n(65233),q=n(96074),i=n(28036),G=n(25593),k=n(85418),on=n(40411),en=n(84567),rn=n(83062),sn=n(93162),cn=n(28031),vn=n(85576),fn=n(60940),En=n(37476),a=n(85893);function hn(E){var ln=vn.Z.useModal(),w=$()(ln,2),mn=w[0],un=w[1],nn=(0,l.useRef)(),p="";return(0,l.useEffect)(function(){var z,m;p=(z=localStorage.getItem("backupPath"))!==null&&z!==void 0?z:"",(m=nn.current)===null||m===void 0||m.setFieldValue("backupPath",p)},[]),(0,a.jsxs)(a.Fragment,{children:[un,(0,a.jsx)(En.Y,{modalProps:{forceRender:!0},formRef:nn,title:"\u5907\u4EFD\u5BB9\u5668\u5B58\u50A8\u5377",trigger:(0,a.jsxs)(i.ZP,{children:[(0,a.jsx)(L.Z,{})," \u5907\u4EFD\u5B58\u50A8\u76EE\u5F55"]}),onFinish:function(){var z=x()(v()().mark(function m(A){var M,T;return v()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return A.backupPath&&localStorage.setItem("backupPath",A.backupPath),M={containerMd5:E.container.Id,backupPath:A.backupPath},N.next=4,(0,cn.vp)(M);case 4:return T=N.sent,mn.info({title:"\u6B63\u5728\u5907\u4EFD\u5B58\u50A8\u4E2D",content:(0,a.jsx)(u.Z,{ghost:!0,style:{paddingTop:30},children:(0,a.jsx)(fn.Z,{columns:[{title:"\u5907\u4EFD\u6587\u4EF6",key:"backup",dataIndex:"backup",width:300,render:function(b,Y,an){return(0,a.jsx)(G.Z.Paragraph,{ellipsis:{rows:5,expandable:!0},children:Y.backupTar})}},{title:"\u5907\u4EFD\u76EE\u5F55",key:"pathList",dataIndex:"pathList",render:function(b,Y,an){return Y.pathList.map(function(xn,B){return(0,a.jsx)("div",{children:xn},B)})}}],dataSource:[{key:1,backupTar:T.data.backupTar,pathList:T.data.pathList}],rowKey:"key",pagination:!1})}),closable:!0,width:800}),N.abrupt("return",!0);case 7:case"end":return N.stop()}},m)}));return function(m){return z.apply(this,arguments)}}(),children:(0,a.jsx)(Z.Z,{label:"\u6307\u5B9A\u5BBF\u4E3B\u673A\u76EE\u5F55",tooltip:"\u8BF7\u586B\u5199\u5BBF\u4E3B\u673A\u76EE\u5F55\uFF0C\u4E0D\u5B58\u65F6\u4F1A\u65B0\u5EFA",name:"backupPath",placeholder:"/home/backup",initialValue:"/home/backup"})})]})}var Pn=n(24963),_n=n(99861),gn=n(3393),dn=n(50888),Dn=n(16596),Cn=n(1699),Bn=(0,l.forwardRef)(function(E,ln){var w;(0,l.useImperativeHandle)(ln,function(){return{}});var mn=(0,_.useNavigate)(),un=(0,l.useRef)(),nn=(0,l.useRef)(),p=(0,l.useRef)(),z=(0,l.useContext)(Pn.Z),m=z.message,A=z.notice,M=z.loading,T=z.lang,U=(0,l.useRef)(),N=(0,l.useRef)(),W=(0,l.useState)(0),b=$()(W,2),Y=b[0],an=b[1],xn=function(){var B=x()(v()().mark(function r(e){var h,s,j;return v()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(s=-2,!e.ignore){P.next=6;break}if(!(e.ignore.indexOf("".concat(e.info.Name,"@*"))>-1)){P.next=4;break}return P.abrupt("return",-2);case 4:if(!(e.ignore.indexOf("".concat(e.info.Name,"@").concat(e.info.Image))>-1)){P.next=6;break}return P.abrupt("return",-2);case 6:return P.next=8,(0,gn.ZQ)({tag:(h=e.info.Config.Image)!==null&&h!==void 0?h:"",md5:e.info.Image,cacheTime:3600}).catch(function(H){s=-1});case 8:return j=P.sent,j&&(j.data.digestLocal&&j.data.digestLocal.length>0?s=j.data.upgrade?1:2:s=-2),P.abrupt("return",s);case 11:case"end":return P.stop()}},r)}));return function(e){return B.apply(this,arguments)}}();return(0,l.useEffect)(function(){E.checkContainerUpgrade&&(an(0),xn(E.data).then(function(B){an(B)}))},[E.data]),(0,a.jsx)(u.Z,{ghost:E.ghost,title:(0,a.jsx)(S.Z,{}),subTitle:"\u5BB9\u5668\u7BA1\u7406",children:(0,a.jsxs)(J.Z,{wrap:!0,children:[(0,a.jsx)(F.Z,{icon:(0,a.jsx)(o.Z,{}),action:function(){var r,e;return(0,C.LJ)({md5:(r=(e=E.data)===null||e===void 0?void 0:e.info.Id)!==null&&r!==void 0?r:""})},confirm:"\u5BFC\u51FA\u5BB9\u5668 Tar \u5305\u4E0D\u5305\u542B\u6302\u8F7D\u76EE\u5F55\u7684\u6570\u636E\uFF0C\u786E\u5B9A\u5417\uFF1F",onSuccess:function(r){var e,h=new Blob([r],{type:"application/tar"});(0,sn.saveAs)(h,((e=E.data)===null||e===void 0?void 0:e.info.Id)+".tar")},children:"\u5BFC\u51FA\u5BB9\u5668"}),(0,a.jsx)(F.Z,{icon:(0,a.jsx)(L.Z,{}),action:x()(v()().mark(function B(){var r,e,h,s,j;return v()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,C.Re)({md5:(r=(e=E.data)===null||e===void 0?void 0:e.info.Id)!==null&&r!==void 0?r:"",name:(h=(s=nn.current)===null||s===void 0?void 0:s.getFieldValue("saveImageName"))!==null&&h!==void 0?h:(j=E.data)===null||j===void 0?void 0:j.info.Name});case 2:case"end":return P.stop()}},B)})),confirmTitle:"\u5C06\u5F53\u524D\u5BB9\u5668\u4FDD\u5B58\u4E3A\u955C\u50CF",confirm:(0,a.jsx)(J.Z,{style:{width:400,marginTop:"10px",paddingRight:"10px"},direction:"vertical",children:(0,a.jsx)(V.A,{formRef:nn,submitter:!1,children:(0,a.jsx)(Q.Z,{name:"saveImageName",children:(0,a.jsx)(d.Z,{addonBefore:"\u955C\u50CF\u540D\u79F0"})})})}),children:"\u53E6\u5B58\u4E3A\u955C\u50CF"}),E.data&&(0,a.jsx)(Cn.u,{access:"canSeeContainerBackup",children:(0,a.jsx)(hn,{container:E.data.info})}),(0,a.jsx)(q.Z,{type:"vertical"}),(0,a.jsx)(_.Link,{to:"/app/create/image?containerId=".concat((w=E.data)===null||w===void 0?void 0:w.info.Id,"&op=update"),children:(0,a.jsx)(i.ZP,{type:"primary",icon:(0,a.jsx)(t.Z,{}),children:"\u7F16\u8F91\u5BB9\u5668"})}),(0,a.jsx)(F.Z,{icon:(0,a.jsx)(O.Z,{}),action:x()(v()().mark(function B(){var r,e,h,s,j,R;return v()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,(0,C.aF)({md5:(r=(e=E.data)===null||e===void 0?void 0:e.info.Id)!==null&&r!==void 0?r:"",copyName:(h=(s=p.current)===null||s===void 0?void 0:s.getFieldValue("copyName"))!==null&&h!==void 0?h:"",enableRandomPort:(j=(R=p.current)===null||R===void 0?void 0:R.getFieldValue("enableRandomPort"))!==null&&j!==void 0?j:!1});case 2:return H.abrupt("return",H.sent);case 3:case"end":return H.stop()}},B)})),confirm:(0,a.jsxs)(J.Z,{style:{width:400,paddingRight:"10px"},direction:"vertical",children:[(0,a.jsx)(G.Z.Text,{children:"\u9ED8\u8BA4\u60C5\u51B5\u4E0B, \u590D\u5236\u7684\u76EE\u6807\u5BB9\u5668\u4E0E\u5F53\u524D\u5BB9\u5668\u5177\u6709\u76F8\u540C\u7684\u914D\u7F6E\u65E0\u6CD5\u542F\u52A8\u3002 \u5982\u679C\u4F60\u5E0C\u671B\u76EE\u6807\u5BB9\u5668\u6B63\u5E38\u8FD0\u884C\uFF0C\u8BF7\u5F00\u542F\u3010\u7ED1\u5B9A\u968F\u673A\u7AEF\u53E3\u3011"}),(0,a.jsxs)(V.A,{formRef:p,submitter:!1,layout:"horizontal",children:[(0,a.jsx)("br",{}),(0,a.jsx)(Z.Z,{label:"\u590D\u5236\u5BB9\u5668\u540D\u79F0",name:"copyName"}),(0,a.jsx)(f.Z,{label:"\u7ED1\u5B9A\u968F\u673A\u7AEF\u53E3",name:"enableRandomPort"})]})]}),onSuccess:function(r){var e;(e=p.current)===null||e===void 0||e.resetFields()},children:"\u590D\u5236\u5BB9\u5668"}),E.data&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_n.Z,{image:[E.data.info.Config.Image],ref:U}),(0,a.jsx)(k.Z,{placement:"bottomLeft",menu:{items:[{key:"1",label:(0,a.jsx)(F.Z,{action:x()(v()().mark(function B(){var r,e,h,s,j,R;return v()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,(0,D.ze)({md5:(r=(e=E.data.info)===null||e===void 0?void 0:e.Name)!==null&&r!==void 0?r:"",imageId:""});case 2:return an(0),H.next=5,(0,gn.ZQ)({tag:(h=(s=E.data.info)===null||s===void 0?void 0:s.Config.Image)!==null&&h!==void 0?h:"",md5:(j=(R=E.data.info)===null||R===void 0?void 0:R.Image)!==null&&j!==void 0?j:"",cacheTime:0}).then(function(jn){jn.data.digestLocal&&jn.data.digestLocal.length>0?an(jn.data.upgrade?1:2):an(-2)}).catch(function(jn){an(-1)});case 5:return H.abrupt("return",H.sent);case 6:case"end":return H.stop()}},B)})),type:"link",children:"\u81EA\u52A8\u68C0\u6D4B"})},{key:"2",label:(0,a.jsx)(F.Z,{action:x()(v()().mark(function B(){var r,e,h,s;return v()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,D.ze)({md5:(r=(e=E.data.info)===null||e===void 0?void 0:e.Name)!==null&&r!==void 0?r:"",imageId:(h=(s=E.data.info)===null||s===void 0?void 0:s.Image)!==null&&h!==void 0?h:""});case 2:return R.abrupt("return",R.sent);case 3:case"end":return R.stop()}},B)})),type:"link",children:"\u5FFD\u7565\u672C\u6B21"})},{key:"3",label:(0,a.jsx)(F.Z,{action:x()(v()().mark(function B(){var r,e;return v()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,D.ze)({md5:(r=(e=E.data.info)===null||e===void 0?void 0:e.Name)!==null&&r!==void 0?r:"",imageId:"*"});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},B)})),type:"link",children:"\u6C38\u4E45\u5FFD\u7565"})}]},children:(0,a.jsx)(on.Z,{count:T("app.detail.checkImageUpgrade."+Y),color:T("app.detail.checkImageUpgradeColor."+Y),children:(0,a.jsx)(F.Z,{disabled:Y===0,icon:Y===0?(0,a.jsx)(dn.Z,{}):(0,a.jsx)(Dn.Z,{}),action:x()(v()().mark(function B(){var r,e,h,s,j;return v()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(r=U.current)===null||r===void 0?void 0:r.start();case 2:return M.show(),(e=U.current)===null||e===void 0||e.finish(),P.next=6,(0,C.RF)({md5:(h=E.data.info.Id)!==null&&h!==void 0?h:"",imageTag:"",enableBak:(s=(j=N.current)===null||j===void 0?void 0:j.getFieldValue("enableBak"))!==null&&s!==void 0?s:!0});case 6:return P.abrupt("return",P.sent);case 7:case"end":return P.stop()}},B)})),confirm:(0,a.jsxs)(J.Z,{style:{width:280,paddingRight:"10px"},direction:"vertical",children:[(0,a.jsx)(G.Z.Text,{children:"\u66F4\u65B0\u5BB9\u5668\u524D\u8BF7\u786E\u4FDD\u8FDC\u7A0B Docker \u7248\u672C\u4E0E\u9762\u677F\u73AF\u5883\u4E00\u81F4\u3002\u6B64\u64CD\u4F5C\u5C06\u4F1A\u91CD\u65B0\u62C9\u53D6\u955C\u50CF\u5E76\u91CD\u5EFA\u5BB9\u5668\u3002\u786E\u5B9A\u5417\uFF1F"}),(0,a.jsx)(V.A,{formRef:N,submitter:!1,layout:"inline",children:(0,a.jsx)(Q.Z,{name:"enableBak",initialValue:!0,valuePropName:"checked",children:(0,a.jsx)(en.Z,{children:"\u5907\u4EFD\u65E7\u5BB9\u5668\uFF1F"})})})]}),onSuccess:function(r){M.destroy(),E.checkContainerUpgrade&&E.checkContainerUpgrade()},children:"\u5FEB\u901F\u5347\u7EA7\u5BB9\u5668"})})})]}),(0,a.jsx)(q.Z,{type:"vertical"}),E.data&&(0,a.jsx)(F.Z,{action:function(){var r,e,h,s,j,R;return(0,D.Ct)({md5:(r=(e=E.data)===null||e===void 0?void 0:e.info.Id)!==null&&r!==void 0?r:"",deleteImage:(h=(s=un.current)===null||s===void 0?void 0:s.getFieldValue("deleteImage"))!==null&&h!==void 0?h:!1,deleteVolume:(j=(R=un.current)===null||R===void 0?void 0:R.getFieldValue("deleteVolume"))!==null&&j!==void 0?j:!1})},danger:!0,type:"primary",icon:(0,a.jsx)(c.Z,{}),onSuccess:function(){M.destroy(),E.checkContainerUpgrade&&E.checkContainerUpgrade()},confirm:(0,a.jsxs)(J.Z,{style:{width:200},direction:"vertical",children:[(0,a.jsx)(G.Z.Text,{children:T("notification.confirm.title")}),(0,a.jsxs)(V.A,{formRef:un,layout:"inline",submitter:!1,children:[(0,a.jsx)(Q.Z,{addonAfter:(0,a.jsx)(rn.Z,{title:"\u672A\u6302\u8F7D\u955C\u50CF\u5185\u58F0\u660E\u7684\u76EE\u5F55\u5E76\u7531 docker \u81EA\u52A8\u521B\u5EFA\u7684\u5B58\u50A8\u5377",children:(0,a.jsx)(X.Z,{})}),name:"deleteVolume",valuePropName:"checked",children:(0,a.jsx)(en.Z,{children:"\u5220\u9664\u533F\u540D\u5B58\u50A8\u5377\uFF1F"})}),(0,a.jsx)(Q.Z,{name:"deleteImage",valuePropName:"checked",children:(0,a.jsx)(en.Z,{children:"\u5220\u9664\u955C\u50CF\uFF1F"})})]})]}),children:"\u5220\u9664"})]})})}),In=Bn},14189:function(tn,y,n){var K=n(43425),v=n(74842),I=n(87784),x=n(33160),g=n(30159),$=n(89035),l=n(38345),F=n(42075),D=n(96074),C=n(28036),S=n(67294),o=n(94359),L=n(80821),t=n(60335),O=n(57716),c=n(85893),X=(0,S.forwardRef)(function(u,V){(0,S.useImperativeHandle)(V,function(){return{}});var Q=(0,S.useRef)();return(0,c.jsx)(l.Z,{title:(0,c.jsx)(K.Z,{}),ghost:u.ghost,subTitle:(0,c.jsxs)(F.Z,{children:["\u72B6\u6001\u7BA1\u7406 - ",u.data&&(0,c.jsx)(o.Z,{status:u.data.State.Status,message:{content:u.data.State.Status,placement:"top"}})]}),children:(0,c.jsxs)(F.Z,{wrap:!0,children:[(0,c.jsx)(L.Z,{icon:(0,c.jsx)(v.Z,{}),action:function(){var f,_;return(0,t.IW)({md5:(f=(_=u.data)===null||_===void 0?void 0:_.Id)!==null&&f!==void 0?f:"",operate:"start"})},onSuccess:function(){return u.onFinish&&u.onFinish()},disabled:u.data&&u.data.State.Running||u.data&&u.data.State.Paused,children:"\u542F\u52A8"}),(0,c.jsx)(L.Z,{action:function(){var f,_;return(0,t.IW)({md5:(f=(_=u.data)===null||_===void 0?void 0:_.Id)!==null&&f!==void 0?f:"",operate:"stop"})},icon:(0,c.jsx)(I.Z,{}),onSuccess:function(){return u.onFinish&&u.onFinish()},disabled:u.data&&u.data.State.Dead,children:"\u505C\u6B62"}),(0,c.jsx)(L.Z,{action:function(){var f,_;return(0,t.IW)({md5:(f=(_=u.data)===null||_===void 0?void 0:_.Id)!==null&&f!==void 0?f:"",operate:"restart"})},onSuccess:function(){return u.onFinish&&u.onFinish()},icon:(0,c.jsx)(x.Z,{}),children:"\u91CD\u542F"}),(0,c.jsx)(L.Z,{action:function(){var f,_;return(0,t.IW)({md5:(f=(_=u.data)===null||_===void 0?void 0:_.Id)!==null&&f!==void 0?f:"",operate:"pause"})},onSuccess:function(){return u.onFinish&&u.onFinish()},icon:(0,c.jsx)(g.Z,{}),disabled:u.data&&u.data&&!u.data.State.Running,children:"\u6682\u505C"}),(0,c.jsx)(L.Z,{action:function(){var f,_;return(0,t.IW)({md5:(f=(_=u.data)===null||_===void 0?void 0:_.Id)!==null&&f!==void 0?f:"",operate:"unpause"})},onSuccess:function(){return u.onFinish&&u.onFinish()},icon:(0,c.jsx)(v.Z,{}),disabled:u.data&&!u.data.State.Paused,children:"\u6062\u590D"}),(0,c.jsx)(D.Z,{type:"vertical"}),u.data&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(O.Z,{ref:Q}),(0,c.jsx)(C.ZP,{type:"dashed",onClick:function(){var f;u.data&&((f=Q.current)===null||f===void 0||f.show(u.data.Id))},icon:(0,c.jsx)($.Z,{}),children:"Console"})]}),(0,c.jsx)(D.Z,{type:"vertical"}),u.extra&&u.extra.map(function(Z,f){return(0,c.jsx)("span",{children:Z},f)})]})})});y.Z=X},52031:function(tn,y,n){n.d(y,{Z:function(){return F}});var K=n(31574),v=n(95591),I=n(38345),x=n(26412),g=n(78451),$=n(82346),l=n(85893);function F(D){var C,S=(0,$.useAccess)();return D.data&&D.data.Mounts&&D.data.Mounts.length>0&&(0,l.jsx)(I.Z,{ghost:D.ghost,title:(0,l.jsx)(K.Z,{}),subTitle:"\u6302\u8F7D\u76EE\u5F55\u8BE6\u60C5",children:(0,l.jsx)(x.Z,{column:1,bordered:!0,children:(C=D.data)===null||C===void 0?void 0:C.Mounts.map(function(o,L){var t;return(0,l.jsx)(x.Z.Item,{labelStyle:{width:"30%"},label:o.Type=="volume"?(0,l.jsx)(g.Z,{content:o.Name}):o.Source,children:S.canSeeContainerListManage?(0,l.jsxs)($.Link,{target:"_blank",to:"/app/detail/file/".concat((t=D.data)===null||t===void 0?void 0:t.Id,"?tab=file&path=").concat(encodeURIComponent(o.Destination)),children:[o.Destination," ",(0,l.jsx)(v.Z,{})]}):o.Destination},L)})})})}},94359:function(tn,y,n){n.d(y,{Z:function(){return L}});var K=n(3089),v=n(98165),I=n(18429),x=n(8751),g=n(14313),$=n(30159),l=n(87740),F=n(50888),D=n(66309),C=n(83062),S=n(82346),o=n(85893);function L(t){var O=(0,o.jsx)(o.Fragment,{});if(t.status=="0"&&(O=(0,o.jsx)(D.Z,{icon:(0,o.jsx)(K.Z,{}),color:"default",children:"waiting"})),t.status=="10"&&(O=(0,o.jsx)(D.Z,{icon:(0,o.jsx)(v.Z,{spin:!0}),color:"processing",children:"processing"})),t.status=="20"&&(O=(0,o.jsx)(D.Z,{icon:(0,o.jsx)(I.Z,{}),color:"error",children:"error"})),t.status=="30"&&(O=(0,o.jsx)(D.Z,{icon:(0,o.jsx)(x.Z,{}),color:"success",children:"success"})),t.status=="running"||t.status=="healthy"){var c,X;O=(0,o.jsx)(D.Z,{icon:(0,o.jsx)(g.Z,{}),color:"success",children:(c=t.message)!==null&&c!==void 0&&c.showInTag?(X=t.message)===null||X===void 0?void 0:X.content:t.status})}if(t.status=="paused"){var u,V;O=(0,o.jsx)(D.Z,{icon:(0,o.jsx)($.Z,{}),children:(u=t.message)!==null&&u!==void 0&&u.showInTag?(V=t.message)===null||V===void 0?void 0:V.content:t.status})}if(t.status=="waiting"||t.status=="starting"){var Q,Z;O=(0,o.jsx)(D.Z,{icon:(0,o.jsx)(l.Z,{}),children:(Q=t.message)!==null&&Q!==void 0&&Q.showInTag?(Z=t.message)===null||Z===void 0?void 0:Z.content:t.status})}if(t.status=="deploying"){var f,_;O=(0,o.jsx)(D.Z,{icon:(0,o.jsx)(F.Z,{}),color:"processing",children:(f=t.message)!==null&&f!==void 0&&f.showInTag?(_=t.message)===null||_===void 0?void 0:_.content:t.status})}if(t.status=="error"){var J,d;O=(0,o.jsx)(D.Z,{icon:(0,o.jsx)(I.Z,{}),color:"error",children:(J=t.message)!==null&&J!==void 0&&J.showInTag?(d=t.message)===null||d===void 0?void 0:d.content:t.status})}if(t.status=="exited"||t.status=="dead"||t.status=="removing"||t.status=="restarting"||t.status=="unhealthy"||t.status=="created"){var q,i;O=(0,o.jsx)(D.Z,{icon:(0,o.jsx)(I.Z,{}),color:"warning",children:(q=t.message)!==null&&q!==void 0&&q.showInTag?(i=t.message)===null||i===void 0?void 0:i.content:t.status})}if(t.link)return(0,o.jsx)(S.Link,{to:t.link,children:O});if(t.message){var G,k;return(0,o.jsx)(C.Z,{placement:(G=t.message.placement)!==null&&G!==void 0?G:"top",title:(k=t.message.title)!==null&&k!==void 0?k:t.message.content,children:O})}}},76428:function(tn,y,n){n.d(y,{Z:function(){return x}});var K=n(25593),v=n(67294),I=n(85893);function x(g){return(0,I.jsx)(K.Z.Text,{copyable:!0,children:g.title})}},78498:function(tn,y,n){n.d(y,{Z:function(){return $}});var K=n(25035),v=n(42075),I=n(83062),x=n(67294),g=n(85893);function $(l){return(0,g.jsxs)(v.Z,{children:[l.title,(0,g.jsx)(I.Z,{title:l.help,children:(0,g.jsx)(K.Z,{})})]})}}}]);
