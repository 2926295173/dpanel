"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5463],{16970:function(re,Z,r){var y=r(15009),u=r.n(y),L=r(99289),v=r.n(L),E=r(5574),S=r.n(E),g=r(3616),B=r(24963),x=r(14946),O=r(36146),A=r(184),m=r(5966),I=r(62370),C=r(97462),f=r(52688),P=r(24739),i=r(17186),D=r(83622),t=r(34041),w=r(71230),b=r(15746),_=r(67294),e=r(85893),p=(0,_.forwardRef)(function(a,N){var K,$=(0,_.useState)(!1),n=S()($,2),G=n[0],H=n[1],T=(0,_.useRef)(),W=(0,_.useContext)(B.Z),V=W.message,s=new O.Uo("components.network");return(0,_.useImperativeHandle)(N,function(){return{}}),(0,e.jsxs)(A.a,{drawerProps:{width:g.R_},name:"createNetwork",title:s.format("createTitle"),open:G,onOpenChange:function(d){H(d)},formRef:T,trigger:(K=a.trigger)!==null&&K!==void 0?K:(0,e.jsx)(D.ZP,{type:"primary",children:s.format("createTitle")}),onFinish:function(){var o=v()(u()().mark(function d(l){var c,M,j,h,U,Y,X,z,J,Q,q,F,k,ee;return u()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return F={name:l.name,driver:(c=l.driver)!==null&&c!==void 0?c:"bridge",ipSubnet:(M=l.ipSubnet)!==null&&M!==void 0?M:"",ipGateway:(j=l.ipGateway)!==null&&j!==void 0?j:"",ipRange:(h=l.ipRange)!==null&&h!==void 0?h:"",ipAux:l.ipAux,enableIpV6:(U=l.enableIpV6)!==null&&U!==void 0?U:!1,ipV6Subnet:(Y=l.ipV6Subnet)!==null&&Y!==void 0?Y:"",ipV6Gateway:(X=l.ipV6Gateway)!==null&&X!==void 0?X:"",ipV6Range:(z=l.ipV6Range)!==null&&z!==void 0?z:"",ipV6Aux:(J=l.ipV6Aux)!==null&&J!==void 0?J:[],driverOption:l.driverOption,internal:(Q=l.internal)!==null&&Q!==void 0?Q:!1,attachable:(q=l.attachable)!==null&&q!==void 0?q:!1},(l.driver=="macvlan"||l.driver=="ipvlan")&&(F.driverOption||(F.driverOption=[]),F.driverOption.push({name:"parent",value:l.macvlanParentCard})),R.next=4,(0,x.XY)(F);case 4:if(k=R.sent,!(k&&k.data&&k.data.id!="")){R.next=10;break}return V.success(O.FD.format("finish")),a.onFinish&&a.onFinish(),(ee=T.current)===null||ee===void 0||ee.resetFields(),R.abrupt("return",!0);case 10:case"end":return R.stop()}},d)}));return function(d){return o.apply(this,arguments)}}(),children:[(0,e.jsx)(m.Z,{label:s.format("createFormName"),name:"name",required:!0,rules:[{required:!0}],placeholder:s.format("createFormNameEmpty")}),(0,e.jsx)(I.Z,{label:s.format("createFormDriver"),name:"driver",children:(0,e.jsxs)(t.Z,{defaultValue:"bridge",children:[(0,e.jsx)(t.Z.Option,{value:"bridge",children:"bridge"}),(0,e.jsx)(t.Z.Option,{value:"macvlan",children:"macvlan"}),(0,e.jsx)(t.Z.Option,{value:"ipvlan",children:"ipvlan"}),(0,e.jsx)(t.Z.Option,{value:"overlay",children:"overlay"})]})}),(0,e.jsx)(C.Z,{name:["driver"],children:function(d){var l=d.driver;if(l=="macvlan"||l=="ipvlan")return(0,e.jsx)(m.Z,{required:!0,rules:[{required:!0}],label:s.format("createFormDriverMacvlanParentCard"),name:"macvlanParentCard",tooltip:s.format("createFormDriverMacvlanParentCardTip")})}}),(0,e.jsxs)(w.Z,{children:[(0,e.jsx)(b.Z,{span:8,children:(0,e.jsx)(f.Z,{label:s.format("createFormUserIpV4Subnet"),name:"userIpV4Subnet"})}),(0,e.jsx)(b.Z,{span:8,children:(0,e.jsx)(f.Z,{name:"internal",label:s.format("createFormInternal"),initialValue:!1})}),(0,e.jsx)(b.Z,{span:8,children:(0,e.jsx)(f.Z,{name:"attachable",label:s.format("createFormAttachable"),initialValue:!1})})]}),(0,e.jsx)(C.Z,{name:["userIpV4Subnet"],children:function(d){var l=d.userIpV4Subnet;if(l)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(P.UW,{title:s.format("createFormIpTitle"),children:[(0,e.jsx)(m.Z,{label:s.format("createFormIpSubnet"),name:"ipSubnet",width:"md",tooltip:s.format("createFormIpSubnetTip"),placeholder:"192.168.0.0/16"}),(0,e.jsx)(m.Z,{label:s.format("createFormIpGateway"),name:"ipGateway",width:"md",placeholder:"192.168.0.1"}),(0,e.jsx)(m.Z,{label:s.format("createFormIpRange"),name:"ipRange",width:"md",placeholder:"192.168.1.0/24"})]}),(0,e.jsx)(i.u,{name:"ipAux",label:s.format("createFormIpAux"),children:(0,e.jsxs)(P.UW,{children:[(0,e.jsx)(m.Z,{label:s.format("createFormIpAuxDevice"),name:"device",width:"md"}),(0,e.jsx)(m.Z,{label:s.format("createFormIpAuxAddress"),name:"address",width:"md"})]})})]})}}),(0,e.jsxs)(w.Z,{children:[(0,e.jsx)(b.Z,{span:8,children:(0,e.jsx)(f.Z,{label:s.format("createFormEnableIpV6"),name:"enableIpV6"})}),(0,e.jsx)(b.Z,{children:(0,e.jsx)(f.Z,{label:s.format("createFormUserIpV6Subnet"),name:"userIpV6Subnet",fieldProps:{onChange:function(d,l){if(d){var c;(c=T.current)===null||c===void 0||c.setFieldValue("enableIpV6",!0)}}}})})]}),(0,e.jsx)(C.Z,{name:["userIpV6Subnet"],children:function(d){var l=d.userIpV6Subnet;if(l)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(P.UW,{title:s.format("createFormIpV6"),children:[(0,e.jsx)(m.Z,{label:s.format("createFormIpSubnet"),name:"ipV6Subnet",width:"md",placeholder:"2001:db8::/48"}),(0,e.jsx)(m.Z,{label:s.format("createFormIpGateway"),name:"ipV6Gateway",width:"md",placeholder:"2001:db8::1"}),(0,e.jsx)(m.Z,{label:s.format("createFormIpRange"),name:"ipV6Range",width:"md",placeholder:"2001:db8::/64"})]}),(0,e.jsx)(i.u,{name:"ipV6Aux",label:s.format("createFormIpAux"),children:(0,e.jsxs)(P.UW,{children:[(0,e.jsx)(m.Z,{label:s.format("createFormIpAuxDevice"),name:"device",width:"md"}),(0,e.jsx)(m.Z,{label:s.format("createFormIpAuxAddress"),name:"address",width:"md"})]})})]})}}),(0,e.jsx)(i.u,{name:"driverOption",label:s.format("createFormDriverOption"),children:(0,e.jsxs)(P.UW,{children:[(0,e.jsx)(m.Z,{label:s.format("createFormDriverOptionName"),name:"name",width:"md"}),(0,e.jsx)(m.Z,{label:s.format("createFormDriverOptionValue"),name:"value",width:"md"})]})})]})});Z.Z=p},55943:function(re,Z,r){var y=r(5574),u=r.n(y),L=r(15009),v=r.n(L),E=r(99289),S=r.n(E),g=r(80821),B=r(3616),x=r(14946),O=r(36146),A=r(82061),m=r(184),I=r(38345),C=r(60940),f=r(42075),P=r(96074),i=r(26412),D=r(67294),t=r(85893),w=(0,D.forwardRef)(function(b,_){(0,D.useImperativeHandle)(_,function(){return{show:function(d){return S()(v()().mark(function l(){var c,M;return v()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,x.IS)({name:d});case 2:c=h.sent,c.data.info.Containers?(M=[],Object.keys(c.data.info.Containers).map(function(U){c.data.info.Containers[U].Id=U,M.push(c.data.info.Containers[U])}),V(M)):V([]),G(c.data.info),N(!0);case 6:case"end":return h.stop()}},l)}))()}}});var e=(0,D.useState)(!1),p=u()(e,2),a=p[0],N=p[1],K=(0,D.useState)(),$=u()(K,2),n=$[0],G=$[1],H=(0,D.useState)(),T=u()(H,2),W=T[0],V=T[1],s=new O.Uo("components.network");return(0,t.jsx)(m.a,{drawerProps:{width:B.R_},title:s.format("detailTitle"),open:a,onOpenChange:function(d){N(d)},submitter:!1,children:(0,t.jsxs)(I.Z,{ghost:!0,direction:"column",gutter:[10,0],children:[(0,t.jsx)(I.Z,{title:s.format("detailContainer"),ghost:!0,children:(0,t.jsx)(C.Z,{rowKey:"Name",columns:[{title:O.FD.format("listContainerName"),dataIndex:"Name"},{title:"IPV4",dataIndex:"IPv4Address"},{title:"IPV6",dataIndex:"IPv6Address"},{title:"MacAddress",dataIndex:"MacAddress"},{title:O.FD.format("listManage"),render:function(d,l,c){return(0,t.jsx)(f.Z,{split:(0,t.jsx)(P.Z,{type:"vertical"}),children:(0,t.jsx)(g.Z,{buttonProps:{type:"text",icon:(0,t.jsx)(A.Z,{}),danger:!0},confirmProps:{showCommonConfirm:!0},action:function(){var j,h;return(0,x.t9)({name:(j=n==null?void 0:n.Id)!==null&&j!==void 0?j:"",containerName:(h=l.Id)!==null&&h!==void 0?h:""})},tips:O.FD.format("listManageExit"),onSuccess:function(){var j=W==null?void 0:W.filter(function(h){return h.Id!=l.Id});V(j)}},"delete")})}}],dataSource:W,pagination:!1})}),(0,t.jsx)(I.Z,{ghost:!0,title:s.format("detailBasic"),children:(0,t.jsxs)(i.Z,{styles:{label:{width:150}},column:1,bordered:!0,children:[(0,t.jsx)(i.Z.Item,{label:s.format("detailName"),children:n==null?void 0:n.Name}),(0,t.jsx)(i.Z.Item,{label:"Id",children:n==null?void 0:n.Id}),(0,t.jsx)(i.Z.Item,{label:"Driver",children:n==null?void 0:n.Driver}),(0,t.jsx)(i.Z.Item,{label:"Scope",children:n==null?void 0:n.Scope}),(0,t.jsx)(i.Z.Item,{label:"Attachable",children:s.yesNo(n==null?void 0:n.Attachable)}),(0,t.jsx)(i.Z.Item,{label:"Internal",children:s.yesNo(n==null?void 0:n.Internal)}),(n==null?void 0:n.IPAM.Config)&&(n==null?void 0:n.IPAM.Config.map(function(o,d){return(0,t.jsx)(i.Z.Item,{label:o.Gateway&&o.Gateway.includes(":")?"IPV6":"IPV4",children:(0,t.jsxs)(i.Z,{styles:{label:{width:150}},column:1,bordered:!0,children:[(0,t.jsx)(i.Z.Item,{label:"Subnet",children:o.Subnet}),(0,t.jsx)(i.Z.Item,{label:"Gateway",children:o.Gateway}),(0,t.jsx)(i.Z.Item,{label:"IP Range ",children:o.IPRange}),(0,t.jsx)(i.Z.Item,{label:"Excluded IPs",children:o.AuxiliaryAddresses&&Object.keys(o.AuxiliaryAddresses).map(function(l){return o.AuxiliaryAddresses[l]+" ,"})})]})},d)})),(n==null?void 0:n.Options)&&Object.keys(n==null?void 0:n.Options).length>0&&(0,t.jsx)(i.Z.Item,{label:"Options",children:(0,t.jsx)(i.Z,{styles:{label:{width:150}},column:1,bordered:!0,children:Object.keys(n==null?void 0:n.Options).map(function(o){return(0,t.jsx)(i.Z.Item,{label:o,children:n.Options[o]},o)})})}),(n==null?void 0:n.Labels)&&Object.keys(n==null?void 0:n.Labels).length>0&&(0,t.jsx)(i.Z.Item,{label:"Lables",children:(0,t.jsx)(i.Z,{styles:{label:{width:150}},column:1,bordered:!0,children:Object.keys(n==null?void 0:n.Labels).map(function(o){return(0,t.jsx)(i.Z.Item,{label:o,children:n.Labels[o]},o)})})})]})})]})})});Z.Z=w},14946:function(re,Z,r){r.d(Z,{CI:function(){return O},HY:function(){return D},IS:function(){return S},XY:function(){return C},_3:function(){return w},_x:function(){return m},jR:function(){return B},t9:function(){return P}});var y=r(15009),u=r.n(y),L=r(99289),v=r.n(L),E=r(82346);function S(_){return g.apply(this,arguments)}function g(){return g=v()(u()().mark(function _(e){return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,E.request)("/api/app/network/get-detail",{method:"POST",data:e}));case 1:case"end":return a.stop()}},_)})),g.apply(this,arguments)}function B(_){return x.apply(this,arguments)}function x(){return x=v()(u()().mark(function _(e){return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,E.request)("/api/app/network/get-list",{method:"POST",data:e}));case 1:case"end":return a.stop()}},_)})),x.apply(this,arguments)}function O(){return A.apply(this,arguments)}function A(){return A=v()(u()().mark(function _(){return u()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,E.request)("/api/app/network/prune",{method:"POST"});case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},_)})),A.apply(this,arguments)}function m(_){return I.apply(this,arguments)}function I(){return I=v()(u()().mark(function _(e){return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,E.request)("/api/app/network/delete",{method:"POST",data:e});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},_)})),I.apply(this,arguments)}function C(_){return f.apply(this,arguments)}function f(){return f=v()(u()().mark(function _(e){return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,E.request)("/api/app/network/create",{method:"POST",data:e});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},_)})),f.apply(this,arguments)}function P(_){return i.apply(this,arguments)}function i(){return i=v()(u()().mark(function _(e){return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,E.request)("/api/app/network/disconnect",{method:"POST",data:e});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},_)})),i.apply(this,arguments)}function D(_){return t.apply(this,arguments)}function t(){return t=v()(u()().mark(function _(e){return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,E.request)("/api/app/network/connect",{method:"POST",data:e});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},_)})),t.apply(this,arguments)}function w(_){return b.apply(this,arguments)}function b(){return b=v()(u()().mark(function _(e){return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,E.request)("/api/app/network/get-container-list",{method:"POST",data:e}));case 1:case"end":return a.stop()}},_)})),b.apply(this,arguments)}}}]);
