"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5947],{24963:function(M,m,t){var _=t(67294),a=(0,_.createContext)({});m.Z=a},34548:function(M,m,t){t.r(m),t.d(m,{AppDetailContext:function(){return T},default:function(){return E}});var _=t(15009),a=t.n(_),D=t(99289),i=t.n(D),o=t(5574),f=t.n(o),C=t(24963),S=t(60335),y=t(87462),l=t(67294),P=t(44805),w=t(84089),b=function(c,n){return l.createElement(w.Z,(0,y.Z)({},c,{ref:n,icon:P.Z}))},R=l.forwardRef(b),k=R,p=t(82346),d=t(25593),I=t(50136),s=t(85893),T=(0,l.createContext)({});function E(){var h,c=(0,l.useContext)(C.Z),n=c.lang,r=c.loading,u=c.message,e=(0,p.useParams)(),V=(0,p.useSearchParams)(),$=f()(V,2),z=$[0],ae=$[1],J=(h=z.get("tab"))!==null&&h!==void 0?h:"edit",H=(0,l.useState)("edit"),W=f()(H,2),Q=W[0],U=W[1],A=(0,p.useNavigate)(),X=(0,l.useState)(1),K=f()(X,2),Z=K[0],Y=K[1],F=[{label:(0,s.jsx)(p.Link,{to:"/app/detail/edit/".concat(e.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,s.jsx)(p.Link,{to:"/app/detail/network/".concat(e.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,s.jsx)(d.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){u.info(n("app.detail.createExplorerPlugin")),A("/app/detail/file/".concat(e.id,"?tab=file"))}},{label:(0,s.jsx)(d.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){A("/app/detail/log/".concat(e.id,"?tab=log"))}},{label:(0,s.jsx)(d.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){A("/app/detail/stat/".concat(e.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,s.jsx)(k,{}),disabled:!0}],q=(0,l.useState)(F),G=f()(q,2),ee=G[0],ne=G[1];(0,l.useEffect)(function(){r.show(),U(J);var v=function(){var L=i()(a()().mark(function N(){var x,B,j;return a()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return B=F,O.next=3,(0,S.jV)({md5:(x=e.id)!==null&&x!==void 0?x:""});case 3:j=O.sent,B.map(function(g){return g.key=="containerName"&&(g.label=j.data.info.Name),(!j.data.info.State.Running||j.data.info.State.Restarting)&&(g.key=="file"||g.key=="stat")&&(g.disabled=!0),g}),ne(B),r.destroy();case 7:case"end":return O.stop()}},N)}));return function(){return L.apply(this,arguments)}}();v()},[Z]);var te=function(L){U(L.key)};return(0,s.jsxs)(T.Provider,{value:{reload:function(){Y(Z+1)}},children:[(0,s.jsx)(I.Z,{mode:"horizontal",onClick:te,selectedKeys:[Q],items:ee}),(0,s.jsx)(p.Outlet,{})]})}},60335:function(M,m,t){t.d(m,{IE:function(){return S},IW:function(){return f},KK:function(){return R},LJ:function(){return p},RF:function(){return T},Re:function(){return I},aF:function(){return h},eE:function(){return w},jV:function(){return l}});var _=t(15009),a=t.n(_),D=t(99289),i=t.n(D),o=t(82346);function f(n){return C.apply(this,arguments)}function C(){return C=i()(a()().mark(function n(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/app/container/status",{method:"POST",data:r}));case 1:case"end":return e.stop()}},n)})),C.apply(this,arguments)}function S(n){return y.apply(this,arguments)}function y(){return y=i()(a()().mark(function n(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/app/container/get-list",{data:r,method:"POST"}));case 1:case"end":return e.stop()}},n)})),y.apply(this,arguments)}function l(n){return P.apply(this,arguments)}function P(){return P=i()(a()().mark(function n(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/app/container/get-detail",{data:r,method:"POST"}));case 1:case"end":return e.stop()}},n)})),P.apply(this,arguments)}function w(n){return b.apply(this,arguments)}function b(){return b=i()(a()().mark(function n(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/app/container/update",{data:r,method:"POST"}));case 1:case"end":return e.stop()}},n)})),b.apply(this,arguments)}function R(){return k.apply(this,arguments)}function k(){return k=i()(a()().mark(function n(){return a()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,o.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return u.stop()}},n)})),k.apply(this,arguments)}function p(n){return d.apply(this,arguments)}function d(){return d=i()(a()().mark(function n(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/app/container/export",{method:"POST",data:r,responseType:"blob"}));case 1:case"end":return e.stop()}},n)})),d.apply(this,arguments)}function I(n){return s.apply(this,arguments)}function s(){return s=i()(a()().mark(function n(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/app/container/commit",{method:"POST",data:r}));case 1:case"end":return e.stop()}},n)})),s.apply(this,arguments)}function T(n){return E.apply(this,arguments)}function E(){return E=i()(a()().mark(function n(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/app/container/upgrade",{method:"POST",data:r}));case 1:case"end":return e.stop()}},n)})),E.apply(this,arguments)}function h(n){return c.apply(this,arguments)}function c(){return c=i()(a()().mark(function n(r){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/app/container/copy",{method:"POST",data:r}));case 1:case"end":return e.stop()}},n)})),c.apply(this,arguments)}}}]);
