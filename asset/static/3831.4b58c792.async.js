"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3831],{43831:function(G,Z,n){var g=n(15009),O=n.n(g),N=n(99289),C=n.n(N),S=n(5574),y=n.n(S),f=n(67294),x=n(14946),U=n(43425),w=n(48689),W=n(38345),b=n(41482),j=n(42075),B=n(25593),k=n(83062),a=n(60335),s=n(78498),t=n(80821),T=n(10032),$=n(5251),F=n(28230),L=n(46442),K=n(78451),r=n(85893),p=(0,f.forwardRef)(function(d,v){var e;(0,f.useImperativeHandle)(v,function(){return{}});var c=(0,f.useRef)(),A=(0,f.useRef)(),D=(0,f.useState)(),R=y()(D,2),h=R[0],o=R[1];return(0,f.useEffect)(function(){var m,i;o(d.containerInfo),!((m=c.current)===null||m===void 0)&&m.reloadAndRest&&((i=c.current)===null||i===void 0||i.reloadAndRest())},[d.containerInfo]),(0,r.jsxs)(W.Z,{ghost:d.ghost,children:[(0,r.jsx)(T.Z,{ref:A}),(0,r.jsx)(b.Z,{scroll:{x:"max-content"},rowKey:"key",actionRef:c,pagination:!1,columns:[{title:"\u6240\u5C5E\u7F51\u7EDC",key:"name",dataIndex:"networkName"},{title:"\u5BB9\u5668\u540D\u79F0",key:"containerName",dataIndex:"containerName",width:100,render:function(i,_,E,u,l){return(0,r.jsx)(K.Z,{content:(0,$.fi)(_.containerName,"/")})}},{title:(0,r.jsx)(s.Z,{title:"hostname",help:"\u63D0\u4F9B\u5BB9\u5668\u5185\u90E8\u8BBF\u95EE"}),key:"hostName",render:function(i,_,E){return _.hostName?(0,r.jsx)(j.Z,{direction:"vertical",children:_.hostName.map(function(u){if(u)return(0,r.jsx)(B.Z.Text,{copyable:!0,keyboard:!0,children:u},u)})}):(0,r.jsx)(r.Fragment,{})}},{title:"Ip",key:"ip",render:function(i,_,E,u,l){return(0,r.jsxs)(j.Z,{direction:"vertical",children:[(0,r.jsx)("span",{children:_.networkInfo.IPv4Address}),_.networkInfo.IPv6Address&&(0,r.jsx)("span",{children:_.networkInfo.IPv6Address})]})}},{title:"\u64CD\u4F5C",key:"option",width:50,fixed:"right",render:function(i,_,E,u,l){return(0,r.jsxs)(j.Z,{children:[_.networkName!=""&&(0,r.jsx)(B.Z.Link,{onClick:function(){var P;(P=A.current)===null||P===void 0||P.show(_.networkName)},children:(0,r.jsx)(k.Z,{title:"\u7BA1\u7406",children:(0,r.jsx)(U.Z,{})})}),_.key!="bridge"&&_.key!="none"&&_.key!="host"&&_.networkName!=""&&(0,r.jsx)(t.Z,{type:"link",action:function(){return(0,x.t9)({name:_.networkName,containerName:d.containerInfo.Name})},onSuccess:function(){var P,I;!((P=c.current)===null||P===void 0)&&P.reloadAndRest&&((I=c.current)===null||I===void 0||I.reloadAndRest())},tips:"\u9000\u51FA\u8BE5\u7F51\u7EDC",children:(0,r.jsx)(w.Z,{})})]})}}],request:function(){var m=C()(O()().mark(function i(_,E,u){var l,M;return O()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,a.jV)({md5:d.containerInfo.Name});case 2:return l=I.sent,o(l.data.info),I.next=6,(0,x._3)({name:Object.keys(l.data.info.NetworkSettings.Networks)});case 6:return M=I.sent,I.abrupt("return",{data:M.data.list,success:!0,total:M.data.list.length});case 8:case"end":return I.stop()}},i)}));return function(i,_,E){return m.apply(this,arguments)}}(),toolBarRender:function(){return[(0,r.jsx)(L.Z,{showTriggerButton:!0,onSelect:function(){var i=C()(O()().mark(function _(E){var u,l;return O()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,x.HY)({name:E.Name,containerName:d.containerInfo.Name,ipV4:""});case 2:l=P.sent,!((u=c.current)===null||u===void 0)&&u.reloadAndRest&&c.current.reloadAndRest();case 4:case"end":return P.stop()}},_)}));return function(_){return i.apply(this,arguments)}}()},"joinNetwork"),(0,r.jsx)(F.Z,{onFinish:function(){var _,E;!((_=c.current)===null||_===void 0)&&_.reloadAndRest&&((E=c.current)===null||E===void 0||E.reloadAndRest())}},"create")]},search:!1,expandable:{expandRowByClick:!1,expandedRowKeys:Object.keys((e=h==null?void 0:h.NetworkSettings.Networks)!==null&&e!==void 0?e:{bridge:[]})}})]})});Z.Z=p},10032:function(G,Z,n){var g=n(5574),O=n.n(g),N=n(15009),C=n.n(N),S=n(99289),y=n.n(S),f=n(80821),x=n(3616),U=n(14946),w=n(48689),W=n(184),b=n(38345),j=n(60940),B=n(42075),k=n(96074),a=n(26412),s=n(67294),t=n(85893),T=(0,s.forwardRef)(function($,F){(0,s.useImperativeHandle)(F,function(){return{show:function(m){return y()(C()().mark(function i(){var _,E;return C()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,U.IS)({name:m});case 2:_=l.sent,_.data.info.Containers?(E=[],Object.keys(_.data.info.Containers).map(function(M){_.data.info.Containers[M].Id=M,E.push(_.data.info.Containers[M])}),h(E)):h([]),c(_.data.info),p(!0);case 6:case"end":return l.stop()}},i)}))()}}});var L=(0,s.useState)(!1),K=O()(L,2),r=K[0],p=K[1],d=(0,s.useState)(),v=O()(d,2),e=v[0],c=v[1],A=(0,s.useState)(),D=O()(A,2),R=D[0],h=D[1];return(0,t.jsx)(W.a,{drawerProps:{width:x.R_},title:"\u7F51\u7EDC\u8BE6\u60C5",open:r,onOpenChange:function(m){p(m)},submitter:!1,children:(0,t.jsxs)(b.Z,{ghost:!0,direction:"column",gutter:[10,0],children:[(0,t.jsx)(b.Z,{title:"\u7F51\u7EDC\u5185\u5BB9\u5668",ghost:!0,children:(0,t.jsx)(j.Z,{rowKey:"Id",columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"Name"},{title:"IPV4",dataIndex:"IPv4Address"},{title:"IPV6",dataIndex:"IPv6Address"},{title:"MacAddress",dataIndex:"MacAddress"},{title:"\u64CD\u4F5C",render:function(m,i,_){return(0,t.jsx)(B.Z,{split:(0,t.jsx)(k.Z,{type:"vertical"}),children:(0,t.jsx)(f.Z,{type:"text",action:function(){var u,l;return(0,U.t9)({name:(u=e==null?void 0:e.Id)!==null&&u!==void 0?u:"",containerName:(l=i.Id)!==null&&l!==void 0?l:""})},onSuccess:function(){var u=R==null?void 0:R.filter(function(l){return l.Id!=i.Id});h(u)},children:(0,t.jsx)(w.Z,{})},"delete")})}}],dataSource:R,pagination:!1})}),(0,t.jsx)(b.Z,{ghost:!0,title:"\u57FA\u7840\u4FE1\u606F",children:(0,t.jsxs)(a.Z,{labelStyle:{width:"180px"},column:1,bordered:!0,children:[(0,t.jsx)(a.Z.Item,{label:"\u540D\u79F0",children:e==null?void 0:e.Name}),(0,t.jsx)(a.Z.Item,{label:"Id",children:e==null?void 0:e.Id}),(0,t.jsx)(a.Z.Item,{label:"Driver",children:e==null?void 0:e.Driver}),(0,t.jsx)(a.Z.Item,{label:"Scope",children:e==null?void 0:e.Scope}),(0,t.jsx)(a.Z.Item,{label:"Attachable",children:e!=null&&e.Attachable?"\u662F":"\u5426"}),(0,t.jsx)(a.Z.Item,{label:"Internal",children:e!=null&&e.Internal?"\u662F":"\u5426"}),(e==null?void 0:e.IPAM.Config)&&(e==null?void 0:e.IPAM.Config.map(function(o){return(0,t.jsx)(a.Z.Item,{label:o.Gateway&&o.Gateway.includes(":")?"IPV6":"IPV4",children:(0,t.jsxs)(a.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:[(0,t.jsx)(a.Z.Item,{label:"Subnet",children:o.Subnet}),(0,t.jsx)(a.Z.Item,{label:"Gateway",children:o.Gateway}),(0,t.jsx)(a.Z.Item,{label:"IP Range ",children:o.IPRange}),(0,t.jsx)(a.Z.Item,{label:"Excluded IPs",children:o.AuxiliaryAddresses&&Object.keys(o.AuxiliaryAddresses).map(function(m){return o.AuxiliaryAddresses[m]+" ,"})})]})})})),(e==null?void 0:e.Options)&&Object.keys(e==null?void 0:e.Options).length>0&&(0,t.jsx)(a.Z.Item,{label:"Options",children:(0,t.jsx)(a.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Options).map(function(o){return(0,t.jsx)(a.Z.Item,{label:o,children:e.Options[o]},o)})})}),(e==null?void 0:e.Labels)&&Object.keys(e==null?void 0:e.Labels).length>0&&(0,t.jsx)(a.Z.Item,{label:"Lables",children:(0,t.jsx)(a.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Labels).map(function(o){return(0,t.jsx)(a.Z.Item,{label:o,children:e.Labels[o]},o)})})})]})})]})})});Z.Z=T},46442:function(G,Z,n){var g=n(15009),O=n.n(g),N=n(99289),C=n.n(N),S=n(5574),y=n.n(S),f=n(67294),x=n(14946),U=n(64789),w=n(41482),W=n(28036),b=n(85265),j=n(42075),B=n(66309),k=n(28230),a=n(3616),s=n(85893),t=(0,f.forwardRef)(function(T,$){(0,f.useImperativeHandle)($,function(){return{show:function(){r(!0)}}});var F=(0,f.useState)(!1),L=y()(F,2),K=L[0],r=L[1],p=(0,f.useRef)();return(0,s.jsxs)(s.Fragment,{children:[T.showTriggerButton&&(0,s.jsx)(W.ZP,{onClick:function(){r(!0)},children:"\u52A0\u5165\u7F51\u7EDC"}),(0,s.jsx)(b.Z,{title:"\u9009\u62E9\u7F51\u7EDC",width:a.R_,footer:!1,open:K,onClose:function(){return r(!1)},extra:(0,s.jsx)(j.Z,{children:(0,s.jsx)(k.Z,{onFinish:function(){var v,e;!((v=p.current)===null||v===void 0)&&v.reloadAndRest&&((e=p.current)===null||e===void 0||e.reloadAndRest())}},"create")}),children:(0,s.jsx)(w.Z,{rowKey:"Name",actionRef:p,columns:[{title:"\u540D\u79F0",dataIndex:"Name",render:function(v,e,c,A,D){return e.Name=="none"||e.Name=="bridge"||e.Name=="host"?(0,s.jsxs)(s.Fragment,{children:[e.Name," ",(0,s.jsx)(B.Z,{color:"blue",children:"System"})]}):(0,s.jsx)(s.Fragment,{children:v})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"Driver",ellipsis:!0,width:100,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",search:!1,width:120,render:function(v,e,c,A,D){return e.IPAM.Config&&e.IPAM.Config[0]&&(0,s.jsxs)(j.Z,{direction:"vertical",children:[e.IPAM.Config[0].Subnet,e.IPAM.Config[0].Gateway]})}},{title:"IPV6",search:!1,render:function(v,e,c,A,D){return e.IPAM.Config&&e.IPAM.Config[1]&&(0,s.jsxs)(j.Z,{direction:"vertical",children:[e.IPAM.Config[1].Subnet,e.IPAM.Config[1].Gateway]})}},{title:"\u64CD\u4F5C",width:100,search:!1,render:function(v,e,c,A,D){return[e.Name!="none"&&e.Name!="bridge"&&e.Name!="host"&&(0,s.jsx)(W.ZP,{type:"link",onClick:function(){T.onSelect(e),r(!1)},children:(0,s.jsx)(U.Z,{})},e.Id)]}}],request:function(){var d=C()(O()().mark(function v(e,c,A){var D;return O()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,x.jR)({name:e.Name});case 2:return D=h.sent,h.abrupt("return",{data:D.data.list,success:!0,total:D.data.list.length});case 4:case"end":return h.stop()}},v)}));return function(v,e,c){return d.apply(this,arguments)}}(),pagination:{pageSize:10}})})]})});Z.Z=t}}]);
