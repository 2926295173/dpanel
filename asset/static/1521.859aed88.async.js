"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1521],{1699:function(x,b,a){a.d(b,{u:function(){return g}});var D=a(9783),t=a.n(D),A=a(97857),i=a.n(A),h=a(67294),B=a(82346),O=a(42075),P=a(85893),g=function(d){var f=(0,B.useAccess)(),o=Array.isArray(d.access)?d.access:[d.access],l;return typeof d.children=="function"?l=d.children(o.reduce(function(c,v){return i()(i()({},c),{},t()({},v,f[v]))},{})):o.every(function(c){return f[c]})?l=d.children:l=d.fallback,d.space?(0,P.jsx)(O.Z,i()(i()({},d.space),{},{children:l})):l}},80821:function(x,b,a){a.d(b,{Z:function(){return g}});var D=a(5574),t=a.n(D),A=a(24963),i=a(86738),h=a(28036),B=a(83062),O=a(67294),P=a(85893);function g(n){var d=(0,O.useState)(!1),f=t()(d,2),o=f[0],l=f[1],c=(0,O.useContext)(A.Z),v=c.lang,j=c.notice,C=c.message,p=function(){l(!0);var e=n.action();e instanceof Promise?e.then(function(u){if(l(!1),u){typeof n.onSuccess=="function"&&n.onSuccess(u);var s="";n.messageSuccess?typeof n.messageSuccess=="function"?s=n.messageSuccess(u):s=n.messageSuccess.indexOf("notification.")==0?v(n.messageSuccess):n.messageSuccess:s=v("notification.finish"),n.asynced?C.info(s):C.success(s)}}).catch(function(u){l(!1),typeof n.onError=="function"&&n.onError(u)}):l(!1)};return n.confirm?(0,P.jsx)(i.Z,{style:{width:500},title:n.confirmTitle?n.confirmTitle:v("notification.title.tip"),description:typeof n.confirm=="string"&&n.confirm.indexOf("notification.")==0?v(n.confirm):n.confirm,onConfirm:p,okText:"Yes",cancelText:"No",onOpenChange:n.confirmOnOpenChange,children:(0,P.jsx)(h.ZP,{block:n.block,disabled:n.disabled,icon:!n.children&&o?void 0:n.icon,loading:o,danger:n.danger,type:n.type,children:n.children})}):(0,P.jsx)(B.Z,{title:n.tips,children:(0,P.jsx)(h.ZP,{block:n.block,style:n.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:n.disabled,icon:!n.children&&o?void 0:n.icon,loading:o,onClick:p,danger:n.danger,type:n.type,children:n.children})})}},28230:function(x,b,a){var D=a(15009),t=a.n(D),A=a(99289),i=a.n(A),h=a(5574),B=a.n(h),O=a(24963),P=a(14946),g=a(184),n=a(5966),d=a(62370),f=a(97462),o=a(52688),l=a(24739),c=a(17186),v=a(28036),j=a(34041),C=a(71230),p=a(15746),M=a(67294),e=a(85893),u=(0,M.forwardRef)(function(s,m){var r,H=(0,M.useState)(!1),Y=B()(H,2),X=Y[0],z=Y[1],y=(0,M.useRef)(),J=(0,M.useContext)(O.Z),Q=J.message;return(0,M.useImperativeHandle)(m,function(){return{}}),(0,e.jsxs)(g.a,{name:"create",title:"\u521B\u5EFA\u7F51\u7EDC",open:X,onOpenChange:function(E){z(E)},formRef:y,trigger:(r=s.trigger)!==null&&r!==void 0?r:(0,e.jsx)(v.ZP,{type:"primary",children:"\u521B\u5EFA\u7F51\u7EDC"}),onFinish:function(){var U=i()(t()().mark(function E(_){var I,F,L,w,Z,K,S,V,k,$,N,T,R,G;return t()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return T={name:_.name,driver:(I=_.driver)!==null&&I!==void 0?I:"bridge",ipSubnet:(F=_.ipSubnet)!==null&&F!==void 0?F:"",ipGateway:(L=_.ipGateway)!==null&&L!==void 0?L:"",ipRange:(w=_.ipRange)!==null&&w!==void 0?w:"",ipAux:_.ipAux,enableIpV6:(Z=_.enableIpV6)!==null&&Z!==void 0?Z:!1,ipV6Subnet:(K=_.ipV6Subnet)!==null&&K!==void 0?K:"",ipV6Gateway:(S=_.ipV6Gateway)!==null&&S!==void 0?S:"",ipV6Range:(V=_.ipV6Range)!==null&&V!==void 0?V:"",ipV6Aux:(k=_.ipV6Aux)!==null&&k!==void 0?k:[],driverOption:_.driverOption,internal:($=_.internal)!==null&&$!==void 0?$:!1,attachable:(N=_.attachable)!==null&&N!==void 0?N:!1},(_.driver=="macvlan"||_.driver=="ipvlan")&&(T.driverOption||(T.driverOption=[]),T.driverOption.push({name:"parent",value:_.macvlanParentCard})),W.next=4,(0,P.XY)(T);case 4:if(R=W.sent,!(R&&R.data&&R.data.id!="")){W.next=10;break}return Q.success("\u521B\u5EFA\u7F51\u7EDC\u6210\u529F"),s.onFinish&&s.onFinish(),(G=y.current)===null||G===void 0||G.resetFields(),W.abrupt("return",!0);case 10:case"end":return W.stop()}},E)}));return function(E){return U.apply(this,arguments)}}(),children:[(0,e.jsx)(n.Z,{label:"\u540D\u79F0",tooltip:"\u4E0D\u914D\u7F6E\u5B50\u7F51\u65F6\uFF0C\u4F1A\u81EA\u52A8\u751F\u6210",name:"name",required:!0,rules:[{required:!0}],placeholder:"\u6307\u5B9A\u552F\u4E00\u7684\u7F51\u7EDC\u540D\u79F0"}),(0,e.jsx)(d.Z,{label:"\u7C7B\u578B",name:"driver",children:(0,e.jsxs)(j.Z,{defaultValue:"bridge",children:[(0,e.jsx)(j.Z.Option,{value:"bridge",children:"bridge"}),(0,e.jsx)(j.Z.Option,{value:"macvlan",children:"macvlan"}),(0,e.jsx)(j.Z.Option,{value:"ipvlan",children:"ipvlan"}),(0,e.jsx)(j.Z.Option,{value:"overlay",children:"overlay"})]})}),(0,e.jsx)(f.Z,{name:["driver"],children:function(E){var _=E.driver;if(_=="macvlan"||_=="ipvlan")return(0,e.jsx)(n.Z,{required:!0,rules:[{required:!0}],label:"\u7236\u7F51\u5361",name:"macvlanParentCard",tooltip:"\u6307\u5B9A\u8981\u6865\u63A5\u7684\u5BBF\u4E3B\u673A\u7F51\u5361\u540D\u79F0"})}}),(0,e.jsxs)(C.Z,{children:[(0,e.jsx)(p.Z,{span:8,children:(0,e.jsx)(o.Z,{label:"\u81EA\u5B9AIPV4\u5B50\u7F51",name:"userIpV4Subnet"})}),(0,e.jsx)(p.Z,{span:8,children:(0,e.jsx)(o.Z,{name:"internal",label:"\u9694\u79BB\u5916\u90E8\u8BBF\u95EE",initialValue:!1})}),(0,e.jsx)(p.Z,{span:8,children:(0,e.jsx)(o.Z,{name:"attachable",label:"\u5141\u8BB8\u624B\u52A8\u9644\u52A0\u5BB9\u5668",initialValue:!1})})]}),(0,e.jsx)(f.Z,{name:["userIpV4Subnet"],children:function(E){var _=E.userIpV4Subnet;if(_)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(l.UW,{title:"IPV4\u914D\u7F6E",children:[(0,e.jsx)(n.Z,{label:"\u5B50\u7F51",name:"ipSubnet",width:"md",tooltip:"\u683C\u5F0F\u4E3A: \u5B50\u7F51\u8D77\u59CB\u5730\u5740/\u63A9\u7801\u3002\u5E38\u89C1\u7684\u683C\u5F0F\u6709 10.0.0.0/8, 172.20.0.0/16, 192.168.1.0/24",placeholder:"192.168.0.0/16"}),(0,e.jsx)(n.Z,{label:"\u7F51\u5173",name:"ipGateway",width:"md",placeholder:"192.168.0.1"}),(0,e.jsx)(n.Z,{label:"\u6307\u5B9AIp\u8303\u56F4",name:"ipRange",width:"md",placeholder:"192.168.1.0/24"})]}),(0,e.jsx)(c.u,{name:"ipAux",label:"\u6392\u9664Ip",children:(0,e.jsxs)(l.UW,{children:[(0,e.jsx)(n.Z,{label:"\u8BBE\u5907\u540D\u79F0",name:"device",width:"md"}),(0,e.jsx)(n.Z,{label:"Ip\u5730\u5740",name:"address",width:"md"})]})})]})}}),(0,e.jsxs)(C.Z,{children:[(0,e.jsx)(p.Z,{span:8,children:(0,e.jsx)(o.Z,{label:"\u542F\u7528IPV6",name:"enableIpV6"})}),(0,e.jsx)(p.Z,{children:(0,e.jsx)(o.Z,{label:"\u81EA\u5B9AIPV6\u5B50\u7F51",name:"userIpV6Subnet",fieldProps:{onChange:function(E,_){if(E){var I;(I=y.current)===null||I===void 0||I.setFieldValue("enableIpV6",!0)}}}})})]}),(0,e.jsx)(f.Z,{name:["userIpV6Subnet"],children:function(E){var _=E.userIpV6Subnet;if(_)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(l.UW,{title:"IPV6\u914D\u7F6E",children:[(0,e.jsx)(n.Z,{label:"\u5B50\u7F51",name:"ipV6Subnet",width:"md",placeholder:"2001:db8::/48"}),(0,e.jsx)(n.Z,{label:"\u7F51\u5173",name:"ipV6Gateway",width:"md",placeholder:"2001:db8::1"}),(0,e.jsx)(n.Z,{label:"Ip\u8303\u56F4",name:"ipV6Range",width:"md",placeholder:"2001:db8::/64"})]}),(0,e.jsx)(c.u,{name:"ipV6Aux",label:"\u6392\u9664Ip",children:(0,e.jsxs)(l.UW,{children:[(0,e.jsx)(n.Z,{label:"\u8BBE\u5907\u540D\u79F0",name:"device",width:"md"}),(0,e.jsx)(n.Z,{label:"Ip\u5730\u5740",name:"address",width:"md"})]})})]})}}),(0,e.jsx)(c.u,{name:"driverOption",label:"\u81EA\u5B9A\u4E49\u9A71\u52A8\u914D\u7F6E",children:(0,e.jsxs)(l.UW,{children:[(0,e.jsx)(n.Z,{label:"\u540D\u79F0",name:"name",width:"md"}),(0,e.jsx)(n.Z,{label:"\u503C",name:"value",width:"md"})]})})]})});b.Z=u},24963:function(x,b,a){var D=a(67294),t=(0,D.createContext)({});b.Z=t},14946:function(x,b,a){a.d(b,{CI:function(){return n},HY:function(){return C},IS:function(){return B},XY:function(){return l},_3:function(){return M},_x:function(){return f},jR:function(){return P},t9:function(){return v}});var D=a(15009),t=a.n(D),A=a(99289),i=a.n(A),h=a(82346);function B(u){return O.apply(this,arguments)}function O(){return O=i()(t()().mark(function u(s){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("/api/app/network/get-detail",{method:"POST",data:s}));case 1:case"end":return r.stop()}},u)})),O.apply(this,arguments)}function P(u){return g.apply(this,arguments)}function g(){return g=i()(t()().mark(function u(s){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("/api/app/network/get-list",{method:"POST",data:s}));case 1:case"end":return r.stop()}},u)})),g.apply(this,arguments)}function n(){return d.apply(this,arguments)}function d(){return d=i()(t()().mark(function u(){return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,h.request)("/api/app/network/prune",{method:"POST"});case 2:return m.abrupt("return",m.sent);case 3:case"end":return m.stop()}},u)})),d.apply(this,arguments)}function f(u){return o.apply(this,arguments)}function o(){return o=i()(t()().mark(function u(s){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,h.request)("/api/app/network/delete",{method:"POST",data:s});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},u)})),o.apply(this,arguments)}function l(u){return c.apply(this,arguments)}function c(){return c=i()(t()().mark(function u(s){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,h.request)("/api/app/network/create",{method:"POST",data:s});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},u)})),c.apply(this,arguments)}function v(u){return j.apply(this,arguments)}function j(){return j=i()(t()().mark(function u(s){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,h.request)("/api/app/network/disconnect",{method:"POST",data:s});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},u)})),j.apply(this,arguments)}function C(u){return p.apply(this,arguments)}function p(){return p=i()(t()().mark(function u(s){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,h.request)("/api/app/network/connect",{method:"POST",data:s});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},u)})),p.apply(this,arguments)}function M(u){return e.apply(this,arguments)}function e(){return e=i()(t()().mark(function u(s){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("/api/app/network/get-container-list",{method:"POST",data:s}));case 1:case"end":return r.stop()}},u)})),e.apply(this,arguments)}}}]);
