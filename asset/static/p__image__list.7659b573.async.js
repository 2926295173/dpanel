"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4214],{27166:function(H,I,e){var U=e(97857),r=e.n(U),b=e(5574),a=e.n(b),d=e(13769),o=e.n(d),D=e(184),C=e(74330),m=e(67294),g=e(85893),h=["requestLoading"],p=(0,m.forwardRef)(function(W,u){var O,i=W.requestLoading,s=o()(W,h),c=(0,m.useState)(!1),n=a()(c,2),_=n[0],R=n[1];return(0,m.useImperativeHandle)(u,function(){return{loading:function(){R(!0)},finish:function(){R(!1)}}}),(0,g.jsx)(D.a,r()(r()({},s),{},{children:(0,g.jsx)(C.Z,{spinning:(O=W.requestLoading)!==null&&O!==void 0?O:_,size:"default",style:{marginTop:"30%"},children:W.children})}))});I.Z=p},81366:function(H,I,e){var U=e(97857),r=e.n(U),b=e(19632),a=e.n(b),d=e(5574),o=e.n(d),D=e(27254),C=e(42075),m=e(85418),g=e(25593),h=e(83622),p=e(67294),W=e(31112),u=e(85893),O={title:"/",path:"/"},i=(0,p.forwardRef)(function(s,c){var n=(0,p.useContext)(W.Z),_=n.showPath,R=n.redirectPath,y=(0,p.useState)([O]),B=o()(y,2),K=B[0],f=B[1];(0,p.useImperativeHandle)(c,function(){return{addHistory:function(M,t){t=="/"?f([O]):f([].concat(a()(K),[{title:M,path:t}]))},initHistory:function(M,t){f([r()(r()({},O),{},{children:t})].concat(a()(M)))}}});var j=function(M){_?_(K[M].title,K[M].path):s.showPath&&s.showPath(K[M].title,K[M].path);var t=K.filter(function(J,Y){return Y<=M});f(a()(t))};return(0,u.jsxs)(C.Z,{children:[(0,u.jsx)(C.Z.Compact,{children:K.map(function(T,M){return T.children?(0,u.jsxs)(m.Z.Button,{menu:{items:T.children.map(function(t,J){return{key:J,label:(0,u.jsx)(g.Z.Link,{onClick:function(){R(t)},children:t},J)}})},type:"dashed",onClick:function(J){j(M)},children:[(0,u.jsx)(D.Z,{})," ",T.title]},M):(0,u.jsx)(h.ZP,{icon:(0,u.jsx)(D.Z,{}),type:"dashed",onClick:function(){j(M)},children:T.title},M)})}),K.length>=2&&(0,u.jsx)(g.Z.Text,{copyable:{text:K[K.length-1].path}})]})});I.Z=i},31112:function(H,I,e){var U=e(67294),r=(0,U.createContext)({});I.Z=r},68536:function(H,I,e){e.d(I,{Z:function(){return h}});var U=e(24963),r=e(36146),b=e(93613),a=e(36693),d=e(2741),o=e(25593),D=e(42075),C=e(67294),m=e(85893),g=0;function h(p){var W=(0,C.useContext)(U.Z),u=W.message,O=new r.Uo("components.explorer");return p.isDir?(0,m.jsx)(o.Z.Link,{onClick:function(){p.onClick&&p.onClick()},children:(0,m.jsxs)(D.Z,{children:[(0,m.jsx)(b.Z,{}),p.showName]})}):p.isLink?(0,m.jsx)(o.Z.Link,{onClick:function(){p.onClick&&p.onClick()},children:(0,m.jsxs)(D.Z,{children:[(0,m.jsx)(a.Z,{}),p.showName]})}):(0,m.jsx)(o.Z.Text,{onClick:function(){if(g++,g==2){g=0,p.onClick&&p.onClick();return}setTimeout(function(){g==1&&u.info(O.format("fileNameMessageViewDetail")),g=0},400)},style:{cursor:"pointer"},children:(0,m.jsxs)(D.Z,{children:[(0,m.jsx)(d.Z,{}),p.showName]})})}},44349:function(H,I,e){var U=e(97857),r=e.n(U),b=e(15009),a=e.n(b),d=e(99289),o=e.n(d),D=e(74763),C=e(17186),m=e(5966),g=e(86250),h=e(67294),p=e(85893),W=(0,h.forwardRef)(function(u,O){var i=(0,h.useRef)();(0,h.useImperativeHandle)(O,function(){return{addItem:function(c){function n(_,R,y){return c.apply(this,arguments)}return n.toString=function(){return c.toString()},n}(function(c,n,_){var R,y=(R=i.current)===null||R===void 0?void 0:R.getList(),B;if(y==null||y.forEach(function(j,T){j[c]==n[c]&&(B=T)}),!(0,D.k)(B)&&_){var K;(K=i.current)===null||K===void 0||K.remove(B),B=void 0}if(!B){var f;(f=i.current)===null||f===void 0||f.add(n)}}),removeItemByKey:function(n,_){return o()(a()().mark(function R(){var y,B;return a()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return B=(y=i.current)===null||y===void 0?void 0:y.getList(),B==null||B.forEach(function(j,T){if(j[n]==_){var M;(M=i.current)===null||M===void 0||M.remove(T);return}}),f.abrupt("return");case 3:case"end":return f.stop()}},R)}))()},clear:function(n){if(!n){var _;n=(_=i.current)===null||_===void 0||(_=_.getList())===null||_===void 0?void 0:_.map(function(y,B){return B})}if(n){var R;(R=i.current)===null||R===void 0||R.remove(n)}},getList:function(){var n;return(n=i.current)===null||n===void 0?void 0:n.getList()}}});var s={};return u.hideCopyButton===!0&&(s.copyIconProps=!1),u.hideDeleteButton===!0&&(s.deleteIconProps=!1),(0,p.jsx)(C.u,r()(r()({initialValue:u.initialValue,label:u.label,name:u.name,actionRef:i,creatorButtonProps:u.showAddButton?{creatorButtonText:u.label?u.label:u.showAddButtonLabel?u.showAddButtonLabel:u.name}:!1,min:u.min?u.min:0},s),{},{children:function(n,_,R){return(0,p.jsx)(g.Z,{justify:u.justify,gap:u.gap,children:u.items.map(function(y){return y.render?(0,p.jsx)("div",{children:y.render&&y.render(n,_,R)},"".concat(u.name,"-").concat(y.name,"-").concat(n.key)):(0,p.jsx)(m.Z,{width:y.width,name:y.name,label:y.label,required:y.required,rules:[{required:y.required}],disabled:y.disabled,placeholder:y.placeholder},"".concat(u.name,"-").concat(y.name,"-").concat(n.key))})})}}))});I.Z=W},92754:function(H,I,e){var U=e(5574),r=e.n(U),b=e(67294),a=e(82346),d=e(38703),o=e(85893),D=(0,b.forwardRef)(function(C,m){var g=(0,b.useState)(""),h=r()(g,2),p=h[0],W=h[1];(0,b.useImperativeHandle)(m,function(){return{setFinish:function(){c({finish:{downloading:100,extracting:100}})},setStart:function(_){_&&W(_),c({start:{downloading:0,extracting:0}})},close:function(){u.progress.close("image:pull:"+p),c({start:{downloading:0,extracting:0}})}}});var u=(0,a.useModel)("subscriber");u.addDataHandler("image:pull:"+p,function(n){c(n.data)});var O=(0,b.useState)(),i=r()(O,2),s=i[0],c=i[1];return(0,b.useEffect)(function(){return c({start:{downloading:0,extracting:0}}),function(){u.progress.close("image:pull:"+p)}},[]),(0,o.jsx)(o.Fragment,{children:s&&Object.keys(s).map(function(n){return(0,o.jsx)(d.Z,{format:function(R){return"".concat(R,"%")},percent:s[n].downloading,success:{percent:s[n].extracting}},n)})})});I.Z=D},47248:function(H,I,e){var U=e(15009),r=e.n(U),b=e(99289),a=e.n(b),d=e(5574),o=e.n(d),D=e(38345),C=e(97269),m=e(62370),g=e(5966),h=e(64317),p=e(83622),W=e(85265),u=e(25593),O=e(42075),i=e(67294),s=e(92754),c=e(82346),n=e(2205),_=e(3616),R=e(36146),y=e(23430),B=e(68297),K=e(77342),f=e(85893),j=(0,i.forwardRef)(function(T,M){var t=(0,i.useState)(!1),J=o()(t,2),Y=J[0],te=J[1],ae=(0,i.useRef)(),re=(0,i.useRef)(),N=(0,i.useState)(!1),de=o()(N,2),ge=de[0],l=de[1],z=new R.Uo("components.imagePull");return(0,i.useImperativeHandle)(M,function(){return{upgradeImage:function(L){var w;return te(!0),(w=ae.current)===null||w===void 0||w.setFieldValue("imageUrl",L),(0,B.Ze)({tag:L,type:"pull"})},setImageName:function(L){var w;te(!0),(w=ae.current)===null||w===void 0||w.setFieldValue("imageUrl",L)}}}),[(0,f.jsx)(p.ZP,{type:T.buttonType?T.buttonType:"default",icon:(0,f.jsx)(y.Z,{}),onClick:function(){var L,w;te(!0),(L=ae.current)===null||L===void 0||L.resetFields(),(w=re.current)===null||w===void 0||w.setStart("")},children:z.format("triggerButton")},"remoteBtn"),(0,f.jsxs)(W.Z,{forceRender:!0,open:Y,title:z.format("drawerTitle"),width:_.R_,onClose:function(){var L;te(!1),(L=re.current)===null||L===void 0||L.close()},footer:!1,children:[(0,f.jsx)(D.Z,{children:(0,f.jsx)(u.Z.Text,{children:(0,f.jsxs)("ul",{style:{lineHeight:"30px"},children:[(0,f.jsxs)("li",{children:[z.format("tip.1")," ",(0,f.jsx)("a",{href:"https://hub.docker.com/",target:"_blank",children:R.FD.format("help")})]}),(0,f.jsxs)("li",{children:[z.format("tip.2")," ",(0,f.jsx)("a",{href:"https://hub.docker.com/search?q=",target:"_blank",children:R.FD.format("help")})]}),(0,f.jsxs)("li",{children:[z.format("tip.3")," "]}),(0,f.jsxs)("li",{children:[z.format("tip.4")," ",(0,f.jsx)(c.Link,{to:"/image/registry",children:R.Ob.format("image.registry.create")})]}),(0,f.jsxs)("li",{children:[z.format("tip.5")," ",(0,f.jsx)(c.Link,{to:"/image/registry",children:R.Ob.format("image.registry")})]})]})})}),(0,f.jsx)(D.Z,{title:z.format("triggerButton"),headerBordered:!0,children:(0,f.jsxs)(C.A,{formRef:ae,submitter:!1,isKeyPressSubmit:!0,onFinish:function(){var V=a()(r()().mark(function L(w){var q,X,ce,me,se,ve;return r()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return se=(q=w.imageUrl)!==null&&q!==void 0?q:"",w.registry&&(se=w.registry.serverAddress+"/"+se),l(!0),(X=re.current)===null||X===void 0||X.setStart(se),Z.next=6,(0,B.Ze)({tag:(0,K.Z)(se," "),type:"pull",platform:(ce=w.platform)!==null&&ce!==void 0?ce:""}).finally(function(){l(!1)});case 6:return ve=Z.sent,(me=re.current)===null||me===void 0||me.setFinish(),te(!1),T.onFinish&&T.onFinish(ve.data.tag),Z.abrupt("return",!0);case 11:case"end":return Z.stop()}},L)}));return function(L){return V.apply(this,arguments)}}(),children:[(0,f.jsxs)(O.Z.Compact,{children:[(0,f.jsx)(m.Z,{name:"registry",children:(0,f.jsx)(n.Z,{width:"150px"})}),(0,f.jsx)(g.Z,{disabled:ge,width:270,name:"imageUrl",placeholder:z.format("imageUrlEmpty"),required:!0,rules:[{required:!0}]}),(0,f.jsx)(h.Z,{name:"platform",style:{width:100},placeholder:z.format("imagePlatformEmpty"),options:B.ii.map(function(V){return{label:V.name,value:V.name}})}),(0,f.jsx)(p.ZP,{loading:ge,onClick:a()(r()().mark(function V(){var L;return r()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:(L=ae.current)===null||L===void 0||L.submit();case 1:case"end":return q.stop()}},V)})),children:z.format("triggerButton")}),(0,f.jsx)(p.ZP,{danger:!0,onClick:function(){var L;(L=re.current)===null||L===void 0||L.close()},children:R.FD.format("listManageKill")})]}),(0,f.jsx)(m.Z,{label:z.format("progressTitle"),children:(0,f.jsx)(s.Z,{ref:re})})]})})]},"remoteDrawer")]});I.Z=j},78451:function(H,I,e){e.d(I,{Z:function(){return b}});var U=e(67294),r=e(85893);function b(a){var d;return(0,r.jsx)("span",{style:{width:a.width?a.width:"auto",wordBreak:"break-word"},children:(d=a.content)!==null&&d!==void 0?d:a.children})}},51100:function(H,I,e){e.d(I,{Z:function(){return d}});var U=e(4813),r=e(91604),b=e(1677),a=e(85893);function d(o){return o.showDragger?(0,a.jsx)(r.Z,{max:o.max?o.max:1,title:o.title,label:o.label,required:o.required,rules:[{required:o.required}],fieldProps:{multiple:!!(o.max&&o.max>1),name:"file",accept:o.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(C){return new Promise(function(m){var g;(0,U._)({path:(g=C.response.data.path)!==null&&g!==void 0?g:""}).then(function(h){m(!0)})})}},name:o.name}):(0,a.jsx)(b.Z,{max:o.max?o.max:1,title:o.title,label:o.label,required:o.required,rules:[{required:o.required}],fieldProps:{multiple:!!(o.max&&o.max>1),name:"file",accept:o.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(C){return new Promise(function(m){var g;(0,U._)({path:(g=C.response.data.path)!==null&&g!==void 0?g:""}).then(function(h){m(!0)})})}},name:o.name})}},3616:function(H,I,e){e.d(I,{Ed:function(){return a},FK:function(){return r},R_:function(){return U},ob:function(){return b}});var U=window.innerWidth<=1024?"90vw":"65vw",r="90vw",b="60vw",a="50vh"},65913:function(H,I,e){var U=e(5574),r=e.n(U),b=e(74330),a=e(67294),d=e(85893),o=(0,a.forwardRef)(function(D,C){(0,a.useImperativeHandle)(C,function(){return{show:function(){p(!0)},destroy:function(){p(!1)}}});var m=(0,a.useState)(!1),g=r()(m,2),h=g[0],p=g[1];return(0,d.jsx)(b.Z,{spinning:h,size:"default",children:D.children})});I.Z=o},17550:function(H,I,e){e.r(I),e.d(I,{default:function(){return ve}});var U=e(19632),r=e.n(U),b=e(15009),a=e.n(b),d=e(99289),o=e.n(d),D=e(5574),C=e.n(D),m=e(74453),g=e(97269),h=e(62370),p=e(37476),W=e(5966),u=e(42075),O=e(25593),i=e(66309),s=e(84567),c=e(83622),n=e(67294),_=e(82346),R=e(73813),y=e(5251),B=e(80821),K=e(58638),f=e(1912),j=e(52645),T=e(2205),M=e(67255),t=e(93162),J=e(78914),Y=e(1699),te=e(184),ae=e(44349),re=e(51100),N=e(36146),de=e(3616),ge=e(57546),l=e(85893),z=(0,n.forwardRef)(function(pe,Z){(0,n.useImperativeHandle)(Z,function(){return{}});var fe=(0,n.useRef)(),ee=new N.Uo("components.image");return(0,l.jsxs)(te.a,{drawerProps:{width:de.R_},title:ee.format("importTitle"),trigger:(0,l.jsx)(c.ZP,{icon:(0,l.jsx)(ge.Z,{}),children:ee.format("importTitle")},"create"),formRef:fe,onFinish:function(){var je=o()(a()().mark(function Ee(ue){var le,ie;return a()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,(0,R.GH)({localUrl:ue.imageTarUpload?ue.imageTarUpload.map(function(he){return he.response.data.path}):[],remoteUrl:ue.remoteUrl?ue.remoteUrl.map(function(he){return he.url}):[]});case 2:return ie=Q.sent,!((le=fe.current)===null||le===void 0)&&le.resetFields&&fe.current.resetFields(),pe.onFinish&&pe.onFinish(),Q.abrupt("return",!0);case 6:case"end":return Q.stop()}},Ee)}));return function(Ee){return je.apply(this,arguments)}}(),children:[(0,l.jsx)(re.Z,{label:ee.format("importLocal"),showDragger:!0,max:10,title:ee.format("importLocalTip"),name:"imageTarUpload",accept:".tar"}),(0,l.jsx)(ae.Z,{label:ee.format("importRemote"),name:"remoteUrl",showAddButton:!0,hideCopyButton:!0,min:1,items:[{width:"lg",name:"url",placeholder:ee.format("importRemoteEmpty")}]})]})}),V=z,L=e(47248),w=e(96486),q=e.n(w),X=e(55375),ce=e(59683),me=e(68297),se=e(97841);function ve(){var pe=(0,_.useAccess)(),Z=(0,n.useRef)(),fe=(0,n.useState)({force:!1}),ee=C()(fe,2),je=ee[0],Ee=ee[1],ue=(0,n.useRef)(),le=(0,n.useRef)(),ie=(0,n.useRef)(),k=new N.Uo("image"),Q=(0,n.useRef)(),he=(0,n.useRef)(),Me=(0,n.useState)(1),De=C()(Me,2),oe=De[0],_e=De[1];return(0,n.useEffect)(function(){var $;!(($=Z.current)===null||$===void 0)&&$.reloadAndRest&&Z.current.reloadAndRest().then(function(){var F,v;!((F=Z.current)===null||F===void 0)&&F.setPageInfo&&Z.current.setPageInfo({current:(0,M.G$)(X.CM,(v=Z.current)===null||v===void 0?void 0:v.pageInfo)})})},[oe]),(0,l.jsxs)(m._z,{header:{extra:[(0,l.jsx)(Y.u,{access:"canSeeImageListPull",children:(0,l.jsx)(L.Z,{onFinish:function(){_e(oe+1)}},"remote")},"remote"),(0,l.jsx)(Y.u,{access:"canSeeImageListManageCreate",children:(0,l.jsx)(V,{onFinish:function(){_e(oe+1)}})},"import")]},children:[(0,l.jsx)(J.Z,{ref:le,onClose:function(){_e(oe+1)}}),(0,l.jsx)(ce.C,{rowKey:"Id",onChange:function(F,v,A){!q().isArray(A)&&(0,M.LX)(X.CM,A.columnKey,A.order),(0,M.MJ)(X.CM,F.current)},columns:[{title:"Id",dataIndex:"title",search:!1,render:function(F,v,A,E,P){var x=v.Id.substring(7,19);return v.Title&&(x=v.Title),(0,l.jsxs)(u.Z,{children:[(0,l.jsx)(O.Z.Link,{copyable:!0,onClick:function(){var G;!((G=le.current)===null||G===void 0)&&G.show&&le.current.show(v.Id)},children:x},"title-".concat(A)),v.Containers==0&&(0,l.jsx)(i.Z,{color:"warning",children:N.FD.format("listNotUse")},"use-".concat(A))]})}},{title:N.FD.format("listTitle"),dataIndex:"tag",render:function(F,v,A,E){return(0,l.jsx)(u.Z,{direction:"vertical",style:{textAlign:"left"},children:v.RepoTags.map(function(P,x){return(0,l.jsx)(u.Z,{children:(0,l.jsx)(i.Z,{color:"#2db7f5",children:(0,l.jsx)(O.Z.Text,{copyable:!0,title:P,style:{color:"#ffffff"},children:P},"tag-"+x)},"tag-".concat(x))},x)})},v.Id)}},{title:"Digest",search:!1,tooltip:N.FD.format("listDigestTip"),render:function(F,v,A,E,P){return(0,l.jsx)(u.Z,{direction:"vertical",style:{textAlign:"left"},children:v.RepoTags&&v.RepoTags.map(function(x,S){var G,ne=(G=v.RepoDigests)===null||G===void 0?void 0:G.find(function(Pe){var Te=Pe.split("@"),Oe=C()(Te,2),Re=Oe[0],be=Oe[1];return x.includes(Re)});return(0,l.jsx)("span",{children:ne?ne.substring(ne.indexOf("@")+8).substring(0,12):(0,l.jsx)(i.Z,{color:"warning",children:new N.Uo("components.appDetail").format("checkImageUpgradeOption.-3")})},S)})})}},{title:N.FD.format("listArch"),width:80,search:!1,render:function(F,v,A,E,P){if(v.Labels&&v.Labels["com.dpanel.image.arch"])return(0,l.jsx)(i.Z,{children:v.Labels["com.dpanel.image.arch"]},"arch"+v.Id)}},{title:N.FD.format("listSize"),dataIndex:"size",ellipsis:!0,width:"120px",search:!1,sorter:function(F,v){return parseFloat(F.Size)-parseFloat(v.Size)},sortDirections:M.h5,defaultSortOrder:(0,M.rj)(X.CM,"size"),render:function(F,v,A,E){return(0,l.jsx)("div",{children:(0,y.FI)(parseFloat(v.Size))},v.Id)}},{title:N.FD.format("listCreatedAt"),dataIndex:"Created",key:"created",ellipsis:!0,search:!1,width:"180px",render:function(F,v,A,E){return(0,l.jsx)("div",{children:(0,y.ZM)(v.Created*1e3)},v.Id)},sorter:function(F,v){return F.Created-v.Created},sortDirections:M.h5,defaultSortOrder:(0,M.rj)(X.CM,"created")}],request:function(){var $=o()(a()().mark(function F(v,A,E){var P;return a()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,R.KG)({tag:v.tag,title:v.title,use:v.use?v.use=="1"?1:2:0});case 2:if(P=S.sent,!(!P||!P.data||!P.data.list)){S.next=5;break}return S.abrupt("return",{data:[],success:!0,total:0});case 5:return P.data.list.map(function(G){var ne="";G.RepoTags.map(function(Pe){P.data.title[Pe]&&(ne=P.data.title[Pe])}),G.Title=ne}),S.abrupt("return",{data:P.data.list,success:!0,total:P.data.list.length});case 7:case"end":return S.stop()}},F)}));return function(F,v,A){return $.apply(this,arguments)}}(),rowSelection:pe.canSeeImageListManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,actionRef:Z,quickToolbarRender:function(F){var v=F.selectedRows;return(0,l.jsxs)(u.Z,{size:16,children:[(0,l.jsx)(B.Z,{buttonProps:{icon:(0,l.jsx)(K.Z,{})},confirmProps:{onOpenChange:function(E,P){var x;!((x=ie.current)===null||x===void 0)&&x.resetFields&&ie.current.resetFields()},description:(0,l.jsxs)(u.Z,{style:{width:500,marginTop:"10px",paddingRight:"10px"},direction:"vertical",size:20,children:[(0,l.jsx)(O.Z.Text,{children:(0,l.jsx)("ul",{children:k.prefix("listManageExportTipOption",3).map(function(A,E){return(0,l.jsx)("li",{children:A},E)})})}),(0,l.jsx)(g.A,{layout:"horizontal",formRef:ie,submitter:!1,children:(0,l.jsx)(h.Z,{valuePropName:"checked",name:"enableExportToPath",children:(0,l.jsx)(s.Z,{children:k.format("listManageExportOptionToHost")})},"enableExportToPath")})]})},action:function(){var E,P=[];return v.map(function(x){P.push.apply(P,r()(x.RepoTags))}),(0,R.Rb)({md5:P,enableExportToPath:(E=ie.current)===null||E===void 0?void 0:E.getFieldValue("enableExportToPath")})},onSuccess:function(E){var P=v.map(function(S){return S.RepoTags[0]});if(E.size>29){var x=new Blob([E],{type:"application/tar"});(0,t.saveAs)(x,P.join("-")+".tar")}_e(oe+1)},children:N.FD.format("listManageExport")}),(0,l.jsxs)(p.Y,{modalProps:{width:de.ob},formRef:ue,title:k.format("listManagePushTip"),trigger:(0,l.jsx)(c.ZP,{icon:(0,l.jsx)(f.Z,{}),children:k.format("listManagePush")}),onFinish:function(){var A=o()(a()().mark(function E(P){var x;return a()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,(0,me.fy)({md5:v.map(function(ne){return ne.Id}),registryId:P.registryId,newNamespace:P.newNamespace});case 2:return x=G.sent,_e(oe+1),G.abrupt("return",!0);case 5:case"end":return G.stop()}},E)}));return function(E){return A.apply(this,arguments)}}(),children:[(0,l.jsx)(h.Z,{name:"registryId",hidden:!0}),(0,l.jsx)(h.Z,{label:k.format("listManagePushImageRespo"),name:"imageRespo",tooltip:k.format("listManagePushImageRespoTip"),children:(0,l.jsx)(T.Z,{multiple:!0,top:!0,onChangeList:function(E){var P;(P=ue.current)===null||P===void 0||P.setFieldValue("registryId",E.map(function(x){return x.id}))}})}),(0,l.jsx)(W.Z,{tooltip:k.format("listManagePushNewNamespaceTip"),label:k.format("listManagePushNewNamespace"),name:"newNamespace"})]}),(0,l.jsx)(Y.u,{access:"canSeeImageListManageDelete",children:(0,l.jsx)(B.Z,{buttonProps:{icon:(0,l.jsx)(j.Z,{})},action:o()(a()().mark(function A(){var E,P;return a()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(!((E=Q.current)!==null&&E!==void 0&&E.getFieldValue("enableBuildCache"))){S.next=3;break}return S.next=3,(0,se.c5)();case 3:return S.abrupt("return",(0,R.Xz)({enableUnuseTag:(P=Q.current)===null||P===void 0?void 0:P.getFieldValue("enableUnuseTag")}));case 4:case"end":return S.stop()}},A)})),onSuccess:function(){var E;return!((E=Z.current)===null||E===void 0)&&E.reloadAndRest&&Z.current.reloadAndRest(),!0},onError:function(){return _e(oe+1),!0},confirmProps:{onOpenChange:function(E,P){var x;!((x=Q.current)===null||x===void 0)&&x.resetFields&&Q.current.resetFields()},description:(0,l.jsx)(g.A,{submitter:!1,formRef:Q,layout:"inline",children:(0,l.jsxs)(u.Z,{direction:"vertical",style:{width:600},children:[(0,l.jsx)(O.Z.Text,{children:k.format("listManagePruneTip")}),(0,l.jsx)(h.Z,{name:"enableUnuseTag",valuePropName:"checked",children:(0,l.jsxs)(s.Z,{children:[k.format("listManagePruneOption.enableUnuseTag"),"?"]})}),(0,l.jsx)(h.Z,{initialValue:!0,name:"enableBuildCache",valuePropName:"checked",children:(0,l.jsxs)(s.Z,{children:[k.format("listManagePruneOption.enableBuildCache"),"?"]})})]})})},children:N.FD.format("listManagePrune")})},"prune"),(0,l.jsx)(Y.u,{access:"canSeeImageListManageDelete",children:(0,l.jsx)(B.Z,{buttonProps:{danger:!0,type:"primary"},action:function(){return(0,R.ao)({md5:v.map(function(E){return E.Id}),force:je.force})},onSuccess:function(){var E,P;return!((E=Z.current)===null||E===void 0)&&E.reloadAndRest&&((P=Z.current)===null||P===void 0||P.reloadAndRest()),!0},onError:function(){var E,P;return!((E=Z.current)===null||E===void 0)&&E.reloadAndRest&&((P=Z.current)===null||P===void 0||P.reloadAndRest()),!0},confirmProps:{description:(0,l.jsx)(g.A,{submitter:!1,formRef:he,children:(0,l.jsxs)(u.Z,{style:{width:280},direction:"vertical",children:[(0,l.jsx)(O.Z.Text,{children:N.FD.format("confirm.title")}),(0,l.jsxs)(s.Z,{name:"deleteVolume",onChange:function(E){return Ee({force:E.target.checked})},children:[N.FD.format("listManageDeleteForce"),"?"]})]})})},children:N.FD.format("listManageDeleteBatch")})})]})},columnsState:(0,M.j_)(X.CM)})]})}},4813:function(H,I,e){e.d(I,{_:function(){return o}});var U=e(15009),r=e.n(U),b=e(99289),a=e.n(b),d=e(82346);function o(C){return D.apply(this,arguments)}function D(){return D=a()(r()().mark(function C(m){return r()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,d.request)("/api/common/attach/delete",{method:"POST",data:m});case 2:return h.abrupt("return",h.sent);case 3:case"end":return h.stop()}},C)})),D.apply(this,arguments)}},97841:function(H,I,e){e.d(I,{Xr:function(){return p},bJ:function(){return g},c5:function(){return u},hf:function(){return o},l9:function(){return C}});var U=e(15009),r=e.n(U),b=e(99289),a=e.n(b),d=e(82346);function o(i){return D.apply(this,arguments)}function D(){return D=a()(r()().mark(function i(s){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,d.request)("/api/app/image-build/delete",{method:"POST",data:s});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},i)})),D.apply(this,arguments)}function C(i){return m.apply(this,arguments)}function m(){return m=a()(r()().mark(function i(s){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.request)("/api/app/image-build/create",{method:"POST",data:s}));case 1:case"end":return n.stop()}},i)})),m.apply(this,arguments)}function g(i){return h.apply(this,arguments)}function h(){return h=a()(r()().mark(function i(s){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.request)("/api/app/image-build/get-list",{method:"POST",data:s}));case 1:case"end":return n.stop()}},i)})),h.apply(this,arguments)}function p(i){return W.apply(this,arguments)}function W(){return W=a()(r()().mark(function i(s){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,d.request)("/api/app/image-build/get-detail",{method:"POST",data:s});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},i)})),W.apply(this,arguments)}function u(){return O.apply(this,arguments)}function O(){return O=a()(r()().mark(function i(){return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,d.request)("/api/app/image-build/prune",{method:"POST"});case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},i)})),O.apply(this,arguments)}},73813:function(H,I,e){e.d(I,{Ck:function(){return o},Fj:function(){return i},GH:function(){return C},KG:function(){return p},Rb:function(){return _},Xz:function(){return g},YU:function(){return c},ZQ:function(){return y},ao:function(){return u},cD:function(){return K}});var U=e(15009),r=e.n(U),b=e(99289),a=e.n(b),d=e(82346);function o(j){return D.apply(this,arguments)}function D(){return D=a()(r()().mark(function j(T){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/app/image/import-by-container-tar",{method:"POST",data:T}));case 1:case"end":return t.stop()}},j)})),D.apply(this,arguments)}function C(j){return m.apply(this,arguments)}function m(){return m=a()(r()().mark(function j(T){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/app/image/import-by-image-tar",{method:"POST",data:T}));case 1:case"end":return t.stop()}},j)})),m.apply(this,arguments)}function g(j){return h.apply(this,arguments)}function h(){return h=a()(r()().mark(function j(T){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.request)("/api/app/image/prune",{method:"POST"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},j)})),h.apply(this,arguments)}function p(j){return W.apply(this,arguments)}function W(){return W=a()(r()().mark(function j(T){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/app/image/get-list",{method:"POST",data:T}));case 1:case"end":return t.stop()}},j)})),W.apply(this,arguments)}function u(j){return O.apply(this,arguments)}function O(){return O=a()(r()().mark(function j(T){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.request)("/api/app/image/delete",{method:"POST",data:T});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},j)})),O.apply(this,arguments)}function i(j){return s.apply(this,arguments)}function s(){return s=a()(r()().mark(function j(T){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.request)("/api/app/image/update-title",{method:"POST",data:T});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},j)})),s.apply(this,arguments)}function c(j){return n.apply(this,arguments)}function n(){return n=a()(r()().mark(function j(T){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/app/image/get-detail",{method:"POST",data:T}));case 1:case"end":return t.stop()}},j)})),n.apply(this,arguments)}function _(j){return R.apply(this,arguments)}function R(){return R=a()(r()().mark(function j(T){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/app/image/export",{method:"POST",data:T,responseType:"blob"}));case 1:case"end":return t.stop()}},j)})),R.apply(this,arguments)}function y(j){return B.apply(this,arguments)}function B(){return B=a()(r()().mark(function j(T){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/app/image/check-upgrade",{method:"POST",data:T}));case 1:case"end":return t.stop()}},j)})),B.apply(this,arguments)}function K(j){return f.apply(this,arguments)}function f(){return f=a()(r()().mark(function j(T){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/pro/image/get-rootfs",{method:"POST",data:T}));case 1:case"end":return t.stop()}},j)})),f.apply(this,arguments)}},75870:function(H,I,e){e.d(I,{Ot:function(){return o},ZH:function(){return C},ix:function(){return g},t1:function(){return p}});var U=e(15009),r=e.n(U),b=e(99289),a=e.n(b),d=e(82346);function o(u){return D.apply(this,arguments)}function D(){return D=a()(r()().mark(function u(O){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,d.request)("/api/common/registry/get-list",{method:"POST",data:O}));case 1:case"end":return s.stop()}},u)})),D.apply(this,arguments)}function C(u){return m.apply(this,arguments)}function m(){return m=a()(r()().mark(function u(O){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,d.request)("/api/common/registry/create",{method:"POST",data:O}));case 1:case"end":return s.stop()}},u)})),m.apply(this,arguments)}function g(u){return h.apply(this,arguments)}function h(){return h=a()(r()().mark(function u(O){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,d.request)("/api/common/registry/delete",{method:"POST",data:O}));case 1:case"end":return s.stop()}},u)})),h.apply(this,arguments)}function p(u){return W.apply(this,arguments)}function W(){return W=a()(r()().mark(function u(O){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,d.request)("/api/common/registry/get-detail",{method:"POST",data:O}));case 1:case"end":return s.stop()}},u)})),W.apply(this,arguments)}},68297:function(H,I,e){e.d(I,{Qd:function(){return m},Ze:function(){return D},aw:function(){return O},cV:function(){return h},fy:function(){return W},ii:function(){return o}});var U=e(15009),r=e.n(U),b=e(99289),a=e.n(b),d=e(82346),o=[{name:"amd64",arch:"amd64",search:["amd64","x86_64","86_64"]},{name:"arm64",arch:"arm64",search:["arm64","arrch64"]},{name:"i386",arch:"386",search:[]},{name:"arm/v6",arch:"arm",search:[]},{name:"arm/v7",arch:"arm",search:[]},{name:"arm/v8",arch:"arm64",search:[]},{name:"ppc64le",arch:"ppc64le",search:[]},{name:"riscv64",arch:"riscv64",search:[]}];function D(s){return C.apply(this,arguments)}function C(){return C=a()(r()().mark(function s(c){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,d.request)("/api/app/image/tag-sync",{method:"POST",data:c}));case 1:case"end":return _.stop()}},s)})),C.apply(this,arguments)}function m(s){return g.apply(this,arguments)}function g(){return g=a()(r()().mark(function s(c){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,d.request)("/api/app/image/tag-add",{method:"POST",data:c}));case 1:case"end":return _.stop()}},s)})),g.apply(this,arguments)}function h(s){return p.apply(this,arguments)}function p(){return p=a()(r()().mark(function s(c){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,d.request)("/api/app/image/tag-delete",{method:"POST",data:c}));case 1:case"end":return _.stop()}},s)})),p.apply(this,arguments)}function W(s){return u.apply(this,arguments)}function u(){return u=a()(r()().mark(function s(c){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,d.request)("/api/app/image/tag-push-batch",{method:"POST",data:c}));case 1:case"end":return _.stop()}},s)})),u.apply(this,arguments)}function O(s){return i.apply(this,arguments)}function i(){return i=a()(r()().mark(function s(c){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,d.request)("/api/pro/image/get-remote-tag",{method:"POST",data:c}));case 1:case"end":return _.stop()}},s)})),i.apply(this,arguments)}}}]);
