"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[236],{10032:function(w,P,n){var A=n(5574),E=n.n(A),u=n(15009),f=n.n(u),D=n(99289),h=n.n(D),g=n(80821),M=n(14946),x=n(48689),K=n(184),C=n(38345),L=n(60940),B=n(42075),Z=n(96074),_=n(26412),v=n(67294),r=n(85893),y=(0,v.forwardRef)(function(F,U){(0,v.useImperativeHandle)(U,function(){return{show:function(O){return h()(f()().mark(function T(){var I,b;return f()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,M.IS)({name:O});case 2:I=m.sent,I.data.info.Containers?(b=[],Object.keys(I.data.info.Containers).map(function(N){I.data.info.Containers[N].Id=N,b.push(I.data.info.Containers[N])}),R(b)):R([]),t(I.data.info),p(!0);case 6:case"end":return m.stop()}},T)}))()}}});var l=(0,v.useState)(!1),W=E()(l,2),i=W[0],p=W[1],S=(0,v.useState)(),c=E()(S,2),e=c[0],t=c[1],d=(0,v.useState)(),o=E()(d,2),a=o[0],R=o[1];return(0,r.jsx)(K.a,{title:"\u7F51\u7EDC\u8BE6\u60C5",open:i,onOpenChange:function(O){p(O)},submitter:!1,children:(0,r.jsxs)(C.Z,{ghost:!0,direction:"column",gutter:[10,0],children:[(0,r.jsx)(C.Z,{title:"\u7F51\u7EDC\u5185\u5BB9\u5668",ghost:!0,children:(0,r.jsx)(L.Z,{rowKey:"Id",columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"Name"},{title:"IPV4",dataIndex:"IPv4Address"},{title:"IPV6",dataIndex:"IPv6Address"},{title:"MacAddress",dataIndex:"MacAddress"},{title:"\u64CD\u4F5C",render:function(O,T,I){return(0,r.jsx)(B.Z,{split:(0,r.jsx)(Z.Z,{type:"vertical"}),children:(0,r.jsx)(g.Z,{type:"text",action:function(){var j,m;return(0,M.t9)({name:(j=e==null?void 0:e.Id)!==null&&j!==void 0?j:"",containerName:(m=T.Id)!==null&&m!==void 0?m:""})},onSuccess:function(){var j=a==null?void 0:a.filter(function(m){return m.Id!=T.Id});R(j)},children:(0,r.jsx)(x.Z,{})},"delete")})}}],dataSource:a,pagination:!1})}),(0,r.jsx)(C.Z,{ghost:!0,title:"\u57FA\u7840\u4FE1\u606F",children:(0,r.jsxs)(_.Z,{labelStyle:{width:"180px"},column:1,bordered:!0,children:[(0,r.jsx)(_.Z.Item,{label:"\u540D\u79F0",children:e==null?void 0:e.Name}),(0,r.jsx)(_.Z.Item,{label:"Id",children:e==null?void 0:e.Id}),(0,r.jsx)(_.Z.Item,{label:"Driver",children:e==null?void 0:e.Driver}),(0,r.jsx)(_.Z.Item,{label:"Scope",children:e==null?void 0:e.Scope}),(0,r.jsx)(_.Z.Item,{label:"Attachable",children:e!=null&&e.Attachable?"\u662F":"\u5426"}),(0,r.jsx)(_.Z.Item,{label:"Internal",children:e!=null&&e.Internal?"\u662F":"\u5426"}),(e==null?void 0:e.IPAM.Config)&&(e==null?void 0:e.IPAM.Config.map(function(s){return(0,r.jsx)(_.Z.Item,{label:s.Gateway.includes(":")?"IPV6":"IPV4",children:(0,r.jsxs)(_.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:[(0,r.jsx)(_.Z.Item,{label:"Subnet",children:s.Subnet}),(0,r.jsx)(_.Z.Item,{label:"Gateway",children:s.Gateway}),(0,r.jsx)(_.Z.Item,{label:"IP Range ",children:s.IPRange}),(0,r.jsx)(_.Z.Item,{label:"Excluded IPs",children:s.AuxiliaryAddresses&&Object.keys(s.AuxiliaryAddresses).map(function(O){return s.AuxiliaryAddresses[O]+" ,"})})]})})})),(e==null?void 0:e.Options)&&Object.keys(e==null?void 0:e.Options).length>0&&(0,r.jsx)(_.Z.Item,{label:"Options",children:(0,r.jsx)(_.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Options).map(function(s){return(0,r.jsx)(_.Z.Item,{label:s,children:e.Options[s]},s)})})}),(e==null?void 0:e.Labels)&&Object.keys(e==null?void 0:e.Labels).length>0&&(0,r.jsx)(_.Z.Item,{label:"Lables",children:(0,r.jsx)(_.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Labels).map(function(s){return(0,r.jsx)(_.Z.Item,{label:s,children:e.Labels[s]},s)})})})]})})]})})});P.Z=y},6005:function(w,P,n){n.r(P),n.d(P,{default:function(){return W}});var A=n(15009),E=n.n(A),u=n(99289),f=n.n(u),D=n(1699),h=n(80821),g=n(28230),M=n(10032),x=n(14946),K=n(67255),C=n(43425),L=n(90078),B=n(41482),Z=n(82346),_=n(66309),v=n(42075),r=n(96074),y=n(28036),F=n(83062),U=n(67294),l=n(85893);function W(){var i=(0,U.useRef)(),p=(0,U.useRef)(),S=(0,Z.useAccess)();return(0,l.jsxs)(L._z,{header:{extra:[(0,l.jsx)(D.u,{access:"canSeeDockerNetworkManage",children:(0,l.jsx)(g.Z,{onFinish:function(){var e,t;!((e=i.current)===null||e===void 0)&&e.reloadAndRest&&((t=i.current)===null||t===void 0||t.reloadAndRest())}},"create")},"create")]},children:[(0,l.jsx)(M.Z,{ref:p}),(0,l.jsx)(B.Z,{scroll:{x:"max-content"},rowKey:"Name",columns:[{title:"\u540D\u79F0",ellipsis:!0,dataIndex:"Name",render:function(e,t,d,o,a){return t.Name=="none"||t.Name=="bridge"||t.Name=="host"?(0,l.jsxs)(l.Fragment,{children:[t.Name," ",(0,l.jsx)(_.Z,{color:"blue",children:"System"})]}):(0,l.jsx)(l.Fragment,{children:e})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",ellipsis:!0,width:150,search:!1,render:function(e,t,d,o,a){return t.IPAM.Config&&t.IPAM.Config[0]?(0,l.jsxs)(v.Z,{direction:"vertical",children:[(0,l.jsx)("div",{children:t.IPAM.Config&&t.IPAM.Config[0].Subnet}),(0,l.jsx)("div",{children:t.IPAM.Config&&t.IPAM.Config[0].Gateway})]}):"-"}},{title:"IPV6",ellipsis:!0,width:150,search:!1,render:function(e,t,d,o,a){return t.IPAM.Config&&t.IPAM.Config[1]?(0,l.jsxs)(v.Z,{direction:"vertical",children:[(0,l.jsx)("div",{children:t.IPAM.Config&&t.IPAM.Config[1].Subnet}),(0,l.jsx)("div",{children:t.IPAM.Config&&t.IPAM.Config[1].Gateway})]}):"-"}},{title:"\u521B\u5EFA\u65F6\u95F4",ellipsis:!0,width:180,search:!1,dataIndex:"Created",render:function(e,t,d,o,a){return new Date(t.Created).toLocaleString()}},{title:"\u64CD\u4F5C",width:100,search:!1,fixed:"right",hidden:!S.canSeeDockerNetworkManage,render:function(e,t,d,o,a){return(0,l.jsx)(v.Z,{split:(0,l.jsx)(r.Z,{type:"vertical"}),children:(0,l.jsx)(y.ZP,{type:"link",onClick:function(){var s;(s=p.current)===null||s===void 0||s.show(t.Name)},children:(0,l.jsx)(F.Z,{title:"\u7BA1\u7406",children:(0,l.jsx)(C.Z,{})})})})}}],request:function(){var c=f()(E()().mark(function e(t,d,o){var a;return E()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,x.jR)({name:t.Name});case 2:return a=s.sent,s.abrupt("return",{data:a.data.list,success:!0,total:a.data.list.length});case 4:case"end":return s.stop()}},e)}));return function(e,t,d){return c.apply(this,arguments)}}(),rowSelection:S.canSeeDockerNetworkManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,actionRef:i,tableAlertOptionRender:function(e){var t=e.selectedRowKeys;return(0,l.jsxs)(v.Z,{size:16,children:[(0,l.jsx)(h.Z,{danger:!0,type:"primary",action:function(){return(0,x._x)({name:t})},onSuccess:function(){var o,a;return!((o=i.current)===null||o===void 0)&&o.reloadAndRest&&((a=i.current)===null||a===void 0||a.reloadAndRest()),!0},onError:function(){var o,a;return!((o=i.current)===null||o===void 0)&&o.reset&&((a=i.current)===null||a===void 0||a.reset()),!0},confirm:"notification.confirm.title",children:"\u6279\u91CF\u5220\u9664"},"delete"),(0,l.jsx)(h.Z,{action:function(){return(0,x.CI)()},onSuccess:function(){var o,a;return!((o=i.current)===null||o===void 0)&&o.reloadAndRest&&((a=i.current)===null||a===void 0||a.reloadAndRest()),!0},onError:function(){var o,a;return!((o=i.current)===null||o===void 0)&&o.reset&&((a=i.current)===null||a===void 0||a.reset()),!0},confirm:"notification.confirm.title",children:"\u6E05\u7406\u672A\u4F7F\u7528\u7F51\u7EDC"},"clearNotUse")]})},pagination:(0,K.O)()})]})}},67255:function(w,P,n){n.d(P,{O:function(){return A},j:function(){return E}});function A(){var u=localStorage.getItem("dpanel-pagesize");return u=="all"?!1:{showSizeChanger:!0,defaultPageSize:parseInt(u!=null?u:"20")}}function E(u){var f="dpanel-table-column-".concat(u),D={};if(localStorage.getItem(f)){var h;D=JSON.parse((h=localStorage.getItem(f))!==null&&h!==void 0?h:"{}")}return{defaultValue:D,onChange:function(M){localStorage.setItem("dpanel-table-column-".concat(u),JSON.stringify(M))}}}}}]);
