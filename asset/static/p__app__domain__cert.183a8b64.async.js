(self.webpackChunk=self.webpackChunk||[]).push([[1355],{23430:function(I,U,e){"use strict";e.d(U,{Z:function(){return d}});var O=e(87462),s=e(67294),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},M=R,D=e(84089),B=function(u,n){return s.createElement(D.Z,(0,O.Z)({},u,{ref:n,icon:M}))},A=s.forwardRef(B),d=A},88484:function(I,U,e){"use strict";e.d(U,{Z:function(){return d}});var O=e(87462),s=e(67294),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},M=R,D=e(84089),B=function(u,n){return s.createElement(D.Z,(0,O.Z)({},u,{ref:n,icon:M}))},A=s.forwardRef(B),d=A},5966:function(I,U,e){"use strict";var O=e(97685),s=e(1413),R=e(45987),M=e(21770),D=e(99859),B=e(55241),A=e(97435),d=e(67294),T=e(35510),u=e(85893),n=["fieldProps","proFieldProps"],r=["fieldProps","proFieldProps"],v="text",o=function(l){var t=l.fieldProps,h=l.proFieldProps,C=(0,R.Z)(l,n);return(0,u.jsx)(T.Z,(0,s.Z)({valueType:v,fieldProps:t,filedConfig:{valueType:v},proFieldProps:h},C))},_=function(l){var t=(0,M.Z)(l.open||!1,{value:l.open,onChange:l.onOpenChange}),h=(0,O.Z)(t,2),C=h[0],Z=h[1];return(0,u.jsx)(D.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(a){var g,j=a.getFieldValue(l.name||[]);return(0,u.jsx)(B.Z,(0,s.Z)((0,s.Z)({getPopupContainer:function(f){return f&&f.parentNode?f.parentNode:f},onOpenChange:function(f){return Z(f)},content:(0,u.jsxs)("div",{style:{padding:"4px 0"},children:[(g=l.statusRender)===null||g===void 0?void 0:g.call(l,j),l.strengthText?(0,u.jsx)("div",{style:{marginTop:10},children:(0,u.jsx)("span",{children:l.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},l.popoverProps),{},{open:C,children:l.children}))}})},F=function(l){var t=l.fieldProps,h=l.proFieldProps,C=(0,R.Z)(l,r),Z=(0,d.useState)(!1),S=(0,O.Z)(Z,2),a=S[0],g=S[1];return t!=null&&t.statusRender&&C.name?(0,u.jsx)(_,{name:C.name,statusRender:t==null?void 0:t.statusRender,popoverProps:t==null?void 0:t.popoverProps,strengthText:t==null?void 0:t.strengthText,open:a,onOpenChange:g,children:(0,u.jsx)("div",{children:(0,u.jsx)(T.Z,(0,s.Z)({valueType:"password",fieldProps:(0,s.Z)((0,s.Z)({},(0,A.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(W){var f;t==null||(f=t.onBlur)===null||f===void 0||f.call(t,W),g(!1)},onClick:function(W){var f;t==null||(f=t.onClick)===null||f===void 0||f.call(t,W),g(!0)}}),proFieldProps:h,filedConfig:{valueType:v}},C))})}):(0,u.jsx)(T.Z,(0,s.Z)({valueType:"password",fieldProps:t,proFieldProps:h,filedConfig:{valueType:v}},C))},L=o;L.Password=F,L.displayName="ProFormComponent",U.Z=L},89497:function(I,U,e){"use strict";e.r(U),e.d(U,{default:function(){return g}});var O=e(15009),s=e.n(O),R=e(99289),M=e.n(R),D=e(74026),B=e(77865),A=e(80821),d=e(66554),T=e(5251),u=e(67255),n=e(86548),r=e(23430),v=e(90078),o=e(10641),_=e(63713),F=e(50136),L=e(42075),x=e(66309),l=e(96074),t=e(25593),h=e(83062),C=e(67294),Z=e(93162),S=e.n(Z),a=e(85893);function g(){var j=(0,C.useRef)(),W=(0,C.useRef)(),f=(0,C.useRef)();return(0,a.jsx)(v._z,{extra:[(0,a.jsx)(D.Z,{ref:f,onFinish:function(){var P,i;!((P=j.current)===null||P===void 0)&&P.reloadAndRest&&((i=j.current)===null||i===void 0||i.reloadAndRest())}},"cert"),(0,a.jsx)(B.Z,{ref:W},"dns")],children:(0,a.jsx)(o.Z,{actionRef:j,tableExtraRender:function(){return(0,a.jsx)(F.Z,{mode:"horizontal",selectedKeys:["cert"],items:[{label:(0,a.jsx)(_.Link,{to:"/app/domain/list",replace:!0,children:"\u57DF\u540D\u7BA1\u7406"}),key:"domain"},{label:(0,a.jsx)(_.Link,{to:"/app/domain/cert",replace:!0,children:"\u8BC1\u4E66\u7BA1\u7406"}),key:"cert"}]})},rowKey:"mainDomain",columns:[{title:"\u57DF\u540D",render:function(P,i,K,p,c){return(0,a.jsx)(L.Z,{wrap:!0,children:i.domain.map(function(E,m){return(0,a.jsx)(x.Z,{color:m==0?"blue":"",children:E},E)})})}},{title:"\u72B6\u6001",search:!1,width:100,render:function(P,i,K,p,c){return i.inUse&&(0,a.jsx)(x.Z,{color:"cyan",children:"\u4F7F\u7528\u4E2D"},"use-".concat(K))}},{title:"CA",dataIndex:"CA",search:!1,width:200},{title:"\u521B\u5EFA\u65F6\u95F4",search:!1,width:180,render:function(P,i,K,p,c){return(0,T.NF)(i.createdAt)}},{title:"\u7EED\u7B7E\u65F6\u95F4",search:!1,width:180,render:function(P,i,K,p,c){return(0,T.NF)(i.renewAt)}},{title:"\u64CD\u4F5C",width:100,search:!1,render:function(P,i,K,p,c){return(0,a.jsxs)(L.Z,{split:(0,a.jsx)(l.Z,{type:"vertical"}),children:[(0,a.jsx)(t.Z.Link,{onClick:function(){var m;return(m=f.current)===null||m===void 0||m.edit(i),!0},children:(0,a.jsx)(h.Z,{title:"\u7F16\u8F91\u8BC1\u4E66",children:(0,a.jsx)(n.Z,{})})}),(0,a.jsx)(t.Z.Link,{onClick:M()(s()().mark(function E(){var m,b;return s()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,d.ll)({name:i.mainDomain});case 2:m=w.sent,b=new Blob([m],{type:"application/zip"}),(0,Z.saveAs)(b,"cert-"+i.mainDomain+".zip");case 5:case"end":return w.stop()}},E)})),children:(0,a.jsx)(h.Z,{title:"\u4E0B\u8F7D",children:(0,a.jsx)(r.Z,{})})},"2")]})}}],request:M()(s()().mark(function y(){var P,i;return s()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,d.dZ)();case 2:return P=p.sent,p.next=5,(0,d.i7)();case 5:return i=p.sent,p.abrupt("return",{data:P.data.list&&P.data.list.map(function(c){var E=!1;return i&&i.data&&i.data.list.map(function(m){m.setting.certName==c.mainDomain&&(E=!0)}),c.inUse=E,c}),success:!0,total:P.data.list.length});case 7:case"end":return p.stop()}},y)})),pagination:(0,u.O)(),tableAlertOptionRender:function(P){var i=P.selectedRowKeys,K=P.selectedRows;return(0,a.jsx)(L.Z,{size:16,children:(0,a.jsx)(A.Z,{danger:!0,type:"primary",confirm:"notification.confirm.title",action:M()(s()().mark(function p(){var c;return s()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,d.KK)({name:i});case 2:return c=m.sent,m.abrupt("return",c);case 4:case"end":return m.stop()}},p)})),onSuccess:function(){var c,E;return!((c=j.current)===null||c===void 0)&&c.reloadAndRest&&((E=j.current)===null||E===void 0||E.reloadAndRest()),!0},onError:function(){var c,E;return!((c=j.current)===null||c===void 0)&&c.reset&&((E=j.current)===null||E===void 0||E.reset()),!0},children:"\u6279\u91CF\u5220\u9664"})})},rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0}})})}},93162:function(I,U,e){var O,s,R;(function(M,D){s=[],O=D,R=typeof O=="function"?O.apply(U,s):O,R!==void 0&&(I.exports=R)})(this,function(){"use strict";function M(n,r){return typeof r=="undefined"?r={autoBom:!1}:typeof r!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n}function D(n,r,v){var o=new XMLHttpRequest;o.open("GET",n),o.responseType="blob",o.onload=function(){u(o.response,r,v)},o.onerror=function(){console.error("could not download file")},o.send()}function B(n){var r=new XMLHttpRequest;r.open("HEAD",n,!1);try{r.send()}catch(v){}return 200<=r.status&&299>=r.status}function A(n){try{n.dispatchEvent(new MouseEvent("click"))}catch(v){var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(r)}}var d=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof e.g=="object"&&e.g.global===e.g?e.g:void 0,T=d.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=d.saveAs||(typeof window!="object"||window!==d?function(){}:"download"in HTMLAnchorElement.prototype&&!T?function(n,r,v){var o=d.URL||d.webkitURL,_=document.createElement("a");r=r||n.name||"download",_.download=r,_.rel="noopener",typeof n=="string"?(_.href=n,_.origin===location.origin?A(_):B(_.href)?D(n,r,v):A(_,_.target="_blank")):(_.href=o.createObjectURL(n),setTimeout(function(){o.revokeObjectURL(_.href)},4e4),setTimeout(function(){A(_)},0))}:"msSaveOrOpenBlob"in navigator?function(n,r,v){if(r=r||n.name||"download",typeof n!="string")navigator.msSaveOrOpenBlob(M(n,v),r);else if(B(n))D(n,r,v);else{var o=document.createElement("a");o.href=n,o.target="_blank",setTimeout(function(){A(o)})}}:function(n,r,v,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),typeof n=="string")return D(n,r,v);var _=n.type==="application/octet-stream",F=/constructor/i.test(d.HTMLElement)||d.safari,L=/CriOS\/[\d]+/.test(navigator.userAgent);if((L||_&&F||T)&&typeof FileReader!="undefined"){var x=new FileReader;x.onloadend=function(){var h=x.result;h=L?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=h:location=h,o=null},x.readAsDataURL(n)}else{var l=d.URL||d.webkitURL,t=l.createObjectURL(n);o?o.location=t:location.href=t,o=null,setTimeout(function(){l.revokeObjectURL(t)},4e4)}});d.saveAs=u.saveAs=u,I.exports=u})}}]);
