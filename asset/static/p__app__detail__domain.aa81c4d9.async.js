"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3146],{80821:function(ne,T,e){e.d(T,{Z:function(){return X}});var I=e(5574),o=e.n(I),B=e(24963),p=e(86738),j=e(28036),A=e(83062),G=e(67294),E=e(85893);function X(l){var S=(0,G.useState)(!1),O=o()(S,2),N=O[0],k=O[1],P=(0,G.useContext)(B.Z),U=P.lang,z=P.notice,x=P.message,re=function(){k(!0),l.action().then(function(Q){if(k(!1),typeof l.onSuccess=="function"&&l.onSuccess(Q),l.messageSuccess){var M="";typeof l.messageSuccess=="function"?M=l.messageSuccess(Q):M=l.messageSuccess,M=U("notification.".concat(M))+U("notification.title.success"),l.asynced?x.info(M):x.success(M)}}).catch(function(Q){k(!1),typeof l.onError=="function"&&l.onError(Q)})};return l.confirm?(0,E.jsx)(p.Z,{style:{width:500},title:l.confirmTitle?l.confirmTitle:U("notification.title.tip"),description:l.confirm,onConfirm:re,okText:"Yes",cancelText:"No",children:(0,E.jsx)(j.ZP,{disabled:l.disabled,icon:l.icon,loading:N,danger:l.danger,type:l.type,children:l.children})}):(0,E.jsx)(A.Z,{title:l.tips,children:(0,E.jsx)(j.ZP,{disabled:l.disabled,icon:l.icon,loading:N,onClick:re,danger:l.danger,type:l.type,children:l.children})})}},54964:function(ne,T,e){e.d(T,{a:function(){return l}});var I=e(78267),o=e.n(I),B=e(75458),p=e.n(B),j=e(67294),A=e(12320),G=e.n(A),E=e(89629),X=e(85893),l={convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,cursorStyle:"block",cursorBlink:!0,theme:{foreground:"#bfbfbf",cursor:"gray",selectionForeground:"#ffffff"}},S=new A.Terminal(l),O=new B.SearchAddon,N=new I.FitAddon,k=(0,j.forwardRef)(function(P,U){return(0,j.useEffect)(function(){window.addEventListener("resize",function(){P.showInModal||N.fit()}),P.style&&P.style.fontSize&&(S.options.fontSize=P.style.fontSize),S.loadAddon(N),S.loadAddon(O),S.open(document.getElementById("terminal-container")),P.showInModal||N.fit()},[]),(0,j.useImperativeHandle)(U,function(){return{write:function(x){S.write(x)},clear:function(){S.clear()},getTerminal:function(){return S},findNext:function(x){O.findNext(x)},findPrev:function(x){O.findPrevious(x)},fit:function(){N.fit()},onData:function(x){S.onData(x)}}}),(0,X.jsx)("div",{id:"terminal-container",style:{width:P.width?P.width:"100%",height:P.height?P.height:"500px"}})});T.Z=k},24963:function(ne,T,e){var I=e(67294),o=(0,I.createContext)({});T.Z=o},68496:function(ne,T,e){e.r(T),e.d(T,{default:function(){return qe}});var I=e(15009),o=e.n(I),B=e(99289),p=e.n(B),j=e(5574),A=e.n(j),G=e(24963),E=e(63713);function X(n){return l.apply(this,arguments)}function l(){return l=p()(o()().mark(function n(a){return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,E.request)("/api/app/site/get-domain-list",{method:"POST",data:a}));case 1:case"end":return r.stop()}},n)})),l.apply(this,arguments)}function S(n){return O.apply(this,arguments)}function O(){return O=p()(o()().mark(function n(a){return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,E.request)("/api/app/site/create-domain",{method:"POST",data:a}));case 1:case"end":return r.stop()}},n)})),O.apply(this,arguments)}function N(n){return k.apply(this,arguments)}function k(){return k=p()(o()().mark(function n(a){return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,E.request)("/api/app/site/update-domain",{method:"POST",data:a}));case 1:case"end":return r.stop()}},n)})),k.apply(this,arguments)}function P(n){return U.apply(this,arguments)}function U(){return U=p()(o()().mark(function n(a){return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,E.request)("/api/app/site/delete-domain",{method:"POST",data:a}));case 1:case"end":return r.stop()}},n)})),U.apply(this,arguments)}function z(n){return x.apply(this,arguments)}function x(){return x=p()(o()().mark(function n(a){return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,E.request)("/api/app/site/get-domain-detail",{method:"POST",data:a}));case 1:case"end":return r.stop()}},n)})),x.apply(this,arguments)}function re(n){return ue.apply(this,arguments)}function ue(){return ue=p()(o()().mark(function n(a){return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,E.request)("/api/app/site/apply-domain-cert",{method:"POST",data:a}));case 1:case"end":return r.stop()}},n)})),ue.apply(this,arguments)}function Q(){return M.apply(this,arguments)}function M(){return M=p()(o()().mark(function n(){return o()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,E.request)("/api//app/site/restart-nginx",{method:"POST"}));case 1:case"end":return d.stop()}},n)})),M.apply(this,arguments)}var de=e(184),ae=e(5966),ie=e(62370),H=e(52688),le=e(42075),se=e(66309),Fe=e(34041),oe=e(71230),V=e(15746),Pe=e(25449),m=e(67294),xe=e(54964),t=e(85893),De=(0,m.forwardRef)(function(n,a){var d=(0,m.useContext)(G.Z),r=d.notice,h=d.message,c=d.lang,s=(0,E.useModel)("subscriber"),g=(0,m.useRef)(),C=(0,m.useState)(),u=A()(C,2),f=u[0],$=u[1],v=(0,m.useState)(!1),i=A()(v,2),K=i[0],F=i[1],w=(0,m.useRef)();return s.addDataHandler("domain:apply",function(Z){var R;(R=w.current)===null||R===void 0||R.write(Z.data)}),(0,m.useImperativeHandle)(a,function(){return{apply:function(R){var D,b,W;if(R.length==0)return r.error("\u8BF7\u5148\u5728\u57DF\u540D\u5217\u8868\u52FE\u9009\u5F85\u7533\u8BF7\u7684\u57DF\u540D\uFF0C\u591A\u4E2A\u57DF\u540D\u53EF\u4EE5\u5171\u7528\u540C\u4E00\u5F20\u8BC1\u4E66"),!1;(D=g.current)===null||D===void 0||D.setFieldsValue({email:(b=localStorage.getItem("email"))!==null&&b!==void 0?b:""}),(W=w.current)===null||W===void 0||W.clear(),$(R),F(!0)}}}),(0,t.jsxs)(de.a,{drawerProps:{forceRender:!0},formRef:g,open:K,onOpenChange:function(R){F(R)},onFinish:function(){var Z=p()(o()().mark(function R(D){var b,W;return o()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return localStorage.setItem("email",D.email),Y.next=3,re({id:f?f.map(function(y){return y.id}):[],email:D.email,certServer:D.certServer,autoUpgrade:D.autoUpgrade,renew:D.renew,debug:D.debug});case 3:return W=Y.sent,W.data=="success"&&setTimeout(p()(o()().mark(function y(){var et;return o()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,Q();case 2:et=te.sent;case 3:case"end":return te.stop()}},y)})),5e3),(b=g.current)===null||b===void 0||b.resetFields(),n.onFinish&&n.onFinish(),Y.abrupt("return",!0);case 8:case"end":return Y.stop()}},R)}));return function(R){return Z.apply(this,arguments)}}(),children:[(0,t.jsx)(Pe.Z,{label:"\u57DF\u540D\u5217\u8868",name:"serverName",children:(0,t.jsx)(le.Z,{children:f==null?void 0:f.map(function(Z){return(0,t.jsx)(se.Z,{children:Z.serverName},Z.id)})})}),(0,t.jsx)(ae.Z,{label:"\u90AE\u7BB1",name:"email",placeholder:"\u8BF7\u8F93\u5165\u7533\u8BF7\u7684\u90AE\u7BB1"}),(0,t.jsx)(ie.Z,{label:"\u7B7E\u53D1\u670D\u52A1",name:"certServer",initialValue:"letsencrypt",children:(0,t.jsx)(Fe.Z,{options:[{value:"letsencrypt",label:"Let's Encrypt"},{value:"zerossl",label:"ZeroSSL"}]})}),(0,t.jsxs)(oe.Z,{gutter:[20,10],children:[(0,t.jsx)(V.Z,{children:(0,t.jsx)(H.Z,{label:"\u81EA\u52A8\u7EED\u7B7E",name:"autoUpgrade",initialValue:!0})}),(0,t.jsx)(V.Z,{children:(0,t.jsx)(H.Z,{tooltip:"\u901A\u5E38\u60C5\u51B5\u7CFB\u7EDF\u4F1A\u81EA\u52A8\u7EED\u7B7E\uFF0C\u4F60\u4E5F\u53EF\u4EE5\u5F00\u542F\u6B64\u9879\u5F3A\u5236\u7EED\u7B7E",label:"\u7ACB\u5373\u7EED\u7B7E",name:"renew",initialValue:!1})}),(0,t.jsx)(V.Z,{children:(0,t.jsx)(H.Z,{tooltip:"\u663E\u793A\u5B8C\u6574\u7684\u9519\u8BEF\u4FE1\u606F\uFF0C\u65B9\u4FBF\u6392\u67E5",label:"Debug",name:"debug",initialValue:!1})}),(0,t.jsx)(V.Z,{})]}),(0,t.jsx)(xe.Z,{showInModal:!0,width:"100%",height:"300px",style:{fontSize:12},ref:w})]})}),ye=De,Be=e(31199),L=e(1413),_=e(45987),q=e(66758),ee=e(44756),Ae=["proFieldProps","fieldProps"],ce="date",Re=m.forwardRef(function(n,a){var d=n.proFieldProps,r=n.fieldProps,h=(0,_.Z)(n,Ae),c=(0,m.useContext)(q.Z);return(0,t.jsx)(ee.Z,(0,L.Z)({ref:a,valueType:ce,fieldProps:(0,L.Z)({getPopupContainer:c.getPopupContainer},r),proFieldProps:d,filedConfig:{valueType:ce,customLightMode:!0}},h))}),Se=Re,Ze=["proFieldProps","fieldProps"],fe="dateMonth",Te=m.forwardRef(function(n,a){var d=n.proFieldProps,r=n.fieldProps,h=(0,_.Z)(n,Ze),c=(0,m.useContext)(q.Z);return(0,t.jsx)(ee.Z,(0,L.Z)({ref:a,valueType:fe,fieldProps:(0,L.Z)({getPopupContainer:c.getPopupContainer},r),proFieldProps:d,filedConfig:{valueType:fe,customLightMode:!0}},h))}),je=Te,we=["fieldProps"],me="dateQuarter",be=m.forwardRef(function(n,a){var d=n.fieldProps,r=(0,_.Z)(n,we),h=(0,m.useContext)(q.Z);return(0,t.jsx)(ee.Z,(0,L.Z)({ref:a,valueType:me,fieldProps:(0,L.Z)({getPopupContainer:h.getPopupContainer},d),filedConfig:{valueType:me,customLightMode:!0}},r))}),Ie=be,Oe=["proFieldProps","fieldProps"],ve="dateWeek",Me=m.forwardRef(function(n,a){var d=n.proFieldProps,r=n.fieldProps,h=(0,_.Z)(n,Oe),c=(0,m.useContext)(q.Z);return(0,t.jsx)(ee.Z,(0,L.Z)({ref:a,valueType:ve,fieldProps:(0,L.Z)({getPopupContainer:c.getPopupContainer},r),proFieldProps:d,filedConfig:{valueType:ve,customLightMode:!0}},h))}),Le=Me,$e=["proFieldProps","fieldProps"],pe="dateYear",Ke=m.forwardRef(function(n,a){var d=n.proFieldProps,r=n.fieldProps,h=(0,_.Z)(n,$e),c=(0,m.useContext)(q.Z);return(0,t.jsx)(ee.Z,(0,L.Z)({ref:a,valueType:pe,fieldProps:(0,L.Z)({getPopupContainer:c.getPopupContainer},r),proFieldProps:d,filedConfig:{valueType:pe,customLightMode:!0}},h))}),We=Ke,J=Se;J.Week=Le,J.Month=je,J.Quarter=Ie,J.Year=We,J.displayName="ProFormComponent";var Ne=J,he=e(90672),Ee=e(95089),ge=e(28036),ke=e(92398),Ue=e(38925),ze=(0,m.forwardRef)(function(n,a){var d=(0,m.useState)(!1),r=A()(d,2),h=r[0],c=r[1],s=(0,m.useRef)(),g=(0,m.useState)(),C=A()(g,2),u=C[0],f=C[1];return(0,m.useImperativeHandle)(a,function(){return{showEdit:function(v){z({id:v.id}).then(function(i){var K;if((K=s.current)===null||K===void 0||K.setFieldsValue({serverName:v.serverName,port:v.setting.port,enableBlockCommonExploits:v.setting.enableBlockCommonExploits,enableAssetCache:v.setting.enableAssetCache,enableWs:v.setting.enableWs,extraNginx:v.setting.extraNginx,vhost:i.data.vhost,sslCrt:i.data.domain.setting.sslCrt,sslKey:i.data.domain.setting.sslKey,hostname:i.data.domain.setting.serverAddress}),v.setting.sslCrtRenewTime){var F;(F=s.current)===null||F===void 0||F.setFieldValue("sslCrtRenewTime",i.data.domain.setting.sslCrtRenewTime)}f(i.data),c(!0)})}}}),(0,t.jsx)(de.a,{drawerProps:{forceRender:!0},open:h,onOpenChange:function(v){c(v)},title:"\u57DF\u540D\u7BA1\u7406",trigger:(0,t.jsx)(ge.ZP,{onClick:function(){var v;f(void 0),(v=s.current)===null||v===void 0||v.resetFields()},type:"primary",children:"\u7ED1\u5B9A\u57DF\u540D"}),formRef:s,onFinish:function(){var $=p()(o()().mark(function v(i){var K,F,w,Z,R,D,b,W,Ce;return o()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(!(u&&(u==null?void 0:u.domain.id)>0)){y.next=6;break}return y.next=3,N({id:u==null?void 0:u.domain.id,port:i.port,enableBlockCommonExploits:i.enableBlockCommonExploits,enableAssetCache:i.enableAssetCache,enableWs:i.enableWs,extraNginx:i.extraNginx,sslCrt:(F=i.sslCrt)!==null&&F!==void 0?F:"",sslKey:(w=i.sslKey)!==null&&w!==void 0?w:"",sslCrtRenewTime:(Z=i.sslCrtRenewTime)!==null&&Z!==void 0?Z:"",hostname:i.hostname});case 3:R=y.sent,y.next=9;break;case 6:return y.next=8,S({containerId:n.containerId,serverName:i.serverName,hostname:i.hostname,port:i.port,enableBlockCommonExploits:i.enableBlockCommonExploits,enableAssetCache:i.enableAssetCache,enableWs:i.enableWs,extraNginx:i.extraNginx,sslCrt:(D=i.sslCrt)!==null&&D!==void 0?D:"",sslKey:(b=i.sslKey)!==null&&b!==void 0?b:"",sslCrtRenewTime:(W=i.sslCrtRenewTime)!==null&&W!==void 0?W:""});case 8:Ce=y.sent;case 9:return(K=s.current)===null||K===void 0||K.resetFields(),n.onFinish(),y.abrupt("return",!0);case 12:case"end":return y.stop()}},v)}));return function(v){return $.apply(this,arguments)}}(),children:(0,t.jsx)(ke.Z,{items:[{key:"1",label:"\u914D\u7F6E\u57DF\u540D",children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ae.Z,{width:"lg",label:"\u57DF\u540D",tooltip:"\u6307\u5B9A\u8981\u7ED1\u5B9A\u7684\u57DF\u540D,\u5E76\u5C06\u8BE5\u57DF\u540D\u89E3\u6790\u5230\u5F53\u524D\u670D\u52A1\u5668",name:"serverName",placeholder:"\u8BF7\u6307\u5B9A\u8981\u7ED1\u5B9A\u7684\u57DF\u540D\uFF0C\u4F8B\u5982 www.explame.com, test.explame.com",rules:[{required:!0}],disabled:u&&u.domain.id>0}),(0,t.jsx)(ae.Z,{width:"lg",label:"\u8F6C\u53D1Ip\u6216\u662F\u5BB9\u5668",tooltip:"\u914D\u7F6E\u9700\u8981\u8F6C\u53D1\u7684\u5BB9\u5668\u6216\u662FIp\uFF0C\u7559\u7A7A\u4E3A\u5F53\u524D\u5BB9\u5668",name:"hostname",placeholder:"\u6307\u5B9A\u5BB9\u5668\u540D\u79F0\u6216\u662FIp\uFF0C\u9ED8\u8BA4\u4E3A\u5F53\u524D\u5BB9\u5668"}),(0,t.jsx)(Be.Z,{label:"\u5BB9\u5668\u5185\u7684\u7AEF\u53E3",name:"port",placeholder:"\u8F6C\u53D1\u5230\u76EE\u6807\u5BB9\u5668\u4E2D\u7684\u7AEF\u53E3\uFF0C\u4E00\u822C\u4E3A80",required:!0,rules:[{required:!0}]}),(0,t.jsxs)(oe.Z,{children:[(0,t.jsx)(V.Z,{span:12,children:(0,t.jsx)(H.Z,{label:"\u963B\u6B62\u5E38\u89C1\u6F0F\u6D1E\u5229\u7528",name:"enableBlockCommonExploits"})}),(0,t.jsx)(V.Z,{children:(0,t.jsx)(H.Z,{width:"md",label:"\u9759\u6001\u8D44\u6E90\u7F13\u5B58",name:"enableAssetCache"})})]}),(0,t.jsx)(oe.Z,{children:(0,t.jsx)(V.Z,{span:12,children:(0,t.jsx)(H.Z,{label:"\u652F\u6301 Websocket",name:"enableWs",initialValue:!0})})}),(0,t.jsx)(ie.Z,{name:"extraNginx",label:"\u81EA\u5B9A\u4E49\u6269\u5C55\u914D\u7F6E",tooltip:"\u81EA\u5B9A\u4E49\u6269\u5C55\u7F51\u7AD9 Vhost \u914D\u7F6E\u5185\u5BB9",children:(0,t.jsx)(Ee.ZP,{height:"300px",theme:"dark",style:{backgroundColor:"#282c34"}})})]})},{key:"2",label:"SSL",children:(0,t.jsxs)(t.Fragment,{children:[u&&u.domain.setting.autoSsl&&(0,t.jsx)(Ue.Z,{message:"\u5F53\u524D\u8BC1\u4E66\u4E3A\u81EA\u52A8\u7B7E\u53D1\uFF0C\u8BF7\u52FF\u4FEE\u6539\u3002\u8BC1\u4E66\u8DEF\u5F84\u4E3A\uFF1A/dpanel/cert \u76EE\u5F55",style:{margin:"15px 0"}}),(0,t.jsx)(Ne,{label:"\u8BC1\u4E66\u5230\u671F\u65F6\u95F4",name:"sslCrtRenewTime",width:"lg",required:!0,disabled:u&&u.domain.setting.autoSsl}),(0,t.jsx)(he.Z,{fieldProps:{autoSize:{minRows:10}},label:"\u8BC1\u4E66\u5185\u5BB9 .crt ",name:"sslCrt",tooltip:"1.\u901A\u5E38\u8BC1\u4E66\u662F\u4EE5 .crt \u6216 .pem \u7B49\u4E3A\u6269\u5C55\u540D\u7684\u6587\u4EF6\uFF0C\u8BF7\u4F7F\u7528\u76F8\u5E94\u6587\u672C\u7F16\u8F91\u5668\u6253\u5F00\u8BC1\u4E66\u6587\u4EF6\u3002 2.\u8BC1\u4E66\u683C\u5F0F\u4EE5\u201C-----BEGIN CERTIFICATE-----\u201D\u5F00\u5934\uFF0C\u4EE5\u201C-----END CERTIFICATE-----\u201D\u7ED3\u5C3E\u3002 3.\u8BC1\u4E66\u5185\u5BB9\u8BF7\u5305\u542B\u5B8C\u6574\u7684\u8BC1\u4E66\u94FE\u3002",placeholder:"-----BEGIN CERTIFICATE-----",disabled:u&&u.domain.setting.autoSsl,required:!0},"sslCrt"),(0,t.jsx)(he.Z,{fieldProps:{autoSize:{minRows:10}},label:"\u79C1\u94A5\u5185\u5BB9 .key ",name:"sslKey",tooltip:"1.\u901A\u5E38\u79C1\u94A5\u662F\u4EE5 .key \u6216 .pem \u7B49\u4E3A\u6269\u5C55\u540D\u7684\u6587\u4EF6\uFF0C\u8BF7\u4F7F\u7528\u76F8\u5E94\u6587\u672C\u7F16\u8F91\u5668\u6253\u5F00\u79C1\u94A5\u6587\u4EF6\u3002 2.\u79C1\u94A5\u683C\u5F0F\u4EE5\u201C-----BEGIN PRIVATE KEY-----\u201D\u5F00\u5934\uFF0C\u4EE5\u201C-----END PRIVATE KEY-----\u201D\u7ED3\u5C3E\u3002",placeholder:"-----BEGIN PRIVATE KEY-----",disabled:u&&u.domain.setting.autoSsl,required:!0},"sslKey")]})},{key:"3",label:"\u67E5\u770B vhost \u914D\u7F6E",children:(0,t.jsx)(ie.Z,{name:"vhost",label:" ",children:(0,t.jsx)(Ee.ZP,{height:"600px",theme:"dark",readOnly:!0,style:{backgroundColor:"#282c34"}})})}]})})}),Ve=ze,Ye=e(80821),Ge=e(67255),Qe=e(43425),He=e(10641),Je=e(96074),Xe=e(25593),_e=e(83062);function qe(){var n=(0,E.useParams)(),a=(0,m.useRef)(),d=(0,m.useRef)(),r=(0,m.useRef)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ye,{ref:r,onFinish:function(){var c,s;!((c=a.current)===null||c===void 0)&&c.reloadAndRest&&((s=a.current)===null||s===void 0||s.reloadAndRest())}}),(0,t.jsx)(He.Z,{scroll:{x:"max-content"},rowKey:"id",actionRef:a,columns:[{title:"\u57DF\u540D",dataIndex:"serverName",render:function(c,s,g,C,u){return(0,t.jsx)("a",{href:"".concat(s.setting.enableSSL?"https":"http","://").concat(s.serverName),target:"_blank",children:s.serverName})}},{title:"\u5BB9\u5668\u5185\u7AEF\u53E3",dataIndex:["setting","port"],search:!1},{title:"SSL\u8BC1\u4E66",search:!1,render:function(c,s,g,C,u){var f;return s.setting.enableSSL?(0,t.jsxs)(se.Z,{color:"success",children:["\u8BC1\u4E66\u6709\u6548\u81F3\uFF1A",new Date((f=s.setting.sslCrtRenewTime)!==null&&f!==void 0?f:"").toLocaleDateString()]}):(0,t.jsx)(se.Z,{color:"red",children:"\u5426"})}},{title:"\u521B\u5EFA\u65F6\u95F4",search:!1,width:180,ellipsis:!0,dataIndex:"createdAt",render:function(c,s,g,C,u){return new Date(s.createdAt).toLocaleString()}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:50,render:function(c,s,g,C){return(0,t.jsx)(le.Z,{split:(0,t.jsx)(Je.Z,{type:"vertical"}),children:(0,t.jsx)(Xe.Z.Link,{onClick:function(){var f;return(f=d.current)===null||f===void 0||f.showEdit(s),!0},children:(0,t.jsx)(_e.Z,{title:"\u7BA1\u7406\u57DF\u540D",children:(0,t.jsx)(Qe.Z,{})})})})}}],request:function(){var h=p()(o()().mark(function c(s,g,C){var u,f,$,v,i;return o()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,X({containerId:(u=(f=n.id)!==null&&f!==void 0?f:"")!==null&&u!==void 0?u:"",pageSize:($=s.pageSize)!==null&&$!==void 0?$:10,page:(v=s.current)!==null&&v!==void 0?v:1,serverName:s.serverName,port:s.port});case 2:return i=F.sent,F.abrupt("return",{data:i.data.list.map(function(w){return w.setting||(w.setting={autoSsl:!1}),w}),success:!0,total:i.data.list.length});case 4:case"end":return F.stop()}},c)}));return function(c,s,g){return h.apply(this,arguments)}}(),toolBarRender:function(){var c;return[(0,t.jsx)(Ve,{ref:d,containerId:(c=n.id)!==null&&c!==void 0?c:"",onFinish:function(){var g,C;!((g=a.current)===null||g===void 0)&&g.reloadAndRest&&((C=a.current)===null||C===void 0||C.reloadAndRest())}})]},rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},tableAlertOptionRender:function(c){var s=c.selectedRowKeys,g=c.selectedRows;return(0,t.jsxs)(le.Z,{size:16,children:[(0,t.jsx)(Ye.Z,{danger:!0,type:"primary",action:function(){return P({id:s})},onSuccess:function(){var u,f;return!((u=a.current)===null||u===void 0)&&u.reloadAndRest&&((f=a.current)===null||f===void 0||f.reloadAndRest()),!0},onError:function(){var u,f;return!((u=a.current)===null||u===void 0)&&u.reset&&((f=a.current)===null||f===void 0||f.reset()),!0},messageSuccess:"delete",children:"\u6279\u91CF\u5220\u9664"}),(0,t.jsx)(ge.ZP,{onClick:function(){var u;(u=r.current)===null||u===void 0||u.apply(g)},children:"\u514D\u8D39\u8BC1\u4E66"})]})},pagination:(0,Ge.O)()})]})}},67255:function(ne,T,e){e.d(T,{O:function(){return I},j:function(){return o}});function I(){var B,p=parseInt((B=localStorage.getItem("dpanel-pagesize"))!==null&&B!==void 0?B:"0");return{showSizeChanger:!0,defaultPageSize:p!=null?p:20}}function o(B){var p="dpanel-table-column-".concat(B),j={};if(localStorage.getItem(p)){var A;j=JSON.parse((A=localStorage.getItem(p))!==null&&A!==void 0?A:"{}")}return{defaultValue:j,onChange:function(E){localStorage.setItem("dpanel-table-column-".concat(B),JSON.stringify(E))}}}}}]);
