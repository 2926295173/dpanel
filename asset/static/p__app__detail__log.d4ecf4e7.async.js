(self.webpackChunk=self.webpackChunk||[]).push([[8615],{23430:function(w,R,e){"use strict";e.d(R,{Z:function(){return _}});var l=e(87462),a=e(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},m=D,f=e(84089),L=function(g,t){return a.createElement(f.Z,(0,l.Z)({},g,{ref:t,icon:m}))},h=a.forwardRef(L),_=h},52688:function(w,R,e){"use strict";var l=e(1413),a=e(45987),D=e(67294),m=e(30506),f=e(85893),L=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],h=D.forwardRef(function(_,M){var g=_.fieldProps,t=_.unCheckedChildren,n=_.checkedChildren,p=_.proFieldProps,i=(0,a.Z)(_,L);return(0,f.jsx)(m.Z,(0,l.Z)({valueType:"switch",fieldProps:(0,l.Z)({unCheckedChildren:t,checkedChildren:n},g),ref:M,valuePropName:"checked",proFieldProps:p,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},i))});R.Z=h},80821:function(w,R,e){"use strict";e.d(R,{Z:function(){return t}});var l=e(5574),a=e.n(l),D=e(93246),m=e(54006),f=e(31418),L=e(86738),h=e(14726),_=e(83062),M=e(67294),g=e(85893);function t(n){var p=(0,M.useState)(!1),i=a()(p,2),E=i[0],A=i[1],W=f.Z.useApp(),v=(0,m.useIntl)(),O=function(){A(!0),n.action().then(function(o){if(A(!1),typeof n.onSuccess=="function"&&n.onSuccess(o),n.messageSuccess){var d="";typeof n.messageSuccess=="function"?d=n.messageSuccess(o):d=n.messageSuccess,d.indexOf(".")>-1&&(d=v.formatMessage({id:d})),n.asynced?(0,D.Rk)(W,d):(0,D.$h)(W,d)}}).catch(function(o){A(!1),typeof n.onError=="function"&&n.onError(o)})};return n.confirm?(0,g.jsx)(L.Z,{style:{width:500},title:"\u63D0\u793A",description:n.confirm,onConfirm:O,okText:"Yes",cancelText:"No",children:(0,g.jsx)(h.ZP,{disabled:n.disabled,icon:n.icon,loading:E,danger:n.danger,type:n.type,children:n.children})}):(0,g.jsx)(_.Z,{title:n.tips,children:(0,g.jsx)(h.ZP,{disabled:n.disabled,icon:n.icon,loading:E,onClick:O,danger:n.danger,type:n.type,children:n.children})})}},54964:function(w,R,e){"use strict";var l=e(78267),a=e.n(l),D=e(67294),m=e(12320),f=e.n(m),L=e(89629),h=e(85893),_=new m.Terminal({convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,cursorStyle:"block",cursorBlink:!0,theme:{foreground:"#dddddd",cursor:"gray"}}),M=new l.FitAddon,g=(0,D.forwardRef)(function(t,n){return(0,D.useEffect)(function(){_.loadAddon(M),_.open(document.getElementById("terminal-container")),M.fit()},[]),(0,D.useImperativeHandle)(n,function(){return{write:function(i){_.write(i)},clear:function(){_.clear()},getTerminal:function(){return _}}}),(0,h.jsx)("div",{id:"terminal-container",style:{width:t.width?t.width:"100%",height:t.height?t.height:"500px"}})});R.Z=g},2742:function(w,R,e){"use strict";e.r(R),e.d(R,{default:function(){return r}});var l=e(15009),a=e.n(l),D=e(99289),m=e.n(D),f=e(5574),L=e.n(f),h=e(62597),_=e(38345),M=e(97269),g=e(62370),t=e(52688),n=e(54006),p=e(67294),i=e(71230),E=e(15746),A=e(34041),W=e(54964),v=e(80821),O=e(23430),T=e(93162),o=e.n(T),d=e(60335),u=e(85893),B;function r(){var H=(0,p.useState)("100"),G=L()(H,2),s=G[0],P=G[1],y=(0,n.useParams)(),c=(0,p.useRef)(),C=function(){var x=m()(a()().mark(function b(){var j,I,U,F,Z;return a()().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(!y.id){$.next=7;break}return $.next=3,(0,h.Tb)({md5:(j=y.id)!==null&&j!==void 0?j:"",lineTotal:parseInt(s)});case 3:Z=$.sent,(I=c.current)===null||I===void 0||I.clear(),(U=c.current)===null||U===void 0||U.write(Z.data.log),(F=c.current)===null||F===void 0||F.getTerminal().scrollLines(999999);case 7:case"end":return $.stop()}},b)}));return function(){return x.apply(this,arguments)}}();return(0,p.useEffect)(function(){C()},[s]),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(_.Z,{direction:"column",gutter:[0,10],children:[(0,u.jsx)(M.A,{submitter:!1,layout:"horizontal",onValuesChange:function(b,j){if(P(j.lineTotal),j.autoPull){var I=function U(){B=setTimeout(function(){C(),U()},2e3)};I()}else clearInterval(B)},children:(0,u.jsxs)(i.Z,{gutter:[20,0],children:[(0,u.jsx)(E.Z,{span:8,children:(0,u.jsx)(g.Z,{name:"lineTotal",initialValue:"100",label:"\u83B7\u53D6\u65E5\u5FD7\u6761\u6570",children:(0,u.jsxs)(A.Z,{defaultValue:"100",children:[(0,u.jsx)(A.Z.Option,{value:"50",children:"50\u6761\u65E5\u5FD7\u6570\u636E"}),(0,u.jsx)(A.Z.Option,{value:"100",children:"100\u6761\u65E5\u5FD7\u6570\u636E"}),(0,u.jsx)(A.Z.Option,{value:"200",children:"200\u6761\u65E5\u5FD7\u6570\u636E"}),(0,u.jsx)(A.Z.Option,{value:"500",children:"500\u6761\u65E5\u5FD7\u6570\u636E"}),(0,u.jsx)(A.Z.Option,{value:"1000",children:"1000\u6761\u65E5\u5FD7\u6570\u636E"})]})})}),(0,u.jsx)(E.Z,{children:(0,u.jsx)(t.Z,{label:"\u81EA\u52A8\u5237\u65B0",name:"autoPull"})}),(0,u.jsx)(E.Z,{children:(0,u.jsx)(v.Z,{icon:(0,u.jsx)(O.Z,{}),action:function(){var b;return(0,h.XH)({md5:(b=y.id)!==null&&b!==void 0?b:"",lineTotal:parseInt(s)})},onSuccess:function(b){var j;(0,d.jV)({md5:(j=y.id)!==null&&j!==void 0?j:""}).then(function(I){var U=new Blob([b],{type:"text/plain"});(0,T.saveAs)(U,I.data.info.Name.replaceAll("/","")+"_"+new Date().toLocaleDateString()+".log")})},messageSuccess:"\u5BFC\u51FA\u6210\u529F",children:"\u4E0B\u8F7D\u65E5\u5FD7"})})]})}),(0,u.jsx)(W.Z,{ref:c,height:"580px"})]})})}},62597:function(w,R,e){"use strict";e.d(R,{$G:function(){return L},Ct:function(){return A},Tb:function(){return g},XH:function(){return n},cl:function(){return _},iE:function(){return i},lK:function(){return T},xb:function(){return v}});var l=e(15009),a=e.n(l),D=e(99289),m=e.n(D),f=e(54006);function L(d){return h.apply(this,arguments)}function h(){return h=m()(a()().mark(function d(u){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,f.request)("/api/app/site/create-by-image",{method:"POST",data:u}));case 1:case"end":return r.stop()}},d)})),h.apply(this,arguments)}function _(d){return M.apply(this,arguments)}function M(){return M=m()(a()().mark(function d(u){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,f.request)("/api/app/site/get-list",{method:"POST",data:u}));case 1:case"end":return r.stop()}},d)})),M.apply(this,arguments)}function g(d){return t.apply(this,arguments)}function t(){return t=m()(a()().mark(function d(u){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u.download=!1,r.next=3,(0,f.request)("/api/app/log/run",{method:"POST",data:u});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},d)})),t.apply(this,arguments)}function n(d){return p.apply(this,arguments)}function p(){return p=m()(a()().mark(function d(u){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u.download=!0,r.next=3,(0,f.request)("/api/app/log/run",{method:"POST",data:u,responseType:"blob"});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},d)})),p.apply(this,arguments)}function i(d){return E.apply(this,arguments)}function E(){return E=m()(a()().mark(function d(u){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.request)("/api/app/site/get-detail",{data:u,method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},d)})),E.apply(this,arguments)}function A(d){return W.apply(this,arguments)}function W(){return W=m()(a()().mark(function d(u){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,f.request)("/api/app/container/delete",{method:"POST",data:u}));case 1:case"end":return r.stop()}},d)})),W.apply(this,arguments)}function v(d){return O.apply(this,arguments)}function O(){return O=m()(a()().mark(function d(u){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,f.request)("/api/app/site/delete",{method:"POST",data:u}));case 1:case"end":return r.stop()}},d)})),O.apply(this,arguments)}function T(d){return o.apply(this,arguments)}function o(){return o=m()(a()().mark(function d(u){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.request)("/api/app/site/update-title",{method:"POST",data:u});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},d)})),o.apply(this,arguments)}},60335:function(w,R,e){"use strict";e.d(R,{IE:function(){return _},IW:function(){return L},KK:function(){return i},LJ:function(){return A},eE:function(){return n},jV:function(){return g}});var l=e(15009),a=e.n(l),D=e(99289),m=e.n(D),f=e(54006);function L(v){return h.apply(this,arguments)}function h(){return h=m()(a()().mark(function v(O){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,f.request)("/api/app/container/status",{method:"POST",data:O}));case 1:case"end":return o.stop()}},v)})),h.apply(this,arguments)}function _(v){return M.apply(this,arguments)}function M(){return M=m()(a()().mark(function v(O){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,f.request)("/api/app/container/get-list",{data:O,method:"POST"}));case 1:case"end":return o.stop()}},v)})),M.apply(this,arguments)}function g(v){return t.apply(this,arguments)}function t(){return t=m()(a()().mark(function v(O){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,f.request)("/api/app/container/get-detail",{data:O,method:"POST"}));case 1:case"end":return o.stop()}},v)})),t.apply(this,arguments)}function n(v){return p.apply(this,arguments)}function p(){return p=m()(a()().mark(function v(O){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,f.request)("/api/app/container/update",{data:O,method:"POST"}));case 1:case"end":return o.stop()}},v)})),p.apply(this,arguments)}function i(){return E.apply(this,arguments)}function E(){return E=m()(a()().mark(function v(){return a()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",(0,f.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return T.stop()}},v)})),E.apply(this,arguments)}function A(v){return W.apply(this,arguments)}function W(){return W=m()(a()().mark(function v(O){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,f.request)("/api/app/container/export",{method:"POST",data:O,responseType:"blob"}));case 1:case"end":return o.stop()}},v)})),W.apply(this,arguments)}},86738:function(w,R,e){"use strict";e.d(R,{Z:function(){return G}});var l=e(67294),a=e(21640),D=e(93967),m=e.n(D),f=e(21770),L=e(98423),h=e(53124),_=e(55241),M=e(86743),g=e(81643),t=e(14726),n=e(33671),p=e(10110),i=e(24457),E=e(66330),A=e(83559);const W=s=>{const{componentCls:P,iconCls:y,antCls:c,zIndexPopup:C,colorText:x,colorWarning:b,marginXXS:j,marginXS:I,fontSize:U,fontWeightStrong:F,colorTextHeading:Z}=s;return{[P]:{zIndex:C,[`&${c}-popover`]:{fontSize:U},[`${P}-message`]:{marginBottom:I,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${P}-message-icon ${y}`]:{color:b,fontSize:U,lineHeight:1,marginInlineEnd:I},[`${P}-title`]:{fontWeight:F,color:Z,"&:only-child":{fontWeight:"normal"}},[`${P}-description`]:{marginTop:j,color:x}},[`${P}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:I}}}}},v=s=>{const{zIndexPopupBase:P}=s;return{zIndexPopup:P+60}};var O=(0,A.I$)("Popconfirm",s=>W(s),v,{resetStyle:!1}),T=function(s,P){var y={};for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&P.indexOf(c)<0&&(y[c]=s[c]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,c=Object.getOwnPropertySymbols(s);C<c.length;C++)P.indexOf(c[C])<0&&Object.prototype.propertyIsEnumerable.call(s,c[C])&&(y[c[C]]=s[c[C]]);return y};const o=s=>{const{prefixCls:P,okButtonProps:y,cancelButtonProps:c,title:C,description:x,cancelText:b,okText:j,okType:I="primary",icon:U=l.createElement(a.Z,null),showCancel:F=!0,close:Z,onConfirm:V,onCancel:$,onPopupClick:Y}=s,{getPrefixCls:k}=l.useContext(h.E_),[N]=(0,p.Z)("Popconfirm",i.Z.Popconfirm),z=(0,g.Z)(C),X=(0,g.Z)(x);return l.createElement("div",{className:`${P}-inner-content`,onClick:Y},l.createElement("div",{className:`${P}-message`},U&&l.createElement("span",{className:`${P}-message-icon`},U),l.createElement("div",{className:`${P}-message-text`},z&&l.createElement("div",{className:`${P}-title`},z),X&&l.createElement("div",{className:`${P}-description`},X))),l.createElement("div",{className:`${P}-buttons`},F&&l.createElement(t.ZP,Object.assign({onClick:$,size:"small"},c),b||(N==null?void 0:N.cancelText)),l.createElement(M.Z,{buttonProps:Object.assign(Object.assign({size:"small"},(0,n.nx)(I)),y),actionFn:V,close:Z,prefixCls:k("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},j||(N==null?void 0:N.okText))))};var u=s=>{const{prefixCls:P,placement:y,className:c,style:C}=s,x=T(s,["prefixCls","placement","className","style"]),{getPrefixCls:b}=l.useContext(h.E_),j=b("popconfirm",P),[I]=O(j);return I(l.createElement(E.ZP,{placement:y,className:m()(j,c),style:C,content:l.createElement(o,Object.assign({prefixCls:j},x))}))},B=function(s,P){var y={};for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&P.indexOf(c)<0&&(y[c]=s[c]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,c=Object.getOwnPropertySymbols(s);C<c.length;C++)P.indexOf(c[C])<0&&Object.prototype.propertyIsEnumerable.call(s,c[C])&&(y[c[C]]=s[c[C]]);return y};const H=l.forwardRef((s,P)=>{var y,c;const{prefixCls:C,placement:x="top",trigger:b="click",okType:j="primary",icon:I=l.createElement(a.Z,null),children:U,overlayClassName:F,onOpenChange:Z,onVisibleChange:V}=s,$=B(s,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:Y}=l.useContext(h.E_),[k,N]=(0,f.Z)(!1,{value:(y=s.open)!==null&&y!==void 0?y:s.visible,defaultValue:(c=s.defaultOpen)!==null&&c!==void 0?c:s.defaultVisible}),z=(S,K)=>{N(S,!0),V==null||V(S),Z==null||Z(S,K)},X=S=>{z(!1,S)},Q=S=>{var K;return(K=s.onConfirm)===null||K===void 0?void 0:K.call(void 0,S)},q=S=>{var K;z(!1,S),(K=s.onCancel)===null||K===void 0||K.call(void 0,S)},ee=(S,K)=>{const{disabled:re=!1}=s;re||z(S,K)},J=Y("popconfirm",C),ne=m()(J,F),[te]=O(J);return te(l.createElement(_.Z,Object.assign({},(0,L.Z)($,["title"]),{trigger:b,placement:x,onOpenChange:ee,open:k,ref:P,overlayClassName:ne,content:l.createElement(o,Object.assign({okType:j,icon:I},s,{prefixCls:J,close:X,onConfirm:Q,onCancel:q})),"data-popover-inject":!0}),U))});H._InternalPanelDoNotUseOrYouWillBeFired=u;var G=H},93162:function(w,R,e){var l,a,D;(function(m,f){a=[],l=f,D=typeof l=="function"?l.apply(R,a):l,D!==void 0&&(w.exports=D)})(this,function(){"use strict";function m(t,n){return typeof n=="undefined"?n={autoBom:!1}:typeof n!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),n={autoBom:!n}),n.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\uFEFF",t],{type:t.type}):t}function f(t,n,p){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){g(i.response,n,p)},i.onerror=function(){console.error("could not download file")},i.send()}function L(t){var n=new XMLHttpRequest;n.open("HEAD",t,!1);try{n.send()}catch(p){}return 200<=n.status&&299>=n.status}function h(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(p){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var _=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof e.g=="object"&&e.g.global===e.g?e.g:void 0,M=_.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=_.saveAs||(typeof window!="object"||window!==_?function(){}:"download"in HTMLAnchorElement.prototype&&!M?function(t,n,p){var i=_.URL||_.webkitURL,E=document.createElement("a");n=n||t.name||"download",E.download=n,E.rel="noopener",typeof t=="string"?(E.href=t,E.origin===location.origin?h(E):L(E.href)?f(t,n,p):h(E,E.target="_blank")):(E.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(E.href)},4e4),setTimeout(function(){h(E)},0))}:"msSaveOrOpenBlob"in navigator?function(t,n,p){if(n=n||t.name||"download",typeof t!="string")navigator.msSaveOrOpenBlob(m(t,p),n);else if(L(t))f(t,n,p);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){h(i)})}}:function(t,n,p,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),typeof t=="string")return f(t,n,p);var E=t.type==="application/octet-stream",A=/constructor/i.test(_.HTMLElement)||_.safari,W=/CriOS\/[\d]+/.test(navigator.userAgent);if((W||E&&A||M)&&typeof FileReader!="undefined"){var v=new FileReader;v.onloadend=function(){var o=v.result;o=W?o:o.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=o:location=o,i=null},v.readAsDataURL(t)}else{var O=_.URL||_.webkitURL,T=O.createObjectURL(t);i?i.location=T:location.href=T,i=null,setTimeout(function(){O.revokeObjectURL(T)},4e4)}});_.saveAs=g.saveAs=g,w.exports=g})}}]);
