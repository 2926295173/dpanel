"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4214],{5966:function(se,I,e){var c=e(97685),s=e(1413),y=e(45987),E=e(21770),O=e(72723),R=e(55241),M=e(97435),B=e(67294),Z=e(55855),n=e(85893),K=["fieldProps","proFieldProps"],N=["fieldProps","proFieldProps"],P="text",m=function(v){var d=v.fieldProps,$=v.proFieldProps,j=(0,y.Z)(v,K);return(0,n.jsx)(Z.Z,(0,s.Z)({valueType:P,fieldProps:d,filedConfig:{valueType:P},proFieldProps:$},j))},h=function(v){var d=(0,E.Z)(v.open||!1,{value:v.open,onChange:v.onOpenChange}),$=(0,c.Z)(d,2),j=$[0],W=$[1];return(0,n.jsx)(O.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(Y){var L,ne=Y.getFieldValue(v.name||[]);return(0,n.jsx)(R.Z,(0,s.Z)((0,s.Z)({getPopupContainer:function(S){return S&&S.parentNode?S.parentNode:S},onOpenChange:function(S){return W(S)},content:(0,n.jsxs)("div",{style:{padding:"4px 0"},children:[(L=v.statusRender)===null||L===void 0?void 0:L.call(v,ne),v.strengthText?(0,n.jsx)("div",{style:{marginTop:10},children:(0,n.jsx)("span",{children:v.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},v.popoverProps),{},{open:j,children:v.children}))}})},p=function(v){var d=v.fieldProps,$=v.proFieldProps,j=(0,y.Z)(v,N),W=(0,B.useState)(!1),H=(0,c.Z)(W,2),Y=H[0],L=H[1];return d!=null&&d.statusRender&&j.name?(0,n.jsx)(h,{name:j.name,statusRender:d==null?void 0:d.statusRender,popoverProps:d==null?void 0:d.popoverProps,strengthText:d==null?void 0:d.strengthText,open:Y,onOpenChange:L,children:(0,n.jsx)("div",{children:(0,n.jsx)(Z.Z,(0,s.Z)({valueType:"password",fieldProps:(0,s.Z)((0,s.Z)({},(0,M.Z)(d,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(te){var S;d==null||(S=d.onBlur)===null||S===void 0||S.call(d,te),L(!1)},onClick:function(te){var S;d==null||(S=d.onClick)===null||S===void 0||S.call(d,te),L(!0)}}),proFieldProps:$,filedConfig:{valueType:P}},j))})}):(0,n.jsx)(Z.Z,(0,s.Z)({valueType:"password",fieldProps:d,proFieldProps:$,filedConfig:{valueType:P}},j))},l=m;l.Password=p,l.displayName="ProFormComponent",I.Z=l},80821:function(se,I,e){e.d(I,{Z:function(){return Z}});var c=e(5574),s=e.n(c),y=e(24963),E=e(86738),O=e(14726),R=e(83062),M=e(67294),B=e(85893);function Z(n){var K=(0,M.useState)(!1),N=s()(K,2),P=N[0],m=N[1],h=(0,M.useContext)(y.Z),p=h.lang,l=h.notice,z=h.message,v=function(){m(!0),n.action().then(function($){if(m(!1),typeof n.onSuccess=="function"&&n.onSuccess($),n.messageSuccess){var j="";typeof n.messageSuccess=="function"?j=n.messageSuccess($):j=n.messageSuccess,j.indexOf(".")>-1&&(j=p(j)),n.asynced?z.info(j):z.success(j)}}).catch(function($){m(!1),typeof n.onError=="function"&&n.onError($)})};return n.confirm?(0,B.jsx)(E.Z,{style:{width:500},title:n.confirmTitle?n.confirmTitle:p("notification.title.tip"),description:n.confirm,onConfirm:v,okText:"Yes",cancelText:"No",children:(0,B.jsx)(O.ZP,{disabled:n.disabled,icon:n.icon,loading:P,danger:n.danger,type:n.type,children:n.children})}):(0,B.jsx)(R.Z,{title:n.tips,children:(0,B.jsx)(O.ZP,{disabled:n.disabled,icon:n.icon,loading:P,onClick:v,danger:n.danger,type:n.type,children:n.children})})}},96042:function(se,I,e){e.d(I,{Z:function(){return Z}});var c=e(97857),s=e.n(c),y=e(5574),E=e.n(y),O=e(75870),R=e(34041),M=e(67294),B=e(85893);function Z(n){var K=(0,M.useState)([]),N=E()(K,2),P=N[0],m=N[1];(0,M.useEffect)(function(){(0,O.Ot)().then(function(p){console.log(p),p&&m(p.data.list)})},[]);var h={};return n.multiple&&(h.mode="multiple"),n.top&&(h.placement="topLeft"),(0,B.jsx)(R.Z,s()({onChange:function(l){if(Array.isArray(l)){var z=l.map(function(v){return P[v]});n.onChangeList&&n.onChangeList(z)}else n.onChange&&n.onChange(P[l])},placeholder:"\u9009\u62E9\u955C\u50CF\u4ED3\u5E93\uFF0C\u672C\u5730\u4F7F\u7528\u7559\u7A7A\u5373\u53EF",options:P.map(function(p,l){return{value:l,label:p.title+"("+p.serverAddress+")"}})},h))}},24963:function(se,I,e){var c=e(67294),s=(0,c.createContext)({});I.Z=s},31810:function(se,I,e){e.r(I),e.d(I,{default:function(){return Q}});var c=e(15009),s=e.n(c),y=e(99289),E=e.n(y),O=e(5574),R=e.n(O),M=e(90078),B=e(10641),Z=e(37476),n=e(62370),K=e(5966),N=e(31418),P=e(14726),m=e(25593),h=e(42075),p=e(66309),l=e(96074),z=e(83062),v=e(72723),d=e(65233),$=e(84567),j=e(50136),W=e(67294),H=e(54006),Y=e(18148),L=e(5251),ne=e(80821),te=e(43425),S=e(87462),me=e(3803),ge=e(84089),t=function(G,re){return W.createElement(ge.Z,(0,S.Z)({},G,{ref:re,icon:me.Z}))},f=W.forwardRef(t),_=f,o=e(28307),i=e(96042),V=e(67255),A=e(24963),r=e(85893);function Q(){var w=(0,W.useContext)(A.Z),G=w.message,re=w.notice,ae=w.lang,T=(0,W.useRef)(),ce=(0,W.useState)({force:!1}),X=R()(ce,2),de=X[0],ue=X[1],Ce=N.Z.useApp(),ve=(0,W.useState)(1),fe=R()(ve,2),ie=fe[0],he=fe[1],U=(0,W.useRef)();return(0,W.useEffect)(function(){var b;(b=T.current)===null||b===void 0||b.reload()},[ie]),(0,r.jsx)(M._z,{header:{extra:[(0,r.jsx)(H.Link,{to:"/image/create",children:(0,r.jsx)(P.ZP,{type:"primary",children:"\u521B\u5EFA&\u5BFC\u5165\u955C\u50CF"},"create")}),(0,r.jsx)(o.Z,{onFinish:function(){var C,a;!((C=T.current)===null||C===void 0)&&C.reloadAndRest&&((a=T.current)===null||a===void 0||a.reloadAndRest())}},"remote")]},children:(0,r.jsx)(B.Z,{scroll:{x:"max-content"},rowKey:"Id",columns:[{title:"\u540D\u79F0",dataIndex:"title",render:function(C,a,D,F,u){var g=a.Id.substring(7,19);return a.Title&&(g=a.Title),(0,r.jsx)(m.Z.Text,{editable:{tooltip:"\u4FEE\u6539\u955C\u50CF\u5907\u6CE8\u540D\u79F0",onChange:function(){var x=E()(s()().mark(function q(J){var ee;return s()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.next=2,(0,Y.Fj)({tag:a.RepoTags[0],title:J});case 2:ee=le.sent,he(ie+1),G.success("\u4FEE\u6539\u955C\u50CF\u540D\u79F0\u6210\u529F");case 5:case"end":return le.stop()}},q)}));function k(q){return x.apply(this,arguments)}return k}()},children:(0,r.jsx)(H.Link,{to:"/image/detail/"+a.Id,children:g},"edit")},"title-".concat(D))}},{title:"Tag",dataIndex:"tag",render:function(C,a,D,F){return(0,r.jsx)(h.Z,{direction:"vertical",style:{textAlign:"left"},children:a.RepoTags.map(function(u,g){return(0,r.jsxs)(h.Z,{children:[(0,r.jsx)(p.Z,{color:"#2db7f5",children:(0,r.jsx)(m.Z.Text,{copyable:!0,style:{color:"#ffffff",maxWidth:"300px"},ellipsis:!0,title:u,children:u},g)},g),a.Containers>0&&(0,r.jsx)(p.Z,{color:"cyan",children:"\u4F7F\u7528\u4E2D"},"use-".concat(g))]},g)})},a.Id)}},{title:"\u67B6\u6784",width:80,render:function(C,a,D,F,u){if(a.Labels&&a.Labels["com.dpanel.image.arch"])return(0,r.jsx)(p.Z,{children:a.Labels["com.dpanel.image.arch"]},"arch"+a.Id)}},{title:"\u5C3A\u5BF8",dataIndex:"size",ellipsis:!0,width:"120px",search:!1,sorter:function(C,a){return parseFloat(C.Size)-parseFloat(a.Size)},render:function(C,a,D,F){return(0,r.jsx)("div",{children:(0,L.FI)(parseFloat(a.Size))},a.Id)}},{title:"\u521B\u5EFA\u65E5\u671F",dataIndex:"Created",ellipsis:!0,search:!1,width:"180px",render:function(C,a,D,F){return(0,r.jsx)("div",{children:(0,L.ZM)(a.Created*1e3)},a.Id)},sorter:function(C,a){return C.Created-a.Created}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:"150px",render:function(C,a,D,F){return(0,r.jsxs)(h.Z,{split:(0,r.jsx)(l.Z,{type:"vertical"}),children:[(0,r.jsx)(H.Link,{to:"/image/detail/"+a.Id,children:(0,r.jsx)(z.Z,{title:"\u7BA1\u7406",children:(0,r.jsx)(te.Z,{})})},"edit"),(0,r.jsx)(H.Link,{to:"/app/create/image?imageId="+a.RepoTags[0],children:(0,r.jsx)(z.Z,{title:"\u521B\u5EFA\u5BB9\u5668",children:(0,r.jsx)(_,{})})},"create")]})}}],request:function(){var b=E()(s()().mark(function C(a,D,F){var u;return s()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,(0,Y.KG)({tag:a.tag,title:a.title});case 2:if(u=x.sent,!(!u||!u.data||!u.data.list)){x.next=5;break}return x.abrupt("return",{data:[],success:!0,total:0});case 5:return u.data.list.map(function(k){var q="";k.RepoTags.map(function(J){u.data.title[J]&&(q=u.data.title[J])}),k.Title=q}),x.abrupt("return",{data:u.data.list,success:!0,total:u.data.list.length});case 7:case"end":return x.stop()}},C)}));return function(C,a,D){return b.apply(this,arguments)}}(),pagination:(0,V.O)(),search:{collapsed:!1},rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},actionRef:T,tableAlertOptionRender:function(C){var a=C.selectedRowKeys,D=C.selectedRows;return(0,r.jsxs)(h.Z,{size:16,children:[(0,r.jsxs)(Z.Y,{formRef:U,title:"\u6279\u91CF\u63A8\u9001\u955C\u50CF",trigger:(0,r.jsx)(P.ZP,{children:"\u6279\u91CF\u63A8\u9001"}),onFinish:function(){var F=E()(s()().mark(function u(g){var x,k,q;return s()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.next=2,(0,Y.KX)({md5:a,registryId:g.registryId,newNamespace:g.newNamespace});case 2:return q=ee.sent,(x=T.current)===null||x===void 0||x.reload(),!((k=T.current)===null||k===void 0)&&k.clearSelected&&T.current.clearSelected(),ee.abrupt("return",!0);case 6:case"end":return ee.stop()}},u)}));return function(u){return F.apply(this,arguments)}}(),children:[(0,r.jsx)(v.Z.List,{name:"registryId",children:function(u){return u.map(function(g,x){return(0,r.jsx)(d.Z,{hidden:!0},x)})}}),(0,r.jsx)(n.Z,{label:"\u955C\u50CF\u4ED3\u5E93",name:"imageRespo",tooltip:(0,r.jsxs)(r.Fragment,{children:["\u63A8\u9001\u524D\u8BF7\u4FDD\u8BC1\u4ED3\u5E93\u4E2D\u6709\u6307\u5B9A\u7684\u547D\u540D\u7A7A\u95F4, \u5982\u6CA1\u6709\u8BF7\u5148 ",(0,r.jsx)("a",{href:"",target:"_blank",children:"\u6DFB\u52A0\u4ED3\u5E93"})]}),children:(0,r.jsx)(i.Z,{multiple:!0,top:!0,onChangeList:function(u){var g;(g=U.current)===null||g===void 0||g.setFieldValue("registryId",u.map(function(x){return x.id}))}})}),(0,r.jsx)(K.Z,{tooltip:"\u53EF\u4EE5\u901A\u8FC7\u6B64\u9879\u91CD\u65B0\u5B9A\u4E49\u547D\u540D\u7A7A\u95F4\uFF0Cdocker hub \u4E0D\u53D7\u8BE5\u914D\u7F6E\u7684\u5F71\u54CD\u3002 \u914D\u7F6E\u6B64\u9879\u540E mysql:latest \u4F1A\u63A8\u9001\u81F3 {\u547D\u540D\u7A7A\u95F4}/mysql:latest\uFF0C dpanel/dpanel:latest \u4F1A\u63A8\u9001\u81F3 {\u547D\u540D\u7A7A\u95F4}/dpanel:latest",label:"\u91CD\u5199\u975E\u5B98\u65B9\u4ED3\u5E93\u547D\u540D\u7A7A\u95F4",name:"newNamespace"})]}),(0,r.jsx)(ne.Z,{danger:!0,type:"primary",action:function(){return(0,Y.ao)({md5:a,force:de.force})},onSuccess:function(){var u,g;return!((u=T.current)===null||u===void 0)&&u.reloadAndRest&&((g=T.current)===null||g===void 0||g.reloadAndRest()),!0},onError:function(){var u,g;return!((u=T.current)===null||u===void 0)&&u.reset&&((g=T.current)===null||g===void 0||g.reset()),!0},messageSuccess:"\u5220\u9664\u6210\u529F",confirm:(0,r.jsxs)(h.Z,{style:{width:280},direction:"vertical",children:[(0,r.jsx)(m.Z.Text,{children:"\u5220\u9664\u955C\u50CF\u540E\u65E0\u6CD5\u6062\u590D,\u786E\u8BA4\u5417\uFF1F"}),(0,r.jsx)($.Z,{name:"deleteVolume",onChange:function(u){return ue({force:u.target.checked})},children:"\u5F3A\u5236\u5220\u9664\uFF1F"})]}),children:"\u6279\u91CF\u5220\u9664"})]})},tableExtraRender:function(){return(0,r.jsx)(j.Z,{mode:"horizontal",selectedKeys:["all"],items:[{label:(0,r.jsx)(H.Link,{to:"/image/list",replace:!0,children:"\u5168\u90E8\u955C\u50CF"}),key:"all"},{label:(0,r.jsx)(H.Link,{to:"/image/list/recycle",replace:!0,children:"\u6784\u5EFA\u4EFB\u52A1"}),key:"build"}]})},toolBarRender:function(){return[(0,r.jsx)(ne.Z,{action:function(){return(0,Y.c7)()},onSuccess:function(){var a,D;return!((a=T.current)===null||a===void 0)&&a.reloadAndRest&&((D=T.current)===null||D===void 0||D.reloadAndRest()),!0},onError:function(){var a,D;return!((a=T.current)===null||a===void 0)&&a.reset&&((D=T.current)===null||D===void 0||D.reset()),!0},messageSuccess:"\u6E05\u9664\u6210\u529F",confirm:"\u662F\u5426\u6E05\u7406\u672A\u4F7F\u7528\u6216\u662F\u672A\u8FD0\u884C\u7684\u955C\u50CF",children:"\u6E05\u7406\u672A\u4F7F\u7528\u955C\u50CF"})]},columnsState:(0,V.j)("image-list")})})}},75870:function(se,I,e){e.d(I,{Ot:function(){return R},ZH:function(){return B},ix:function(){return n},t1:function(){return N}});var c=e(15009),s=e.n(c),y=e(99289),E=e.n(y),O=e(54006);function R(m){return M.apply(this,arguments)}function M(){return M=E()(s()().mark(function m(h){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,O.request)("/api/common/registry/get-list",{method:"POST",data:h}));case 1:case"end":return l.stop()}},m)})),M.apply(this,arguments)}function B(m){return Z.apply(this,arguments)}function Z(){return Z=E()(s()().mark(function m(h){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,O.request)("/api/common/registry/create",{method:"POST",data:h}));case 1:case"end":return l.stop()}},m)})),Z.apply(this,arguments)}function n(m){return K.apply(this,arguments)}function K(){return K=E()(s()().mark(function m(h){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,O.request)("/api/common/registry/delete",{method:"POST",data:h}));case 1:case"end":return l.stop()}},m)})),K.apply(this,arguments)}function N(m){return P.apply(this,arguments)}function P(){return P=E()(s()().mark(function m(h){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,O.request)("/api/common/registry/get-detail",{method:"POST",data:h}));case 1:case"end":return l.stop()}},m)})),P.apply(this,arguments)}},67255:function(se,I,e){e.d(I,{O:function(){return c},j:function(){return s}});function c(){var y,E=parseInt((y=localStorage.getItem("dpanel-pagesize"))!==null&&y!==void 0?y:"0");return{showSizeChanger:!0,defaultPageSize:E!=null?E:20}}function s(y){var E="dpanel-table-column-".concat(y),O={};if(localStorage.getItem(E)){var R;O=JSON.parse((R=localStorage.getItem(E))!==null&&R!==void 0?R:"{}")}return{defaultValue:O,onChange:function(B){localStorage.setItem("dpanel-table-column-".concat(y),JSON.stringify(B))}}}},66309:function(se,I,e){e.d(I,{Z:function(){return ge}});var c=e(67294),s=e(93967),y=e.n(s),E=e(98423),O=e(98787),R=e(69760),M=e(96159),B=e(45353),Z=e(53124),n=e(11568),K=e(10274),N=e(14747),P=e(83262),m=e(83559);const h=t=>{const{paddingXXS:f,lineWidth:_,tagPaddingHorizontal:o,componentCls:i,calc:V}=t,A=V(o).sub(_).equal(),r=V(f).sub(_).equal();return{[i]:Object.assign(Object.assign({},(0,N.Wf)(t)),{display:"inline-block",height:"auto",marginInlineEnd:t.marginXS,paddingInline:A,fontSize:t.tagFontSize,lineHeight:t.tagLineHeight,whiteSpace:"nowrap",background:t.defaultBg,border:`${(0,n.bf)(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusSM,opacity:1,transition:`all ${t.motionDurationMid}`,textAlign:"start",position:"relative",[`&${i}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:t.defaultColor},[`${i}-close-icon`]:{marginInlineStart:r,fontSize:t.tagIconSize,color:t.colorTextDescription,cursor:"pointer",transition:`all ${t.motionDurationMid}`,"&:hover":{color:t.colorTextHeading}},[`&${i}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${t.iconCls}-close, ${t.iconCls}-close:hover`]:{color:t.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${i}-checkable-checked):hover`]:{color:t.colorPrimary,backgroundColor:t.colorFillSecondary},"&:active, &-checked":{color:t.colorTextLightSolid},"&-checked":{backgroundColor:t.colorPrimary,"&:hover":{backgroundColor:t.colorPrimaryHover}},"&:active":{backgroundColor:t.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${t.iconCls} + span, > span + ${t.iconCls}`]:{marginInlineStart:A}}),[`${i}-borderless`]:{borderColor:"transparent",background:t.tagBorderlessBg}}},p=t=>{const{lineWidth:f,fontSizeIcon:_,calc:o}=t,i=t.fontSizeSM;return(0,P.IX)(t,{tagFontSize:i,tagLineHeight:(0,n.bf)(o(t.lineHeightSM).mul(i).equal()),tagIconSize:o(_).sub(o(f).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:t.defaultBg})},l=t=>({defaultBg:new K.C(t.colorFillQuaternary).onBackground(t.colorBgContainer).toHexString(),defaultColor:t.colorText});var z=(0,m.I$)("Tag",t=>{const f=p(t);return h(f)},l),v=function(t,f){var _={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&f.indexOf(o)<0&&(_[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)f.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(_[o[i]]=t[o[i]]);return _},$=c.forwardRef((t,f)=>{const{prefixCls:_,style:o,className:i,checked:V,onChange:A,onClick:r}=t,Q=v(t,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:w,tag:G}=c.useContext(Z.E_),re=ue=>{A==null||A(!V),r==null||r(ue)},ae=w("tag",_),[T,ce,X]=z(ae),de=y()(ae,`${ae}-checkable`,{[`${ae}-checkable-checked`]:V},G==null?void 0:G.className,i,ce,X);return T(c.createElement("span",Object.assign({},Q,{ref:f,style:Object.assign(Object.assign({},o),G==null?void 0:G.style),className:de,onClick:re})))}),j=e(98719);const W=t=>(0,j.Z)(t,(f,_)=>{let{textColor:o,lightBorderColor:i,lightColor:V,darkColor:A}=_;return{[`${t.componentCls}${t.componentCls}-${f}`]:{color:o,background:V,borderColor:i,"&-inverse":{color:t.colorTextLightSolid,background:A,borderColor:A},[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}}});var H=(0,m.bk)(["Tag","preset"],t=>{const f=p(t);return W(f)},l);function Y(t){return typeof t!="string"?t:t.charAt(0).toUpperCase()+t.slice(1)}const L=(t,f,_)=>{const o=Y(_);return{[`${t.componentCls}${t.componentCls}-${f}`]:{color:t[`color${_}`],background:t[`color${o}Bg`],borderColor:t[`color${o}Border`],[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}}};var ne=(0,m.bk)(["Tag","status"],t=>{const f=p(t);return[L(f,"success","Success"),L(f,"processing","Info"),L(f,"error","Error"),L(f,"warning","Warning")]},l),te=function(t,f){var _={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&f.indexOf(o)<0&&(_[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)f.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(_[o[i]]=t[o[i]]);return _};const me=c.forwardRef((t,f)=>{const{prefixCls:_,className:o,rootClassName:i,style:V,children:A,icon:r,color:Q,onClose:w,bordered:G=!0,visible:re}=t,ae=te(t,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:T,direction:ce,tag:X}=c.useContext(Z.E_),[de,ue]=c.useState(!0),Ce=(0,E.Z)(ae,["closeIcon","closable"]);c.useEffect(()=>{re!==void 0&&ue(re)},[re]);const ve=(0,O.o2)(Q),fe=(0,O.yT)(Q),ie=ve||fe,he=Object.assign(Object.assign({backgroundColor:Q&&!ie?Q:void 0},X==null?void 0:X.style),V),U=T("tag",_),[b,C,a]=z(U),D=y()(U,X==null?void 0:X.className,{[`${U}-${Q}`]:ie,[`${U}-has-color`]:Q&&!ie,[`${U}-hidden`]:!de,[`${U}-rtl`]:ce==="rtl",[`${U}-borderless`]:!G},o,i,C,a),F=J=>{J.stopPropagation(),w==null||w(J),!J.defaultPrevented&&ue(!1)},[,u]=(0,R.Z)((0,R.w)(t),(0,R.w)(X),{closable:!1,closeIconRender:J=>{const ee=c.createElement("span",{className:`${U}-close-icon`,onClick:F},J);return(0,M.wm)(J,ee,oe=>({onClick:le=>{var pe;(pe=oe==null?void 0:oe.onClick)===null||pe===void 0||pe.call(oe,le),F(le)},className:y()(oe==null?void 0:oe.className,`${U}-close-icon`)}))}}),g=typeof ae.onClick=="function"||A&&A.type==="a",x=r||null,k=x?c.createElement(c.Fragment,null,x,A&&c.createElement("span",null,A)):A,q=c.createElement("span",Object.assign({},Ce,{ref:f,className:D,style:he}),k,u,ve&&c.createElement(H,{key:"preset",prefixCls:U}),fe&&c.createElement(ne,{key:"status",prefixCls:U}));return b(g?c.createElement(B.Z,{component:"Tag"},q):q)});me.CheckableTag=$;var ge=me}}]);
