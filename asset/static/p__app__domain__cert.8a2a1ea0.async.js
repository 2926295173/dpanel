(self.webpackChunk=self.webpackChunk||[]).push([[1355],{23430:function(K,U,e){"use strict";e.d(U,{Z:function(){return c}});var O=e(87462),s=e(67294),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},A=R,M=e(84089),g=function(u,n){return s.createElement(M.Z,(0,O.Z)({},u,{ref:n,icon:A}))},C=s.forwardRef(g),c=C},88484:function(K,U,e){"use strict";e.d(U,{Z:function(){return c}});var O=e(87462),s=e(67294),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},A=R,M=e(84089),g=function(u,n){return s.createElement(M.Z,(0,O.Z)({},u,{ref:n,icon:A}))},C=s.forwardRef(g),c=C},5966:function(K,U,e){"use strict";var O=e(97685),s=e(1413),R=e(45987),A=e(21770),M=e(72723),g=e(55241),C=e(97435),c=e(67294),j=e(35510),u=e(85893),n=["fieldProps","proFieldProps"],r=["fieldProps","proFieldProps"],m="text",a=function(l){var t=l.fieldProps,P=l.proFieldProps,T=(0,R.Z)(l,n);return(0,u.jsx)(j.Z,(0,s.Z)({valueType:m,fieldProps:t,filedConfig:{valueType:m},proFieldProps:P},T))},_=function(l){var t=(0,A.Z)(l.open||!1,{value:l.open,onChange:l.onOpenChange}),P=(0,O.Z)(t,2),T=P[0],I=P[1];return(0,u.jsx)(M.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(Z){var f,o=Z.getFieldValue(l.name||[]);return(0,u.jsx)(g.Z,(0,s.Z)((0,s.Z)({getPopupContainer:function(i){return i&&i.parentNode?i.parentNode:i},onOpenChange:function(i){return I(i)},content:(0,u.jsxs)("div",{style:{padding:"4px 0"},children:[(f=l.statusRender)===null||f===void 0?void 0:f.call(l,o),l.strengthText?(0,u.jsx)("div",{style:{marginTop:10},children:(0,u.jsx)("span",{children:l.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},l.popoverProps),{},{open:T,children:l.children}))}})},F=function(l){var t=l.fieldProps,P=l.proFieldProps,T=(0,R.Z)(l,r),I=(0,c.useState)(!1),S=(0,O.Z)(I,2),Z=S[0],f=S[1];return t!=null&&t.statusRender&&T.name?(0,u.jsx)(_,{name:T.name,statusRender:t==null?void 0:t.statusRender,popoverProps:t==null?void 0:t.popoverProps,strengthText:t==null?void 0:t.strengthText,open:Z,onOpenChange:f,children:(0,u.jsx)("div",{children:(0,u.jsx)(j.Z,(0,s.Z)({valueType:"password",fieldProps:(0,s.Z)((0,s.Z)({},(0,C.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(W){var i;t==null||(i=t.onBlur)===null||i===void 0||i.call(t,W),f(!1)},onClick:function(W){var i;t==null||(i=t.onClick)===null||i===void 0||i.call(t,W),f(!0)}}),proFieldProps:P,filedConfig:{valueType:m}},T))})}):(0,u.jsx)(j.Z,(0,s.Z)({valueType:"password",fieldProps:t,proFieldProps:P,filedConfig:{valueType:m}},T))},x=a;x.Password=F,x.displayName="ProFormComponent",U.Z=x},89497:function(K,U,e){"use strict";e.r(U),e.d(U,{default:function(){return W}});var O=e(15009),s=e.n(O),R=e(99289),A=e.n(R),M=e(74026),g=e(77865),C=e(80821),c=e(66554),j=e(5251),u=e(67255),n=e(86548),r=e(23430),m=e(90078),a=e(78099),_=e(82346),F=e(50136),x=e(42075),L=e(66309),l=e(96074),t=e(25593),P=e(83062),T=e(67294),I=e(93162),S=e.n(I),Z=e(1699),f=e(36146),o=e(85893);function W(){var i=(0,T.useRef)(),H=(0,T.useRef)(),b=(0,T.useRef)(),$=(0,_.useAccess)();return(0,o.jsx)(m._z,{extra:[(0,o.jsx)(Z.u,{access:"canSeeContainerDomainManage",children:(0,o.jsx)(M.Z,{ref:b,onFinish:function(){var D,d;!((D=i.current)===null||D===void 0)&&D.reloadAndRest&&((d=i.current)===null||d===void 0||d.reloadAndRest())}},"cert")},"cert"),(0,o.jsx)(Z.u,{access:"canSeeContainerDomainManage",children:(0,o.jsx)(g.Z,{ref:H},"dns")},"dns")],children:(0,o.jsx)(a.Z,{actionRef:i,scroll:{x:"max-content"},tableExtraRender:function(){return(0,o.jsx)(F.Z,{mode:"horizontal",selectedKeys:["cert"],items:[{label:(0,o.jsx)(_.Link,{to:"/app/domain/list",replace:!0,children:f.Ob.format("container.domain.list")}),key:"domain"},{label:(0,o.jsx)(_.Link,{to:"/app/domain/cert",replace:!0,children:f.Ob.format("container.domain.cert")}),key:"cert"}]})},rowKey:"mainDomain",columns:[{title:f.FD.format("listDomain"),render:function(D,d,y,p,v){return(0,o.jsx)(x.Z,{wrap:!0,children:d.domain.map(function(E,h){return(0,o.jsx)(L.Z,{color:h==0?"blue":"",children:E},E)})})}},{title:f.FD.format("listStatus"),search:!1,width:100,render:function(D,d,y,p,v){return d.inUse&&(0,o.jsx)(L.Z,{color:"cyan",children:f.FD.format("listInUse")},"use-".concat(y))}},{title:"CA",dataIndex:"CA",search:!1,width:200},{title:f.FD.format("listCreatedAt"),search:!1,width:180,render:function(D,d,y,p,v){return(0,j.NF)(d.createdAt)}},{title:f.FD.format("listUpdatedAt"),search:!1,width:180,render:function(D,d,y,p,v){return(0,j.NF)(d.renewAt)}},{title:f.FD.format("listManage"),width:100,search:!1,fixed:"right",hidden:!$.canSeeContainerDomainManage,render:function(D,d,y,p,v){return(0,o.jsxs)(x.Z,{split:(0,o.jsx)(l.Z,{type:"vertical"}),children:[(0,o.jsx)(t.Z.Link,{onClick:function(){var h;return(h=b.current)===null||h===void 0||h.edit(d),!0},children:(0,o.jsx)(P.Z,{title:f.FD.format("listManageEdit"),children:(0,o.jsx)(n.Z,{})})}),(0,o.jsx)(t.Z.Link,{onClick:A()(s()().mark(function E(){var h,z;return s()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,c.ll)({name:d.mainDomain});case 2:h=w.sent,z=new Blob([h],{type:"application/zip"}),(0,I.saveAs)(z,"cert-"+d.mainDomain+".zip");case 5:case"end":return w.stop()}},E)})),children:(0,o.jsx)(P.Z,{title:f.FD.format("listManageDownload"),children:(0,o.jsx)(r.Z,{})})},"2")]})}}],request:A()(s()().mark(function B(){var D,d;return s()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,c.dZ)();case 2:return D=p.sent,p.next=5,(0,c.i7)();case 5:return d=p.sent,p.abrupt("return",{data:D.data.list&&D.data.list.map(function(v){var E=!1;return d&&d.data&&d.data.list.map(function(h){h.setting.certName==v.mainDomain&&(E=!0)}),v.inUse=E,v}),success:!0,total:D.data.list.length});case 7:case"end":return p.stop()}},B)})),pagination:(0,u.O)(),tableAlertOptionRender:function(D){var d=D.selectedRowKeys,y=D.selectedRows;return(0,o.jsx)(x.Z,{size:16,children:(0,o.jsx)(C.Z,{danger:!0,type:"primary",confirm:"notification.confirm.title",action:A()(s()().mark(function p(){var v;return s()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,c.KK)({name:d});case 2:return v=h.sent,h.abrupt("return",v);case 4:case"end":return h.stop()}},p)})),onSuccess:function(){var v,E;return!((v=i.current)===null||v===void 0)&&v.reloadAndRest&&((E=i.current)===null||E===void 0||E.reloadAndRest()),!0},onError:function(){var v,E;return!((v=i.current)===null||v===void 0)&&v.reset&&((E=i.current)===null||E===void 0||E.reset()),!0},children:f.FD.format("listManageDeleteBatch")})})},rowSelection:$.canSeeContainerDomainManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0})})}},93162:function(K,U,e){var O,s,R;(function(A,M){s=[],O=M,R=typeof O=="function"?O.apply(U,s):O,R!==void 0&&(K.exports=R)})(this,function(){"use strict";function A(n,r){return typeof r=="undefined"?r={autoBom:!1}:typeof r!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n}function M(n,r,m){var a=new XMLHttpRequest;a.open("GET",n),a.responseType="blob",a.onload=function(){u(a.response,r,m)},a.onerror=function(){console.error("could not download file")},a.send()}function g(n){var r=new XMLHttpRequest;r.open("HEAD",n,!1);try{r.send()}catch(m){}return 200<=r.status&&299>=r.status}function C(n){try{n.dispatchEvent(new MouseEvent("click"))}catch(m){var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(r)}}var c=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof e.g=="object"&&e.g.global===e.g?e.g:void 0,j=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=c.saveAs||(typeof window!="object"||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!j?function(n,r,m){var a=c.URL||c.webkitURL,_=document.createElement("a");r=r||n.name||"download",_.download=r,_.rel="noopener",typeof n=="string"?(_.href=n,_.origin===location.origin?C(_):g(_.href)?M(n,r,m):C(_,_.target="_blank")):(_.href=a.createObjectURL(n),setTimeout(function(){a.revokeObjectURL(_.href)},4e4),setTimeout(function(){C(_)},0))}:"msSaveOrOpenBlob"in navigator?function(n,r,m){if(r=r||n.name||"download",typeof n!="string")navigator.msSaveOrOpenBlob(A(n,m),r);else if(g(n))M(n,r,m);else{var a=document.createElement("a");a.href=n,a.target="_blank",setTimeout(function(){C(a)})}}:function(n,r,m,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),typeof n=="string")return M(n,r,m);var _=n.type==="application/octet-stream",F=/constructor/i.test(c.HTMLElement)||c.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||_&&F||j)&&typeof FileReader!="undefined"){var L=new FileReader;L.onloadend=function(){var P=L.result;P=x?P:P.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=P:location=P,a=null},L.readAsDataURL(n)}else{var l=c.URL||c.webkitURL,t=l.createObjectURL(n);a?a.location=t:location.href=t,a=null,setTimeout(function(){l.revokeObjectURL(t)},4e4)}});c.saveAs=u.saveAs=u,K.exports=u})}}]);
