"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[236],{80821:function(Z,E,n){n.d(E,{Z:function(){return y}});var P=n(97857),c=n.n(P),m=n(5574),u=n.n(m),j=n(24963),h=n(86738),A=n(28036),R=n(83062),C=n(67294),x=n(85893);function y(t){var p=(0,C.useState)(!1),U=u()(p,2),b=U[0],r=U[1],O=(0,C.useContext)(j.Z),a=O.lang,W=O.message,T=function(){r(!0);var S=t.action();S instanceof Promise?S.then(function(o){if(r(!1),o){typeof t.onSuccess=="function"&&t.onSuccess(o);var M="";t.messageSuccess?typeof t.messageSuccess=="function"?M=t.messageSuccess(o):M=t.messageSuccess.indexOf("notification.")==0?a(t.messageSuccess):t.messageSuccess:M=a("notification.finish"),t.asynced?W.info(M):W.success(M)}}).catch(function(o){r(!1),typeof t.onError=="function"&&t.onError(o)}):r(!1)};return t.confirm?(0,x.jsx)(h.Z,c()(c()({style:{width:500},title:t.confirmTitle?t.confirmTitle:a("notification.title.tip"),description:typeof t.confirm=="string"&&t.confirm.indexOf("notification.")==0?a(t.confirm):t.confirm,onConfirm:T,okText:"Yes",cancelText:"No",onOpenChange:t.confirmOnOpenChange},t.confirmProps),{},{children:(0,x.jsx)(A.ZP,{block:t.block,disabled:t.disabled,icon:!t.children&&b?void 0:t.icon,loading:b,danger:t.danger,type:t.type,children:t.children})})):(0,x.jsx)(R.Z,{title:t.tips,children:(0,x.jsx)(A.ZP,{block:t.block,style:t.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:t.disabled,icon:!t.children&&b?void 0:t.icon,loading:b,onClick:T,danger:t.danger,type:t.type,children:t.children})})}},10032:function(Z,E,n){var P=n(5574),c=n.n(P),m=n(15009),u=n.n(m),j=n(99289),h=n.n(j),A=n(80821),R=n(3616),C=n(14946),x=n(48689),y=n(184),t=n(38345),p=n(60940),U=n(42075),b=n(96074),r=n(26412),O=n(67294),a=n(85893),W=(0,O.forwardRef)(function(T,_){(0,O.useImperativeHandle)(_,function(){return{show:function(L){return h()(u()().mark(function F(){var g,N;return u()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,C.IS)({name:L});case 2:g=D.sent,g.data.info.Containers?(N=[],Object.keys(g.data.info.Containers).map(function($){g.data.info.Containers[$].Id=$,N.push(g.data.info.Containers[$])}),v(N)):v([]),f(g.data.info),w(!0);case 6:case"end":return D.stop()}},F)}))()}}});var S=(0,O.useState)(!1),o=c()(S,2),M=o[0],w=o[1],I=(0,O.useState)(),d=c()(I,2),e=d[0],f=d[1],s=(0,O.useState)(),l=c()(s,2),K=l[0],v=l[1];return(0,a.jsx)(y.a,{drawerProps:{width:R.R_},title:"\u7F51\u7EDC\u8BE6\u60C5",open:M,onOpenChange:function(L){w(L)},submitter:!1,children:(0,a.jsxs)(t.Z,{ghost:!0,direction:"column",gutter:[10,0],children:[(0,a.jsx)(t.Z,{title:"\u7F51\u7EDC\u5185\u5BB9\u5668",ghost:!0,children:(0,a.jsx)(p.Z,{rowKey:"Id",columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"Name"},{title:"IPV4",dataIndex:"IPv4Address"},{title:"IPV6",dataIndex:"IPv6Address"},{title:"MacAddress",dataIndex:"MacAddress"},{title:"\u64CD\u4F5C",render:function(L,F,g){return(0,a.jsx)(U.Z,{split:(0,a.jsx)(b.Z,{type:"vertical"}),children:(0,a.jsx)(A.Z,{type:"text",action:function(){var B,D;return(0,C.t9)({name:(B=e==null?void 0:e.Id)!==null&&B!==void 0?B:"",containerName:(D=F.Id)!==null&&D!==void 0?D:""})},onSuccess:function(){var B=K==null?void 0:K.filter(function(D){return D.Id!=F.Id});v(B)},children:(0,a.jsx)(x.Z,{})},"delete")})}}],dataSource:K,pagination:!1})}),(0,a.jsx)(t.Z,{ghost:!0,title:"\u57FA\u7840\u4FE1\u606F",children:(0,a.jsxs)(r.Z,{labelStyle:{width:"180px"},column:1,bordered:!0,children:[(0,a.jsx)(r.Z.Item,{label:"\u540D\u79F0",children:e==null?void 0:e.Name}),(0,a.jsx)(r.Z.Item,{label:"Id",children:e==null?void 0:e.Id}),(0,a.jsx)(r.Z.Item,{label:"Driver",children:e==null?void 0:e.Driver}),(0,a.jsx)(r.Z.Item,{label:"Scope",children:e==null?void 0:e.Scope}),(0,a.jsx)(r.Z.Item,{label:"Attachable",children:e!=null&&e.Attachable?"\u662F":"\u5426"}),(0,a.jsx)(r.Z.Item,{label:"Internal",children:e!=null&&e.Internal?"\u662F":"\u5426"}),(e==null?void 0:e.IPAM.Config)&&(e==null?void 0:e.IPAM.Config.map(function(i){return(0,a.jsx)(r.Z.Item,{label:i.Gateway&&i.Gateway.includes(":")?"IPV6":"IPV4",children:(0,a.jsxs)(r.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:[(0,a.jsx)(r.Z.Item,{label:"Subnet",children:i.Subnet}),(0,a.jsx)(r.Z.Item,{label:"Gateway",children:i.Gateway}),(0,a.jsx)(r.Z.Item,{label:"IP Range ",children:i.IPRange}),(0,a.jsx)(r.Z.Item,{label:"Excluded IPs",children:i.AuxiliaryAddresses&&Object.keys(i.AuxiliaryAddresses).map(function(L){return i.AuxiliaryAddresses[L]+" ,"})})]})})})),(e==null?void 0:e.Options)&&Object.keys(e==null?void 0:e.Options).length>0&&(0,a.jsx)(r.Z.Item,{label:"Options",children:(0,a.jsx)(r.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Options).map(function(i){return(0,a.jsx)(r.Z.Item,{label:i,children:e.Options[i]},i)})})}),(e==null?void 0:e.Labels)&&Object.keys(e==null?void 0:e.Labels).length>0&&(0,a.jsx)(r.Z.Item,{label:"Lables",children:(0,a.jsx)(r.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Labels).map(function(i){return(0,a.jsx)(r.Z.Item,{label:i,children:e.Labels[i]},i)})})})]})})]})})});E.Z=W},3616:function(Z,E,n){n.d(E,{Ed:function(){return u},FK:function(){return c},R_:function(){return P},ob:function(){return m}});var P=window.innerWidth<=1024?"90vw":"65vw",c="90vw",m="60vw",u="50vh"},24963:function(Z,E,n){var P=n(67294),c=(0,P.createContext)({});E.Z=c},6005:function(Z,E,n){n.r(E),n.d(E,{default:function(){return S}});var P=n(15009),c=n.n(P),m=n(99289),u=n.n(m),j=n(1699),h=n(80821),A=n(28230),R=n(10032),C=n(14946),x=n(67255),y=n(43425),t=n(90078),p=n(41482),U=n(82346),b=n(66309),r=n(42075),O=n(96074),a=n(28036),W=n(83062),T=n(67294),_=n(85893);function S(){var o=(0,T.useRef)(),M=(0,T.useRef)(),w=(0,U.useAccess)();return(0,_.jsxs)(t._z,{header:{extra:[(0,_.jsx)(j.u,{access:"canSeeDockerNetworkManage",children:(0,_.jsx)(A.Z,{onFinish:function(){var d,e;!((d=o.current)===null||d===void 0)&&d.reloadAndRest&&((e=o.current)===null||e===void 0||e.reloadAndRest())}},"create")},"create")]},children:[(0,_.jsx)(R.Z,{ref:M}),(0,_.jsx)(p.Z,{scroll:{x:"max-content"},rowKey:"Name",columns:[{title:"\u540D\u79F0",ellipsis:!0,dataIndex:"Name",render:function(d,e,f,s,l){return e.Name=="none"||e.Name=="bridge"||e.Name=="host"?(0,_.jsxs)(_.Fragment,{children:[e.Name," ",(0,_.jsx)(b.Z,{color:"blue",children:"System"})]}):(0,_.jsx)(_.Fragment,{children:d})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",ellipsis:!0,width:150,search:!1,render:function(d,e,f,s,l){return e.IPAM.Config&&e.IPAM.Config[0]?(0,_.jsxs)(r.Z,{direction:"vertical",children:[(0,_.jsx)("div",{children:e.IPAM.Config&&e.IPAM.Config[0].Subnet}),(0,_.jsx)("div",{children:e.IPAM.Config&&e.IPAM.Config[0].Gateway})]}):"-"}},{title:"IPV6",ellipsis:!0,width:150,search:!1,render:function(d,e,f,s,l){return e.IPAM.Config&&e.IPAM.Config[1]?(0,_.jsxs)(r.Z,{direction:"vertical",children:[(0,_.jsx)("div",{children:e.IPAM.Config&&e.IPAM.Config[1].Subnet}),(0,_.jsx)("div",{children:e.IPAM.Config&&e.IPAM.Config[1].Gateway})]}):"-"}},{title:"\u521B\u5EFA\u65F6\u95F4",ellipsis:!0,width:180,search:!1,dataIndex:"Created",render:function(d,e,f,s,l){return new Date(e.Created).toLocaleString()}},{title:"\u64CD\u4F5C",width:100,search:!1,fixed:"right",hidden:!w.canSeeDockerNetworkManage,render:function(d,e,f,s,l){return(0,_.jsx)(r.Z,{split:(0,_.jsx)(O.Z,{type:"vertical"}),children:(0,_.jsx)(a.ZP,{type:"link",onClick:function(){var v;(v=M.current)===null||v===void 0||v.show(e.Name)},children:(0,_.jsx)(W.Z,{title:"\u7BA1\u7406",children:(0,_.jsx)(y.Z,{})})})})}}],request:function(){var I=u()(c()().mark(function d(e,f,s){var l;return c()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,C.jR)({name:e.Name});case 2:return l=v.sent,v.abrupt("return",{data:l.data.list,success:!0,total:l.data.list.length});case 4:case"end":return v.stop()}},d)}));return function(d,e,f){return I.apply(this,arguments)}}(),rowSelection:w.canSeeDockerNetworkManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,actionRef:o,tableAlertOptionRender:function(d){var e=d.selectedRowKeys;return(0,_.jsxs)(r.Z,{size:16,children:[(0,_.jsx)(h.Z,{danger:!0,type:"primary",action:function(){return(0,C._x)({name:e})},onSuccess:function(){var s,l;return!((s=o.current)===null||s===void 0)&&s.reloadAndRest&&((l=o.current)===null||l===void 0||l.reloadAndRest()),!0},onError:function(){var s,l;return!((s=o.current)===null||s===void 0)&&s.reset&&((l=o.current)===null||l===void 0||l.reset()),!0},confirm:"notification.confirm.title",children:"\u6279\u91CF\u5220\u9664"},"delete"),(0,_.jsx)(h.Z,{action:function(){return(0,C.CI)()},onSuccess:function(){var s,l;return!((s=o.current)===null||s===void 0)&&s.reloadAndRest&&((l=o.current)===null||l===void 0||l.reloadAndRest()),!0},onError:function(){var s,l;return!((s=o.current)===null||s===void 0)&&s.reset&&((l=o.current)===null||l===void 0||l.reset()),!0},confirm:"notification.confirm.title",children:"\u6E05\u7406\u672A\u4F7F\u7528\u7F51\u7EDC"},"clearNotUse")]})},pagination:(0,x.O)()})]})}},67255:function(Z,E,n){n.d(E,{O:function(){return P},j:function(){return c}});function P(m){var u=localStorage.getItem("dpanel-pagesize");return u=="all"?!1:{current:m==null?void 0:m.page,showSizeChanger:!0,defaultPageSize:parseInt(u!=null?u:"20"),onChange:function(h,A){localStorage.setItem("dpanel-page-"+location.pathname.split("/").slice(-2).join("-"),"".concat(h))}}}function c(m){var u="dpanel-table-column-".concat(m),j={};if(localStorage.getItem(u)){var h;j=JSON.parse((h=localStorage.getItem(u))!==null&&h!==void 0?h:"{}")}return{defaultValue:j,onChange:function(R){localStorage.setItem("dpanel-table-column-".concat(m),JSON.stringify(R))}}}}}]);
