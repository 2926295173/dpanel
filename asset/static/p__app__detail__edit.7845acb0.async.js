"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8878],{55809:function(I,u,e){var m=e(87462),s=e(67294),h=e(44805),T=e(84089),M=function(f,g){return s.createElement(T.Z,(0,m.Z)({},f,{ref:g,icon:h.Z}))},l=s.forwardRef(M);u.Z=l},95591:function(I,u,e){e.d(u,{Z:function(){return f}});var m=e(87462),s=e(67294),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},T=h,M=e(84089),l=function(n,R){return s.createElement(M.Z,(0,m.Z)({},n,{ref:R,icon:T}))},p=s.forwardRef(l),f=p},5966:function(I,u,e){var m=e(97685),s=e(1413),h=e(45987),T=e(21770),M=e(72723),l=e(55241),p=e(97435),f=e(67294),g=e(35510),n=e(85893),R=["fieldProps","proFieldProps"],v=["fieldProps","proFieldProps"],c="text",j=function(_){var t=_.fieldProps,P=_.proFieldProps,i=(0,h.Z)(_,R);return(0,n.jsx)(g.Z,(0,s.Z)({valueType:c,fieldProps:t,filedConfig:{valueType:c},proFieldProps:P},i))},d=function(_){var t=(0,T.Z)(_.open||!1,{value:_.open,onChange:_.onOpenChange}),P=(0,m.Z)(t,2),i=P[0],O=P[1];return(0,n.jsx)(M.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(D){var a,W=D.getFieldValue(_.name||[]);return(0,n.jsx)(l.Z,(0,s.Z)((0,s.Z)({getPopupContainer:function(r){return r&&r.parentNode?r.parentNode:r},onOpenChange:function(r){return O(r)},content:(0,n.jsxs)("div",{style:{padding:"4px 0"},children:[(a=_.statusRender)===null||a===void 0?void 0:a.call(_,W),_.strengthText?(0,n.jsx)("div",{style:{marginTop:10},children:(0,n.jsx)("span",{children:_.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},_.popoverProps),{},{open:i,children:_.children}))}})},E=function(_){var t=_.fieldProps,P=_.proFieldProps,i=(0,h.Z)(_,v),O=(0,f.useState)(!1),U=(0,m.Z)(O,2),D=U[0],a=U[1];return t!=null&&t.statusRender&&i.name?(0,n.jsx)(d,{name:i.name,statusRender:t==null?void 0:t.statusRender,popoverProps:t==null?void 0:t.popoverProps,strengthText:t==null?void 0:t.strengthText,open:D,onOpenChange:a,children:(0,n.jsx)("div",{children:(0,n.jsx)(g.Z,(0,s.Z)({valueType:"password",fieldProps:(0,s.Z)((0,s.Z)({},(0,p.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(A){var r;t==null||(r=t.onBlur)===null||r===void 0||r.call(t,A),a(!1)},onClick:function(A){var r;t==null||(r=t.onClick)===null||r===void 0||r.call(t,A),a(!0)}}),proFieldProps:P,filedConfig:{valueType:c}},i))})}):(0,n.jsx)(g.Z,(0,s.Z)({valueType:"password",fieldProps:t,proFieldProps:P,filedConfig:{valueType:c}},i))},o=j;o.Password=E,o.displayName="ProFormComponent",u.Z=o},80821:function(I,u,e){e.d(u,{Z:function(){return g}});var m=e(5574),s=e.n(m),h=e(24963),T=e(86738),M=e(28036),l=e(83062),p=e(67294),f=e(85893);function g(n){var R=(0,p.useState)(!1),v=s()(R,2),c=v[0],j=v[1],d=(0,p.useContext)(h.Z),E=d.lang,o=d.notice,x=d.message,_=function(){j(!0);var P=n.action();P instanceof Promise?P.then(function(i){if(j(!1),i){typeof n.onSuccess=="function"&&n.onSuccess(i);var O="";n.messageSuccess?typeof n.messageSuccess=="function"?O=n.messageSuccess(i):O=n.messageSuccess.indexOf("notification.")==0?E(n.messageSuccess):n.messageSuccess:O=E("notification.finish"),n.asynced?x.info(O):x.success(O)}}).catch(function(i){j(!1),typeof n.onError=="function"&&n.onError(i)}):j(!1)};return n.confirm?(0,f.jsx)(T.Z,{style:{width:500},title:n.confirmTitle?n.confirmTitle:E("notification.title.tip"),description:typeof n.confirm=="string"&&n.confirm.indexOf("notification.")==0?E(n.confirm):n.confirm,onConfirm:_,okText:"Yes",cancelText:"No",onOpenChange:n.confirmOnOpenChange,children:(0,f.jsx)(M.ZP,{block:n.block,disabled:n.disabled,icon:!n.children&&c?void 0:n.icon,loading:c,danger:n.danger,type:n.type,children:n.children})}):(0,f.jsx)(l.Z,{title:n.tips,children:(0,f.jsx)(M.ZP,{block:n.block,style:n.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:n.disabled,icon:!n.children&&c?void 0:n.icon,loading:c,onClick:_,danger:n.danger,type:n.type,children:n.children})})}},24963:function(I,u,e){var m=e(67294),s=(0,m.createContext)({});u.Z=s},29798:function(I,u,e){e.r(u),e.d(u,{default:function(){return E}});var m=e(5574),s=e.n(m),h=e(60335),T=e(38345),M=e(82346),l=e(67294),p=e(24963),f=e(50070),g=e(37767),n=e(52031),R=e(14189),v=e(72409),c=e(14245),j=e(1699),d=e(85893);function E(){var o=(0,l.useContext)(p.Z),x=o.message,_=o.notice,t=o.loading,P=o.lang,i=(0,l.useContext)(f.AppDetailContext),O=(0,M.useParams)(),U=(0,l.useState)(),D=s()(U,2),a=D[0],W=D[1],A=(0,l.useState)(1),r=s()(A,2),F=r[0],$=r[1],S=(0,M.useNavigate)();return(0,l.useEffect)(function(){var K;t.show(),i.reload(),(0,h.jV)({md5:(K=O.id)!==null&&K!==void 0?K:""}).then(function(B){B.data&&(B.data.info.HostConfig.NetworkMode=="host"&&B.data.info.Config.ExposedPorts&&Object.keys(B.data.info.Config.ExposedPorts).map(function(L){B.data.info.NetworkSettings.Ports[L]=[{HostIp:"0.0.0.0",HostPort:L.substring(0,L.indexOf("/"))}]}),W(B.data))}).finally(function(){t.destroy()})},[F]),(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(T.Z,{direction:"column",gutter:[0,10],children:[(a==null?void 0:a.info)&&(0,d.jsx)(R.Z,{data:a.info}),(a==null?void 0:a.info)&&(0,d.jsx)(j.u,{access:["canSeeContainerListManage","canSeeContainerListManageOp"],children:(0,d.jsx)(v.Z,{data:a,checkContainerUpgrade:function(){S("/app/list")}})}),a&&(0,d.jsx)(g.Z,{data:a}),a&&(0,d.jsx)(n.Z,{data:a==null?void 0:a.info}),a&&(0,d.jsx)(c.Z,{data:a.info})]})})}},50070:function(I,u,e){e.r(u),e.d(u,{AppDetailContext:function(){return x},default:function(){return _}});var m=e(15009),s=e.n(m),h=e(99289),T=e.n(h),M=e(5574),l=e.n(M),p=e(1699),f=e(24963),g=e(60335),n=e(55809),R=e(90078),v=e(82346),c=e(25593),j=e(28036),d=e(50136),E=e(67294),o=e(85893),x=(0,E.createContext)({});function _(){var t,P=(0,E.useContext)(f.Z),i=P.lang,O=P.loading,U=P.message,D=(0,v.useParams)(),a=(0,v.useSearchParams)(),W=l()(a,2),A=W[0],r=W[1],F=(t=A.get("tab"))!==null&&t!==void 0?t:"edit",$=(0,E.useState)("edit"),S=l()($,2),K=S[0],B=S[1],L=(0,v.useNavigate)(),Q=(0,E.useState)(1),V=l()(Q,2),z=V[0],X=V[1],G=[{label:(0,o.jsx)(v.Link,{to:"/app/detail/edit/".concat(D.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,o.jsx)(v.Link,{to:"/app/detail/network/".concat(D.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,o.jsx)(c.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){U.info(i("app.detail.createExplorerPlugin")),L("/app/detail/file/".concat(D.id,"?tab=file"))}},{label:(0,o.jsx)(c.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){L("/app/detail/log/".concat(D.id,"?tab=log"))}},{label:(0,o.jsx)(c.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){L("/app/detail/stat/".concat(D.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,o.jsx)(n.Z,{}),disabled:!0}],w=(0,E.useState)(G),Y=l()(w,2),q=Y[0],ee=Y[1];(0,E.useEffect)(function(){O.show(),B(F);var y=function(){var k=T()(s()().mark(function J(){var N,H,b;return s()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return N=G,C.prev=1,C.next=4,(0,g.jV)({md5:(H=D.id)!==null&&H!==void 0?H:""});case 4:b=C.sent,N.map(function(Z){return Z.key=="containerName"&&(Z.label=b.data.info.Name),(!b.data.info.State.Running||b.data.info.State.Restarting)&&(Z.key=="file"||Z.key=="stat")&&(Z.disabled=!0),Z}),ee(N),C.next=13;break;case 9:return C.prev=9,C.t0=C.catch(1),L("/app/list"),C.abrupt("return");case 13:return C.prev=13,O.destroy(),C.finish(13);case 16:case"end":return C.stop()}},J,null,[[1,9,13,16]])}));return function(){return k.apply(this,arguments)}}();y()},[z,D]);var ne=function(k){B(k.key)};return(0,o.jsx)(x.Provider,{value:{reload:function(){X(z+1)}},children:(0,o.jsxs)(R._z,{header:{extra:[(0,o.jsx)(p.u,{access:"canSeeContainerListManageCreate",children:(0,o.jsx)(v.Link,{to:"/app/create/image",children:(0,o.jsx)(j.ZP,{type:"primary",children:"\u521B\u5EFA\u5BB9\u5668"})})},"create")]},children:[(0,o.jsx)(d.Z,{mode:"horizontal",onClick:ne,selectedKeys:[K],items:q}),(0,o.jsx)(v.Outlet,{})]})})}}}]);
