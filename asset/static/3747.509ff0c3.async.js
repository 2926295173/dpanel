"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3747],{23747:function(de,$,e){e.d($,{Z:function(){return ge}});var U=e(5574),c=e.n(U),V=e(15009),d=e.n(V),G=e(99289),D=e.n(G),_=e(67294),x=e(37767),L=e(13822),T=e(82346),C=e(58638),S=e(85265),b=e(96074),h=e(83062),O=e(86250),W=e(52031),r=e(14189),ae=e(72409),_e=e(93362),re=e(184),se=e(43831),ee=e(5251),m=e(25593),i=e(52209),a=e(3616),n=e(85893),p=(0,_.forwardRef)(function(B,X){(0,_.useImperativeHandle)(X,function(){return{}});var v=(0,_.useState)(!1),l=c()(v,2),o=l[0],E=l[1];return(0,n.jsx)(re.a,{submitter:!1,title:(0,ee.fi)(B.containerInfo.Name,"/")+" - \u7F51\u7EDC\u7BA1\u7406",onOpenChange:function(f){E(f)},drawerProps:{width:a.R_},open:o,trigger:(0,n.jsx)(m.Z.Link,{children:(0,n.jsx)(i.Z,{})},"file"),children:(0,n.jsx)(se.Z,{ghost:!0,containerInfo:B.containerInfo})})}),me=p,oe=e(81146),s=e(45742),H=e(62597),Y=(0,_.forwardRef)(function(B,X){(0,_.useImperativeHandle)(X,function(){return{show:function(Z){return D()(d()().mark(function P(){var w;return d()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,(0,L.jV)({md5:Z});case 2:w=F.sent,w.data&&j(w.data.info),E(!0);case 5:case"end":return F.stop()}},P)}))()}}});var v=(0,_.useState)(!1),l=c()(v,2),o=l[0],E=l[1],g=(0,_.useState)(),f=c()(g,2),t=f[0],j=f[1],A=(0,_.useRef)();return(0,n.jsxs)(n.Fragment,{children:[B.showTriggerButton&&(0,n.jsx)(m.Z.Link,{onClick:D()(d()().mark(function K(){return d()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:j(B.containerInfo),E(!0);case 2:case"end":return P.stop()}},K)})),children:(0,n.jsx)(h.Z,{title:"\u8FD0\u884C\u65E5\u5FD7",children:(0,n.jsx)(s.Z,{})})},"log"),(0,n.jsx)(S.Z,{title:"\u5BB9\u5668\u65E5\u5FD7",open:o,forceRender:!0,onClose:function(){E(!1)},afterOpenChange:function(Z){if(Z)setTimeout(function(){var w,z;(w=A.current)===null||w===void 0||w.start(),(z=A.current)===null||z===void 0||z.fit()},1e3);else{var P;(P=A.current)===null||P===void 0||P.close()}},width:a.FK,children:t&&o&&(0,n.jsx)(oe.Z,{ref:A,showInDrawer:!0,id:"container:log:".concat(t==null?void 0:t.Id),request:function(){var K=D()(d()().mark(function Z(P){var w;return d()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,(0,H.Tb)({id:(w=t.Id)!==null&&w!==void 0?w:"",lineTotal:P.lineTotal,download:P.download,showTime:P.showTime});case 2:case"end":return F.stop()}},Z)}));return function(Z){return K.apply(this,arguments)}}(),download:function(){var K=D()(d()().mark(function Z(P){var w,z,F,J;return d()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,H.XH)({id:(w=t.Id)!==null&&w!==void 0?w:"",lineTotal:P.lineTotal,showTime:P.showTime});case 2:return F=M.sent,M.next=5,(0,L.jV)({md5:(z=t.Id)!==null&&z!==void 0?z:""});case 5:return J=M.sent,M.abrupt("return",{data:new Blob([F],{type:"text/plain"}),name:J.data.info.Name.replaceAll("/","")+"_"+new Date().toLocaleDateString()+".log"});case 7:case"end":return M.stop()}},Z)}));return function(Z){return K.apply(this,arguments)}}()})})]})}),ne=Y,fe=e(65913),N=e(14245),k=e(1699),ue=e(40666),ie=e(64789),ce=e(38345),y=e(42075),I=e(66309),R=e(90127),u=e(29453);function q(B){var X=(0,_.useState)(0),v=c()(X,2),l=v[0],o=v[1],E=(0,_.useState)(),g=c()(E,2),f=g[0],t=g[1];return(0,_.useEffect)(function(){t([]),(0,u.e1)().then(function(j){t(j.data.list)})},[l,B.data.info.Name]),(0,n.jsx)(ce.Z,{ghost:!0,title:(0,n.jsx)(ue.Z,{}),subTitle:"\u5BB9\u5668\u6807\u7B7E",extra:(0,n.jsx)(R.Z,{trigger:(0,n.jsx)(m.Z.Link,{children:(0,n.jsx)(ie.Z,{})}),containerDetail:B.data,onFinish:function(){o(l+1)}}),children:(0,n.jsx)(y.Z,{wrap:!0,children:f&&(f==null?void 0:f.filter(function(j){return j.item&&j.item.find(function(A){return A.name==B.data.info.Name})}).map(function(j,A){return(0,n.jsx)(I.Z,{color:j.tagColor,closable:!0,style:{height:35,display:"flex",borderRadius:20,justifyContent:"center",alignItems:"center"},onClose:D()(d()().mark(function K(){return d()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,u.rn)({name:B.data.info.Name,tag:j.tag});case 2:o(l+1);case 3:case"end":return P.stop()}},K)})),children:(0,n.jsx)("span",{style:{paddingLeft:10,paddingRight:3},children:j.tag})},A)}))})})}var Q=(0,_.forwardRef)(function(B,X){var v,l;(0,_.useImperativeHandle)(X,function(){return{show:function(ve){return D()(d()().mark(function M(){return d()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return P(!0),he.next=3,z(ve);case 3:case"end":return he.stop()}},M)}))()}}});var o=(0,T.useAccess)(),E=(0,_.useRef)(),g=(0,_.useState)(),f=c()(g,2),t=f[0],j=f[1],A=(0,_.useState)(!1),K=c()(A,2),Z=K[0],P=K[1],w=(0,_.useRef)();function z(J){return F.apply(this,arguments)}function F(){return F=D()(d()().mark(function J(ve){var M,te;return d()().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return(M=E.current)===null||M===void 0||M.show(),Ee.next=3,(0,L.jV)({md5:ve}).finally(function(){var le;(le=E.current)===null||le===void 0||le.destroy()});case 3:te=Ee.sent,te.data&&(te.data.info.HostConfig.NetworkMode=="host"&&te.data.info.Config.ExposedPorts&&Object.keys(te.data.info.Config.ExposedPorts).map(function(le){te.data.info.NetworkSettings.Ports[le]=[{HostIp:"0.0.0.0",HostPort:le.substring(0,le.indexOf("/"))}]}),j(te.data));case 5:case"end":return Ee.stop()}},J)})),F.apply(this,arguments)}return(0,n.jsx)(S.Z,{title:"\u5FEB\u6377\u67E5\u770B\u5BB9\u5668 - ".concat((0,ee.fi)((v=t==null?void 0:t.info.Name)!==null&&v!==void 0?v:"","/")),open:Z,onClose:function(){P(!1),B.onFinish&&B.onFinish()},width:a.R_,extra:(0,n.jsxs)(k.u,{access:"canSeeContainerList",space:{split:(0,n.jsx)(b.Z,{type:"vertical"})},children:[(t==null?void 0:t.info)&&t.info.State.Running&&(0,n.jsx)(_e.Z,{apiPrefix:"container",name:t.info.Name,title:(0,ee.fi)(t.info.Name,"/"),workDir:(l=t.info.Config.WorkingDir)!==null&&l!==void 0?l:""}),(t==null?void 0:t.info)&&o.canSeeContainerListManageOp&&(0,n.jsx)(me,{containerInfo:t.info}),(t==null?void 0:t.info)&&t.info.State.Running&&(0,n.jsx)(ne,{containerInfo:t.info,showTriggerButton:!0}),(0,n.jsx)(k.u,{access:"canSeeContainerListManage",children:(0,n.jsx)(h.Z,{title:"\u67E5\u770B\u5B8C\u6574\u4FE1\u606F",children:(0,n.jsx)(T.Link,{to:"/app/detail/edit/"+(t==null?void 0:t.info.Id),children:(0,n.jsx)(C.Z,{})},"detail")})})]}),children:(0,n.jsx)(fe.Z,{ref:E,children:(0,n.jsxs)(O.Z,{vertical:!0,gap:20,children:[t&&(0,n.jsx)(k.u,{access:"canSeeContainerList",children:(0,n.jsx)(r.Z,{ref:w,ghost:!0,data:t==null?void 0:t.info,onFinish:D()(d()().mark(function J(){return d()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,z(t.info.Id);case 2:return M.t0=M.sent,M.abrupt("return",[M.t0]);case 4:case"end":return M.stop()}},J)}))})}),t&&(0,n.jsx)(k.u,{access:["canSeeContainerListManage","canSeeContainerListManageOp"],children:(0,n.jsx)(ae.Z,{ghost:!0,data:t,checkContainerUpgrade:function(){P(!1),B.onUpgradeFinish&&B.onUpgradeFinish()}})}),t&&(0,n.jsx)(q,{data:t}),t&&(0,n.jsx)(x.Z,{data:t,ghost:!0}),(0,n.jsx)(W.Z,{data:t==null?void 0:t.info,ghost:!0}),t&&(0,n.jsx)(N.Z,{data:t.info,ghost:!0})]})})})}),ge=Q},90127:function(de,$,e){var U=e(15009),c=e.n(U),V=e(99289),d=e.n(V),G=e(5574),D=e.n(G),_=e(5251),x=e(184),L=e(62370),T=e(5966),C=e(24739),S=e(64317),b=e(52688),h=e(97462),O=e(38925),W=e(42075),r=e(67294),ae=e(1699),_e=e(80821),re=e(2808),se=e(87662),ee=e(52756),m=e(29453),i=e(3616),a=e(85893),n=(0,r.forwardRef)(function(p,me){var oe;(0,r.useImperativeHandle)(me,function(){return{edit:function(l){B(!0),X(l),s.current&&s.current.setFieldsValue({tag:[l.tag],tagColor:l.tagColor,enableShowGroup:l.enableShowGroup})}}});var s=(0,r.useRef)(),H=(0,r.useState)(0),Y=D()(H,2),ne=Y[0],fe=Y[1],N=(0,r.useState)([]),k=D()(N,2),ue=k[0],ie=k[1],ce=(0,r.useState)(),y=D()(ce,2),I=y[0],R=y[1],u=(oe=p.containerDetail)===null||oe===void 0?void 0:oe.info,q=(0,r.useState)(!1),Q=D()(q,2),ge=Q[0],B=Q[1];function X(v){s.current&&s.current.setFieldsValue({title:v.title,description:v.description,url:v.url,icon:v.icon,name:v.name})}return(0,r.useEffect)(function(){R([]),(0,m.e1)().then(function(v){R(v.data.list)})},[ne]),(0,r.useEffect)(function(){u&&(0,se.K3)().then(function(v){var l=[];u.NetworkSettings&&u.NetworkSettings.Ports&&Object.keys(u.NetworkSettings.Ports).map(function(o){u.NetworkSettings.Ports[o]&&u.NetworkSettings.Ports[o].map(function(E){E.HostPort&&l.push("http://".concat(v.data.serverUrl,":").concat(E.HostPort))})}),ie(l)})},[p.containerDetail]),(0,a.jsxs)(x.a,{drawerProps:{forceRender:!0,width:i.R_},open:ge,onFinish:function(){var v=d()(c()().mark(function l(o){var E,g,f,t;return c()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return f="",o.tagColor&&o.tagColor.toHexString?o.tagColor.cleared||(f=o.tagColor.toHexString()):f=o.tagColor,t=(E=o.enableShowGroup)!==null&&E!==void 0?E:p.defaultEnableShowGroup,A.next=5,(0,m.A9)({enableShowGroup:t,tag:o.tag?o.tag[0]:"",tagColor:f,name:(g=u==null?void 0:u.Name)!==null&&g!==void 0?g:o.name,title:t?o.title:"",description:t?o.description:"",url:t?o.url:"",icon:t?o.icon:""});case 5:return fe(ne+1),p.onFinish&&p.onFinish({tag:o.tag,tagColor:o.tagColor,enableShowGroup:t}),A.abrupt("return",!0);case 8:case"end":return A.stop()}},l)}));return function(l){return v.apply(this,arguments)}}(),formRef:s,title:"\u6DFB\u52A0\u5BB9\u5668\u6807\u7B7E",trigger:p.trigger,onOpenChange:function(l){var o;B(l),!l&&(!((o=s.current)===null||o===void 0)&&o.resetFields)&&s.current.resetFields()},children:[p.defaultEnableShowGroup&&(0,a.jsx)(L.Z,{children:(0,a.jsx)(O.Z,{message:(0,ee.getLang)("system.home.tagAddContainerTips")})}),(0,a.jsx)(T.Z,{name:"name",hidden:!0}),(0,a.jsxs)(C.UW,{children:[(0,a.jsx)(S.Z,{width:"lg",label:"\u6807\u7B7E\u6216\u5206\u7EC4",layout:"vertical",required:!0,rules:[{required:!0}],onChange:function(l){var o=I&&I.find(function(Z){return l&&l.length>=1&&Z.tag==l[0]});if(o){var E,g,f,t=o.item.find(function(Z){return Z.name==(u==null?void 0:u.Name)});(E=s.current)===null||E===void 0||E.setFieldsValue({tagColor:o.tagColor,enableShowGroup:o.enableShowGroup}),t&&t.name&&X({name:(g=u==null?void 0:u.Name)!==null&&g!==void 0?g:"",title:t?t.title:(0,_.fi)((f=u==null?void 0:u.Name)!==null&&f!==void 0?f:"","/"),description:t&&t.description,url:t&&t.url,icon:t&&t.icon})}if(!l||l.length==0){var j,A=(j=s.current)===null||j===void 0?void 0:j.getFieldValue("url");if(!A||A==""){var K;!((K=s.current)===null||K===void 0)&&K.resetFields&&s.current.resetFields()}}},options:I&&I.map(function(v){return{lable:v.tag,value:v.tag}}),name:"tag",mode:"tags",fieldProps:{maxCount:1},placeholder:"\u8BF7\u9009\u62E9\u6216\u662F\u8F93\u5165\u6807\u7B7E\u6216\u662F\u5206\u7EC4"},"tagSelect".concat(ne)),!p.defaultEnableShowGroup&&(0,a.jsx)(re.Z,{label:"\u6807\u7B7E\u80CC\u666F\u989C\u8272",name:"tagColor"})]}),!p.defaultEnableShowGroup&&(0,a.jsx)(ae.u,{access:"canSeeEnableCe",showProRibbonTips:!0,children:function(l){var o=l.canSeeEnableCe;return(0,a.jsx)(b.Z,{label:"\u4EE5\u5206\u7EC4\u7684\u5F62\u5F0F\u5C55\u793A\u9996\u9875\u5361\u7247",name:"enableShowGroup",disabled:o,fieldProps:{onChange:function(g){if(g){var f,t;X({name:(f=u==null?void 0:u.Name)!==null&&f!==void 0?f:"",title:(0,_.fi)((t=u==null?void 0:u.Name)!==null&&t!==void 0?t:"","/")})}}}})}}),(0,a.jsx)(h.Z,{name:["enableShowGroup"],children:function(l){var o=l.enableShowGroup;return(o||p.defaultEnableShowGroup)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(W.Z.Compact,{children:[p.containerDetail&&(0,a.jsx)(S.Z,{label:"\u9009\u62E9\u7AEF\u53E3",width:"sm",name:"selectUrl",options:ue.map(function(E){return{label:E,value:E}}),onChange:function(g){var f;!((f=s.current)===null||f===void 0)&&f.setFieldValue&&s.current.setFieldValue("url",g)}}),(0,a.jsx)(T.Z,{label:"\u8BBF\u95EE\u5730\u5740",name:"url",width:"md"}),(0,a.jsx)(L.Z,{label:" ",children:(0,a.jsx)(_e.Z,{action:function(){var g;return(0,m.R3)({url:(g=s.current)===null||g===void 0?void 0:g.getFieldValue("url")})},onSuccess:function(g){var f,t,j;(f=s.current)===null||f===void 0||f.setFieldValue("icon",g.data.icon),(t=s.current)===null||t===void 0||t.setFieldValue("title",g.data.title),(j=s.current)===null||j===void 0||j.setFieldValue("description",g.data.description)},children:"\u83B7\u53D6\u4FE1\u606F"})})]}),(0,a.jsxs)(C.UW,{children:[(0,a.jsx)(T.Z,{label:"\u6807\u9898",name:"title"}),(0,a.jsx)(T.Z,{label:"\u63CF\u8FF0",name:"description"})]}),(0,a.jsx)(C.UW,{children:(0,a.jsx)(T.Z,{width:"lg",placeholder:"\u4EE5 https \u6216\u662F http \u5F00\u5934\uFF0C\u4F18\u5148\u4F7F\u7528\u4E0A\u4F20\u56FE\u7247",label:"\u56FE\u6807\u8FDC\u7A0B\u5730\u5740",name:"icon"})})]})}})]})});$.Z=n},81146:function(de,$,e){var U=e(15009),c=e.n(U),V=e(99289),d=e.n(V),G=e(97857),D=e.n(G),_=e(67294),x=e(97269),L=e(62370),T=e(5966),C=e(97462),S=e(82346),b=e(71230),h=e(15746),O=e(34041),W=e(28036),r=e(84567),ae=e(42075),_e=e(80821),re=e(23430),se=e(93162),ee=e.n(se),m=e(12320),i=e.n(m),a=e(78267),n=e.n(a),p=e(75458),me=e.n(p),oe=e(12323),s=e(85893),H=new m.Terminal(D()(D()({},oe.Xq),{},{fontSize:12,lineHeight:1.2})),Y=new a.FitAddon,ne=new p.SearchAddon,fe=(0,_.forwardRef)(function(N,k){(0,_.useImperativeHandle)(k,function(){return{fit:function(){H.clear(),Y.fit()},start:function(){return d()(c()().mark(function I(){return c()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,ce({lineTotal:500});case 2:case"end":return u.stop()}},I)}))()},close:function(){ie.progress.close(N.id)}}});var ue=(0,_.useRef)(),ie=(0,S.useModel)("subscriber");ie.addDataHandler(N.id,function(y){H.write(y.data)});var ce=function(){var y=d()(c()().mark(function I(R){return c()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return H.clear(),R.download=!1,q.next=4,N.request(R);case 4:case"end":return q.stop()}},I)}));return function(R){return y.apply(this,arguments)}}();return(0,_.useEffect)(function(){return window.addEventListener("resize",function(){Y.fit()}),H.loadAddon(Y),H.open(document.getElementById("terminal-container-log")),Y.fit(),function(){H.clear(),H.reset(),ie.progress.close(N.id)}},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.A,{submitter:!1,layout:"horizontal",onValuesChange:function(I,R){ce({id:N.id,lineTotal:parseInt(R.lineTotal),showTime:R.showTime})},formRef:ue,children:(0,s.jsxs)(b.Z,{gutter:[10,0],children:[(0,s.jsx)(h.Z,{span:8,children:(0,s.jsx)(L.Z,{name:"lineTotal",initialValue:"500",label:"\u83B7\u53D6\u65E5\u5FD7\u6761\u6570",children:(0,s.jsxs)(O.Z,{defaultValue:"500",children:[(0,s.jsx)(O.Z.Option,{value:"100",children:"100\u6761\u65E5\u5FD7\u6570\u636E"}),(0,s.jsx)(O.Z.Option,{value:"200",children:"200\u6761\u65E5\u5FD7\u6570\u636E"}),(0,s.jsx)(O.Z.Option,{value:"500",children:"500\u6761\u65E5\u5FD7\u6570\u636E"}),(0,s.jsx)(O.Z.Option,{value:"1000",children:"1000\u6761\u65E5\u5FD7\u6570\u636E"}),(0,s.jsx)(O.Z.Option,{value:"-1",children:"\u5168\u90E8\uFF08\u4E0B\u8F7D\u53EF\u89C1\uFF09"})]})})}),(0,s.jsx)(h.Z,{children:(0,s.jsx)(W.ZP,{onClick:function(){H.clear()},children:"\u6E05\u5C4F"})}),(0,s.jsx)(h.Z,{children:(0,s.jsx)(L.Z,{name:"showTime",valuePropName:"checked",children:(0,s.jsx)(r.Z,{children:"\u663E\u793A\u65F6\u95F4"})})}),(0,s.jsx)(h.Z,{children:(0,s.jsx)(T.Z,{label:"\u67E5\u627E",name:"keywork"})}),(0,s.jsx)(h.Z,{children:(0,s.jsx)(C.Z,{name:["keywork"],children:function(I){var R=I.keywork;return(0,s.jsxs)(ae.Z,{size:10,children:[(0,s.jsx)(W.ZP,{onClick:function(){ne.findNext(R)},children:"\u4E0B\u4E00\u4E2A"},"next"),(0,s.jsx)(W.ZP,{onClick:function(){ne.findPrevious(R)},children:"\u4E0A\u4E00\u4E2A"},"prev")]})}})}),(0,s.jsx)(h.Z,{children:(0,s.jsx)(_e.Z,{icon:(0,s.jsx)(re.Z,{}),action:d()(c()().mark(function y(){var I,R,u;return c()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(!N.download){Q.next=5;break}return Q.next=3,N.download({lineTotal:parseInt((I=ue.current)===null||I===void 0?void 0:I.getFieldValue("lineTotal")),showTime:(R=ue.current)===null||R===void 0?void 0:R.getFieldValue("showTime")});case 3:u=Q.sent,(0,se.saveAs)(u.data,u.name);case 5:case"end":return Q.stop()}},y)})),children:"\u4E0B\u8F7D\u65E5\u5FD7"})})]})}),(0,s.jsx)("div",{style:{marginTop:"20px",height:N.showInDrawer?"75vh":"580px"},id:"terminal-container-log"})]})});$.Z=fe},2808:function(de,$,e){e.d($,{Z:function(){return _}});var U=e(97857),c=e.n(U),V=e(62370),d=e(51663),G=e(67294),D=e(85893);function _(x){return(0,D.jsx)(V.Z,c()(c()({},x),{},{children:(0,D.jsx)(d.Z,{showText:function(T){return T.toHexString()},allowClear:!0,presets:[{label:"\u9884\u8BBE\u989C\u8272",colors:["#1677ff","#722ed1","#13c2c2","#52c41a","#eb2f96","#f5222d","#fa8c16","#fadb14","#fa541c","#2f54eb","#faad14","#a0d911","#000000","#5cdbd3","#b37feb","#b7eb8f","#61affe","#9254de","#36cfc9","#ff9c6e","#ff6f00","#ffc069","#28a745","#6610f2","#6f42c1","#007bff","#17a2b8","#20c997","#00cccc","#ff6666"]}]})}))}},52756:function(de,$,e){e.r($),e.d($,{default:function(){return T},getLang:function(){return L}});var U=e(82346),c=e(31418),V=e(26058),d=e(85137),G=e(24963),D=e(65913),_=e(67294),x=e(85893);function L(C,S){return(0,U.getIntl)((0,U.getLocale)()).formatMessage({id:C},S)}function T(){var C=(0,_.useRef)(),S=(0,U.useIntl)(),b=function(i){for(var a=arguments.length,n=new Array(a>1?a-1:0),p=1;p<a;p++)n[p-1]=arguments[p];O.notification[i]({message:S.formatMessage({id:"notification.title."+i}),description:n.join(" "),placement:"topRight"})},h=function(i){for(var a=arguments.length,n=new Array(a>1?a-1:0),p=1;p<a;p++)n[p-1]=arguments[p];O.message[i](n.join(" "))},O=c.Z.useApp(),W=(0,U.useModel)("@@initialState"),r=W.initialState,ae=W.loading,_e=W.error,re=W.refresh,se=W.setInitialState,ee=(0,U.useModel)("subscriber");return r!=null&&r.user.username&&ee.addDataHandler("user:permission:".concat(r==null?void 0:r.user.username),function(m){re()}),(0,x.jsx)(V.Z,{children:(0,x.jsx)(G.Z.Provider,{value:{notice:{success:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];b.apply(void 0,["success"].concat(a))},error:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];b.apply(void 0,["error"].concat(a))},warning:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];b.apply(void 0,["warning"].concat(a))},info:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];b.apply(void 0,["info"].concat(a))},destroy:function(){O.notification.destroy()}},message:{success:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];h.apply(void 0,["success"].concat(a))},error:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];h.apply(void 0,["error"].concat(a))},warning:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];h.apply(void 0,["warning"].concat(a))},info:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];h.apply(void 0,["info"].concat(a))},loading:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];h.apply(void 0,["loading"].concat(a))},destroy:function(){O.message.destroy()}},loading:{show:function(){C.current&&C.current.show()},destroy:function(){C.current&&C.current.destroy()}},lang:function(i,a){return S.formatMessage({id:i},a)}},children:(0,x.jsxs)(D.Z,{ref:C,children:[(0,x.jsx)(U.Outlet,{}),(0,x.jsx)(d.Z.BackTop,{duration:10,style:{bottom:100}})]})},ae?"1":"2")})}},65913:function(de,$,e){var U=e(5574),c=e.n(U),V=e(74330),d=e(67294),G=e(85893),D=(0,d.forwardRef)(function(_,x){(0,d.useImperativeHandle)(x,function(){return{show:function(){S(!0)},destroy:function(){S(!1)}}});var L=(0,d.useState)(!1),T=c()(L,2),C=T[0],S=T[1];return(0,G.jsx)(V.Z,{spinning:C,size:"default",children:_.children})});$.Z=D},29453:function(de,$,e){e.d($,{A9:function(){return D},R3:function(){return S},e1:function(){return x},rn:function(){return T}});var U=e(15009),c=e.n(U),V=e(99289),d=e.n(V),G=e(82346);function D(h){return _.apply(this,arguments)}function _(){return _=d()(c()().mark(function h(O){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,G.request)("/api/common/tag/create",{method:"POST",data:O});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},h)})),_.apply(this,arguments)}function x(h){return L.apply(this,arguments)}function L(){return L=d()(c()().mark(function h(O){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,G.request)("/api/common/tag/get-list",{method:"POST",data:O});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},h)})),L.apply(this,arguments)}function T(h){return C.apply(this,arguments)}function C(){return C=d()(c()().mark(function h(O){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,G.request)("/api/common/tag/delete",{method:"POST",data:O});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},h)})),C.apply(this,arguments)}function S(h){return b.apply(this,arguments)}function b(){return b=d()(c()().mark(function h(O){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,G.request)("/api/pro/tag/get-url-detail",{method:"POST",data:O});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},h)})),b.apply(this,arguments)}}}]);
