!(function(){var le=Object.defineProperty,ue=Object.defineProperties;var ce=Object.getOwnPropertyDescriptors;var ee=Object.getOwnPropertySymbols;var _e=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var te=(W,y,t)=>y in W?le(W,y,{enumerable:!0,configurable:!0,writable:!0,value:t}):W[y]=t,ne=(W,y)=>{for(var t in y||(y={}))_e.call(y,t)&&te(W,t,y[t]);if(ee)for(var t of ee(y))de.call(y,t)&&te(W,t,y[t]);return W},re=(W,y)=>ue(W,ce(y));(self.webpackChunk=self.webpackChunk||[]).push([[3428],{23430:function(W,y,t){"use strict";t.d(y,{Z:function(){return R}});var T=t(87462),u=t(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},c=j,h=t(84089),v=function(n,i){return u.createElement(h.Z,(0,T.Z)({},n,{ref:i,icon:c}))},P=u.forwardRef(v),R=P},5966:function(W,y,t){"use strict";var T=t(97685),u=t(1413),j=t(45987),c=t(21770),h=t(72723),v=t(55241),P=t(97435),R=t(67294),r=t(35510),n=t(85893),i=["fieldProps","proFieldProps"],e=["fieldProps","proFieldProps"],l="text",s=function(E){var p=E.fieldProps,w=E.proFieldProps,A=(0,j.Z)(E,i);return(0,n.jsx)(r.Z,(0,u.Z)({valueType:l,fieldProps:p,filedConfig:{valueType:l},proFieldProps:w},A))},a=function(E){var p=(0,c.Z)(E.open||!1,{value:E.open,onChange:E.onOpenChange}),w=(0,T.Z)(p,2),A=w[0],d=w[1];return(0,n.jsx)(h.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(b){var o,C=b.getFieldValue(E.name||[]);return(0,n.jsx)(v.Z,(0,u.Z)((0,u.Z)({getPopupContainer:function(M){return M&&M.parentNode?M.parentNode:M},onOpenChange:function(M){return d(M)},content:(0,n.jsxs)("div",{style:{padding:"4px 0"},children:[(o=E.statusRender)===null||o===void 0?void 0:o.call(E,C),E.strengthText?(0,n.jsx)("div",{style:{marginTop:10},children:(0,n.jsx)("span",{children:E.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},E.popoverProps),{},{open:A,children:E.children}))}})},_=function(E){var p=E.fieldProps,w=E.proFieldProps,A=(0,j.Z)(E,e),d=(0,R.useState)(!1),f=(0,T.Z)(d,2),b=f[0],o=f[1];return p!=null&&p.statusRender&&A.name?(0,n.jsx)(a,{name:A.name,statusRender:p==null?void 0:p.statusRender,popoverProps:p==null?void 0:p.popoverProps,strengthText:p==null?void 0:p.strengthText,open:b,onOpenChange:o,children:(0,n.jsx)("div",{children:(0,n.jsx)(r.Z,(0,u.Z)({valueType:"password",fieldProps:(0,u.Z)((0,u.Z)({},(0,P.Z)(p,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(D){var M;p==null||(M=p.onBlur)===null||M===void 0||M.call(p,D),o(!1)},onClick:function(D){var M;p==null||(M=p.onClick)===null||M===void 0||M.call(p,D),o(!0)}}),proFieldProps:w,filedConfig:{valueType:l}},A))})}):(0,n.jsx)(r.Z,(0,u.Z)({valueType:"password",fieldProps:p,proFieldProps:w,filedConfig:{valueType:l}},A))},g=s;g.Password=_,g.displayName="ProFormComponent",y.Z=g},80821:function(W,y,t){"use strict";t.d(y,{Z:function(){return i}});var T=t(97857),u=t.n(T),j=t(5574),c=t.n(j),h=t(24963),v=t(86738),P=t(28036),R=t(83062),r=t(67294),n=t(85893);function i(e){var l=(0,r.useState)(!1),s=c()(l,2),a=s[0],_=s[1],g=(0,r.useContext)(h.Z),O=g.lang,E=g.message,p=function(){_(!0);var A=e.action();A instanceof Promise?A.then(function(d){if(_(!1),d){typeof e.onSuccess=="function"&&e.onSuccess(d);var f="";e.messageSuccess?typeof e.messageSuccess=="function"?f=e.messageSuccess(d):f=e.messageSuccess.indexOf("notification.")==0?O(e.messageSuccess):e.messageSuccess:f=O("notification.finish"),e.asynced?E.info(f):E.success(f)}}).catch(function(d){_(!1),typeof e.onError=="function"&&e.onError(d)}):_(!1)};return e.confirm?(0,n.jsx)(v.Z,u()(u()({style:{width:500},title:e.confirmTitle?e.confirmTitle:O("notification.title.tip"),description:typeof e.confirm=="string"&&e.confirm.indexOf("notification.")==0?O(e.confirm):e.confirm,onConfirm:p,okText:"Yes",cancelText:"No",onOpenChange:e.confirmOnOpenChange},e.confirmProps),{},{children:(0,n.jsx)(P.ZP,{block:e.block,disabled:e.disabled,icon:!e.children&&a?void 0:e.icon,loading:a,danger:e.danger,type:e.type,children:e.children})})):(0,n.jsx)(R.Z,{title:e.tips,children:(0,n.jsx)(P.ZP,{block:e.block,style:e.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:e.disabled,icon:!e.children&&a?void 0:e.icon,loading:a,onClick:p,danger:e.danger,type:e.type,children:e.children})})}},81146:function(W,y,t){"use strict";var T=t(97857),u=t.n(T),j=t(15009),c=t.n(j),h=t(99289),v=t.n(h),P=t(67294),R=t(97269),r=t(62370),n=t(5966),i=t(97462),e=t(82346),l=t(71230),s=t(15746),a=t(34041),_=t(28036),g=t(84567),O=t(42075),E=t(80821),p=t(23430),w=t(93162),A=t.n(w),d=t(78267),f=t.n(d),b=t(75458),o=t.n(b),C=t(12323),D=t(4244),M=t.n(D),U=t(24078),m=t(85893),L,Z,N,F={decorations:{matchBackground:"",matchBorder:"#FFFF00",activeMatchBackground:"#FFFF0066",matchOverviewRuler:"",activeMatchColorOverviewRuler:""}},z=(0,P.forwardRef)(function(K,G){var $=(0,P.useRef)(),Y=(0,e.useModel)("subscriber");(0,P.useImperativeHandle)(G,function(){return{fit:function(){L.clear(),N.fit()},start:function(){return v()(c()().mark(function x(){return c()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,J({lineTotal:500});case 2:case"end":return B.stop()}},x)}))()},close:function(){Y.progress.close(K.id)}}});function J(I){return X.apply(this,arguments)}function X(){return X=v()(c()().mark(function I(x){return c()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:L.clear(),x.download=!1,K.request(x);case 3:case"end":return B.stop()}},I)})),X.apply(this,arguments)}return(0,P.useEffect)(function(){return window.addEventListener("resize",function(){N.fit()}),L=new D.Terminal(u()(u()({},C.X),{},{fontSize:12,lineHeight:1.2,allowProposedApi:!0})),N=new d.FitAddon,Z=new b.SearchAddon({}),L.loadAddon(N),L.loadAddon(Z),L.open(document.getElementById("terminal-container-log")),N.fit(),Y.addDataHandler(K.id,function(I){L.write(I.data)}),function(){L.clear(),L.reset(),Y.progress.close(K.id)}},[]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(R.A,{submitter:!1,layout:"horizontal",onFinish:function(x){var S;J({id:K.id,lineTotal:parseInt(x.lineTotal),showTime:(S=x.showTime)!==null&&S!==void 0?S:!1})},formRef:$,children:(0,m.jsxs)(l.Z,{gutter:[10,0],children:[(0,m.jsx)(s.Z,{span:8,children:(0,m.jsx)(r.Z,{name:"lineTotal",initialValue:"500",label:"\u83B7\u53D6\u65E5\u5FD7\u6761\u6570",children:(0,m.jsxs)(a.Z,{defaultValue:"500",onChange:function(x){var S;(S=$.current)===null||S===void 0||S.submit()},children:[(0,m.jsx)(a.Z.Option,{value:"100",children:"100\u6761\u65E5\u5FD7\u6570\u636E"}),(0,m.jsx)(a.Z.Option,{value:"200",children:"200\u6761\u65E5\u5FD7\u6570\u636E"}),(0,m.jsx)(a.Z.Option,{value:"500",children:"500\u6761\u65E5\u5FD7\u6570\u636E"}),(0,m.jsx)(a.Z.Option,{value:"1000",children:"1000\u6761\u65E5\u5FD7\u6570\u636E"}),(0,m.jsx)(a.Z.Option,{value:"-1",children:"\u5168\u90E8\uFF08\u4E0B\u8F7D\u53EF\u89C1\uFF09"})]})})}),(0,m.jsx)(s.Z,{children:(0,m.jsx)(_.ZP,{onClick:function(){L.clear()},children:"\u6E05\u5C4F"})}),(0,m.jsx)(s.Z,{children:(0,m.jsx)(r.Z,{name:"showTime",valuePropName:"checked",children:(0,m.jsx)(g.Z,{onChange:function(x){var S;(S=$.current)===null||S===void 0||S.submit()},children:"\u663E\u793A\u65F6\u95F4"})})}),(0,m.jsx)(s.Z,{children:(0,m.jsx)(n.Z,{label:"\u67E5\u627E",name:"keywork",fieldProps:{onPressEnter:function(){var x;Z.findNext((x=$.current)===null||x===void 0?void 0:x.getFieldValue("keywork"),F)},onChange:function(x){Z.findNext(x.target.value,F)}},placeholder:"\u8F93\u5165\u5173\u952E\u5B57\u56DE\u8F66\u67E5\u627E"})}),(0,m.jsx)(s.Z,{children:(0,m.jsx)(i.Z,{name:["keywork"],children:function(x){var S=x.keywork;return(0,m.jsxs)(O.Z,{size:10,children:[(0,m.jsx)(_.ZP,{onClick:function(){Z.findNext(S,F)},children:"\u4E0B\u4E00\u4E2A"},"next"),(0,m.jsx)(_.ZP,{onClick:function(){Z.findPrevious(S,F)},children:"\u4E0A\u4E00\u4E2A"},"prev")]})}})}),(0,m.jsx)(s.Z,{children:(0,m.jsx)(E.Z,{icon:(0,m.jsx)(p.Z,{}),action:v()(c()().mark(function I(){var x,S,B;return c()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(!K.download){H.next=5;break}return H.next=3,K.download({lineTotal:parseInt((x=$.current)===null||x===void 0?void 0:x.getFieldValue("lineTotal")),showTime:(S=$.current)===null||S===void 0?void 0:S.getFieldValue("showTime")});case 3:B=H.sent,(0,w.saveAs)(B.data,B.name);case 5:case"end":return H.stop()}},I)})),children:"\u4E0B\u8F7D\u65E5\u5FD7"})})]})}),(0,m.jsx)("div",{style:{marginTop:"20px",height:K.showInDrawer?"75vh":"85vh"},id:"terminal-container-log"})]})});y.Z=z},12323:function(W,y,t){"use strict";t.d(y,{X:function(){return T},n:function(){return u}});var T={convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,lineHeight:1,cursorStyle:"block",cursorInactiveStyle:"outline",cursorBlink:!0,letterSpacing:0,theme:{foreground:"#bfbfbf",cursor:"gray",selectionForeground:"#ffffff"}},u=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"]},24963:function(W,y,t){"use strict";var T=t(67294),u=(0,T.createContext)({});y.Z=u},15141:function(W,y,t){"use strict";t.r(y),t.d(y,{default:function(){return l}});var T=t(15009),u=t.n(T),j=t(99289),c=t.n(j),h=t(81146),v=t(13822),P=t(62597),R=t(5251),r=t(38345),n=t(82346),i=t(67294),e=t(85893);function l(){var s=(0,n.useParams)(),a=(0,i.useRef)();return(0,i.useEffect)(function(){var _;return setTimeout(function(){if(s.id){var g,O;(g=a.current)===null||g===void 0||g.start(),(O=a.current)===null||O===void 0||O.fit()}},1e3),window.document.title="".concat((0,R.fi)((_=s.id)!==null&&_!==void 0?_:"","/")," - log"),function(){var g;(g=a.current)===null||g===void 0||g.close()}},[]),s.id&&(0,e.jsx)(r.Z,{children:(0,e.jsx)(h.Z,{id:"container:log:".concat(s.id),ref:a,request:function(){var _=c()(u()().mark(function g(O){return u()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,P.Tb)({id:s.id,lineTotal:O.lineTotal,download:O.download,showTime:O.showTime});case 2:case"end":return p.stop()}},g)}));return function(g){return _.apply(this,arguments)}}(),download:function(){var _=c()(u()().mark(function g(O){var E,p,w;return u()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,P.XH)({id:s.id,lineTotal:O.lineTotal,showTime:O.showTime});case 2:return p=d.sent,d.next=5,(0,v.jV)({md5:(E=s.id)!==null&&E!==void 0?E:""});case 5:return w=d.sent,d.abrupt("return",{data:new Blob([p],{type:"text/plain"}),name:w.data.info.Name.replaceAll("/","")+"_"+new Date().toLocaleDateString()+".log"});case 7:case"end":return d.stop()}},g)}));return function(g){return _.apply(this,arguments)}}()})})}},13822:function(W,y,t){"use strict";t.d(y,{IE:function(){return R},IW:function(){return v},KK:function(){return s},LJ:function(){return _},RF:function(){return p},Re:function(){return O},aF:function(){return A},eE:function(){return e},jV:function(){return n}});var T=t(15009),u=t.n(T),j=t(99289),c=t.n(j),h=t(82346);function v(f){return P.apply(this,arguments)}function P(){return P=c()(u()().mark(function f(b){return u()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,h.request)("/api/app/container/status",{method:"POST",data:b}));case 1:case"end":return C.stop()}},f)})),P.apply(this,arguments)}function R(f){return r.apply(this,arguments)}function r(){return r=c()(u()().mark(function f(b){return u()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,h.request)("/api/app/container/get-list",{data:b,method:"POST"}));case 1:case"end":return C.stop()}},f)})),r.apply(this,arguments)}function n(f){return i.apply(this,arguments)}function i(){return i=c()(u()().mark(function f(b){return u()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,h.request)("/api/app/container/get-detail",{data:b,method:"POST"}));case 1:case"end":return C.stop()}},f)})),i.apply(this,arguments)}function e(f){return l.apply(this,arguments)}function l(){return l=c()(u()().mark(function f(b){return u()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,h.request)("/api/app/container/update",{data:b,method:"POST"}));case 1:case"end":return C.stop()}},f)})),l.apply(this,arguments)}function s(){return a.apply(this,arguments)}function a(){return a=c()(u()().mark(function f(){return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,h.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return o.stop()}},f)})),a.apply(this,arguments)}function _(f){return g.apply(this,arguments)}function g(){return g=c()(u()().mark(function f(b){return u()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,h.request)("/api/app/container/export",{method:"POST",data:b,responseType:"blob"}));case 1:case"end":return C.stop()}},f)})),g.apply(this,arguments)}function O(f){return E.apply(this,arguments)}function E(){return E=c()(u()().mark(function f(b){return u()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,h.request)("/api/app/container/commit",{method:"POST",data:b}));case 1:case"end":return C.stop()}},f)})),E.apply(this,arguments)}function p(f){return w.apply(this,arguments)}function w(){return w=c()(u()().mark(function f(b){return u()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,h.request)("/api/app/container/upgrade",{method:"POST",data:b}));case 1:case"end":return C.stop()}},f)})),w.apply(this,arguments)}function A(f){return d.apply(this,arguments)}function d(){return d=c()(u()().mark(function f(b){return u()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,h.request)("/api/app/container/copy",{method:"POST",data:b}));case 1:case"end":return C.stop()}},f)})),d.apply(this,arguments)}},62597:function(W,y,t){"use strict";t.d(y,{$G:function(){return v},Ct:function(){return g},Tb:function(){return i},XH:function(){return l},cl:function(){return r},fp:function(){return R},iE:function(){return a},xb:function(){return E},ze:function(){return w}});var T=t(15009),u=t.n(T),j=t(99289),c=t.n(j),h=t(82346);function v(d){return P.apply(this,arguments)}function P(){return P=c()(u()().mark(function d(f){return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,h.request)("/api/app/site/create-by-image",{method:"POST",data:f}));case 1:case"end":return o.stop()}},d)})),P.apply(this,arguments)}var R={EnvValueRuleRequired:1,EnvValueRuleDisabled:2,EnvValueTypeNumber:1024,EnvValueTypeText:2048,EnvValueTypeSelect:4096};function r(d){return n.apply(this,arguments)}function n(){return n=c()(u()().mark(function d(f){return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,h.request)("/api/app/site/get-list",{method:"POST",data:f}));case 1:case"end":return o.stop()}},d)})),n.apply(this,arguments)}function i(d){return e.apply(this,arguments)}function e(){return e=c()(u()().mark(function d(f){return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return f.download=!1,o.next=3,(0,h.request)("/api/app/log/run",{method:"POST",data:f});case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}},d)})),e.apply(this,arguments)}function l(d){return s.apply(this,arguments)}function s(){return s=c()(u()().mark(function d(f){return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return f.download=!0,o.next=3,(0,h.request)("/api/app/log/run",{method:"POST",data:f,responseType:"blob"});case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}},d)})),s.apply(this,arguments)}function a(d){return _.apply(this,arguments)}function _(){return _=c()(u()().mark(function d(f){return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return f.id=String(f.id),o.next=3,(0,h.request)("/api/app/site/get-detail",{data:f,method:"POST"});case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}},d)})),_.apply(this,arguments)}function g(d){return O.apply(this,arguments)}function O(){return O=c()(u()().mark(function d(f){return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,h.request)("/api/app/container/delete",{method:"POST",data:f}));case 1:case"end":return o.stop()}},d)})),O.apply(this,arguments)}function E(d){return p.apply(this,arguments)}function p(){return p=c()(u()().mark(function d(f){return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,h.request)("/api/app/site/delete",{method:"POST",data:f}));case 1:case"end":return o.stop()}},d)})),p.apply(this,arguments)}function w(d){return A.apply(this,arguments)}function A(){return A=c()(u()().mark(function d(f){return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,h.request)("/api/app/container/ignore",{method:"POST",data:f}));case 1:case"end":return o.stop()}},d)})),A.apply(this,arguments)}},75458:function(W){(function(y,t){W.exports=t()})(self,()=>(()=>{"use strict";var y={345:(j,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.runAndSubscribe=c.forwardEvent=c.EventEmitter=void 0,c.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=h=>(this._listeners.push(h),{dispose:()=>{if(!this._disposed){for(let v=0;v<this._listeners.length;v++)if(this._listeners[v]===h)return void this._listeners.splice(v,1)}}})),this._event}fire(h,v){const P=[];for(let R=0;R<this._listeners.length;R++)P.push(this._listeners[R]);for(let R=0;R<P.length;R++)P[R].call(void 0,h,v)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},c.forwardEvent=function(h,v){return h(P=>v.fire(P))},c.runAndSubscribe=function(h,v){return v(void 0),h(P=>v(P))}},859:(j,c)=>{function h(v){for(const P of v)P.dispose();v.length=0}Object.defineProperty(c,"__esModule",{value:!0}),c.getDisposeArrayDisposable=c.disposeArray=c.toDisposable=c.MutableDisposable=c.Disposable=void 0,c.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const v of this._disposables)v.dispose();this._disposables.length=0}register(v){return this._disposables.push(v),v}unregister(v){const P=this._disposables.indexOf(v);P!==-1&&this._disposables.splice(P,1)}},c.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(v){var P;this._isDisposed||v===this._value||((P=this._value)==null||P.dispose(),this._value=v)}clear(){this.value=void 0}dispose(){var v;this._isDisposed=!0,(v=this._value)==null||v.dispose(),this._value=void 0}},c.toDisposable=function(v){return{dispose:v}},c.disposeArray=h,c.getDisposeArrayDisposable=function(v){return{dispose:()=>h(v)}}}},t={};function T(j){var c=t[j];if(c!==void 0)return c.exports;var h=t[j]={exports:{}};return y[j](h,h.exports,T),h.exports}var u={};return(()=>{var j=u;Object.defineProperty(j,"__esModule",{value:!0}),j.SearchAddon=void 0;const c=T(345),h=T(859),v=" ~!@#$%^&*()+`-=[]{}|\\;:\"',./<>?";class P extends h.Disposable{constructor(r){var n;super(),this._highlightedLines=new Set,this._highlightDecorations=[],this._selectedDecoration=this.register(new h.MutableDisposable),this._linesCacheTimeoutId=0,this._linesCacheDisposables=new h.MutableDisposable,this._onDidChangeResults=this.register(new c.EventEmitter),this.onDidChangeResults=this._onDidChangeResults.event,this._highlightLimit=(n=r==null?void 0:r.highlightLimit)!=null?n:1e3}activate(r){this._terminal=r,this.register(this._terminal.onWriteParsed(()=>this._updateMatches())),this.register(this._terminal.onResize(()=>this._updateMatches())),this.register((0,h.toDisposable)(()=>this.clearDecorations()))}_updateMatches(){var r;this._highlightTimeout&&window.clearTimeout(this._highlightTimeout),this._cachedSearchTerm&&((r=this._lastSearchOptions)!=null&&r.decorations)&&(this._highlightTimeout=setTimeout(()=>{const n=this._cachedSearchTerm;this._cachedSearchTerm=void 0,this.findPrevious(n,re(ne({},this._lastSearchOptions),{incremental:!0,noScroll:!0}))},200))}clearDecorations(r){this._selectedDecoration.clear(),(0,h.disposeArray)(this._highlightDecorations),this._highlightDecorations=[],this._highlightedLines.clear(),r||(this._cachedSearchTerm=void 0)}clearActiveDecoration(){this._selectedDecoration.clear()}findNext(r,n){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const i=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,n);this._lastSearchOptions=n,n!=null&&n.decorations&&(this._cachedSearchTerm===void 0||r!==this._cachedSearchTerm||i)&&this._highlightAllMatches(r,n);const e=this._findNextAndSelect(r,n);return this._fireResults(n),this._cachedSearchTerm=r,e}_highlightAllMatches(r,n){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!r||r.length===0)return void this.clearDecorations();n=n||{},this.clearDecorations(!0);const i=[];let e,l=this._find(r,0,0,n);for(;l&&((e==null?void 0:e.row)!==l.row||(e==null?void 0:e.col)!==l.col)&&!(i.length>=this._highlightLimit);)e=l,i.push(e),l=this._find(r,e.col+e.term.length>=this._terminal.cols?e.row+1:e.row,e.col+e.term.length>=this._terminal.cols?0:e.col+1,n);for(const s of i){const a=this._createResultDecoration(s,n.decorations);a&&(this._highlightedLines.add(a.marker.line),this._highlightDecorations.push({decoration:a,match:s,dispose(){a.dispose()}}))}}_find(r,n,i,e){var a;if(!this._terminal||!r||r.length===0)return(a=this._terminal)==null||a.clearSelection(),void this.clearDecorations();if(i>this._terminal.cols)throw new Error(`Invalid col: ${i} to search in terminal of ${this._terminal.cols} cols`);let l;this._initLinesCache();const s={startRow:n,startCol:i};if(l=this._findInLine(r,s,e),!l)for(let _=n+1;_<this._terminal.buffer.active.baseY+this._terminal.rows&&(s.startRow=_,s.startCol=0,l=this._findInLine(r,s,e),!l);_++);return l}_findNextAndSelect(r,n){var _;if(!this._terminal||!r||r.length===0)return(_=this._terminal)==null||_.clearSelection(),this.clearDecorations(),!1;const i=this._terminal.getSelectionPosition();this._terminal.clearSelection();let e=0,l=0;i&&(this._cachedSearchTerm===r?(e=i.end.x,l=i.end.y):(e=i.start.x,l=i.start.y)),this._initLinesCache();const s={startRow:l,startCol:e};let a=this._findInLine(r,s,n);if(!a)for(let g=l+1;g<this._terminal.buffer.active.baseY+this._terminal.rows&&(s.startRow=g,s.startCol=0,a=this._findInLine(r,s,n),!a);g++);if(!a&&l!==0)for(let g=0;g<l&&(s.startRow=g,s.startCol=0,a=this._findInLine(r,s,n),!a);g++);return!a&&i&&(s.startRow=i.start.y,s.startCol=0,a=this._findInLine(r,s,n)),this._selectResult(a,n==null?void 0:n.decorations,n==null?void 0:n.noScroll)}findPrevious(r,n){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const i=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,n);this._lastSearchOptions=n,n!=null&&n.decorations&&(this._cachedSearchTerm===void 0||r!==this._cachedSearchTerm||i)&&this._highlightAllMatches(r,n);const e=this._findPreviousAndSelect(r,n);return this._fireResults(n),this._cachedSearchTerm=r,e}_didOptionsChange(r,n){return!!n&&(r.caseSensitive!==n.caseSensitive||r.regex!==n.regex||r.wholeWord!==n.wholeWord)}_fireResults(r){if(r!=null&&r.decorations){let n=-1;if(this._selectedDecoration.value){const i=this._selectedDecoration.value.match;for(let e=0;e<this._highlightDecorations.length;e++){const l=this._highlightDecorations[e].match;if(l.row===i.row&&l.col===i.col&&l.size===i.size){n=e;break}}}this._onDidChangeResults.fire({resultIndex:n,resultCount:this._highlightDecorations.length})}}_findPreviousAndSelect(r,n){var g;if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!this._terminal||!r||r.length===0)return(g=this._terminal)==null||g.clearSelection(),this.clearDecorations(),!1;const i=this._terminal.getSelectionPosition();this._terminal.clearSelection();let e=this._terminal.buffer.active.baseY+this._terminal.rows-1,l=this._terminal.cols;const s=!0;this._initLinesCache();const a={startRow:e,startCol:l};let _;if(i&&(a.startRow=e=i.start.y,a.startCol=l=i.start.x,this._cachedSearchTerm!==r&&(_=this._findInLine(r,a,n,!1),_||(a.startRow=e=i.end.y,a.startCol=l=i.end.x))),_||(_=this._findInLine(r,a,n,s)),!_){a.startCol=Math.max(a.startCol,this._terminal.cols);for(let O=e-1;O>=0&&(a.startRow=O,_=this._findInLine(r,a,n,s),!_);O--);}if(!_&&e!==this._terminal.buffer.active.baseY+this._terminal.rows-1)for(let O=this._terminal.buffer.active.baseY+this._terminal.rows-1;O>=e&&(a.startRow=O,_=this._findInLine(r,a,n,s),!_);O--);return this._selectResult(_,n==null?void 0:n.decorations,n==null?void 0:n.noScroll)}_initLinesCache(){const r=this._terminal;this._linesCache||(this._linesCache=new Array(r.buffer.active.length),this._linesCacheDisposables.value=(0,h.getDisposeArrayDisposable)([r.onLineFeed(()=>this._destroyLinesCache()),r.onCursorMove(()=>this._destroyLinesCache()),r.onResize(()=>this._destroyLinesCache())])),window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=window.setTimeout(()=>this._destroyLinesCache(),15e3)}_destroyLinesCache(){this._linesCache=void 0,this._linesCacheDisposables.clear(),this._linesCacheTimeoutId&&(window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=0)}_isWholeWord(r,n,i){return(r===0||v.includes(n[r-1]))&&(r+i.length===n.length||v.includes(n[r+i.length]))}_findInLine(r,n,i={},e=!1){var f;const l=this._terminal,s=n.startRow,a=n.startCol,_=l.buffer.active.getLine(s);if(_!=null&&_.isWrapped)return e?void(n.startCol+=l.cols):(n.startRow--,n.startCol+=l.cols,this._findInLine(r,n,i));let g=(f=this._linesCache)==null?void 0:f[s];g||(g=this._translateBufferLineToStringWithWrap(s,!0),this._linesCache&&(this._linesCache[s]=g));const[O,E]=g,p=this._bufferColsToStringOffset(s,a),w=i.caseSensitive?r:r.toLowerCase(),A=i.caseSensitive?O:O.toLowerCase();let d=-1;if(i.regex){const b=RegExp(w,"g");let o;if(e)for(;o=b.exec(A.slice(0,p));)d=b.lastIndex-o[0].length,r=o[0],b.lastIndex-=r.length-1;else o=b.exec(A.slice(p)),o&&o[0].length>0&&(d=p+(b.lastIndex-o[0].length),r=o[0])}else e?p-w.length>=0&&(d=A.lastIndexOf(w,p-w.length)):d=A.indexOf(w,p);if(d>=0){if(i.wholeWord&&!this._isWholeWord(d,A,r))return;let b=0;for(;b<E.length-1&&d>=E[b+1];)b++;let o=b;for(;o<E.length-1&&d+r.length>=E[o+1];)o++;const C=d-E[b],D=d+r.length-E[o],M=this._stringLengthToBufferSize(s+b,C);return{term:r,col:M,row:s+b,size:this._stringLengthToBufferSize(s+o,D)-M+l.cols*(o-b)}}}_stringLengthToBufferSize(r,n){const i=this._terminal.buffer.active.getLine(r);if(!i)return 0;for(let e=0;e<n;e++){const l=i.getCell(e);if(!l)break;const s=l.getChars();s.length>1&&(n-=s.length-1);const a=i.getCell(e+1);a&&a.getWidth()===0&&n++}return n}_bufferColsToStringOffset(r,n){const i=this._terminal;let e=r,l=0,s=i.buffer.active.getLine(e);for(;n>0&&s;){for(let a=0;a<n&&a<i.cols;a++){const _=s.getCell(a);if(!_)break;_.getWidth()&&(l+=_.getCode()===0?1:_.getChars().length)}if(e++,s=i.buffer.active.getLine(e),s&&!s.isWrapped)break;n-=i.cols}return l}_translateBufferLineToStringWithWrap(r,n){var a;const i=this._terminal,e=[],l=[0];let s=i.buffer.active.getLine(r);for(;s;){const _=i.buffer.active.getLine(r+1),g=!!_&&_.isWrapped;let O=s.translateToString(!g&&n);if(g&&_){const E=s.getCell(s.length-1);E&&E.getCode()===0&&E.getWidth()===1&&((a=_.getCell(0))==null?void 0:a.getWidth())===2&&(O=O.slice(0,-1))}if(e.push(O),!g)break;l.push(l[l.length-1]+O.length),r++,s=_}return[e.join(""),l]}_selectResult(r,n,i){const e=this._terminal;if(this._selectedDecoration.clear(),!r)return e.clearSelection(),!1;if(e.select(r.col,r.row,r.size),n){const l=e.registerMarker(-e.buffer.active.baseY-e.buffer.active.cursorY+r.row);if(l){const s=e.registerDecoration({marker:l,x:r.col,width:r.size,backgroundColor:n.activeMatchBackground,layer:"top",overviewRulerOptions:{color:n.activeMatchColorOverviewRuler}});if(s){const a=[];a.push(l),a.push(s.onRender(_=>this._applyStyles(_,n.activeMatchBorder,!0))),a.push(s.onDispose(()=>(0,h.disposeArray)(a))),this._selectedDecoration.value={decoration:s,match:r,dispose(){s.dispose()}}}}}if(!i&&(r.row>=e.buffer.active.viewportY+e.rows||r.row<e.buffer.active.viewportY)){let l=r.row-e.buffer.active.viewportY;l-=Math.floor(e.rows/2),e.scrollLines(l)}return!0}_applyStyles(r,n,i){r.classList.contains("xterm-find-result-decoration")||(r.classList.add("xterm-find-result-decoration"),n&&(r.style.outline=`1px solid ${n}`)),i&&r.classList.add("xterm-find-active-result-decoration")}_createResultDecoration(r,n){const i=this._terminal,e=i.registerMarker(-i.buffer.active.baseY-i.buffer.active.cursorY+r.row);if(!e)return;const l=i.registerDecoration({marker:e,x:r.col,width:r.size,backgroundColor:n.matchBackground,overviewRulerOptions:this._highlightedLines.has(e.line)?void 0:{color:n.matchOverviewRuler,position:"center"}});if(l){const s=[];s.push(e),s.push(l.onRender(a=>this._applyStyles(a,n.matchBorder,!1))),s.push(l.onDispose(()=>(0,h.disposeArray)(s)))}return l}}j.SearchAddon=P})(),u})())},86738:function(W,y,t){"use strict";t.d(y,{Z:function(){return C}});var T=t(67294),u=t(21640),j=t(93967),c=t.n(j),h=t(21770),v=t(98423),P=t(53124),R=t(55241),r=t(86743),n=t(81643),i=t(28036),e=t(33671),l=t(10110),s=t(24457),a=t(66330),_=t(83559);const g=D=>{const{componentCls:M,iconCls:U,antCls:m,zIndexPopup:L,colorText:Z,colorWarning:N,marginXXS:F,marginXS:z,fontSize:K,fontWeightStrong:G,colorTextHeading:$}=D;return{[M]:{zIndex:L,[`&${m}-popover`]:{fontSize:K},[`${M}-message`]:{marginBottom:z,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${M}-message-icon ${U}`]:{color:N,fontSize:K,lineHeight:1,marginInlineEnd:z},[`${M}-title`]:{fontWeight:G,color:$,"&:only-child":{fontWeight:"normal"}},[`${M}-description`]:{marginTop:F,color:Z}},[`${M}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:z}}}}},O=D=>{const{zIndexPopupBase:M}=D;return{zIndexPopup:M+60}};var E=(0,_.I$)("Popconfirm",D=>g(D),O,{resetStyle:!1}),p=function(D,M){var U={};for(var m in D)Object.prototype.hasOwnProperty.call(D,m)&&M.indexOf(m)<0&&(U[m]=D[m]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,m=Object.getOwnPropertySymbols(D);L<m.length;L++)M.indexOf(m[L])<0&&Object.prototype.propertyIsEnumerable.call(D,m[L])&&(U[m[L]]=D[m[L]]);return U};const w=D=>{const{prefixCls:M,okButtonProps:U,cancelButtonProps:m,title:L,description:Z,cancelText:N,okText:F,okType:z="primary",icon:K=T.createElement(u.Z,null),showCancel:G=!0,close:$,onConfirm:Y,onCancel:J,onPopupClick:X}=D,{getPrefixCls:I}=T.useContext(P.E_),[x]=(0,l.Z)("Popconfirm",s.Z.Popconfirm),S=(0,n.Z)(L),B=(0,n.Z)(Z);return T.createElement("div",{className:`${M}-inner-content`,onClick:X},T.createElement("div",{className:`${M}-message`},K&&T.createElement("span",{className:`${M}-message-icon`},K),T.createElement("div",{className:`${M}-message-text`},S&&T.createElement("div",{className:`${M}-title`},S),B&&T.createElement("div",{className:`${M}-description`},B))),T.createElement("div",{className:`${M}-buttons`},G&&T.createElement(i.ZP,Object.assign({onClick:J,size:"small"},m),N||(x==null?void 0:x.cancelText)),T.createElement(r.Z,{buttonProps:Object.assign(Object.assign({size:"small"},(0,e.nx)(z)),U),actionFn:Y,close:$,prefixCls:I("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},F||(x==null?void 0:x.okText))))};var d=D=>{const{prefixCls:M,placement:U,className:m,style:L}=D,Z=p(D,["prefixCls","placement","className","style"]),{getPrefixCls:N}=T.useContext(P.E_),F=N("popconfirm",M),[z]=E(F);return z(T.createElement(a.ZP,{placement:U,className:c()(F,m),style:L,content:T.createElement(w,Object.assign({prefixCls:F},Z))}))},f=function(D,M){var U={};for(var m in D)Object.prototype.hasOwnProperty.call(D,m)&&M.indexOf(m)<0&&(U[m]=D[m]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,m=Object.getOwnPropertySymbols(D);L<m.length;L++)M.indexOf(m[L])<0&&Object.prototype.propertyIsEnumerable.call(D,m[L])&&(U[m[L]]=D[m[L]]);return U};const o=T.forwardRef((D,M)=>{var U,m;const{prefixCls:L,placement:Z="top",trigger:N="click",okType:F="primary",icon:z=T.createElement(u.Z,null),children:K,overlayClassName:G,onOpenChange:$,onVisibleChange:Y}=D,J=f(D,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:X}=T.useContext(P.E_),[I,x]=(0,h.Z)(!1,{value:(U=D.open)!==null&&U!==void 0?U:D.visible,defaultValue:(m=D.defaultOpen)!==null&&m!==void 0?m:D.defaultVisible}),S=(k,V)=>{x(k,!0),Y==null||Y(k),$==null||$(k,V)},B=k=>{S(!1,k)},q=k=>{var V;return(V=D.onConfirm)===null||V===void 0?void 0:V.call(void 0,k)},H=k=>{var V;S(!1,k),(V=D.onCancel)===null||V===void 0||V.call(void 0,k)},se=(k,V)=>{const{disabled:oe=!1}=D;oe||S(k,V)},Q=X("popconfirm",L),ie=c()(Q,G),[ae]=E(Q);return ae(T.createElement(R.Z,Object.assign({},(0,v.Z)(J,["title"]),{trigger:N,placement:Z,onOpenChange:se,open:I,ref:M,overlayClassName:ie,content:T.createElement(w,Object.assign({okType:F,icon:z},D,{prefixCls:Q,close:B,onConfirm:q,onCancel:H})),"data-popover-inject":!0}),K))});o._InternalPanelDoNotUseOrYouWillBeFired=d;var C=o},93162:function(W,y,t){var T,u,j;(function(c,h){u=[],T=h,j=typeof T=="function"?T.apply(y,u):T,j!==void 0&&(W.exports=j)})(this,function(){"use strict";function c(i,e){return typeof e=="undefined"?e={autoBom:!1}:typeof e!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}function h(i,e,l){var s=new XMLHttpRequest;s.open("GET",i),s.responseType="blob",s.onload=function(){n(s.response,e,l)},s.onerror=function(){console.error("could not download file")},s.send()}function v(i){var e=new XMLHttpRequest;e.open("HEAD",i,!1);try{e.send()}catch(l){}return 200<=e.status&&299>=e.status}function P(i){try{i.dispatchEvent(new MouseEvent("click"))}catch(l){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(e)}}var R=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof t.g=="object"&&t.g.global===t.g?t.g:void 0,r=R.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),n=R.saveAs||(typeof window!="object"||window!==R?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(i,e,l){var s=R.URL||R.webkitURL,a=document.createElement("a");e=e||i.name||"download",a.download=e,a.rel="noopener",typeof i=="string"?(a.href=i,a.origin===location.origin?P(a):v(a.href)?h(i,e,l):P(a,a.target="_blank")):(a.href=s.createObjectURL(i),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){P(a)},0))}:"msSaveOrOpenBlob"in navigator?function(i,e,l){if(e=e||i.name||"download",typeof i!="string")navigator.msSaveOrOpenBlob(c(i,l),e);else if(v(i))h(i,e,l);else{var s=document.createElement("a");s.href=i,s.target="_blank",setTimeout(function(){P(s)})}}:function(i,e,l,s){if(s=s||open("","_blank"),s&&(s.document.title=s.document.body.innerText="downloading..."),typeof i=="string")return h(i,e,l);var a=i.type==="application/octet-stream",_=/constructor/i.test(R.HTMLElement)||R.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||a&&_||r)&&typeof FileReader!="undefined"){var O=new FileReader;O.onloadend=function(){var w=O.result;w=g?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=w:location=w,s=null},O.readAsDataURL(i)}else{var E=R.URL||R.webkitURL,p=E.createObjectURL(i);s?s.location=p:location.href=p,s=null,setTimeout(function(){E.revokeObjectURL(p)},4e4)}});R.saveAs=n.saveAs=n,W.exports=n})}}]);
}());