"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8878],{16596:function(C,i,e){e.d(i,{Z:function(){return c}});var s=e(87462),n=e(67294),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},r=d,_=e(84089),u=function(o,t){return n.createElement(_.Z,(0,s.Z)({},o,{ref:t,icon:r}))},f=n.forwardRef(u),c=f},55809:function(C,i,e){var s=e(87462),n=e(67294),d=e(44805),r=e(84089),_=function(c,p){return n.createElement(r.Z,(0,s.Z)({},c,{ref:p,icon:d.Z}))},u=n.forwardRef(_);i.Z=u},2741:function(C,i,e){e.d(i,{Z:function(){return c}});var s=e(87462),n=e(67294),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z"}}]},name:"file",theme:"filled"},r=d,_=e(84089),u=function(o,t){return n.createElement(_.Z,(0,s.Z)({},o,{ref:t,icon:r}))},f=n.forwardRef(u),c=f},27461:function(C,i,e){e.d(i,{Z:function(){return c}});var s=e(87462),n=e(67294),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M296 392h64v64h-64zm0 190v160h128V582h-64v-62h-64v62zm80 48v64h-32v-64h32zm-16-302h64v64h-64zm-64-64h64v64h-64zm64 192h64v64h-64zm0-256h64v64h-64zm494.6 88.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h64v64h64v-64h174v216a42 42 0 0042 42h216v494z"}}]},name:"file-zip",theme:"outlined"},r=d,_=e(84089),u=function(o,t){return n.createElement(_.Z,(0,s.Z)({},o,{ref:t,icon:r}))},f=n.forwardRef(u),c=f},93613:function(C,i,e){e.d(i,{Z:function(){return c}});var s=e(87462),n=e(67294),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32z"}}]},name:"folder",theme:"filled"},r=d,_=e(84089),u=function(o,t){return n.createElement(_.Z,(0,s.Z)({},o,{ref:t,icon:r}))},f=n.forwardRef(u),c=f},27254:function(C,i,e){e.d(i,{Z:function(){return c}});var s=e(87462),n=e(67294),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zm-180 0H238c-13 0-24.8 7.9-29.7 20L136 643.2V256h188.5l119.6 114.4H748V444z"}}]},name:"folder-open",theme:"filled"},r=d,_=e(84089),u=function(o,t){return n.createElement(_.Z,(0,s.Z)({},o,{ref:t,icon:r}))},f=n.forwardRef(u),c=f},31574:function(C,i,e){var s=e(87462),n=e(67294),d=e(97211),r=e(84089),_=function(c,p){return n.createElement(r.Z,(0,s.Z)({},c,{ref:p,icon:d.Z}))},u=n.forwardRef(_);i.Z=u},74842:function(C,i,e){e.d(i,{Z:function(){return c}});var s=e(87462),n=e(67294),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},r=d,_=e(84089),u=function(o,t){return n.createElement(_.Z,(0,s.Z)({},o,{ref:t,icon:r}))},f=n.forwardRef(u),c=f},60219:function(C,i,e){e.d(i,{Z:function(){return c}});var s=e(87462),n=e(67294),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},r=d,_=e(84089),u=function(o,t){return n.createElement(_.Z,(0,s.Z)({},o,{ref:t,icon:r}))},f=n.forwardRef(u),c=f},87784:function(C,i,e){e.d(i,{Z:function(){return c}});var s=e(87462),n=e(67294),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},r=d,_=e(84089),u=function(o,t){return n.createElement(_.Z,(0,s.Z)({},o,{ref:t,icon:r}))},f=n.forwardRef(u),c=f},63434:function(C,i,e){var s=e(1413),n=e(45987),d=e(22270),r=e(84567),_=e(67294),u=e(90789),f=e(40284),c=e(85893),p=["options","fieldProps","proFieldProps","valueEnum"],o=_.forwardRef(function(v,P){var M=v.options,E=v.fieldProps,O=v.proFieldProps,L=v.valueEnum,T=(0,n.Z)(v,p);return(0,c.jsx)(f.Z,(0,s.Z)({ref:P,valueType:"checkbox",valueEnum:(0,d.h)(L,void 0),fieldProps:(0,s.Z)({options:M},E),lightProps:(0,s.Z)({labelFormatter:function(){return(0,c.jsx)(f.Z,(0,s.Z)({ref:P,valueType:"checkbox",mode:"read",valueEnum:(0,d.h)(L,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,s.Z)({options:M},E),proFieldProps:O},T))}},T.lightProps),proFieldProps:O},T))}),t=_.forwardRef(function(v,P){var M=v.fieldProps,E=v.children;return(0,c.jsx)(r.Z,(0,s.Z)((0,s.Z)({ref:P},M),{},{children:E}))}),m=(0,u.G)(t,{valuePropName:"checked"}),h=m;h.Group=o,i.Z=h},1699:function(C,i,e){e.d(i,{u:function(){return o}});var s=e(9783),n=e.n(s),d=e(97857),r=e.n(d),_=e(67294),u=e(82346),f=e(40411),c=e(42075),p=e(85893),o=function(m){var h=(0,u.useAccess)(),v=Array.isArray(m.access)?m.access:[m.access],P,M=m.fallback;if(typeof m.children=="function"?(P=m.children(v.reduce(function(E,O){return r()(r()({},E),{},n()({},O,h[O]))},{})),P||(P=M)):v.every(function(E){return h[E]})?P=m.children:P=M,!M&&P&&m.showProTips&&h.canSeeEnableCe){if(h.canSeeEnableHiddenProTips)return null;P=(0,p.jsx)(f.Z,{offset:m.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:P})}if(!M&&P&&m.showProRibbonTips&&h.canSeeEnableCe){if(h.canSeeEnableHiddenProTips)return null;P=(0,p.jsx)(f.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:P})}return m.space?(0,p.jsx)(c.Z,r()(r()({},m.space),{},{children:P})):P}},3616:function(C,i,e){e.d(i,{Ed:function(){return r},FK:function(){return n},R_:function(){return s},ob:function(){return d}});var s=window.innerWidth<=1024?"90vw":"65vw",n="90vw",d="60vw",r="50vh"},24963:function(C,i,e){var s=e(67294),n=(0,s.createContext)({});i.Z=n},29798:function(C,i,e){e.r(i),e.d(i,{default:function(){return O}});var s=e(5574),n=e.n(s),d=e(13822),r=e(38345),_=e(82346),u=e(67294),f=e(24963),c=e(50070),p=e(37767),o=e(52031),t=e(14189),m=e(53399),h=e(14245),v=e(1699),P=e(55375),M=e(67255),E=e(85893);function O(){var L=(0,u.useContext)(f.Z),T=L.loading,A=(0,u.useContext)(c.AppDetailContext),W=(0,_.useParams)(),b=(0,u.useState)(),g=n()(b,2),l=g[0],D=g[1],I=(0,u.useState)(1),a=n()(I,2),F=a[0],V=a[1],y=(0,_.useNavigate)();return(0,u.useEffect)(function(){var B;T.show(),A.reload(),(0,d.jV)({md5:(B=W.id)!==null&&B!==void 0?B:""}).then(function(j){j.data&&(j.data.info.HostConfig.NetworkMode=="host"&&j.data.info.Config.ExposedPorts&&Object.keys(j.data.info.Config.ExposedPorts).map(function(U){j.data.info.NetworkSettings.Ports[U]=[{HostIp:"0.0.0.0",HostPort:U.substring(0,U.indexOf("/"))}]}),D(j.data))}).finally(function(){T.destroy()})},[F]),(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(r.Z,{direction:"column",gutter:[0,10],children:[(l==null?void 0:l.info)&&(0,E.jsx)(t.Z,{data:l.info}),(l==null?void 0:l.info)&&(0,E.jsx)(v.u,{access:["canSeeContainerListManage","canSeeContainerListManageOp"],children:(0,E.jsx)(m.Z,{data:l,checkContainerUpgrade:function(){y("/app/list",{state:{page:(0,M.G$)(P.q9)}})}})}),l&&(0,E.jsx)(p.Z,{data:l}),l&&(0,E.jsx)(o.Z,{data:l==null?void 0:l.info}),l&&(0,E.jsx)(h.Z,{data:l.info})]})})}},50070:function(C,i,e){e.r(i),e.d(i,{AppDetailContext:function(){return L},default:function(){return T}});var s=e(15009),n=e.n(s),d=e(99289),r=e.n(d),_=e(5574),u=e.n(_),f=e(1699),c=e(24963),p=e(13822),o=e(36146),t=e(55809),m=e(90078),h=e(82346),v=e(25593),P=e(83622),M=e(50136),E=e(67294),O=e(85893),L=(0,E.createContext)({});function T(){var A,W=(0,E.useContext)(c.Z),b=W.loading,g=(0,h.useParams)(),l=(0,h.useSearchParams)(),D=u()(l,2),I=D[0],a=D[1],F=(A=I.get("tab"))!==null&&A!==void 0?A:"edit",V=(0,E.useState)("edit"),y=u()(V,2),B=y[0],j=y[1],U=(0,h.useNavigate)(),X=(0,E.useState)(1),$=u()(X,2),G=$[0],Q=$[1],N=[{label:(0,O.jsx)(h.Link,{to:"/app/detail/edit/".concat(g.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,O.jsx)(h.Link,{to:"/app/detail/network/".concat(g.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,O.jsx)(v.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){U("/app/detail/file/".concat(g.id,"?tab=file"))}},{label:(0,O.jsx)(v.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){U("/app/detail/log/".concat(g.id,"?tab=log"))}},{label:(0,O.jsx)(v.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){U("/app/detail/stat/".concat(g.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,O.jsx)(t.Z,{}),disabled:!0}],w=(0,E.useState)(N),k=u()(w,2),Y=k[0],q=k[1];(0,E.useEffect)(function(){b.show(),j(F);var S=function(){var x=r()(n()().mark(function J(){var z,H,Z;return n()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return z=N,R.prev=1,R.next=4,(0,p.jV)({md5:(H=g.id)!==null&&H!==void 0?H:""});case 4:Z=R.sent,z.map(function(K){return K.key=="containerName"&&(K.label=Z.data.info.Name),(!Z.data.info.State.Running||Z.data.info.State.Restarting)&&(K.key=="file"||K.key=="stat")&&(K.disabled=!0),K}),q(z),R.next=13;break;case 9:return R.prev=9,R.t0=R.catch(1),U("/app/list"),R.abrupt("return");case 13:return R.prev=13,b.destroy(),R.finish(13);case 16:case"end":return R.stop()}},J,null,[[1,9,13,16]])}));return function(){return x.apply(this,arguments)}}();S()},[G,g]);var ee=function(x){j(x.key)};return(0,O.jsx)(L.Provider,{value:{reload:function(){Q(G+1)}},children:(0,O.jsxs)(m._z,{header:{extra:[(0,O.jsx)(f.u,{access:"canSeeContainerListManageCreate",children:(0,O.jsx)(h.Link,{to:"/app/create/image",children:(0,O.jsx)(P.ZP,{type:"primary",children:o.Ob.format("container.create")})})},"create")]},children:[(0,O.jsx)(M.Z,{mode:"horizontal",onClick:ee,selectedKeys:[B],items:Y}),(0,O.jsx)(h.Outlet,{})]})})}},62597:function(C,i,e){e.d(i,{$G:function(){return c},Ct:function(){return L},Tb:function(){return h},XH:function(){return P},cl:function(){return t},fp:function(){return o},fu:function(){return f},iE:function(){return E},xb:function(){return A},ze:function(){return b}});var s=e(15009),n=e.n(s),d=e(99289),r=e.n(d),_=e(82346),u="com.dpanel.container.description",f="com.dpanel.container.title";function c(l){return p.apply(this,arguments)}function p(){return p=r()(n()().mark(function l(D){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,_.request)("/api/app/site/create-by-image",{method:"POST",data:D}));case 1:case"end":return a.stop()}},l)})),p.apply(this,arguments)}var o={EnvValueRuleRequired:1,EnvValueRuleDisabled:2,EnvValueTypeNumber:1024,EnvValueTypeText:2048,EnvValueTypeSelect:4096,EnvValueTypeSelectMultiple:8192};function t(l){return m.apply(this,arguments)}function m(){return m=r()(n()().mark(function l(D){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,_.request)("/api/app/site/get-list",{method:"POST",data:D}));case 1:case"end":return a.stop()}},l)})),m.apply(this,arguments)}function h(l){return v.apply(this,arguments)}function v(){return v=r()(n()().mark(function l(D){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return D.download=!1,a.next=3,(0,_.request)("/api/app/log/run",{method:"POST",data:D});case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},l)})),v.apply(this,arguments)}function P(l){return M.apply(this,arguments)}function M(){return M=r()(n()().mark(function l(D){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return D.download=!0,a.next=3,(0,_.request)("/api/app/log/run",{method:"POST",data:D,responseType:"blob"});case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},l)})),M.apply(this,arguments)}function E(l){return O.apply(this,arguments)}function O(){return O=r()(n()().mark(function l(D){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return D.id=String(D.id),a.next=3,(0,_.request)("/api/app/site/get-detail",{data:D,method:"POST"});case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},l)})),O.apply(this,arguments)}function L(l){return T.apply(this,arguments)}function T(){return T=r()(n()().mark(function l(D){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,_.request)("/api/app/container/delete",{method:"POST",data:D}));case 1:case"end":return a.stop()}},l)})),T.apply(this,arguments)}function A(l){return W.apply(this,arguments)}function W(){return W=r()(n()().mark(function l(D){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,_.request)("/api/app/site/delete",{method:"POST",data:D}));case 1:case"end":return a.stop()}},l)})),W.apply(this,arguments)}function b(l){return g.apply(this,arguments)}function g(){return g=r()(n()().mark(function l(D){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,_.request)("/api/app/container/ignore",{method:"POST",data:D}));case 1:case"end":return a.stop()}},l)})),g.apply(this,arguments)}},67255:function(C,i,e){e.d(i,{G$:function(){return _},LX:function(){return p},MJ:function(){return r},Oh:function(){return d},h5:function(){return f},j_:function(){return u},rj:function(){return c}});var s=e(5574),n=e.n(s);function d(o){var t=localStorage.getItem("dpanel-pagesize");return t=="all"?!1:{defaultCurrent:o==null?void 0:o.page,showSizeChanger:!0,defaultPageSize:parseInt(t!=null?t:"20"),showQuickJumper:!0}}function r(o,t){t?localStorage.setItem("dpanel-page-"+o,"".concat(t)):localStorage.removeItem("dpanel-page-"+o)}function _(o,t){var m=t?Math.ceil((t==null?void 0:t.total)/(t==null?void 0:t.pageSize)):void 0,h=localStorage.getItem("dpanel-page-"+o),v=1;return h&&(v=parseInt(h)),m&&v>m?1:v}function u(o){return{persistenceKey:o,persistenceType:"localStorage"}}var f=["descend","ascend"];function c(o,t){var m=localStorage.getItem("dpanel-table-sort-".concat(o));if(m){var h=m.split("|"),v=n()(h,2),P=v[0],M=v[1];if(P==t)return M}}function p(o,t,m){!t||!m?localStorage.removeItem("dpanel-table-sort-".concat(o)):localStorage.setItem("dpanel-table-sort-".concat(o),"".concat(t,"|").concat(m))}}}]);
