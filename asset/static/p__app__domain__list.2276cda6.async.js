"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7750],{58638:function(k,M,e){e.d(M,{Z:function(){return h}});var Z=e(87462),t=e(67294),I={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},l=I,m=e(84089),P=function(R,x){return t.createElement(m.Z,(0,Z.Z)({},R,{ref:x,icon:l}))},A=t.forwardRef(P),h=A},35995:function(k,M,e){e.d(M,{Z:function(){return h}});var Z=e(87462),t=e(67294),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M508 624a112 112 0 00112-112c0-3.28-.15-6.53-.43-9.74L498.26 623.57c3.21.28 6.45.43 9.74.43zm370.72-458.44L836 122.88a8 8 0 00-11.31 0L715.37 232.23Q624.91 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.7 119.43 136.55 191.45L112.56 835a8 8 0 000 11.31L155.25 889a8 8 0 0011.31 0l712.16-712.12a8 8 0 000-11.32zM332 512a176 176 0 01258.88-155.28l-48.62 48.62a112.08 112.08 0 00-140.92 140.92l-48.62 48.62A175.09 175.09 0 01332 512z"}},{tag:"path",attrs:{d:"M942.2 486.2Q889.4 375 816.51 304.85L672.37 449A176.08 176.08 0 01445 676.37L322.74 798.63Q407.82 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5z"}}]},name:"eye-invisible",theme:"filled"},l=I,m=e(84089),P=function(R,x){return t.createElement(m.Z,(0,Z.Z)({},R,{ref:x,icon:l}))},A=t.forwardRef(P),h=A},36693:function(k,M,e){var Z=e(87462),t=e(67294),I=e(80111),l=e(84089),m=function(h,b){return t.createElement(l.Z,(0,Z.Z)({},h,{ref:b,icon:I.Z}))},P=t.forwardRef(m);M.Z=P},64789:function(k,M,e){e.d(M,{Z:function(){return h}});var Z=e(87462),t=e(67294),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},l=I,m=e(84089),P=function(R,x){return t.createElement(m.Z,(0,Z.Z)({},R,{ref:x,icon:l}))},A=t.forwardRef(P),h=A},85577:function(k,M,e){var Z=e(87462),t=e(67294),I=e(11721),l=e(84089),m=function(h,b){return t.createElement(l.Z,(0,Z.Z)({},h,{ref:b,icon:I.Z}))},P=t.forwardRef(m);M.Z=P},31199:function(k,M,e){var Z=e(1413),t=e(45987),I=e(67294),l=e(40284),m=e(85893),P=["fieldProps","min","proFieldProps","max"],A=function(R,x){var J=R.fieldProps,i=R.min,H=R.proFieldProps,a=R.max,G=(0,t.Z)(R,P);return(0,m.jsx)(l.Z,(0,Z.Z)({valueType:"digit",fieldProps:(0,Z.Z)({min:i,max:a},J),ref:x,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:H},G))},h=I.forwardRef(A);M.Z=h},92067:function(k,M,e){e.d(M,{Z:function(){return G}});var Z=e(15009),t=e.n(Z),I=e(99289),l=e.n(I),m=e(13822),P=e(64789),A=e(56729),h=e(42075),b=e(83062),R=e(83622),x=e(37413),J=e(5251),i=e(36146),H=e(67255),a=e(85893);function G(L){return(0,a.jsx)(A.Z,{columns:[{title:i.FD.format("listContainerName"),dataIndex:"name",render:function(p,j,K,f){return(0,a.jsx)(h.Z,{direction:"vertical",style:{textAlign:"left"},children:j==null?void 0:j.Names.map(function(D){return(0,J.fi)(D,"/")})},j.Id)}},{title:i.FD.format("listPort"),dataIndex:"ports",search:!1,render:function(p,j,K,f){var D=[],o=[];return j!=null&&j.Ports&&j.Ports.map(function(c,C){c.PublicPort?D.push(c):o.push(c)}),(0,a.jsx)(x.Z,{publicPort:D,privatePort:o,domain:[]})}},{title:i.FD.format("listManage"),valueType:"option",key:"option",ellipsis:!0,width:100,render:function(p,j,K,f){return[(0,a.jsx)(b.Z,{title:i.FD.format("listManageUse"),children:(0,a.jsx)(R.ZP,{type:"link",onClick:l()(t()().mark(function D(){var o;return t()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,(0,m.jV)({md5:j.Id});case 2:o=C.sent,L.onSelect&&L.onSelect(o.data.info);case 4:case"end":return C.stop()}},D)})),children:(0,a.jsx)(P.Z,{})},j.Id)},j.Id)]}}],rowKey:"Id",request:function(){var U=l()(t()().mark(function p(j,K,f){var D;return t()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,m.IE)({siteTitle:j.name});case 2:return D=c.sent,c.abrupt("return",{data:D.data.list,success:!0,total:D.data.list.length});case 4:case"end":return c.stop()}},p)}));return function(p,j,K){return U.apply(this,arguments)}}(),pagination:(0,H.Oh)()})}},37413:function(k,M,e){e.d(M,{Z:function(){return H}});var Z=e(19632),t=e.n(Z),I=e(36146),l=e(85577),m=e(58638),P=e(36693),A=e(35995),h=e(99611),b=e(38345),R=e(42075),x=e(66309),J=e(55241),i=e(85893);function H(a){var G,L=new I.Uo("components.containerPort"),U=[];a.publicPort&&(U=t()(a.publicPort)),a.privatePort&&(U=[].concat(t()(U),t()(a.privatePort)));var p=(G=a.serverIp)!==null&&G!==void 0?G:"localhost";if(p!=""&&p.indexOf("http")===-1&&p.indexOf(":")>-1&&(p="[".concat(p,"]")),p==""||p=="127.0.0.1"){var j=document.location.protocol+"//"+document.location.hostname;p=j}var K=(0,i.jsxs)(b.Z,{direction:a.layout=="inline"?"row":"column",style:{width:a.layout!="inline"?600:"auto"},ghost:!0,children:[U.length>0&&(0,i.jsx)(b.Z,{title:(0,i.jsx)(l.Z,{}),subTitle:L.format("cardPortTitle"),ghost:a.ghost,bodyStyle:{maxHeight:300,overflow:"auto",margin:"10px 0"},children:U.map(function(f,D){var o;return p==""&&f.IP&&(p=f.IP),(0,i.jsx)(R.Z,{size:"large",wrap:!0,children:(0,i.jsx)(x.Z,{color:f.PublicPort?"blue":"yellow",icon:f.PublicPort?(0,i.jsx)(m.Z,{}):"",style:{marginBottom:10,marginRight:15},children:f.PublicPort?(0,i.jsx)("a",{href:"".concat(p.indexOf("http")===0?p:"http://"+p,":").concat(f.PublicPort),target:"_blank",children:"".concat(f.PublicPort?((o=f.IP)!==null&&o!==void 0?o:"0.0.0.0")+":"+f.PublicPort+" -> ":"").concat(f.PrivatePort,"/").concat(f.Type)},"link".concat(D)):"".concat(f.PrivatePort,"/").concat(f.Type)})},"space".concat(D))})}),a.domain&&a.domain.length>0&&(0,i.jsx)(b.Z,{title:(0,i.jsx)(P.Z,{}),subTitle:L.format("cardDomainTitle"),ghost:a.ghost,children:(0,i.jsx)(R.Z,{wrap:!0,style:{textAlign:"left"},children:a.domain&&a.domain.map(function(f,D){return(0,i.jsx)(x.Z,{color:"blue",icon:(0,i.jsx)(m.Z,{}),children:(0,i.jsx)("a",{href:f,target:"_blank",children:f})},"domain".concat(D))})})})]});return a.showInDetail?K:(0,i.jsx)(J.Z,{placement:"right",content:K,children:(0,i.jsxs)(R.Z,{direction:"vertical",children:[a.privatePort&&a.privatePort.length>0&&(0,i.jsxs)(x.Z,{color:"yellow",icon:(0,i.jsx)(A.Z,{}),children:[L.format("portPrivate"),": ",a.privatePort.length]}),a.publicPort&&a.publicPort.length>0&&(0,i.jsxs)(x.Z,{color:"blue",icon:(0,i.jsx)(h.Z,{}),children:[L.format("protPublic"),": ",a.publicPort.length]}),a.domain&&a.domain.length>0&&(0,i.jsx)(x.Z,{color:"geekblue",icon:(0,i.jsx)(P.Z,{}),children:a.domainTitle?a.domainTitle:"".concat(L.format("domain"),": ").concat(a.domain.length)})]})})}},96668:function(k,M,e){e.r(M),e.d(M,{default:function(){return Ze}});var Z=e(15009),t=e.n(Z),I=e(99289),l=e.n(I),m=e(5574),P=e.n(m),A=e(1699),h=e(66554),b=e(184),R=e(24739),x=e(97462),J=e(5966),i=e(62370),H=e(64317),a=e(86615),G=e(31199),L=e(52688),U=e(11106),p=e(83622),j=e(92398),K=e(84567),f=e(42075),D=e(66309),o=e(85265),c=e(71230),C=e(15746),r=e(40056),X=e(67294),he=e(92067),fe=e(74026),de=e(3616),V=e(36146),n=e(85893),ve=(0,X.forwardRef)(function(T,ee){var te=(0,X.useState)(!1),q=P()(te,2),re=q[0],se=q[1],w=(0,X.useRef)(),ae=(0,X.useState)(),y=P()(ae,2),d=y[0],s=y[1],Y=(0,X.useState)(!1),S=P()(Y,2),O=S[0],_=S[1],W=(0,X.useState)(1),le=P()(W,2),Q=le[0],z=le[1],E=new V.Uo("components.appDomain");return(0,X.useImperativeHandle)(ee,function(){return{showEdit:function(v){return l()(t()().mark(function u(){var B,ne,g;return t()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,(0,h.lQ)({id:v});case 2:ne=N.sent,g=ne.data,(B=w.current)===null||B===void 0||B.setFieldsValue({containerId:g.domain.containerId,serverName:g.domain.serverName,serverNameAlias:g.domain.setting.serverNameAlias,protocol:g.domain.setting.serverProtocol,port:g.domain.setting.port,enableBlockCommonExploits:g.domain.setting.enableBlockCommonExploits,enableAssetCache:g.domain.setting.enableAssetCache,enableWs:g.domain.setting.enableWs,extraNginx:g.domain.setting.extraNginx,enableSSL:g.domain.setting.enableSSL,certName:g.domain.setting.certName,vhost:g.vhost,hostname:g.domain.setting.serverAddress}),s(g),se(!0);case 7:case"end":return N.stop()}},u)}))()}}}),(0,n.jsx)(b.a,{drawerProps:{forceRender:!0,width:de.R_},open:re,onOpenChange:function(v){se(v)},title:E.format("createTitle"),trigger:(0,n.jsx)(p.ZP,{onClick:function(){var v;s(void 0),(v=w.current)===null||v===void 0||v.resetFields()},type:"primary",children:E.format("createTriggerButton")}),formRef:w,onFinish:function(){var F=l()(t()().mark(function v(u){var B,ne,g,ie,N;return t()().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(!u.vhost){$.next=8;break}return $.next=3,(0,h.Ss)({id:d&&(d==null?void 0:d.domain.id)>0?d.domain.id:0,vhost:u.vhost});case 3:return ne=$.sent,$.next=6,(0,h.hZ)();case 6:$.next=11;break;case 8:return $.next=10,(0,h.Fj)({id:d&&(d==null?void 0:d.domain.id)>0?d.domain.id:0,containerId:u.containerId,serverName:u.serverName,serverNameAlias:u.serverNameAlias,hostname:u.hostname,protocol:(g=u.protocol)!==null&&g!==void 0?g:"http",port:parseInt((ie=u.port)!==null&&ie!==void 0?ie:"80"),enableBlockCommonExploits:u.enableBlockCommonExploits,enableAssetCache:u.enableAssetCache,enableWs:u.enableWs,enableSSL:u.enableSSL,extraNginx:u.extraNginx,certName:u.certName});case 10:N=$.sent;case 11:return(B=w.current)===null||B===void 0||B.resetFields(),T.onFinish(),$.abrupt("return",!0);case 14:case"end":return $.stop()}},v)}));return function(v){return F.apply(this,arguments)}}(),children:(0,n.jsx)(j.Z,{items:[{key:"1",label:E.format("createTabDomain"),destroyOnHidden:!0,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(R.UW,{children:[(0,n.jsx)(x.Z,{name:["enableSSL"],children:function(v){var u=v.enableSSL;return(0,n.jsx)(J.Z,{width:"lg",label:E.format("createFormServerName"),tooltip:E.format("createFormServerNameTip"),name:"serverName",placeholder:"www.explame.com, demo.com:8807",rules:[{required:!0}],fieldProps:{addonBefore:u?"https://":"http://"},disabled:d&&d.domain.id>0})}}),(0,n.jsx)(i.Z,{label:" ",valuePropName:"checked",name:"enableSSL",children:(0,n.jsx)(K.Z,{children:"Https?"})})]}),(0,n.jsx)(H.Z,{label:E.format("createFormServerNameAlises"),name:"serverNameAlias",mode:"tags",placeholder:E.format("createFormServerNameAlisesEmpty")}),(0,n.jsx)(x.Z,{name:["enableSSL","serverName"],children:function(v){var u=v.enableSSL,B=v.serverName;if(u)return(0,n.jsxs)(f.Z.Compact,{children:[(0,n.jsx)(H.Z,{label:E.format("createFormCertName"),width:"lg",name:"certName",fieldProps:{labelRender:function(g){return g.value}},required:!0,rules:[{required:!0}],request:l()(t()().mark(function ne(){var g;return t()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,(0,h.dZ)();case 2:return g=N.sent,N.abrupt("return",g.data&&g.data.list.map(function(ce,$){return{label:(0,n.jsx)(f.Z,{wrap:!0,children:ce.domain.map(function(Ae,Ie){return(0,n.jsx)(D.Z,{children:Ae})})},$),value:"".concat(ce.domain[0])}}));case 4:case"end":return N.stop()}},ne)}))},Q),(0,n.jsx)(i.Z,{label:" ",children:(0,n.jsx)(fe.Z,{domain:B?[B]:[],onFinish:function(){z(Q+1)}})})]})}}),(0,n.jsx)(a.Z.Group,{label:E.format("createFormType"),name:"type",initialValue:"proxy",options:E.option("createFormTypeOption",["proxy","redirect"])}),(0,n.jsxs)(f.Z.Compact,{children:[(0,n.jsx)(H.Z,{label:E.format("createFormProtocol"),tooltip:E.format("createFormProtocolTip"),initialValue:"http",name:"protocol",fieldProps:{allowClear:!1},valueEnum:{http:"http",https:"https"}}),(0,n.jsx)(x.Z,{name:["containerId"],children:function(v){var u=v.containerId;return(0,n.jsx)(J.Z,{width:"lg",label:" ",name:"hostname",placeholder:E.format("createFormHostnameEmpty"),required:!0,disabled:u,rules:[{required:!0}]})}}),(0,n.jsx)(i.Z,{label:" ",name:"containerId",children:(0,n.jsx)(p.ZP,{type:"primary",onClick:function(){_(!0)},children:E.format("createSelectContainer")})}),(0,n.jsx)(i.Z,{label:" ",name:"containerId",children:(0,n.jsx)(p.ZP,{onClick:function(){var v,u;(v=w.current)===null||v===void 0||v.setFieldValue("containerId",""),(u=w.current)===null||u===void 0||u.setFieldValue("hostname","")},children:E.format("createUser")})}),(0,n.jsx)(o.Z,{open:O,width:de.R_,onClose:function(){return _(!1)},children:(0,n.jsx)(he.Z,{onSelect:function(v){var u,B;(u=w.current)===null||u===void 0||u.setFieldValue("hostname",v.Name),(B=w.current)===null||B===void 0||B.setFieldValue("containerId",v.Id),_(!1)}})})]}),(0,n.jsx)(G.Z,{label:E.format("createFormPort"),name:"port",placeholder:E.format("createFormPortEmpty")}),(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(C.Z,{span:12,children:(0,n.jsx)(L.Z,{label:E.format("createFormEnableBlockCommonExploits"),name:"enableBlockCommonExploits"})}),(0,n.jsx)(C.Z,{children:(0,n.jsx)(L.Z,{width:"md",label:E.format("createFormEnableAssetCache"),name:"enableAssetCache"})})]}),(0,n.jsx)(c.Z,{children:(0,n.jsx)(C.Z,{span:12,children:(0,n.jsx)(L.Z,{label:E.format("createFormEnableWs"),name:"enableWs",initialValue:!0})})}),(0,n.jsx)(i.Z,{name:"extraNginx",label:E.format("createFormExtraNginx"),children:(0,n.jsx)(U.ZP,{height:"300px",theme:"dark",style:{backgroundColor:"#282c34"}})})]})},{key:"3",label:"vhost.conf",destroyOnHidden:!0,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Z,{message:E.format("createVhostTip"),showIcon:!0}),(0,n.jsx)(i.Z,{name:"vhost",label:" ",children:(0,n.jsx)(U.ZP,{height:"600px",theme:"dark",style:{backgroundColor:"#282c34"},onChange:function(){}})})]})}]})})}),pe=ve,_e=e(5251),ue=e(83062),Ee=e(38703);function ge(T){var ee,te=0;if(T.sslCrtCreatedAt&&T.sslCrtRenewAt){var q,re,se=new Date,w=new Date((q=T.sslCrtRenewAt)!==null&&q!==void 0?q:""),ae=new Date((re=T.sslCrtCreatedAt)!==null&&re!==void 0?re:""),y=Math.ceil((w.getTime()-ae.getTime())/86400/1e3),d=Math.ceil((se.getTime()-ae.getTime())/86400/1e3);te=Math.min(Math.ceil(d/y*100),100)}return T.certName?(0,n.jsx)(ue.Z,{placement:"right",title:"".concat(V.FD.format("listExpireAt"),": ").concat((0,_e.NF)((ee=T.sslCrtRenewAt)!==null&&ee!==void 0?ee:"")),children:(0,n.jsx)(D.Z,{icon:(0,n.jsxs)(f.Z,{children:[(0,n.jsx)(Ee.Z,{type:"circle",percent:te,status:te==100?"exception":"active",strokeWidth:20,size:14}),(0,n.jsx)("span",{})]}),children:T.certName})}):"-"}var me=e(80821),Pe=e(37413),xe=e(67255),Ce=e(86548),Oe=e(90078),je=e(56729),oe=e(82346),De=e(96074),Re=e(25593),Me=e(50136);function Ze(){var T=(0,X.useRef)(),ee=(0,X.useRef)(),te=(0,X.useState)({}),q=P()(te,2),re=q[0],se=q[1],w=(0,oe.useAccess)(),ae=new V.Uo("app");return(0,n.jsx)(Oe._z,{extra:[(0,n.jsx)(A.u,{access:"canSeeContainerDomainManage",children:(0,n.jsx)(pe,{ref:ee,onFinish:l()(t()().mark(function y(){var d,s;return t()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return!((d=T.current)===null||d===void 0)&&d.reloadAndRest&&((s=T.current)===null||s===void 0||s.reloadAndRest()),S.next=3,(0,h.hZ)();case 3:case"end":return S.stop()}},y)}))},"addDomain")},"addDomain"),(0,n.jsx)(A.u,{access:"canSeeContainerDomainManage",children:(0,n.jsx)(me.Z,{tips:ae.format("domainRestartNginxTip"),action:l()(t()().mark(function y(){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,h.hZ)();case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},y)})),children:ae.format("domainRestartNginx")},"nginx")},"nginx")],children:(0,n.jsx)(je.Z,{scroll:{x:"max-content"},rowKey:"id",actionRef:T,columns:[{title:V.FD.format("listDomain"),dataIndex:"serverName",render:function(d,s,Y,S,O){var _=[];return s.serverName&&_.push(s.setting.enableSSL?"https://"+s.serverName:"http://"+s.serverName),s.setting.serverNameAlias&&s.setting.serverNameAlias.map(function(W){_.push(s.setting.enableSSL?"https://"+W:"http://"+W)}),(0,n.jsx)(Pe.Z,{domain:_,domainTitle:"".concat(s.serverName," (").concat(_.length,")")})}},{title:V.FD.format("listTargetAddress"),search:!1,render:function(d,s,Y,S,O){return"".concat(s.setting.serverAddress,":").concat(s.setting.port)}},{title:V.FD.format("listCert"),search:!0,dataIndex:"certName",width:300,valueEnum:re,render:function(d,s,Y,S,O){return s.setting.enableSSL?(0,n.jsx)(ge,{certName:s.setting.certName,sslCrtRenewAt:s.setting.sslCrtRenewAt,sslCrtCreatedAt:s.setting.sslCrtCreatedAt}):"-"}},{title:V.FD.format("listCreatedAt"),search:!1,width:180,ellipsis:!0,dataIndex:"createdAt",render:function(d,s,Y,S,O){return new Date(s.createdAt).toLocaleString()}},{title:V.FD.format("listManage"),key:"option",width:50,search:!1,fixed:"right",hidden:!w.canSeeContainerDomainManage,render:function(d,s,Y,S){return(0,n.jsx)(f.Z,{split:(0,n.jsx)(De.Z,{type:"vertical"}),children:(0,n.jsx)(Re.Z.Link,{onClick:function(){var _;return(_=ee.current)===null||_===void 0||_.showEdit(s.id),!0},children:(0,n.jsx)(ue.Z,{title:V.FD.format("listManageEdit"),children:(0,n.jsx)(Ce.Z,{})})},"edit")})}}],request:function(){var y=l()(t()().mark(function d(s,Y,S){var O,_,W;return t()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,(0,h.i7)({serverName:s.serverName,certName:s.certName});case 2:return O=Q.sent,Q.next=5,(0,h.dZ)();case 5:return _=Q.sent,W={},O.data.list.map(function(z){z.setting.certName&&typeof z.setting.certName=="string"&&(W[z.setting.certName]=z.setting.certName)}),se(W),Q.abrupt("return",{data:O.data.list&&O.data.list.map(function(z){if(_&&_.data.list){var E,F;z.setting.sslCrtCreatedAt=(E=_.data.list.find(function(v){return v.domain[0]==z.setting.certName}))===null||E===void 0?void 0:E.createdAt,z.setting.sslCrtRenewAt=(F=_.data.list.find(function(v){return v.domain[0]==z.setting.certName}))===null||F===void 0?void 0:F.renewAt}return z}),success:!0,total:O.data.list.length});case 10:case"end":return Q.stop()}},d)}));return function(d,s,Y){return y.apply(this,arguments)}}(),rowSelection:w.canSeeContainerDomainManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,tableAlertOptionRender:function(d){var s=d.selectedRowKeys,Y=d.selectedRows;return(0,n.jsx)(f.Z,{size:16,children:(0,n.jsx)(me.Z,{danger:!0,confirm:"notification.confirm.title",type:"primary",action:l()(t()().mark(function S(){var O;return t()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,(0,h.dj)({id:s});case 2:return O=W.sent,W.next=5,(0,h.hZ)();case 5:return W.abrupt("return",O);case 6:case"end":return W.stop()}},S)})),onSuccess:function(){var O,_;return!((O=T.current)===null||O===void 0)&&O.reloadAndRest&&((_=T.current)===null||_===void 0||_.reloadAndRest()),!0},onError:function(){var O,_;return!((O=T.current)===null||O===void 0)&&O.reset&&((_=T.current)===null||_===void 0||_.reset()),!0},children:V.FD.format("listManageDeleteBatch")})})},tableExtraRender:function(){return(0,n.jsx)(Me.Z,{mode:"horizontal",selectedKeys:["domain"],items:[{label:(0,n.jsx)(oe.Link,{to:"/app/domain/list",replace:!0,children:V.Ob.format("container.domain.list")}),key:"domain"},{label:(0,n.jsx)(oe.Link,{to:"/app/domain/cert",replace:!0,children:V.Ob.format("container.domain.cert")}),key:"cert"}]})},pagination:(0,xe.Oh)()})})}},13822:function(k,M,e){e.d(M,{IE:function(){return h},IW:function(){return P},KK:function(){return H},LJ:function(){return G},RF:function(){return j},Re:function(){return U},aF:function(){return f},eE:function(){return J},jV:function(){return R}});var Z=e(15009),t=e.n(Z),I=e(99289),l=e.n(I),m=e(82346);function P(o){return A.apply(this,arguments)}function A(){return A=l()(t()().mark(function o(c){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/app/container/status",{method:"POST",data:c}));case 1:case"end":return r.stop()}},o)})),A.apply(this,arguments)}function h(o){return b.apply(this,arguments)}function b(){return b=l()(t()().mark(function o(c){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/app/container/get-list",{data:c,method:"POST"}));case 1:case"end":return r.stop()}},o)})),b.apply(this,arguments)}function R(o){return x.apply(this,arguments)}function x(){return x=l()(t()().mark(function o(c){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/app/container/get-detail",{data:c,method:"POST"}));case 1:case"end":return r.stop()}},o)})),x.apply(this,arguments)}function J(o){return i.apply(this,arguments)}function i(){return i=l()(t()().mark(function o(c){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/app/container/update",{data:c,method:"POST"}));case 1:case"end":return r.stop()}},o)})),i.apply(this,arguments)}function H(){return a.apply(this,arguments)}function a(){return a=l()(t()().mark(function o(){return t()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,m.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return C.stop()}},o)})),a.apply(this,arguments)}function G(o){return L.apply(this,arguments)}function L(){return L=l()(t()().mark(function o(c){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/app/container/export",{method:"POST",data:c,responseType:"blob"}));case 1:case"end":return r.stop()}},o)})),L.apply(this,arguments)}function U(o){return p.apply(this,arguments)}function p(){return p=l()(t()().mark(function o(c){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/app/container/commit",{method:"POST",data:c}));case 1:case"end":return r.stop()}},o)})),p.apply(this,arguments)}function j(o){return K.apply(this,arguments)}function K(){return K=l()(t()().mark(function o(c){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/app/container/upgrade",{method:"POST",data:c}));case 1:case"end":return r.stop()}},o)})),K.apply(this,arguments)}function f(o){return D.apply(this,arguments)}function D(){return D=l()(t()().mark(function o(c){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/app/container/copy",{method:"POST",data:c}));case 1:case"end":return r.stop()}},o)})),D.apply(this,arguments)}}}]);
