"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8566],{1699:function(oe,M,t){t.d(M,{u:function(){return x}});var U=t(9783),o=t.n(U),L=t(97857),_=t.n(L),S=t(67294),D=t(82346),E=t(40411),f=t(42075),I=t(85893),x=function(u){var i=(0,D.useAccess)(),a=Array.isArray(u.access)?u.access:[u.access],y,j=u.fallback;if(typeof u.children=="function"?(y=u.children(a.reduce(function(P,e){return _()(_()({},P),{},o()({},e,i[e]))},{})),y||(y=j)):a.every(function(P){return i[P]})?y=u.children:y=j,!j&&y&&u.showProTips&&i.canSeeEnableCe){if(i.canSeeEnableHiddenProTips)return null;y=(0,I.jsx)(E.Z,{offset:u.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:y})}if(!j&&y&&u.showProRibbonTips&&i.canSeeEnableCe){if(i.canSeeEnableHiddenProTips)return null;y=(0,I.jsx)(E.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:y})}return u.space?(0,I.jsx)(f.Z,_()(_()({},u.space),{},{children:y})):y}},80821:function(oe,M,t){t.d(M,{Z:function(){return i}});var U=t(97857),o=t.n(U),L=t(5574),_=t.n(L),S=t(24963),D=t(36146),E=t(86738),f=t(83062),I=t(96074),x=t(83622),b=t(67294),u=t(85893);function i(a){var y=(0,b.useState)(!1),j=_()(y,2),P=j[0],e=j[1],d=(0,b.useContext)(S.Z),ce=d.message,le=function(){e(!0);var Se=a.action();Se instanceof Promise?Se.then(function(ve){if(e(!1),ve){typeof a.onSuccess=="function"&&a.onSuccess(ve);var ye=D.FD.format("finish");ce.success(ye)}}).catch(function(ve){e(!1),typeof a.onError=="function"&&a.onError(ve)}):e(!1)};if(a.confirmProps){var N,C,he,ge,ue,Z,pe,je=a.confirmProps.description;return a.confirmProps.showCommonConfirm&&(je=D.FD.format("confirm.title")),a.confirmProps.showCommonDisabled&&(je=D.FD.format("confirm.disable")),(0,u.jsx)(E.Z,o()(o()({},a.confirmProps),{},{style:{width:500},title:(N=a.confirmProps)!==null&&N!==void 0&&N.title?(C=a.confirmProps)===null||C===void 0?void 0:C.title:D.FD.format("title.tip"),description:je,onConfirm:le,okText:"Yes",cancelText:"No",children:(0,u.jsxs)(f.Z,{title:a.tips,children:[a.showDivider&&(0,u.jsx)(I.Z,{type:"vertical",style:{marginRight:15}}),(0,u.jsx)(x.ZP,o()(o()({},a.buttonProps),{},{ghost:((he=a.buttonProps)===null||he===void 0?void 0:he.ghost)&&((ge=a.buttonProps)===null||ge===void 0?void 0:ge.type)!=="link",style:(ue=a.buttonProps)!==null&&ue!==void 0&&ue.ghost?o()(o()({},a.buttonProps.style),{},{padding:0,width:"auto"}):o()({},(Z=a.buttonProps)===null||Z===void 0?void 0:Z.style),icon:!a.children&&P||(pe=a.buttonProps)===null||pe===void 0?void 0:pe.icon,loading:P,children:a.children}))]})}))}else{var De,_e,fe,Ee,xe;return(0,u.jsxs)(f.Z,{title:a.tips,children:[a.showDivider&&(0,u.jsx)(I.Z,{type:"vertical",style:{marginRight:15}}),(0,u.jsx)(x.ZP,o()(o()({},a.buttonProps),{},{ghost:((De=a.buttonProps)===null||De===void 0?void 0:De.ghost)&&((_e=a.buttonProps)===null||_e===void 0?void 0:_e.type)!=="link",style:(fe=a.buttonProps)!==null&&fe!==void 0&&fe.ghost?o()(o()({},a.buttonProps.style),{},{padding:0,width:"auto"}):o()({},(Ee=a.buttonProps)===null||Ee===void 0?void 0:Ee.style),icon:!a.children&&P||(xe=a.buttonProps)===null||xe===void 0?void 0:xe.icon,loading:P,onClick:le,children:a.children}))]})}}},27619:function(oe,M,t){t.d(M,{Z:function(){return E}});var U=t(5574),o=t.n(U),L=t(82346),_=t(67294),S=t(64389),D=t(85893);function E(f){var I=(0,L.useModel)("@@initialState"),x=I.initialState,b="chart-area-".concat(f.name),u=(0,_.useState)(),i=o()(u,2),a=i[0],y=i[1],j={};f.data.forEach(function(e){e.show===!1?j[e.name]=!1:j[e.name]=!0});var P={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}},valueFormatter:function(d){return f.yValueFormatter?f.yValueFormatter(d):d}},legend:{selected:j},grid:{left:"0",right:"0",bottom:"0",top:"30",containLabel:!0},xAxis:{type:"category",data:f.data[0].data.map(function(e){return e.date}),boundaryGap:!1,axisLabel:{rotate:20}},yAxis:{type:"value",axisLabel:{formatter:f.yLabelFormatter},max:function(d){if(f.yDomainMaxCallback)return f.yDomainMaxCallback(d)}},series:[]};return(0,_.useEffect)(function(){var e="",d=window.matchMedia("(prefers-color-scheme: dark)");(x==null?void 0:x.theme.algorithm)=="dark"||d.matches?e="dark":e="",a&&!a.isDisposed()&&a.dispose();var ce=document.getElementById(b),le=S.S1(ce,e);le.setOption(P);var N=new ResizeObserver(function(){le.resize()});ce&&N.observe(ce),y(le)},[x]),(0,_.useEffect)(function(){a&&!a.isDisposed()&&a.setOption({legend:{data:f.data.map(function(e){return e.name})},xAxis:{data:f.data[0].data.map(function(e){return e.date})},series:f.data.map(function(e){return{name:e.name,type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:e.data.map(function(d){return d.value})}})})},[f.data]),(0,D.jsx)("div",{style:{height:200},id:b})}},3616:function(oe,M,t){t.d(M,{Ed:function(){return _},FK:function(){return o},R_:function(){return U},ob:function(){return L}});var U=window.innerWidth<=1024?"90vw":"65vw",o="90vw",L="60vw",_="50vh"},24963:function(oe,M,t){var U=t(67294),o=(0,U.createContext)({});M.Z=o},55617:function(oe,M,t){t.r(M),t.d(M,{default:function(){return Qe}});var U=t(15009),o=t.n(U),L=t(99289),_=t.n(L),S=t(5574),D=t.n(S),E=t(19632),f=t.n(E),I=t(1699),x=t(80821),b=t(27619),u=t(3616),i=t(5251),a=t(36146),y=t(184),j=t(25593),P=t(60940),e=t(85893),d=new a.Uo("components.containerStat");function ce(B){return(0,e.jsx)(y.a,{drawerProps:{width:u.R_},title:d.format("detailTitle"),submitter:!1,trigger:(0,e.jsx)(j.Z.Link,{children:a.FD.format("listManageDetail")}),children:(0,e.jsx)(P.Z,{pagination:!1,dataSource:B.data,rowKey:"name",columns:[{title:a.FD.format("listContainerName"),dataIndex:"name"},{title:"Cpu",dataIndex:"cpu",sorter:function(v,h){return v.cpu-h.cpu},render:function(v,h,K){return"".concat(h.cpu.toFixed(2),"%")}},{title:"Memory",dataIndex:"memory",sorter:function(v,h){return v.memory.in-h.memory.in},render:function(v,h,K){var T,V;return"".concat((0,i.FI)((T=h==null?void 0:h.memory.in)!==null&&T!==void 0?T:0)," / ").concat((0,i.FI)((V=h==null?void 0:h.memory.out)!==null&&V!==void 0?V:0))}},{title:a.FD.format("listNetworkIO"),dataIndex:"networkIO",render:function(v,h,K){return"".concat((0,i.FI)(h.networkIO.in)," / ").concat((0,i.FI)(h.networkIO.out))}},{title:a.FD.format("listDiskIO"),dataIndex:"blockIO",render:function(v,h,K){return"".concat((0,i.FI)(h.blockIO.in)," / ").concat((0,i.FI)(h.blockIO.out))}}]})})}var le=t(97857),N=t.n(le),C=t(67294),he=t(64389),ge={tooltip:{show:!0,formatter:function(g){return g&&g.data&&g.data.tooltipItem?g.data.tooltipItem.map(function(v){return"<div>".concat(v.field,": ").concat(v.content,"</div>")}).join(" "):"".concat(g.data.name,": ").concat((0,i.FI)(g.data.value))}},legend:{selectedMode:"single",top:0,itemGap:5},series:[]},ue={name:"",type:"treemap",left:0,right:0,top:30,bottom:0,roam:!1,label:{show:!0},levels:[{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}}],sort:!0,leafDepth:1,data:[]},Z=new a.Uo("components.containerStat"),pe=(0,C.forwardRef)(function(B,g){var v=B.data.usage,h=(0,C.useState)(),K=D()(h,2),T=K[0],V=K[1];(0,C.useImperativeHandle)(g,function(){return{}});function se(){if(!v.Containers||!v.Images){T&&T.setOption({series:[N()(N()({},ue),{},{name:"",data:[{name:Z.format("usageEmpty"),value:1}]})]});return}var R=[],O=[];v.Containers&&v.Containers.forEach(function(l){var W,G,H,k=l.SizeRootFs+((W=l.SizeRw)!==null&&W!==void 0?W:0),$=[];l.Mounts&&l.Mounts.forEach(function(z){var ee=v.Volumes&&v.Volumes.find(function(me){return me.Name==z.Name});ee&&(k+=ee.UsageData.Size,$.push({name:Z.format("usageVolume",{name:z.Name}),value:ee.UsageData.Size,children:[]}))});var X={name:(0,i.fi)(l.Names[0],"/"),value:k,tooltipItem:[{field:(0,i.fi)(l.Names[0],"/"),content:(0,i.FI)(k)},{field:Z.format("usageContainerRootFs"),content:(0,i.FI)((G=l.SizeRootFs)!==null&&G!==void 0?G:0)},{field:Z.format("usageContainerRw"),content:(0,i.FI)((H=l.SizeRw)!==null&&H!==void 0?H:0)}],children:[{name:Z.format("usageContainerRootFs"),value:l.SizeRootFs,children:[]},{name:Z.format("usageContainerRw"),value:l.SizeRw,children:[]}]};if($&&$.length>0){var q,re;(q=X.children).push.apply(q,$),(re=X.tooltipItem)===null||re===void 0||re.push.apply(re,f()($.map(function(z){var ee;return{field:z.name,content:(0,i.FI)((ee=z.value)!==null&&ee!==void 0?ee:0)}})))}O.push(X)}),R.push(N()(N()({},ue),{},{name:Z.format("usageTitleContainer"),data:O})),O=[],v.Images&&v.Images.forEach(function(l){var W,G,H,k;O.push({name:l.RepoTags?l.RepoTags[0]:l.Id.substring(7,19),value:l.Size+((W=l.SharedSize)!==null&&W!==void 0?W:0),tooltipItem:[{field:l.RepoTags?l.RepoTags[0]:l.Id.substring(7,19),content:(0,i.FI)(l.Size+((G=l.SharedSize)!==null&&G!==void 0?G:0))},{field:Z.format("usageImageSize"),content:(0,i.FI)((H=l.Size)!==null&&H!==void 0?H:0)},{field:Z.format("usageImageSharedSize"),content:(0,i.FI)((k=l.SharedSize)!==null&&k!==void 0?k:0)}],children:[{name:Z.format("usageImageSize"),value:l.Size,children:[]},{name:Z.format("usageImageSharedSize"),value:l.SharedSize,children:[]}]})}),R.push(N()(N()({},ue),{},{name:Z.format("usageTitleImage"),data:O})),O=[],v.Volumes&&v.Volumes.forEach(function(l){O.push({name:l.Name,value:l.UsageData.Size,children:[]})}),R.push(N()(N()({},ue),{},{name:Z.format("usageTitleVolume"),data:O})),R&&R.length>0&&T&&T.setOption({series:R,legend:{data:R.map(function(l){return l.name})}})}return(0,C.useEffect)(function(){var R=document.getElementById("docker-disk-usage"),O=he.S1(R);O.setOption(ge);var l=new ResizeObserver(function(){O&&O.resize()});return R&&l.observe(R),V(O),function(){T&&T.dispose(),V(void 0)}},[]),(0,C.useEffect)(function(){T&&se()},[T]),(0,e.jsx)("div",{style:{height:450},id:"docker-disk-usage"})}),je=pe,De=t(55241),_e=t(71230),fe=t(15746),Ee=t(38703),xe=(0,C.forwardRef)(function(B,g){return(0,C.useImperativeHandle)(g,function(){return{}}),(0,e.jsxs)(De.Z,{placement:"left",children:[(0,e.jsx)(_e.Z,{justify:"center",children:(0,e.jsx)(fe.Z,{children:(0,e.jsx)(Ee.Z,{percent:B.showPercent,type:"dashboard",format:function(h,K){return"".concat(h,"%")},size:150,status:B.showPercent>=100?"exception":"normal"})})}),(0,e.jsx)(_e.Z,{justify:"center",children:(0,e.jsxs)(fe.Z,{style:{marginTop:"10px"},children:[B.showLabel,": ",B.showUse," / ",B.showTotal]})})]})}),be=xe,Se=t(24963),ve=t(87662),ye=t(2831),Be=t(97841),Ue=t(89075),Ke=t(20578),$e=t(45605),ze=t(1210),Pe=t(12122),F=t(38345),w=t(88273),ne=t(82346),ie=t(42075),Ne=t(83622),J=t(26412),Oe=t(83062),Ve=t(40411),Ge=t(86250),He=t(93162),s=new a.Uo("system.home.overview"),Ye=function(g,v){var h,K,T,V,se,R,O,l;switch(v.type){case"update":var W=new Date().toLocaleTimeString(),G=0,H=0,k=0,$=0,X=0,q=0;v.payload.forEach(function(de){G+=de.cpu,H+=de.memory.in,k+=de.networkIO.in,$+=de.networkIO.out,X+=de.blockIO.in,q+=de.blockIO.out});var re=(h=(K=g.last)===null||K===void 0?void 0:K.networkInLast)!==null&&h!==void 0?h:k,z=(T=(V=g.last)===null||V===void 0?void 0:V.networkOutLast)!==null&&T!==void 0?T:$,ee=(se=(R=g.last)===null||R===void 0?void 0:R.ioInLast)!==null&&se!==void 0?se:X,me=(O=(l=g.last)===null||l===void 0?void 0:l.ioOutLast)!==null&&O!==void 0?O:q,Ie={list:v.payload,cpu:G,memory:H,network:[{name:s.format("runStatNetworkOut"),data:[].concat(f()(g.network[0].data.slice(-20)),[{date:W,value:Math.max($-z,0).toString()}])},{name:s.format("runStatNetworkIn"),data:[].concat(f()(g.network[1].data.slice(-20)),[{date:W,value:Math.max(k-re,0).toString()}])}],io:[{name:s.format("runStatIoOut"),data:[].concat(f()(g.io[0].data.slice(-20)),[{date:W,value:Math.max(q-me,0).toString()}])},{name:s.format("runStatIoIn"),data:[].concat(f()(g.io[1].data.slice(-20)),[{date:W,value:Math.max(X-ee,0).toString()}])}],last:{networkInLast:k>0?k:re,networkOutLast:$>0?$:z,ioInLast:X>0?X:ee,ioOutLast:q>0?q:me}};return Ie}};function Qe(){var B,g,v,h,K,T,V,se,R,O,l,W,G,H,k,$,X,q,re,z=(0,ne.useAccess)(),ee=(0,C.useState)(),me=D()(ee,2),Ie=me[0],de=me[1],Je=(0,C.useState)(),Ce=D()(Je,2),te=Ce[0],Xe=Ce[1],qe=(0,C.useState)(),Re=D()(qe,2),r=Re[0],et=Re[1],tt=(0,C.useState)(),Le=D()(tt,2),n=Le[0],at=Le[1],nt=(0,C.useState)(),Ze=D()(nt,2),Me=Ze[0],rt=Ze[1],ot=(0,C.useReducer)(Ye,{cpu:0,memory:0,network:[{name:s.format("runStatNetworkOut"),data:[]},{name:s.format("runStatNetworkIn"),data:[]}],io:[{name:s.format("runStatIoOut"),data:[]},{name:s.format("runStatIoIn"),data:[]}],list:[]}),ke=D()(ot,2),A=ke[0],Fe=ke[1],it=(0,C.useContext)(Se.Z),We=it.loading,Ae=(0,ne.useModel)("subscriber");Ae.addDataHandler("container:stat",function(m){Fe({type:"update",payload:m.data})});function we(){return Te.apply(this,arguments)}function Te(){return Te=_()(o()().mark(function m(){var c,p,ae;return o()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return We.show(),Q.next=3,(0,ye.aF)().finally(function(){We.destroy()});case 3:return c=Q.sent,et(c.data),Q.next=7,(0,ye.Ll)();case 7:return p=Q.sent,at(p.data),Q.next=11,(0,ve.Cz)({follow:!0});case 11:ae=Q.sent,Fe({type:"update",payload:[]});case 13:case"end":return Q.stop()}},m)})),Te.apply(this,arguments)}return(0,C.useEffect)(function(){return we(),!z.canSeeEnableCe&&(0,Ue.YQ)().then(function(m){de(m.data)}),!z.canSeeEnableCe&&(0,Ke.q)().then(function(m){Xe(m.data)}),(0,ye.u5)().then(function(m){rt(m.data)}),function(){Ae.progress.close("container:stat")}},[]),(0,e.jsxs)(F.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,e.jsxs)(F.Z,{bordered:!0,split:"vertical",wrap:!0,children:[(0,e.jsx)(F.Z,{style:{height:"570px",overflow:"hidden"},colSpan:{xs:24,sm:24,md:24,lg:9,xl:9},headerBordered:!0,title:(0,e.jsx)($e.Z,{}),subTitle:s.format("basicInfoTitle"),extra:(0,e.jsx)(ie.Z,{children:z.canSeeEnableCe?z.canSeeEnableInDPanel&&(0,e.jsx)("a",{href:"https://dpanel.cc/pro",target:"_blank",children:s.format("basicProBuy")},"proLink"):Ie&&Ie.expireTime?(0,e.jsxs)("span",{children:[s.format("basicProExpireTime")," ",new Date(Ie.expireTime).toLocaleString()]},"expireTime"):(0,e.jsx)(Ne.ZP,{type:"link",onClick:_()(o()().mark(function m(){var c,p;return o()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,(0,Ue.$w)();case 2:c=Y.sent,p=new Blob([c.data.code],{type:"text/plain"}),(0,He.saveAs)(p,"dpanel.code");case 5:case"end":return Y.stop()}},m)})),children:s.format("basicProCode")},"downloadCode")}),children:(0,e.jsxs)(J.Z,{column:1,styles:{label:{width:100,justifyContent:"flex-end"}},children:[(0,e.jsx)(J.Z.Item,{label:s.format("basicDPanelTitleVersion"),children:(0,e.jsxs)(ie.Z,{direction:"horizontal",wrap:!0,children:[r==null?void 0:r.dpanel.version," - ",r==null?void 0:r.dpanel.env," - ",r==null?void 0:r.dpanel.family,z.canSeeEnableInDPanel&&(0,e.jsx)(Oe.Z,{title:s.format("basicDPanelTitleUpgradeInfo"),children:(0,e.jsx)("a",{target:"_blank",href:"https://github.com/donknap/dpanel/releases",children:(0,e.jsx)(ze.Z,{})})}),Me&&Me.newVersion!=""&&(0,e.jsx)(ne.Link,{to:"/system/upgrade",children:(0,e.jsx)(Ve.Z,{count:Me.newVersion,size:"small"})})]})}),(0,e.jsxs)(J.Z.Item,{label:"Docker Host",children:[r==null?void 0:r.info.Name," ",(0,e.jsx)(e.Fragment,{children:(r==null?void 0:r.info.ID)==""&&(0,e.jsx)(ne.Link,{to:"/system/env",state:{name:"local",t:(0,i.Fs)()},children:s.format("basicEnvSettingDefaultEnv")})})]}),(0,e.jsx)(J.Z.Item,{label:s.format("basicDockerTitleVersion"),children:"Server: ".concat(r==null?void 0:r.info.ServerVersion," / Client: ").concat(r==null?void 0:r.clientVersion)}),(0,e.jsx)(J.Z.Item,{label:"Docker SDK",children:"".concat(r==null?void 0:r.sdkVersion)}),(0,e.jsx)(J.Z.Item,{label:s.format("basicDockerTitleFileDriver"),children:"".concat(r==null?void 0:r.info.Driver)}),(0,e.jsx)(J.Z.Item,{label:s.format("basicDockerTitleLogDriver"),children:"".concat(r==null?void 0:r.info.LoggingDriver)}),(0,e.jsx)(J.Z.Item,{label:s.format("basicDockerTitleSystemVersion"),children:"".concat(r==null?void 0:r.info.OperatingSystem," - ").concat(r==null?void 0:r.info.KernelVersion," - ").concat(r==null?void 0:r.info.Architecture)}),(0,e.jsxs)(J.Z.Item,{label:"Cpu / Mem",children:[r==null?void 0:r.info.NCPU," ",a.FD.format("unitCpu")," / ",(0,i.FI)((B=r==null?void 0:r.info.MemTotal)!==null&&B!==void 0?B:0)]}),(0,e.jsx)(J.Z.Item,{label:s.format("basicDockerTitleRootDir"),children:r==null?void 0:r.info.DockerRootDir}),(0,e.jsx)(J.Z.Item,{label:s.format("basicDockerTitlePluginsVolume"),children:(0,e.jsx)(ie.Z,{children:r==null?void 0:r.info.Plugins.Volume})}),(0,e.jsx)(J.Z.Item,{label:s.format("basicDockerTitlePluginsNetwork"),children:(0,e.jsx)(ie.Z,{wrap:!0,children:r==null?void 0:r.info.Plugins.Network})}),(0,e.jsx)(J.Z.Item,{label:s.format("basicDockerTitleSystemTime"),children:new Date((g=r==null?void 0:r.info.SystemTime)!==null&&g!==void 0?g:"").toLocaleString()})]})}),(0,e.jsxs)(F.Z,{headerBordered:!0,colSpan:{xs:24,sm:24,md:24,lg:15,xl:15},title:(0,e.jsx)(Pe.Z,{}),subTitle:s.format("runStatTitle"),split:"horizontal",extra:(0,e.jsx)(ie.Z,{children:A.list&&(0,e.jsx)(ce,{data:A.list})}),children:[(0,e.jsx)(F.Z,{children:(0,e.jsxs)(Ge.Z,{gap:50,align:"center",justify:"space-evenly",children:[(0,e.jsx)(be,{showPercent:parseFloat((((v=A==null?void 0:A.cpu)!==null&&v!==void 0?v:0)/((h=r==null?void 0:r.info.NCPU)!==null&&h!==void 0?h:0)).toFixed(2)),showLabel:"Cpu",showUse:"".concat(((K=A==null?void 0:A.cpu)!==null&&K!==void 0?K:0).toFixed(2)),showTotal:"".concat((T=r==null?void 0:r.info.NCPU)!==null&&T!==void 0?T:0," ").concat(a.FD.format("unitCpu"))}),(0,e.jsx)(be,{showPercent:parseFloat((((V=A==null?void 0:A.memory)!==null&&V!==void 0?V:0)/((se=r==null?void 0:r.info.MemTotal)!==null&&se!==void 0?se:0)*100).toFixed(2)),showLabel:"Memory",showUse:(0,i.FI)((R=A==null?void 0:A.memory)!==null&&R!==void 0?R:0),showTotal:"".concat((0,i.FI)((O=r==null?void 0:r.info.MemTotal)!==null&&O!==void 0?O:0))})]})}),(0,e.jsxs)(F.Z,{split:"vertical",wrap:!0,children:[(0,e.jsx)(F.Z,{colSpan:12,title:(0,e.jsx)(Pe.Z,{}),subTitle:s.format("usageNetwork"),headerBordered:!0,children:(0,e.jsx)(b.Z,{data:A.network,yLabelFormatter:function(c){return(0,i.FI)(parseFloat(c))},yValueFormatter:function(c){return(0,i.FI)(parseFloat(c))},yDomainMaxCallback:function(c){return c.max*1.5},name:"network"})}),(0,e.jsx)(F.Z,{colSpan:12,title:(0,e.jsx)(Pe.Z,{}),subTitle:s.format("usageDisk"),headerBordered:!0,children:(0,e.jsx)(b.Z,{name:"disk",data:A.io,yLabelFormatter:function(c){return(0,i.FI)(parseFloat(c))},yValueFormatter:function(c){return(0,i.FI)(parseFloat(c))},yDomainMaxCallback:function(c){return c.max*1.5}})})]})]})]}),(0,e.jsxs)(F.Z,{bordered:!0,headerBordered:!0,title:(0,e.jsx)(Pe.Z,{}),subTitle:s.format("usageTitle"),wrap:!0,extra:(0,e.jsx)(ie.Z,{children:(0,e.jsx)("span",{children:n!=null&&n.diskUsage&&n!==null&&n!==void 0&&n.diskUsage.updatedAt?"".concat(s.format("usageLastUpgradeTime")," ").concat(new Date(n==null?void 0:n.diskUsage.updatedAt).toLocaleString()):""},"lastUpdate")},"size"),children:[(0,e.jsx)(F.Z,{colSpan:{xs:24,sm:24,md:24,lg:24,xl:12,xxl:12},ghost:!0,children:(n==null?void 0:n.diskUsage)&&(0,e.jsx)(je,{data:n==null?void 0:n.diskUsage})}),(0,e.jsxs)(F.Z,{colSpan:{xs:24,sm:8,md:8,lg:8,xl:4,xxl:4},split:"horizontal",ghost:!0,children:[(0,e.jsx)(w.Z,{statistic:{title:(0,e.jsx)(ie.Z,{children:s.format("usageContainer")}),value:n!=null&&n.diskUsage.usage.Containers?(0,i.FI)((l=n.diskUsage.usage.Containers.reduce(function(m,c){var p;return m+c.SizeRootFs+((p=c.SizeRw)!==null&&p!==void 0?p:0)},0))!==null&&l!==void 0?l:0):0,description:s.format("usageDescContainer")}}),(0,e.jsx)(w.Z,{statistic:{title:(0,e.jsx)(ie.Z,{children:s.format("usageImage")}),value:n!=null&&n.diskUsage.usage.Images?(0,i.FI)((W=n.diskUsage.usage.Images.reduce(function(m,c){var p;return m+(c.Size+((p=c.SharedSize)!==null&&p!==void 0?p:0))},0))!==null&&W!==void 0?W:0):0,description:s.format("usageDescImage")}}),(0,e.jsx)(w.Z,{statistic:{title:(0,e.jsx)(ie.Z,{children:s.format("usageVolume")}),value:n!=null&&n.diskUsage.usage.Volumes?(0,i.FI)((G=n.diskUsage.usage.Volumes.reduce(function(m,c){return m+c.UsageData.Size},0))!==null&&G!==void 0?G:0):0,description:s.format("usageDescVolume")}}),(0,e.jsx)(w.Z,{statistic:{title:s.format("usageBuildCache"),value:n!=null&&n.diskUsage.usage.BuildCache?(0,i.FI)((H=n.diskUsage.usage.BuildCache.reduce(function(m,c){return m+c.Size},0))!==null&&H!==void 0?H:0):0,description:(0,e.jsx)(I.u,{access:"canSeeHomeOverviewClear",children:(0,e.jsx)(x.Z,{action:function(){return(0,Be.c5)()},buttonProps:{type:"link",ghost:!0},onSuccess:function(){we()},children:a.FD.format("listManageClear")})})}})]}),(0,e.jsxs)(F.Z,{colSpan:{xs:24,sm:16,md:16,lg:16,xl:8,xxl:8},ghost:!0,split:"horizontal",children:[(0,e.jsx)(F.Z,{ghost:!0,children:(0,e.jsxs)(w.Z.Group,{children:[(0,e.jsx)(w.Z,{statistic:{title:s.format("usageContainer"),value:(k=r==null?void 0:r.info.Containers)!==null&&k!==void 0?k:0,description:(0,e.jsx)(ne.Link,{to:"/app/list",children:a.FD.format("listManageDetail")})}}),!z.canSeeEnableCe&&(0,e.jsx)(w.Z,{statistic:{title:s.format("usageContainerNew"),status:"processing",valueRender:function(c){var p,ae,Y;return(0,e.jsx)(Oe.Z,{title:"".concat(a.FD.format("title.ignore"),": ").concat((p=te==null?void 0:te.ignore)!==null&&p!==void 0?p:0,` 
                      `).concat(a.FD.format("title.ignore"),": ").concat((ae=te==null?void 0:te.failed)!==null&&ae!==void 0?ae:0,` 
                      `).concat(a.FD.format("title.local"),": ").concat((Y=te==null?void 0:te.local)!==null&&Y!==void 0?Y:0),children:te==null?void 0:te.upgrade})}}}),(0,e.jsx)(w.Z,{statistic:{title:a.FD.format("title.warning"),status:"error",valueRender:function(c){var p,ae,Y,Q=0;return n&&n.total&&n.total.containerRunning.stop&&(Q+=n.total.containerRunning.stop),n&&n.total&&n.total.containerRunning.pause&&(Q+=n.total.containerRunning.pause),n&&n.total&&n.total.containerRunning.unhealthy&&(Q+=n.total.containerRunning.unhealthy),(0,e.jsx)(Oe.Z,{title:"".concat(new a.Uo("components.containerStatus").format("container.exited"),": ").concat((p=n==null?void 0:n.total.containerRunning.stop)!==null&&p!==void 0?p:0,`
                      `).concat(new a.Uo("components.containerStatus").format("container.paused"),": ").concat((ae=n==null?void 0:n.total.containerRunning.pause)!==null&&ae!==void 0?ae:0,` 
                      `).concat(new a.Uo("components.containerStatus").format("container.unhealthy"),": ").concat((Y=n==null?void 0:n.total.containerRunning.unhealthy)!==null&&Y!==void 0?Y:0),children:Q})}}}),(0,e.jsx)(w.Z,{statistic:{title:s.format("usageContainerRecycle"),value:($=n==null?void 0:n.total.containerTask)!==null&&$!==void 0?$:0,description:(0,e.jsx)(ne.Link,{to:"/app/list/recycle",children:a.FD.format("listManageDetail")})}})]})}),(0,e.jsxs)(F.Z,{ghost:!0,children:[(0,e.jsx)(w.Z,{statistic:{title:s.format("usageImage"),value:"".concat((X=(n==null?void 0:n.diskUsage.usage.Images)&&(n==null?void 0:n.diskUsage.usage.Images.length))!==null&&X!==void 0?X:0),description:(0,e.jsx)(ne.Link,{to:"/image/list",children:a.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(w.Z,{statistic:{title:s.format("usageImageTask"),value:(q=n==null?void 0:n.total.imageTask)!==null&&q!==void 0?q:0,description:(0,e.jsx)(ne.Link,{to:"/image/list/recycle",children:a.FD.format("listManageDetail")})},chartPlacement:"left"})]}),(0,e.jsxs)(F.Z,{ghost:!0,children:[(0,e.jsx)(w.Z,{statistic:{title:s.format("usageNetwork"),value:n==null?void 0:n.total.network,description:(0,e.jsx)(ne.Link,{to:"/docker/network",children:a.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(w.Z,{statistic:{title:s.format("usageNetworkPortBind"),value:n==null?void 0:n.total.port,description:(0,e.jsx)(y.a,{drawerProps:{width:u.R_},submitter:!1,title:s.format("usageNetworkPortBind"),trigger:(0,e.jsx)(j.Z.Link,{children:a.FD.format("listManageDetail")}),children:(0,e.jsx)(P.Z,{pagination:!1,dataSource:n==null?void 0:n.port,rowKey:function(c){return"".concat(c.port.host).concat(c.port.dest)},columns:[{title:s.format("usageNetworkPortBindHost"),dataIndex:["port","host"],sorter:function(c,p){return parseInt(c.port.host)-parseInt(p.port.host)},render:function(c,p,ae){return p.port.host!="0"?"".concat(p.port.hostIp,":").concat(p.port.host):"-"}},{title:s.format("usageNetworkPortBindDest"),dataIndex:["port","dest"]},{title:s.format("usageNetworkPortBindName"),dataIndex:"name",render:function(c,p,ae){return(0,i.fi)(p.name,"/")}}]})})},chartPlacement:"left"})]}),(0,e.jsxs)(F.Z,{ghost:!0,children:[(0,e.jsx)(w.Z,{statistic:{title:s.format("usageVolume"),value:(re=(n==null?void 0:n.diskUsage.usage.Volumes)&&(n==null?void 0:n.diskUsage.usage.Volumes.length))!==null&&re!==void 0?re:0,description:(0,e.jsx)(ne.Link,{to:"/docker/volume",children:a.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(w.Z,{statistic:{title:s.format("usageBackup"),value:n==null?void 0:n.total.backup,description:(0,e.jsx)(ne.Link,{to:"/app/backup",children:a.FD.format("listManageDetail")})},chartPlacement:"left"})]})]})]})]})}},2831:function(oe,M,t){t.d(M,{Ll:function(){return x},aF:function(){return D},u5:function(){return f}});var U=t(15009),o=t.n(U),L=t(99289),_=t.n(L),S=t(82346);function D(){return E.apply(this,arguments)}function E(){return E=_()(o()().mark(function u(){return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,S.request)("/api/common/home/info",{method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},u)})),E.apply(this,arguments)}function f(){return I.apply(this,arguments)}function I(){return I=_()(o()().mark(function u(){return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,S.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},u)})),I.apply(this,arguments)}function x(){return b.apply(this,arguments)}function b(){return b=_()(o()().mark(function u(){return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,S.request)("/api/common/home/usage",{method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},u)})),b.apply(this,arguments)}},97841:function(oe,M,t){t.d(M,{Xr:function(){return u},bJ:function(){return x},c5:function(){return a},hf:function(){return D},l9:function(){return f}});var U=t(15009),o=t.n(U),L=t(99289),_=t.n(L),S=t(82346);function D(j){return E.apply(this,arguments)}function E(){return E=_()(o()().mark(function j(P){return o()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,S.request)("/api/app/image-build/delete",{method:"POST",data:P});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},j)})),E.apply(this,arguments)}function f(j){return I.apply(this,arguments)}function I(){return I=_()(o()().mark(function j(P){return o()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,S.request)("/api/app/image-build/create",{method:"POST",data:P}));case 1:case"end":return d.stop()}},j)})),I.apply(this,arguments)}function x(j){return b.apply(this,arguments)}function b(){return b=_()(o()().mark(function j(P){return o()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,S.request)("/api/app/image-build/get-list",{method:"POST",data:P}));case 1:case"end":return d.stop()}},j)})),b.apply(this,arguments)}function u(j){return i.apply(this,arguments)}function i(){return i=_()(o()().mark(function j(P){return o()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,S.request)("/api/app/image-build/get-detail",{method:"POST",data:P});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},j)})),i.apply(this,arguments)}function a(){return y.apply(this,arguments)}function y(){return y=_()(o()().mark(function j(){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.request)("/api/app/image-build/prune",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},j)})),y.apply(this,arguments)}},89075:function(oe,M,t){t.d(M,{$w:function(){return D},YQ:function(){return f},ax:function(){return x}});var U=t(15009),o=t.n(U),L=t(99289),_=t.n(L),S=t(82346);function D(){return E.apply(this,arguments)}function E(){return E=_()(o()().mark(function u(){return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,S.request)("/api/pro/home/get-machine-id",{method:"POST"}));case 1:case"end":return a.stop()}},u)})),E.apply(this,arguments)}function f(){return I.apply(this,arguments)}function I(){return I=_()(o()().mark(function u(){return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,S.request)("/api/pro/home/get-license-info",{method:"POST"}));case 1:case"end":return a.stop()}},u)})),I.apply(this,arguments)}function x(){return b.apply(this,arguments)}function b(){return b=_()(o()().mark(function u(){return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,S.request)("/api/pro/home/login-info",{method:"POST"}));case 1:case"end":return a.stop()}},u)})),b.apply(this,arguments)}},20578:function(oe,M,t){t.d(M,{q:function(){return D}});var U=t(15009),o=t.n(U),L=t(99289),_=t.n(L),S=t(82346);function D(){return E.apply(this,arguments)}function E(){return E=_()(o()().mark(function f(){return o()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,(0,S.request)("/api/pro/container-upgrade/get-all-list",{method:"POST"});case 2:return x.abrupt("return",x.sent);case 3:case"end":return x.stop()}},f)})),E.apply(this,arguments)}}}]);
