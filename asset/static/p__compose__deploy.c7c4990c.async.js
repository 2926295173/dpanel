"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7667],{16165:function(J,T,e){var l=e(87462),n=e(1413),D=e(4942),f=e(45987),u=e(67294),j=e(93967),v=e.n(j),y=e(42550),g=e(63017),B=e(41755),C=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],b=u.forwardRef(function(O,x){var A=O.className,P=O.component,E=O.viewBox,F=O.spin,d=O.rotate,k=O.tabIndex,w=O.onClick,m=O.children,L=(0,f.Z)(O,C),U=u.useRef(),a=(0,y.x1)(U,x);(0,B.Kp)(!!(P||m),"Should have `component` prop or `children`."),(0,B.C3)(U);var ee=u.useContext(g.Z),Z=ee.prefixCls,ne=Z===void 0?"anticon":Z,se=ee.rootClassName,te=v()(se,ne,(0,D.Z)({},"".concat(ne,"-spin"),!!F&&!!P),A),Q=v()((0,D.Z)({},"".concat(ne,"-spin"),!!F)),le=d?{msTransform:"rotate(".concat(d,"deg)"),transform:"rotate(".concat(d,"deg)")}:void 0,t=(0,n.Z)((0,n.Z)({},B.vD),{},{className:Q,style:le,viewBox:E});E||delete t.viewBox;var ie=function(){return P?u.createElement(P,t,m):m?((0,B.Kp)(!!E||u.Children.count(m)===1&&u.isValidElement(m)&&u.Children.only(m).type==="use","Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),u.createElement("svg",(0,l.Z)({},t,{viewBox:E}),m)):null},q=k;return q===void 0&&w&&(q=-1),u.createElement("span",(0,l.Z)({role:"img"},L,{ref:a,tabIndex:q,onClick:w,className:te}),ie())});b.displayName="AntdIcon",T.Z=b},35995:function(J,T,e){e.d(T,{Z:function(){return y}});var l=e(87462),n=e(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M508 624a112 112 0 00112-112c0-3.28-.15-6.53-.43-9.74L498.26 623.57c3.21.28 6.45.43 9.74.43zm370.72-458.44L836 122.88a8 8 0 00-11.31 0L715.37 232.23Q624.91 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.7 119.43 136.55 191.45L112.56 835a8 8 0 000 11.31L155.25 889a8 8 0 0011.31 0l712.16-712.12a8 8 0 000-11.32zM332 512a176 176 0 01258.88-155.28l-48.62 48.62a112.08 112.08 0 00-140.92 140.92l-48.62 48.62A175.09 175.09 0 01332 512z"}},{tag:"path",attrs:{d:"M942.2 486.2Q889.4 375 816.51 304.85L672.37 449A176.08 176.08 0 01445 676.37L322.74 798.63Q407.82 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5z"}}]},name:"eye-invisible",theme:"filled"},f=D,u=e(84089),j=function(B,C){return n.createElement(u.Z,(0,l.Z)({},B,{ref:C,icon:f}))},v=n.forwardRef(j),y=v},29158:function(J,T,e){e.d(T,{Z:function(){return y}});var l=e(87462),n=e(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"},f=D,u=e(84089),j=function(B,C){return n.createElement(u.Z,(0,l.Z)({},B,{ref:C,icon:f}))},v=n.forwardRef(j),y=v},74842:function(J,T,e){e.d(T,{Z:function(){return y}});var l=e(87462),n=e(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},f=D,u=e(84089),j=function(B,C){return n.createElement(u.Z,(0,l.Z)({},B,{ref:C,icon:f}))},v=n.forwardRef(j),y=v},87784:function(J,T,e){e.d(T,{Z:function(){return y}});var l=e(87462),n=e(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},f=D,u=e(84089),j=function(B,C){return n.createElement(u.Z,(0,l.Z)({},B,{ref:C,icon:f}))},v=n.forwardRef(j),y=v},99861:function(J,T,e){var l=e(15009),n=e.n(l),D=e(64599),f=e.n(D),u=e(99289),j=e.n(u),v=e(5574),y=e.n(v),g=e(83062),B=e(14726),C=e(42119),b=e(67294),O=e(92754),x=e(3393),A=e(184),P=e(38345),E=e(85893),F=(0,b.forwardRef)(function(d,k){(0,b.useImperativeHandle)(k,function(){return{}});var w=(0,b.useState)(0),m=y()(w,2),L=m[0],U=m[1],a=(0,b.useRef)();return(0,E.jsxs)(A.a,{trigger:(0,E.jsx)(g.Z,{title:"\u5F53\u90E8\u7F72\u65F6\u65E0\u6CD5\u6B63\u5E38\u62C9\u53D6\u955C\u50CF\u65F6\uFF0C\u53EF\u4EE5\u624B\u52A8\u4F7F\u7528\u9762\u677F\u7684\u4ED3\u5E93\u52A0\u901F\u529F\u80FD\u62C9\u53D6\u6240\u6709\u955C\u50CF",children:(0,E.jsx)(B.ZP,{children:"\u4E00\u952E\u62C9\u53D6\u955C\u50CF"})}),width:800,submitter:!1,title:"\u4E00\u952E\u62C9\u53D6\u955C\u50CF",onOpenChange:function(){var ee=j()(n()().mark(function Z(ne){var se,te,Q,le,t,ie,q;return n()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(!ne){W.next=25;break}te=0,Q=f()(d.image),W.prev=3,Q.s();case 5:if((le=Q.n()).done){W.next=15;break}return ie=le.value,U(te),(t=a.current)===null||t===void 0||t.setStart(),W.next=11,(0,x.Gb)({tag:ie,type:"pull"});case 11:q=W.sent,te++;case 13:W.next=5;break;case 15:W.next=20;break;case 17:W.prev=17,W.t0=W.catch(3),Q.e(W.t0);case 20:return W.prev=20,Q.f(),W.finish(20);case 23:(se=a.current)===null||se===void 0||se.setFinish(),U(te);case 25:case"end":return W.stop()}},Z,null,[[3,17,20,23]])}));return function(Z){return ee.apply(this,arguments)}}(),children:[(0,E.jsx)(P.Z,{children:(0,E.jsx)(C.Z,{current:L,items:d.image.map(function(ee,Z){return{title:ee,key:Z}})})}),(0,E.jsx)(P.Z,{children:(0,E.jsx)(O.Z,{ref:a})})]})});T.Z=F},92754:function(J,T,e){var l=e(5574),n=e.n(l),D=e(67294),f=e(54006),u=e(38703),j=e(85893),v=(0,D.forwardRef)(function(y,g){(0,D.useImperativeHandle)(g,function(){return{setFinish:function(){x({finish:{downloading:100,extracting:100}})},setStart:function(){x({start:{downloading:0,extracting:0}})}}});var B=(0,f.useModel)("subscriber");B.addDataHandler("imageDownload",function(){var A=B.getDataByType("imageDownload"),P=A.pop();P&&x(P.data)});var C=(0,D.useState)(),b=n()(C,2),O=b[0],x=b[1];return(0,D.useEffect)(function(){x({start:{downloading:0,extracting:0}})},[]),(0,j.jsx)(j.Fragment,{children:O&&Object.keys(O).map(function(A){return(0,j.jsx)(u.Z,{percent:O[A].downloading,success:{percent:O[A].extracting}},A)})})});T.Z=v},54964:function(J,T,e){var l=e(78267),n=e.n(l),D=e(67294),f=e(12320),u=e.n(f),j=e(89629),v=e(85893),y=new f.Terminal({convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,cursorStyle:"block",cursorBlink:!0,theme:{foreground:"#dddddd",cursor:"gray"}}),g=new l.FitAddon,B=(0,D.forwardRef)(function(C,b){return(0,D.useEffect)(function(){y.loadAddon(g),y.open(document.getElementById("terminal-container")),g.fit()},[]),(0,D.useImperativeHandle)(b,function(){return{write:function(x){y.write(x)},clear:function(){y.clear()},getTerminal:function(){return y}}}),(0,v.jsx)("div",{id:"terminal-container",style:{width:C.width?C.width:"100%",height:C.height?C.height:"500px"}})});T.Z=B},97964:function(J,T,e){e.r(T),e.d(T,{default:function(){return ie}});var l=e(15009),n=e.n(l),D=e(99289),f=e.n(D),u=e(5574),j=e.n(u),v=e(80821),y=e(54964),g=e(24910),B=e(43425),C=e(74842),b=e(87784),O=e(33160),x=e(30159),A=e(45742),P=e(91806),E=e(38345),F=e(184),d=e(54006),k=e(42075),w=e(96074),m=e(22015),L=e(84567),U=e(14726),a=e(40056),ee=e(85265),Z=e(67294),ne=e(7297),se=e(99861),te=e(1272),Q=e(95089),le=e(95213),t=e(85893);function ie(){var q=(0,d.useParams)(),_e=(0,d.useNavigate)(),W=(0,Z.useState)(),ce=j()(W,2),i=ce[0],s=ce[1],o=(0,Z.useState)({deleteImage:!1,deleteData:!1}),p=j()(o,2),c=p[0],M=p[1],I=(0,Z.useRef)(),N=(0,Z.useState)(0),z=j()(N,2),X=z[0],Y=z[1],oe=(0,Z.useState)(!1),re=j()(oe,2),ue=re[0],$=re[1],S=(0,Z.useRef)(),de=(0,d.useModel)("subscriber");return de.addDataHandler("composeUp",function(){var R=de.getDataByType("composeUp"),r=R.pop();if(r){var _;(_=I.current)===null||_===void 0||_.write(r.data)}}),(0,Z.useEffect)(function(){var R,r;(R=I.current)===null||R===void 0||R.clear(),(0,g.YZ)({name:(r=q.name)!==null&&r!==void 0?r:""}).then(function(_){var K=_.data.detail;K.setting.status&&K.setting.status.indexOf("running")>-1&&(K.isRunning=!0),K.setting.status&&K.setting.status.indexOf("paused")>-1&&(K.isPaused=!0),K.setting.status&&K.setting.status=="waiting"?K.isDeploy=!1:K.isDeploy=!0;var G=te.ZP.load(K.yaml);K.imageList=Object.keys(G.services).map(function(me){return G.services[me].image}),s(K)})},[X]),(0,t.jsxs)(E.Z,{direction:"column",gutter:[10,10],children:[(0,t.jsx)(E.Z,{title:(0,t.jsx)(B.Z,{}),subTitle:"\u64CD\u4F5C - "+(i==null?void 0:i.name),ghost:!0,children:i!=null&&i.id?(0,t.jsxs)(k.Z,{wrap:!0,children:[i.isDeploy&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z,{icon:(0,t.jsx)(C.Z,{}),action:function(){var r,_;return(r=I.current)===null||r===void 0||r.clear(),$(!0),(0,g.GG)({id:(_=i==null?void 0:i.id)!==null&&_!==void 0?_:0,op:"start"})},disabled:(i==null?void 0:i.isRunning)||i.isPaused,messageSuccess:"\u542F\u52A8\u6210\u529F",children:"\u542F\u52A8"}),(0,t.jsx)(v.Z,{action:function(){var r,_;return(r=I.current)===null||r===void 0||r.clear(),$(!0),(0,g.GG)({id:(_=i==null?void 0:i.id)!==null&&_!==void 0?_:0,op:"stop"})},messageSuccess:"\u505C\u6B62\u6210\u529F",icon:(0,t.jsx)(b.Z,{}),disabled:!i.isRunning,children:"\u505C\u6B62"}),(0,t.jsx)(v.Z,{action:function(){var r,_;return(r=I.current)===null||r===void 0||r.clear(),$(!0),(0,g.GG)({id:(_=i==null?void 0:i.id)!==null&&_!==void 0?_:0,op:"restart"})},messageSuccess:"\u91CD\u542F\u6210\u529F",icon:(0,t.jsx)(O.Z,{}),children:"\u91CD\u542F"}),(0,t.jsx)(v.Z,{action:function(){var r,_;return(r=I.current)===null||r===void 0||r.clear(),$(!0),(0,g.GG)({id:(_=i==null?void 0:i.id)!==null&&_!==void 0?_:0,op:"pause"})},messageSuccess:"\u6682\u505C\u6210\u529F",icon:(0,t.jsx)(x.Z,{}),disabled:!i.isRunning,children:"\u6682\u505C"}),(0,t.jsx)(v.Z,{action:function(){var r,_;return(r=I.current)===null||r===void 0||r.clear(),$(!0),(0,g.GG)({id:(_=i==null?void 0:i.id)!==null&&_!==void 0?_:0,op:"unpause"})},messageSuccess:"\u6062\u590D\u6210\u529F",icon:(0,t.jsx)(C.Z,{}),disabled:!(i!=null&&i.isPaused),children:"\u6062\u590D"}),(0,t.jsx)(v.Z,{action:function(){var r,_;return(r=I.current)===null||r===void 0||r.clear(),$(!0),(0,g.GG)({id:(_=i==null?void 0:i.id)!==null&&_!==void 0?_:0,op:"logs"})},messageSuccess:"\u83B7\u53D6\u6210\u529F",icon:(0,t.jsx)(A.Z,{}),children:"\u65E5\u5FD7"}),(0,t.jsx)(w.Z,{type:"vertical"})]}),!i.isDeploy&&(0,t.jsx)(v.Z,{type:"primary",action:f()(n()().mark(function R(){var r,_;return n()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return(r=I.current)===null||r===void 0||r.clear(),$(!0),G.abrupt("return",(0,g.Oh)({id:(_=i==null?void 0:i.id)!==null&&_!==void 0?_:0}));case 3:case"end":return G.stop()}},R)})),messageSuccess:"\u90E8\u7F72\u6210\u529F\uFF0C\u8BF7\u5230\u5BB9\u5668\u7BA1\u7406\u4E2D\u67E5\u770B",children:"\u90E8\u7F72\u5BB9\u5668"}),(0,t.jsx)(se.Z,{image:i.imageList}),i.isDeploy&&(0,t.jsx)(v.Z,{type:"primary",action:f()(n()().mark(function R(){var r,_;return n()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:(r=I.current)===null||r===void 0||r.clear(),$(!0),(0,g.mg)({id:(_=i==null?void 0:i.id)!==null&&_!==void 0?_:0,deleteImage:c.deleteImage,deleteData:c.deleteData}),c.deleteData&&_e("/compose/list");case 4:case"end":return G.stop()}},R)})),danger:!0,confirm:(0,t.jsxs)(k.Z,{style:{width:280},direction:"vertical",children:[(0,t.jsx)(m.Z.Text,{children:"\u5220\u9664\u5BB9\u5668\u540E\u65E0\u6CD5\u6062\u590D,\u786E\u8BA4\u5417\uFF1F"}),(0,t.jsx)(L.Z,{name:"deleteImage",onChange:function(r){return M({deleteImage:r.target.checked,deleteData:c.deleteData})},children:"\u5220\u9664\u955C\u50CF\uFF1F"})]}),children:"\u9500\u6BC1\u5BB9\u5668"}),(0,t.jsx)(U.ZP,{onClick:function(){$(!0)},children:"\u63A7\u5236\u53F0"}),(0,t.jsx)(w.Z,{type:"vertical"}),(0,t.jsx)(F.a,{submitter:!1,trigger:(0,t.jsx)(U.ZP,{children:"Yaml"}),title:(0,t.jsxs)(k.Z,{children:[(0,t.jsx)("span",{children:"Compose Yaml"}),(0,t.jsx)("div",{})]}),children:(0,t.jsx)(Q.ZP,{theme:"dark",minHeight:"550px",value:i.yaml,extensions:[le.RI.yaml()]})})]}):(0,t.jsx)(a.Z,{showIcon:!0,type:"info",message:"\u5F53\u524D\u90E8\u7F72\u4EFB\u52A1\u975E DPanel \u9762\u677F\u521B\u5EFA\uFF0C\u6CA1\u6709\u7BA1\u7406\u6743\u9650\u3002"})},"operator"),(0,t.jsx)(E.Z,{ghost:!0,title:(0,t.jsx)(P.Z,{}),subTitle:"\u5BB9\u5668\u7EC4",children:q.name&&(0,t.jsx)(ne.Z,{showLite:!0,searchPrefix:q.name,ref:S})}),(0,t.jsxs)(ee.Z,{open:ue,width:800,title:"\u63A7\u5236\u53F0\u65E5\u5FD7",forceRender:!0,onClose:function(){var r;$(!1),Y(X+1),(r=S.current)===null||r===void 0||r.reload()},extra:(0,t.jsx)(v.Z,{type:"primary",action:function(){var r;return(r=I.current)===null||r===void 0||r.clear(),(0,g.U_)({})},danger:!0,children:"\u4E2D\u6B62\u6267\u884C"}),footer:!1,children:[(0,t.jsx)(a.Z,{showIcon:!0,style:{marginBottom:"20px"},message:"\u5982\u679C\u62C9\u53D6\u955C\u50CF\u5931\u8D25\uFF0C\u8BF7\u914D\u7F6E\u4ED3\u5E93\u52A0\u901F\u5730\u5740\uFF0C\u4F7F\u7528\u3010\u4E00\u952E\u62C9\u53D6\u955C\u50CF\u3011\u529F\u80FD\u540E\u518D\u5C1D\u8BD5\u90E8\u7F72\u3002"}),(0,t.jsx)(y.Z,{ref:I})]})]})}},24910:function(J,T,e){e.d(T,{GG:function(){return F},Oh:function(){return x},U_:function(){return k},YZ:function(){return B},ik:function(){return b},im:function(){return j},mg:function(){return P},pm:function(){return y}});var l=e(15009),n=e.n(l),D=e(99289),f=e.n(D),u=e(54006);function j(m){return v.apply(this,arguments)}function v(){return v=f()(n()().mark(function m(L){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,u.request)("/api/app/compose/create",{method:"POST",data:L}));case 1:case"end":return a.stop()}},m)})),v.apply(this,arguments)}function y(m){return g.apply(this,arguments)}function g(){return g=f()(n()().mark(function m(L){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,u.request)("/api/app/compose/get-list",{method:"POST",data:L}));case 1:case"end":return a.stop()}},m)})),g.apply(this,arguments)}function B(m){return C.apply(this,arguments)}function C(){return C=f()(n()().mark(function m(L){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,u.request)("/api/app/compose/get-detail",{method:"POST",data:L}));case 1:case"end":return a.stop()}},m)})),C.apply(this,arguments)}function b(m){return O.apply(this,arguments)}function O(){return O=f()(n()().mark(function m(L){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,u.request)("/api/app/compose/delete",{method:"POST",data:L}));case 1:case"end":return a.stop()}},m)})),O.apply(this,arguments)}function x(m){return A.apply(this,arguments)}function A(){return A=f()(n()().mark(function m(L){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,u.request)("/api/app/compose/container-deploy",{method:"POST",data:L}));case 1:case"end":return a.stop()}},m)})),A.apply(this,arguments)}function P(m){return E.apply(this,arguments)}function E(){return E=f()(n()().mark(function m(L){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,u.request)("/api/app/compose/container-destroy",{method:"POST",data:L}));case 1:case"end":return a.stop()}},m)})),E.apply(this,arguments)}function F(m){return d.apply(this,arguments)}function d(){return d=f()(n()().mark(function m(L){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,u.request)("/api/app/compose/container-ctrl",{method:"POST",data:L}));case 1:case"end":return a.stop()}},m)})),d.apply(this,arguments)}function k(m){return w.apply(this,arguments)}function w(){return w=f()(n()().mark(function m(L){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,u.request)("/api/app/compose/container-process-kill",{method:"POST",data:L}));case 1:case"end":return a.stop()}},m)})),w.apply(this,arguments)}},3393:function(J,T,e){e.d(T,{Gb:function(){return y},Pn:function(){return b},Rb:function(){return x},YU:function(){return j},_U:function(){return B}});var l=e(15009),n=e.n(l),D=e(99289),f=e.n(D),u=e(54006);function j(P){return v.apply(this,arguments)}function v(){return v=f()(n()().mark(function P(E){return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,u.request)("/api/app/image/get-detail",{method:"POST",data:E}));case 1:case"end":return d.stop()}},P)})),v.apply(this,arguments)}function y(P){return g.apply(this,arguments)}function g(){return g=f()(n()().mark(function P(E){return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,u.request)("/api/app/image/tag-remote",{method:"POST",data:E}));case 1:case"end":return d.stop()}},P)})),g.apply(this,arguments)}function B(P){return C.apply(this,arguments)}function C(){return C=f()(n()().mark(function P(E){return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,u.request)("/api/app/image/tag-add",{method:"POST",data:E}));case 1:case"end":return d.stop()}},P)})),C.apply(this,arguments)}function b(P){return O.apply(this,arguments)}function O(){return O=f()(n()().mark(function P(E){return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,u.request)("/api/app/image/tag-delete",{method:"POST",data:E}));case 1:case"end":return d.stop()}},P)})),O.apply(this,arguments)}function x(P){return A.apply(this,arguments)}function A(){return A=f()(n()().mark(function P(E){return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,u.request)("/api/app/image/export",{method:"POST",data:E,responseType:"blob"}));case 1:case"end":return d.stop()}},P)})),A.apply(this,arguments)}},40056:function(J,T,e){e.d(T,{Z:function(){return i}});var l=e(67294),n=e(89739),D=e(4340),f=e(97937),u=e(21640),j=e(78860),v=e(93967),y=e.n(v),g=e(29372),B=e(64217),C=e(42550),b=e(96159),O=e(53124),x=e(11568),A=e(14747),P=e(83559);const E=(s,o,p,c,M)=>({background:s,border:`${(0,x.bf)(c.lineWidth)} ${c.lineType} ${o}`,[`${M}-icon`]:{color:p}}),F=s=>{const{componentCls:o,motionDurationSlow:p,marginXS:c,marginSM:M,fontSize:I,fontSizeLG:N,lineHeight:z,borderRadiusLG:X,motionEaseInOutCirc:Y,withDescriptionIconSize:oe,colorText:re,colorTextHeading:ue,withDescriptionPadding:$,defaultPadding:S}=s;return{[o]:Object.assign(Object.assign({},(0,A.Wf)(s)),{position:"relative",display:"flex",alignItems:"center",padding:S,wordWrap:"break-word",borderRadius:X,[`&${o}-rtl`]:{direction:"rtl"},[`${o}-content`]:{flex:1,minWidth:0},[`${o}-icon`]:{marginInlineEnd:c,lineHeight:0},"&-description":{display:"none",fontSize:I,lineHeight:z},"&-message":{color:ue},[`&${o}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${p} ${Y}, opacity ${p} ${Y},
        padding-top ${p} ${Y}, padding-bottom ${p} ${Y},
        margin-bottom ${p} ${Y}`},[`&${o}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${o}-with-description`]:{alignItems:"flex-start",padding:$,[`${o}-icon`]:{marginInlineEnd:M,fontSize:oe,lineHeight:0},[`${o}-message`]:{display:"block",marginBottom:c,color:ue,fontSize:N},[`${o}-description`]:{display:"block",color:re}},[`${o}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},d=s=>{const{componentCls:o,colorSuccess:p,colorSuccessBorder:c,colorSuccessBg:M,colorWarning:I,colorWarningBorder:N,colorWarningBg:z,colorError:X,colorErrorBorder:Y,colorErrorBg:oe,colorInfo:re,colorInfoBorder:ue,colorInfoBg:$}=s;return{[o]:{"&-success":E(M,c,p,s,o),"&-info":E($,ue,re,s,o),"&-warning":E(z,N,I,s,o),"&-error":Object.assign(Object.assign({},E(oe,Y,X,s,o)),{[`${o}-description > pre`]:{margin:0,padding:0}})}}},k=s=>{const{componentCls:o,iconCls:p,motionDurationMid:c,marginXS:M,fontSizeIcon:I,colorIcon:N,colorIconHover:z}=s;return{[o]:{"&-action":{marginInlineStart:M},[`${o}-close-icon`]:{marginInlineStart:M,padding:0,overflow:"hidden",fontSize:I,lineHeight:(0,x.bf)(I),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${p}-close`]:{color:N,transition:`color ${c}`,"&:hover":{color:z}}},"&-close-text":{color:N,transition:`color ${c}`,"&:hover":{color:z}}}}},w=s=>({withDescriptionIconSize:s.fontSizeHeading3,defaultPadding:`${s.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${s.paddingMD}px ${s.paddingContentHorizontalLG}px`});var m=(0,P.I$)("Alert",s=>[F(s),d(s),k(s)],w),L=function(s,o){var p={};for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&o.indexOf(c)<0&&(p[c]=s[c]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var M=0,c=Object.getOwnPropertySymbols(s);M<c.length;M++)o.indexOf(c[M])<0&&Object.prototype.propertyIsEnumerable.call(s,c[M])&&(p[c[M]]=s[c[M]]);return p};const U={success:n.Z,info:j.Z,error:D.Z,warning:u.Z},a=s=>{const{icon:o,prefixCls:p,type:c}=s,M=U[c]||null;return o?(0,b.wm)(o,l.createElement("span",{className:`${p}-icon`},o),()=>({className:y()(`${p}-icon`,{[o.props.className]:o.props.className})})):l.createElement(M,{className:`${p}-icon`})},ee=s=>{const{isClosable:o,prefixCls:p,closeIcon:c,handleClose:M,ariaProps:I}=s,N=c===!0||c===void 0?l.createElement(f.Z,null):c;return o?l.createElement("button",Object.assign({type:"button",onClick:M,className:`${p}-close-icon`,tabIndex:0},I),N):null};var ne=l.forwardRef((s,o)=>{const{description:p,prefixCls:c,message:M,banner:I,className:N,rootClassName:z,style:X,onMouseEnter:Y,onMouseLeave:oe,onClick:re,afterClose:ue,showIcon:$,closable:S,closeText:de,closeIcon:R,action:r,id:_}=s,K=L(s,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[G,me]=l.useState(!1),pe=l.useRef(null);l.useImperativeHandle(o,()=>({nativeElement:pe.current}));const{getPrefixCls:ge,direction:he,alert:h}=l.useContext(O.E_),H=ge("alert",c),[Ce,Oe,Pe]=m(H),De=V=>{var ae;me(!0),(ae=s.onClose)===null||ae===void 0||ae.call(s,V)},fe=l.useMemo(()=>s.type!==void 0?s.type:I?"warning":"info",[s.type,I]),Me=l.useMemo(()=>typeof S=="object"&&S.closeIcon||de?!0:typeof S=="boolean"?S:R!==!1&&R!==null&&R!==void 0?!0:!!(h!=null&&h.closable),[de,R,S,h==null?void 0:h.closable]),ve=I&&$===void 0?!0:$,ye=y()(H,`${H}-${fe}`,{[`${H}-with-description`]:!!p,[`${H}-no-icon`]:!ve,[`${H}-banner`]:!!I,[`${H}-rtl`]:he==="rtl"},h==null?void 0:h.className,N,z,Pe,Oe),Ie=(0,B.Z)(K,{aria:!0,data:!0}),je=l.useMemo(()=>{var V,ae;return typeof S=="object"&&S.closeIcon?S.closeIcon:de||(R!==void 0?R:typeof(h==null?void 0:h.closable)=="object"&&(!((V=h==null?void 0:h.closable)===null||V===void 0)&&V.closeIcon)?(ae=h==null?void 0:h.closable)===null||ae===void 0?void 0:ae.closeIcon:h==null?void 0:h.closeIcon)},[R,S,de,h==null?void 0:h.closeIcon]),Be=l.useMemo(()=>{const V=S!=null?S:h==null?void 0:h.closable;if(typeof V=="object"){const{closeIcon:ae}=V;return L(V,["closeIcon"])}return{}},[S,h==null?void 0:h.closable]);return Ce(l.createElement(g.ZP,{visible:!G,motionName:`${H}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:V=>({maxHeight:V.offsetHeight}),onLeaveEnd:ue},(V,ae)=>{let{className:Ee,style:Re}=V;return l.createElement("div",Object.assign({id:_,ref:(0,C.sQ)(pe,ae),"data-show":!G,className:y()(ye,Ee),style:Object.assign(Object.assign(Object.assign({},h==null?void 0:h.style),X),Re),onMouseEnter:Y,onMouseLeave:oe,onClick:re,role:"alert"},Ie),ve?l.createElement(a,{description:p,icon:s.icon,prefixCls:H,type:fe}):null,l.createElement("div",{className:`${H}-content`},M?l.createElement("div",{className:`${H}-message`},M):null,p?l.createElement("div",{className:`${H}-description`},p):null),r?l.createElement("div",{className:`${H}-action`},r):null,l.createElement(ee,{isClosable:Me,prefixCls:H,closeIcon:je,handleClose:De,ariaProps:Be}))}))}),se=e(15671),te=e(43144),Q=e(61120),le=e(78814),t=e(82963);function ie(s,o,p){return o=(0,Q.Z)(o),(0,t.Z)(s,(0,le.Z)()?Reflect.construct(o,p||[],(0,Q.Z)(s).constructor):o.apply(s,p))}var q=e(60136),W=function(s){function o(){var p;return(0,se.Z)(this,o),p=ie(this,o,arguments),p.state={error:void 0,info:{componentStack:""}},p}return(0,q.Z)(o,s),(0,te.Z)(o,[{key:"componentDidCatch",value:function(c,M){this.setState({error:c,info:M})}},{key:"render",value:function(){const{message:c,description:M,id:I,children:N}=this.props,{error:z,info:X}=this.state,Y=(X==null?void 0:X.componentStack)||null,oe=typeof c=="undefined"?(z||"").toString():c,re=typeof M=="undefined"?Y:M;return z?l.createElement(ne,{id:I,type:"error",message:oe,description:l.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},re)}):N}}])}(l.Component);const ce=ne;ce.ErrorBoundary=W;var i=ce}}]);
