"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[337],{80821:function(A,i,e){e.d(i,{Z:function(){return f}});var m=e(5574),u=e.n(m),l=e(93246),M=e(54006),g=e(31418),h=e(86738),v=e(14726),D=e(83062),R=e(67294),d=e(85893);function f(n){var B=(0,R.useState)(!1),s=u()(B,2),c=s[0],a=s[1],t=g.Z.useApp(),_=(0,M.useIntl)(),P=function(){a(!0),n.action().then(function(o){if(a(!1),typeof n.onSuccess=="function"&&n.onSuccess(o),n.messageSuccess){var r="";typeof n.messageSuccess=="function"?r=n.messageSuccess(o):r=n.messageSuccess,r.indexOf(".")>-1&&(r=_.formatMessage({id:r})),n.asynced?(0,l.Rk)(t,r):(0,l.$h)(t,r)}}).catch(function(o){a(!1),typeof n.onError=="function"&&n.onError(o)})};return n.confirm?(0,d.jsx)(h.Z,{style:{width:500},title:"\u63D0\u793A",description:n.confirm,onConfirm:P,okText:"Yes",cancelText:"No",children:(0,d.jsx)(v.ZP,{disabled:n.disabled,icon:n.icon,loading:c,danger:n.danger,type:n.type,children:n.children})}):(0,d.jsx)(D.Z,{title:n.tips,children:(0,d.jsx)(v.ZP,{disabled:n.disabled,icon:n.icon,loading:c,onClick:P,danger:n.danger,type:n.type,children:n.children})})}},87038:function(A,i,e){e.r(i),e.d(i,{default:function(){return B}});var m=e(15009),u=e.n(m),l=e(99289),M=e.n(l),g=e(6110),h=e(88717),v=e(67294),D=e(34185),R=e(80821),d=e(6409),f=e(85893),n=[{title:"\u7C7B\u578B",ellipsis:!0,dataIndex:"type",search:!1,width:200},{title:"\u6807\u9898",ellipsis:!0,dataIndex:"title",width:200},{title:"\u8BE6\u60C5",search:!1,dataIndex:"message"},{title:"\u65F6\u95F4",ellipsis:!0,search:!1,dataIndex:"createdAt",width:200,render:function(c,a,t,_,P){return new Date(a.createdAt).toLocaleString()}}];function B(){var s=(0,v.useRef)();return(0,f.jsx)(g._z,{children:(0,f.jsx)(h.Z,{scroll:{x:"max-content"},columns:n,rowKey:"id",request:function(){var c=M()(u()().mark(function a(t,_,P){var O,o,r;return u()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,D.vo)({page:(O=t.current)!==null&&O!==void 0?O:1,pageSize:(o=t.pageSize)!==null&&o!==void 0?o:10,type:t.type});case 2:return r=E.sent,E.abrupt("return",{data:r.data.list,success:!0,total:r.data.total});case 4:case"end":return E.stop()}},a)}));return function(a,t,_){return c.apply(this,arguments)}}(),pagination:(0,d.O)(),actionRef:s,toolBarRender:function(){return[(0,f.jsx)(R.Z,{action:function(){return(0,D.bJ)({action:"clear"})},onSuccess:function(){var t,_;return!((t=s.current)===null||t===void 0)&&t.reloadAndRest&&((_=s.current)===null||_===void 0||_.reloadAndRest()),!0},onError:function(){var t,_;return!((t=s.current)===null||t===void 0)&&t.reset&&((_=s.current)===null||_===void 0||_.reset()),!0},messageSuccess:"\u6240\u6709\u901A\u77E5\u6807\u8BB0\u5DF2\u8BFB",confirm:"\u662F\u5426\u8981\u6807\u8BB0\u6240\u6709\u901A\u77E5\u5DF2\u8BFB",danger:!0,type:"primary",children:"\u6E05\u9664\u4E8B\u4EF6\u901A\u77E5"})]}})})}},6409:function(A,i,e){e.d(i,{O:function(){return m}});function m(){var u,l=parseInt((u=localStorage.getItem("dpanel-pagesize"))!==null&&u!==void 0?u:"0");return{showSizeChanger:!0,defaultPageSize:l!=null?l:20}}}}]);
