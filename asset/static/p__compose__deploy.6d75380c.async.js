"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7667],{96284:function(we,ie,t){t.d(ie,{Z:function(){return Ze}});var fe=t(5574),k=t.n(fe),me=t(15009),m=t.n(me),he=t(99289),Z=t.n(he),C=t(67294),L=t(37767),D=t(60335),b=t(82346),g=t(52209),le=t(58638),se=t(85265),oe=t(42075),Fe=t(96074),pe=t(83062),ge=t(86250),xe=t(52031),de=t(14189),je=t(27813),ye=t(46934),x=t(184),q=t(25593),S=t(95591),A=t(5251),f=t(85893),N=(0,C.forwardRef)(function(B,M){var v,ce=(0,C.useState)(!1),K=k()(ce,2),Y=K[0],s=K[1];return(0,C.useImperativeHandle)(M,function(){return{}}),(0,f.jsx)(x.a,{submitter:!1,title:(0,A.fi)(B.containerInfo.Name,"/")+" - \u6587\u4EF6\u7BA1\u7406",onOpenChange:function(te){s(te)},trigger:(0,f.jsx)(q.Z.Link,{children:(0,f.jsx)(S.Z,{})},"file"),children:Y&&(0,f.jsx)(ye.Z,{md5:B.containerInfo.Id,initPath:(v=B.containerInfo.Config.WorkingDir)!==null&&v!==void 0?v:"/"})})}),z=N,P=t(24963),_=(0,C.forwardRef)(function(B,M){(0,C.useImperativeHandle)(M,function(){return{show:function(T){return Z()(m()().mark(function F(){return m()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return e(!0),G.next=3,O(T);case 3:case"end":return G.stop()}},F)}))()}}});var v=(0,C.useContext)(P.Z),ce=v.loading,K=(0,C.useState)(),Y=k()(K,2),s=Y[0],ee=Y[1],te=(0,C.useState)(!1),Ce=k()(te,2),De=Ce[0],e=Ce[1],O=function(){var E=Z()(m()().mark(function T(F){var R;return m()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,D.jV)({md5:F});case 2:R=U.sent,R.data&&(R.data.info.HostConfig.NetworkMode=="host"&&R.data.info.Config.ExposedPorts&&Object.keys(R.data.info.Config.ExposedPorts).map(function(ne){R.data.info.NetworkSettings.Ports[ne]=[{HostIp:"0.0.0.0",HostPort:ne.substring(0,ne.indexOf("/"))}]}),ee(R.data));case 4:case"end":return U.stop()}},T)}));return function(F){return E.apply(this,arguments)}}();return(0,f.jsx)(se.Z,{loading:!s,title:"\u5FEB\u6377\u67E5\u770B\u5BB9\u5668",open:De,onClose:function(){e(!1)},width:800,extra:(0,f.jsxs)(oe.Z,{split:(0,f.jsx)(Fe.Z,{type:"vertical"}),children:[(s==null?void 0:s.info)&&(0,f.jsx)(z,{containerInfo:s.info}),(0,f.jsx)(b.Link,{to:"/app/detail/network/"+(s==null?void 0:s.info.Id)+"?tab=network",children:(0,f.jsx)(g.Z,{})},"network"),(0,f.jsx)(pe.Z,{title:"\u67E5\u770B\u5B8C\u6574\u4FE1\u606F",children:(0,f.jsx)(b.Link,{to:"/app/detail/edit/"+(s==null?void 0:s.info.Id),children:(0,f.jsx)(le.Z,{})},"detail")})]}),children:(0,f.jsxs)(ge.Z,{vertical:!0,gap:20,children:[s&&(0,f.jsx)(de.Z,{ghost:!0,data:s==null?void 0:s.info,onFinish:Z()(m()().mark(function E(){return m()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,O(s.info.Id);case 2:return F.t0=F.sent,F.abrupt("return",[F.t0]);case 4:case"end":return F.stop()}},E)}))}),s&&(0,f.jsx)(je.Z,{ghost:!0,data:s,checkContainerUpgrade:function(){e(!1),B.onUpgradeFinish&&B.onUpgradeFinish()}}),s&&(0,f.jsx)(L.Z,{data:s,ghost:!0}),(0,f.jsx)(xe.Z,{data:s==null?void 0:s.info,ghost:!0})]})})}),Ze=_},9740:function(we,ie,t){t.r(ie),t.d(ie,{default:function(){return Me}});var fe=t(19632),k=t.n(fe),me=t(15009),m=t.n(me),he=t(99289),Z=t.n(he),C=t(5574),L=t.n(C),D=t(80821),b=t(54964),g=t(90098),le=t(43425),se=t(74842),oe=t(48689),Fe=t(33160),pe=t(87784),ge=t(30159),xe=t(86548),de=t(89035),je=t(45742),ye=t(90078),x=t(38345),q=t(97269),S=t(62370),A=t(82346),f=t(28036),N=t(42075),z=t(25593),P=t(84567),_=t(96074),Ze=t(63490),B=t(83062),M=t(92398),v=t(67294),ce=t(99861),K=t(95089),Y=t(95213),s=t(24963),ee=t(91058),te=t(12320),Ce=t(89629),De=t(78267),e=t(85893),O=new te.Terminal(b.a),E=new De.FitAddon;function T(H){var W=(0,A.useModel)("subscriber");return W.addDataHandler("compose:log:"+H.id,function(re){O.write(re.data)}),(0,v.useEffect)(function(){return window.addEventListener("resize",function(){E.fit()}),O.options.fontSize=12,O.loadAddon(E),O.open(document.getElementById("terminal-log")),E.fit(),O.clear(),function(){W.progress.close("compose:log:"+H.id)}},[H.id]),(0,e.jsx)("div",{id:"terminal-log",style:{width:"100%",height:"500px"}})}var F=t(37413),R=t(87662),G=t(94359),U=t(79245),ne=t(78451),Qe=t(57716),ze=t(96284);function Me(){var H,W,re,Se=(0,v.useContext)(s.Z),Ee=Se.loading,Ke=Se.lang,ut=Se.notice,ae=(0,A.useParams)(),Re=(0,A.useNavigate)(),Ye=(0,v.useState)(),Ae=L()(Ye,2),n=Ae[0],We=Ae[1],$=(0,v.useRef)(),Je=(0,v.useState)(0),$e=L()(Je,2),I=$e[0],V=$e[1],Xe=(0,v.useState)("default"),Ie=L()(Xe,2),ke=Ie[0],w=Ie[1],j=(0,v.useRef)(),Le=(0,A.useModel)("subscriber"),be=(0,v.useState)(""),Be=L()(be,2),qe=Be[0],_e=Be[1],ve=(0,v.useRef)(),J=(0,v.useRef)(),Pe=(0,v.useRef)(),et=(0,v.useState)(!1),Oe=L()(et,2),tt=Oe[0],Ve=Oe[1],nt=(0,A.useSearchParams)(),Ne=L()(nt,2),rt=Ne[0],at=Ne[1];Le.addDataHandler("compose:"+ae.id,function(u){var a;(a=$.current)===null||a===void 0||a.write(u.data)});var Te=(0,v.useRef)(),Ge=(0,v.useRef)(),Ue=function(){var u=Z()(m()().mark(function a(r){var i,l,d;return m()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(w("deploy"),(i=$.current)===null||i===void 0||i.clear(),!r.pullImageUseDPanel){h.next=6;break}return h.next=5,(l=Pe.current)===null||l===void 0?void 0:l.start();case 5:(d=Pe.current)===null||d===void 0||d.finish();case 6:return h.next=8,(0,g.Oh)(r);case 8:V(I+1);case 9:case"end":return h.stop()}},a)}));return function(r){return u.apply(this,arguments)}}();return(0,v.useEffect)(function(){return Ee.show(),Ve(!1),(0,g.Pn)({id:ae.id}).then(function(){var u=Z()(m()().mark(function a(r){var i,l,d,c,h,p;return m()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:i=r.data.detail,i.setting.status&&i.setting.status.indexOf("running")>-1&&(i.isRunning=!0),i.setting.status&&i.setting.status.indexOf("paused")>-1&&(i.isPaused=!0),i.setting.status&&i.setting.status.indexOf("exited")>-1&&(i.isExited=!0),i.setting.status&&i.setting.status=="waiting"?i.isDeploy=!1:i.isDeploy=!0,i.setting.status&&i.setting.status.indexOf("created")>-1&&(i.isCreated=!0,i.isDeploy=!1),r.data.project&&(i.imageList=k()(new Set(Object.keys(r.data.project.services).map(function(o){var y;return(y=r.data.project.services[o].image)!==null&&y!==void 0?y:""})))),l=r.data.project,(!r.data.containerList||r.data.containerList.length==0)&&l&&l.services&&(r.data.containerList=Object.keys(l.services).map(function(o){return{name:"",service:o,publishers:l.services[o].ports?l.services[o].ports.map(function(y){var Q;return{url:"",targetPort:y.target,publishedPort:parseInt(y.published),protocol:(Q=y.protocol)!==null&&Q!==void 0?Q:""}}):[],state:"waiting",status:""}})),r.data.containerList&&((0,R.EH)().then(function(o){_e(o.data.ip)}),i.containerList=r.data.containerList,(d=j.current)===null||d===void 0||d.setFieldValue("deployServiceName",r.data.detail.setting.deployServiceName)),i.yamlList=r.data.yaml,We(i),l!=null&&l.services&&Object.keys(l.services).map(function(o){var y=[];if(l.services&&l.services[o]&&(l.services[o].environment&&Object.keys(l.services[o].environment).map(function(He){l.services[o].environment&&y.push({name:He,value:l.services[o].environment[He]})}),y.length!=0)){var Q;(Q=j.current)===null||Q===void 0||Q.setFieldValue(["environmentService",o],y)}}),r.data.detail.setting.environment?(c=j.current)===null||c===void 0||c.setFieldValue("environment",r.data.detail.setting.environment):(p=(0,U.m)(r.data.yaml[0]),(h=j.current)===null||h===void 0||h.setFieldValue("environment",p)),i.isDeploy&&(0,g.VN)({id:ae.id});case 15:case"end":return ue.stop()}},a)}));return function(a){return u.apply(this,arguments)}}()).catch(function(u){Re("/compose/list")}).finally(Z()(m()().mark(function u(){return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:Ee.destroy();case 1:case"end":return r.stop()}},u)}))),function(){Le.progress.close("compose:log:"+ae.id)}},[I]),(0,v.useEffect)(function(){if(rt.get("op")=="deploy"&&n){var u={id:n.id||n.name,pullImageUseDPanel:!0,environment:n.setting.environment,deployServiceName:[],createPath:!0,removeOrphans:!0};Ue(u),V(I+1),at("")}},[n]),(0,e.jsxs)(ye._z,{header:{extra:[(0,e.jsx)(A.Link,{to:"/compose/create",reloadDocument:location.search.length>0,children:(0,e.jsx)(f.ZP,{type:"primary",children:"\u521B\u5EFA\u4EFB\u52A1"},"createCompose")},"create")]},children:[(0,e.jsx)(Qe.Z,{ref:Te}),(0,e.jsx)(ze.Z,{ref:Ge}),(0,e.jsxs)(x.Z,{direction:"column",ghost:!0,gutter:[10,10],children:[(0,e.jsx)(x.Z,{title:(0,e.jsx)(le.Z,{}),subTitle:"\u64CD\u4F5C - "+(n==null?void 0:n.name),bordered:!0,extra:(0,e.jsx)(e.Fragment,{children:n&&n.imageList&&n.imageList.length>0&&(0,e.jsx)(ce.Z,{ref:Pe,image:n.imageList})}),headerBordered:!0,children:n&&(0,e.jsxs)(N.Z,{wrap:!0,children:[(0,e.jsx)(D.Z,{icon:(0,e.jsx)(se.Z,{}),type:"primary",confirm:(0,e.jsxs)(N.Z,{style:{width:300},direction:"vertical",children:[(0,e.jsx)(z.Z.Text,{children:"\u91CD\u65B0\u521B\u5EFA\u8BE5\u4EFB\u52A1\u4E0B\u7684\u5BB9\u5668\uFF1F"}),(0,e.jsxs)(q.A,{name:"createForm",formRef:J,layout:"inline",submitter:!1,children:[(0,e.jsx)(S.Z,{initialValue:!1,name:"pullImageUseCommand",valuePropName:"checked",children:(0,e.jsx)(P.Z,{children:"\u4F7F\u7528\u547D\u4EE4\u62C9\u53D6\u955C\u50CF\uFF08\u9700\u914D\u7F6E\u547D\u4EE4\u4EE3\u7406\uFF09\uFF1F"})}),(0,e.jsx)(S.Z,{initialValue:!0,name:"pullImageUseDPanel",valuePropName:"checked",children:(0,e.jsx)(P.Z,{defaultChecked:!0,children:"\u4F7F\u7528\u9762\u677F\u62C9\u53D6\u955C\u50CF\uFF08\u9700\u914D\u7F6E\u4ED3\u5E93\u52A0\u901F\uFF09\uFF1F"})}),(0,e.jsx)(S.Z,{initialValue:!0,name:"createPath",valuePropName:"checked",children:(0,e.jsx)(P.Z,{defaultChecked:!0,children:"\u521B\u5EFA\u6302\u8F7D\u76EE\u5F55\uFF08\u4EC5\u9762\u677F\u975E\u5BB9\u5668\u90E8\u7F72\u751F\u6548\uFF09\uFF1F"})}),(0,e.jsx)(S.Z,{initialValue:!0,name:"removeOrphans",valuePropName:"checked",children:(0,e.jsx)(P.Z,{defaultChecked:!0,children:"\u6E05\u9664\u5DF2\u91CD\u547D\u540D\u6216\u662F\u88AB\u5220\u9664\u7684\u670D\u52A1\uFF1F"})})]})]}),action:Z()(m()().mark(function u(){var a,r,i,l,d,c,h,p,X;return m()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(p={id:n.id||n.name},(a=J.current)!==null&&a!==void 0&&a.getFieldValue&&J.current.getFieldValue("pullImageUseDPanel")&&(p.pullImageUseDPanel=!0),p.environment=(r=j.current)===null||r===void 0?void 0:r.getFieldValue("environment"),p.deployServiceName=(i=j.current)===null||i===void 0?void 0:i.getFieldValue("deployServiceName"),p.createPath=(l=(d=J.current)===null||d===void 0?void 0:d.getFieldValue("createPath"))!==null&&l!==void 0?l:!0,p.removeOrphans=(c=(h=J.current)===null||h===void 0?void 0:h.getFieldValue("removeOrphans"))!==null&&c!==void 0?c:!0,!(n!=null&&n.isDeploy)){o.next=10;break}if(!((X=J.current)!==null&&X!==void 0&&X.getFieldValue("pullImageUseCommand"))){o.next=10;break}return o.next=10,(0,g.GG)({id:n.id||n.name,op:"pull"});case 10:Ue(p);case 11:case"end":return o.stop()}},u)})),children:n.isDeploy?"\u66F4\u65B0":"\u542F\u52A8"},"create"),(n.isDeploy||n.isCreated)&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(D.Z,{action:function(){var a;return(a=$.current)===null||a===void 0||a.clear(),w("destory"),(0,g.mg)({id:n.id||n.name,deleteImage:!1,deleteData:!1,deleteVolume:!1,deletePath:!1})},onSuccess:function(){V(I+1)},type:"primary",danger:!0,confirm:"notification.confirm.title",icon:(0,e.jsx)(oe.Z,{}),children:"\u5220\u9664\u5BB9\u5668"}),(0,e.jsx)(_.Z,{type:"vertical"})]}),n.isDeploy&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(D.Z,{icon:(0,e.jsx)(Fe.Z,{}),action:Z()(m()().mark(function u(){return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return w("crtl"),r.next=3,(0,g.GG)({id:n.id||n.name,op:"restart"});case 3:V(I+1);case 4:case"end":return r.stop()}},u)})),children:"\u91CD\u542F"},"restart"),(0,e.jsx)(D.Z,{action:function(){var a;return(a=$.current)===null||a===void 0||a.clear(),w("crtl"),(0,g.GG)({id:n.id||n.name,op:"stop"})},icon:(0,e.jsx)(pe.Z,{}),disabled:n.isExited,onSuccess:function(){V(I+1)},children:"\u505C\u6B62"}),n.isPaused&&(0,e.jsx)(D.Z,{action:function(){var a;return w("crtl"),(a=$.current)===null||a===void 0||a.clear(),(0,g.GG)({id:n.id||n.name,op:"unpause"})},onSuccess:function(){V(I+1)},icon:(0,e.jsx)(se.Z,{}),children:"\u6062\u590D"}),!n.isPaused&&(0,e.jsx)(D.Z,{action:function(){var a;return w("crtl"),(a=$.current)===null||a===void 0||a.clear(),(0,g.GG)({id:n.id||n.name,op:"pause"})},onSuccess:function(){V(I+1)},icon:(0,e.jsx)(ge.Z,{}),disabled:!n.isRunning,children:"\u6682\u505C"})]}),(0,e.jsx)(_.Z,{type:"vertical"}),(0,e.jsx)(A.Link,{to:"/compose/create?id="+(n.id||n.name),children:(0,e.jsx)(f.ZP,{icon:(0,e.jsx)(xe.Z,{}),children:"\u7F16\u8F91\u4EFB\u52A1"})}),n.isDeploy&&n.id>0&&(0,e.jsx)(D.Z,{type:"primary",action:Z()(m()().mark(function u(){var a,r,i,l,d,c,h,p,X;return m()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return(a=$.current)===null||a===void 0||a.clear(),w("destory"),o.next=4,(0,g.mg)({id:(r=n==null?void 0:n.id)!==null&&r!==void 0?r:0,deleteImage:(i=(l=ve.current)===null||l===void 0?void 0:l.getFieldValue("deleteImage"))!==null&&i!==void 0?i:!1,deleteData:!0,deleteVolume:(d=(c=ve.current)===null||c===void 0?void 0:c.getFieldValue("deleteVolume"))!==null&&d!==void 0?d:!1,deletePath:(h=(p=ve.current)===null||p===void 0?void 0:p.getFieldValue("deletePath"))!==null&&h!==void 0?h:!1});case 4:X=o.sent;case 5:case"end":return o.stop()}},u)})),danger:!0,onSuccess:function(){Re("/compose/list")},confirm:(0,e.jsxs)(N.Z,{style:{width:240},direction:"vertical",children:[(0,e.jsx)(z.Z.Text,{children:"\u4F1A\u540C\u65F6\u5220\u9664\u5BB9\u5668\u53CA\u90E8\u7F72\u76F8\u5173\u6570\u636E\uFF0C\u672A\u52FE\u9009\u5220\u9664 compose \u6587\u4EF6\u65F6 yaml \u6587\u4EF6\u5C06\u4F1A\u4FDD\u7559\uFF0C\u786E\u8BA4\u5417\uFF1F"}),(0,e.jsxs)(q.A,{formRef:ve,layout:"inline",submitter:!1,children:[(0,e.jsx)(S.Z,{initialValue:!1,name:"deleteImage",valuePropName:"checked",children:(0,e.jsx)(P.Z,{children:"\u5220\u9664\u955C\u50CF\uFF1F"})}),(0,e.jsx)(S.Z,{initialValue:!1,name:"deleteVolume",valuePropName:"checked",children:(0,e.jsx)(P.Z,{children:"\u5220\u9664\u5B58\u50A8\u5377\uFF1F"})}),(0,e.jsx)(S.Z,{initialValue:!1,name:"deletePath",valuePropName:"checked",children:(0,e.jsx)(P.Z,{children:"\u5220\u9664 Compose \u6587\u4EF6\u548C\u4EFB\u52A1\u76EE\u5F55\uFF1F"})})]})]}),children:"\u5220\u9664\u4EFB\u52A1"})]})},"operator"),(0,e.jsxs)(x.Z,{split:"vertical",children:[(0,e.jsxs)(x.Z,{colSpan:"45%",direction:"column",split:"horizontal",title:"\u542F\u52A8\u914D\u7F6E",subTitle:"\u7F16\u8F91\u540E\u53EA\u5F71\u54CD\u672C\u6B21\u90E8\u7F72",extra:[n&&!n.isDeploy&&(0,e.jsx)(P.Z,{onChange:function(a){Ve(a.target.checked)},children:"\u81EA\u5B9A\u4E49\u90E8\u7F72\u5BB9\u5668\u670D\u52A1\uFF1F"},"selectService")],children:[ke!="default"&&(0,e.jsx)(x.Z,{title:(0,e.jsx)(de.Z,{}),subTitle:"\u63A7\u5236\u53F0",extra:(0,e.jsx)(N.Z,{children:(0,e.jsx)(D.Z,{action:function(){var a;return(a=$.current)===null||a===void 0||a.clear(),(0,g.U_)({})},icon:(0,e.jsx)(oe.Z,{}),danger:!0,onSuccess:function(){V(I+1)},children:"\u4E2D\u6B62\u6267\u884C"},"kill")}),children:(0,e.jsx)(b.Z,{height:"300px",style:{fontSize:12},ref:$})}),n&&(0,e.jsx)(x.Z,{children:(0,e.jsx)(Ze.Z,{scroll:{x:"max-content"},rowKey:"service",pagination:!1,columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"name",width:200,render:function(a,r,i){return(0,e.jsx)(B.Z,{title:r.service,children:(0,e.jsx)(ne.Z,{content:r.name?r.name:r.service})})}},{title:"\u7AEF\u53E3",render:function(a,r,i){var l=[],d=[];return r.publishers&&r.publishers.map(function(c){c.publishedPort?l.push({PrivatePort:c.targetPort,Type:c.protocol,IP:c.url,PublicPort:c.publishedPort}):c.publishedPort&&d.push({PrivatePort:c.targetPort,Type:c.protocol,IP:c.url,PublicPort:c.publishedPort})}),(0,e.jsx)(F.Z,{publicPort:l,privatePort:d,domain:[],serverIp:qe})}},{title:"\u72B6\u6001",render:function(a,r,i){return(0,e.jsx)(G.Z,{status:r.state,message:{content:Ke("container.status.".concat(r.state)),placement:"top",showInTag:!0}},r.name)}},{title:"\u64CD\u4F5C",fixed:"right",render:function(a,r,i){return(0,e.jsxs)(N.Z,{split:(0,e.jsx)(_.Z,{type:"vertical"}),children:[(0,e.jsx)(z.Z.Link,{onClick:function(){var d;(d=Ge.current)===null||d===void 0||d.show(r.name)},children:(0,e.jsx)(le.Z,{})},"container"),r.state=="running"&&(0,e.jsx)(z.Z.Link,{onClick:function(){var d;(d=Te.current)===null||d===void 0||d.show(r.name)},children:(0,e.jsx)(de.Z,{})},"console")]})}}],dataSource:n.containerList,rowSelection:tt&&n.containerList?{defaultSelectedRowKeys:n.containerList.map(function(u){return u.service}),onChange:function(a,r,i){var l;(l=j.current)===null||l===void 0||l.setFieldValue("deployServiceName",a)}}:void 0})}),(0,e.jsxs)(q.A,{formRef:j,submitter:!1,children:[(0,e.jsx)(S.Z,{name:"deployServiceName",hidden:!0}),!(n!=null&&n.isDeploy)&&(0,e.jsx)(x.Z,{title:"\u73AF\u5883\u53D8\u91CF",subTitle:"\u9762\u677F\u751F\u6210 .dpanel.env \u6587\u4EF6\uFF0C\u540C\u65F6\u4F1A\u52A0\u8F7D .env",children:(0,e.jsx)(ee.Z,{showCardGhost:!0,name:"environment",showDisableName:!0,showInDrawer:!0,requireValue:!0})}),!(n!=null&&n.isDeploy)&&(0,e.jsx)(x.Z,{title:"\u670D\u52A1\u73AF\u5883\u53D8\u91CF",tooltip:"\u4FEE\u6539\u670D\u52A1\u4E2D\u7684\u73AF\u5883\u53D8\u91CF\u65F6\uFF0C\u8BF7\u5728 yaml \u4E2D\u5C06\u503C\u5148\u6620\u5C04\u6210\u81EA\u5B9A\u4E49\u7684\u53D8\u91CF\u540D",children:(0,e.jsx)(M.Z,{indicator:{align:"center"},items:j&&j.current&&((H=j.current)===null||H===void 0?void 0:H.getFieldValue("environmentService"))&&Object.keys((W=j.current)===null||W===void 0?void 0:W.getFieldValue("environmentService")).map(function(u){return{label:u,key:u,children:(0,e.jsx)(ee.Z,{showCardGhost:!0,name:["environmentService",u],showDisableName:!0,showDisableValue:!0,showInDrawer:!0,requireValue:!0})}})})})]})]}),n&&!n.isDeploy&&(0,e.jsx)(x.Z,{colSpan:"55%",children:(0,e.jsx)(M.Z,{items:n.yamlList&&n.yamlList.map(function(u,a){var r=[{label:"Yaml \u6587\u4EF6",key:"yaml"},{label:"\u8986\u76D6 Yaml \u6587\u4EF6",key:"yamlOverride"}];return{label:r[a].label,key:r[a].key,disabled:u=="",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(K.ZP,{theme:"dark",minHeight:"550px",value:u,readOnly:!0,extensions:[Y.RI.yaml()]})})}})})}),n&&n.isDeploy&&(0,e.jsx)(x.Z,{title:(0,e.jsx)(je.Z,{}),subTitle:"\u65E5\u5FD7",colSpan:"55%",children:(0,e.jsx)(T,{id:(re=ae.id)!==null&&re!==void 0?re:""})})]})]})]})}}}]);
