"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3747],{23747:function(le,H,e){e.d(H,{Z:function(){return ge}});var x=e(5574),v=e.n(x),z=e(15009),u=e.n(z),$=e(99289),p=e.n($),d=e(67294),B=e(37767),I=e(13822),A=e(82346),T=e(58638),S=e(85265),b=e(96074),E=e(83062),M=e(86250),W=e(52031),r=e(14189),te=e(72409),de=e(93362),ae=e(184),re=e(43831),ee=e(5251),m=e(25593),i=e(52209),a=e(3616),n=e(85893),D=(0,d.forwardRef)(function(P,X){(0,d.useImperativeHandle)(X,function(){return{}});var f=(0,d.useState)(!1),l=v()(f,2),s=l[0],h=l[1];return(0,n.jsx)(ae.a,{submitter:!1,title:(0,ee.fi)(P.containerInfo.Name,"/")+" - \u7F51\u7EDC\u7BA1\u7406",onOpenChange:function(c){h(c)},drawerProps:{width:a.R_},open:s,trigger:(0,n.jsx)(m.Z.Link,{children:(0,n.jsx)(i.Z,{})},"file"),children:(0,n.jsx)(re.Z,{ghost:!0,containerInfo:P.containerInfo})})}),_e=D,ce=e(81146),R=e(45742),_=e(62597),N=(0,d.forwardRef)(function(P,X){(0,d.useImperativeHandle)(X,function(){return{show:function(w){return p()(u()().mark(function O(){var F;return u()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,(0,I.jV)({md5:w});case 2:F=y.sent,F.data&&j(F.data.info),h(!0);case 5:case"end":return y.stop()}},O)}))()}}});var f=(0,d.useState)(!1),l=v()(f,2),s=l[0],h=l[1],g=(0,d.useState)(),c=v()(g,2),t=c[0],j=c[1],L=(0,d.useRef)();return(0,n.jsxs)(n.Fragment,{children:[P.showTriggerButton&&(0,n.jsx)(m.Z.Link,{onClick:p()(u()().mark(function Z(){return u()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:j(P.containerInfo),h(!0);case 2:case"end":return O.stop()}},Z)})),children:(0,n.jsx)(E.Z,{title:"\u8FD0\u884C\u65E5\u5FD7",children:(0,n.jsx)(R.Z,{})})},"log"),(0,n.jsx)(S.Z,{title:"\u5BB9\u5668\u65E5\u5FD7",open:s,forceRender:!0,onClose:function(){h(!1)},afterOpenChange:function(w){if(w)setTimeout(function(){var F,Q;(F=L.current)===null||F===void 0||F.start(),(Q=L.current)===null||Q===void 0||Q.fit()},1e3);else{var O;(O=L.current)===null||O===void 0||O.close()}},width:a.FK,children:t&&s&&(0,n.jsx)(ce.Z,{ref:L,showInDrawer:!0,id:"container:log:".concat(t==null?void 0:t.Id),request:function(){var Z=p()(u()().mark(function w(O){var F;return u()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,(0,_.Tb)({id:(F=t.Id)!==null&&F!==void 0?F:"",lineTotal:O.lineTotal,download:O.download,showTime:O.showTime});case 2:case"end":return y.stop()}},w)}));return function(w){return Z.apply(this,arguments)}}(),download:function(){var Z=p()(u()().mark(function w(O){var F,Q,y,Y;return u()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,(0,_.XH)({id:(F=t.Id)!==null&&F!==void 0?F:"",lineTotal:O.lineTotal,showTime:O.showTime});case 2:return y=C.sent,C.next=5,(0,I.jV)({md5:(Q=t.Id)!==null&&Q!==void 0?Q:""});case 5:return Y=C.sent,C.abrupt("return",{data:new Blob([y],{type:"text/plain"}),name:Y.data.info.Name.replaceAll("/","")+"_"+new Date().toLocaleDateString()+".log"});case 7:case"end":return C.stop()}},w)}));return function(w){return Z.apply(this,arguments)}}()})})]})}),k=N,q=e(65913),fe=e(14245),G=e(1699),ve=e(40666),se=e(64789),oe=e(38345),ue=e(42075),J=e(66309),K=e(90127),o=e(29453);function V(P){var X=(0,d.useState)(0),f=v()(X,2),l=f[0],s=f[1],h=(0,d.useState)(),g=v()(h,2),c=g[0],t=g[1];return(0,d.useEffect)(function(){t([]),(0,o.e1)().then(function(j){t(j.data.list)})},[l,P.data.info.Name]),(0,n.jsx)(oe.Z,{ghost:!0,title:(0,n.jsx)(ve.Z,{}),subTitle:"\u5BB9\u5668\u6807\u7B7E",extra:(0,n.jsx)(K.Z,{trigger:(0,n.jsx)(m.Z.Link,{children:(0,n.jsx)(se.Z,{})}),containerDetail:P.data,onFinish:function(){s(l+1)}}),children:(0,n.jsx)(ue.Z,{wrap:!0,children:c&&(c==null?void 0:c.filter(function(j){return j.item&&j.item.find(function(L){return L.name==P.data.info.Name})}).map(function(j,L){return(0,n.jsx)(J.Z,{color:j.tagColor,closable:!0,style:{height:35,display:"flex",borderRadius:20,justifyContent:"center",alignItems:"center"},onClose:p()(u()().mark(function Z(){return u()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,o.rn)({name:P.data.info.Name,tag:j.tag});case 2:s(l+1);case 3:case"end":return O.stop()}},Z)})),children:(0,n.jsx)("span",{style:{paddingLeft:10,paddingRight:3},children:j.tag})},L)}))})})}var U=(0,d.forwardRef)(function(P,X){var f,l;(0,d.useImperativeHandle)(X,function(){return{show:function(Ee){return p()(u()().mark(function C(){return u()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return O(!0),he.next=3,Q(Ee);case 3:case"end":return he.stop()}},C)}))()}}});var s=(0,A.useAccess)(),h=(0,d.useRef)(),g=(0,d.useState)(),c=v()(g,2),t=c[0],j=c[1],L=(0,d.useState)(!1),Z=v()(L,2),w=Z[0],O=Z[1],F=(0,d.useRef)();function Q(Y){return y.apply(this,arguments)}function y(){return y=p()(u()().mark(function Y(Ee){var C,ne;return u()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return(C=h.current)===null||C===void 0||C.show(),me.next=3,(0,I.jV)({md5:Ee}).finally(function(){var ie;(ie=h.current)===null||ie===void 0||ie.destroy()});case 3:ne=me.sent,ne.data&&(ne.data.info.HostConfig.NetworkMode=="host"&&ne.data.info.Config.ExposedPorts&&Object.keys(ne.data.info.Config.ExposedPorts).map(function(ie){ne.data.info.NetworkSettings.Ports[ie]=[{HostIp:"0.0.0.0",HostPort:ie.substring(0,ie.indexOf("/"))}]}),j(ne.data));case 5:case"end":return me.stop()}},Y)})),y.apply(this,arguments)}return(0,n.jsx)(S.Z,{title:"\u5FEB\u6377\u67E5\u770B\u5BB9\u5668 - ".concat((0,ee.fi)((f=t==null?void 0:t.info.Name)!==null&&f!==void 0?f:"","/")),open:w,onClose:function(){O(!1),P.onFinish&&P.onFinish()},width:a.R_,extra:(0,n.jsxs)(G.u,{access:"canSeeContainerList",space:{split:(0,n.jsx)(b.Z,{type:"vertical"})},children:[(t==null?void 0:t.info)&&t.info.State.Running&&(0,n.jsx)(de.Z,{apiPrefix:"container",name:t.info.Name,title:(0,ee.fi)(t.info.Name,"/"),workDir:(l=t.info.Config.WorkingDir)!==null&&l!==void 0?l:""}),(t==null?void 0:t.info)&&s.canSeeContainerListManageOp&&(0,n.jsx)(_e,{containerInfo:t.info}),(t==null?void 0:t.info)&&t.info.State.Running&&(0,n.jsx)(k,{containerInfo:t.info,showTriggerButton:!0}),(0,n.jsx)(G.u,{access:"canSeeContainerListManage",children:(0,n.jsx)(E.Z,{title:"\u67E5\u770B\u5B8C\u6574\u4FE1\u606F",children:(0,n.jsx)(A.Link,{to:"/app/detail/edit/"+(t==null?void 0:t.info.Id),children:(0,n.jsx)(T.Z,{})},"detail")})})]}),children:(0,n.jsx)(q.Z,{ref:h,children:(0,n.jsxs)(M.Z,{vertical:!0,gap:20,children:[t&&(0,n.jsx)(G.u,{access:"canSeeContainerList",children:(0,n.jsx)(r.Z,{ref:F,ghost:!0,data:t==null?void 0:t.info,onFinish:p()(u()().mark(function Y(){return u()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,Q(t.info.Id);case 2:return C.t0=C.sent,C.abrupt("return",[C.t0]);case 4:case"end":return C.stop()}},Y)}))})}),t&&(0,n.jsx)(G.u,{access:["canSeeContainerListManage","canSeeContainerListManageOp"],children:(0,n.jsx)(te.Z,{ghost:!0,data:t,checkContainerUpgrade:function(){O(!1),P.onUpgradeFinish&&P.onUpgradeFinish()}})}),t&&(0,n.jsx)(V,{data:t}),t&&(0,n.jsx)(B.Z,{data:t,ghost:!0}),(0,n.jsx)(W.Z,{data:t==null?void 0:t.info,ghost:!0}),t&&(0,n.jsx)(fe.Z,{data:t.info,ghost:!0})]})})})}),ge=U},90127:function(le,H,e){var x=e(15009),v=e.n(x),z=e(99289),u=e.n(z),$=e(5574),p=e.n($),d=e(5251),B=e(184),I=e(62370),A=e(5966),T=e(24739),S=e(64317),b=e(52688),E=e(97462),M=e(38925),W=e(42075),r=e(67294),te=e(1699),de=e(80821),ae=e(2808),re=e(87662),ee=e(52756),m=e(29453),i=e(3616),a=e(85893),n=(0,r.forwardRef)(function(D,_e){var ce;(0,r.useImperativeHandle)(_e,function(){return{edit:function(l){P(!0),X(l),R.current&&R.current.setFieldsValue({tag:[l.tag],tagColor:l.tagColor,enableShowGroup:l.enableShowGroup})}}});var R=(0,r.useRef)(),_=(0,r.useState)(0),N=p()(_,2),k=N[0],q=N[1],fe=(0,r.useState)([]),G=p()(fe,2),ve=G[0],se=G[1],oe=(0,r.useState)(),ue=p()(oe,2),J=ue[0],K=ue[1],o=(ce=D.containerDetail)===null||ce===void 0?void 0:ce.info,V=(0,r.useState)(!1),U=p()(V,2),ge=U[0],P=U[1];function X(f){R.current&&R.current.setFieldsValue({title:f.title,description:f.description,url:f.url,icon:f.icon,name:f.name})}return(0,r.useEffect)(function(){K([]),(0,m.e1)().then(function(f){K(f.data.list)})},[k]),(0,r.useEffect)(function(){o&&(0,re.K3)().then(function(f){var l=[];o.NetworkSettings&&o.NetworkSettings.Ports&&Object.keys(o.NetworkSettings.Ports).map(function(s){o.NetworkSettings.Ports[s]&&o.NetworkSettings.Ports[s].map(function(h){h.HostPort&&l.push("http://".concat(f.data.serverUrl,":").concat(h.HostPort))})}),se(l)})},[D.containerDetail]),(0,a.jsxs)(B.a,{drawerProps:{forceRender:!0,width:i.R_},open:ge,onFinish:function(){var f=u()(v()().mark(function l(s){var h,g,c,t;return v()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return c="",s.tagColor&&s.tagColor.toHexString?s.tagColor.cleared||(c=s.tagColor.toHexString()):c=s.tagColor,t=(h=s.enableShowGroup)!==null&&h!==void 0?h:D.defaultEnableShowGroup,L.next=5,(0,m.A9)({enableShowGroup:t,tag:s.tag?s.tag[0]:"",tagColor:c,name:(g=o==null?void 0:o.Name)!==null&&g!==void 0?g:s.name,title:t?s.title:"",description:t?s.description:"",url:t?s.url:"",icon:t?s.icon:""});case 5:return q(k+1),D.onFinish&&D.onFinish({tag:s.tag,tagColor:s.tagColor,enableShowGroup:t}),L.abrupt("return",!0);case 8:case"end":return L.stop()}},l)}));return function(l){return f.apply(this,arguments)}}(),formRef:R,title:"\u6DFB\u52A0\u5BB9\u5668\u6807\u7B7E",trigger:D.trigger,onOpenChange:function(l){var s;P(l),!l&&(!((s=R.current)===null||s===void 0)&&s.resetFields)&&R.current.resetFields()},children:[D.defaultEnableShowGroup&&(0,a.jsx)(I.Z,{children:(0,a.jsx)(M.Z,{message:(0,ee.getLang)("system.home.tagAddContainerTips")})}),(0,a.jsx)(A.Z,{name:"name",hidden:!0}),(0,a.jsxs)(T.UW,{children:[(0,a.jsx)(S.Z,{width:"lg",label:"\u6807\u7B7E\u6216\u5206\u7EC4",layout:"vertical",required:!0,rules:[{required:!0}],onChange:function(l){var s=J&&J.find(function(w){return l&&l.length>=1&&w.tag==l[0]});if(s){var h,g,c,t=s.item.find(function(w){return w.name==(o==null?void 0:o.Name)});(h=R.current)===null||h===void 0||h.setFieldsValue({tagColor:s.tagColor,enableShowGroup:s.enableShowGroup}),t&&t.name&&X({name:(g=o==null?void 0:o.Name)!==null&&g!==void 0?g:"",title:t?t.title:(0,d.fi)((c=o==null?void 0:o.Name)!==null&&c!==void 0?c:"","/"),description:t&&t.description,url:t&&t.url,icon:t&&t.icon})}if(!l||l.length==0){var j,L=(j=R.current)===null||j===void 0?void 0:j.getFieldValue("url");if(!L||L==""){var Z;!((Z=R.current)===null||Z===void 0)&&Z.resetFields&&R.current.resetFields()}}},options:J&&J.map(function(f){return{lable:f.tag,value:f.tag}}),name:"tag",mode:"tags",fieldProps:{maxCount:1},placeholder:"\u8BF7\u9009\u62E9\u6216\u662F\u8F93\u5165\u6807\u7B7E\u6216\u662F\u5206\u7EC4"},"tagSelect".concat(k)),!D.defaultEnableShowGroup&&(0,a.jsx)(ae.Z,{label:"\u6807\u7B7E\u80CC\u666F\u989C\u8272",name:"tagColor"})]}),!D.defaultEnableShowGroup&&(0,a.jsx)(te.u,{access:"canSeeEnableCe",showProRibbonTips:!0,children:function(l){var s=l.canSeeEnableCe;return(0,a.jsx)(b.Z,{label:"\u4EE5\u5206\u7EC4\u7684\u5F62\u5F0F\u5C55\u793A\u9996\u9875\u5361\u7247",name:"enableShowGroup",disabled:s,fieldProps:{onChange:function(g){if(g){var c,t;X({name:(c=o==null?void 0:o.Name)!==null&&c!==void 0?c:"",title:(0,d.fi)((t=o==null?void 0:o.Name)!==null&&t!==void 0?t:"","/")})}}}})}}),(0,a.jsx)(E.Z,{name:["enableShowGroup"],children:function(l){var s=l.enableShowGroup;return(s||D.defaultEnableShowGroup)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(W.Z.Compact,{children:[D.containerDetail&&(0,a.jsx)(S.Z,{label:"\u9009\u62E9\u7AEF\u53E3",width:"sm",name:"selectUrl",options:ve.map(function(h){return{label:h,value:h}}),onChange:function(g){var c;!((c=R.current)===null||c===void 0)&&c.setFieldValue&&R.current.setFieldValue("url",g)}}),(0,a.jsx)(A.Z,{label:"\u8BBF\u95EE\u5730\u5740",name:"url",width:"md"}),(0,a.jsx)(I.Z,{label:" ",children:(0,a.jsx)(de.Z,{action:function(){var g;return(0,m.R3)({url:(g=R.current)===null||g===void 0?void 0:g.getFieldValue("url")})},onSuccess:function(g){var c,t,j;(c=R.current)===null||c===void 0||c.setFieldValue("icon",g.data.icon),(t=R.current)===null||t===void 0||t.setFieldValue("title",g.data.title),(j=R.current)===null||j===void 0||j.setFieldValue("description",g.data.description)},children:"\u83B7\u53D6\u4FE1\u606F"})})]}),(0,a.jsxs)(T.UW,{children:[(0,a.jsx)(A.Z,{label:"\u6807\u9898",name:"title"}),(0,a.jsx)(A.Z,{label:"\u63CF\u8FF0",name:"description"})]}),(0,a.jsx)(T.UW,{children:(0,a.jsx)(A.Z,{width:"lg",placeholder:"\u4EE5 https \u6216\u662F http \u5F00\u5934\uFF0C\u4F18\u5148\u4F7F\u7528\u4E0A\u4F20\u56FE\u7247",label:"\u56FE\u6807\u8FDC\u7A0B\u5730\u5740",name:"icon"})})]})}})]})});H.Z=n},81146:function(le,H,e){var x=e(97857),v=e.n(x),z=e(15009),u=e.n(z),$=e(99289),p=e.n($),d=e(67294),B=e(97269),I=e(62370),A=e(5966),T=e(97462),S=e(82346),b=e(71230),E=e(15746),M=e(34041),W=e(28036),r=e(84567),te=e(42075),de=e(80821),ae=e(23430),re=e(93162),ee=e.n(re),m=e(78267),i=e.n(m),a=e(75458),n=e.n(a),D=e(12323),_e=e(4244),ce=e.n(_e),R=e(24078),_=e(85893),N,k,q,fe=(0,d.forwardRef)(function(G,ve){var se=(0,d.useRef)(),oe=(0,S.useModel)("subscriber");(0,d.useImperativeHandle)(ve,function(){return{fit:function(){N.clear(),q.fit()},start:function(){return p()(u()().mark(function o(){return u()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,ue({lineTotal:500});case 2:case"end":return U.stop()}},o)}))()},close:function(){oe.progress.close(G.id)}}});function ue(K){return J.apply(this,arguments)}function J(){return J=p()(u()().mark(function K(o){return u()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:N.clear(),o.download=!1,G.request(o);case 3:case"end":return U.stop()}},K)})),J.apply(this,arguments)}return(0,d.useEffect)(function(){return window.addEventListener("resize",function(){q.fit()}),N=new _e.Terminal(v()(v()({},D.X),{},{fontSize:12,lineHeight:1.2})),q=new m.FitAddon,k=new a.SearchAddon,N.loadAddon(q),N.open(document.getElementById("terminal-container-log")),q.fit(),oe.addDataHandler(G.id,function(K){N.write(K.data)}),function(){N.clear(),N.reset(),oe.progress.close(G.id)}},[]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(B.A,{submitter:!1,layout:"horizontal",onValuesChange:function(o,V){ue({id:G.id,lineTotal:parseInt(V.lineTotal),showTime:V.showTime})},formRef:se,children:(0,_.jsxs)(b.Z,{gutter:[10,0],children:[(0,_.jsx)(E.Z,{span:8,children:(0,_.jsx)(I.Z,{name:"lineTotal",initialValue:"500",label:"\u83B7\u53D6\u65E5\u5FD7\u6761\u6570",children:(0,_.jsxs)(M.Z,{defaultValue:"500",children:[(0,_.jsx)(M.Z.Option,{value:"100",children:"100\u6761\u65E5\u5FD7\u6570\u636E"}),(0,_.jsx)(M.Z.Option,{value:"200",children:"200\u6761\u65E5\u5FD7\u6570\u636E"}),(0,_.jsx)(M.Z.Option,{value:"500",children:"500\u6761\u65E5\u5FD7\u6570\u636E"}),(0,_.jsx)(M.Z.Option,{value:"1000",children:"1000\u6761\u65E5\u5FD7\u6570\u636E"}),(0,_.jsx)(M.Z.Option,{value:"-1",children:"\u5168\u90E8\uFF08\u4E0B\u8F7D\u53EF\u89C1\uFF09"})]})})}),(0,_.jsx)(E.Z,{children:(0,_.jsx)(W.ZP,{onClick:function(){N.clear()},children:"\u6E05\u5C4F"})}),(0,_.jsx)(E.Z,{children:(0,_.jsx)(I.Z,{name:"showTime",valuePropName:"checked",children:(0,_.jsx)(r.Z,{children:"\u663E\u793A\u65F6\u95F4"})})}),(0,_.jsx)(E.Z,{children:(0,_.jsx)(A.Z,{label:"\u67E5\u627E",name:"keywork"})}),(0,_.jsx)(E.Z,{children:(0,_.jsx)(T.Z,{name:["keywork"],children:function(o){var V=o.keywork;return(0,_.jsxs)(te.Z,{size:10,children:[(0,_.jsx)(W.ZP,{onClick:function(){k.findNext(V)},children:"\u4E0B\u4E00\u4E2A"},"next"),(0,_.jsx)(W.ZP,{onClick:function(){k.findPrevious(V)},children:"\u4E0A\u4E00\u4E2A"},"prev")]})}})}),(0,_.jsx)(E.Z,{children:(0,_.jsx)(de.Z,{icon:(0,_.jsx)(ae.Z,{}),action:p()(u()().mark(function K(){var o,V,U;return u()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(!G.download){P.next=5;break}return P.next=3,G.download({lineTotal:parseInt((o=se.current)===null||o===void 0?void 0:o.getFieldValue("lineTotal")),showTime:(V=se.current)===null||V===void 0?void 0:V.getFieldValue("showTime")});case 3:U=P.sent,(0,re.saveAs)(U.data,U.name);case 5:case"end":return P.stop()}},K)})),children:"\u4E0B\u8F7D\u65E5\u5FD7"})})]})}),(0,_.jsx)("div",{style:{marginTop:"20px",height:G.showInDrawer?"75vh":"580px"},id:"terminal-container-log"})]})});H.Z=fe},2808:function(le,H,e){e.d(H,{Z:function(){return d}});var x=e(97857),v=e.n(x),z=e(62370),u=e(51663),$=e(67294),p=e(85893);function d(B){return(0,p.jsx)(z.Z,v()(v()({},B),{},{children:(0,p.jsx)(u.Z,{showText:function(A){return A.toHexString()},allowClear:!0,presets:[{label:"\u9884\u8BBE\u989C\u8272",colors:["#1677ff","#722ed1","#13c2c2","#52c41a","#eb2f96","#f5222d","#fa8c16","#fadb14","#fa541c","#2f54eb","#faad14","#a0d911","#000000","#5cdbd3","#b37feb","#b7eb8f","#61affe","#9254de","#36cfc9","#ff9c6e","#ff6f00","#ffc069","#28a745","#6610f2","#6f42c1","#007bff","#17a2b8","#20c997","#00cccc","#ff6666"]}]})}))}},52756:function(le,H,e){e.r(H),e.d(H,{default:function(){return A},getLang:function(){return I}});var x=e(82346),v=e(31418),z=e(26058),u=e(85137),$=e(24963),p=e(65913),d=e(67294),B=e(85893);function I(T,S){return(0,x.getIntl)((0,x.getLocale)()).formatMessage({id:T},S)}function A(){var T=(0,d.useRef)(),S=(0,x.useIntl)(),b=function(i){for(var a=arguments.length,n=new Array(a>1?a-1:0),D=1;D<a;D++)n[D-1]=arguments[D];M.notification[i]({message:S.formatMessage({id:"notification.title."+i}),description:n.join(" "),placement:"topRight"})},E=function(i){for(var a=arguments.length,n=new Array(a>1?a-1:0),D=1;D<a;D++)n[D-1]=arguments[D];M.message[i](n.join(" "))},M=v.Z.useApp(),W=(0,x.useModel)("@@initialState"),r=W.initialState,te=W.loading,de=W.error,ae=W.refresh,re=W.setInitialState,ee=(0,x.useModel)("subscriber");return r!=null&&r.user.username&&ee.addDataHandler("user:permission:".concat(r==null?void 0:r.user.username),function(m){ae()}),(0,B.jsx)(z.Z,{children:(0,B.jsx)($.Z.Provider,{value:{notice:{success:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];b.apply(void 0,["success"].concat(a))},error:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];b.apply(void 0,["error"].concat(a))},warning:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];b.apply(void 0,["warning"].concat(a))},info:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];b.apply(void 0,["info"].concat(a))},destroy:function(){M.notification.destroy()}},message:{success:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];E.apply(void 0,["success"].concat(a))},error:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];E.apply(void 0,["error"].concat(a))},warning:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];E.apply(void 0,["warning"].concat(a))},info:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];E.apply(void 0,["info"].concat(a))},loading:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];E.apply(void 0,["loading"].concat(a))},destroy:function(){M.message.destroy()}},loading:{show:function(){T.current&&T.current.show()},destroy:function(){T.current&&T.current.destroy()}},lang:function(i,a){return S.formatMessage({id:i},a)}},children:(0,B.jsxs)(p.Z,{ref:T,children:[(0,B.jsx)(x.Outlet,{}),(0,B.jsx)(u.Z.BackTop,{duration:10,style:{bottom:100}})]})},te?"1":"2")})}},65913:function(le,H,e){var x=e(5574),v=e.n(x),z=e(74330),u=e(67294),$=e(85893),p=(0,u.forwardRef)(function(d,B){(0,u.useImperativeHandle)(B,function(){return{show:function(){S(!0)},destroy:function(){S(!1)}}});var I=(0,u.useState)(!1),A=v()(I,2),T=A[0],S=A[1];return(0,$.jsx)(z.Z,{spinning:T,size:"default",children:d.children})});H.Z=p},29453:function(le,H,e){e.d(H,{A9:function(){return p},R3:function(){return S},e1:function(){return B},rn:function(){return A}});var x=e(15009),v=e.n(x),z=e(99289),u=e.n(z),$=e(82346);function p(E){return d.apply(this,arguments)}function d(){return d=u()(v()().mark(function E(M){return v()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,$.request)("/api/common/tag/create",{method:"POST",data:M});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},E)})),d.apply(this,arguments)}function B(E){return I.apply(this,arguments)}function I(){return I=u()(v()().mark(function E(M){return v()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,$.request)("/api/common/tag/get-list",{method:"POST",data:M});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},E)})),I.apply(this,arguments)}function A(E){return T.apply(this,arguments)}function T(){return T=u()(v()().mark(function E(M){return v()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,$.request)("/api/common/tag/delete",{method:"POST",data:M});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},E)})),T.apply(this,arguments)}function S(E){return b.apply(this,arguments)}function b(){return b=u()(v()().mark(function E(M){return v()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,$.request)("/api/pro/tag/get-url-detail",{method:"POST",data:M});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},E)})),b.apply(this,arguments)}}}]);
