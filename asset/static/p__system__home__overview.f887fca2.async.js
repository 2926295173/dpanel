"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8566],{1699:function(de,U,t){t.d(U,{u:function(){return b}});var k=t(9783),i=t.n(k),Z=t(97857),c=t.n(Z),E=t(67294),T=t(82346),P=t(40411),v=t(42075),I=t(85893),b=function(_){var o=(0,T.useAccess)(),a=Array.isArray(_.access)?_.access:[_.access],y,u=_.fallback;if(typeof _.children=="function"?(y=_.children(a.reduce(function(w,e){return c()(c()({},w),{},i()({},e,o[e]))},{})),y||(y=u)):a.every(function(w){return o[w]})?y=_.children:y=u,!u&&y&&_.showProTips&&o.canSeeEnableCe){if(o.canSeeEnableHiddenProTips)return null;y=(0,I.jsx)(P.Z,{offset:_.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:y})}if(!u&&y&&_.showProRibbonTips&&o.canSeeEnableCe){if(o.canSeeEnableHiddenProTips)return null;y=(0,I.jsx)(P.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:y})}return _.space?(0,I.jsx)(v.Z,c()(c()({},_.space),{},{children:y})):y}},80821:function(de,U,t){t.d(U,{Z:function(){return o}});var k=t(97857),i=t.n(k),Z=t(5574),c=t.n(Z),E=t(24963),T=t(36146),P=t(86738),v=t(83062),I=t(96074),b=t(83622),O=t(67294),_=t(85893);function o(a){var y=(0,O.useState)(!1),u=c()(y,2),w=u[0],e=u[1],F=(0,O.useContext)(E.Z),ue=F.message,Y=new T.Uo,K=function(){e(!0);var h=a.action();h instanceof Promise?h.then(function(x){if(e(!1),x){typeof a.onSuccess=="function"&&a.onSuccess(x);var S="";a.messageSuccess?typeof a.messageSuccess=="function"?S=a.messageSuccess(x):S=a.messageSuccess.indexOf("notification.")==0?Y.format(a.messageSuccess):a.messageSuccess:S=Y.format("notification.finish"),a.asynced?ue.info(S):ue.success(S)}}).catch(function(x){e(!1),typeof a.onError=="function"&&a.onError(x)}):e(!1)};return a.confirm?(0,_.jsx)(P.Z,i()(i()({style:{width:500},title:a.confirmTitle?a.confirmTitle:Y.format("notification.title.tip"),description:typeof a.confirm=="string"&&a.confirm.indexOf("notification.")==0?Y.format(a.confirm):a.confirm,onConfirm:K,okText:"Yes",cancelText:"No",onOpenChange:a.confirmOnOpenChange},a.confirmProps),{},{children:(0,_.jsxs)(v.Z,{title:a.tips,children:[a.showDivider&&(0,_.jsx)(I.Z,{type:"vertical",style:{marginRight:15}}),(0,_.jsx)(b.ZP,{block:a.block,disabled:a.disabled,icon:!a.children&&w?void 0:a.icon,loading:w,danger:a.danger,type:a.type,children:a.children})]})})):(0,_.jsxs)(v.Z,{title:a.tips,children:[a.showDivider&&(0,_.jsx)(I.Z,{type:"vertical",style:{marginRight:15}}),(0,_.jsx)(b.ZP,{block:a.block,style:a.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:a.disabled,icon:!a.children&&w?void 0:a.icon,loading:w,onClick:K,danger:a.danger,type:a.type,children:a.children})]})}},27619:function(de,U,t){t.d(U,{Z:function(){return P}});var k=t(5574),i=t.n(k),Z=t(82346),c=t(67294),E=t(64389),T=t(85893);function P(v){var I=(0,Z.useModel)("@@initialState"),b=I.initialState,O="chart-area-".concat(v.name),_=(0,c.useState)(),o=i()(_,2),a=o[0],y=o[1],u={};v.data.forEach(function(e){e.show===!1?u[e.name]=!1:u[e.name]=!0});var w={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}},valueFormatter:function(F){return v.yValueFormatter?v.yValueFormatter(F):F}},legend:{selected:u},grid:{left:"0",right:"0",bottom:"0",top:"30",containLabel:!0},xAxis:{type:"category",data:v.data[0].data.map(function(e){return e.date}),boundaryGap:!1,axisLabel:{rotate:20}},yAxis:{type:"value",axisLabel:{formatter:v.yLabelFormatter},max:function(F){if(v.yDomainMaxCallback)return v.yDomainMaxCallback(F)}},series:[]};return(0,c.useEffect)(function(){var e="",F=window.matchMedia("(prefers-color-scheme: dark)");(b==null?void 0:b.theme.algorithm)=="dark"||F.matches?e="dark":e="",a&&!a.isDisposed()&&a.dispose();var ue=document.getElementById(O),Y=E.S1(ue,e);Y.setOption(w);var K=new ResizeObserver(function(){Y.resize()});ue&&K.observe(ue),y(Y)},[b]),(0,c.useEffect)(function(){a&&!a.isDisposed()&&a.setOption({legend:{data:v.data.map(function(e){return e.name})},xAxis:{data:v.data[0].data.map(function(e){return e.date})},series:v.data.map(function(e){return{name:e.name,type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:e.data.map(function(F){return F.value})}})})},[v.data]),(0,T.jsx)("div",{style:{height:200},id:O})}},3616:function(de,U,t){t.d(U,{Ed:function(){return c},FK:function(){return i},R_:function(){return k},ob:function(){return Z}});var k=window.innerWidth<=1024?"90vw":"65vw",i="90vw",Z="60vw",c="50vh"},24963:function(de,U,t){var k=t(67294),i=(0,k.createContext)({});U.Z=i},55617:function(de,U,t){t.r(U),t.d(U,{default:function(){return Qe}});var k=t(15009),i=t.n(k),Z=t(99289),c=t.n(Z),E=t(5574),T=t.n(E),P=t(19632),v=t.n(P),I=t(1699),b=t(80821),O=t(27619),_=t(3616),o=t(5251),a=t(36146),y=t(184),u=t(25593),w=t(60940),e=t(85893),F=new a.Uo("components.containerStat");function ue(N){return(0,e.jsx)(y.a,{drawerProps:{width:_.R_},title:F.format("detailTitle"),submitter:!1,trigger:(0,e.jsx)(u.Z.Link,{children:a.FD.format("listManageDetail")}),children:(0,e.jsx)(w.Z,{pagination:!1,dataSource:N.data,rowKey:"name",columns:[{title:a.FD.format("listContainerName"),dataIndex:"name"},{title:"Cpu",dataIndex:"cpu",sorter:function(g,p){return g.cpu-p.cpu},render:function(g,p,V){return"".concat(p.cpu.toFixed(2),"%")}},{title:"Memory",dataIndex:"memory",sorter:function(g,p){return g.memory.in-p.memory.in},render:function(g,p,V){var R,Q;return"".concat((0,o.FI)((R=p==null?void 0:p.memory.in)!==null&&R!==void 0?R:0)," / ").concat((0,o.FI)((Q=p==null?void 0:p.memory.out)!==null&&Q!==void 0?Q:0))}},{title:a.FD.format("listNetworkIO"),dataIndex:"networkIO",render:function(g,p,V){return"".concat((0,o.FI)(p.networkIO.in)," / ").concat((0,o.FI)(p.networkIO.out))}},{title:a.FD.format("listDiskIO"),dataIndex:"blockIO",render:function(g,p,V){return"".concat((0,o.FI)(p.blockIO.in)," / ").concat((0,o.FI)(p.blockIO.out))}}]})})}var Y=t(97857),K=t.n(Y),C=t(67294),h=t(64389),x={tooltip:{show:!0,formatter:function(j){return j&&j.data&&j.data.tooltipItem?j.data.tooltipItem.map(function(g){return"<div>".concat(g.field,": ").concat(g.content,"</div>")}).join(" "):"".concat(j.data.name,": ").concat((0,o.FI)(j.data.value))}},legend:{selectedMode:"single",top:0,itemGap:5},series:[]},S={name:"",type:"treemap",left:0,right:0,top:30,bottom:0,roam:!1,label:{show:!0},levels:[{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}}],sort:!0,leafDepth:1,data:[]},s=new a.Uo("components.containerStat"),ke=(0,C.forwardRef)(function(N,j){var g=N.data.usage,p=(0,C.useState)(),V=T()(p,2),R=V[0],Q=V[1];(0,C.useImperativeHandle)(j,function(){return{}});function me(){if(!g.Containers||!g.Images){R&&R.setOption({series:[K()(K()({},S),{},{name:"",data:[{name:s.format("usageEmpty"),value:1}]})]});return}var L=[],M=[];g.Containers&&g.Containers.forEach(function(d){var A,X,J,W=d.SizeRootFs+((A=d.SizeRw)!==null&&A!==void 0?A:0),G=[];d.Mounts&&d.Mounts.forEach(function(H){var re=g.Volumes&&g.Volumes.find(function(fe){return fe.Name==H.Name});re&&(W+=re.UsageData.Size,G.push({name:s.format("usageVolume",{name:H.Name}),value:re.UsageData.Size,children:[]}))});var ae={name:(0,o.fi)(d.Names[0],"/"),value:W,tooltipItem:[{field:(0,o.fi)(d.Names[0],"/"),content:(0,o.FI)(W)},{field:s.format("usageContainerRootFs"),content:(0,o.FI)((X=d.SizeRootFs)!==null&&X!==void 0?X:0)},{field:s.format("usageContainerRw"),content:(0,o.FI)((J=d.SizeRw)!==null&&J!==void 0?J:0)}],children:[{name:s.format("usageContainerRootFs"),value:d.SizeRootFs,children:[]},{name:s.format("usageContainerRw"),value:d.SizeRw,children:[]}]};if(G&&G.length>0){var ne,le;(ne=ae.children).push.apply(ne,G),(le=ae.tooltipItem)===null||le===void 0||le.push.apply(le,v()(G.map(function(H){var re;return{field:H.name,content:(0,o.FI)((re=H.value)!==null&&re!==void 0?re:0)}})))}M.push(ae)}),L.push(K()(K()({},S),{},{name:s.format("usageTitleContainer"),data:M})),M=[],g.Images&&g.Images.forEach(function(d){var A,X,J,W;M.push({name:d.RepoTags?d.RepoTags[0]:d.Id.substring(7,19),value:d.Size+((A=d.SharedSize)!==null&&A!==void 0?A:0),tooltipItem:[{field:d.RepoTags?d.RepoTags[0]:d.Id.substring(7,19),content:(0,o.FI)(d.Size+((X=d.SharedSize)!==null&&X!==void 0?X:0))},{field:s.format("usageImageSize"),content:(0,o.FI)((J=d.Size)!==null&&J!==void 0?J:0)},{field:s.format("usageImageSharedSize"),content:(0,o.FI)((W=d.SharedSize)!==null&&W!==void 0?W:0)}],children:[{name:s.format("usageImageSize"),value:d.Size,children:[]},{name:s.format("usageImageSharedSize"),value:d.SharedSize,children:[]}]})}),L.push(K()(K()({},S),{},{name:s.format("usageTitleImage"),data:M})),M=[],g.Volumes&&g.Volumes.forEach(function(d){M.push({name:d.Name,value:d.UsageData.Size,children:[]})}),L.push(K()(K()({},S),{},{name:s.format("usageTitleVolume"),data:M})),L&&L.length>0&&R&&R.setOption({series:L,legend:{data:L.map(function(d){return d.name})}})}return(0,C.useEffect)(function(){var L=document.getElementById("docker-disk-usage"),M=h.S1(L);M.setOption(x);var d=new ResizeObserver(function(){M&&M.resize()});return L&&d.observe(L),Q(M),function(){R&&R.dispose(),Q(void 0)}},[]),(0,C.useEffect)(function(){R&&me()},[R]),(0,e.jsx)("div",{style:{height:450},id:"docker-disk-usage"})}),Le=ke,Ze=t(55241),ye=t(71230),Ee=t(15746),we=t(38703),We=(0,C.forwardRef)(function(N,j){return(0,C.useImperativeHandle)(j,function(){return{}}),(0,e.jsxs)(Ze.Z,{placement:"left",children:[(0,e.jsx)(ye.Z,{justify:"center",children:(0,e.jsx)(Ee.Z,{children:(0,e.jsx)(we.Z,{percent:N.showPercent,type:"dashboard",format:function(p,V){return"".concat(p,"%")},size:150,status:N.showPercent>=100?"exception":"normal"})})}),(0,e.jsx)(ye.Z,{justify:"center",children:(0,e.jsxs)(Ee.Z,{style:{marginTop:"10px"},children:[N.showLabel,": ",N.showUse," / ",N.showTotal]})})]})}),Se=We,Fe=t(24963),$e=t(87662),ge=t(2831),Ae=t(18148),Pe=t(89075),Be=t(20578),Ke=t(45605),ze=t(1210),he=t(12122),$=t(38345),z=t(88273),oe=t(82346),ce=t(42075),Ne=t(83622),te=t(26412),pe=t(83062),Ve=t(40411),Ge=t(86250),He=t(93162),l=new a.Uo("system.home.overview"),Ye=function(j,g){var p,V,R,Q,me,L,M,d;switch(g.type){case"update":var A=new Date().toLocaleTimeString(),X=0,J=0,W=0,G=0,ae=0,ne=0;g.payload.forEach(function(_e){X+=_e.cpu,J+=_e.memory.in,W+=_e.networkIO.in,G+=_e.networkIO.out,ae+=_e.blockIO.in,ne+=_e.blockIO.out});var le=(p=(V=j.last)===null||V===void 0?void 0:V.networkInLast)!==null&&p!==void 0?p:W,H=(R=(Q=j.last)===null||Q===void 0?void 0:Q.networkOutLast)!==null&&R!==void 0?R:G,re=(me=(L=j.last)===null||L===void 0?void 0:L.ioInLast)!==null&&me!==void 0?me:ae,fe=(M=(d=j.last)===null||d===void 0?void 0:d.ioOutLast)!==null&&M!==void 0?M:ne,ve={list:g.payload,cpu:X,memory:J,network:[{name:l.format("runStatNetworkOut"),data:[].concat(v()(j.network[0].data.slice(-20)),[{date:A,value:Math.max(G-H,0).toString()}])},{name:l.format("runStatNetworkIn"),data:[].concat(v()(j.network[1].data.slice(-20)),[{date:A,value:Math.max(W-le,0).toString()}])}],io:[{name:l.format("runStatIoOut"),data:[].concat(v()(j.io[0].data.slice(-20)),[{date:A,value:Math.max(ne-fe,0).toString()}])},{name:l.format("runStatIoIn"),data:[].concat(v()(j.io[1].data.slice(-20)),[{date:A,value:Math.max(ae-re,0).toString()}])}],last:{networkInLast:W>0?W:le,networkOutLast:G>0?G:H,ioInLast:ae>0?ae:re,ioOutLast:ne>0?ne:fe}};return ve}};function Qe(){var N,j,g,p,V,R,Q,me,L,M,d,A,X,J,W,G,ae,ne,le,H=(0,oe.useAccess)(),re=(0,C.useState)(),fe=T()(re,2),ve=fe[0],_e=fe[1],Xe=(0,C.useState)(),be=T()(Xe,2),se=be[0],Je=be[1],qe=(0,C.useState)(),Ie=T()(qe,2),r=Ie[0],et=Ie[1],tt=(0,C.useState)(),xe=T()(tt,2),n=xe[0],at=xe[1],nt=(0,C.useState)(),Te=T()(nt,2),je=Te[0],rt=Te[1],st=(0,C.useReducer)(Ye,{cpu:0,memory:0,network:[{name:l.format("runStatNetworkOut"),data:[]},{name:l.format("runStatNetworkIn"),data:[]}],io:[{name:l.format("runStatIoOut"),data:[]},{name:l.format("runStatIoIn"),data:[]}],list:[]}),Oe=T()(st,2),B=Oe[0],Me=Oe[1],it=(0,C.useContext)(Fe.Z),Ue=it.loading,Ce=(0,oe.useModel)("subscriber");Ce.addDataHandler("container:stat",function(f){Me({type:"update",payload:f.data})});function Re(){return De.apply(this,arguments)}function De(){return De=c()(i()().mark(function f(){var m,D,ie;return i()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return Ue.show(),ee.next=3,(0,ge.aF)().finally(function(){Ue.destroy()});case 3:return m=ee.sent,et(m.data),ee.next=7,(0,ge.Ll)();case 7:return D=ee.sent,at(D.data),ee.next=11,(0,$e.Cz)({follow:!0});case 11:ie=ee.sent,Me({type:"update",payload:[]});case 13:case"end":return ee.stop()}},f)})),De.apply(this,arguments)}return(0,C.useEffect)(function(){return Re(),!H.canSeeEnableCe&&(0,Pe.YQ)().then(function(f){_e(f.data)}),!H.canSeeEnableCe&&(0,Be.q)().then(function(f){Je(f.data)}),(0,ge.u5)().then(function(f){rt(f.data)}),function(){Ce.progress.close("container:stat")}},[]),(0,e.jsxs)($.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,e.jsxs)($.Z,{bordered:!0,split:"vertical",wrap:!0,children:[(0,e.jsx)($.Z,{style:{height:"570px",overflow:"hidden"},colSpan:{xs:24,sm:24,md:24,lg:9,xl:9},headerBordered:!0,title:(0,e.jsx)(Ke.Z,{}),subTitle:l.format("basicInfoTitle"),extra:(0,e.jsx)(ce.Z,{children:H.canSeeEnableCe?H.canSeeEnableInDPanel&&(0,e.jsx)("a",{href:"https://dpanel.cc/pro",target:"_blank",children:l.format("basicProBuy")},"proLink"):ve&&ve.expireTime?(0,e.jsxs)("span",{children:[l.format("basicProExpireTime")," ",new Date(ve.expireTime).toLocaleString()]},"expireTime"):(0,e.jsx)(Ne.ZP,{type:"link",onClick:c()(i()().mark(function f(){var m,D;return i()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,(0,Pe.$w)();case 2:m=q.sent,D=new Blob([m.data.code],{type:"text/plain"}),(0,He.saveAs)(D,"dpanel.code");case 5:case"end":return q.stop()}},f)})),children:l.format("basicProCode")},"downloadCode")}),children:(0,e.jsxs)(te.Z,{column:1,styles:{label:{width:100,justifyContent:"flex-end"}},children:[(0,e.jsx)(te.Z.Item,{label:l.format("basicDPanelTitleVersion"),children:(0,e.jsxs)(ce.Z,{direction:"horizontal",wrap:!0,children:[r==null?void 0:r.dpanel.version," - ",r==null?void 0:r.dpanel.env," - ",r==null?void 0:r.dpanel.family,H.canSeeEnableInDPanel&&(0,e.jsx)(pe.Z,{title:l.format("basicDPanelTitleUpgradeInfo"),children:(0,e.jsx)("a",{target:"_blank",href:"https://github.com/donknap/dpanel/releases",children:(0,e.jsx)(ze.Z,{})})}),je&&je.newVersion!=""&&(0,e.jsx)(oe.Link,{to:"/system/upgrade",children:(0,e.jsx)(Ve.Z,{count:je.newVersion,size:"small"})})]})}),(0,e.jsxs)(te.Z.Item,{label:"Docker Host",children:[r==null?void 0:r.info.Name," ",(0,e.jsx)(e.Fragment,{children:(r==null?void 0:r.info.ID)==""&&(0,e.jsx)(oe.Link,{to:"/system/env",state:{name:"local",t:(0,o.Fs)()},children:l.format("basicEnvSettingDefaultEnv")})})]}),(0,e.jsx)(te.Z.Item,{label:l.format("basicDockerTitleVersion"),children:"Server: ".concat(r==null?void 0:r.info.ServerVersion," / Client: ").concat(r==null?void 0:r.clientVersion)}),(0,e.jsx)(te.Z.Item,{label:"Docker SDK",children:"".concat(r==null?void 0:r.sdkVersion)}),(0,e.jsx)(te.Z.Item,{label:l.format("basicDockerTitleFileDriver"),children:"".concat(r==null?void 0:r.info.Driver)}),(0,e.jsx)(te.Z.Item,{label:l.format("basicDockerTitleLogDriver"),children:"".concat(r==null?void 0:r.info.LoggingDriver)}),(0,e.jsx)(te.Z.Item,{label:l.format("basicDockerTitleSystemVersion"),children:"".concat(r==null?void 0:r.info.OperatingSystem," - ").concat(r==null?void 0:r.info.KernelVersion," - ").concat(r==null?void 0:r.info.Architecture)}),(0,e.jsxs)(te.Z.Item,{label:"Cpu / Mem",children:[r==null?void 0:r.info.NCPU," ",a.FD.format("unitCpu")," / ",(0,o.FI)((N=r==null?void 0:r.info.MemTotal)!==null&&N!==void 0?N:0)]}),(0,e.jsx)(te.Z.Item,{label:l.format("basicDockerTitleRootDir"),children:r==null?void 0:r.info.DockerRootDir}),(0,e.jsx)(te.Z.Item,{label:l.format("basicDockerTitlePluginsVolume"),children:(0,e.jsx)(ce.Z,{children:r==null?void 0:r.info.Plugins.Volume})}),(0,e.jsx)(te.Z.Item,{label:l.format("basicDockerTitlePluginsNetwork"),children:(0,e.jsx)(ce.Z,{wrap:!0,children:r==null?void 0:r.info.Plugins.Network})}),(0,e.jsx)(te.Z.Item,{label:l.format("basicDockerTitleSystemTime"),children:new Date((j=r==null?void 0:r.info.SystemTime)!==null&&j!==void 0?j:"").toLocaleString()})]})}),(0,e.jsxs)($.Z,{headerBordered:!0,colSpan:{xs:24,sm:24,md:24,lg:15,xl:15},title:(0,e.jsx)(he.Z,{}),subTitle:l.format("runStatTitle"),split:"horizontal",extra:(0,e.jsx)(ce.Z,{children:B.list&&(0,e.jsx)(ue,{data:B.list})}),children:[(0,e.jsx)($.Z,{children:(0,e.jsxs)(Ge.Z,{gap:50,align:"center",justify:"space-evenly",children:[(0,e.jsx)(Se,{showPercent:parseFloat((((g=B==null?void 0:B.cpu)!==null&&g!==void 0?g:0)/((p=r==null?void 0:r.info.NCPU)!==null&&p!==void 0?p:0)).toFixed(2)),showLabel:"Cpu",showUse:"".concat(((V=B==null?void 0:B.cpu)!==null&&V!==void 0?V:0).toFixed(2)),showTotal:"".concat((R=r==null?void 0:r.info.NCPU)!==null&&R!==void 0?R:0," ").concat(a.FD.format("unitCpu"))}),(0,e.jsx)(Se,{showPercent:parseFloat((((Q=B==null?void 0:B.memory)!==null&&Q!==void 0?Q:0)/((me=r==null?void 0:r.info.MemTotal)!==null&&me!==void 0?me:0)*100).toFixed(2)),showLabel:"Memory",showUse:(0,o.FI)((L=B==null?void 0:B.memory)!==null&&L!==void 0?L:0),showTotal:"".concat((0,o.FI)((M=r==null?void 0:r.info.MemTotal)!==null&&M!==void 0?M:0))})]})}),(0,e.jsxs)($.Z,{split:"vertical",wrap:!0,children:[(0,e.jsx)($.Z,{colSpan:12,title:(0,e.jsx)(he.Z,{}),subTitle:l.format("usageNetwork"),headerBordered:!0,children:(0,e.jsx)(O.Z,{data:B.network,yLabelFormatter:function(m){return(0,o.FI)(parseFloat(m))},yValueFormatter:function(m){return(0,o.FI)(parseFloat(m))},yDomainMaxCallback:function(m){return m.max*1.5},name:"network"})}),(0,e.jsx)($.Z,{colSpan:12,title:(0,e.jsx)(he.Z,{}),subTitle:l.format("usageDisk"),headerBordered:!0,children:(0,e.jsx)(O.Z,{name:"disk",data:B.io,yLabelFormatter:function(m){return(0,o.FI)(parseFloat(m))},yValueFormatter:function(m){return(0,o.FI)(parseFloat(m))},yDomainMaxCallback:function(m){return m.max*1.5}})})]})]})]}),(0,e.jsxs)($.Z,{bordered:!0,headerBordered:!0,title:(0,e.jsx)(he.Z,{}),subTitle:l.format("usageTitle"),wrap:!0,extra:(0,e.jsx)(ce.Z,{children:(0,e.jsx)("span",{children:n!=null&&n.diskUsage&&n!==null&&n!==void 0&&n.diskUsage.updatedAt?"".concat(l.format("usageLastUpgradeTime")," ").concat(new Date(n==null?void 0:n.diskUsage.updatedAt).toLocaleString()):""},"lastUpdate")},"size"),children:[(0,e.jsx)($.Z,{colSpan:{xs:24,sm:24,md:24,lg:24,xl:12,xxl:12},ghost:!0,children:(n==null?void 0:n.diskUsage)&&(0,e.jsx)(Le,{data:n==null?void 0:n.diskUsage})}),(0,e.jsxs)($.Z,{colSpan:{xs:24,sm:8,md:8,lg:8,xl:4,xxl:4},split:"horizontal",ghost:!0,children:[(0,e.jsx)(z.Z,{statistic:{title:(0,e.jsx)(ce.Z,{children:l.format("usageContainer")}),value:n!=null&&n.diskUsage.usage.Containers?(0,o.FI)((d=n.diskUsage.usage.Containers.reduce(function(f,m){var D;return f+m.SizeRootFs+((D=m.SizeRw)!==null&&D!==void 0?D:0)},0))!==null&&d!==void 0?d:0):0,description:l.format("usageDescContainer")}}),(0,e.jsx)(z.Z,{statistic:{title:(0,e.jsx)(ce.Z,{children:l.format("usageImage")}),value:n!=null&&n.diskUsage.usage.Images?(0,o.FI)((A=n.diskUsage.usage.Images.reduce(function(f,m){var D;return f+(m.Size+((D=m.SharedSize)!==null&&D!==void 0?D:0))},0))!==null&&A!==void 0?A:0):0,description:l.format("usageDescImage")}}),(0,e.jsx)(z.Z,{statistic:{title:(0,e.jsx)(ce.Z,{children:l.format("usageVolume")}),value:n!=null&&n.diskUsage.usage.Volumes?(0,o.FI)((X=n.diskUsage.usage.Volumes.reduce(function(f,m){return f+m.UsageData.Size},0))!==null&&X!==void 0?X:0):0,description:l.format("usageDescVolume")}}),(0,e.jsx)(z.Z,{statistic:{title:l.format("usageBuildCache"),value:n!=null&&n.diskUsage.usage.BuildCache?(0,o.FI)((J=n.diskUsage.usage.BuildCache.reduce(function(f,m){return f+m.Size},0))!==null&&J!==void 0?J:0):0,description:(0,e.jsx)(I.u,{access:"canSeeHomeOverviewClear",children:(0,e.jsx)(b.Z,{action:function(){return(0,Ae.c5)()},type:"link",onSuccess:function(){Re()},ghost:!0,children:a.FD.format("listManageClear")})})}})]}),(0,e.jsxs)($.Z,{colSpan:{xs:24,sm:16,md:16,lg:16,xl:8,xxl:8},ghost:!0,split:"horizontal",children:[(0,e.jsx)($.Z,{ghost:!0,children:(0,e.jsxs)(z.Z.Group,{children:[(0,e.jsx)(z.Z,{statistic:{title:l.format("usageContainer"),value:(W=r==null?void 0:r.info.Containers)!==null&&W!==void 0?W:0,description:(0,e.jsx)(oe.Link,{to:"/app/list",children:a.FD.format("listManageDetail")})}}),!H.canSeeEnableCe&&(0,e.jsx)(z.Z,{statistic:{title:l.format("usageContainerNew"),status:"processing",valueRender:function(m){var D,ie,q;return(0,e.jsx)(pe.Z,{title:"".concat(a.FD.format("title.ignore"),": ").concat((D=se==null?void 0:se.ignore)!==null&&D!==void 0?D:0,` 
                      `).concat(a.FD.format("title.ignore"),": ").concat((ie=se==null?void 0:se.failed)!==null&&ie!==void 0?ie:0,` 
                      `).concat(a.FD.format("title.local"),": ").concat((q=se==null?void 0:se.local)!==null&&q!==void 0?q:0),children:se==null?void 0:se.upgrade})}}}),(0,e.jsx)(z.Z,{statistic:{title:a.FD.format("title.warning"),status:"error",valueRender:function(m){var D,ie,q,ee=0;return n&&n.total&&n.total.containerRunning.stop&&(ee+=n.total.containerRunning.stop),n&&n.total&&n.total.containerRunning.pause&&(ee+=n.total.containerRunning.pause),n&&n.total&&n.total.containerRunning.unhealthy&&(ee+=n.total.containerRunning.unhealthy),(0,e.jsx)(pe.Z,{title:"".concat(new a.Uo("components.containerStatus").format("container.exited"),": ").concat((D=n==null?void 0:n.total.containerRunning.stop)!==null&&D!==void 0?D:0,`
                      `).concat(new a.Uo("components.containerStatus").format("container.paused"),": ").concat((ie=n==null?void 0:n.total.containerRunning.pause)!==null&&ie!==void 0?ie:0,` 
                      `).concat(new a.Uo("components.containerStatus").format("container.unhealthy"),": ").concat((q=n==null?void 0:n.total.containerRunning.unhealthy)!==null&&q!==void 0?q:0),children:ee})}}}),(0,e.jsx)(z.Z,{statistic:{title:l.format("usageContainerRecycle"),value:(G=n==null?void 0:n.total.containerTask)!==null&&G!==void 0?G:0,description:(0,e.jsx)(oe.Link,{to:"/app/list/recycle",children:a.FD.format("listManageDetail")})}})]})}),(0,e.jsxs)($.Z,{ghost:!0,children:[(0,e.jsx)(z.Z,{statistic:{title:l.format("usageImage"),value:"".concat((ae=(n==null?void 0:n.diskUsage.usage.Images)&&(n==null?void 0:n.diskUsage.usage.Images.length))!==null&&ae!==void 0?ae:0),description:(0,e.jsx)(oe.Link,{to:"/image/list",children:a.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(z.Z,{statistic:{title:l.format("usageImageTask"),value:(ne=n==null?void 0:n.total.imageTask)!==null&&ne!==void 0?ne:0,description:(0,e.jsx)(oe.Link,{to:"/image/list/recycle",children:a.FD.format("listManageDetail")})},chartPlacement:"left"})]}),(0,e.jsxs)($.Z,{ghost:!0,children:[(0,e.jsx)(z.Z,{statistic:{title:l.format("usageNetwork"),value:n==null?void 0:n.total.network,description:(0,e.jsx)(oe.Link,{to:"/docker/network",children:a.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(z.Z,{statistic:{title:l.format("usageNetworkPortBind"),value:n==null?void 0:n.total.port,description:(0,e.jsx)(y.a,{drawerProps:{width:_.R_},submitter:!1,title:l.format("usageNetworkPortBind"),trigger:(0,e.jsx)(u.Z.Link,{children:a.FD.format("listManageDetail")}),children:(0,e.jsx)(w.Z,{pagination:!1,dataSource:n==null?void 0:n.port,rowKey:function(m){return"".concat(m.port.host).concat(m.port.dest)},columns:[{title:l.format("usageNetworkPortBindHost"),dataIndex:["port","host"],sorter:function(m,D){return parseInt(m.port.host)-parseInt(D.port.host)},render:function(m,D,ie){return D.port.host!="0"?"".concat(D.port.hostIp,":").concat(D.port.host):"-"}},{title:l.format("usageNetworkPortBindDest"),dataIndex:["port","dest"]},{title:l.format("usageNetworkPortBindName"),dataIndex:"name",render:function(m,D,ie){return(0,o.fi)(D.name,"/")}}]})})},chartPlacement:"left"})]}),(0,e.jsxs)($.Z,{ghost:!0,children:[(0,e.jsx)(z.Z,{statistic:{title:l.format("usageVolume"),value:(le=(n==null?void 0:n.diskUsage.usage.Volumes)&&(n==null?void 0:n.diskUsage.usage.Volumes.length))!==null&&le!==void 0?le:0,description:(0,e.jsx)(oe.Link,{to:"/docker/volume",children:a.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(z.Z,{statistic:{title:l.format("usageBackup"),value:n==null?void 0:n.total.backup,description:(0,e.jsx)(oe.Link,{to:"/app/backup",children:a.FD.format("listManageDetail")})},chartPlacement:"left"})]})]})]})]})}},2831:function(de,U,t){t.d(U,{Ll:function(){return b},aF:function(){return T},d6:function(){return _},u5:function(){return v}});var k=t(15009),i=t.n(k),Z=t(99289),c=t.n(Z),E=t(82346);function T(){return P.apply(this,arguments)}function P(){return P=c()(i()().mark(function a(){return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,E.request)("/api/common/home/info",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},a)})),P.apply(this,arguments)}function v(){return I.apply(this,arguments)}function I(){return I=c()(i()().mark(function a(){return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,E.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},a)})),I.apply(this,arguments)}function b(){return O.apply(this,arguments)}function O(){return O=c()(i()().mark(function a(){return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,E.request)("/api/common/home/usage",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},a)})),O.apply(this,arguments)}function _(){return o.apply(this,arguments)}function o(){return o=c()(i()().mark(function a(){return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,E.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},a)})),o.apply(this,arguments)}},18148:function(de,U,t){t.d(U,{$q:function(){return _},Fj:function(){return ue},KG:function(){return T},KX:function(){return K},T8:function(){return b},Xn:function(){return v},ao:function(){return a},c5:function(){return e},c7:function(){return u}});var k=t(15009),i=t.n(k),Z=t(99289),c=t.n(Z),E=t(82346);function T(h){return P.apply(this,arguments)}function P(){return P=c()(i()().mark(function h(x){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,E.request)("/api/app/image/get-list",{method:"POST",data:x}));case 1:case"end":return s.stop()}},h)})),P.apply(this,arguments)}function v(h){return I.apply(this,arguments)}function I(){return I=c()(i()().mark(function h(x){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,E.request)("/api/app/image/get-list-build",{method:"POST",data:x}));case 1:case"end":return s.stop()}},h)})),I.apply(this,arguments)}function b(h){return O.apply(this,arguments)}function O(){return O=c()(i()().mark(function h(x){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,E.request)("/api/app/image/get-build-task",{method:"POST",data:x});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},h)})),O.apply(this,arguments)}function _(h){return o.apply(this,arguments)}function o(){return o=c()(i()().mark(function h(x){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,E.request)("/api/app/image/delete-build-task",{method:"POST",data:x});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},h)})),o.apply(this,arguments)}function a(h){return y.apply(this,arguments)}function y(){return y=c()(i()().mark(function h(x){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,E.request)("/api/app/image/image-delete",{method:"POST",data:x});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},h)})),y.apply(this,arguments)}function u(h){return w.apply(this,arguments)}function w(){return w=c()(i()().mark(function h(x){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,E.request)("/api/app/image/image-prune",{method:"POST"});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},h)})),w.apply(this,arguments)}function e(){return F.apply(this,arguments)}function F(){return F=c()(i()().mark(function h(){return i()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,E.request)("/api/app/image/build-prune",{method:"POST"});case 2:return S.abrupt("return",S.sent);case 3:case"end":return S.stop()}},h)})),F.apply(this,arguments)}function ue(h){return Y.apply(this,arguments)}function Y(){return Y=c()(i()().mark(function h(x){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,E.request)("/api/app/image/update-title",{method:"POST",data:x});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},h)})),Y.apply(this,arguments)}function K(h){return C.apply(this,arguments)}function C(){return C=c()(i()().mark(function h(x){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,E.request)("/api/app/image/tag-sync",{method:"POST",data:x}));case 1:case"end":return s.stop()}},h)})),C.apply(this,arguments)}},89075:function(de,U,t){t.d(U,{$w:function(){return T},YQ:function(){return v},ax:function(){return b}});var k=t(15009),i=t.n(k),Z=t(99289),c=t.n(Z),E=t(82346);function T(){return P.apply(this,arguments)}function P(){return P=c()(i()().mark(function _(){return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,E.request)("/api/pro/home/get-machine-id",{method:"POST"}));case 1:case"end":return a.stop()}},_)})),P.apply(this,arguments)}function v(){return I.apply(this,arguments)}function I(){return I=c()(i()().mark(function _(){return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,E.request)("/api/pro/home/get-license-info",{method:"POST"}));case 1:case"end":return a.stop()}},_)})),I.apply(this,arguments)}function b(){return O.apply(this,arguments)}function O(){return O=c()(i()().mark(function _(){return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,E.request)("/api/pro/home/login-info",{method:"POST"}));case 1:case"end":return a.stop()}},_)})),O.apply(this,arguments)}},20578:function(de,U,t){t.d(U,{q:function(){return T}});var k=t(15009),i=t.n(k),Z=t(99289),c=t.n(Z),E=t(82346);function T(){return P.apply(this,arguments)}function P(){return P=c()(i()().mark(function v(){return i()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,(0,E.request)("/api/pro/container-upgrade/get-all-list",{method:"POST"});case 2:return b.abrupt("return",b.sent);case 3:case"end":return b.stop()}},v)})),P.apply(this,arguments)}}}]);
