"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8022],{91806:function(te,B,e){e.d(B,{Z:function(){return C}});var c=e(87462),D=e(67294),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V687h97.9c11.6 32.8 32 62.3 59.1 84.7 34.5 28.5 78.2 44.3 123 44.3s88.5-15.7 123-44.3c27.1-22.4 47.5-51.9 59.1-84.7H792v-63H643.6l-5.2 24.7C626.4 708.5 573.2 752 512 752s-114.4-43.5-126.5-103.3l-5.2-24.7H232V136h560v752zM320 341h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 160h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"container",theme:"outlined"},b=R,T=e(84089),P=function(J,A){return D.createElement(T.Z,(0,c.Z)({},J,{ref:A,icon:b}))},$=D.forwardRef(P),C=$},44349:function(te,B,e){var c=e(97857),D=e.n(c),R=e(17186),b=e(5966),T=e(86250),P=e(67294),$=e(85893),C=(0,P.forwardRef)(function(j,J){var A=(0,P.useRef)();(0,P.useImperativeHandle)(J,function(){return{addItem:function(I,W){var Z,h=(Z=A.current)===null||Z===void 0?void 0:Z.getList(),k=!1;if(h==null||h.map(function(q){if(q.name==I){k=!0;return}}),!k){var V;(V=A.current)===null||V===void 0||V.add({name:I,value:W})}},clear:function(){var I;(I=A.current)===null||I===void 0||(I=I.getList())===null||I===void 0||I.map(function(W,Z){var h;(h=A.current)===null||h===void 0||h.remove(Z)})}}});var ne={};return j.hideCopyButton===!0&&(ne.copyIconProps=!1),j.hideDeleteButton===!0&&(ne.deleteIconProps=!1),(0,$.jsx)(R.u,D()(D()({initialValue:j.initialValue,label:j.label,name:j.name,actionRef:A,creatorButtonProps:j.showAddButton?{creatorButtonText:"\u6DFB\u52A0"+(j.label?j.label:j.name)}:!1,min:j.min?j.min:0},ne),{},{children:function(I,W,Z){return(0,$.jsx)(T.Z,{justify:j.justify,gap:j.gap,children:j.items.map(function(h){return h.render?(0,$.jsx)("div",{children:h.render&&h.render(I,W,Z)},"".concat(j.name,"-").concat(h.name,"-").concat(I.key)):(0,$.jsx)(b.Z,{width:h.width,name:h.name,label:h.label,required:h.required,rules:[{required:h.required}],disabled:h.disabled,placeholder:h.placeholder},"".concat(j.name,"-").concat(h.name,"-").concat(I.key))})})}}))});B.Z=C},8680:function(te,B,e){var c=e(15009),D=e.n(c),R=e(64599),b=e.n(R),T=e(99289),P=e.n(T),$=e(9783),C=e.n($),j=e(5574),J=e.n(j),A=e(67294),ne=e(184),Q=e(38345),I=e(97269),W=e(97321),Z=e(97462),h=e(64317),k=e(5966),V=e(86615),q=e(68602),ae=e(28036),F=e(83403),re=e(24963),G=e(1699),f=e(29177),se=e(45742),ie=e(43425),oe=e(44349),O=e(85893),le=(0,A.forwardRef)(function(X,ce){var L=(0,A.useState)(!1),U=J()(L,2),Y=U[0],K=U[1],n=(0,A.useRef)(),s=(0,A.useContext)(re.Z),m=s.message,a=(0,A.useState)([]),r=J()(a,2),t=r[0],u=r[1],l=C()(C()(C()(C()(C()({},F.W6.CONTAINER,"Id"),F.W6.APPSTORE,"name"),F.W6.COMPOSE,"name"),F.W6.REGISTRY,"serverAddress"),F.W6.DOCKER_ENV,"name"),i=C()(C()(C()(C()(C()({},F.W6.CONTAINER,"name"),F.W6.APPSTORE,"name"),F.W6.COMPOSE,"name"),F.W6.REGISTRY,"title"),F.W6.DOCKER_ENV,"title"),g=l[X.type],_=i[X.type],S=X.selected.map(function(o){return o[l[X.type]]});return A.useEffect(function(){Y&&((0,q.dP)({permission:{uri:X.type,key:g,value:S}}).then(function(o){var d;(d=n.current)===null||d===void 0||d.setFieldValue("list",Object.keys(o.data.list).map(function(v){return{name:v,type:o.data.list[v].type,users:o.data.list[v].users}}))}),(0,q.lE)().then(function(o){var d,v=(d=o.data)===null||d===void 0||(d=d.list)===null||d===void 0?void 0:d.map(function(E){return{label:E.username,value:E.username}});u(v)}))},[Y]),(0,O.jsx)(G.u,{access:["canSeeEnableEe","canSeeFounder","canSeeManage"],children:(0,O.jsxs)(ne.a,{name:"create",title:"\u6570\u636E\u6743\u9650\u8BBE\u7F6E",open:Y,onOpenChange:function(d){if(!d){var v;(v=n.current)===null||v===void 0||v.resetFields()}K(d)},drawerProps:{forceRender:!0},formRef:n,trigger:(0,O.jsx)(ae.ZP,{icon:(0,O.jsx)(f.Z,{}),children:"\u6570\u636E\u6743\u9650"}),onFinish:function(){var o=P()(D()().mark(function d(v){var E,y,x;return D()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:E=b()(v.list),M.prev=1,E.s();case 3:if((y=E.n()).done){M.next=9;break}return x=y.value,M.next=7,(0,q.Db)({usernames:x.users,permissionType:x.type,permission:{uri:X.type,key:g,showKey:_,value:[x.name]}});case 7:M.next=3;break;case 9:M.next=14;break;case 11:M.prev=11,M.t0=M.catch(1),E.e(M.t0);case 14:return M.prev=14,E.f(),M.finish(14);case 17:m.success("\u6743\u9650\u8BBE\u7F6E\u6210\u529F"),K(!1),X.onSuccess();case 20:case"end":return M.stop()}},d,null,[[1,11,14,17]])}));return function(d){return o.apply(this,arguments)}}(),children:[(0,O.jsxs)(Q.Z,{ghost:!0,title:(0,O.jsx)(se.Z,{}),subTitle:"\u6279\u91CF\u8BBE\u7F6E",children:[(0,O.jsx)(I.A.Item,{name:"type",style:{marginBottom:0},children:(0,O.jsxs)(W.Z.Group,{defaultValue:"admin",onChange:function(d){var v,E,y=(v=n.current)===null||v===void 0?void 0:v.getFieldValue("list");y.forEach(function(x){x.type=d,x.users=[]}),(E=n.current)===null||E===void 0||E.setFieldValue("list",y)},children:[(0,O.jsx)(W.Z,{style:{width:240},title:"\u7BA1\u7406\u5458",description:"\u4EC5\u7BA1\u7406\u5458\u53EF\u89C1",value:"admin"}),(0,O.jsx)(W.Z,{style:{width:240},title:"\u6307\u5B9A\u7528\u6237",description:"\u4EC5\u9009\u4E2D\u7528\u6237\u53EF\u89C1",value:"restricted"}),(0,O.jsx)(W.Z,{style:{width:240},title:"\u516C\u5171",description:"\u6240\u6709\u4EBA\u53EF\u89C1",value:"public"})]})}),(0,O.jsx)(Z.Z,{name:["type"],children:function(d){var v=d.type;if(v==="restricted")return(0,O.jsx)(h.Z,{mode:"multiple",name:"usernames",label:"\u9009\u62E9\u7528\u6237",onChange:function(y){var x,w,M=(x=n.current)===null||x===void 0?void 0:x.getFieldValue("list");M.forEach(function(z){z.users=y}),(w=n.current)===null||w===void 0||w.setFieldValue("list",M)},rules:[{required:!0}],request:P()(D()().mark(function E(){var y,x,w;return D()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(!(t.length>0)){z.next=2;break}return z.abrupt("return",t);case 2:return z.next=4,(0,q.lE)();case 4:return x=z.sent,w=(y=x.data)===null||y===void 0||(y=y.list)===null||y===void 0?void 0:y.map(function(ue){return{label:ue.username,value:ue.username}}),u(w),z.abrupt("return",w);case 8:case"end":return z.stop()}},E)}))})}})]}),(0,O.jsx)(Q.Z,{ghost:!0,title:(0,O.jsx)(ie.Z,{}),subTitle:"\u6570\u636E\u6743\u9650\u8BBE\u7F6E",children:(0,O.jsx)(oe.Z,{name:"list",hideCopyButton:!0,gap:10,items:[{name:"name",label:"\u540D\u79F0",render:function(d,v,E){var y=E.getCurrentRowData();return(0,O.jsx)(k.Z,{disabled:!0,label:"\u540D\u79F0",width:"sm",name:"name"})}},{name:"type",label:"\u6743\u9650\u7C7B\u578B",render:function(d,v,E){var y=E.getCurrentRowData();return(0,O.jsx)(V.Z.Group,{label:"\u6743\u9650\u7C7B\u578B",name:"type",radioType:"button",options:[{label:"\u7BA1\u7406\u5458",value:"admin"},{label:"\u516C\u5171",value:"public"},{label:"\u6307\u5B9A\u7528\u6237",value:"restricted"}]})}},{name:"users",label:"\u5173\u8054\u7528\u6237",render:function(d,v,E){return(0,O.jsx)(Z.Z,{name:["type"],children:function(x){var w=x.type;if(w=="restricted")return(0,O.jsx)(h.Z,{width:"sm",mode:"tags",name:"users",label:"\u5173\u8054\u7528\u6237",options:t})}})}}]})})]})})});B.Z=le},96781:function(te,B,e){var c=e(67294),D=(0,c.createContext)({});B.Z=D},83536:function(te,B,e){e.r(B),e.d(B,{default:function(){return ce}});var c=e(64599),D=e.n(c),R=e(15009),b=e.n(R),T=e(99289),P=e.n(T),$=e(80821),C=e(90098),j=e(43425),J=e(23430),A=e(90078),ne=e(78099),Q=e(82346),I=e(28036),W=e(25593),Z=e(42075),h=e(96074),k=e(83062),V=e(67294),q=e(94359),ae=e(67255),F=e(93162),re=e(24963),G=e(66309),f=e(85893);function se(L){var U=(0,Q.useIntl)(),Y=(0,V.useContext)(re.Z),K=Y.lang,n;if(!L.type)n=(0,f.jsx)(G.Z,{children:K("compose.type.default")});else switch(L.type){case"remoteUrl":n=(0,f.jsx)(G.Z,{color:"cyan",children:K("compose.type.".concat(L.type))});break;case"serverPath":n=(0,f.jsx)(G.Z,{color:"blue",children:K("compose.type.".concat(L.type))});break;case"storagePath":n=(0,f.jsx)(G.Z,{color:"geekblue",children:K("compose.type.".concat(L.type))});break;case"outPath":n=(0,f.jsx)(G.Z,{color:"yellow",children:K("compose.type.".concat(L.type))});break;case"store":n=(0,f.jsx)(G.Z,{color:"green",children:K("compose.type.".concat(L.type))});break;case"dangling":n=(0,f.jsx)(G.Z,{color:"error",children:K("compose.type.".concat(L.type))});break;default:n=(0,f.jsx)(G.Z,{children:K("compose.type.".concat(L.type))})}return(0,f.jsx)(k.Z,{title:L.tootip,children:n})}var ie=e(96781),oe=e(73587),O=e(1699),le=e(83403),X=e(8680);function ce(){var L=(0,V.useContext)(ie.Z),U=L.listTableRef,Y=(0,V.useContext)(re.Z),K=Y.lang,n=Y.notice,s=(0,V.useRef)(),m=(0,Q.useAccess)();return(0,f.jsxs)(A._z,{header:{extra:[(0,f.jsx)(O.u,{access:"canSeeComposeListManageCreate",children:(0,f.jsx)(Q.Link,{to:"/compose/create",reloadDocument:location.search.length>0,children:(0,f.jsx)(I.ZP,{type:"primary",children:"\u521B\u5EFA\u4EFB\u52A1"},"createCompose")},"create")},"create")]},children:[(0,f.jsx)(oe.Z,{ref:s,onClose:function(){var r;!((r=U.current)===null||r===void 0)&&r.reloadAndRest&&U.current.reloadAndRest()}}),(0,f.jsx)(ne.Z,{scroll:{x:"max-content"},request:function(){var a=P()(b()().mark(function r(t){var u;return b()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,C.pm)({title:t.title,name:t.name});case 2:return u=i.sent,i.abrupt("return",{data:u.data.list,success:!0,total:u.data.list.length});case 4:case"end":return i.stop()}},r)}));return function(r){return a.apply(this,arguments)}}(),rowKey:"name",columns:[{title:"\u6807\u8BC6",dataIndex:"name",width:200,render:function(r,t,u,l,i){return(0,f.jsx)(W.Z.Link,{onClick:function(){var _;(_=s.current)===null||_===void 0||_.show(t.id||t.name)},children:t.name})},sorter:function(r,t){return r.name.localeCompare(t.name)},sortDirections:["descend","ascend"]},{title:"\u9879\u76EE\u540D\u79F0",dataIndex:"title",width:200},{title:"\u7C7B\u578B",width:150,search:!1,render:function(r,t,u,l,i){var g;return(0,f.jsx)(se,{tootip:(g=t.setting.uri)!==null&&g!==void 0?g:"",type:t.setting&&t.setting.type?t.setting.type:""})}},{title:"\u5BB9\u5668\u72B6\u6001",dataIndex:"status",search:!1,width:300,render:function(r,t,u,l,i){return(0,f.jsx)(Z.Z,{children:t.setting.status.split(", ").map(function(g,_){var S="running",o=g.indexOf("(");return o>-1?S=g.slice(0,o):S=g,(0,f.jsx)(q.Z,{status:S,message:{content:K("compose.status.".concat(S),{count:g.slice(o+1,g.length-1)}),title:t.setting.message,placement:"top",showInTag:!0}},_)})})},sorter:function(r,t){return r.setting.status.localeCompare(t.setting.status)}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"",search:!1,width:150,render:function(r,t,u,l,i){return t.setting.createdAt?new Date(t.setting.createdAt).toLocaleString():"-"},sorter:function(r,t){var u,l;return new Date((u=r.setting.createdAt)!==null&&u!==void 0?u:"").toLocaleString().localeCompare(new Date((l=t.setting.createdAt)!==null&&l!==void 0?l:"").toLocaleString())}},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"",search:!1,width:150,render:function(r,t,u,l,i){return t.setting.updatedAt?new Date(t.setting.updatedAt).toLocaleString():"-"},sorter:function(r,t){var u,l;return new Date((u=r.setting.updatedAt)!==null&&u!==void 0?u:"").toLocaleString().localeCompare(new Date((l=t.setting.updatedAt)!==null&&l!==void 0?l:"").toLocaleString())}},{title:"\u64CD\u4F5C",width:80,valueType:"option",fixed:"right",key:"option",hidden:!m.canSeeComposeListManage,render:function(r,t,u,l,i){return t.setting.type!="dangling"&&(0,f.jsxs)(Z.Z,{split:(0,f.jsx)(h.Z,{type:"vertical"}),children:[(0,f.jsx)(W.Z.Link,{onClick:function(){var _;(_=s.current)===null||_===void 0||_.show(t.id||t.name)},children:(0,f.jsx)(k.Z,{title:"\u90E8\u7F72",children:(0,f.jsx)(j.Z,{})})},"3"),(0,f.jsx)(W.Z.Link,{onClick:P()(b()().mark(function g(){var _,S;return b()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,C.tw)({id:t.id||t.name});case 2:_=d.sent,S=new Blob([_],{type:"application/zip"}),(0,F.saveAs)(S,"compose-"+t.name+".zip");case 5:case"end":return d.stop()}},g)})),children:(0,f.jsx)(k.Z,{title:"\u4E0B\u8F7D",children:(0,f.jsx)(J.Z,{})})},"2")]})}}],rowSelection:m.canSeeComposeListManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0,getCheckboxProps:function(r){return{disabled:r.setting.type=="dangling"||r.setting.type=="outPath"}}}:void 0,tableAlertOptionRender:function(r){var t=r.selectedRows;return(0,f.jsxs)(Z.Z,{size:16,children:[(0,f.jsx)(X.Z,{type:le.W6.COMPOSE,selected:t,onSuccess:function(){var l,i;return!((l=U.current)===null||l===void 0)&&l.reloadAndRest&&((i=U.current)===null||i===void 0||i.reloadAndRest()),!0}}),(0,f.jsx)(O.u,{access:"canSeeComposeListManageDelete",children:(0,f.jsx)($.Z,{danger:!0,type:"primary",action:P()(b()().mark(function u(){var l,i,g,_;return b()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:o.prev=0,i=D()(t),o.prev=2,i.s();case 4:if((g=i.n()).done){o.next=11;break}return _=g.value,o.next=8,(0,C.mg)({id:_.id||_.name});case 8:l=o.sent;case 9:o.next=4;break;case 11:o.next=16;break;case 13:o.prev=13,o.t0=o.catch(2),i.e(o.t0);case 16:return o.prev=16,i.f(),o.finish(16);case 19:o.next=23;break;case 21:o.prev=21,o.t1=o.catch(0);case 23:return o.abrupt("return",(0,C.ik)({id:t.map(function(d){return d.id})}));case 24:case"end":return o.stop()}},u,null,[[0,21],[2,13,16,19]])})),onSuccess:function(){var l,i;return!((l=U.current)===null||l===void 0)&&l.reloadAndRest&&((i=U.current)===null||i===void 0||i.reloadAndRest()),!0},onError:function(){var l,i;return!((l=U.current)===null||l===void 0)&&l.reset&&((i=U.current)===null||i===void 0||i.reset()),!0},confirm:"notification.confirm.title",children:"\u6279\u91CF\u5220\u9664"})})]})},pagination:(0,ae.O)(),search:{collapsed:!1},actionRef:U,columnsState:(0,ae.j)("compose-list")})]})}},67255:function(te,B,e){e.d(B,{O:function(){return c},j:function(){return D}});function c(){var R=localStorage.getItem("dpanel-pagesize");return R=="all"?!1:{showSizeChanger:!0,defaultPageSize:parseInt(R!=null?R:"20")}}function D(R){var b="dpanel-table-column-".concat(R),T={};if(localStorage.getItem(b)){var P;T=JSON.parse((P=localStorage.getItem(b))!==null&&P!==void 0?P:"{}")}return{defaultValue:T,onChange:function(C){localStorage.setItem("dpanel-table-column-".concat(R),JSON.stringify(C))}}}},38925:function(te,B,e){e.d(B,{Z:function(){return K}});var c=e(67294),D=e(89739),R=e(4340),b=e(97937),T=e(21640),P=e(78860),$=e(93967),C=e.n($),j=e(29372),J=e(64217),A=e(42550),ne=e(96159),Q=e(53124),I=e(11568),W=e(14747),Z=e(83559);const h=(n,s,m,a,r)=>({background:n,border:`${(0,I.bf)(a.lineWidth)} ${a.lineType} ${s}`,[`${r}-icon`]:{color:m}}),k=n=>{const{componentCls:s,motionDurationSlow:m,marginXS:a,marginSM:r,fontSize:t,fontSizeLG:u,lineHeight:l,borderRadiusLG:i,motionEaseInOutCirc:g,withDescriptionIconSize:_,colorText:S,colorTextHeading:o,withDescriptionPadding:d,defaultPadding:v}=n;return{[s]:Object.assign(Object.assign({},(0,W.Wf)(n)),{position:"relative",display:"flex",alignItems:"center",padding:v,wordWrap:"break-word",borderRadius:i,[`&${s}-rtl`]:{direction:"rtl"},[`${s}-content`]:{flex:1,minWidth:0},[`${s}-icon`]:{marginInlineEnd:a,lineHeight:0},"&-description":{display:"none",fontSize:t,lineHeight:l},"&-message":{color:o},[`&${s}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${m} ${g}, opacity ${m} ${g},
        padding-top ${m} ${g}, padding-bottom ${m} ${g},
        margin-bottom ${m} ${g}`},[`&${s}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${s}-with-description`]:{alignItems:"flex-start",padding:d,[`${s}-icon`]:{marginInlineEnd:r,fontSize:_,lineHeight:0},[`${s}-message`]:{display:"block",marginBottom:a,color:o,fontSize:u},[`${s}-description`]:{display:"block",color:S}},[`${s}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},V=n=>{const{componentCls:s,colorSuccess:m,colorSuccessBorder:a,colorSuccessBg:r,colorWarning:t,colorWarningBorder:u,colorWarningBg:l,colorError:i,colorErrorBorder:g,colorErrorBg:_,colorInfo:S,colorInfoBorder:o,colorInfoBg:d}=n;return{[s]:{"&-success":h(r,a,m,n,s),"&-info":h(d,o,S,n,s),"&-warning":h(l,u,t,n,s),"&-error":Object.assign(Object.assign({},h(_,g,i,n,s)),{[`${s}-description > pre`]:{margin:0,padding:0}})}}},q=n=>{const{componentCls:s,iconCls:m,motionDurationMid:a,marginXS:r,fontSizeIcon:t,colorIcon:u,colorIconHover:l}=n;return{[s]:{"&-action":{marginInlineStart:r},[`${s}-close-icon`]:{marginInlineStart:r,padding:0,overflow:"hidden",fontSize:t,lineHeight:(0,I.bf)(t),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${m}-close`]:{color:u,transition:`color ${a}`,"&:hover":{color:l}}},"&-close-text":{color:u,transition:`color ${a}`,"&:hover":{color:l}}}}},ae=n=>({withDescriptionIconSize:n.fontSizeHeading3,defaultPadding:`${n.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${n.paddingMD}px ${n.paddingContentHorizontalLG}px`});var F=(0,Z.I$)("Alert",n=>[k(n),V(n),q(n)],ae),re=function(n,s){var m={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&s.indexOf(a)<0&&(m[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(n);r<a.length;r++)s.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(n,a[r])&&(m[a[r]]=n[a[r]]);return m};const G={success:D.Z,info:P.Z,error:R.Z,warning:T.Z},f=n=>{const{icon:s,prefixCls:m,type:a}=n,r=G[a]||null;return s?(0,ne.wm)(s,c.createElement("span",{className:`${m}-icon`},s),()=>({className:C()(`${m}-icon`,s.props.className)})):c.createElement(r,{className:`${m}-icon`})},se=n=>{const{isClosable:s,prefixCls:m,closeIcon:a,handleClose:r,ariaProps:t}=n,u=a===!0||a===void 0?c.createElement(b.Z,null):a;return s?c.createElement("button",Object.assign({type:"button",onClick:r,className:`${m}-close-icon`,tabIndex:0},t),u):null};var oe=c.forwardRef((n,s)=>{const{description:m,prefixCls:a,message:r,banner:t,className:u,rootClassName:l,style:i,onMouseEnter:g,onMouseLeave:_,onClick:S,afterClose:o,showIcon:d,closable:v,closeText:E,closeIcon:y,action:x,id:w}=n,M=re(n,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[z,ue]=c.useState(!1),de=c.useRef(null);c.useImperativeHandle(s,()=>({nativeElement:de.current}));const{getPrefixCls:pe,direction:ge,alert:p}=c.useContext(Q.E_),N=pe("alert",a),[he,_e,Ee]=F(N),Ce=H=>{var ee;ue(!0),(ee=n.onClose)===null||ee===void 0||ee.call(n,H)},me=c.useMemo(()=>n.type!==void 0?n.type:t?"warning":"info",[n.type,t]),Oe=c.useMemo(()=>typeof v=="object"&&v.closeIcon||E?!0:typeof v=="boolean"?v:y!==!1&&y!==null&&y!==void 0?!0:!!(p!=null&&p.closable),[E,y,v,p==null?void 0:p.closable]),ve=t&&d===void 0?!0:d,ye=C()(N,`${N}-${me}`,{[`${N}-with-description`]:!!m,[`${N}-no-icon`]:!ve,[`${N}-banner`]:!!t,[`${N}-rtl`]:ge==="rtl"},p==null?void 0:p.className,u,l,Ee,_e),Pe=(0,J.Z)(M,{aria:!0,data:!0}),je=c.useMemo(()=>{var H,ee;return typeof v=="object"&&v.closeIcon?v.closeIcon:E||(y!==void 0?y:typeof(p==null?void 0:p.closable)=="object"&&(!((H=p==null?void 0:p.closable)===null||H===void 0)&&H.closeIcon)?(ee=p==null?void 0:p.closable)===null||ee===void 0?void 0:ee.closeIcon:p==null?void 0:p.closeIcon)},[y,v,E,p==null?void 0:p.closeIcon]),De=c.useMemo(()=>{const H=v!=null?v:p==null?void 0:p.closable;if(typeof H=="object"){const{closeIcon:ee}=H;return re(H,["closeIcon"])}return{}},[v,p==null?void 0:p.closable]);return he(c.createElement(j.ZP,{visible:!z,motionName:`${N}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:H=>({maxHeight:H.offsetHeight}),onLeaveEnd:o},(H,ee)=>{let{className:fe,style:Ie}=H;return c.createElement("div",Object.assign({id:w,ref:(0,A.sQ)(de,ee),"data-show":!z,className:C()(ye,fe),style:Object.assign(Object.assign(Object.assign({},p==null?void 0:p.style),i),Ie),onMouseEnter:g,onMouseLeave:_,onClick:S,role:"alert"},Pe),ve?c.createElement(f,{description:m,icon:n.icon,prefixCls:N,type:me}):null,c.createElement("div",{className:`${N}-content`},r?c.createElement("div",{className:`${N}-message`},r):null,m?c.createElement("div",{className:`${N}-description`},m):null),x?c.createElement("div",{className:`${N}-action`},x):null,c.createElement(se,{isClosable:Oe,prefixCls:N,closeIcon:je,handleClose:Ce,ariaProps:De}))}))}),O=e(15671),le=e(43144),X=e(53640),ce=e(60136),U=function(n){function s(){var m;return(0,O.Z)(this,s),m=(0,X.Z)(this,s,arguments),m.state={error:void 0,info:{componentStack:""}},m}return(0,ce.Z)(s,n),(0,le.Z)(s,[{key:"componentDidCatch",value:function(a,r){this.setState({error:a,info:r})}},{key:"render",value:function(){const{message:a,description:r,id:t,children:u}=this.props,{error:l,info:i}=this.state,g=(i==null?void 0:i.componentStack)||null,_=typeof a=="undefined"?(l||"").toString():a,S=typeof r=="undefined"?g:r;return l?c.createElement(oe,{id:t,type:"error",message:_,description:c.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},S)}):u}}])}(c.Component);const Y=oe;Y.ErrorBoundary=U;var K=Y},53640:function(te,B,e){e.d(B,{Z:function(){return b}});var c=e(61120),D=e(78814),R=e(82963);function b(T,P,$){return P=(0,c.Z)(P),(0,R.Z)(T,(0,D.Z)()?Reflect.construct(P,$||[],(0,c.Z)(T).constructor):P.apply(T,$))}}}]);
