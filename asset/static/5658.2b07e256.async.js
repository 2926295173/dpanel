!(function(){var oe=Object.defineProperty,le=Object.defineProperties;var _e=Object.getOwnPropertyDescriptors;var q=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable;var ee=(W,O,e)=>O in W?oe(W,O,{enumerable:!0,configurable:!0,writable:!0,value:e}):W[O]=e,te=(W,O)=>{for(var e in O||(O={}))ue.call(O,e)&&ee(W,e,O[e]);if(q)for(var e of q(O))ce.call(O,e)&&ee(W,e,O[e]);return W},ne=(W,O)=>le(W,_e(O));(self.webpackChunk=self.webpackChunk||[]).push([[5658],{57546:function(W,O,e){"use strict";e.d(O,{Z:function(){return j}});var y=e(87462),c=e(67294),b={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM653.3 424.6l52.2 52.2a8.01 8.01 0 01-4.7 13.6l-179.4 21c-5.1.6-9.5-3.7-8.9-8.9l21-179.4c.8-6.6 8.9-9.4 13.6-4.7l52.4 52.4 256.2-256.2c3.1-3.1 8.2-3.1 11.3 0l42.4 42.4c3.1 3.1 3.1 8.2 0 11.3L653.3 424.6z"}}]},name:"import",theme:"outlined"},_=b,f=e(84089),d=function(s,o){return c.createElement(f.Z,(0,y.Z)({},s,{ref:o,icon:_}))},C=c.forwardRef(d),j=C},90672:function(W,O,e){"use strict";var y=e(1413),c=e(45987),b=e(67294),_=e(40284),f=e(85893),d=["fieldProps","proFieldProps"],C=function(n,s){var o=n.fieldProps,r=n.proFieldProps,a=(0,c.Z)(n,d);return(0,f.jsx)(_.Z,(0,y.Z)({ref:s,valueType:"textarea",fieldProps:o,proFieldProps:r},a))};O.Z=b.forwardRef(C)},1699:function(W,O,e){"use strict";e.d(O,{u:function(){return s}});var y=e(9783),c=e.n(y),b=e(97857),_=e.n(b),f=e(67294),d=e(82346),C=e(40411),j=e(42075),n=e(85893),s=function(r){var a=(0,d.useAccess)(),t=Array.isArray(r.access)?r.access:[r.access],i,u=r.fallback;if(typeof r.children=="function"?(i=r.children(t.reduce(function(p,v){return _()(_()({},p),{},c()({},v,a[v]))},{})),i||(i=u)):t.every(function(p){return a[p]})?i=r.children:i=u,!u&&i&&r.showProTips&&a.canSeeEnableCe){if(a.canSeeEnableHiddenProTips)return null;i=(0,n.jsx)(C.Z,{offset:r.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:i})}if(!u&&i&&r.showProRibbonTips&&a.canSeeEnableCe){if(a.canSeeEnableHiddenProTips)return null;i=(0,n.jsx)(C.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:i})}return r.space?(0,n.jsx)(j.Z,_()(_()({},r.space),{},{children:i})):i}},74026:function(W,O,e){"use strict";var y=e(15009),c=e.n(y),b=e(99289),_=e.n(b),f=e(5574),d=e.n(f),C=e(66554),j=e(184),n=e(86615),s=e(97462),o=e(90672),r=e(64317),a=e(5966),t=e(62370),i=e(52688),u=e(83622),p=e(42075),v=e(71230),h=e(15746),E=e(67294),T=e(12491),M=e(75544),A=e(77865),L=e(82346),g=e(3616),I=e(36146),P=e(85893),N=(0,E.forwardRef)(function(S,w){var U=(0,E.useState)(!1),m=d()(U,2),D=m[0],R=m[1],l=(0,E.useRef)(),G=(0,E.useRef)(),z=(0,E.useState)([]),F=d()(z,2),H=F[0],J=F[1],re=(0,L.useModel)("subscriber"),se=(0,E.useState)(),X=d()(se,2),ae=X[0],Q=X[1],K=new I.Uo("components.appDomain");return re.addDataHandler("domain:apply",function(k){var x;(x=G.current)===null||x===void 0||x.write(k.data)}),(0,E.useImperativeHandle)(w,function(){return{edit:function(x){var B,V;Q(x),(B=l.current)===null||B===void 0||B.resetFields(),(V=l.current)===null||V===void 0||V.setFieldsValue({type:x.CA=="import"?"upload":"apply",domain:x.domain,dnsApi:x.dnsApi,sslKeyContent:x.sslKeyContent,sslCrtContent:x.sslCrtContent}),R(!0)}}}),(0,E.useEffect)(function(){(0,C.q2)().then(function(k){J(k.data.setting.map(function(x){return{label:x.title,value:x.serverName}}))})},[]),(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)(j.a,{title:K.format("certTitle"),drawerProps:{forceRender:!0,width:g.R_},trigger:(0,P.jsx)(u.ZP,{type:"primary",children:K.format("certTitle")}),formRef:l,onFinish:function(){var k=_()(c()().mark(function x(B){var V,$,Z,ie;return c()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if((V=G.current)===null||V===void 0||V.clear(),B.type!="upload"){Y.next=7;break}return Y.next=4,(0,C.ui)({type:B.type,sslKeyContent:B.sslKeyContent,sslCrtContent:B.sslCrtContent});case 4:$=Y.sent,Y.next=11;break;case 7:return localStorage.setItem("email",(Z=B.email)!==null&&Z!==void 0?Z:""),Y.next=10,(0,C.Pf)({type:B.type,domain:B.domain,email:B.email,certServer:B.certServer,autoUpgrade:B.autoUpgrade,renew:B.renew,debug:B.debug,dnsApi:B.dnsApi});case 10:ie=Y.sent;case 11:return S.onFinish&&S.onFinish(),Y.abrupt("return",!0);case 13:case"end":return Y.stop()}},x)}));return function(x){return k.apply(this,arguments)}}(),onOpenChange:function(x){var B,V;if(!x){var $;Q(void 0),($=l.current)===null||$===void 0||$.resetFields()}if(S.domain&&S.domain.length>0){var Z;(Z=l.current)===null||Z===void 0||Z.setFieldValue("domain",S.domain)}(B=l.current)===null||B===void 0||B.setFieldsValue({email:(V=localStorage.getItem("email"))!==null&&V!==void 0?V:""}),R(x)},open:D,children:[(0,P.jsx)(n.Z.Group,{label:K.format("certFormType"),name:"type",initialValue:"apply",disabled:!!ae,options:K.option("certFormTypeOption",["upload","apply"])}),(0,P.jsx)(s.Z,{name:["type"],children:function(x){var B=x.type;return B=="upload"?[(0,P.jsx)(o.Z,{fieldProps:{rows:10},label:K.format("certFormSslCrtContent"),name:"sslCrtContent",tooltip:K.format("certFormSslCrtContentTip"),placeholder:"-----BEGIN CERTIFICATE-----",required:!0},"sslCrt"),(0,P.jsx)(T.Z,{title:K.format("certFormImportCrt"),onImport:function($){var Z;return(Z=l.current)===null||Z===void 0||Z.setFieldValue("sslCrtContent",$),!0},onLoad:function($){if($.indexOf("BEGIN CERTIFICATE")<0)throw new Error(I.FD.format("commonFileIncorrectFormat",{name:".crt"}));return!0}},"importCrt"),(0,P.jsx)(o.Z,{fieldProps:{rows:10},label:K.format("certFormSslKeyContent"),name:"sslKeyContent",tooltip:K.format("certFormSslKeyContentTip"),placeholder:"-----BEGIN PRIVATE KEY-----",required:!0},"sslKey"),(0,P.jsx)(T.Z,{title:K.format("certFormImportKey"),onImport:function($){var Z;return(Z=l.current)===null||Z===void 0||Z.setFieldValue("sslKeyContent",$),!0},onLoad:function($){if($.indexOf("PRIVATE KEY")<0)throw new Error(I.FD.format("commonFileIncorrectFormat",{name:".key"}));return!0}},"importKey")]:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r.Z,{mode:"tags",name:"domain",label:K.format("certFormDomain"),placeholder:K.format("certFormDomainEmpty"),required:!0,rules:[{required:!0}]},"domain"),(0,P.jsx)(a.Z,{label:K.format("certFormEmail"),name:"email",required:!0,rules:[{required:!0}]}),(0,P.jsxs)(p.Z.Compact,{children:[(0,P.jsx)(r.Z,{label:K.format("certFormDnsApi"),tooltip:K.format("certFormDnsApiTip"),name:"dnsApi",width:"lg",required:!0,rules:[{required:!0}],options:H}),(0,P.jsx)(t.Z,{label:" ",children:(0,P.jsx)(A.Z,{onFinish:function($){J($.map(function(Z){return{label:Z.title,value:Z.serverName}}))}},"dns")})]}),(0,P.jsx)(r.Z,{label:K.format("certFormCertServer"),name:"certServer",tooltip:K.format("certFormCertServerTip"),initialValue:"letsencrypt",options:[{value:"letsencrypt",label:"Let's Encrypt"},{value:"zerossl",label:"ZeroSSL"}]}),(0,P.jsxs)(v.Z,{gutter:[20,10],children:[(0,P.jsx)(h.Z,{children:(0,P.jsx)(i.Z,{label:K.format("certFormAutoUpgrade"),name:"autoUpgrade",initialValue:!0})}),(0,P.jsx)(h.Z,{children:(0,P.jsx)(i.Z,{tooltip:K.format("certFormRenewTip"),label:K.format("certFormRenew"),name:"renew",initialValue:!1})}),(0,P.jsx)(h.Z,{children:(0,P.jsx)(i.Z,{tooltip:K.format("certFormDebugTip"),label:"Debug",name:"debug",initialValue:!1})}),(0,P.jsx)(h.Z,{})]}),(0,P.jsx)(M.Z,{height:"200px",style:{fontSize:12},ref:G})]})}})]})})});O.Z=N},77865:function(W,O,e){"use strict";var y=e(15009),c=e.n(y),b=e(99289),_=e.n(b),f=e(5574),d=e.n(f),C=e(184),j=e(86615),n=e(97462),s=e(5966),o=e(83622),r=e(67294),a=e(44349),t=e(52255),i=e(66554),u=e(3616),p=e(36146),v=e(85893),h=new p.Uo("components.appDomain"),E=[{value:"dns_cf",label:"CloudFlare",fields:[{name:"CF_Token"}],help:"https://dash.cloudflare.com/profile/api-tokens"},{value:"dns_dp",label:"DNSPod",fields:[{name:"DP_Id"},{name:"DP_Key"}],help:"https://console.dnspod.cn/account/token/token"},{value:"dns_tencent",label:h.format("dnsApiOption.dns_tencent"),fields:[{name:"Tencent_SecretId"},{name:"Tencent_SecretKey"}],help:"https://console.cloud.tencent.com/cam/capi"},{label:h.format("dnsApiOption.dns_ali"),value:"dns_ali",fields:[{name:"Ali_Key"},{name:"Ali_Secret"}],help:"https://ram.console.aliyun.com/users"},{label:h.format("dnsApiOption.dns_huaweicloud"),value:"dns_huaweicloud",fields:[{name:"HUAWEICLOUD_Username"},{name:"HUAWEICLOUD_Password"},{name:"HUAWEICLOUD_DomainName"}],help:"https://support.huaweicloud.com/api-iam/iam_01_0006.html"},{label:"GoDaddy",value:"dns_gd",fields:[{name:"GD_Key"},{name:"GD_Secret"}],help:"https://developer.godaddy.com/keys/"},{label:h.format("dnsApiOption.user"),value:"user",help:"https://github.com/acmesh-official/acme.sh/wiki/dnsapi"}],T=(0,r.forwardRef)(function(M,A){(0,r.useImperativeHandle)(A,function(){return{show:function(){P(!0)}}});var L=(0,r.useState)(!1),g=d()(L,2),I=g[0],P=g[1],N=(0,r.useRef)();return(0,v.jsxs)(C.a,{drawerProps:{width:u.R_},title:h.format("dnsApiTitle"),trigger:(0,v.jsx)(o.ZP,{children:h.format("dnsApiTitle")}),formRef:N,open:I,onFinish:function(){var S=_()(c()().mark(function w(U){var m,D;return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,i.q2)({account:Object.keys((m=U.account)!==null&&m!==void 0?m:{}).map(function(G){var z;return{title:(z=E.find(function(F){return F.value==G}))===null||z===void 0?void 0:z.label,serverName:G,env:Object.keys(U.account[G]).map(function(F){return{name:F,value:U.account[G][F]}})}}),user:U.user});case 2:return D=l.sent,M.onFinish&&M.onFinish(D.data.setting),l.abrupt("return",!0);case 5:case"end":return l.stop()}},w)}));return function(w){return S.apply(this,arguments)}}(),onOpenChange:function(){var S=_()(c()().mark(function w(U){var m,D,R,l;return c()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(P(U),!U){z.next=9;break}return(m=N.current)===null||m===void 0||m.resetFields(),z.next=5,(0,i.q2)();case 5:R=z.sent,l=[],R.data.setting&&R.data.setting.map(function(F){E.find(function(H){return H.value==F.serverName})?F.env&&F.env.map(function(H){var J;(J=N.current)===null||J===void 0||J.setFieldValue(["account",F.serverName,H.name],H.value)}):F.env&&l.push(F)}),(D=N.current)===null||D===void 0||D.setFieldValue("user",l);case 9:case"end":return z.stop()}},w)}));return function(w){return S.apply(this,arguments)}}(),children:[(0,v.jsx)(j.Z.Group,{label:h.format("dnsApiServerNameSelect"),name:"serverNameSelect",radioType:"button",initialValue:"dns_dp",options:E.map(function(S){return{label:S.label,value:S.value}})}),(0,v.jsx)(n.Z,{name:["serverNameSelect"],children:function(w){var U,m=w.serverNameSelect,D=(U=E.find(function(R){return R.value===m}))===null||U===void 0?void 0:U.help;return(0,v.jsxs)("div",{style:{marginBottom:20},children:[h.format("dnsApiServerNameTip"),": ",(0,v.jsx)("a",{href:D,target:"_blank",children:D})]})}}),(0,v.jsx)(n.Z,{name:["serverNameSelect"],children:function(w){var U=w.serverNameSelect;return(0,v.jsxs)(v.Fragment,{children:[E.map(function(m){if(m.fields)return(0,v.jsx)(t.Z,{show:U==m.value,children:m.fields.map(function(D,R){return(0,v.jsx)(s.Z,{label:D.name,name:["account",m.value,D.name]},"".concat(m.value,"-").concat(R,"-").concat(D.name))})},m.value)}),(0,v.jsx)(t.Z,{show:U=="user",children:(0,v.jsx)(a.Z,{gap:20,name:"user",label:h.format("dnsApiUser"),showAddButton:!0,hideCopyButton:!0,items:[{name:"serverName",label:h.format("dnsApiUserServerName")},{name:"env",render:function(D,R,l){return(0,v.jsx)(a.Z,{gap:20,name:"env",label:h.format("dnsApiUserEnv"),showAddButton:!0,hideCopyButton:!0,items:[{name:"name",label:h.format("dnsApiUserEnvName")},{name:"value",label:h.format("dnsApiUserEnvValue")}]},"env")}}]})},"user")]})}})]})});O.Z=T},52255:function(W,O,e){"use strict";e.d(O,{Z:function(){return b}});var y=e(67294),c=e(85893);function b(_){return(0,c.jsx)("div",{style:{display:_.show?"block":"none"},children:_.children})}},80821:function(W,O,e){"use strict";e.d(O,{Z:function(){return a}});var y=e(97857),c=e.n(y),b=e(5574),_=e.n(b),f=e(24963),d=e(36146),C=e(86738),j=e(83062),n=e(96074),s=e(83622),o=e(67294),r=e(85893);function a(t){var i=(0,o.useState)(!1),u=_()(i,2),p=u[0],v=u[1],h=(0,o.useContext)(f.Z),E=h.message,T=new d.Uo,M=function(){v(!0);var L=t.action();L instanceof Promise?L.then(function(g){if(v(!1),g){typeof t.onSuccess=="function"&&t.onSuccess(g);var I="";t.messageSuccess?typeof t.messageSuccess=="function"?I=t.messageSuccess(g):I=t.messageSuccess.indexOf("notification.")==0?T.format(t.messageSuccess):t.messageSuccess:I=T.format("notification.finish"),t.asynced?E.info(I):E.success(I)}}).catch(function(g){v(!1),typeof t.onError=="function"&&t.onError(g)}):v(!1)};return t.confirm?(0,r.jsx)(C.Z,c()(c()({style:{width:500},title:t.confirmTitle?t.confirmTitle:T.format("notification.title.tip"),description:typeof t.confirm=="string"&&t.confirm.indexOf("notification.")==0?T.format(t.confirm):t.confirm,onConfirm:M,okText:"Yes",cancelText:"No",onOpenChange:t.confirmOnOpenChange},t.confirmProps),{},{children:(0,r.jsxs)(j.Z,{title:t.tips,children:[t.showDivider&&(0,r.jsx)(n.Z,{type:"vertical",style:{marginRight:15}}),(0,r.jsx)(s.ZP,{block:t.block,disabled:t.disabled,icon:!t.children&&p?void 0:t.icon,loading:p,danger:t.danger,type:t.type,children:t.children})]})})):(0,r.jsxs)(j.Z,{title:t.tips,children:[t.showDivider&&(0,r.jsx)(n.Z,{type:"vertical",style:{marginRight:15}}),(0,r.jsx)(s.ZP,{block:t.block,style:t.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:t.disabled,icon:!t.children&&p?void 0:t.icon,loading:p,onClick:M,danger:t.danger,type:t.type,children:t.children})]})}},75544:function(W,O,e){"use strict";var y=e(5574),c=e.n(y),b=e(12323),_=e(78267),f=e.n(_),d=e(75458),C=e.n(d),j=e(67294),n=e(4244),s=e.n(n),o=e(24078),r=e(85893),a,t,i,u=(0,j.forwardRef)(function(p,v){var h,E=(0,j.useState)(!0),T=c()(E,2),M=T[0],A=T[1];return(0,j.useEffect)(function(){return a=new n.Terminal(b.X),t=new d.SearchAddon,i=new _.FitAddon,window.addEventListener("resize",function(){p.showInModal||i.fit()}),p.style&&p.style.fontSize&&(a.options.fontSize=p.style.fontSize),a.loadAddon(i),a.loadAddon(t),a.open(document.getElementById(p.id?p.id:"terminal-container")),p.showInModal||i.fit(),function(){a.reset(),A(!0)}},[]),(0,j.useImperativeHandle)(v,function(){return{write:function(g){M&&(i.fit(),A(!1)),a.write(g)},clear:function(){a.clear()},getTerminal:function(){return a},findNext:function(g){t.findNext(g)},findPrev:function(g){t.findPrevious(g)},fit:function(){i.fit()},onData:function(g){return a.onData(g)}}}),(0,r.jsx)("div",{id:p.id?p.id:"terminal-container",style:{width:p.width?p.width:"100%",height:p.height?p.height:"500px",marginTop:(h=p.style)===null||h===void 0?void 0:h.marginTop}})});O.Z=u},44349:function(W,O,e){"use strict";var y=e(97857),c=e.n(y),b=e(15009),_=e.n(b),f=e(99289),d=e.n(f),C=e(74763),j=e(17186),n=e(5966),s=e(86250),o=e(67294),r=e(85893),a=(0,o.forwardRef)(function(t,i){var u=(0,o.useRef)();(0,o.useImperativeHandle)(i,function(){return{addItem:function(v){function h(E,T,M){return v.apply(this,arguments)}return h.toString=function(){return v.toString()},h}(function(v,h,E){var T,M=(T=u.current)===null||T===void 0?void 0:T.getList(),A;if(M==null||M.forEach(function(I,P){I[v]==h[v]&&(A=P)}),!(0,C.k)(A)&&E){var L;(L=u.current)===null||L===void 0||L.remove(A),A=void 0}if(!A){var g;(g=u.current)===null||g===void 0||g.add(h)}}),removeItemByKey:function(h,E){return d()(_()().mark(function T(){var M,A;return _()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return A=(M=u.current)===null||M===void 0?void 0:M.getList(),A==null||A.forEach(function(I,P){if(I[h]==E){var N;(N=u.current)===null||N===void 0||N.remove(P);return}}),g.abrupt("return");case 3:case"end":return g.stop()}},T)}))()},clear:function(h){if(!h){var E;h=(E=u.current)===null||E===void 0||(E=E.getList())===null||E===void 0?void 0:E.map(function(M,A){return A})}if(h){var T;(T=u.current)===null||T===void 0||T.remove(h)}},getList:function(){var h;return(h=u.current)===null||h===void 0?void 0:h.getList()}}});var p={};return t.hideCopyButton===!0&&(p.copyIconProps=!1),t.hideDeleteButton===!0&&(p.deleteIconProps=!1),(0,r.jsx)(j.u,c()(c()({initialValue:t.initialValue,label:t.label,name:t.name,actionRef:u,creatorButtonProps:t.showAddButton?{creatorButtonText:t.label?t.label:t.name}:!1,min:t.min?t.min:0},p),{},{children:function(h,E,T){return(0,r.jsx)(s.Z,{justify:t.justify,gap:t.gap,children:t.items.map(function(M){return M.render?(0,r.jsx)("div",{children:M.render&&M.render(h,E,T)},"".concat(t.name,"-").concat(M.name,"-").concat(h.key)):(0,r.jsx)(n.Z,{width:M.width,name:M.name,label:M.label,required:M.required,rules:[{required:M.required}],disabled:M.disabled,placeholder:M.placeholder},"".concat(t.name,"-").concat(M.name,"-").concat(h.key))})})}}))});O.Z=a},12491:function(W,O,e){"use strict";e.d(O,{Z:function(){return i}});var y=e(5574),c=e.n(y),b=e(3616),_=e(24963),f=e(36146),d=e(88484),C=e(57546),j=e(62370),n=e(11106),s=e(42075),o=e(83622),r=e(85576),a=e(67294),t=e(85893);function i(u){var p=(0,a.useContext)(_.Z),v=p.message,h=p.notice,E=(0,a.useRef)(null),T=(0,a.useState)(!1),M=c()(T,2),A=M[0],L=M[1],g=(0,a.useState)(""),I=c()(g,2),P=I[0],N=I[1],S=function(){E.current&&(E.current.click(),E.current.onchange=function(U){if(!U||!U.target)return"";var m=new FileReader;m.onload=function(l){var G,z,F=(G=l.target)===null||G===void 0?void 0:G.result;if(u.onLoad)try{u.onLoad&&u.onLoad(F)}catch(H){h.error(H);return}N(F),typeof u.onImport=="function"&&(v.success(f.FD.format("finish")),u.onImport(F)),(z=E.current)!==null&&z!==void 0&&z.value&&(E.current.value="")};var D=U.target;if(D.files&&D.files[0]){var R=D.files[0];try{m.readAsText(R)}catch(l){h.error(f.FD.format("commonContentIncorrectFormat",{name:D.files[0].name}))}}})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.Z,{children:(0,t.jsxs)(s.Z.Compact,{block:!0,children:[(0,t.jsx)(o.ZP,{icon:(0,t.jsx)(d.Z,{}),block:!0,onClick:S,children:u.title}),u.showPaset&&(0,t.jsx)(o.ZP,{icon:(0,t.jsx)(C.Z,{}),onClick:function(){L(!0)}})]})}),(0,t.jsx)("input",{style:{display:"none"},type:"file",ref:E,name:"importFileInput"}),(0,t.jsx)(r.Z,{width:b.ob,open:A,onClose:function(){L(!1)},onCancel:function(){L(!1)},onOk:function(){typeof u.onImport=="function"&&(v.success(f.FD.format("finish")),u.onImport(P)),L(!1)},children:(0,t.jsx)(n.ZP,{height:b.Ed,theme:"dark",value:P,onChange:function(U){N(U)}})})]})}},3616:function(W,O,e){"use strict";e.d(O,{Ed:function(){return _},FK:function(){return c},R_:function(){return y},ob:function(){return b}});var y=window.innerWidth<=1024?"90vw":"65vw",c="90vw",b="60vw",_="50vh"},12323:function(W,O,e){"use strict";e.d(O,{X:function(){return y},n:function(){return c}});var y={convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,lineHeight:1,cursorStyle:"block",cursorInactiveStyle:"outline",cursorBlink:!0,letterSpacing:0,theme:{foreground:"#bfbfbf",cursor:"gray",selectionForeground:"#ffffff"}},c=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"]},24963:function(W,O,e){"use strict";var y=e(67294),c=(0,y.createContext)({});O.Z=c},66554:function(W,O,e){"use strict";e.d(O,{Fj:function(){return j},KK:function(){return N},Pf:function(){return u},Ss:function(){return M},dZ:function(){return I},dj:function(){return r},hZ:function(){return E},i7:function(){return d},lQ:function(){return t},ll:function(){return w},q2:function(){return L},ui:function(){return v}});var y=e(15009),c=e.n(y),b=e(99289),_=e.n(b),f=e(82346);function d(m){return C.apply(this,arguments)}function C(){return C=_()(c()().mark(function m(D){return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-domain/get-list",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),C.apply(this,arguments)}function j(m){return n.apply(this,arguments)}function n(){return n=_()(c()().mark(function m(D){return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-domain/create",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),n.apply(this,arguments)}function s(m){return o.apply(this,arguments)}function o(){return o=_asyncToGenerator(_regeneratorRuntime().mark(function m(D){return _regeneratorRuntime().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",request("/api/app/site-domain/update",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),o.apply(this,arguments)}function r(m){return a.apply(this,arguments)}function a(){return a=_()(c()().mark(function m(D){return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-domain/delete",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),a.apply(this,arguments)}function t(m){return i.apply(this,arguments)}function i(){return i=_()(c()().mark(function m(D){return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-domain/get-detail",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),i.apply(this,arguments)}function u(m){return p.apply(this,arguments)}function p(){return p=_()(c()().mark(function m(D){return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-cert/apply",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),p.apply(this,arguments)}function v(m){return h.apply(this,arguments)}function h(){return h=_()(c()().mark(function m(D){return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-cert/import",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),h.apply(this,arguments)}function E(){return T.apply(this,arguments)}function T(){return T=_()(c()().mark(function m(){return c()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",(0,f.request)("/api/app/site-domain/restart-nginx",{method:"POST"}));case 1:case"end":return R.stop()}},m)})),T.apply(this,arguments)}function M(m){return A.apply(this,arguments)}function A(){return A=_()(c()().mark(function m(D){return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-domain/update-vhost",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),A.apply(this,arguments)}function L(m){return g.apply(this,arguments)}function g(){return g=_()(c()().mark(function m(D){return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-cert/dns-api",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),g.apply(this,arguments)}function I(m){return P.apply(this,arguments)}function P(){return P=_()(c()().mark(function m(D){return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-cert/get-list",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),P.apply(this,arguments)}function N(m){return S.apply(this,arguments)}function S(){return S=_()(c()().mark(function m(D){return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-cert/delete",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),S.apply(this,arguments)}function w(m){return U.apply(this,arguments)}function U(){return U=_()(c()().mark(function m(D){return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-cert/download",{method:"POST",data:D,responseType:"blob"}));case 1:case"end":return l.stop()}},m)})),U.apply(this,arguments)}},67255:function(W,O,e){"use strict";e.d(O,{O:function(){return y},j:function(){return c}});function y(b){var _=localStorage.getItem("dpanel-pagesize");return _=="all"?!1:{defaultCurrent:b==null?void 0:b.page,showSizeChanger:!0,defaultPageSize:parseInt(_!=null?_:"20"),onChange:function(d,C){localStorage.setItem("dpanel-page-"+location.pathname.split("/").slice(-2).join("-"),"".concat(d))}}}function c(b){var _="dpanel-table-column-".concat(b),f={};if(localStorage.getItem(_)){var d;f=JSON.parse((d=localStorage.getItem(_))!==null&&d!==void 0?d:"{}")}return{defaultValue:f,onChange:function(j){localStorage.setItem("dpanel-table-column-".concat(b),JSON.stringify(j))}}}},75458:function(W){(function(O,e){W.exports=e()})(self,()=>(()=>{"use strict";var O={345:(b,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.runAndSubscribe=_.forwardEvent=_.EventEmitter=void 0,_.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=f=>(this._listeners.push(f),{dispose:()=>{if(!this._disposed){for(let d=0;d<this._listeners.length;d++)if(this._listeners[d]===f)return void this._listeners.splice(d,1)}}})),this._event}fire(f,d){const C=[];for(let j=0;j<this._listeners.length;j++)C.push(this._listeners[j]);for(let j=0;j<C.length;j++)C[j].call(void 0,f,d)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},_.forwardEvent=function(f,d){return f(C=>d.fire(C))},_.runAndSubscribe=function(f,d){return d(void 0),f(C=>d(C))}},859:(b,_)=>{function f(d){for(const C of d)C.dispose();d.length=0}Object.defineProperty(_,"__esModule",{value:!0}),_.getDisposeArrayDisposable=_.disposeArray=_.toDisposable=_.MutableDisposable=_.Disposable=void 0,_.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const d of this._disposables)d.dispose();this._disposables.length=0}register(d){return this._disposables.push(d),d}unregister(d){const C=this._disposables.indexOf(d);C!==-1&&this._disposables.splice(C,1)}},_.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(d){var C;this._isDisposed||d===this._value||((C=this._value)==null||C.dispose(),this._value=d)}clear(){this.value=void 0}dispose(){var d;this._isDisposed=!0,(d=this._value)==null||d.dispose(),this._value=void 0}},_.toDisposable=function(d){return{dispose:d}},_.disposeArray=f,_.getDisposeArrayDisposable=function(d){return{dispose:()=>f(d)}}}},e={};function y(b){var _=e[b];if(_!==void 0)return _.exports;var f=e[b]={exports:{}};return O[b](f,f.exports,y),f.exports}var c={};return(()=>{var b=c;Object.defineProperty(b,"__esModule",{value:!0}),b.SearchAddon=void 0;const _=y(345),f=y(859),d=" ~!@#$%^&*()+`-=[]{}|\\;:\"',./<>?";class C extends f.Disposable{constructor(n){var s;super(),this._highlightedLines=new Set,this._highlightDecorations=[],this._selectedDecoration=this.register(new f.MutableDisposable),this._linesCacheTimeoutId=0,this._linesCacheDisposables=new f.MutableDisposable,this._onDidChangeResults=this.register(new _.EventEmitter),this.onDidChangeResults=this._onDidChangeResults.event,this._highlightLimit=(s=n==null?void 0:n.highlightLimit)!=null?s:1e3}activate(n){this._terminal=n,this.register(this._terminal.onWriteParsed(()=>this._updateMatches())),this.register(this._terminal.onResize(()=>this._updateMatches())),this.register((0,f.toDisposable)(()=>this.clearDecorations()))}_updateMatches(){var n;this._highlightTimeout&&window.clearTimeout(this._highlightTimeout),this._cachedSearchTerm&&((n=this._lastSearchOptions)!=null&&n.decorations)&&(this._highlightTimeout=setTimeout(()=>{const s=this._cachedSearchTerm;this._cachedSearchTerm=void 0,this.findPrevious(s,ne(te({},this._lastSearchOptions),{incremental:!0,noScroll:!0}))},200))}clearDecorations(n){this._selectedDecoration.clear(),(0,f.disposeArray)(this._highlightDecorations),this._highlightDecorations=[],this._highlightedLines.clear(),n||(this._cachedSearchTerm=void 0)}clearActiveDecoration(){this._selectedDecoration.clear()}findNext(n,s){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const o=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,s);this._lastSearchOptions=s,s!=null&&s.decorations&&(this._cachedSearchTerm===void 0||n!==this._cachedSearchTerm||o)&&this._highlightAllMatches(n,s);const r=this._findNextAndSelect(n,s);return this._fireResults(s),this._cachedSearchTerm=n,r}_highlightAllMatches(n,s){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!n||n.length===0)return void this.clearDecorations();s=s||{},this.clearDecorations(!0);const o=[];let r,a=this._find(n,0,0,s);for(;a&&((r==null?void 0:r.row)!==a.row||(r==null?void 0:r.col)!==a.col)&&!(o.length>=this._highlightLimit);)r=a,o.push(r),a=this._find(n,r.col+r.term.length>=this._terminal.cols?r.row+1:r.row,r.col+r.term.length>=this._terminal.cols?0:r.col+1,s);for(const t of o){const i=this._createResultDecoration(t,s.decorations);i&&(this._highlightedLines.add(i.marker.line),this._highlightDecorations.push({decoration:i,match:t,dispose(){i.dispose()}}))}}_find(n,s,o,r){var i;if(!this._terminal||!n||n.length===0)return(i=this._terminal)==null||i.clearSelection(),void this.clearDecorations();if(o>this._terminal.cols)throw new Error(`Invalid col: ${o} to search in terminal of ${this._terminal.cols} cols`);let a;this._initLinesCache();const t={startRow:s,startCol:o};if(a=this._findInLine(n,t,r),!a)for(let u=s+1;u<this._terminal.buffer.active.baseY+this._terminal.rows&&(t.startRow=u,t.startCol=0,a=this._findInLine(n,t,r),!a);u++);return a}_findNextAndSelect(n,s){var u;if(!this._terminal||!n||n.length===0)return(u=this._terminal)==null||u.clearSelection(),this.clearDecorations(),!1;const o=this._terminal.getSelectionPosition();this._terminal.clearSelection();let r=0,a=0;o&&(this._cachedSearchTerm===n?(r=o.end.x,a=o.end.y):(r=o.start.x,a=o.start.y)),this._initLinesCache();const t={startRow:a,startCol:r};let i=this._findInLine(n,t,s);if(!i)for(let p=a+1;p<this._terminal.buffer.active.baseY+this._terminal.rows&&(t.startRow=p,t.startCol=0,i=this._findInLine(n,t,s),!i);p++);if(!i&&a!==0)for(let p=0;p<a&&(t.startRow=p,t.startCol=0,i=this._findInLine(n,t,s),!i);p++);return!i&&o&&(t.startRow=o.start.y,t.startCol=0,i=this._findInLine(n,t,s)),this._selectResult(i,s==null?void 0:s.decorations,s==null?void 0:s.noScroll)}findPrevious(n,s){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const o=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,s);this._lastSearchOptions=s,s!=null&&s.decorations&&(this._cachedSearchTerm===void 0||n!==this._cachedSearchTerm||o)&&this._highlightAllMatches(n,s);const r=this._findPreviousAndSelect(n,s);return this._fireResults(s),this._cachedSearchTerm=n,r}_didOptionsChange(n,s){return!!s&&(n.caseSensitive!==s.caseSensitive||n.regex!==s.regex||n.wholeWord!==s.wholeWord)}_fireResults(n){if(n!=null&&n.decorations){let s=-1;if(this._selectedDecoration.value){const o=this._selectedDecoration.value.match;for(let r=0;r<this._highlightDecorations.length;r++){const a=this._highlightDecorations[r].match;if(a.row===o.row&&a.col===o.col&&a.size===o.size){s=r;break}}}this._onDidChangeResults.fire({resultIndex:s,resultCount:this._highlightDecorations.length})}}_findPreviousAndSelect(n,s){var p;if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!this._terminal||!n||n.length===0)return(p=this._terminal)==null||p.clearSelection(),this.clearDecorations(),!1;const o=this._terminal.getSelectionPosition();this._terminal.clearSelection();let r=this._terminal.buffer.active.baseY+this._terminal.rows-1,a=this._terminal.cols;const t=!0;this._initLinesCache();const i={startRow:r,startCol:a};let u;if(o&&(i.startRow=r=o.start.y,i.startCol=a=o.start.x,this._cachedSearchTerm!==n&&(u=this._findInLine(n,i,s,!1),u||(i.startRow=r=o.end.y,i.startCol=a=o.end.x))),u||(u=this._findInLine(n,i,s,t)),!u){i.startCol=Math.max(i.startCol,this._terminal.cols);for(let v=r-1;v>=0&&(i.startRow=v,u=this._findInLine(n,i,s,t),!u);v--);}if(!u&&r!==this._terminal.buffer.active.baseY+this._terminal.rows-1)for(let v=this._terminal.buffer.active.baseY+this._terminal.rows-1;v>=r&&(i.startRow=v,u=this._findInLine(n,i,s,t),!u);v--);return this._selectResult(u,s==null?void 0:s.decorations,s==null?void 0:s.noScroll)}_initLinesCache(){const n=this._terminal;this._linesCache||(this._linesCache=new Array(n.buffer.active.length),this._linesCacheDisposables.value=(0,f.getDisposeArrayDisposable)([n.onLineFeed(()=>this._destroyLinesCache()),n.onCursorMove(()=>this._destroyLinesCache()),n.onResize(()=>this._destroyLinesCache())])),window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=window.setTimeout(()=>this._destroyLinesCache(),15e3)}_destroyLinesCache(){this._linesCache=void 0,this._linesCacheDisposables.clear(),this._linesCacheTimeoutId&&(window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=0)}_isWholeWord(n,s,o){return(n===0||d.includes(s[n-1]))&&(n+o.length===s.length||d.includes(s[n+o.length]))}_findInLine(n,s,o={},r=!1){var L;const a=this._terminal,t=s.startRow,i=s.startCol,u=a.buffer.active.getLine(t);if(u!=null&&u.isWrapped)return r?void(s.startCol+=a.cols):(s.startRow--,s.startCol+=a.cols,this._findInLine(n,s,o));let p=(L=this._linesCache)==null?void 0:L[t];p||(p=this._translateBufferLineToStringWithWrap(t,!0),this._linesCache&&(this._linesCache[t]=p));const[v,h]=p,E=this._bufferColsToStringOffset(t,i),T=o.caseSensitive?n:n.toLowerCase(),M=o.caseSensitive?v:v.toLowerCase();let A=-1;if(o.regex){const g=RegExp(T,"g");let I;if(r)for(;I=g.exec(M.slice(0,E));)A=g.lastIndex-I[0].length,n=I[0],g.lastIndex-=n.length-1;else I=g.exec(M.slice(E)),I&&I[0].length>0&&(A=E+(g.lastIndex-I[0].length),n=I[0])}else r?E-T.length>=0&&(A=M.lastIndexOf(T,E-T.length)):A=M.indexOf(T,E);if(A>=0){if(o.wholeWord&&!this._isWholeWord(A,M,n))return;let g=0;for(;g<h.length-1&&A>=h[g+1];)g++;let I=g;for(;I<h.length-1&&A+n.length>=h[I+1];)I++;const P=A-h[g],N=A+n.length-h[I],S=this._stringLengthToBufferSize(t+g,P);return{term:n,col:S,row:t+g,size:this._stringLengthToBufferSize(t+I,N)-S+a.cols*(I-g)}}}_stringLengthToBufferSize(n,s){const o=this._terminal.buffer.active.getLine(n);if(!o)return 0;for(let r=0;r<s;r++){const a=o.getCell(r);if(!a)break;const t=a.getChars();t.length>1&&(s-=t.length-1);const i=o.getCell(r+1);i&&i.getWidth()===0&&s++}return s}_bufferColsToStringOffset(n,s){const o=this._terminal;let r=n,a=0,t=o.buffer.active.getLine(r);for(;s>0&&t;){for(let i=0;i<s&&i<o.cols;i++){const u=t.getCell(i);if(!u)break;u.getWidth()&&(a+=u.getCode()===0?1:u.getChars().length)}if(r++,t=o.buffer.active.getLine(r),t&&!t.isWrapped)break;s-=o.cols}return a}_translateBufferLineToStringWithWrap(n,s){var i;const o=this._terminal,r=[],a=[0];let t=o.buffer.active.getLine(n);for(;t;){const u=o.buffer.active.getLine(n+1),p=!!u&&u.isWrapped;let v=t.translateToString(!p&&s);if(p&&u){const h=t.getCell(t.length-1);h&&h.getCode()===0&&h.getWidth()===1&&((i=u.getCell(0))==null?void 0:i.getWidth())===2&&(v=v.slice(0,-1))}if(r.push(v),!p)break;a.push(a[a.length-1]+v.length),n++,t=u}return[r.join(""),a]}_selectResult(n,s,o){const r=this._terminal;if(this._selectedDecoration.clear(),!n)return r.clearSelection(),!1;if(r.select(n.col,n.row,n.size),s){const a=r.registerMarker(-r.buffer.active.baseY-r.buffer.active.cursorY+n.row);if(a){const t=r.registerDecoration({marker:a,x:n.col,width:n.size,backgroundColor:s.activeMatchBackground,layer:"top",overviewRulerOptions:{color:s.activeMatchColorOverviewRuler}});if(t){const i=[];i.push(a),i.push(t.onRender(u=>this._applyStyles(u,s.activeMatchBorder,!0))),i.push(t.onDispose(()=>(0,f.disposeArray)(i))),this._selectedDecoration.value={decoration:t,match:n,dispose(){t.dispose()}}}}}if(!o&&(n.row>=r.buffer.active.viewportY+r.rows||n.row<r.buffer.active.viewportY)){let a=n.row-r.buffer.active.viewportY;a-=Math.floor(r.rows/2),r.scrollLines(a)}return!0}_applyStyles(n,s,o){n.classList.contains("xterm-find-result-decoration")||(n.classList.add("xterm-find-result-decoration"),s&&(n.style.outline=`1px solid ${s}`)),o&&n.classList.add("xterm-find-active-result-decoration")}_createResultDecoration(n,s){const o=this._terminal,r=o.registerMarker(-o.buffer.active.baseY-o.buffer.active.cursorY+n.row);if(!r)return;const a=o.registerDecoration({marker:r,x:n.col,width:n.size,backgroundColor:s.matchBackground,overviewRulerOptions:this._highlightedLines.has(r.line)?void 0:{color:s.matchOverviewRuler,position:"center"}});if(a){const t=[];t.push(r),t.push(a.onRender(i=>this._applyStyles(i,s.matchBorder,!1))),t.push(a.onDispose(()=>(0,f.disposeArray)(t)))}return a}}b.SearchAddon=C})(),c})())}}]);
}());