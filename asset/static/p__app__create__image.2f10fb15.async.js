"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3985],{85060:function(me,k,n){n.d(k,{Z:function(){return f}});var I=n(87462),s=n(67294),$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"},F=$,P=n(84089),g=function(S,i){return s.createElement(P.Z,(0,I.Z)({},S,{ref:i,icon:F}))},x=s.forwardRef(g),f=x},2741:function(me,k,n){n.d(k,{Z:function(){return f}});var I=n(87462),s=n(67294),$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z"}}]},name:"file",theme:"filled"},F=$,P=n(84089),g=function(S,i){return s.createElement(P.Z,(0,I.Z)({},S,{ref:i,icon:F}))},x=s.forwardRef(g),f=x},93613:function(me,k,n){n.d(k,{Z:function(){return f}});var I=n(87462),s=n(67294),$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32z"}}]},name:"folder",theme:"filled"},F=$,P=n(84089),g=function(S,i){return s.createElement(P.Z,(0,I.Z)({},S,{ref:i,icon:F}))},x=s.forwardRef(g),f=x},27254:function(me,k,n){n.d(k,{Z:function(){return f}});var I=n(87462),s=n(67294),$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zm-180 0H238c-13 0-24.8 7.9-29.7 20L136 643.2V256h188.5l119.6 114.4H748V444z"}}]},name:"folder-open",theme:"filled"},F=$,P=n(84089),g=function(S,i){return s.createElement(P.Z,(0,I.Z)({},S,{ref:i,icon:F}))},x=s.forwardRef(g),f=x},63434:function(me,k,n){var I=n(1413),s=n(45987),$=n(22270),F=n(84567),P=n(67294),g=n(90789),x=n(35510),f=n(85893),T=["options","fieldProps","proFieldProps","valueEnum"],S=P.forwardRef(function(Z,te){var r=Z.options,a=Z.fieldProps,q=Z.proFieldProps,oe=Z.valueEnum,j=(0,s.Z)(Z,T);return(0,f.jsx)(x.Z,(0,I.Z)({ref:te,valueType:"checkbox",valueEnum:(0,$.h)(oe,void 0),fieldProps:(0,I.Z)({options:r},a),lightProps:(0,I.Z)({labelFormatter:function(){return(0,f.jsx)(x.Z,(0,I.Z)({ref:te,valueType:"checkbox",mode:"read",valueEnum:(0,$.h)(oe,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,I.Z)({options:r},a),proFieldProps:q},j))}},j.lightProps),proFieldProps:q},j))}),i=P.forwardRef(function(Z,te){var r=Z.fieldProps,a=Z.children;return(0,f.jsx)(F.Z,(0,I.Z)((0,I.Z)({ref:te},r),{},{children:a}))}),U=(0,g.G)(i,{valuePropName:"checked"}),N=U;N.Group=S,k.Z=N},91058:function(me,k,n){var I=n(19632),s=n.n(I),$=n(97857),F=n.n($),P=n(5574),g=n.n(P),x=n(89035),f=n(64317),T=n(5966),S=n(38345),i=n(17186),U=n(24739),N=n(42075),Z=n(28036),te=n(85576),r=n(67294),a=n(95089),q=n(12491),oe=n(62597),j=n(79245),b=n(85893),w="docker-image",ue=(0,r.forwardRef)(function(O,ce){var le=(0,r.useState)(w),R=g()(le,2),pe=R[0],Fe=R[1],ee=(0,r.useRef)(),Ze=(0,r.useState)(""),he=g()(Ze,2),Me=he[0],Te=he[1],we=function(){pe!="code"?Fe("code"):Fe(w)};(0,r.useImperativeHandle)(ce,function(){return{addEnvItem:function(W,ae){var Q,ne=(Q=ee.current)===null||Q===void 0?void 0:Q.getList(),Ee=!1;if(ne==null||ne.map(function(ge){if(ge.name==W){Ee=!0;return}}),!Ee){var ve;(ve=ee.current)===null||ve===void 0||ve.add({name:W,value:ae})}},clear:function(){var W;(W=ee.current)===null||W===void 0||(W=W.getList())===null||W===void 0||W.map(function(ae,Q){var ne;(ne=ee.current)===null||ne===void 0||ne.remove(Q)})}}});function Oe(L){try{var W,ae;L==""&&(L=e());for(var Q=(W=(ae=ee.current)===null||ae===void 0||(ae=ae.getList())===null||ae===void 0?void 0:ae.length)!==null&&W!==void 0?W:0,ne=Q;ne>=0;ne--){var Ee;(Ee=ee.current)===null||Ee===void 0||Ee.remove(ne)}var ve=L.split(`
`),ge=0;ve.map(function(xe){var je,be=xe.split("=");be.length<2||((je=ee.current)===null||je===void 0||je.add({name:be[0],value:be.slice(1).join("=")},ge),ge++)})}catch(xe){console.log(xe)}}function e(){if(ee&&ee.current&&ee.current.getList){var L,W=(L=ee.current)===null||L===void 0?void 0:L.getList();if(W){var ae=[];return W.map(function(Q){ae.push("".concat(Q.name,"=").concat(Q.value))}),ae.join(`
`)}else return""}else return""}function ye(L){var W,ae,Q,ne,Ee={},ve={help:L&&L.label?L.label:"",name:"value",label:"\u53D8\u91CF\u503C",rules:[{required:O.requireValue?!0:(0,j.y)((W=L.rule)===null||W===void 0?void 0:W.kind,oe.fp.EnvValueRuleRequired)}],disabled:O.showDisableValue||(0,j.y)((ae=L.rule)===null||ae===void 0?void 0:ae.kind,oe.fp.EnvValueRuleDisabled)};if((0,j.y)((Q=L.rule)===null||Q===void 0?void 0:Q.kind,oe.fp.EnvValueTypeSelect)){var ge;return(0,b.jsx)(f.Z,F()(F()({fieldProps:Ee},ve),{},{width:O.showInDrawer?"sm":"md",options:((ge=L.rule)===null||ge===void 0?void 0:ge.option)&&L.rule.option.map(function(xe){return{label:xe.name,value:xe.value}}),initialValue:L.value}))}else return(0,j.y)((ne=L.rule)===null||ne===void 0?void 0:ne.kind,oe.fp.EnvValueTypeNumber)?(0,b.jsx)(T.Z,F()(F()({fieldProps:Ee},ve),{},{width:O.showInDrawer?"sm":"md",rules:[].concat(s()(ve.rules),[{pattern:new RegExp("^[0-9]*$")}]),help:ve.help+",\u6570\u503C\u7C7B\u578B"})):(0,b.jsx)(T.Z,F()(F()({fieldProps:Ee},ve),{},{width:O.showInDrawer?"sm":"md"}))}return(0,b.jsxs)(S.Z,{ghost:O.showCardGhost,title:O.label?O.label:null,headerBordered:!0,extra:(O.showCodeMode||O.showImportButton)&&(0,b.jsxs)(N.Z,{children:[O.showImportButton&&(0,b.jsx)("div",{style:{marginBottom:"-25px"},children:(0,b.jsx)(q.Z,{title:"\u5BFC\u5165 env \u6587\u4EF6",onImport:function(W){return Oe(W),!0},onLoad:function(W){if(W.indexOf("=")<0)throw new Error("\u5BFC\u5165env\u6587\u4EF6\u9519\u8BEF");return!0}})}),O.showCodeMode?(0,b.jsx)(Z.ZP,{icon:(0,b.jsx)(x.Z,{}),type:pe=="code"?"primary":"default",onClick:we,children:"\u4EE3\u7801\u6A21\u5F0F"},"code"):""]}),children:[(0,b.jsx)(i.u,{name:O.name?O.name:"environment",actionRef:ee,creatorButtonProps:O.showAddButton?{creatorButtonText:"\u6DFB\u52A0\u5BB9\u5668\u73AF\u5883\u53D8\u91CF"}:!1,copyIconProps:!1,deleteIconProps:O.showDeleteButton,min:100,label:O.listLabel,children:function(W,ae,Q){var ne=Q.getCurrentRowData();return(0,b.jsxs)(U.UW,{style:{marginBottom:"5px"},children:[(0,b.jsx)(T.Z,{width:O.showInDrawer?"sm":"md",name:"name",label:"\u53D8\u91CF\u540D",required:!0,rules:[{required:!0}],disabled:O.showDisableName,placeholder:"\u8F93\u5165\u53D8\u91CF\u540D\u79F0"}),ye(ne)]})}}),O.showCodeMode&&(0,b.jsx)(te.Z,{width:"800px",open:pe=="code",onCancel:function(){return Fe("docker-image")},onOk:function(){Oe(Me),Fe("docker-image")},children:(0,b.jsx)(a.ZP,{onChange:function(W){return Te(W)},value:e(),height:"680px",theme:"light"})})]})});k.Z=ue},92067:function(me,k,n){n.d(k,{Z:function(){return N}});var I=n(15009),s=n.n(I),$=n(99289),F=n.n($),P=n(60335),g=n(64789),x=n(78099),f=n(42075),T=n(28036),S=n(37413),i=n(5251),U=n(85893);function N(Z){return(0,U.jsx)(x.Z,{columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"name",render:function(r,a,q,oe){return(0,U.jsx)(f.Z,{direction:"vertical",style:{textAlign:"left"},children:a==null?void 0:a.Names.map(function(j){return(0,i.fi)(j,"/")})},a.Id)}},{title:"\u7AEF\u53E3",dataIndex:"ports",search:!1,render:function(r,a,q,oe){var j=[],b=[];return a!=null&&a.Ports&&a.Ports.map(function(w,ue){w.PublicPort?j.push(w):b.push(w)}),(0,U.jsx)(S.Z,{publicPort:j,privatePort:b,domain:[]})}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",ellipsis:!0,width:100,render:function(r,a,q,oe){return[(0,U.jsx)(T.ZP,{type:"link",onClick:F()(s()().mark(function j(){var b;return s()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,(0,P.jV)({md5:a.Id});case 2:b=ue.sent,Z.onSelect&&Z.onSelect(b.data.info);case 4:case"end":return ue.stop()}},j)})),children:(0,U.jsx)(g.Z,{})},a.Id)]}}],rowKey:"Id",request:function(){var te=F()(s()().mark(function r(a,q,oe){var j;return s()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,P.IE)({siteTitle:a.name});case 2:return j=w.sent,w.abrupt("return",{data:j.data.list,success:!0,total:j.data.list.length});case 4:case"end":return w.stop()}},r)}));return function(r,a,q){return te.apply(this,arguments)}}(),pagination:{pageSize:9}})}},52255:function(me,k,n){n.d(k,{Z:function(){return $}});var I=n(67294),s=n(85893);function $(F){return(0,s.jsx)("div",{style:{display:F.show?"block":"none"},children:F.children})}},12491:function(me,k,n){n.d(k,{Z:function(){return f}});var I=n(24963),s=n(88484),$=n(62370),F=n(31418),P=n(28036),g=n(67294),x=n(85893);function f(T){var S=(0,g.useContext)(I.Z),i=S.message,U=S.notice,N=S.lang,Z=(0,g.useRef)(null),te=F.Z.useApp(),r=function(){Z.current&&(Z.current.click(),Z.current.onchange=function(q){if(!q||!q.target)return"";var oe=new FileReader;oe.onload=function(b){var w,ue,O=(w=b.target)===null||w===void 0?void 0:w.result;if(T.onLoad)try{T.onLoad&&T.onLoad(O)}catch(ce){U.error(ce);return}typeof T.onImport=="function"&&(i.success("\u6210\u529F\u5BFC\u5165 ".concat(T.title)),T.onImport(O)),(ue=Z.current)!==null&&ue!==void 0&&ue.value&&(Z.current.value="")};var j=q.target;if(j.files)try{oe.readAsText(j.files[0])}catch(b){U.error("\u5BFC\u5165\u6587\u4EF6\u5FC5\u987B\u662F\u6587\u672C\u7C7B\u578B")}})};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)($.Z,{children:(0,x.jsx)(P.ZP,{icon:(0,x.jsx)(s.Z,{}),block:!0,onClick:r,children:T.title})}),(0,x.jsx)("input",{style:{display:"none"},type:"file",ref:Z,name:"importFileInput"})]})}},46442:function(me,k,n){var I=n(15009),s=n.n(I),$=n(99289),F=n.n($),P=n(5574),g=n.n(P),x=n(67294),f=n(14946),T=n(64789),S=n(78099),i=n(28036),U=n(85265),N=n(42075),Z=n(66309),te=n(28230),r=n(85893),a=(0,x.forwardRef)(function(q,oe){(0,x.useImperativeHandle)(oe,function(){return{show:function(){ue(!0)}}});var j=(0,x.useState)(!1),b=g()(j,2),w=b[0],ue=b[1],O=(0,x.useRef)();return(0,r.jsxs)(r.Fragment,{children:[q.showTriggerButton&&(0,r.jsx)(i.ZP,{onClick:function(){ue(!0)},children:"\u52A0\u5165\u7F51\u7EDC"}),(0,r.jsx)(U.Z,{title:"\u9009\u62E9\u7F51\u7EDC",width:800,footer:!1,open:w,onClose:function(){return ue(!1)},extra:(0,r.jsx)(N.Z,{children:(0,r.jsx)(te.Z,{onFinish:function(){var le,R;!((le=O.current)===null||le===void 0)&&le.reloadAndRest&&((R=O.current)===null||R===void 0||R.reloadAndRest())}},"create")}),children:(0,r.jsx)(S.Z,{rowKey:"Name",toolBarRender:!1,actionRef:O,columns:[{title:"\u540D\u79F0",dataIndex:"Name",render:function(le,R,pe,Fe,ee){return R.Name=="none"||R.Name=="bridge"||R.Name=="host"?(0,r.jsxs)(r.Fragment,{children:[R.Name," ",(0,r.jsx)(Z.Z,{color:"blue",children:"System"})]}):(0,r.jsx)(r.Fragment,{children:le})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4 IPAM Network",search:!1,dataIndex:["IPAM","Config",0,"Subnet"],render:function(le,R,pe,Fe,ee){return(0,r.jsxs)(N.Z,{children:[R.IPAM.Config&&R.IPAM.Config[0]&&"".concat(R.IPAM.Config[0].Subnet," - ").concat(R.IPAM.Config[0].Gateway),R.IPAM.Config&&R.IPAM.Config[1]&&"".concat(R.IPAM.Config[1].Subnet," - ").concat(R.IPAM.Config[1].Gateway)]})}},{title:"\u64CD\u4F5C",width:100,search:!1,render:function(le,R,pe,Fe,ee){return[R.Name!="none"&&R.Name!="bridge"&&R.Name!="host"&&(0,r.jsx)(i.ZP,{type:"link",onClick:function(){q.onSelect(R),ue(!1)},children:(0,r.jsx)(T.Z,{})},R.Id)]}}],request:function(){var ce=F()(s()().mark(function le(R,pe,Fe){var ee;return s()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,(0,f.jR)({name:R.Name});case 2:return ee=he.sent,he.abrupt("return",{data:ee.data.list,success:!0,total:ee.data.list.length});case 4:case"end":return he.stop()}},le)}));return function(le,R,pe){return ce.apply(this,arguments)}}(),pagination:{pageSize:10}})})]})});k.Z=a},35880:function(me,k,n){var I=n(67294),s=(0,I.createContext)({});k.Z=s},57841:function(me,k,n){n.r(k),n.d(k,{default:function(){return Cn}});var I=n(15009),s=n.n(I),$=n(99289),F=n.n($),P=n(5574),g=n.n(P),x=n(90078),f=n(38345),T=n(97269),S=n(2236),i=n(5966),U=n(24739),N=n(97462),Z=n(30291),te=n(92398),r=n(38925),a=n(67294),q=n(35880),oe=n(78099),j=n(62370),b=n(85265),w=n(42075),ue=n(96074),O=n(28036),ce=n(83062),le=n(3393),R=n(18148),pe=n(5251),Fe=n(64789),ee=n(85060),Ze=n(28307),he=n(78451),Me=n(99861),Te=n(80821),we=n(1699),Oe=n(80271),e=n(85893);function ye(c){var z=(0,a.useState)(!1),A=g()(z,2),K=A[0],E=A[1],B=(0,a.useRef)(),m=(0,a.useContext)(q.Z),p=m.createFormRef,D=m.volumeListRef,V=m.createEnvRef,d=m.domainRef,o=(0,a.useRef)(),C=function(){var v=F()(s()().mark(function _(l){var h,y,Y,H,Be,re,M,u,G,t,de,fe;return s()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,(0,le.YU)({md5:l});case 2:return H=ie.sent,c.redeploy||(u=(Be=p.current)===null||Be===void 0?void 0:Be.getFieldsValue(),(re=p.current)===null||re===void 0||re.resetFields(),(M=p.current)===null||M===void 0||M.setFieldsValue({siteName:u.siteName,siteTitle:u.siteTitle,useBridgeNetwork:u.useBridgeNetwork})),H.data.info.Config.Env&&H.data.info.Config.Env.map(function(De){var se,Pe=De.split("=");(se=V.current)===null||se===void 0||se.addEnvItem(Pe[0],Pe.slice(1).join("="))}),(h=p.current)===null||h===void 0||h.setFieldValue("imageName",l),(y=p.current)===null||y===void 0||y.setFieldValue("workDir",H.data.info.Config.WorkingDir),(Y=d.current)===null||Y===void 0||Y.setExposePort(H.data.info.Config.ExposedPorts),c.redeploy||(H.data.info.Config.Volumes?(de=[],Object.keys(H.data.info.Config.Volumes).map(function(De,se){de.push(De)}),(t=D.current)===null||t===void 0||t.setDefaultDestPath(de)):(fe=D.current)===null||fe===void 0||fe.setDefaultDestPath([]),(G=p.current)===null||G===void 0||G.setFieldsValue({workDir:{value:"",useDefault:!0,default:H.data.info.Config.WorkingDir},user:{value:"",useDefault:!0,default:H.data.info.Config.User},command:{value:"",useDefault:!0,default:H.data.info.Config.Cmd&&H.data.info.Config.Cmd.join(" ")},entrypoint:{value:"",useDefault:!0,default:H.data.info.Config.Entrypoint&&H.data.info.Config.Entrypoint.join(" ")}})),ie.abrupt("return",!0);case 10:case"end":return ie.stop()}},_)}));return function(l){return v.apply(this,arguments)}}();return(0,a.useEffect)(function(){c.fromImageId&&C(c.fromImageId)},[c.fromImageId]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(b.Z,{open:K,width:800,title:"\u9009\u62E9\u955C\u50CF",footer:!1,onClose:function(){return E(!1)},children:(0,e.jsx)(oe.Z,{scroll:{x:"max-content"},columns:[{title:"Id",dataIndex:"Id",search:!1,width:80,render:function(_,l,h,y,Y){return(0,e.jsx)(he.Z,{content:l.Id.slice(7,19)})}},{title:"\u955C\u50CF\u540D\u79F0",dataIndex:"tag",width:200,render:function(_,l,h,y){return(0,e.jsx)(he.Z,{content:l.RepoTags[0]})}},{title:"\u521B\u5EFA\u65E5\u671F",dataIndex:"Created",search:!1,width:100,render:function(_,l,h,y){return(0,e.jsx)("div",{children:(0,pe.ZM)(l.Created*1e3)},l.Id)},sorter:function(_,l){return _.Created-l.Created}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:50,render:function(_,l,h,y){return(0,e.jsx)(w.Z,{split:(0,e.jsx)(ue.Z,{type:"vertical"}),children:(0,e.jsx)(Te.Z,{icon:(0,e.jsx)(Fe.Z,{}),tips:"\u4F7F\u7528\u955C\u50CF",action:function(){return C(l.RepoTags[0])},type:"link",onSuccess:function(){E(!1)}},"addImage")})}}],request:function(){var v=F()(s()().mark(function _(l,h,y){var Y,H,Be,re,M;return s()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return c.redeploy&&(H=(Y=p.current)===null||Y===void 0?void 0:Y.getFieldValue("imageName"),l.tag=H?H.split(":")[0]:l.tag),G.next=3,(0,R.KG)({tag:l.tag});case 3:return Be=G.sent,re=0,M=[],Be.data.list&&(M=Be.data.list.flatMap(function(t){return t.RepoTags.map(function(de){return{Key:re++,Id:t.Id,Created:t.Created,RepoTags:[de]}})})),G.abrupt("return",{data:M,success:!0,total:M.length});case 8:case"end":return G.stop()}},_)}));return function(_,l,h){return v.apply(this,arguments)}}(),formRef:B,rowKey:"Key",pagination:{pageSize:8}})},"imageTableList"),(0,e.jsxs)(w.Z.Compact,{children:[(0,e.jsx)(i.Z,{width:"lg",label:"\u955C\u50CF",tooltip:c.redeploy?"\u66F4\u65B0\u5BB9\u5668\u65F6,\u53EA\u53EF\u4EE5\u9009\u62E9\u8BE5\u955C\u50CF\u4E0B\u7684\u4E0D\u540Ctag.\u4E5F\u53EF\u4EE5\u5F3A\u5236\u66F4\u65B0\u5DF2\u90E8\u7F72tag,\u66F4\u6B21\u90E8\u7F72":"\u65B0\u5EFA\u5BB9\u5668\u65F6,\u53EF\u4EE5\u4F7F\u7528\u672C\u5730\u955C\u50CF,\u4E5F\u53EF\u4EE5\u4E0B\u8F7D\u5168\u65B0\u7684\u955C\u50CF\u6216\u662F\u66F4\u65B0\u672C\u5730\u955C\u50CF\u7684tag",name:"imageName",disabled:!0,placeholder:"\u8BF7\u9009\u62E9\u955C\u50CF\uFF0C\u5982\u679C\u662F\u8FDC\u7A0B\u955C\u50CF\u8BF7\u5148\u4E0B\u8F7D",rules:[{required:!0}],required:!0}),(0,e.jsx)(j.Z,{label:" ",children:(0,e.jsx)(O.ZP,{type:"primary",onClick:function(){return E(!0)},children:"\u9009\u62E9\u955C\u50CF"},"showBtn")}),(0,e.jsx)(N.Z,{name:["imageName"],children:function(_){var l=_.imageName;if(l)return(0,e.jsx)(j.Z,{label:" ",children:(0,e.jsx)(Me.Z,{finishAutoHide:!0,image:l?[l]:[],trigger:(0,e.jsx)(ce.Z,{title:"\u91CD\u65B0\u62C9\u53D6\u5F53\u524D\u955C\u50CF",children:(0,e.jsx)(O.ZP,{icon:(0,e.jsx)(ee.Z,{}),children:"\u66F4\u65B0\u5F53\u524D\u955C\u50CF"})})})})}}),(0,e.jsx)(j.Z,{label:" ",children:(0,e.jsx)(Ze.Z,{onClick:function(){E(!1)},ref:o,onFinish:function(_){C(_)}},"remote")}),(0,e.jsx)(we.u,{access:"canSeeEnableCe",children:function(_){var l=_.canSeeEnableCe;return!l&&(0,e.jsx)(N.Z,{name:["imageName"],children:function(y){var Y=y.imageName;if(Y)return(0,e.jsx)(j.Z,{label:" ",children:(0,e.jsx)(Oe.Z,{imageId:Y,trigger:(0,e.jsx)(O.ZP,{children:"\u955C\u50CF\u6587\u4EF6"})})})}})}})]})]})}var L=n(60335),W=n(51042),ae=n(63434),Q=n(17186),ne=n(25593),Ee=n(92067),ve=(0,a.forwardRef)(function(c,z){var A=(0,a.useState)(!1),K=g()(A,2),E=K[0],B=K[1],m=(0,a.useRef)(),p=function(d){var o=(0,a.useState)([]),C=g()(o,2),v=C[0],_=C[1];return(0,a.useEffect)(function(){(0,L.jV)({md5:d.name}).then(function(l){var h;return _((h=l.data.info.Config.Env)!==null&&h!==void 0?h:[]),!0})},[]),(0,e.jsxs)(f.Z,{bordered:!0,extra:d.action,style:{marginBottom:10},children:[(0,e.jsx)(f.Z,{title:"\u5173\u8054\u4FE1\u606F",children:(0,e.jsxs)(U.UW,{children:[(0,e.jsx)(i.Z,{label:"\u5BB9\u5668\u540D\u79F0",name:"name",width:"md",readonly:!0}),(0,e.jsx)(i.Z,{label:"\u8BBF\u95EEHostName",name:"alise",width:"md",readonly:!0,tooltip:"\u901A\u8FC7\u914D\u7F6E\u6B64\u540D\u79F0\uFF0C\u5728\u5BB9\u5668\u5185\u90E8\u8FDB\u884C\u8BF7\u6C42\u8BBF\u95EE",hidden:!0}),(0,e.jsx)(j.Z,{label:"\u8BBF\u95EEHostName",tooltip:"\u901A\u8FC7\u914D\u7F6E\u6B64\u540D\u79F0\uFF0C\u5728\u5BB9\u5668\u5185\u90E8\u8FDB\u884C\u8BF7\u6C42\u8BBF\u95EE",children:(0,e.jsx)(ne.Z.Text,{copyable:!0,children:d.record.alise})}),(0,e.jsx)(ae.Z,{label:"\u5173\u8054\u5B58\u50A8",name:"volume"})]})}),(0,e.jsx)(f.Z,{title:"\u73AF\u5883\u53D8\u91CF",children:(0,e.jsx)(w.Z,{direction:"vertical",children:v&&v.map(function(l,h){return(0,e.jsx)(ne.Z.Text,{copyable:{icon:(0,e.jsx)(W.Z,{}),onCopy:function(){var Y=l.split("=");c.onAddEnv(Y[0],Y[1])},tooltips:["add env","success"]},code:!0,ellipsis:{tooltip:l},style:{width:300},children:l},h)})},"linkEnv")})]})},D=function(d){var o,C,v=!1,_=(o=(C=m.current)===null||C===void 0?void 0:C.getList())!==null&&o!==void 0?o:[];if(_.map(function(h){h.name==d.name&&(v=!0)}),!v){var l;(l=m.current)===null||l===void 0||l.add(d)}};return(0,a.useImperativeHandle)(z,function(){return{setDefaultLink:function(d){d&&d.map(function(o){o.name!=""&&D(o)})}}}),(0,e.jsxs)(f.Z,{title:"\u5173\u8054\u5BB9\u5668",headerBordered:!0,children:[(0,e.jsx)(Q.u,{name:"links",actionRef:m,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5173\u8054"},actionGuard:{beforeAddRow:function(d,o){return B(!0),!1}},copyIconProps:!1,min:0,itemRender:function(d,o){return(0,e.jsx)(p,{action:d.action,name:o.record.name,record:o.record})}}),(0,e.jsx)(b.Z,{title:"\u9009\u62E9\u5BB9\u5668",width:800,footer:!1,open:E,onClose:function(){return B(!1)},children:(0,e.jsx)(Ee.Z,{onSelect:function(d){D({name:(0,pe.fi)(d.Name,"/"),alise:"".concat(d.Config.Hostname,".").concat(d.Config.Domainname),volume:!1}),B(!1)}})})]})}),ge=ve,xe=n(91058),je=n(64317),be=(0,a.forwardRef)(function(c,z){var A=(0,a.useRef)(),K=(0,a.useContext)(q.Z),E=K.createFormRef,B=(0,a.useState)(),m=g()(B,2),p=m[0],D=m[1];(0,a.useImperativeHandle)(z,function(){return{setDefaultDestPath:function(o){var C,v,_=(C=(v=A.current)===null||v===void 0?void 0:v.getList())!==null&&C!==void 0?C:[];o.length!=0&&o.filter(function(l){return l!=""}).map(function(l){var h=!1;if(_.map(function(Y){if(Y.dest==l){h=!0;return}}),!h){var y;(y=A.current)===null||y===void 0||y.add({dest:l,permission:"write",inImage:!0})}})},addUserVolumeItem:function(o,C){var v,_=(v=A.current)===null||v===void 0?void 0:v.getList(),l=!1;if(_==null||_.map(function(y){if(y.dest==C){l=!0;return}}),!l){var h;(h=A.current)===null||h===void 0||h.add({host:o,dest:C})}}}});var V=function(){var d=F()(s()().mark(function o(C){var v,_;return s()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!p){h.next=2;break}return h.abrupt("return");case 2:if(C){h.next=4;break}return h.abrupt("return");case 4:return h.next=6,(0,le.cD)({md5:C});case 6:v=h.sent,_={title:"/",value:"/",children:[]},v.data.list.map(function(y){var Y=_;y.split("/").map(function(H,Be,re){var M;if(H){var u=(M=Y.children)===null||M===void 0?void 0:M.find(function(G){return G.title===H});u||(u={title:H,value:re.join("/"),children:[]},Y.children?Y.children.push(u):Y.children=[u]),Y=u}})}),_.children&&D(_.children);case 10:case"end":return h.stop()}},o)}));return function(C){return d.apply(this,arguments)}}();return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(f.Z,{title:"\u81EA\u5B9A\u4E49\u6302\u8F7D\u6216\u662F\u5B58\u50A8\u5377",tooltip:"\u6302\u8F7D\u53EF\u4EE5\u662F\u5BBF\u4E3B\u673A\u7684\u76EE\u5F55\u6216\u662F\u6587\u4EF6\uFF0C\u4E5F\u53EF\u4EE5\u6307\u5B9A\u5B58\u50A8\u5377\u540D\uFF08\u81EA\u52A8\u65B0\u5EFA\uFF09\u3002",headerBordered:!0,direction:"column",children:(0,e.jsx)(Q.u,{actionRef:A,name:"volumes",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u6620\u5C04\u76EE\u5F55"},copyIconProps:!1,min:0,children:function(o,C,v){var _=v.getCurrentRowData();return(0,e.jsxs)(U.UW,{children:[(0,e.jsxs)(w.Z.Compact,{children:[(0,e.jsx)(i.Z,{label:"\u5BBF\u4E3B\u673A\u6587\u4EF6\u3001\u76EE\u5F55\u6216\u5B58\u50A8\u5377",name:"host",width:c.showInDrawer?"sm":"md"}),(0,e.jsx)(je.Z,{label:" ",valueEnum:{write:"\u8BFB\u5199",readonly:"\u53EA\u8BFB"},initialValue:"write",name:"permission"})]}),(0,e.jsx)(w.Z.Compact,{children:(0,e.jsx)(i.Z,{label:"\u5BB9\u5668\u5185\u8DEF\u5F84",name:"dest",width:c.showInDrawer?"sm":"md",required:!0,rules:[{required:!0}],disabled:c.disabledUserVolumeDest||_.inImage})})]})}})})})}),$e=be,ze=n(2831),_e=n(52688),Ve=n(86125),Ye=n(71230),ke=n(15746),Xe=n(44349);function Je(c){var z,A=(0,a.useState)(),K=g()(A,2),E=K[0],B=K[1];return(0,a.useEffect)(function(){(0,ze.aF)().then(function(m){return B(m.data.info)})},[]),(0,e.jsxs)(f.Z,{children:[(0,e.jsx)(i.Z,{label:"\u5171\u4EAB\u5185\u5B58\u5927\u5C0F - /dev/shm",name:"shmsize",initialValue:"64M",tooltip:"0 \u4E3A\u4F7F\u7528\u9ED8\u8BA464M\uFF0C\u914D\u7F6E\u65F6\u8BF7\u9644\u52A0\u5355\u4F4D\uFF0C\u4F8B\u5982\uFF1A1G"}),(0,e.jsx)(j.Z,{label:"\u6700\u5927Cpu\u914D\u989D",name:"cpus",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(Ve.Z,{step:.1,max:E==null?void 0:E.NCPU,marks:{0:"0",.5:"0.5\u6838",1:"1\u6838",1.5:"1.5\u6838",2:"2\u6838",4:"4\u6838",6:"6\u6838",8:"8\u6838"}})}),(0,e.jsx)(j.Z,{label:"\u6700\u5927\u5185\u5B58\u914D\u989D",name:"memory",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(Ve.Z,{step:256,max:Math.round(((z=E==null?void 0:E.MemTotal)!==null&&z!==void 0?z:0)/1024/1024),marks:{0:"0",1024:"1G",2048:"2G",3072:"3G",4096:"4G"}})}),(0,e.jsx)(je.Z,{label:"\u65E5\u5FD7\u7C7B\u578B",name:["log","driver"],tooltip:"\u9ED8\u8BA4\u4F7F\u7528 json-file \u9A71\u52A8\u7531 docker \u7EDF\u4E00\u7BA1\u7406\u3002\u91C7\u7528 journal \u65F6\u65E5\u5FD7\u5C06\u6765\u5BBF\u4E3B\u673A\u7BA1\u7406",initialValue:"json-file",valueEnum:{"json-file":"json-file",journald:"journal (\u5BBF\u4E3B\u9700\u8981\u5B89\u88C5journal\u670D\u52A1)"}}),(0,e.jsx)(N.Z,{name:["log"],children:function(p){var D=p.log;if(D.driver=="json-file")return(0,e.jsxs)(U.UW,{children:[(0,e.jsx)(i.Z,{label:"\u65E5\u5FD7\u5207\u5272\u5927\u5C0F",name:["log","maxSize"],placeholder:"\u4F8B\u5982\uFF1A10k,5M",tooltip:"\u9ED8\u8BA4 Docker \u5E76\u4E0D\u4F1A\u81EA\u52A8\u5207\u5272\u65E5\u5FD7"}),(0,e.jsx)(i.Z,{tooltip:"\u9ED8\u8BA4 Docker \u5E76\u4E0D\u4F1A\u81EA\u52A8\u6E05\u7406\u65E5\u5FD7\u6587\u4EF6",label:"\u4FDD\u7559\u65E5\u5FD7\u6587\u4EF6\u6570",name:["log","maxFile"],placeholder:"\u4F8B\u5982\uFF1A10"})]})}}),(0,e.jsx)(Xe.Z,{name:"device",label:"\u5173\u8054\u8BBE\u5907",hideCopyButton:!0,showAddButton:!0,items:[{label:"\u5BBF\u4E3B\u673A\u8DEF\u5F84",name:"host",width:"md",placeholder:"\u4F8B\u5982\uFF1A/dev/tty0"},{label:"\u5BB9\u5668\u5185\u8DEF\u5F84",name:"dest",width:"md",placeholder:"\u4F8B\u5982\uFF1A/dev/tty0"}]}),(0,e.jsxs)(Ye.Z,{children:[(0,e.jsx)(ke.Z,{span:4,children:(0,e.jsx)(_e.Z,{label:"\u4F7F\u7528 Gpu",name:["gpus","enable"]})}),(0,e.jsx)(ke.Z,{span:20,children:(0,e.jsx)(N.Z,{name:["gpus"],children:function(p){var D=p.gpus;if(D&&D.enable)return(0,e.jsx)(je.Z,{mode:"tags",label:"\u8BBE\u5907\u5217\u8868",name:["gpus","device"],placeholder:"\u914D\u7F6E\u4F7F\u7528\u8BBE\u5907id\u6216\u662Fuuid\uFF0C\u4E0D\u586B\u6240\u4E3A\u6240\u6709\u8BBE\u5907"})}})})]}),(0,e.jsx)(N.Z,{name:["gpus"],children:function(p){var D=p.gpus;if(D&&D.enable)return(0,e.jsx)(je.Z,{label:"\u8BA1\u7B97\u80FD\u529B",name:["gpus","capabilities"],mode:"multiple",fieldProps:{allowClear:!0},options:[{label:"compute - \u8BA1\u7B97\u80FD\u529B",value:"compute"},{label:"compat32 - \u517C\u5BB932\u4F4D",value:"compat32"},{label:"graphics - \u56FE\u5F62\u5904\u7406\u80FD\u529B",value:"graphics"},{label:"utility - \u76D1\u63A7\u548C\u7BA1\u7406\u80FD\u529B",value:"utility"},{label:"video - \u89C6\u9891\u5904\u7406\u80FD\u529B",value:"video"},{label:"display - \u663E\u793A\u56FE\u5F62\u754C\u9762\u80FD\u529B",value:"display"}]})}})]})}function Qe(){return(0,e.jsx)(f.Z,{title:"\u5BB9\u5668\u6807\u7B7E",children:(0,e.jsx)(Q.u,{name:"label",label:"",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BB9\u5668\u6807\u7B7E"},copyIconProps:!1,min:0,children:(0,e.jsxs)(U.UW,{children:[(0,e.jsx)(i.Z,{width:"md",name:"name",label:"\u540D\u79F0",placeholder:""}),(0,e.jsx)(i.Z,{width:"md",name:"value",label:"\u503C",placeholder:""})]})})})}var qe=n(44771),en=n(86615),Fn="default",gn="user";function nn(c){return(0,e.jsx)(j.Z,{label:c.label,tooltip:c.tooltip,children:(0,e.jsxs)(w.Z.Compact,{block:!0,children:[(0,e.jsx)(en.Z.Group,{radioType:"button",name:[c.name,"useDefault"],options:[{label:"\u4F7F\u7528\u9ED8\u8BA4",value:!0},{label:"\u81EA\u5B9A\u4E49",value:!1}]}),(0,e.jsx)(N.Z,{name:[c.name],children:function(A){return A[c.name]&&A[c.name].useDefault?(0,e.jsx)(i.Z,{name:[c.name,"default"],disabled:!0,placeholder:"\u672A\u8BBE\u7F6E"}):(0,e.jsx)(i.Z,{name:[c.name,"value"]})}})]})})}var Re=nn,Se=n(24963);function tn(){var c=(0,a.useContext)(Se.Z),z=c.message,A=c.lang;return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(f.Z,{children:[(0,e.jsx)(qe.Z,{label:"\u91CD\u542F\u7B56\u7565"}),(0,e.jsxs)(U.UW,{children:[(0,e.jsx)(_e.Z,{fieldProps:{onChange:function(E){E&&z.warning(A("app.create.privilegedNotice"))}},name:"privileged",tooltip:"--privileged",label:"\u8D4B\u4E88\u5BB9\u5668Root\u6743\u9650",initialValue:!1}),(0,e.jsx)(_e.Z,{name:"autoRemove",tooltip:"--rm",label:"\u505C\u6B62\u540E\u81EA\u52A8\u5220\u9664",initialValue:!1}),(0,e.jsx)(_e.Z,{fieldProps:{onChange:function(E){E&&z.warning(A("app.create.hostPidNotice"))}},tooltip:"--pid host",name:"hostPid",label:"\u5173\u8054\u5BBF\u4E3B\u673APid",initialValue:!1})]}),(0,e.jsx)(Re,{label:"\u5DE5\u4F5C\u76EE\u5F55",tooltip:"\u9ED8\u8BA4\u4F7F\u7528\u955C\u50CF\u4E2D\u6307\u5B9A\u7684\u5DE5\u4F5C\u76EE\u5F55",name:"workDir"}),(0,e.jsx)(Re,{label:"User",tooltip:"\u5728\u5BB9\u5668\u4E2D\u8FD0\u884C\u547D\u4EE4\u7684\u7528\u6237",name:"user"}),(0,e.jsx)(Re,{label:"Command",tooltip:"\u542F\u52A8\u5BB9\u5668\u65F6\u8FD0\u884C\u7684\u547D\u4EE4\uFF0C\u4EE5\u7A7A\u683C\u5206\u9694",name:"command"}),(0,e.jsx)(Re,{label:"Entrypoint",tooltip:"\u65E0\u6CD5\u8986\u76D6\u955C\u50CF\u4E2D\u5DF2\u7ECF\u6307\u5B9A\u7684 Entrypoint \u547D\u4EE4",name:"entrypoint"})]})})}var un=n(91845),Ke=n(62597),He=n(82346),an=n(46442),rn=(0,a.forwardRef)(function(c,z){var A=(0,a.useRef)(),K=(0,a.useRef)();(0,a.useImperativeHandle)(z,function(){return{}});var E=function(m){var p,D,V=!1,d=(p=(D=A.current)===null||D===void 0?void 0:D.getList())!==null&&p!==void 0?p:[];if(d.map(function(C){C.name==m.name&&(V=!0)}),!V){var o;(o=A.current)===null||o===void 0||o.add(m)}};return(0,e.jsxs)(f.Z,{title:"\u5173\u8054\u7F51\u7EDC",headerBordered:!0,extra:(0,e.jsx)(w.Z,{children:c.showUseBridgeNetwork&&(0,e.jsx)(_e.Z,{name:"useBridgeNetwork",fieldProps:{checkedChildren:"\u5173\u8054 Bridge \u7F51\u7EDC",unCheckedChildren:"\u5173\u8054 Bridge \u7F51\u7EDC"}},"useBridgeNetwork")}),children:[(0,e.jsx)(Q.u,{name:"network",actionRef:A,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u7F51\u7EDC"},actionGuard:{beforeAddRow:function(m,p){var D;return(D=K.current)===null||D===void 0||D.show(),!1}},copyIconProps:!1,min:0,itemRender:function(m,p){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(U.UW,{children:[(0,e.jsx)(i.Z,{label:"\u7F51\u7EDC\u540D\u79F0",name:"name",width:"md",disabled:!0,fieldProps:{value:p.record.name}}),(0,e.jsx)(j.Z,{label:"\u8BBF\u95EEHostname",name:"alise",children:p.record.alise!=""&&(0,e.jsx)(ne.Z.Text,{code:!0,copyable:!0,children:p.record.alise})}),(0,e.jsx)(j.Z,{label:" ",children:m.action})]}),(0,e.jsx)(U.UW,{children:(0,e.jsx)(i.Z,{label:"\u6307\u5B9AIpV4",name:"ipV4",width:"md",disabled:p.record.name=="bridge",fieldProps:{addonAfter:p.record.subnet}})})]})}}),(0,e.jsx)(an.Z,{ref:K,onSelect:function(m){E({name:m.Name,alise:[""],subnet:m.IPAM.Config[0].Subnet})}})]})}),on=rn,ln=(0,a.forwardRef)(function(c,z){var A=(0,a.useState)(""),K=g()(A,2),E=K[0],B=K[1],m=(0,a.useRef)(),p=(0,a.useContext)(q.Z),D=p.createFormRef;return(0,a.useImperativeHandle)(z,function(){return{setExposePort:function(d){if(d){var o,C,v=(o=(C=m.current)===null||C===void 0?void 0:C.getList())!==null&&o!==void 0?o:[];Object.keys(d).map(function(_){var l=!1;if(v.map(function(y){y.dest==_&&(l=!0)}),!l){var h;(h=m.current)===null||h===void 0||h.add({host:"",dest:_})}})}},setHostname:function(d){B(d)},addPortItem:function(d,o){var C,v=(C=m.current)===null||C===void 0?void 0:C.getList(),_=!1;if(v==null||v.map(function(h){if(h.host==d){_=!0;return}}),!_){var l;(l=m.current)===null||l===void 0||l.add({host:String(d),dest:String(o)})}}}}),(0,e.jsx)(f.Z,{title:"\u7ED1\u5B9A\u7AEF\u53E3",tooltip:"\u8BBF\u95EE\u7AEF\u53E3\u7559\u7A7A\u65F6\u968F\u673A\u751F\u6210\u7AEF\u53E3\uFF0C\u5168\u90E8\u5220\u9664\u5219\u8868\u793A\u4E0D\u66B4\u9732\u7AEF\u53E3",headerBordered:!0,extra:(0,e.jsxs)(w.Z,{children:[c.showBindHost&&(0,e.jsx)(_e.Z,{name:"useHostNetwork",fieldProps:{checkedChildren:"\u7ED1\u5B9AHost\u7F51\u7EDC",unCheckedChildren:"\u7ED1\u5B9AHost\u7F51\u7EDC",onChange:function(d){if(d){var o;(o=D.current)===null||o===void 0||o.setFieldsValue({bindIpV6:!1,publishAllPorts:!1})}}}}),c.showBindIpV6&&(0,e.jsx)(N.Z,{name:["siteName","useHostNetwork"],children:function(d){var o=d.useHostNetwork;return(0,e.jsx)(_e.Z,{name:"publishAllPorts",fieldProps:{checkedChildren:"\u7ED1\u5B9A\u5168\u90E8\u7AEF\u53E3",unCheckedChildren:"\u7ED1\u5B9A\u5168\u90E8\u7AEF\u53E3"},disabled:o},"publishAllPorts")}}),c.showBindIpV6&&(0,e.jsx)(N.Z,{name:["siteName","useHostNetwork"],children:function(d){var o=d.useHostNetwork;return(0,e.jsx)(_e.Z,{name:"bindIpV6",fieldProps:{checkedChildren:"IpV6",unCheckedChildren:"IpV6"},disabled:o},"bindIpV6")}})]}),children:(0,e.jsx)(N.Z,{name:["useHostNetwork","bindIpV6","publishAllPorts"],children:function(d){var o=d.useHostNetwork,C=d.bindIpV6,v=d.publishAllPorts;if(!o&&!v)return(0,e.jsx)(Q.u,{name:"ports",actionRef:m,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BF9\u5916\u90E8\u8BBF\u95EE"},min:0,copyIconProps:!1,children:(0,e.jsxs)(U.UW,{children:[(0,e.jsx)(i.Z,{width:c.showInDrawer?"sm":"md",name:"host",label:"\u5916\u90E8\u8BBF\u95EE\u7AEF\u53E3",tooltip:"\u5BF9\u5916\u8BBF\u95EE\u53EF\u4EE5\u901A\u8FC7\u6DFB\u52A0\u8BBF\u95EE\u7AEF\u53E3\u6216\u662F\u521B\u5EFA\u5B8C\u6210\u540E\u5BF9\u5BB9\u5668\u7ED1\u5B9A\u57DF\u540D",placeholder:"\u7559\u7A7A\u5C06\u4F7F\u7528\u968F\u673A\u7AEF\u53E3\uFF0C\u7ED1\u5B9AIpV6\u5FC5\u586B",required:C,rules:[{required:C}]}),(0,e.jsx)(i.Z,{label:"\u5BB9\u5668\u5185\u7AEF\u53E3",width:c.showInDrawer?"sm":"md",name:"dest",placeholder:"\u6784\u5EFA\u65F6 Expose \u6307\u5B9A\u7684\u7AEF\u53E3",required:!0,rules:[{required:!0}]})]})})}})})}),sn=ln,Ae=n(52255);function dn(){var c=(0,a.useRef)(),z=function(E){var B,m,p=!1,D=(B=(m=c.current)===null||m===void 0?void 0:m.getList())!==null&&B!==void 0?B:[];if(D.map(function(d){d.name==E.name&&(p=!0)}),!p){var V;(V=c.current)===null||V===void 0||V.add(E)}},A=function(E){var B,m,p=!1,D=(B=(m=c.current)===null||m===void 0?void 0:m.getList())!==null&&B!==void 0?B:[];D.map(function(V,d){if(V.name==E){var o;(o=c.current)===null||o===void 0||o.remove(d)}})};return(0,e.jsx)(f.Z,{title:"\u5173\u8054\u5BBF\u4E3B\u673A\u7F51\u7EDC\u5185\u4E3B\u673A",tooltip:"\u5BB9\u5668\u5185\u5982\u679C\u9700\u8981\u8BF7\u6C42\u5BBF\u4E3B\u673A\u6240\u5728\u7684\u7F51\u7EDC\u4E2D\u7684\u4E3B\u673A\uFF0C\u53EF\u4EE5\u901A\u8FC7\u6B64\u914D\u7F6E\u5C06Ip\u6CE8\u5165\u5230\u5BB9\u5668\u4E2D",extra:(0,e.jsx)(w.Z,{children:(0,e.jsx)(_e.Z,{name:"enableBindHost",fieldProps:{checkedChildren:"\u7ED1\u5B9A\u5BBF\u4E3B\u673AIp",unCheckedChildren:"\u7ED1\u5B9A\u5BBF\u4E3B\u673AIp",onChange:function(E){E?z({name:"host.dpanel.local",value:"host-gateway"}):A("host.dpanel.local")}}})}),children:(0,e.jsx)(Q.u,{name:"extraHosts",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BBF\u4E3B\u673A\u7F51\u7EDC\u5173\u8054"},actionRef:c,copyIconProps:!1,min:0,children:(0,e.jsxs)(U.UW,{children:[(0,e.jsx)(i.Z,{width:"md",name:"name",label:"Hostname",placeholder:""}),(0,e.jsx)(i.Z,{width:"md",name:"value",label:"ip",placeholder:""})]})})})}var Ue=n(90672),cn=(0,a.forwardRef)(function(c,z){return(0,a.useImperativeHandle)(z,function(){return{}}),(0,e.jsxs)(f.Z,{title:"\u7F51\u7EDC\u914D\u7F6E",children:[(0,e.jsxs)(U.UW,{children:[(0,e.jsx)(i.Z,{label:"\u914D\u7F6E ipV4 \u5730\u5740",name:["ipV4","address"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u5730\u5740\uFF0C\u4F8B\u5982 192.168.1.5",placeholder:"192.168.1.5"}),(0,e.jsx)(N.Z,{name:["ipV4"],children:function(K){var E=K.ipV4;return(0,e.jsx)(i.Z,{label:"\u914D\u7F6E ipV4 \u5B50\u7F51",name:["ipV4","subnet"],width:"md",required:E&&E.address,tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u6240\u5728\u7684\u5B50\u7F51\uFF0C\u4F8B\u5982 192.168.1.0/24",placeholder:"192.168.1.0/24",rules:[{required:E&&E.address}]})}}),(0,e.jsx)(i.Z,{label:"\u914D\u7F6E ipV4 \u7F51\u5173",name:["ipV4","gateway"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u7684\u7F51\u5173\uFF0C\u4F8B\u5982 192.168.1.1",placeholder:"192.168.1.1"}),(0,e.jsx)(_e.Z,{label:"\u81EA\u5B9A\u4E49ipV6",name:"enableIpV6Address"})]}),(0,e.jsx)(N.Z,{name:["enableIpV6Address"],children:function(K){var E=K.enableIpV6Address;if(E)return(0,e.jsxs)(U.UW,{children:[(0,e.jsx)(i.Z,{label:"\u914D\u7F6E ipV6 \u5730\u5740",name:["ipV6","address"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipV6\u5730\u5740\uFF0C\u4F8B\u5982 2001:db8::5",placeholder:"2001:db8::5"}),(0,e.jsx)(N.Z,{name:["ipV6"],children:function(m){var p=m.ipV6;return(0,e.jsx)(i.Z,{label:"\u914D\u7F6E ipV6 \u5B50\u7F51",name:["ipV6","subnet"],width:"md",required:p&&p.address,tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u6240\u5728\u7684\u5B50\u7F51\uFF0C\u4F8B\u5982 2001:db8::/48",placeholder:"2001:db8::/48",rules:[{required:p&&p.address}]})}}),(0,e.jsx)(i.Z,{label:"\u914D\u7F6E ipV6 \u7F51\u5173",name:["ipV6","gateway"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipV6\u7684\u7F51\u5173\uFF0C\u4F8B\u5982 2001:db8::1",placeholder:"2001:db8::1"})]})}}),(0,e.jsx)(Ue.Z,{label:"DNS\u914D\u7F6E",name:"dns",placeholder:"\u8BF7\u6307\u5B9Adns\u5730\u5740\uFF0C\u4F8B\u5982\uFF1A8.8.8.8\uFF0C\u4E00\u884C\u6DFB\u4E00\u6761dns\u5730\u5740"})]})}),mn=cn,Ne=n(31199),vn=n(86250);function fn(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(f.Z,{title:"\u9644\u52A0\u6267\u884C\u811A\u672C",headerBordered:!0,subTitle:"",children:(0,e.jsx)(Ue.Z,{label:"\u5BB9\u5668\u521B\u5EFA\u540E\u6267\u884C\u811A\u672C",name:["hook","containerCreate"],placeholder:"\u5BB9\u5668\u5728\u521B\u5EFA\u540E\u6267\u884C\u7684\u811A\u672C\uFF0C\u6B64\u811A\u672C\u5E76\u4E0D\u4F1A\u5F71\u54CD entrypoint \u53CA command\u3002\u4F8B\u5982\uFF1Als -al && touch abc.txt && apt update"})}),(0,e.jsxs)(f.Z,{title:"\u5065\u5EB7\u68C0\u67E5",headerBordered:!0,children:[(0,e.jsxs)(vn.Z,{gap:20,justify:"start",children:[(0,e.jsx)(Ne.Z,{label:"\u91CD\u590D\u95F4\u9694\u65F6\u95F4\uFF08\u79D2\uFF09",name:["healthcheck","interval"],initialValue:30}),(0,e.jsx)(Ne.Z,{label:"\u8D85\u65F6\u5931\u8D25\u65F6\u95F4\uFF08\u79D2\uFF09",name:["healthcheck","timeout"],initialValue:10}),(0,e.jsx)(Ne.Z,{label:"\u5931\u8D25\u91CD\u590D\u6B21\u6570",name:["healthcheck","retries"],initialValue:3}),(0,e.jsx)(je.Z,{width:"sm",label:"\u811A\u672C\u6267\u884C\u73AF\u5883",initialValue:"CMD",name:["healthcheck","shellType"],valueEnum:{CMD:"\u5728 Docker \u73AF\u5883\u6267\u884C","CMD-SHELL":"\u5728\u5BB9\u5668\u5185\u6267\u884C"}})]}),(0,e.jsx)(Ue.Z,{label:"\u6267\u884C\u811A\u672C",name:["healthcheck","cmd"],placeholder:"\u914D\u7F6E\u5BB9\u5668\u5065\u5EB7\u68C0\u67E5\u811A\u672C\uFF0C\u4F8B\u5982\uFF1Acurl -f http://localhost:8080/ || exit 1"})]})]})}var hn=n(74763),Ge=n(2487),En=[{name:"ALL"},{name:"AUDIT_CONTROL"},{name:"AUDIT_WRITE",default:!0},{name:"BLOCK_SUSPEND"},{name:"CHOWN",default:!0},{name:"DAC_OVERRIDE",default:!0},{name:"DAC_READ_SEARCH"},{name:"FOWNER",default:!0},{name:"FSETID",default:!0},{name:"IPC_LOCK"},{name:"IPC_OWNER"},{name:"KILL",default:!0},{name:"LEASE"},{name:"LINUX_IMMUTABLE"},{name:"MAC_ADMIN"},{name:"MAC_OVERRIDE"},{name:"MKNOD",default:!0},{name:"NET_ADMIN"},{name:"NET_BIND_SERVICE",default:!0},{name:"NET_BROADCAST"},{name:"NET_RAW",default:!0},{name:"SETFCAP",default:!0},{name:"SETGID",default:!0},{name:"SETPCAP",default:!0},{name:"SETUID",default:!0},{name:"SYSLOG"},{name:"SYS_ADMIN"},{name:"SYS_BOOT"},{name:"SYS_CHROOT",default:!0},{name:"SYS_MODULE"},{name:"SYS_NICE"},{name:"SYS_PACCT"},{name:"SYS_PTRACE"},{name:"SYS_RAWIO"},{name:"SYS_RESOURCE"},{name:"SYS_TIME"},{name:"SYS_TTY_CONFIG"}],pn=(0,a.forwardRef)(function(c,z){var A=(0,a.useContext)(Se.Z),K=A.lang,E=(0,a.useState)(null),B=g()(E,2),m=B[0],p=B[1],D=(0,a.useContext)(q.Z),V=D.createFormRef;return(0,a.useImperativeHandle)(z,function(){return{}}),(0,e.jsx)(f.Z,{children:(0,e.jsx)(Ge.Z,{grid:{gutter:10,xs:3,sm:3,md:4,lg:4,xl:4,xxl:6},dataSource:En,renderItem:function(o,C){var v;return(0,e.jsx)(Ge.Z.Item,{children:(0,e.jsx)(_e.Z,{fieldProps:{onChange:function(l){o.name=="ALL"&&p(l)}},disabled:o.name!="ALL"&&((0,hn.k)(m)?(v=V.current)===null||v===void 0?void 0:v.getFieldValue(["capAdd","ALL"]):m),initialValue:o.default,name:["capAdd",o.name],tooltip:K("app.create.cap."+o.name.toLocaleLowerCase()),label:o.name})},C)}})})}),_n=pn;function Cn(){var c,z=(0,a.useContext)(Se.Z),A=z.loading,K=z.notice,E=(0,a.useContext)(q.Z),B=E.createFormRef,m=E.volumeListRef,p=E.domainRef,D=E.createEnvRef,V=E.createLinkRef,d=(0,He.useSearchParams)(),o=g()(d,2),C=o[0],v=o[1],_=(0,He.useNavigate)(),l=(0,a.useState)("basic"),h=g()(l,2),y=h[0],Y=h[1],H=C.get("id"),Be=(c=C.get("imageId"))!==null&&c!==void 0?c:"";return(0,a.useEffect)(function(){if(H)A.show(),(0,Ke.iE)({id:H}).then(function(){var u=F()(s()().mark(function G(t){var de,fe,X,ie,De,se,Pe,Le;return s()().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(X={info:{}},!t.data.env.imageName){Ce.next=11;break}return Ce.prev=2,Ce.next=5,(0,le.YU)({md5:t.data.env.imageName});case 5:ie=Ce.sent,X=ie.data,Ce.next=11;break;case 9:Ce.prev=9,Ce.t0=Ce.catch(2);case 11:t.data.env.network&&t.data.env.network.map(function(J){return!J.alise&&J.name!="bridge"&&(J.alise=[t.data.siteName+".pod.dpanel.local"]),J}),t.data.env.ports&&t.data.env.ports.map(function(J){return J.host=="0"&&(J.host=""),J}),De=t.data.env.bindIpV6,console.log(123),t.data.containerInfo&&t.data.containerInfo.Info.NetworkSettings&&t.data.containerInfo.Info.NetworkSettings.Networks&&Object.keys(t.data.containerInfo.Info.NetworkSettings.Networks).map(function(J){if(t.data.env.network&&(t.data.env.network=t.data.env.network.map(function(We){return J==We.name&&t.data.containerInfo&&(We.subnet=t.data.containerInfo.Info.NetworkSettings.Networks[J].IPAddress+"/"+t.data.containerInfo.Info.NetworkSettings.Networks[J].IPPrefixLen),We})),t.data.containerInfo&&t.data.containerInfo.Info.NetworkSettings.Networks[J].IPv6Gateway!=""&&(De=!0),J=="bridge"){var Ie;(Ie=B.current)===null||Ie===void 0||Ie.setFieldValue("useBridgeNetwork",!0)}}),t.data.env.extraHosts&&t.data.env.extraHosts.map(function(J){if(J.value=="host-gateway"){var Ie;(Ie=B.current)===null||Ie===void 0||Ie.setFieldValue("enableBindHost",!0)}}),se=t.data.env.ports,t.data.env.ports&&(se=t.data.env.ports.map(function(J){return J.host=J.host!=""?(J.hostIp?J.hostIp+":":"")+J.host:"",J})),(de=B.current)===null||de===void 0||de.setFieldsValue({siteTitle:t.data.siteTitle,siteName:t.data.siteName,imageName:t.data.env.imageName,privileged:t.data.env.privileged,bindIpV6:t.data.env.useHostNetwork?!1:De,useHostNetwork:t.data.env.useHostNetwork,publishAllPorts:t.data.env.useHostNetwork?!1:t.data.env.publishAllPorts,workDir:{value:t.data.env.workDir,useDefault:!t.data.env.workDir,default:X&&X.info.Config&&X.info.Config.WorkingDir},user:{value:t.data.env.user,useDefault:!t.data.env.user,default:X&&X.info.Config&&X.info.Config.User},command:{value:t.data.env.command,useDefault:!t.data.env.command,default:X&&X.info.Config&&X.info.Config.Cmd&&X.info.Config.Cmd.join(" ")},entrypoint:{value:t.data.env.entrypoint,useDefault:!t.data.env.entrypoint,default:X&&X.info.Config&&X.info.Config.Entrypoint&&X.info.Config.Entrypoint.join(" ")},shmsize:(fe=t.data.env.shmsize)!==null&&fe!==void 0?fe:"64M",cpus:t.data.env.cpus,memory:t.data.env.memory,environment:t.data.env.environment,label:t.data.env.label,volumes:t.data.env.volumes,ports:se,links:t.data.env.links,network:t.data.env.network,restart:t.data.env.restart,extraHosts:t.data.env.extraHosts,autoRemove:t.data.env.autoRemove,log:t.data.env.log,dns:t.data.env.dns&&t.data.env.dns.join(`
`),ipV4:t.data.env.ipV4,ipV6:t.data.env.ipV6,gpus:t.data.env.gpus,device:t.data.env.device,hook:t.data.env.hook,hostPid:t.data.env.hostPid,capAdd:t.data.env.capAdd&&Object.fromEntries(t.data.env.capAdd.map(function(J){return[J,!0]}))}),t.data.env.ipV6&&((Pe=B.current)===null||Pe===void 0||Pe.setFieldValue("enableIpV6Address",!0)),t.data.env.healthcheck&&t.data.env.healthcheck.cmd&&t.data.env.healthcheck.cmd!=""&&((Le=B.current)===null||Le===void 0||Le.setFieldsValue({healthcheck:t.data.env.healthcheck}));case 22:case"end":return Ce.stop()}},G,null,[[2,9]])}));return function(G){return u.apply(this,arguments)}}()).finally(function(){A.destroy()});else{var re,M;(re=B.current)===null||re===void 0||re.resetFields(),(M=B.current)===null||M===void 0||M.setFieldValue("useBridgeNetwork",!0)}},[C]),(0,e.jsx)(x._z,{children:(0,e.jsx)(f.Z,{direction:"column",gutter:[0,10],children:(0,e.jsxs)(T.A,{submitter:{render:function(M,u){return(0,e.jsx)(S.S,{children:u})}},formRef:B,onFinish:function(){var re=F()(s()().mark(function M(u){var G,t,de,fe,X,ie;return s()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(ie={siteTitle:u.siteTitle,siteName:u.siteName,hostname:u.hostname,imageName:u.imageName,environment:u.environment,links:u.links,ports:u.ports,volumes:u.volumes,network:(G=u.network)!==null&&G!==void 0?G:[],privileged:(t=u.privileged)!==null&&t!==void 0?t:!1,autoRemove:(de=u.autoRemove)!==null&&de!==void 0?de:!1,restart:u.restart,cpus:u.cpus,memory:u.memory,shmsize:(fe=u.shmsize)!==null&&fe!==void 0?fe:0,workDir:u.workDir&&!u.workDir.useDefault?u.workDir.value:"",user:u.user&&!u.user.useDefault?u.user.value:"",command:u.command&&!u.command.useDefault?u.command.value:"",entrypoint:u.entrypoint&&!u.entrypoint.useDefault?u.entrypoint.value:"",useHostNetwork:u.useHostNetwork,bindIpV6:u.bindIpV6,log:u.log,dns:u.dns&&u.dns!=""?u.dns.split(`
`):[],label:u.label,publishAllPorts:u.publishAllPorts,extraHosts:u.extraHosts,ipV4:u.ipV4,ipV6:u.ipV6,device:u.device,gpus:u.gpus,hook:u.hook,hostPid:u.hostPid,capAdd:u.capAdd?Object.keys(u.capAdd).map(function(Pe){return Pe}):[],useBridgeNetwork:(X=u.useBridgeNetwork)!==null&&X!==void 0?X:!0},!(!u.useBridgeNetwork&&!u.useHostNetwork&&(!u.network||u.network.length==0))){se.next=4;break}return K.error("\u4E0D\u52A0\u5165 Bridge \u7F51\u7EDC\u65F6\uFF0C\u5FC5\u987B\u6307\u5B9A\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7F51\u7EDC"),se.abrupt("return",!1);case 4:return u.useBridgeNetwork&&ie.network.push({name:"bridge",alise:[],ipV4:""}),u.healthcheck&&u.healthcheck.cmd&&u.healthcheck.cmd!=""&&(ie.healthcheck=u.healthcheck),H&&(ie.containerId=ie.siteName),se.next=9,(0,Ke.$G)(ie);case 9:return _("/app/list"),se.abrupt("return",!0);case 11:case"end":return se.stop()}},M)}));return function(M){return re.apply(this,arguments)}}(),children:[(0,e.jsxs)(f.Z,{title:"\u57FA\u7840\u4FE1\u606F",headerBordered:!0,children:[(0,e.jsx)(i.Z,{name:"siteTitle",label:"\u5BB9\u5668\u63CF\u8FF0",fieldProps:{onChange:function(M){var u="";if(M.target.value&&!H){var G,t=(0,un.N9)(M.target.value.trim(),{toneType:"none",type:"array"});u=t.join(""),(G=B.current)===null||G===void 0||G.setFieldValue("siteName",u)}}},placeholder:"\u8BF7\u8F93\u5165\u5BB9\u5668\u63CF\u8FF0\u540D\u79F0"}),(0,e.jsxs)(U.UW,{children:[(0,e.jsx)(i.Z,{width:"lg",name:"siteName",label:"\u5BB9\u5668\u6807\u8BC6",tooltip:"\u5BB9\u5668\u552F\u4E00\u6807\u8BC6\uFF0C\u7528\u4E8E\u6807\u8BC6\u5BB9\u5668\u548C\u5185\u90E8\u8BBF\u95EE",required:!0,rules:[{required:!0}],placeholder:"\u8BF7\u8F93\u5165\u5BB9\u5668\u6807\u8BC6\u540D\u79F0"}),(0,e.jsx)(i.Z,{label:"Hostname",name:"hostname",width:"md"})]}),(0,e.jsx)(ye,{redeploy:!!H,fromImageId:Be})]}),(0,e.jsx)(Z.Z,{offsetTop:50,children:(0,e.jsx)(f.Z,{style:{marginBottom:-20},children:(0,e.jsx)(te.Z,{activeKey:y,onChange:function(M){Y(M),window.scrollTo(0,450)},items:[{label:"\u57FA\u672C\u914D\u7F6E",key:"basic"},{label:"\u5173\u8054\u914D\u7F6E",key:"link"},{label:"\u8FD0\u884C\u914D\u7F6E",key:"run-command"},{label:"\u8D44\u6E90\u914D\u7F6E",key:"resource"},{label:"Hook",key:"hook"},{label:"\u80FD\u529B\u914D\u7F6E",key:"cap"},{label:"\u5176\u5B83",key:"other"}]})})}),(0,e.jsxs)(Ae.Z,{show:y=="basic",children:[(0,e.jsx)(sn,{ref:p,showBindHost:!0,showBindIpV6:!0}),(0,e.jsx)(xe.Z,{showAddButton:!0,showImportButton:!0,showCodeMode:!0,label:"\u73AF\u5883\u53D8\u91CF",ref:D}),(0,e.jsx)($e,{showDefault:!0,ref:m}),(0,e.jsx)(N.Z,{name:["siteName","useHostNetwork"],children:function(M){var u=M.siteName,G=M.useHostNetwork;if(!G)return(0,e.jsx)(mn,{})}})]}),(0,e.jsx)(Ae.Z,{show:y=="link",children:(0,e.jsx)(N.Z,{name:["siteName","useHostNetwork"],children:function(M){var u=M.siteName,G=M.useHostNetwork;return G?(0,e.jsx)(r.Z,{showIcon:!0,description:"\u7ED1\u5B9A\u5230\u5BBF\u4E3B\u673A\u7F51\u7EDC\u65F6\uFF0C\u65E0\u6CD5\u901A\u8FC7 Docker \u5173\u8054\u5176\u5B83\u5BB9\u5668\u3002\u8BF7\u4F7F\u7528\u5BBF\u4E3B\u673A\u5185\u7F51IP\u6216\u662F127.0.0.1\u4E92\u8054\u5BB9\u5668\u66B4\u9732\u7AEF\u53E3\u3002"}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ge,{onAddEnv:function(de,fe){var X;(X=D.current)===null||X===void 0||X.addEnvItem(de,fe)},ref:V}),(0,e.jsx)(on,{showUseBridgeNetwork:!0,siteName:u}),(0,e.jsx)(dn,{})]})}})}),(0,e.jsx)(Ae.Z,{show:y=="run-command",children:(0,e.jsx)(tn,{})}),(0,e.jsx)(Ae.Z,{show:y=="resource",children:(0,e.jsx)(Je,{})}),(0,e.jsx)(Ae.Z,{show:y=="hook",children:(0,e.jsx)(fn,{})}),(0,e.jsx)(Ae.Z,{show:y=="other",children:(0,e.jsx)(Qe,{})}),(0,e.jsx)(Ae.Z,{show:y=="cap",children:(0,e.jsx)(_n,{})})]},"form")})})}},2831:function(me,k,n){n.d(k,{Ll:function(){return S},aF:function(){return g},d6:function(){return U},u5:function(){return f}});var I=n(15009),s=n.n(I),$=n(99289),F=n.n($),P=n(82346);function g(){return x.apply(this,arguments)}function x(){return x=F()(s()().mark(function Z(){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,P.request)("/api/common/home/info",{method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},Z)})),x.apply(this,arguments)}function f(){return T.apply(this,arguments)}function T(){return T=F()(s()().mark(function Z(){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,P.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},Z)})),T.apply(this,arguments)}function S(){return i.apply(this,arguments)}function i(){return i=F()(s()().mark(function Z(){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,P.request)("/api/common/home/usage",{method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},Z)})),i.apply(this,arguments)}function U(){return N.apply(this,arguments)}function N(){return N=F()(s()().mark(function Z(){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,P.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},Z)})),N.apply(this,arguments)}},79245:function(me,k,n){n.d(k,{m:function(){return $},y:function(){return F}});var I=n(64599),s=n.n(I);function $(P){var g=[];if(!P||P=="")return g;var x=P.matchAll(/\$\{(\w+)[:-?=]*(.*?)\}/g),f=s()(x),T;try{for(f.s();!(T=f.n()).done;){var S=T.value;g.push({name:S[1],value:S[2]?S[2].indexOf("-")==0?S[2].substring(1):S[2]:""})}}catch(i){f.e(i)}finally{f.f()}return g}function F(P,g){return!P||!g?!1:(P&g)!==0}}}]);
