"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7523],{86615:function(le,w,e){var c=e(1413),a=e(45987),j=e(22270),d=e(78045),m=e(67294),I=e(90789),O=e(35510),n=e(85893),B=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],G=m.forwardRef(function(l,C){var L=l.fieldProps,r=l.options,o=l.radioType,h=l.layout,f=l.proFieldProps,E=l.valueEnum,_=(0,a.Z)(l,B);return(0,n.jsx)(O.Z,(0,c.Z)((0,c.Z)({valueType:o==="button"?"radioButton":"radio",ref:C,valueEnum:(0,j.h)(E,void 0)},_),{},{fieldProps:(0,c.Z)({options:r,layout:h},L),proFieldProps:f,filedConfig:{customLightMode:!0}}))}),V=m.forwardRef(function(l,C){var L=l.fieldProps,r=l.children;return(0,n.jsx)(d.ZP,(0,c.Z)((0,c.Z)({},L),{},{ref:C,children:r}))}),v=(0,I.G)(V,{valuePropName:"checked",ignoreWidth:!0}),R=v;R.Group=G,R.Button=d.ZP.Button,R.displayName="ProFormComponent",w.Z=R},1677:function(le,w,e){var c=e(1413),a=e(45987),j=e(88484),d=e(31365),m=e(28036),I=e(67294),O=e(9105),n=e(90789),B=e(85893),G=["fieldProps","action","accept","listType","title","max","icon","buttonProps","disabled","proFieldProps"],V=function(l,C){var L,r=l.fieldProps,o=l.action,h=l.accept,f=l.listType,E=l.title,_=E===void 0?"\u5355\u51FB\u4E0A\u4F20":E,F=l.max,s=l.icon,u=s===void 0?(0,B.jsx)(j.Z,{}):s,P=l.buttonProps,g=l.disabled,D=l.proFieldProps,i=(0,a.Z)(l,G),Q=(0,I.useMemo)(function(){var te;return(te=i.fileList)!==null&&te!==void 0?te:i.value},[i.fileList,i.value]),ee=(0,I.useContext)(O.A),$=(D==null?void 0:D.mode)||ee.mode||"edit",T=(F===void 0||!Q||(Q==null?void 0:Q.length)<F)&&$!=="read",de=(f!=null?f:r==null?void 0:r.listType)==="picture-card";return(0,B.jsx)(d.Z,(0,c.Z)((0,c.Z)({action:o,accept:h,ref:C,listType:f||"picture",fileList:Q},r),{},{name:(L=r==null?void 0:r.name)!==null&&L!==void 0?L:"file",onChange:function(ue){var X;r==null||(X=r.onChange)===null||X===void 0||X.call(r,ue)},children:T&&(de?(0,B.jsxs)("span",{children:[u," ",_]}):(0,B.jsxs)(m.ZP,(0,c.Z)((0,c.Z)({disabled:g||(r==null?void 0:r.disabled)},P),{},{children:[u,_]})))}))},v=(0,n.G)(I.forwardRef(V),{getValueFromEvent:function(l){return l.fileList}});w.Z=v},184:function(le,w,e){e.d(w,{a:function(){return P}});var c=e(4942),a=e(74165),j=e(15861),d=e(1413),m=e(97685),I=e(45987),O=e(12044),n=e(51812),B=e(48171),G=e(73177),V=e(21532),v=e(85265),R=e(93967),l=e.n(R),C=e(55917),L=e(21770),r=e(80334),o=e(67294),h=e(73935),f=e(89671),E=e(98082),_=function(D){return(0,c.Z)({},D.componentCls,{"&-sidebar-dragger":{width:"5px",cursor:"ew-resize",padding:"4px 0 0",borderTop:"1px solid transparent",position:"absolute",top:0,left:0,bottom:0,zIndex:100,backgroundColor:"transparent","&-min-disabled":{cursor:"w-resize"},"&-max-disabled":{cursor:"e-resize"}}})};function F(g){return(0,E.Xj)("DrawerForm",function(D){var i=(0,d.Z)((0,d.Z)({},D),{},{componentCls:".".concat(g)});return[_(i)]})}var s=e(85893),u=["children","trigger","onVisibleChange","drawerProps","onFinish","submitTimeout","title","width","resize","onOpenChange","visible","open"];function P(g){var D,i,Q=g.children,ee=g.trigger,$=g.onVisibleChange,T=g.drawerProps,de=g.onFinish,te=g.submitTimeout,ue=g.title,X=g.width,W=g.resize,S=g.onOpenChange,oe=g.visible,ne=g.open,A=(0,I.Z)(g,u);(0,r.ET)(!A.footer||!(T!=null&&T.footer),"DrawerForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002");var y=o.useMemo(function(){var z,M,b,U={onResize:function(){},maxWidth:(0,O.j)()?window.innerWidth*.8:void 0,minWidth:300};return typeof W=="boolean"?W?U:{}:(0,n.Y)({onResize:(z=W==null?void 0:W.onResize)!==null&&z!==void 0?z:U.onResize,maxWidth:(M=W==null?void 0:W.maxWidth)!==null&&M!==void 0?M:U.maxWidth,minWidth:(b=W==null?void 0:W.minWidth)!==null&&b!==void 0?b:U.minWidth})},[W]),N=(0,o.useContext)(V.ZP.ConfigContext),q=N.getPrefixCls("pro-form-drawer"),ce=F(q),me=ce.wrapSSR,ge=ce.hashId,ie=function(M){return"".concat(q,"-").concat(M," ").concat(ge)},ae=(0,o.useState)([]),Oe=(0,m.Z)(ae,2),Pe=Oe[1],he=(0,o.useState)(!1),Z=(0,m.Z)(he,2),p=Z[0],t=Z[1],x=(0,o.useState)(!1),H=(0,m.Z)(x,2),K=H[0],re=H[1],k=(0,o.useState)(X||(W?y==null?void 0:y.minWidth:800)),fe=(0,m.Z)(k,2),De=fe[0],Ce=fe[1],Me=(0,L.Z)(!!oe,{value:ne||oe,onChange:S||$}),Te=(0,m.Z)(Me,2),pe=Te[0],ve=Te[1],Fe=(0,o.useRef)(null),Ae=(0,o.useCallback)(function(z){Fe.current===null&&z&&Pe([]),Fe.current=z},[]),_e=(0,o.useRef)(),xe=(0,o.useCallback)(function(){var z,M,b,U=(z=(M=(b=A.formRef)===null||b===void 0?void 0:b.current)!==null&&M!==void 0?M:A.form)!==null&&z!==void 0?z:_e.current;U&&T!==null&&T!==void 0&&T.destroyOnClose&&U.resetFields()},[T==null?void 0:T.destroyOnClose,A.form,A.formRef]);(0,o.useEffect)(function(){pe&&(ne||oe)&&(S==null||S(!0),$==null||$(!0)),K&&Ce(y==null?void 0:y.minWidth)},[oe,pe,K]),(0,o.useImperativeHandle)(A.formRef,function(){return _e.current},[_e.current]);var Y=(0,o.useMemo)(function(){return ee?o.cloneElement(ee,(0,d.Z)((0,d.Z)({key:"trigger"},ee.props),{},{onClick:function(){var z=(0,j.Z)((0,a.Z)().mark(function b(U){var se,J;return(0,a.Z)().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:ve(!pe),re(!Object.keys(y)),(se=ee.props)===null||se===void 0||(J=se.onClick)===null||J===void 0||J.call(se,U);case 3:case"end":return Ee.stop()}},b)}));function M(b){return z.apply(this,arguments)}return M}()})):null},[ve,ee,pe,re,K]),ye=(0,o.useMemo)(function(){var z,M,b,U;return A.submitter===!1?!1:(0,C.Z)({searchConfig:{submitText:(z=(M=N.locale)===null||M===void 0||(M=M.Modal)===null||M===void 0?void 0:M.okText)!==null&&z!==void 0?z:"\u786E\u8BA4",resetText:(b=(U=N.locale)===null||U===void 0||(U=U.Modal)===null||U===void 0?void 0:U.cancelText)!==null&&b!==void 0?b:"\u53D6\u6D88"},resetButtonProps:{preventDefault:!0,disabled:te?p:void 0,onClick:function(J){var Be;ve(!1),T==null||(Be=T.onClose)===null||Be===void 0||Be.call(T,J)}}},A.submitter)},[A.submitter,(D=N.locale)===null||D===void 0||(D=D.Modal)===null||D===void 0?void 0:D.okText,(i=N.locale)===null||i===void 0||(i=i.Modal)===null||i===void 0?void 0:i.cancelText,te,p,ve,T]),je=(0,o.useCallback)(function(z,M){return(0,s.jsxs)(s.Fragment,{children:[z,Fe.current&&M?(0,s.jsx)(o.Fragment,{children:(0,h.createPortal)(M,Fe.current)},"submitter"):M]})},[]),Ze=(0,B.J)(function(){var z=(0,j.Z)((0,a.Z)().mark(function M(b){var U,se,J;return(0,a.Z)().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return U=de==null?void 0:de(b),te&&U instanceof Promise&&(t(!0),se=setTimeout(function(){return t(!1)},te),U.finally(function(){clearTimeout(se),t(!1)})),Ee.next=4,U;case 4:return J=Ee.sent,J&&ve(!1),Ee.abrupt("return",J);case 7:case"end":return Ee.stop()}},M)}));return function(M){return z.apply(this,arguments)}}()),Ie=(0,G.X)(pe,$),Re=(0,o.useCallback)(function(z){var M,b,U=(document.body.offsetWidth||1e3)-(z.clientX-document.body.offsetLeft),se=(M=y==null?void 0:y.minWidth)!==null&&M!==void 0?M:X||800,J=(b=y==null?void 0:y.maxWidth)!==null&&b!==void 0?b:window.innerWidth*.8;if(U<se){Ce(se);return}if(U>J){Ce(J);return}Ce(U)},[y==null?void 0:y.maxWidth,y==null?void 0:y.minWidth,X]),be=(0,o.useCallback)(function(){document.removeEventListener("mousemove",Re),document.removeEventListener("mouseup",be)},[Re]);return me((0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(v.Z,(0,d.Z)((0,d.Z)((0,d.Z)({title:ue,width:De},T),Ie),{},{afterOpenChange:function(M){var b;M||xe(),T==null||(b=T.afterOpenChange)===null||b===void 0||b.call(T,M)},onClose:function(M){var b;te&&p||(ve(!1),T==null||(b=T.onClose)===null||b===void 0||b.call(T,M))},footer:A.submitter!==!1&&(0,s.jsx)("div",{ref:Ae,style:{display:"flex",justifyContent:"flex-end"}}),children:[W?(0,s.jsx)("div",{className:l()(ie("sidebar-dragger"),ge,(0,c.Z)((0,c.Z)({},ie("sidebar-dragger-min-disabled"),De===(y==null?void 0:y.minWidth)),ie("sidebar-dragger-max-disabled"),De===(y==null?void 0:y.maxWidth))),onMouseDown:function(M){var b;y==null||(b=y.onResize)===null||b===void 0||b.call(y),M.stopPropagation(),M.preventDefault(),document.addEventListener("mousemove",Re),document.addEventListener("mouseup",be),re(!0)}}):null,(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(f.I,(0,d.Z)((0,d.Z)({formComponentType:"DrawerForm",layout:"vertical"},A),{},{formRef:_e,onInit:function(M,b){var U;A.formRef&&(A.formRef.current=b),A==null||(U=A.onInit)===null||U===void 0||U.call(A,M,b),_e.current=b},submitter:ye,onFinish:function(){var z=(0,j.Z)((0,a.Z)().mark(function M(b){var U;return(0,a.Z)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,Ze(b);case 2:return U=J.sent,J.abrupt("return",U);case 4:case"end":return J.stop()}},M)}));return function(M){return z.apply(this,arguments)}}(),contentRender:je,children:Q}))})]})),Y]}))}},37476:function(le,w,e){e.d(w,{Y:function(){return r}});var c=e(74165),a=e(15861),j=e(1413),d=e(97685),m=e(45987),I=e(73177),O=e(21532),n=e(85576),B=e(55917),G=e(21770),V=e(80334),v=e(67294),R=e(73935),l=e(89671),C=e(85893),L=["children","trigger","onVisibleChange","onOpenChange","modalProps","onFinish","submitTimeout","title","width","visible","open"];function r(o){var h,f,E=o.children,_=o.trigger,F=o.onVisibleChange,s=o.onOpenChange,u=o.modalProps,P=o.onFinish,g=o.submitTimeout,D=o.title,i=o.width,Q=o.visible,ee=o.open,$=(0,m.Z)(o,L);(0,V.ET)(!$.footer||!(u!=null&&u.footer),"ModalForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002");var T=(0,v.useContext)(O.ZP.ConfigContext),de=(0,v.useState)([]),te=(0,d.Z)(de,2),ue=te[1],X=(0,v.useState)(!1),W=(0,d.Z)(X,2),S=W[0],oe=W[1],ne=(0,G.Z)(!!Q,{value:ee||Q,onChange:s||F}),A=(0,d.Z)(ne,2),y=A[0],N=A[1],q=(0,v.useRef)(null),ce=(0,v.useCallback)(function(Z){q.current===null&&Z&&ue([]),q.current=Z},[]),me=(0,v.useRef)(),ge=(0,v.useCallback)(function(){var Z,p,t,x=(Z=(p=$.form)!==null&&p!==void 0?p:(t=$.formRef)===null||t===void 0?void 0:t.current)!==null&&Z!==void 0?Z:me.current;x&&u!==null&&u!==void 0&&u.destroyOnClose&&x.resetFields()},[u==null?void 0:u.destroyOnClose,$.form,$.formRef]);(0,v.useImperativeHandle)($.formRef,function(){return me.current},[me.current]),(0,v.useEffect)(function(){(ee||Q)&&(s==null||s(!0),F==null||F(!0))},[Q,ee]);var ie=(0,v.useMemo)(function(){return _?v.cloneElement(_,(0,j.Z)((0,j.Z)({key:"trigger"},_.props),{},{onClick:function(){var Z=(0,a.Z)((0,c.Z)().mark(function t(x){var H,K;return(0,c.Z)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:N(!y),(H=_.props)===null||H===void 0||(K=H.onClick)===null||K===void 0||K.call(H,x);case 2:case"end":return k.stop()}},t)}));function p(t){return Z.apply(this,arguments)}return p}()})):null},[N,_,y]),ae=(0,v.useMemo)(function(){var Z,p,t,x,H,K;return $.submitter===!1?!1:(0,B.Z)({searchConfig:{submitText:(Z=(p=u==null?void 0:u.okText)!==null&&p!==void 0?p:(t=T.locale)===null||t===void 0||(t=t.Modal)===null||t===void 0?void 0:t.okText)!==null&&Z!==void 0?Z:"\u786E\u8BA4",resetText:(x=(H=u==null?void 0:u.cancelText)!==null&&H!==void 0?H:(K=T.locale)===null||K===void 0||(K=K.Modal)===null||K===void 0?void 0:K.cancelText)!==null&&x!==void 0?x:"\u53D6\u6D88"},resetButtonProps:{preventDefault:!0,disabled:g?S:void 0,onClick:function(k){var fe;N(!1),u==null||(fe=u.onCancel)===null||fe===void 0||fe.call(u,k)}}},$.submitter)},[(h=T.locale)===null||h===void 0||(h=h.Modal)===null||h===void 0?void 0:h.cancelText,(f=T.locale)===null||f===void 0||(f=f.Modal)===null||f===void 0?void 0:f.okText,u,$.submitter,N,S,g]),Oe=(0,v.useCallback)(function(Z,p){return(0,C.jsxs)(C.Fragment,{children:[Z,q.current&&p?(0,C.jsx)(v.Fragment,{children:(0,R.createPortal)(p,q.current)},"submitter"):p]})},[]),Pe=(0,v.useCallback)(function(){var Z=(0,a.Z)((0,c.Z)().mark(function p(t){var x,H,K;return(0,c.Z)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return x=P==null?void 0:P(t),g&&x instanceof Promise&&(oe(!0),H=setTimeout(function(){return oe(!1)},g),x.finally(function(){clearTimeout(H),oe(!1)})),k.next=4,x;case 4:return K=k.sent,K&&N(!1),k.abrupt("return",K);case 7:case"end":return k.stop()}},p)}));return function(p){return Z.apply(this,arguments)}}(),[P,N,g]),he=(0,I.X)(y);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(n.Z,(0,j.Z)((0,j.Z)((0,j.Z)({title:D,width:i||800},u),he),{},{onCancel:function(p){var t;g&&S||(N(!1),u==null||(t=u.onCancel)===null||t===void 0||t.call(u,p))},afterClose:function(){var p;ge(),y&&N(!1),u==null||(p=u.afterClose)===null||p===void 0||p.call(u)},footer:$.submitter!==!1?(0,C.jsx)("div",{ref:ce,style:{display:"flex",justifyContent:"flex-end"}}):null,children:(0,C.jsx)(l.I,(0,j.Z)((0,j.Z)({formComponentType:"ModalForm",layout:"vertical"},$),{},{onInit:function(p,t){var x;$.formRef&&($.formRef.current=t),$==null||(x=$.onInit)===null||x===void 0||x.call($,p,t),me.current=t},formRef:me,submitter:ae,onFinish:function(){var Z=(0,a.Z)((0,c.Z)().mark(function p(t){var x;return(0,c.Z)().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,Pe(t);case 2:return x=K.sent,K.abrupt("return",x);case 4:case"end":return K.stop()}},p)}));return function(p){return Z.apply(this,arguments)}}(),contentRender:Oe,children:E}))})),ie]})}},34879:function(le,w,e){e.d(w,{Z:function(){return d}});var c=e(97961),a=e(1677),j=e(85893);function d(m){return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(a.Z,{max:1,title:m.title,label:m.label,required:m.required,rules:[{required:m.required}],fieldProps:{name:"file",accept:m.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(O){return new Promise(function(n){var B;(0,c._2)({path:(B=O.response.data.path)!==null&&B!==void 0?B:""}).then(function(G){n(!0)})})}},name:m.name})})}},74344:function(le,w,e){var c=e(5574),a=e.n(c),j=e(37476),d=e(38345),m=e(63713),I=e(67294),O=e(54964),n=e(85893),B=(0,I.forwardRef)(function(G,V){(0,I.useImperativeHandle)(V,function(){return{start:function(){for(var F=arguments.length,s=new Array(F),u=0;u<F;u++)s[u]=arguments[u];h(s.join(":")),C(!0)},reset:function(){var F;(F=E.current)===null||F===void 0||F.clear(),C(!1)},show:function(F){var s,u;(s=E.current)===null||s===void 0||s.clear(),(u=E.current)===null||u===void 0||u.write(F),C(!0)}}});var v=(0,I.useState)(!1),R=a()(v,2),l=R[0],C=R[1],L=(0,I.useState)(""),r=a()(L,2),o=r[0],h=r[1],f=(0,m.useModel)("subscriber"),E=(0,I.useRef)();return f.addDataHandler("image:"+o,function(_){var F;(F=E.current)===null||F===void 0||F.write(_.data)}),(0,I.useEffect)(function(){var _;(_=E.current)===null||_===void 0||_.fit()},[]),(0,n.jsx)(j.Y,{modalProps:{forceRender:!0},title:"\u6784\u5EFA\u65E5\u5FD7",submitter:!1,width:1e3,onOpenChange:function(F){if(C(F),F){var s,u;(s=E.current)===null||s===void 0||s.clear(),(u=E.current)===null||u===void 0||u.fit()}},open:l,children:(0,n.jsx)(d.Z,{ghost:!0,children:(0,n.jsx)(O.Z,{showInModal:!0,width:"960px",height:"500px",ref:E})})})});w.Z=B},12491:function(le,w,e){e.d(w,{Z:function(){return n}});var c=e(24963),a=e(88484),j=e(62370),d=e(31418),m=e(28036),I=e(67294),O=e(85893);function n(B){var G=(0,I.useContext)(c.Z),V=G.message,v=G.notice,R=G.lang,l=(0,I.useRef)(null),C=d.Z.useApp(),L=function(){l.current&&(l.current.click(),l.current.onchange=function(o){if(!o||!o.target)return"";var h=new FileReader;h.onload=function(E){var _,F,s=(_=E.target)===null||_===void 0?void 0:_.result;if(B.onLoad)try{B.onLoad&&B.onLoad(s)}catch(u){v.error(u);return}typeof B.onImport=="function"&&(V.success("\u6210\u529F\u5BFC\u5165 ".concat(B.title)),B.onImport(s)),(F=l.current)!==null&&F!==void 0&&F.value&&(l.current.value="")};var f=o.target;if(f.files)try{h.readAsText(f.files[0])}catch(E){v.error("\u5BFC\u5165\u6587\u4EF6\u5FC5\u987B\u662F\u6587\u672C\u7C7B\u578B")}})};return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(j.Z,{children:(0,O.jsx)(m.ZP,{icon:(0,O.jsx)(a.Z,{}),block:!0,onClick:L,children:B.title})}),(0,O.jsx)("input",{style:{display:"none"},type:"file",ref:l,name:"importFileInput"})]})}},54964:function(le,w,e){e.d(w,{a:function(){return v}});var c=e(5574),a=e.n(c),j=e(78267),d=e.n(j),m=e(75458),I=e.n(m),O=e(67294),n=e(12320),B=e.n(n),G=e(89629),V=e(85893),v={convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,cursorStyle:"block",cursorBlink:!0,theme:{foreground:"#bfbfbf",cursor:"gray",selectionForeground:"#ffffff"}},R=new n.Terminal(v),l=new m.SearchAddon,C=new j.FitAddon,L=(0,O.forwardRef)(function(r,o){var h,f=(0,O.useState)(!0),E=a()(f,2),_=E[0],F=E[1];return(0,O.useEffect)(function(){return window.addEventListener("resize",function(){r.showInModal||C.fit()}),r.style&&r.style.fontSize&&(R.options.fontSize=r.style.fontSize),R.loadAddon(C),R.loadAddon(l),R.open(document.getElementById("terminal-container")),r.showInModal||C.fit(),function(){R.clear(),F(!0)}},[]),(0,O.useImperativeHandle)(o,function(){return{write:function(u){_&&(C.fit(),F(!1)),R.write(u)},clear:function(){R.clear()},getTerminal:function(){return R},findNext:function(u){l.findNext(u)},findPrev:function(u){l.findPrevious(u)},fit:function(){C.fit()},onData:function(u){R.onData(u)}}}),(0,V.jsx)("div",{id:"terminal-container",style:{width:r.width?r.width:"100%",height:r.height?r.height:"500px",marginTop:(h=r.style)===null||h===void 0?void 0:h.marginTop}})});w.Z=L},24963:function(le,w,e){var c=e(67294),a=(0,c.createContext)({});w.Z=a},77096:function(le,w,e){e.r(w),e.d(w,{default:function(){return te}});var c=e(15009),a=e.n(c),j=e(99289),d=e.n(j),m=e(5574),I=e.n(m),O=e(5966),n=e(85893);function B(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(O.Z,{fieldProps:{min:2,max:255},rules:[{required:!0}],required:!0,placeholder:"\u6307\u5B9AGit\u5730\u5740\uFF0C\u79C1\u6709\u4ED3\u5E93\u8BF7\u9644\u52A0\u6743\u9650\u3002\u4EC5\u652F\u6301Master\u5206\u652F",label:"Git\u4ED3\u5E93\u5730\u5740",name:"buildGit"})})}var G=e(34879),V=e(74344),v=e(67294),R=e(95089),l=e(62370),C=e(184),L=e(86615),r=e(97462),o=e(97961),h=e(28036),f=e(34041);function E(ue){var X=(0,v.useState)([]),W=I()(X,2),S=W[0],oe=W[1];return(0,v.useEffect)(function(){(0,o.MF)().then(function(ne){var A=Object.keys(ne.data).map(function(y){return ne.data[y]});oe(A)})},[]),(0,n.jsx)(l.Z,{children:(0,n.jsxs)(C.a,{trigger:(0,n.jsx)(h.ZP,{block:!0,children:"\u4F7F\u7528\u6A21\u677F\u751F\u6210"}),onFinish:function(A){return new Promise(function(y,N){var q=A[A.language+"EnvVersion"].split("|"),ce=I()(q,2),me=ce[0],ge=ce[1],ie="FROM ".concat(me,`
# \u5E94\u7528\u76EE\u5F55\u4F4D\u4E8E /app
# \u53EF\u901A\u7BA1\u5BB9\u5668 - \u6587\u4EF6\u7BA1\u7406, \u4E0A\u4F20\u4EE3\u7801\u81F3\u6B64\u76EE\u5F55\u5E76\u4FEE\u6539\u6743\u9650

WORKDIR /app
VOLUME [ "/app" ]
EXPOSE 80

# \u81EA\u5B9A\u4E49\u5B89\u88C5\u7EC4\u4EF6\u3001\u6269\u5C55\u6216\u662F\u5E93, \u4F8B\u5982:
# RUN apk add --no-cache --update vim
`);switch(A.language){case"php":ie+=`
                
# \u7AD9\u70B9\u76EE\u5F55\u4F4D\u4E8E /app/wwwroot \u53EF\u4E0A\u4F20\u6216\u662F\u4FEE\u6539\u7AD9\u70B9\u6587\u4EF6
# nginx \u914D\u7F6E\u4F4D\u4E8E /app/nginx/ \u53EF\u4FEE\u6539\u589E\u52A0\u81EA\u5B9A\u4E49\u914D\u7F6E
# \u901A\u8FC7\u8BBF\u95EE\u5BB9\u5668\u8FD0\u884C\u6620\u5C04\u7AEF\u53E3\uFF0C\u67E5\u770B\u73AF\u5883\u53CA\u6269\u5C55\u4FE1\u606F

`,A.language=="php"&&A.phpExt&&(ie+="RUN apk add --no-cache --update ",A.phpExt.map(function(ae){ie+="php".concat(ge,"-").concat(ae," ")}));break;case"golang":ie+=`
# \u53EF\u4EE5\u4FEE\u6539 RUN_COMMAND \u73AF\u5883\u53D8\u91CF, \u66F4\u6539\u542F\u52A8\u6267\u884C\u547D\u4EE4
ENV RUN_COMMAND="go version"`;break;default:break}ue.onFinish(ie),y(!0)})},children:[(0,n.jsx)(L.Z.Group,{radioType:"button",name:"language",label:"\u7A0B\u5E8F\u8BED\u8A00",options:S.map(function(ne){return{label:ne.name,value:ne.name}}),required:!0}),(0,n.jsx)(r.Z,{name:["language"],children:function(A){var y=A.language;return y?(0,n.jsx)(n.Fragment,{children:S.map(function(N){if(N.name==y)return(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Z,{name:"".concat(N.name,"EnvVersion"),label:"\u73AF\u5883\u7248\u672C",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7A0B\u5E8F\u8FD0\u884C\u7684\u73AF\u5883"}],children:(0,n.jsx)(f.Z,{options:N.env.map(function(q){return{label:q.name,value:q.baseImage}}),placeholder:"\u8BF7\u9009\u62E9\u5177\u4F53\u7684\u73AF\u5883\u7248\u672C"},"".concat(N.name,"Select"))},N.name),N.name=="php"&&(0,n.jsx)(l.Z,{label:"php\u6269\u5C55",name:"phpExt",children:(0,n.jsx)(f.Z,{options:N.ext.map(function(q){return{label:q,value:q}}),mode:"multiple",placeholder:"\u8BF7\u9009\u62E9\u8981\u5B89\u88C5\u7684php\u6269\u5C55"},"phpExtSelect")},"phpExt")]},"envSelect")})}):(0,n.jsx)(n.Fragment,{})}})]})})}var _=e(12491);function F(ue){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(_.Z,{title:"\u5BFC\u5165\u672C\u5730Dockerfile\u6587\u4EF6",onImport:function(W){var S;return(S=ue.createFormRef.current)===null||S===void 0||S.setFieldValue("buildDockerfile",W),!0},onLoad:function(W){if(W.indexOf("FROM ")<0)throw new Error("\u5BFC\u5165Dockerfile\u6587\u4EF6\u9519\u8BEF");return!0}}),(0,n.jsx)(E,{onFinish:function(W){var S;(S=ue.createFormRef.current)===null||S===void 0||S.setFieldValue("buildDockerfile",W)}}),(0,n.jsx)(l.Z,{shouldUpdate:!0,children:function(W){var S=W.getFieldValue;return(0,n.jsx)(l.Z,{name:"buildDockerfile",children:(0,n.jsx)(R.ZP,{value:S("buildDockerfile"),onChange:function(ne){var A;(A=ue.createFormRef.current)===null||A===void 0||A.setFieldValue("buildDockerfile",ne)},height:"600px",theme:"dark",style:{marginBottom:"20px"}})})}})]})}var s=e(24963),u=e(18148),P=e(75870),g=e(38345),D=e(97269),i=e(64317),Q=e(90672),ee=e(63713),$=e(42075),T=e(83062),de=e(91845);function te(){var ue=(0,v.useContext)(s.Z),X=ue.loading,W=ue.message,S=(0,v.useRef)(),oe=(0,v.useState)([]),ne=I()(oe,2),A=ne[0],y=ne[1],N=(0,ee.useSearchParams)(),q=I()(N,2),ce=q[0],me=q[1],ge=(0,v.useState)("dockerfile"),ie=I()(ge,2),ae=ie[0],Oe=ie[1],Pe=(0,ee.useNavigate)(),he=(0,v.useRef)();return(0,v.useEffect)(function(){var Z,p=(Z=ce.get("id"))!==null&&Z!==void 0?Z:0;p&&(X.show(),(0,u.T8)({id:parseInt(p)}).then(function(t){var x;Oe(t.data.task.buildType),(x=S.current)===null||x===void 0||x.setFieldsValue({title:t.data.task.title,imageTag:t.data.task.tag,imageRegistry:t.data.task.setting.registry,uploadType:t.data.task.buildType,buildRoot:t.data.task.setting.buildRoot,buildGit:t.data.task.setting.buildGit,buildDockerfile:t.data.task.setting.buildDockerfile,platform:t.data.task.setting.platform})}).finally(function(){X.destroy()}))},[]),(0,n.jsxs)(g.Z,{direction:"column",ghost:!0,gutter:[0,10],children:[(0,n.jsx)(g.Z,{bordered:!0,headerBordered:!0,children:(0,n.jsxs)(D.A,{submitter:{render:function(p,t){return(0,n.jsx)($.Z,{children:t})}},onFinish:function(){var Z=d()(a()().mark(function p(t){var x,H,K,re,k,fe,De,Ce,Me,Te,pe,ve,Fe,Ae,_e;return a()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(ae!="containerTar"){Y.next=8;break}return Y.next=3,(0,o.vC)({tag:t.imageTag,registry:t.imageRegistry,tar:(x=t.containerTar[0].response.data.path)!==null&&x!==void 0?x:"",cmd:t.cmd,workDir:t.workDir,expose:t.expose?t.expose.split(`
`):[],env:t.env?t.env.split(`
`):[],volume:t.volume?t.volume.split(`
`):[]});case 3:return H=Y.sent,Pe("/image/list"),Y.abrupt("return",!0);case 8:if(ae!="imageTar"){Y.next=20;break}return(K=he.current)===null||K===void 0||K.start("import",t.imageTag),Y.next=12,(0,o.GH)({tag:t.imageTag,tar:(re=t.imageTar[0].response.data.path)!==null&&re!==void 0?re:""});case 12:if(k=Y.sent,k.data.tag&&k.data.tag.map(function(ye){W.success("\u5BFC\u5165 "+ye+" \u955C\u50CF\u6210\u529F")}),!k){Y.next=18;break}return(fe=he.current)===null||fe===void 0||fe.reset(),Pe("/image/list"),Y.abrupt("return",!0);case 18:Y.next=34;break;case 20:return Me=(De=ce.get("id"))!==null&&De!==void 0?De:"0",Te=A&&A[0]?A[0].fileName:"",pe={name:"",arch:""},o.ii.map(function(ye){ye.name==t.platform&&(pe=ye)}),ve={id:parseInt(Me),tag:t.imageTag,title:t.title,registry:t.imageRegistry,buildRoot:t.buildRoot,buildDockerfile:t.buildDockerfile,buildZip:Te!=null?Te:"",buildGit:t.buildGit,buildType:ae,platform:pe.name,PlatformArch:pe.arch},t.buildZip&&t.buildZip.length>0&&(ve.buildZip=(Fe=t.buildZip[0].response.data.path)!==null&&Fe!==void 0?Fe:""),(Ce=he.current)===null||Ce===void 0||Ce.start("build",Me),Y.next=29,(0,o.fN)(ve);case 29:if(Ae=Y.sent,!Ae){Y.next=34;break}return(_e=he.current)===null||_e===void 0||_e.reset(),Pe("/image/list/recycle"),Y.abrupt("return",!0);case 34:case"end":return Y.stop()}},p)}));return function(p){return Z.apply(this,arguments)}}(),formRef:S,children:[(0,n.jsx)(O.Z,{label:"\u4EFB\u52A1\u540D\u79F0",name:"title",fieldProps:{onChange:function(p){var t="";if(p.target.value){var x,H=(0,de.N9)(p.target.value.trim(),{toneType:"none",type:"array"});t=H.join(""),(x=S.current)===null||x===void 0||x.setFieldValue("imageTag",t)}}}}),(0,n.jsx)(r.Z,{name:["uploadType"],children:function(p){var t=p.uploadType;if(t!="imageTar")return(0,n.jsx)(i.Z,{label:"\u955C\u50CF\u4ED3\u5E93",tooltip:(0,n.jsxs)(n.Fragment,{children:["\u63A8\u9001\u524D\u8BF7\u4FDD\u8BC1\u4ED3\u5E93\u4E2D\u6709\u6307\u5B9A\u7684\u547D\u540D\u7A7A\u95F4, \u5982\u6CA1\u6709\u8BF7\u5148 ",(0,n.jsx)("a",{href:"",target:"_blank",children:"\u6DFB\u52A0\u4ED3\u5E93"})]}),name:"imageRegistry",request:d()(a()().mark(function x(){var H;return a()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=2,(0,P.Ot)();case 2:return H=re.sent,re.abrupt("return",H.data.list.map(function(k){return{value:k.serverAddress,label:k.title+"("+k.serverAddress+")"}}));case 4:case"end":return re.stop()}},x)}))})}}),(0,n.jsx)(r.Z,{name:["imageRegistry","uploadType"],children:function(p){var t=p.imageRegistry,x=p.uploadType;if(x!="imageTar")return(0,n.jsx)(O.Z,{fieldProps:{min:2,max:255,addonBefore:"".concat(t||"","/")},rules:[{required:!0}],required:!0,tooltip:"\u4F8B\u5982: name:tag\u3001namespace/name:tag\u3001registry/namespace/name:tag",placeholder:"\u53EA\u80FD\u4F7F\u7528\u5C0F\u5199\u82F1\u6587\u5B57\u7B26\u3001\u6570\u5B57\u3001_\u3001-\u3001",label:"\u955C\u50CFTag",name:"imageTag"})}}),(0,n.jsx)(L.Z.Group,{name:"uploadType",label:"\u6784\u5EFA\u65B9\u5F0F",initialValue:ae,options:[{label:(0,n.jsx)(T.Z,{title:"\u901A\u8FC7 Dockerfile \u6587\u4EF6\u5FEB\u901F\u6784\u5EFA\u955C\u50CF",children:"Dockerfile"}),value:"dockerfile"},{label:(0,n.jsx)(T.Z,{title:"\u5C06 Dockerfile \u6587\u4EF6\u4E0E\u6784\u5EFA\u955C\u50CF\u7528\u5230\u7684\u8D44\u6E90\uFF0C\u901A\u8FC7\u4E0A\u4F20 Zip \u5305\u7684\u5F62\u5F0F\u6784\u5EFA\u955C\u50CF",children:"Zip\u5305"}),value:"zip"},{label:(0,n.jsx)(T.Z,{title:"\u5C06 Dockerfile \u6587\u4EF6\u4E0E\u6784\u5EFA\u955C\u50CF\u7528\u5230\u7684\u8D44\u6E90\u653E\u7F6E\u5230 Git \u4ED3\u5E93\u4E2D\uFF0C\u53EF\u4EE5\u6301\u7EED\u6027\u7684\u6784\u5EFA\u955C\u50CF",children:"Git\u6E90\u7801\u4ED3\u5E93"}),value:"git"},{label:(0,n.jsx)(T.Z,{title:"\u4E0A\u4F20\u5BB9\u5668\u5BFC\u51FA\u7684 Tar \u5305\uFF0C\u5E76\u81EA\u5B9A\u4E49\u53C2\u6570\u6784\u5EFA\u955C\u50CF\u3002\u5982\u679C\u4F60\u4E0D\u9700\u8981\u4FEE\u6539\u5BB9\u5668\u539F\u59CB\u914D\u7F6E\uFF0C\u53EF\u4EE5\u5728\u5BB9\u5668\u8BE6\u60C5\u9875\u4F7F\u7528\u3010\u5C06\u5BB9\u5668\u4FDD\u5B58\u4E3A\u955C\u50CF\u3011\u529F\u80FD",children:"\u5BFC\u5165\u5BB9\u5668Tar\u5305"}),value:"containerTar"},{label:(0,n.jsx)(T.Z,{title:"\u4E0A\u4F20\u955C\u50CF Tar \u5305\u6784\u5EFA\u955C\u50CF",children:"\u5BFC\u5165\u955C\u50CFTar\u5305"}),value:"imageTar"}],fieldProps:{onChange:function(p){Oe(p.target.value)}}}),(0,n.jsx)(r.Z,{name:["uploadType"],children:function(p){var t=p.uploadType;if(t=="containerTar")return[(0,n.jsx)(O.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u5DE5\u4F5C\u76EE\u5F55\uFF0C\u4E00\u822C\u6307\u5411\u4EE3\u7801\u7684\u6240\u5728\u76EE\u5F55",label:"\u5DE5\u4F5C\u76EE\u5F55",name:"workDir",placeholder:"\u9ED8\u8BA4\u4E3A / \u76EE\u5F55"},"workDir"),(0,n.jsx)(O.Z,{required:!0,tooltip:"\u901A\u8FC7\u5BB9\u5668\u5BFC\u5165\u955C\u50CF\u65F6\uFF0C\u5FC5\u987B\u6307\u5B9A\u542F\u52A8\u547D\u4EE4\uFF0C\u5426\u5219\u518D\u521B\u5EFA\u65F6\u65E0\u6CD5\u542F\u52A8",rules:[{required:!0}],label:"CMD",name:"cmd"},"cmd"),(0,n.jsx)(Q.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u5BF9\u5916\u66B4\u9732\u7684\u7AEF\u53E3\uFF0C\u4E00\u884C\u6307\u5B9A\u4E00\u4E2A\u7AEF\u53E3",label:"\u66B4\u9732\u7AEF\u53E3",name:"expose",placeholder:`80 
9000`},"expose"),(0,n.jsx)(Q.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u9700\u8981\u914D\u7F6E\u7684\u73AF\u5883\u53D8\u91CF\uFF0C\u4E00\u884C\u6307\u5B9A\u4E00\u4E2A\u73AF\u5883\u53D8\u91CF",label:"\u73AF\u5883\u53D8\u91CF",name:"env",placeholder:`TEST_VALUE=123 
TEST_NO_VALUE=`},"env"),(0,n.jsx)(Q.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u9700\u8981\u6301\u4E45\u5316\u7684\u76EE\u5F55\uFF0C\u4E00\u884C\u6307\u5B9A\u4E00\u4E2A\u76EE\u5F55",label:"\u5B58\u50A8\u5377\u76EE\u5F55",name:"volume",placeholder:`/app 
/home`},"volume")];if(t!="imageTar"){if(t=="zip"||t=="git")return(0,n.jsx)(O.Z,{name:"buildRoot",label:"Dockerfile\u6587\u4EF6\u4F4D\u7F6E",tooltip:"\u6307\u5B9ADockerfile\u6240\u5728\u7684\u76EE\u5F55",fieldProps:{addonBefore:"\u9ED8\u8BA4\u4EE5\u5305\u6216\u662F\u4ED3\u5E93\u76EE\u5F55\u5F00\u59CB\uFF08/\uFF09"},placeholder:"/Dockerfile"})}}}),ae=="zip"&&(0,n.jsx)(G.Z,{required:!0,label:"\u4E0A\u4F20\u6784\u5EFA\u5305 (\u53EA\u5141\u8BB8\u4E0A\u4F20 .zip \u6587\u4EF6\uFF0C\u4E14\u4E0E\u5305\u4E2D\u7684 Dockerfile \u6307\u5B9A\u7684\u76EE\u5F55\u4FDD\u6301\u4E00\u81F4)",name:"buildZip",accept:".zip"}),ae=="containerTar"&&(0,n.jsx)(G.Z,{required:!0,label:"\u5BFC\u5165\u5BB9\u5668\u5305\uFF08\u53EA\u5141\u8BB8\u4E0A\u4F20 .tar \u6587\u4EF6\uFF0C\u901A\u8FC7\u5BFC\u51FA\u5BB9\u5668\u751F\u6210\uFF09",name:"containerTar",accept:".tar"}),ae=="imageTar"&&(0,n.jsx)(G.Z,{required:!0,label:"\u5BFC\u5165\u955C\u50CF\u5305\uFF08\u53EA\u5141\u8BB8\u4E0A\u4F20 .tar \u6587\u4EF6\uFF0C\u901A\u8FC7\u5BFC\u51FA\u955C\u50CF\u751F\u6210\uFF09",name:"imageTar",accept:".tar"}),ae=="git"&&(0,n.jsx)(B,{}),ae=="dockerfile"&&(0,n.jsx)(F,{createFormRef:S})]})}),(0,n.jsx)(V.Z,{ref:he})]})}},97961:function(le,w,e){e.d(w,{GH:function(){return V},MF:function(){return C},_2:function(){return R},fN:function(){return O},ii:function(){return I},vC:function(){return B}});var c=e(15009),a=e.n(c),j=e(99289),d=e.n(j),m=e(63713),I=[{name:"linux/amd64",arch:"amd64",search:["amd64","x86_64","86_64"]},{name:"linux/arm64",arch:"arm64",search:["arm64","arrch64"]},{name:"linux/i386",arch:"386",search:[]},{name:"linux/arm/v6",arch:"arm",search:[]},{name:"linux/arm/v7",arch:"arm",search:[]},{name:"linux/arm/v8",arch:"arm64",search:[]},{name:"linux/ppc64le",arch:"ppc64le",search:[]},{name:"linux/riscv64",arch:"riscv64",search:[]}];function O(r){return n.apply(this,arguments)}function n(){return n=d()(a()().mark(function r(o){return a()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,m.request)("/api/app/image/create-by-dockerfile",{method:"POST",data:o}));case 1:case"end":return f.stop()}},r)})),n.apply(this,arguments)}function B(r){return G.apply(this,arguments)}function G(){return G=d()(a()().mark(function r(o){return a()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,m.request)("/api/app/image/import-by-container-tar",{method:"POST",data:o}));case 1:case"end":return f.stop()}},r)})),G.apply(this,arguments)}function V(r){return v.apply(this,arguments)}function v(){return v=d()(a()().mark(function r(o){return a()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,m.request)("/api/app/image/import-by-image-tar",{method:"POST",data:o}));case 1:case"end":return f.stop()}},r)})),v.apply(this,arguments)}function R(r){return l.apply(this,arguments)}function l(){return l=d()(a()().mark(function r(o){return a()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,m.request)("/api/common/attach/delete",{method:"POST",data:o});case 2:return f.abrupt("return",f.sent);case 3:case"end":return f.stop()}},r)})),l.apply(this,arguments)}function C(){return L.apply(this,arguments)}function L(){return L=d()(a()().mark(function r(){return a()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,m.request)("/api/app/image/get-template-list",{method:"POST"}));case 1:case"end":return h.stop()}},r)})),L.apply(this,arguments)}},18148:function(le,w,e){e.d(w,{$q:function(){return l},Fj:function(){return _},KG:function(){return I},KX:function(){return s},T8:function(){return v},Xn:function(){return G},ao:function(){return L},c5:function(){return f},c7:function(){return o}});var c=e(15009),a=e.n(c),j=e(99289),d=e.n(j),m=e(63713);function I(P){return O.apply(this,arguments)}function O(){return O=d()(a()().mark(function P(g){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,m.request)("/api/app/image/get-list",{method:"POST",data:g}));case 1:case"end":return i.stop()}},P)})),O.apply(this,arguments)}function n(P){return B.apply(this,arguments)}function B(){return B=_asyncToGenerator(_regeneratorRuntime().mark(function P(g){return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,request("/api/app/log/image-build",{method:"POST",data:g});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},P)})),B.apply(this,arguments)}function G(P){return V.apply(this,arguments)}function V(){return V=d()(a()().mark(function P(g){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,m.request)("/api/app/image/get-list-build",{method:"POST",data:g}));case 1:case"end":return i.stop()}},P)})),V.apply(this,arguments)}function v(P){return R.apply(this,arguments)}function R(){return R=d()(a()().mark(function P(g){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,m.request)("/api/app/image/get-build-task",{method:"POST",data:g});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},P)})),R.apply(this,arguments)}function l(P){return C.apply(this,arguments)}function C(){return C=d()(a()().mark(function P(g){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,m.request)("/api/app/image/delete-build-task",{method:"POST",data:g});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},P)})),C.apply(this,arguments)}function L(P){return r.apply(this,arguments)}function r(){return r=d()(a()().mark(function P(g){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,m.request)("/api/app/image/image-delete",{method:"POST",data:g});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},P)})),r.apply(this,arguments)}function o(){return h.apply(this,arguments)}function h(){return h=d()(a()().mark(function P(){return a()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,m.request)("/api/app/image/image-prune",{method:"POST"});case 2:return D.abrupt("return",D.sent);case 3:case"end":return D.stop()}},P)})),h.apply(this,arguments)}function f(){return E.apply(this,arguments)}function E(){return E=d()(a()().mark(function P(){return a()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,m.request)("/api/app/image/build-prune",{method:"POST"});case 2:return D.abrupt("return",D.sent);case 3:case"end":return D.stop()}},P)})),E.apply(this,arguments)}function _(P){return F.apply(this,arguments)}function F(){return F=d()(a()().mark(function P(g){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,m.request)("/api/app/image/update-title",{method:"POST",data:g});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},P)})),F.apply(this,arguments)}function s(P){return u.apply(this,arguments)}function u(){return u=d()(a()().mark(function P(g){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,m.request)("/api/app/image/tag-sync",{method:"POST",data:g}));case 1:case"end":return i.stop()}},P)})),u.apply(this,arguments)}},75870:function(le,w,e){e.d(w,{Ot:function(){return I},ZH:function(){return n},ix:function(){return G},t1:function(){return v}});var c=e(15009),a=e.n(c),j=e(99289),d=e.n(j),m=e(63713);function I(l){return O.apply(this,arguments)}function O(){return O=d()(a()().mark(function l(C){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/common/registry/get-list",{method:"POST",data:C}));case 1:case"end":return r.stop()}},l)})),O.apply(this,arguments)}function n(l){return B.apply(this,arguments)}function B(){return B=d()(a()().mark(function l(C){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/common/registry/create",{method:"POST",data:C}));case 1:case"end":return r.stop()}},l)})),B.apply(this,arguments)}function G(l){return V.apply(this,arguments)}function V(){return V=d()(a()().mark(function l(C){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/common/registry/delete",{method:"POST",data:C}));case 1:case"end":return r.stop()}},l)})),V.apply(this,arguments)}function v(l){return R.apply(this,arguments)}function R(){return R=d()(a()().mark(function l(C){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/common/registry/get-detail",{method:"POST",data:C}));case 1:case"end":return r.stop()}},l)})),R.apply(this,arguments)}},85576:function(le,w,e){e.d(w,{Z:function(){return f}});var c=e(56080),a=e(38657),j=e(56745),d=e(67294),m=e(93967),I=e.n(m),O=e(40974),n=e(8745),B=e(53124),G=e(35792),V=e(32409),v=e(4941),R=e(71194),l=function(E,_){var F={};for(var s in E)Object.prototype.hasOwnProperty.call(E,s)&&_.indexOf(s)<0&&(F[s]=E[s]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(E);u<s.length;u++)_.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(E,s[u])&&(F[s[u]]=E[s[u]]);return F};const C=E=>{const{prefixCls:_,className:F,closeIcon:s,closable:u,type:P,title:g,children:D,footer:i}=E,Q=l(E,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:ee}=d.useContext(B.E_),$=ee(),T=_||ee("modal"),de=(0,G.Z)($),[te,ue,X]=(0,R.ZP)(T,de),W=`${T}-confirm`;let S={};return P?S={closable:u!=null?u:!1,title:"",footer:"",children:d.createElement(V.O,Object.assign({},E,{prefixCls:T,confirmPrefixCls:W,rootPrefixCls:$,content:D}))}:S={closable:u!=null?u:!0,title:g,footer:i!==null&&d.createElement(v.$,Object.assign({},E)),children:D},te(d.createElement(O.s,Object.assign({prefixCls:T,className:I()(ue,`${T}-pure-panel`,P&&W,P&&`${W}-${P}`,F,X,de)},Q,{closeIcon:(0,v.b)(T,s),closable:u},S)))};var L=(0,n.i)(C),r=e(94423);function o(E){return(0,c.ZP)((0,c.uW)(E))}const h=j.Z;h.useModal=r.Z,h.info=function(_){return(0,c.ZP)((0,c.cw)(_))},h.success=function(_){return(0,c.ZP)((0,c.vq)(_))},h.error=function(_){return(0,c.ZP)((0,c.AQ)(_))},h.warning=o,h.warn=o,h.confirm=function(_){return(0,c.ZP)((0,c.Au)(_))},h.destroyAll=function(){for(;a.Z.length;){const _=a.Z.pop();_&&_()}},h.config=c.ai,h._InternalPanelDoNotUseOrYouWillBeFired=L;var f=h}}]);
