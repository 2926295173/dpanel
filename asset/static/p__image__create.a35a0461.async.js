"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7523],{1677:function(V,O,e){var T=e(1413),t=e(45987),j=e(88484),d=e(31365),s=e(28036),f=e(67294),o=e(9105),r=e(90789),c=e(85893),M=["fieldProps","action","accept","listType","title","max","icon","buttonProps","disabled","proFieldProps"],b=function(a,E){var B,u=a.fieldProps,C=a.action,P=a.accept,l=a.listType,D=a.title,A=D===void 0?"\u5355\u51FB\u4E0A\u4F20":D,m=a.max,g=a.icon,p=g===void 0?(0,c.jsx)(j.Z,{}):g,_=a.buttonProps,y=a.disabled,v=a.proFieldProps,n=(0,t.Z)(a,M),z=(0,f.useMemo)(function(){var Q;return(Q=n.fileList)!==null&&Q!==void 0?Q:n.value},[n.fileList,n.value]),re=(0,f.useContext)(o.A),le=(v==null?void 0:v.mode)||re.mode||"edit",Y=(m===void 0||!z||(z==null?void 0:z.length)<m)&&le!=="read",oe=(l!=null?l:u==null?void 0:u.listType)==="picture-card";return(0,c.jsx)(d.Z,(0,T.Z)((0,T.Z)({action:C,accept:P,ref:E,listType:l||"picture",fileList:z},u),{},{name:(B=u==null?void 0:u.name)!==null&&B!==void 0?B:"file",onChange:function(k){var W;u==null||(W=u.onChange)===null||W===void 0||W.call(u,k)},children:Y&&(oe?(0,c.jsxs)("span",{children:[p," ",A]}):(0,c.jsxs)(s.ZP,(0,T.Z)((0,T.Z)({disabled:y||(u==null?void 0:u.disabled)},_),{},{children:[p,A]})))}))},F=(0,r.G)(f.forwardRef(b),{getValueFromEvent:function(a){return a.fileList}});O.Z=F},34879:function(V,O,e){e.d(O,{Z:function(){return d}});var T=e(97961),t=e(1677),j=e(85893);function d(s){return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(t.Z,{max:1,title:s.title,label:s.label,required:s.required,rules:[{required:s.required}],fieldProps:{name:"file",accept:s.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(o){return new Promise(function(r){var c;(0,T._2)({path:(c=o.response.data.path)!==null&&c!==void 0?c:""}).then(function(M){r(!0)})})}},name:s.name})})}},74344:function(V,O,e){var T=e(5574),t=e.n(T),j=e(37476),d=e(38345),s=e(82346),f=e(67294),o=e(54964),r=e(85893),c=(0,f.forwardRef)(function(M,b){(0,f.useImperativeHandle)(b,function(){return{start:function(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];P(g.join(":")),E(!0)},reset:function(){var m;(m=D.current)===null||m===void 0||m.clear(),E(!1)},show:function(m){var g,p;(g=D.current)===null||g===void 0||g.clear(),(p=D.current)===null||p===void 0||p.write(m),E(!0)}}});var F=(0,f.useState)(!1),h=t()(F,2),a=h[0],E=h[1],B=(0,f.useState)(""),u=t()(B,2),C=u[0],P=u[1],l=(0,s.useModel)("subscriber"),D=(0,f.useRef)();return l.addDataHandler("image:"+C,function(A){var m;(m=D.current)===null||m===void 0||m.write(A.data)}),(0,f.useEffect)(function(){var A;(A=D.current)===null||A===void 0||A.fit()},[]),(0,r.jsx)(j.Y,{modalProps:{forceRender:!0},title:"\u6784\u5EFA\u65E5\u5FD7",submitter:!1,width:1e3,onOpenChange:function(m){if(E(m),m){var g,p;(g=D.current)===null||g===void 0||g.clear(),(p=D.current)===null||p===void 0||p.fit()}},open:a,children:(0,r.jsx)(d.Z,{ghost:!0,children:(0,r.jsx)(o.Z,{showInModal:!0,width:"960px",height:"500px",ref:D})})})});O.Z=c},12491:function(V,O,e){e.d(O,{Z:function(){return r}});var T=e(24963),t=e(88484),j=e(62370),d=e(31418),s=e(28036),f=e(67294),o=e(85893);function r(c){var M=(0,f.useContext)(T.Z),b=M.message,F=M.notice,h=M.lang,a=(0,f.useRef)(null),E=d.Z.useApp(),B=function(){a.current&&(a.current.click(),a.current.onchange=function(C){if(!C||!C.target)return"";var P=new FileReader;P.onload=function(D){var A,m,g=(A=D.target)===null||A===void 0?void 0:A.result;if(c.onLoad)try{c.onLoad&&c.onLoad(g)}catch(p){F.error(p);return}typeof c.onImport=="function"&&(b.success("\u6210\u529F\u5BFC\u5165 ".concat(c.title)),c.onImport(g)),(m=a.current)!==null&&m!==void 0&&m.value&&(a.current.value="")};var l=C.target;if(l.files)try{P.readAsText(l.files[0])}catch(D){F.error("\u5BFC\u5165\u6587\u4EF6\u5FC5\u987B\u662F\u6587\u672C\u7C7B\u578B")}})};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(j.Z,{children:(0,o.jsx)(s.ZP,{icon:(0,o.jsx)(t.Z,{}),block:!0,onClick:B,children:c.title})}),(0,o.jsx)("input",{style:{display:"none"},type:"file",ref:a,name:"importFileInput"})]})}},54964:function(V,O,e){e.d(O,{a:function(){return F}});var T=e(5574),t=e.n(T),j=e(78267),d=e.n(j),s=e(75458),f=e.n(s),o=e(67294),r=e(12320),c=e.n(r),M=e(89629),b=e(85893),F={convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,cursorStyle:"block",cursorBlink:!0,theme:{foreground:"#bfbfbf",cursor:"gray",selectionForeground:"#ffffff"}},h=new r.Terminal(F),a=new s.SearchAddon,E=new j.FitAddon,B=(0,o.forwardRef)(function(u,C){var P,l=(0,o.useState)(!0),D=t()(l,2),A=D[0],m=D[1];return(0,o.useEffect)(function(){return window.addEventListener("resize",function(){u.showInModal||E.fit()}),u.style&&u.style.fontSize&&(h.options.fontSize=u.style.fontSize),h.loadAddon(E),h.loadAddon(a),h.open(document.getElementById(u.id?u.id:"terminal-container")),u.showInModal||E.fit(),function(){h.reset(),m(!0)}},[]),(0,o.useImperativeHandle)(C,function(){return{write:function(p){A&&(E.fit(),m(!1)),h.write(p)},clear:function(){h.clear()},getTerminal:function(){return h},findNext:function(p){a.findNext(p)},findPrev:function(p){a.findPrevious(p)},fit:function(){E.fit()},onData:function(p){return h.onData(p)}}}),(0,b.jsx)("div",{id:u.id?u.id:"terminal-container",style:{width:u.width?u.width:"100%",height:u.height?u.height:"500px",marginTop:(P=u.style)===null||P===void 0?void 0:P.marginTop}})});O.Z=B},24963:function(V,O,e){var T=e(67294),t=(0,T.createContext)({});O.Z=t},77096:function(V,O,e){e.r(O),e.d(O,{default:function(){return Q}});var T=e(15009),t=e.n(T),j=e(99289),d=e.n(j),s=e(5574),f=e.n(s),o=e(5966),r=e(85893);function c(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(o.Z,{fieldProps:{min:2,max:255},rules:[{required:!0}],required:!0,placeholder:"\u6307\u5B9AGit\u5730\u5740\uFF0C\u79C1\u6709\u4ED3\u5E93\u8BF7\u9644\u52A0\u6743\u9650\u3002\u4EC5\u652F\u6301Master\u5206\u652F",label:"Git\u4ED3\u5E93\u5730\u5740",name:"buildGit"})})}var M=e(34879),b=e(74344),F=e(67294),h=e(95089),a=e(62370),E=e(184),B=e(86615),u=e(97462),C=e(97961),P=e(28036),l=e(34041);function D(k){var W=(0,F.useState)([]),Z=f()(W,2),I=Z[0],te=Z[1];return(0,F.useEffect)(function(){(0,C.MF)().then(function(K){var R=Object.keys(K.data).map(function(J){return K.data[J]});te(R)})},[]),(0,r.jsx)(a.Z,{children:(0,r.jsxs)(E.a,{trigger:(0,r.jsx)(P.ZP,{block:!0,children:"\u4F7F\u7528\u6A21\u677F\u751F\u6210"}),onFinish:function(R){return new Promise(function(J,w){var G=R[R.language+"EnvVersion"].split("|"),ee=f()(G,2),ve=ee[0],de=ee[1],H="FROM ".concat(ve,`
# \u5E94\u7528\u76EE\u5F55\u4F4D\u4E8E /app
# \u53EF\u901A\u7BA1\u5BB9\u5668 - \u6587\u4EF6\u7BA1\u7406, \u4E0A\u4F20\u4EE3\u7801\u81F3\u6B64\u76EE\u5F55\u5E76\u4FEE\u6539\u6743\u9650

WORKDIR /app
VOLUME [ "/app" ]
EXPOSE 80

# \u81EA\u5B9A\u4E49\u5B89\u88C5\u7EC4\u4EF6\u3001\u6269\u5C55\u6216\u662F\u5E93, \u4F8B\u5982:
# RUN apk add --no-cache --update vim
`);switch(R.language){case"php":H+=`
                
# \u7AD9\u70B9\u76EE\u5F55\u4F4D\u4E8E /app/wwwroot \u53EF\u4E0A\u4F20\u6216\u662F\u4FEE\u6539\u7AD9\u70B9\u6587\u4EF6
# nginx \u914D\u7F6E\u4F4D\u4E8E /app/nginx/ \u53EF\u4FEE\u6539\u589E\u52A0\u81EA\u5B9A\u4E49\u914D\u7F6E
# \u901A\u8FC7\u8BBF\u95EE\u5BB9\u5668\u8FD0\u884C\u6620\u5C04\u7AEF\u53E3\uFF0C\u67E5\u770B\u73AF\u5883\u53CA\u6269\u5C55\u4FE1\u606F

`,R.language=="php"&&R.phpExt&&(H+="RUN apk add --no-cache --update ",R.phpExt.map(function(S){H+="php".concat(de,"-").concat(S," ")}));break;case"golang":H+=`
# \u53EF\u4EE5\u4FEE\u6539 RUN_COMMAND \u73AF\u5883\u53D8\u91CF, \u66F4\u6539\u542F\u52A8\u6267\u884C\u547D\u4EE4
ENV RUN_COMMAND="go version"`;break;default:break}k.onFinish(H),J(!0)})},children:[(0,r.jsx)(B.Z.Group,{radioType:"button",name:"language",label:"\u7A0B\u5E8F\u8BED\u8A00",options:I.map(function(K){return{label:K.name,value:K.name}}),required:!0}),(0,r.jsx)(u.Z,{name:["language"],children:function(R){var J=R.language;return J?(0,r.jsx)(r.Fragment,{children:I.map(function(w){if(w.name==J)return(0,r.jsxs)("div",{children:[(0,r.jsx)(a.Z,{name:"".concat(w.name,"EnvVersion"),label:"\u73AF\u5883\u7248\u672C",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7A0B\u5E8F\u8FD0\u884C\u7684\u73AF\u5883"}],children:(0,r.jsx)(l.Z,{options:w.env.map(function(G){return{label:G.name,value:G.baseImage}}),placeholder:"\u8BF7\u9009\u62E9\u5177\u4F53\u7684\u73AF\u5883\u7248\u672C"},"".concat(w.name,"Select"))},w.name),w.name=="php"&&(0,r.jsx)(a.Z,{label:"php\u6269\u5C55",name:"phpExt",children:(0,r.jsx)(l.Z,{options:w.ext.map(function(G){return{label:G,value:G}}),mode:"multiple",placeholder:"\u8BF7\u9009\u62E9\u8981\u5B89\u88C5\u7684php\u6269\u5C55"},"phpExtSelect")},"phpExt")]},"envSelect")})}):(0,r.jsx)(r.Fragment,{})}})]})})}var A=e(12491);function m(k){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A.Z,{title:"\u5BFC\u5165\u672C\u5730Dockerfile\u6587\u4EF6",onImport:function(Z){var I;return(I=k.createFormRef.current)===null||I===void 0||I.setFieldValue("buildDockerfile",Z),!0},onLoad:function(Z){if(Z.indexOf("FROM ")<0)throw new Error("\u5BFC\u5165Dockerfile\u6587\u4EF6\u9519\u8BEF");return!0}}),(0,r.jsx)(D,{onFinish:function(Z){var I;(I=k.createFormRef.current)===null||I===void 0||I.setFieldValue("buildDockerfile",Z)}}),(0,r.jsx)(a.Z,{shouldUpdate:!0,children:function(Z){var I=Z.getFieldValue;return(0,r.jsx)(a.Z,{name:"buildDockerfile",children:(0,r.jsx)(h.ZP,{value:I("buildDockerfile"),onChange:function(K){var R;(R=k.createFormRef.current)===null||R===void 0||R.setFieldValue("buildDockerfile",K)},height:"600px",theme:"dark",style:{marginBottom:"20px"}})})}})]})}var g=e(24963),p=e(18148),_=e(75870),y=e(38345),v=e(97269),n=e(64317),z=e(90672),re=e(82346),le=e(42075),Y=e(83062),oe=e(91845);function Q(){var k=(0,F.useContext)(g.Z),W=k.loading,Z=k.message,I=(0,F.useRef)(),te=(0,F.useState)([]),K=f()(te,2),R=K[0],J=K[1],w=(0,re.useSearchParams)(),G=f()(w,2),ee=G[0],ve=G[1],de=(0,F.useState)("dockerfile"),H=f()(de,2),S=H[0],Fe=H[1],ce=(0,re.useNavigate)(),ue=(0,F.useRef)();return(0,F.useEffect)(function(){var $,x=($=ee.get("id"))!==null&&$!==void 0?$:0;x&&(W.show(),(0,p.T8)({id:parseInt(x)}).then(function(i){var U;Fe(i.data.task.buildType),(U=I.current)===null||U===void 0||U.setFieldsValue({title:i.data.task.title,imageTag:i.data.task.tag,imageRegistry:i.data.task.setting.registry,uploadType:i.data.task.buildType,buildRoot:i.data.task.setting.buildRoot,buildGit:i.data.task.setting.buildGit,buildDockerfile:i.data.task.setting.buildDockerfile,platform:i.data.task.setting.platform})}).finally(function(){W.destroy()}))},[]),(0,r.jsxs)(y.Z,{direction:"column",ghost:!0,gutter:[0,10],children:[(0,r.jsx)(y.Z,{bordered:!0,headerBordered:!0,children:(0,r.jsxs)(v.A,{submitter:{render:function(x,i){return(0,r.jsx)(le.Z,{children:i})}},onFinish:function(){var $=d()(t()().mark(function x(i){var U,q,ne,N,X,me,pe,_e,Ee,ae,ie,fe,he,Ce,ge;return t()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(S!="containerTar"){L.next=8;break}return L.next=3,(0,C.vC)({tag:i.imageTag,registry:i.imageRegistry,tar:(U=i.containerTar[0].response.data.path)!==null&&U!==void 0?U:"",cmd:i.cmd,workDir:i.workDir,expose:i.expose?i.expose.split(`
`):[],env:i.env?i.env.split(`
`):[],volume:i.volume?i.volume.split(`
`):[]});case 3:return q=L.sent,ce("/image/list"),L.abrupt("return",!0);case 8:if(S!="imageTar"){L.next=20;break}return(ne=ue.current)===null||ne===void 0||ne.start("import",i.imageTag),L.next=12,(0,C.GH)({tag:i.imageTag,tar:(N=i.imageTar[0].response.data.path)!==null&&N!==void 0?N:""});case 12:if(X=L.sent,X.data.tag&&X.data.tag.map(function(se){Z.success("\u5BFC\u5165 "+se+" \u955C\u50CF\u6210\u529F")}),!X){L.next=18;break}return(me=ue.current)===null||me===void 0||me.reset(),ce("/image/list"),L.abrupt("return",!0);case 18:L.next=34;break;case 20:return Ee=(pe=ee.get("id"))!==null&&pe!==void 0?pe:"0",ae=R&&R[0]?R[0].fileName:"",ie={name:"",arch:""},C.ii.map(function(se){se.name==i.platform&&(ie=se)}),fe={id:parseInt(Ee),tag:i.imageTag,title:i.title,registry:i.imageRegistry,buildRoot:i.buildRoot,buildDockerfile:i.buildDockerfile,buildZip:ae!=null?ae:"",buildGit:i.buildGit,buildType:S,platform:ie.name,PlatformArch:ie.arch},i.buildZip&&i.buildZip.length>0&&(fe.buildZip=(he=i.buildZip[0].response.data.path)!==null&&he!==void 0?he:""),(_e=ue.current)===null||_e===void 0||_e.start("build",Ee),L.next=29,(0,C.fN)(fe);case 29:if(Ce=L.sent,!Ce){L.next=34;break}return(ge=ue.current)===null||ge===void 0||ge.reset(),ce("/image/list/recycle"),L.abrupt("return",!0);case 34:case"end":return L.stop()}},x)}));return function(x){return $.apply(this,arguments)}}(),formRef:I,children:[(0,r.jsx)(o.Z,{label:"\u4EFB\u52A1\u540D\u79F0",name:"title",fieldProps:{onChange:function(x){var i="";if(x.target.value){var U,q=(0,oe.N9)(x.target.value.trim(),{toneType:"none",type:"array"});i=q.join(""),(U=I.current)===null||U===void 0||U.setFieldValue("imageTag",i)}}}}),(0,r.jsx)(u.Z,{name:["uploadType"],children:function(x){var i=x.uploadType;if(i!="imageTar")return(0,r.jsx)(n.Z,{label:"\u955C\u50CF\u4ED3\u5E93",tooltip:(0,r.jsxs)(r.Fragment,{children:["\u63A8\u9001\u524D\u8BF7\u4FDD\u8BC1\u4ED3\u5E93\u4E2D\u6709\u6307\u5B9A\u7684\u547D\u540D\u7A7A\u95F4, \u5982\u6CA1\u6709\u8BF7\u5148 ",(0,r.jsx)("a",{href:"",target:"_blank",children:"\u6DFB\u52A0\u4ED3\u5E93"})]}),name:"imageRegistry",request:d()(t()().mark(function U(){var q;return t()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,(0,_.Ot)();case 2:return q=N.sent,N.abrupt("return",q.data.list.map(function(X){return{value:X.serverAddress,label:X.title+"("+X.serverAddress+")"}}));case 4:case"end":return N.stop()}},U)}))})}}),(0,r.jsx)(u.Z,{name:["imageRegistry","uploadType"],children:function(x){var i=x.imageRegistry,U=x.uploadType;if(U!="imageTar")return(0,r.jsx)(o.Z,{fieldProps:{min:2,max:255,addonBefore:"".concat(i||"","/")},rules:[{required:!0}],required:!0,tooltip:"\u4F8B\u5982: name:tag\u3001namespace/name:tag\u3001registry/namespace/name:tag",placeholder:"\u53EA\u80FD\u4F7F\u7528\u5C0F\u5199\u82F1\u6587\u5B57\u7B26\u3001\u6570\u5B57\u3001_\u3001-\u3001",label:"\u955C\u50CFTag",name:"imageTag"})}}),(0,r.jsx)(B.Z.Group,{name:"uploadType",label:"\u6784\u5EFA\u65B9\u5F0F",initialValue:S,options:[{label:(0,r.jsx)(Y.Z,{title:"\u901A\u8FC7 Dockerfile \u6587\u4EF6\u5FEB\u901F\u6784\u5EFA\u955C\u50CF",children:"Dockerfile"}),value:"dockerfile"},{label:(0,r.jsx)(Y.Z,{title:"\u5C06 Dockerfile \u6587\u4EF6\u4E0E\u6784\u5EFA\u955C\u50CF\u7528\u5230\u7684\u8D44\u6E90\uFF0C\u901A\u8FC7\u4E0A\u4F20 Zip \u5305\u7684\u5F62\u5F0F\u6784\u5EFA\u955C\u50CF",children:"Zip\u5305"}),value:"zip"},{label:(0,r.jsx)(Y.Z,{title:"\u5C06 Dockerfile \u6587\u4EF6\u4E0E\u6784\u5EFA\u955C\u50CF\u7528\u5230\u7684\u8D44\u6E90\u653E\u7F6E\u5230 Git \u4ED3\u5E93\u4E2D\uFF0C\u53EF\u4EE5\u6301\u7EED\u6027\u7684\u6784\u5EFA\u955C\u50CF",children:"Git\u6E90\u7801\u4ED3\u5E93"}),value:"git"},{label:(0,r.jsx)(Y.Z,{title:"\u4E0A\u4F20\u5BB9\u5668\u5BFC\u51FA\u7684 Tar \u5305\uFF0C\u5E76\u81EA\u5B9A\u4E49\u53C2\u6570\u6784\u5EFA\u955C\u50CF\u3002\u5982\u679C\u4F60\u4E0D\u9700\u8981\u4FEE\u6539\u5BB9\u5668\u539F\u59CB\u914D\u7F6E\uFF0C\u53EF\u4EE5\u5728\u5BB9\u5668\u8BE6\u60C5\u9875\u4F7F\u7528\u3010\u5C06\u5BB9\u5668\u4FDD\u5B58\u4E3A\u955C\u50CF\u3011\u529F\u80FD",children:"\u5BFC\u5165\u5BB9\u5668Tar\u5305"}),value:"containerTar"},{label:(0,r.jsx)(Y.Z,{title:"\u4E0A\u4F20\u955C\u50CF Tar \u5305\u6784\u5EFA\u955C\u50CF",children:"\u5BFC\u5165\u955C\u50CFTar\u5305"}),value:"imageTar"}],fieldProps:{onChange:function(x){Fe(x.target.value)}}}),(0,r.jsx)(u.Z,{name:["uploadType"],children:function(x){var i=x.uploadType;if(i=="containerTar")return[(0,r.jsx)(o.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u5DE5\u4F5C\u76EE\u5F55\uFF0C\u4E00\u822C\u6307\u5411\u4EE3\u7801\u7684\u6240\u5728\u76EE\u5F55",label:"\u5DE5\u4F5C\u76EE\u5F55",name:"workDir",placeholder:"\u9ED8\u8BA4\u4E3A / \u76EE\u5F55"},"workDir"),(0,r.jsx)(o.Z,{required:!0,tooltip:"\u901A\u8FC7\u5BB9\u5668\u5BFC\u5165\u955C\u50CF\u65F6\uFF0C\u5FC5\u987B\u6307\u5B9A\u542F\u52A8\u547D\u4EE4\uFF0C\u5426\u5219\u518D\u521B\u5EFA\u65F6\u65E0\u6CD5\u542F\u52A8",rules:[{required:!0}],label:"CMD",name:"cmd"},"cmd"),(0,r.jsx)(z.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u5BF9\u5916\u66B4\u9732\u7684\u7AEF\u53E3\uFF0C\u4E00\u884C\u6307\u5B9A\u4E00\u4E2A\u7AEF\u53E3",label:"\u66B4\u9732\u7AEF\u53E3",name:"expose",placeholder:`80 
9000`},"expose"),(0,r.jsx)(z.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u9700\u8981\u914D\u7F6E\u7684\u73AF\u5883\u53D8\u91CF\uFF0C\u4E00\u884C\u6307\u5B9A\u4E00\u4E2A\u73AF\u5883\u53D8\u91CF",label:"\u73AF\u5883\u53D8\u91CF",name:"env",placeholder:`TEST_VALUE=123 
TEST_NO_VALUE=`},"env"),(0,r.jsx)(z.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u9700\u8981\u6301\u4E45\u5316\u7684\u76EE\u5F55\uFF0C\u4E00\u884C\u6307\u5B9A\u4E00\u4E2A\u76EE\u5F55",label:"\u5B58\u50A8\u5377\u76EE\u5F55",name:"volume",placeholder:`/app 
/home`},"volume")];if(i!="imageTar"){if(i=="zip"||i=="git")return(0,r.jsx)(o.Z,{name:"buildRoot",label:"Dockerfile\u6587\u4EF6\u4F4D\u7F6E",tooltip:"\u6307\u5B9ADockerfile\u6240\u5728\u7684\u76EE\u5F55",fieldProps:{addonBefore:"\u9ED8\u8BA4\u4EE5\u5305\u6216\u662F\u4ED3\u5E93\u76EE\u5F55\u5F00\u59CB\uFF08/\uFF09"},placeholder:"/Dockerfile"})}}}),S=="zip"&&(0,r.jsx)(M.Z,{required:!0,label:"\u4E0A\u4F20\u6784\u5EFA\u5305 (\u53EA\u5141\u8BB8\u4E0A\u4F20 .zip \u6587\u4EF6\uFF0C\u4E14\u4E0E\u5305\u4E2D\u7684 Dockerfile \u6307\u5B9A\u7684\u76EE\u5F55\u4FDD\u6301\u4E00\u81F4)",name:"buildZip",accept:".zip"}),S=="containerTar"&&(0,r.jsx)(M.Z,{required:!0,label:"\u5BFC\u5165\u5BB9\u5668\u5305\uFF08\u53EA\u5141\u8BB8\u4E0A\u4F20 .tar \u6587\u4EF6\uFF0C\u901A\u8FC7\u5BFC\u51FA\u5BB9\u5668\u751F\u6210\uFF09",name:"containerTar",accept:".tar"}),S=="imageTar"&&(0,r.jsx)(M.Z,{required:!0,label:"\u5BFC\u5165\u955C\u50CF\u5305\uFF08\u53EA\u5141\u8BB8\u4E0A\u4F20 .tar \u6587\u4EF6\uFF0C\u901A\u8FC7\u5BFC\u51FA\u955C\u50CF\u751F\u6210\uFF09",name:"imageTar",accept:".tar"}),S=="git"&&(0,r.jsx)(c,{}),S=="dockerfile"&&(0,r.jsx)(m,{createFormRef:I})]})}),(0,r.jsx)(b.Z,{ref:ue})]})}},97961:function(V,O,e){e.d(O,{GH:function(){return b},MF:function(){return E},_2:function(){return h},fN:function(){return o},ii:function(){return f},vC:function(){return c}});var T=e(15009),t=e.n(T),j=e(99289),d=e.n(j),s=e(82346),f=[{name:"linux/amd64",arch:"amd64",search:["amd64","x86_64","86_64"]},{name:"linux/arm64",arch:"arm64",search:["arm64","arrch64"]},{name:"linux/i386",arch:"386",search:[]},{name:"linux/arm/v6",arch:"arm",search:[]},{name:"linux/arm/v7",arch:"arm",search:[]},{name:"linux/arm/v8",arch:"arm64",search:[]},{name:"linux/ppc64le",arch:"ppc64le",search:[]},{name:"linux/riscv64",arch:"riscv64",search:[]}];function o(u){return r.apply(this,arguments)}function r(){return r=d()(t()().mark(function u(C){return t()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,s.request)("/api/app/image/create-by-dockerfile",{method:"POST",data:C}));case 1:case"end":return l.stop()}},u)})),r.apply(this,arguments)}function c(u){return M.apply(this,arguments)}function M(){return M=d()(t()().mark(function u(C){return t()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,s.request)("/api/app/image/import-by-container-tar",{method:"POST",data:C}));case 1:case"end":return l.stop()}},u)})),M.apply(this,arguments)}function b(u){return F.apply(this,arguments)}function F(){return F=d()(t()().mark(function u(C){return t()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,s.request)("/api/app/image/import-by-image-tar",{method:"POST",data:C}));case 1:case"end":return l.stop()}},u)})),F.apply(this,arguments)}function h(u){return a.apply(this,arguments)}function a(){return a=d()(t()().mark(function u(C){return t()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,s.request)("/api/common/attach/delete",{method:"POST",data:C});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},u)})),a.apply(this,arguments)}function E(){return B.apply(this,arguments)}function B(){return B=d()(t()().mark(function u(){return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,s.request)("/api/app/image/get-template-list",{method:"POST"}));case 1:case"end":return P.stop()}},u)})),B.apply(this,arguments)}},18148:function(V,O,e){e.d(O,{$q:function(){return a},Fj:function(){return A},KG:function(){return f},KX:function(){return g},T8:function(){return F},Xn:function(){return M},ao:function(){return B},c5:function(){return l},c7:function(){return C}});var T=e(15009),t=e.n(T),j=e(99289),d=e.n(j),s=e(82346);function f(_){return o.apply(this,arguments)}function o(){return o=d()(t()().mark(function _(y){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("/api/app/image/get-list",{method:"POST",data:y}));case 1:case"end":return n.stop()}},_)})),o.apply(this,arguments)}function r(_){return c.apply(this,arguments)}function c(){return c=_asyncToGenerator(_regeneratorRuntime().mark(function _(y){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,request("/api/app/log/image-build",{method:"POST",data:y});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},_)})),c.apply(this,arguments)}function M(_){return b.apply(this,arguments)}function b(){return b=d()(t()().mark(function _(y){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("/api/app/image/get-list-build",{method:"POST",data:y}));case 1:case"end":return n.stop()}},_)})),b.apply(this,arguments)}function F(_){return h.apply(this,arguments)}function h(){return h=d()(t()().mark(function _(y){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.request)("/api/app/image/get-build-task",{method:"POST",data:y});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},_)})),h.apply(this,arguments)}function a(_){return E.apply(this,arguments)}function E(){return E=d()(t()().mark(function _(y){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.request)("/api/app/image/delete-build-task",{method:"POST",data:y});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},_)})),E.apply(this,arguments)}function B(_){return u.apply(this,arguments)}function u(){return u=d()(t()().mark(function _(y){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.request)("/api/app/image/image-delete",{method:"POST",data:y});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},_)})),u.apply(this,arguments)}function C(){return P.apply(this,arguments)}function P(){return P=d()(t()().mark(function _(){return t()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,s.request)("/api/app/image/image-prune",{method:"POST"});case 2:return v.abrupt("return",v.sent);case 3:case"end":return v.stop()}},_)})),P.apply(this,arguments)}function l(){return D.apply(this,arguments)}function D(){return D=d()(t()().mark(function _(){return t()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,s.request)("/api/app/image/build-prune",{method:"POST"});case 2:return v.abrupt("return",v.sent);case 3:case"end":return v.stop()}},_)})),D.apply(this,arguments)}function A(_){return m.apply(this,arguments)}function m(){return m=d()(t()().mark(function _(y){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.request)("/api/app/image/update-title",{method:"POST",data:y});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},_)})),m.apply(this,arguments)}function g(_){return p.apply(this,arguments)}function p(){return p=d()(t()().mark(function _(y){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("/api/app/image/tag-sync",{method:"POST",data:y}));case 1:case"end":return n.stop()}},_)})),p.apply(this,arguments)}},75870:function(V,O,e){e.d(O,{Ot:function(){return f},ZH:function(){return r},ix:function(){return M},t1:function(){return F}});var T=e(15009),t=e.n(T),j=e(99289),d=e.n(j),s=e(82346);function f(a){return o.apply(this,arguments)}function o(){return o=d()(t()().mark(function a(E){return t()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,s.request)("/api/common/registry/get-list",{method:"POST",data:E}));case 1:case"end":return u.stop()}},a)})),o.apply(this,arguments)}function r(a){return c.apply(this,arguments)}function c(){return c=d()(t()().mark(function a(E){return t()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,s.request)("/api/common/registry/create",{method:"POST",data:E}));case 1:case"end":return u.stop()}},a)})),c.apply(this,arguments)}function M(a){return b.apply(this,arguments)}function b(){return b=d()(t()().mark(function a(E){return t()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,s.request)("/api/common/registry/delete",{method:"POST",data:E}));case 1:case"end":return u.stop()}},a)})),b.apply(this,arguments)}function F(a){return h.apply(this,arguments)}function h(){return h=d()(t()().mark(function a(E){return t()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,s.request)("/api/common/registry/get-detail",{method:"POST",data:E}));case 1:case"end":return u.stop()}},a)})),h.apply(this,arguments)}}}]);
