"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8878],{16596:function(C,o,e){e.d(o,{Z:function(){return s}});var u=e(87462),a=e(67294),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},t=c,_=e(84089),r=function(P,h){return a.createElement(_.Z,(0,u.Z)({},P,{ref:h,icon:t}))},E=a.forwardRef(r),s=E},55809:function(C,o,e){var u=e(87462),a=e(67294),c=e(44805),t=e(84089),_=function(s,m){return a.createElement(t.Z,(0,u.Z)({},s,{ref:m,icon:c.Z}))},r=a.forwardRef(_);o.Z=r},35995:function(C,o,e){e.d(o,{Z:function(){return s}});var u=e(87462),a=e(67294),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M508 624a112 112 0 00112-112c0-3.28-.15-6.53-.43-9.74L498.26 623.57c3.21.28 6.45.43 9.74.43zm370.72-458.44L836 122.88a8 8 0 00-11.31 0L715.37 232.23Q624.91 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.7 119.43 136.55 191.45L112.56 835a8 8 0 000 11.31L155.25 889a8 8 0 0011.31 0l712.16-712.12a8 8 0 000-11.32zM332 512a176 176 0 01258.88-155.28l-48.62 48.62a112.08 112.08 0 00-140.92 140.92l-48.62 48.62A175.09 175.09 0 01332 512z"}},{tag:"path",attrs:{d:"M942.2 486.2Q889.4 375 816.51 304.85L672.37 449A176.08 176.08 0 01445 676.37L322.74 798.63Q407.82 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5z"}}]},name:"eye-invisible",theme:"filled"},t=c,_=e(84089),r=function(P,h){return a.createElement(_.Z,(0,u.Z)({},P,{ref:h,icon:t}))},E=a.forwardRef(r),s=E},31574:function(C,o,e){var u=e(87462),a=e(67294),c=e(97211),t=e(84089),_=function(s,m){return a.createElement(t.Z,(0,u.Z)({},s,{ref:m,icon:c.Z}))},r=a.forwardRef(_);o.Z=r},74842:function(C,o,e){e.d(o,{Z:function(){return s}});var u=e(87462),a=e(67294),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},t=c,_=e(84089),r=function(P,h){return a.createElement(_.Z,(0,u.Z)({},P,{ref:h,icon:t}))},E=a.forwardRef(r),s=E},60219:function(C,o,e){e.d(o,{Z:function(){return s}});var u=e(87462),a=e(67294),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},t=c,_=e(84089),r=function(P,h){return a.createElement(_.Z,(0,u.Z)({},P,{ref:h,icon:t}))},E=a.forwardRef(r),s=E},85577:function(C,o,e){var u=e(87462),a=e(67294),c=e(11721),t=e(84089),_=function(s,m){return a.createElement(t.Z,(0,u.Z)({},s,{ref:m,icon:c.Z}))},r=a.forwardRef(_);o.Z=r},60433:function(C,o,e){var u=e(87462),a=e(67294),c=e(69782),t=e(84089),_=function(s,m){return a.createElement(t.Z,(0,u.Z)({},s,{ref:m,icon:c.Z}))},r=a.forwardRef(_);o.Z=r},52688:function(C,o,e){var u=e(1413),a=e(45987),c=e(67294),t=e(35510),_=e(85893),r=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],E=c.forwardRef(function(s,m){var P=s.fieldProps,h=s.unCheckedChildren,f=s.checkedChildren,p=s.proFieldProps,M=(0,a.Z)(s,r);return(0,_.jsx)(t.Z,(0,u.Z)({valueType:"switch",fieldProps:(0,u.Z)({unCheckedChildren:h,checkedChildren:f},P),ref:m,valuePropName:"checked",proFieldProps:p,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},M))});o.Z=E},1699:function(C,o,e){e.d(o,{u:function(){return P}});var u=e(9783),a=e.n(u),c=e(97857),t=e.n(c),_=e(67294),r=e(82346),E=e(40411),s=e(42075),m=e(85893),P=function(f){var p=(0,r.useAccess)(),M=Array.isArray(f.access)?f.access:[f.access],d,g=f.fallback;if(typeof f.children=="function"?(d=f.children(M.reduce(function(O,v){return t()(t()({},O),{},a()({},v,p[v]))},{})),d||(d=g)):M.every(function(O){return p[O]})?d=f.children:d=g,!g&&d&&f.showProTips&&p.canSeeEnableCe){if(p.canSeeEnableHiddenProTips)return null;d=(0,m.jsx)(E.Z,{offset:f.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:d})}if(!g&&d&&f.showProRibbonTips&&p.canSeeEnableCe){if(p.canSeeEnableHiddenProTips)return null;d=(0,m.jsx)(E.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:d})}return f.space?(0,m.jsx)(s.Z,t()(t()({},f.space),{},{children:d})):d}},29798:function(C,o,e){e.r(o),e.d(o,{default:function(){return g}});var u=e(5574),a=e.n(u),c=e(13822),t=e(38345),_=e(82346),r=e(67294),E=e(24963),s=e(50070),m=e(37767),P=e(52031),h=e(14189),f=e(72409),p=e(14245),M=e(1699),d=e(85893);function g(){var O=(0,r.useContext)(E.Z),v=O.message,b=O.notice,I=O.loading,A=O.lang,L=(0,r.useContext)(s.AppDetailContext),i=(0,_.useParams)(),l=(0,r.useState)(),R=a()(l,2),n=R[0],S=R[1],V=(0,r.useState)(1),y=a()(V,2),Z=y[0],x=y[1],z=(0,_.useNavigate)();return(0,r.useEffect)(function(){var U;I.show(),L.reload(),(0,c.jV)({md5:(U=i.id)!==null&&U!==void 0?U:""}).then(function(T){T.data&&(T.data.info.HostConfig.NetworkMode=="host"&&T.data.info.Config.ExposedPorts&&Object.keys(T.data.info.Config.ExposedPorts).map(function(B){T.data.info.NetworkSettings.Ports[B]=[{HostIp:"0.0.0.0",HostPort:B.substring(0,B.indexOf("/"))}]}),S(T.data))}).finally(function(){I.destroy()})},[Z]),(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(t.Z,{direction:"column",gutter:[0,10],children:[(n==null?void 0:n.info)&&(0,d.jsx)(h.Z,{data:n.info}),(n==null?void 0:n.info)&&(0,d.jsx)(M.u,{access:["canSeeContainerListManage","canSeeContainerListManageOp"],children:(0,d.jsx)(f.Z,{data:n,checkContainerUpgrade:function(){z("/app/list",{state:{page:localStorage.getItem("dpanel-page-compose-list")}})}})}),n&&(0,d.jsx)(m.Z,{data:n}),n&&(0,d.jsx)(P.Z,{data:n==null?void 0:n.info}),n&&(0,d.jsx)(p.Z,{data:n.info})]})})}},50070:function(C,o,e){e.r(o),e.d(o,{AppDetailContext:function(){return b},default:function(){return I}});var u=e(15009),a=e.n(u),c=e(99289),t=e.n(c),_=e(5574),r=e.n(_),E=e(1699),s=e(24963),m=e(13822),P=e(36146),h=e(55809),f=e(90078),p=e(82346),M=e(25593),d=e(28036),g=e(50136),O=e(67294),v=e(85893),b=(0,O.createContext)({});function I(){var A,L=(0,O.useContext)(s.Z),i=L.loading,l=(0,p.useParams)(),R=(0,p.useSearchParams)(),n=r()(R,2),S=n[0],V=n[1],y=(A=S.get("tab"))!==null&&A!==void 0?A:"edit",Z=(0,O.useState)("edit"),x=r()(Z,2),z=x[0],U=x[1],T=(0,p.useNavigate)(),B=(0,O.useState)(1),$=r()(B,2),N=$[0],J=$[1],G=[{label:(0,v.jsx)(p.Link,{to:"/app/detail/edit/".concat(l.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,v.jsx)(p.Link,{to:"/app/detail/network/".concat(l.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,v.jsx)(M.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){T("/app/detail/file/".concat(l.id,"?tab=file"))}},{label:(0,v.jsx)(M.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){T("/app/detail/log/".concat(l.id,"?tab=log"))}},{label:(0,v.jsx)(M.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){T("/app/detail/stat/".concat(l.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,v.jsx)(h.Z,{}),disabled:!0}],Y=(0,O.useState)(G),Q=r()(Y,2),w=Q[0],q=Q[1];(0,O.useEffect)(function(){i.show(),U(y);var W=function(){var F=t()(a()().mark(function X(){var k,H,K;return a()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return k=G,D.prev=1,D.next=4,(0,m.jV)({md5:(H=l.id)!==null&&H!==void 0?H:""});case 4:K=D.sent,k.map(function(j){return j.key=="containerName"&&(j.label=K.data.info.Name),(!K.data.info.State.Running||K.data.info.State.Restarting)&&(j.key=="file"||j.key=="stat")&&(j.disabled=!0),j}),q(k),D.next=13;break;case 9:return D.prev=9,D.t0=D.catch(1),T("/app/list"),D.abrupt("return");case 13:return D.prev=13,i.destroy(),D.finish(13);case 16:case"end":return D.stop()}},X,null,[[1,9,13,16]])}));return function(){return F.apply(this,arguments)}}();W()},[N,l]);var ee=function(F){U(F.key)};return(0,v.jsx)(b.Provider,{value:{reload:function(){J(N+1)}},children:(0,v.jsxs)(f._z,{header:{extra:[(0,v.jsx)(E.u,{access:"canSeeContainerListManageCreate",children:(0,v.jsx)(p.Link,{to:"/app/create/image",children:(0,v.jsx)(d.ZP,{type:"primary",children:P.Ob.format("container.create")})})},"create")]},children:[(0,v.jsx)(g.Z,{mode:"horizontal",onClick:ee,selectedKeys:[z],items:w}),(0,v.jsx)(p.Outlet,{})]})})}},62597:function(C,o,e){e.d(o,{$G:function(){return r},Ct:function(){return O},Tb:function(){return h},XH:function(){return p},cl:function(){return m},fp:function(){return s},iE:function(){return d},xb:function(){return b},ze:function(){return A}});var u=e(15009),a=e.n(u),c=e(99289),t=e.n(c),_=e(82346);function r(i){return E.apply(this,arguments)}function E(){return E=t()(a()().mark(function i(l){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,_.request)("/api/app/site/create-by-image",{method:"POST",data:l}));case 1:case"end":return n.stop()}},i)})),E.apply(this,arguments)}var s={EnvValueRuleRequired:1,EnvValueRuleDisabled:2,EnvValueTypeNumber:1024,EnvValueTypeText:2048,EnvValueTypeSelect:4096,EnvValueTypeSelectMultiple:8192};function m(i){return P.apply(this,arguments)}function P(){return P=t()(a()().mark(function i(l){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,_.request)("/api/app/site/get-list",{method:"POST",data:l}));case 1:case"end":return n.stop()}},i)})),P.apply(this,arguments)}function h(i){return f.apply(this,arguments)}function f(){return f=t()(a()().mark(function i(l){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l.download=!1,n.next=3,(0,_.request)("/api/app/log/run",{method:"POST",data:l});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},i)})),f.apply(this,arguments)}function p(i){return M.apply(this,arguments)}function M(){return M=t()(a()().mark(function i(l){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l.download=!0,n.next=3,(0,_.request)("/api/app/log/run",{method:"POST",data:l,responseType:"blob"});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},i)})),M.apply(this,arguments)}function d(i){return g.apply(this,arguments)}function g(){return g=t()(a()().mark(function i(l){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l.id=String(l.id),n.next=3,(0,_.request)("/api/app/site/get-detail",{data:l,method:"POST"});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},i)})),g.apply(this,arguments)}function O(i){return v.apply(this,arguments)}function v(){return v=t()(a()().mark(function i(l){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,_.request)("/api/app/container/delete",{method:"POST",data:l}));case 1:case"end":return n.stop()}},i)})),v.apply(this,arguments)}function b(i){return I.apply(this,arguments)}function I(){return I=t()(a()().mark(function i(l){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,_.request)("/api/app/site/delete",{method:"POST",data:l}));case 1:case"end":return n.stop()}},i)})),I.apply(this,arguments)}function A(i){return L.apply(this,arguments)}function L(){return L=t()(a()().mark(function i(l){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,_.request)("/api/app/container/ignore",{method:"POST",data:l}));case 1:case"end":return n.stop()}},i)})),L.apply(this,arguments)}}}]);
