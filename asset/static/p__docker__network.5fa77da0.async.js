"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[236],{80821:function(p,h,n){n.d(h,{Z:function(){return w}});var D=n(97857),u=n.n(D),m=n(5574),i=n.n(m),I=n(24963),P=n(86738),b=n(83062),g=n(28036),j=n(67294),s=n(85893);function w(a){var U=(0,j.useState)(!1),L=i()(U,2),x=L[0],R=L[1],l=(0,j.useContext)(I.Z),f=l.lang,t=l.message,S=function(){R(!0);var W=a.action();W instanceof Promise?W.then(function(C){if(R(!1),C){typeof a.onSuccess=="function"&&a.onSuccess(C);var A="";a.messageSuccess?typeof a.messageSuccess=="function"?A=a.messageSuccess(C):A=a.messageSuccess.indexOf("notification.")==0?f(a.messageSuccess):a.messageSuccess:A=f("notification.finish"),a.asynced?t.info(A):t.success(A)}}).catch(function(C){R(!1),typeof a.onError=="function"&&a.onError(C)}):R(!1)};return a.confirm?(0,s.jsx)(P.Z,u()(u()({style:{width:500},title:a.confirmTitle?a.confirmTitle:f("notification.title.tip"),description:typeof a.confirm=="string"&&a.confirm.indexOf("notification.")==0?f(a.confirm):a.confirm,onConfirm:S,okText:"Yes",cancelText:"No",onOpenChange:a.confirmOnOpenChange},a.confirmProps),{},{children:(0,s.jsx)(b.Z,{title:a.tips,children:(0,s.jsx)(g.ZP,{block:a.block,disabled:a.disabled,icon:!a.children&&x?void 0:a.icon,loading:x,danger:a.danger,type:a.type,children:a.children})})})):(0,s.jsx)(b.Z,{title:a.tips,children:(0,s.jsx)(g.ZP,{block:a.block,style:a.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:a.disabled,icon:!a.children&&x?void 0:a.icon,loading:x,onClick:S,danger:a.danger,type:a.type,children:a.children})})}},55943:function(p,h,n){var D=n(5574),u=n.n(D),m=n(15009),i=n.n(m),I=n(99289),P=n.n(I),b=n(80821),g=n(3616),j=n(14946),s=n(36146),w=n(48689),a=n(184),U=n(38345),L=n(60940),x=n(42075),R=n(96074),l=n(26412),f=n(67294),t=n(85893),S=(0,f.forwardRef)(function(v,W){(0,f.useImperativeHandle)(W,function(){return{show:function(B){return P()(i()().mark(function Z(){var T,N;return i()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,j.IS)({name:B});case 2:T=M.sent,T.data.info.Containers?(N=[],Object.keys(T.data.info.Containers).map(function(V){T.data.info.Containers[V].Id=V,N.push(T.data.info.Containers[V])}),G(N)):G([]),_(T.data.info),d(!0);case 6:case"end":return M.stop()}},Z)}))()}}});var C=(0,f.useState)(!1),A=u()(C,2),O=A[0],d=A[1],r=(0,f.useState)(),c=u()(r,2),e=c[0],_=c[1],$=(0,f.useState)(),E=u()($,2),F=E[0],G=E[1],K=new s.Uo("components.network");return(0,t.jsx)(a.a,{drawerProps:{width:g.R_},title:K.format("detailTitle"),open:O,onOpenChange:function(B){d(B)},submitter:!1,children:(0,t.jsxs)(U.Z,{ghost:!0,direction:"column",gutter:[10,0],children:[(0,t.jsx)(U.Z,{title:K.format("detailContainer"),ghost:!0,children:(0,t.jsx)(L.Z,{rowKey:"Name",columns:[{title:s.FD.format("listContainerName"),dataIndex:"Name"},{title:"IPV4",dataIndex:"IPv4Address"},{title:"IPV6",dataIndex:"IPv6Address"},{title:"MacAddress",dataIndex:"MacAddress"},{title:s.FD.format("listManage"),render:function(B,Z,T){return(0,t.jsx)(x.Z,{split:(0,t.jsx)(R.Z,{type:"vertical"}),children:(0,t.jsx)(b.Z,{type:"text",action:function(){var y,M;return(0,j.t9)({name:(y=e==null?void 0:e.Id)!==null&&y!==void 0?y:"",containerName:(M=Z.Id)!==null&&M!==void 0?M:""})},tips:s.FD.format("listManageExit"),onSuccess:function(){var y=F==null?void 0:F.filter(function(M){return M.Id!=Z.Id});G(y)},children:(0,t.jsx)(w.Z,{})},"delete")})}}],dataSource:F,pagination:!1})}),(0,t.jsx)(U.Z,{ghost:!0,title:K.format("detailBasic"),children:(0,t.jsxs)(l.Z,{labelStyle:{width:"180px"},column:1,bordered:!0,children:[(0,t.jsx)(l.Z.Item,{label:K.format("detailName"),children:e==null?void 0:e.Name}),(0,t.jsx)(l.Z.Item,{label:"Id",children:e==null?void 0:e.Id}),(0,t.jsx)(l.Z.Item,{label:"Driver",children:e==null?void 0:e.Driver}),(0,t.jsx)(l.Z.Item,{label:"Scope",children:e==null?void 0:e.Scope}),(0,t.jsx)(l.Z.Item,{label:"Attachable",children:K.yesNo(e==null?void 0:e.Attachable)}),(0,t.jsx)(l.Z.Item,{label:"Internal",children:K.yesNo(e==null?void 0:e.Internal)}),(e==null?void 0:e.IPAM.Config)&&(e==null?void 0:e.IPAM.Config.map(function(o,B){return(0,t.jsx)(l.Z.Item,{label:o.Gateway&&o.Gateway.includes(":")?"IPV6":"IPV4",children:(0,t.jsxs)(l.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:[(0,t.jsx)(l.Z.Item,{label:"Subnet",children:o.Subnet}),(0,t.jsx)(l.Z.Item,{label:"Gateway",children:o.Gateway}),(0,t.jsx)(l.Z.Item,{label:"IP Range ",children:o.IPRange}),(0,t.jsx)(l.Z.Item,{label:"Excluded IPs",children:o.AuxiliaryAddresses&&Object.keys(o.AuxiliaryAddresses).map(function(Z){return o.AuxiliaryAddresses[Z]+" ,"})})]})},B)})),(e==null?void 0:e.Options)&&Object.keys(e==null?void 0:e.Options).length>0&&(0,t.jsx)(l.Z.Item,{label:"Options",children:(0,t.jsx)(l.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Options).map(function(o){return(0,t.jsx)(l.Z.Item,{label:o,children:e.Options[o]},o)})})}),(e==null?void 0:e.Labels)&&Object.keys(e==null?void 0:e.Labels).length>0&&(0,t.jsx)(l.Z.Item,{label:"Lables",children:(0,t.jsx)(l.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Labels).map(function(o){return(0,t.jsx)(l.Z.Item,{label:o,children:e.Labels[o]},o)})})})]})})]})})});h.Z=S},3616:function(p,h,n){n.d(h,{Ed:function(){return i},FK:function(){return u},R_:function(){return D},ob:function(){return m}});var D=window.innerWidth<=1024?"90vw":"65vw",u="90vw",m="60vw",i="50vh"},24963:function(p,h,n){var D=n(67294),u=(0,D.createContext)({});h.Z=u},6005:function(p,h,n){n.r(h),n.d(h,{default:function(){return S}});var D=n(15009),u=n.n(D),m=n(99289),i=n.n(m),I=n(1699),P=n(80821),b=n(16970),g=n(55943),j=n(14946),s=n(36146),w=n(67255),a=n(90078),U=n(78099),L=n(82346),x=n(25593),R=n(66309),l=n(42075),f=n(67294),t=n(85893);function S(){var v=(0,f.useRef)(),W=(0,f.useRef)(),C=(0,L.useAccess)(),A=new s.Uo("docker");return(0,t.jsxs)(a._z,{header:{extra:[(0,t.jsx)(I.u,{access:"canSeeDockerNetworkManage",children:(0,t.jsx)(b.Z,{onFinish:function(){var d,r;!((d=v.current)===null||d===void 0)&&d.reloadAndRest&&((r=v.current)===null||r===void 0||r.reloadAndRest())}},"create")},"create")]},children:[(0,t.jsx)(g.Z,{ref:W}),(0,t.jsx)(U.Z,{scroll:{x:"max-content"},rowKey:"Name",columns:[{title:s.FD.format("listTitle"),ellipsis:!0,dataIndex:"Name",render:function(d,r,c,e,_){return(0,t.jsx)(x.Z.Link,{onClick:function(){var E;(E=W.current)===null||E===void 0||E.show(r.Name)},children:r.Name})}},{title:s.FD.format("listType"),width:100,render:function(d,r,c,e,_){return(r.Name=="none"||r.Name=="bridge"||r.Name=="host")&&(0,t.jsx)(R.Z,{color:"blue",children:"System"})}},{title:s.FD.format("listDriver"),ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",ellipsis:!0,width:150,search:!1,render:function(d,r,c,e,_){return r.IPAM.Config&&r.IPAM.Config[0]?(0,t.jsxs)(l.Z,{direction:"vertical",children:[(0,t.jsx)("div",{children:r.IPAM.Config&&r.IPAM.Config[0].Subnet}),(0,t.jsx)("div",{children:r.IPAM.Config&&r.IPAM.Config[0].Gateway})]}):"-"}},{title:"IPV6",ellipsis:!0,width:150,search:!1,render:function(d,r,c,e,_){return r.IPAM.Config&&r.IPAM.Config[1]?(0,t.jsxs)(l.Z,{direction:"vertical",children:[(0,t.jsx)("div",{children:r.IPAM.Config&&r.IPAM.Config[1].Subnet}),(0,t.jsx)("div",{children:r.IPAM.Config&&r.IPAM.Config[1].Gateway})]}):"-"}},{title:s.FD.format("listCreatedAt"),ellipsis:!0,width:180,search:!1,dataIndex:"Created",render:function(d,r,c,e,_){return new Date(r.Created).toLocaleString()}}],request:function(){var O=i()(u()().mark(function d(r,c,e){var _;return u()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,j.jR)({name:r.Name});case 2:return _=E.sent,E.abrupt("return",{data:_.data.list,success:!0,total:_.data.list.length});case 4:case"end":return E.stop()}},d)}));return function(d,r,c){return O.apply(this,arguments)}}(),rowSelection:C.canSeeDockerNetworkManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,actionRef:v,tableAlertOptionRender:function(d){var r=d.selectedRowKeys;return(0,t.jsxs)(l.Z,{size:16,children:[(0,t.jsx)(P.Z,{danger:!0,type:"primary",action:function(){return(0,j._x)({name:r})},onSuccess:function(){var e,_;return!((e=v.current)===null||e===void 0)&&e.reloadAndRest&&((_=v.current)===null||_===void 0||_.reloadAndRest()),!0},onError:function(){var e,_;return!((e=v.current)===null||e===void 0)&&e.reset&&((_=v.current)===null||_===void 0||_.reset()),!0},confirm:"notification.confirm.title",children:s.FD.format("listManageDeleteBatch")},"delete"),(0,t.jsx)(P.Z,{action:function(){return(0,j.CI)()},onSuccess:function(){var e,_;return!((e=v.current)===null||e===void 0)&&e.reloadAndRest&&((_=v.current)===null||_===void 0||_.reloadAndRest()),!0},onError:function(){var e,_;return!((e=v.current)===null||e===void 0)&&e.reset&&((_=v.current)===null||_===void 0||_.reset()),!0},tips:s.FD.format("listManagePruneTip"),confirm:"notification.confirm.title",children:s.FD.format("listManagePrune")},"clearNotUse")]})},pagination:(0,w.O)()})]})}},67255:function(p,h,n){n.d(h,{O:function(){return D},j:function(){return u}});function D(m){var i=localStorage.getItem("dpanel-pagesize");return i=="all"?!1:{defaultCurrent:m==null?void 0:m.page,showSizeChanger:!0,defaultPageSize:parseInt(i!=null?i:"20"),onChange:function(P,b){localStorage.setItem("dpanel-page-"+location.pathname.split("/").slice(-2).join("-"),"".concat(P))}}}function u(m){var i="dpanel-table-column-".concat(m),I={};if(localStorage.getItem(i)){var P;I=JSON.parse((P=localStorage.getItem(i))!==null&&P!==void 0?P:"{}")}return{defaultValue:I,onChange:function(g){localStorage.setItem("dpanel-table-column-".concat(m),JSON.stringify(g))}}}}}]);
