!(function(){var oe=Object.defineProperty,_e=Object.defineProperties;var le=Object.getOwnPropertyDescriptors;var q=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable;var ee=(W,P,e)=>P in W?oe(W,P,{enumerable:!0,configurable:!0,writable:!0,value:e}):W[P]=e,te=(W,P)=>{for(var e in P||(P={}))ue.call(P,e)&&ee(W,e,P[e]);if(q)for(var e of q(P))ce.call(P,e)&&ee(W,e,P[e]);return W},ne=(W,P)=>_e(W,le(P));(self.webpackChunk=self.webpackChunk||[]).push([[5658],{57546:function(W,P,e){"use strict";e.d(P,{Z:function(){return b}});var y=e(87462),c=e(67294),j={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM653.3 424.6l52.2 52.2a8.01 8.01 0 01-4.7 13.6l-179.4 21c-5.1.6-9.5-3.7-8.9-8.9l21-179.4c.8-6.6 8.9-9.4 13.6-4.7l52.4 52.4 256.2-256.2c3.1-3.1 8.2-3.1 11.3 0l42.4 42.4c3.1 3.1 3.1 8.2 0 11.3L653.3 424.6z"}}]},name:"import",theme:"outlined"},u=j,p=e(84089),m=function(r,i){return c.createElement(p.Z,(0,y.Z)({},r,{ref:i,icon:u}))},E=c.forwardRef(m),b=E},90672:function(W,P,e){"use strict";var y=e(1413),c=e(45987),j=e(67294),u=e(40284),p=e(85893),m=["fieldProps","proFieldProps"],E=function(t,r){var i=t.fieldProps,s=t.proFieldProps,a=(0,c.Z)(t,m);return(0,p.jsx)(u.Z,(0,y.Z)({ref:r,valueType:"textarea",fieldProps:i,proFieldProps:s},a))};P.Z=j.forwardRef(E)},1699:function(W,P,e){"use strict";e.d(P,{u:function(){return r}});var y=e(9783),c=e.n(y),j=e(97857),u=e.n(j),p=e(67294),m=e(82346),E=e(40411),b=e(42075),t=e(85893),r=function(s){var a=(0,m.useAccess)(),n=Array.isArray(s.access)?s.access:[s.access],o,l=s.fallback;if(typeof s.children=="function"?(o=s.children(n.reduce(function(f,v){return u()(u()({},f),{},c()({},v,a[v]))},{})),o||(o=l)):n.every(function(f){return a[f]})?o=s.children:o=l,!l&&o&&s.showProTips&&a.canSeeEnableCe){if(a.canSeeEnableHiddenProTips)return null;o=(0,t.jsx)(E.Z,{offset:s.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:o})}if(!l&&o&&s.showProRibbonTips&&a.canSeeEnableCe){if(a.canSeeEnableHiddenProTips)return null;o=(0,t.jsx)(E.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:o})}return s.space?(0,t.jsx)(b.Z,u()(u()({},s.space),{},{children:o})):o}},74026:function(W,P,e){"use strict";var y=e(15009),c=e.n(y),j=e(99289),u=e.n(j),p=e(5574),m=e.n(p),E=e(66554),b=e(184),t=e(86615),r=e(97462),i=e(90672),s=e(64317),a=e(5966),n=e(62370),o=e(52688),l=e(83622),f=e(42075),v=e(71230),d=e(15746),g=e(67294),T=e(12491),M=e(75544),A=e(77865),L=e(82346),D=e(3616),I=e(36146),C=e(85893),N=(0,g.forwardRef)(function(S,w){var U=(0,g.useState)(!1),h=m()(U,2),O=h[0],R=h[1],_=(0,g.useRef)(),G=(0,g.useRef)(),z=(0,g.useState)([]),F=m()(z,2),H=F[0],X=F[1],re=(0,L.useModel)("subscriber"),se=(0,g.useState)(),J=m()(se,2),ae=J[0],Q=J[1],K=new I.Uo("components.appDomain");return re.addDataHandler("domain:apply",function(k){var x;(x=G.current)===null||x===void 0||x.write(k.data)}),(0,g.useImperativeHandle)(w,function(){return{edit:function(x){var B,V;Q(x),(B=_.current)===null||B===void 0||B.resetFields(),(V=_.current)===null||V===void 0||V.setFieldsValue({type:x.CA=="import"?"upload":"apply",domain:x.domain,dnsApi:x.dnsApi,sslKeyContent:x.sslKeyContent,sslCrtContent:x.sslCrtContent}),R(!0)}}}),(0,g.useEffect)(function(){(0,E.q2)().then(function(k){X(k.data.setting.map(function(x){return{label:x.title,value:x.serverName}}))})},[]),(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(b.a,{title:K.format("certTitle"),drawerProps:{forceRender:!0,width:D.R_},trigger:(0,C.jsx)(l.ZP,{type:"primary",children:K.format("certTitle")}),formRef:_,onFinish:function(){var k=u()(c()().mark(function x(B){var V,$,Z,ie;return c()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if((V=G.current)===null||V===void 0||V.clear(),B.type!="upload"){Y.next=7;break}return Y.next=4,(0,E.ui)({type:B.type,sslKeyContent:B.sslKeyContent,sslCrtContent:B.sslCrtContent});case 4:$=Y.sent,Y.next=11;break;case 7:return localStorage.setItem("email",(Z=B.email)!==null&&Z!==void 0?Z:""),Y.next=10,(0,E.Pf)({type:B.type,domain:B.domain,email:B.email,certServer:B.certServer,autoUpgrade:B.autoUpgrade,renew:B.renew,debug:B.debug,dnsApi:B.dnsApi});case 10:ie=Y.sent;case 11:return S.onFinish&&S.onFinish(),Y.abrupt("return",!0);case 13:case"end":return Y.stop()}},x)}));return function(x){return k.apply(this,arguments)}}(),onOpenChange:function(x){var B,V;if(!x){var $;Q(void 0),($=_.current)===null||$===void 0||$.resetFields()}if(S.domain&&S.domain.length>0){var Z;(Z=_.current)===null||Z===void 0||Z.setFieldValue("domain",S.domain)}(B=_.current)===null||B===void 0||B.setFieldsValue({email:(V=localStorage.getItem("email"))!==null&&V!==void 0?V:""}),R(x)},open:O,children:[(0,C.jsx)(t.Z.Group,{label:K.format("certFormType"),name:"type",initialValue:"apply",disabled:!!ae,options:K.option("certFormTypeOption",["upload","apply"])}),(0,C.jsx)(r.Z,{name:["type"],children:function(x){var B=x.type;return B=="upload"?[(0,C.jsx)(i.Z,{fieldProps:{rows:10},label:K.format("certFormSslCrtContent"),name:"sslCrtContent",tooltip:K.format("certFormSslCrtContentTip"),placeholder:"-----BEGIN CERTIFICATE-----",required:!0},"sslCrt"),(0,C.jsx)(T.Z,{title:K.format("certFormImportCrt"),onImport:function($){var Z;return(Z=_.current)===null||Z===void 0||Z.setFieldValue("sslCrtContent",$),!0},onLoad:function($){if($.indexOf("BEGIN CERTIFICATE")<0)throw new Error(I.FD.format("commonFileIncorrectFormat",{name:".crt"}));return!0}},"importCrt"),(0,C.jsx)(i.Z,{fieldProps:{rows:10},label:K.format("certFormSslKeyContent"),name:"sslKeyContent",tooltip:K.format("certFormSslKeyContentTip"),placeholder:"-----BEGIN PRIVATE KEY-----",required:!0},"sslKey"),(0,C.jsx)(T.Z,{title:K.format("certFormImportKey"),onImport:function($){var Z;return(Z=_.current)===null||Z===void 0||Z.setFieldValue("sslKeyContent",$),!0},onLoad:function($){if($.indexOf("PRIVATE KEY")<0)throw new Error(I.FD.format("commonFileIncorrectFormat",{name:".key"}));return!0}},"importKey")]:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(s.Z,{mode:"tags",name:"domain",label:K.format("certFormDomain"),placeholder:K.format("certFormDomainEmpty"),required:!0,rules:[{required:!0}]},"domain"),(0,C.jsx)(a.Z,{label:K.format("certFormEmail"),name:"email",required:!0,rules:[{required:!0}]}),(0,C.jsxs)(f.Z.Compact,{children:[(0,C.jsx)(s.Z,{label:K.format("certFormDnsApi"),tooltip:K.format("certFormDnsApiTip"),name:"dnsApi",width:"lg",required:!0,rules:[{required:!0}],options:H}),(0,C.jsx)(n.Z,{label:" ",children:(0,C.jsx)(A.Z,{onFinish:function($){X($.map(function(Z){return{label:Z.title,value:Z.serverName}}))}},"dns")})]}),(0,C.jsx)(s.Z,{label:K.format("certFormCertServer"),name:"certServer",tooltip:K.format("certFormCertServerTip"),initialValue:"letsencrypt",options:[{value:"letsencrypt",label:"Let's Encrypt"},{value:"zerossl",label:"ZeroSSL"}]}),(0,C.jsxs)(v.Z,{gutter:[20,10],children:[(0,C.jsx)(d.Z,{children:(0,C.jsx)(o.Z,{label:K.format("certFormAutoUpgrade"),name:"autoUpgrade",initialValue:!0})}),(0,C.jsx)(d.Z,{children:(0,C.jsx)(o.Z,{tooltip:K.format("certFormRenewTip"),label:K.format("certFormRenew"),name:"renew",initialValue:!1})}),(0,C.jsx)(d.Z,{children:(0,C.jsx)(o.Z,{tooltip:K.format("certFormDebugTip"),label:"Debug",name:"debug",initialValue:!1})}),(0,C.jsx)(d.Z,{})]}),(0,C.jsx)(M.Z,{height:"200px",style:{fontSize:12},ref:G})]})}})]})})});P.Z=N},77865:function(W,P,e){"use strict";var y=e(15009),c=e.n(y),j=e(99289),u=e.n(j),p=e(5574),m=e.n(p),E=e(184),b=e(86615),t=e(97462),r=e(5966),i=e(83622),s=e(67294),a=e(44349),n=e(52255),o=e(66554),l=e(3616),f=e(36146),v=e(85893),d=new f.Uo("components.appDomain"),g=[{value:"dns_cf",label:"CloudFlare",fields:[{name:"CF_Token"}],help:"https://dash.cloudflare.com/profile/api-tokens"},{value:"dns_dp",label:"DNSPod",fields:[{name:"DP_Id"},{name:"DP_Key"}],help:"https://console.dnspod.cn/account/token/token"},{value:"dns_tencent",label:d.format("dnsApiOption.dns_tencent"),fields:[{name:"Tencent_SecretId"},{name:"Tencent_SecretKey"}],help:"https://console.cloud.tencent.com/cam/capi"},{label:d.format("dnsApiOption.dns_ali"),value:"dns_ali",fields:[{name:"Ali_Key"},{name:"Ali_Secret"}],help:"https://ram.console.aliyun.com/users"},{label:d.format("dnsApiOption.dns_huaweicloud"),value:"dns_huaweicloud",fields:[{name:"HUAWEICLOUD_Username"},{name:"HUAWEICLOUD_Password"},{name:"HUAWEICLOUD_DomainName"}],help:"https://support.huaweicloud.com/api-iam/iam_01_0006.html"},{label:"GoDaddy",value:"dns_gd",fields:[{name:"GD_Key"},{name:"GD_Secret"}],help:"https://developer.godaddy.com/keys/"},{label:d.format("dnsApiOption.user"),value:"user",help:"https://github.com/acmesh-official/acme.sh/wiki/dnsapi"}],T=(0,s.forwardRef)(function(M,A){(0,s.useImperativeHandle)(A,function(){return{show:function(){C(!0)}}});var L=(0,s.useState)(!1),D=m()(L,2),I=D[0],C=D[1],N=(0,s.useRef)();return(0,v.jsxs)(E.a,{drawerProps:{width:l.R_},title:d.format("dnsApiTitle"),trigger:(0,v.jsx)(i.ZP,{children:d.format("dnsApiTitle")}),formRef:N,open:I,onFinish:function(){var S=u()(c()().mark(function w(U){var h,O;return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,o.q2)({account:Object.keys((h=U.account)!==null&&h!==void 0?h:{}).map(function(G){var z;return{title:(z=g.find(function(F){return F.value==G}))===null||z===void 0?void 0:z.label,serverName:G,env:Object.keys(U.account[G]).map(function(F){return{name:F,value:U.account[G][F]}})}}),user:U.user});case 2:return O=_.sent,M.onFinish&&M.onFinish(O.data.setting),_.abrupt("return",!0);case 5:case"end":return _.stop()}},w)}));return function(w){return S.apply(this,arguments)}}(),onOpenChange:function(){var S=u()(c()().mark(function w(U){var h,O,R,_;return c()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(C(U),!U){z.next=9;break}return(h=N.current)===null||h===void 0||h.resetFields(),z.next=5,(0,o.q2)();case 5:R=z.sent,_=[],R.data.setting&&R.data.setting.map(function(F){g.find(function(H){return H.value==F.serverName})?F.env&&F.env.map(function(H){var X;(X=N.current)===null||X===void 0||X.setFieldValue(["account",F.serverName,H.name],H.value)}):F.env&&_.push(F)}),(O=N.current)===null||O===void 0||O.setFieldValue("user",_);case 9:case"end":return z.stop()}},w)}));return function(w){return S.apply(this,arguments)}}(),children:[(0,v.jsx)(b.Z.Group,{label:d.format("dnsApiServerNameSelect"),name:"serverNameSelect",radioType:"button",initialValue:"dns_dp",options:g.map(function(S){return{label:S.label,value:S.value}})}),(0,v.jsx)(t.Z,{name:["serverNameSelect"],children:function(w){var U,h=w.serverNameSelect,O=(U=g.find(function(R){return R.value===h}))===null||U===void 0?void 0:U.help;return(0,v.jsxs)("div",{style:{marginBottom:20},children:[d.format("dnsApiServerNameTip"),": ",(0,v.jsx)("a",{href:O,target:"_blank",children:O})]})}}),(0,v.jsx)(t.Z,{name:["serverNameSelect"],children:function(w){var U=w.serverNameSelect;return(0,v.jsxs)(v.Fragment,{children:[g.map(function(h){if(h.fields)return(0,v.jsx)(n.Z,{show:U==h.value,children:h.fields.map(function(O,R){return(0,v.jsx)(r.Z,{label:O.name,name:["account",h.value,O.name]},"".concat(h.value,"-").concat(R,"-").concat(O.name))})},h.value)}),(0,v.jsx)(n.Z,{show:U=="user",children:(0,v.jsx)(a.Z,{gap:20,name:"user",label:d.format("dnsApiUser"),showAddButton:!0,hideCopyButton:!0,items:[{name:"serverName",label:d.format("dnsApiUserServerName")},{name:"env",render:function(O,R,_){return(0,v.jsx)(a.Z,{gap:20,name:"env",label:d.format("dnsApiUserEnv"),showAddButton:!0,hideCopyButton:!0,items:[{name:"name",label:d.format("dnsApiUserEnvName")},{name:"value",label:d.format("dnsApiUserEnvValue")}]},"env")}}]})},"user")]})}})]})});P.Z=T},52255:function(W,P,e){"use strict";e.d(P,{Z:function(){return j}});var y=e(67294),c=e(85893);function j(u){return(0,c.jsx)("div",{style:{display:u.show?"block":"none"},children:u.children})}},80821:function(W,P,e){"use strict";e.d(P,{Z:function(){return a}});var y=e(97857),c=e.n(y),j=e(5574),u=e.n(j),p=e(24963),m=e(36146),E=e(86738),b=e(83062),t=e(96074),r=e(83622),i=e(67294),s=e(85893);function a(n){var o=(0,i.useState)(!1),l=u()(o,2),f=l[0],v=l[1],d=(0,i.useContext)(p.Z),g=d.message,T=new m.Uo,M=function(){v(!0);var L=n.action();L instanceof Promise?L.then(function(D){if(v(!1),D){typeof n.onSuccess=="function"&&n.onSuccess(D);var I="";n.messageSuccess?typeof n.messageSuccess=="function"?I=n.messageSuccess(D):I=n.messageSuccess.indexOf("notification.")==0?T.format(n.messageSuccess):n.messageSuccess:I=T.format("notification.finish"),n.asynced?g.info(I):g.success(I)}}).catch(function(D){v(!1),typeof n.onError=="function"&&n.onError(D)}):v(!1)};return n.confirm?(0,s.jsx)(E.Z,c()(c()({style:{width:500},title:n.confirmTitle?n.confirmTitle:T.format("notification.title.tip"),description:typeof n.confirm=="string"&&n.confirm.indexOf("notification.")==0?T.format(n.confirm):n.confirm,onConfirm:M,okText:"Yes",cancelText:"No",onOpenChange:n.confirmOnOpenChange},n.confirmProps),{},{children:(0,s.jsxs)(b.Z,{title:n.tips,children:[n.showDivider&&(0,s.jsx)(t.Z,{type:"vertical",style:{marginRight:15}}),(0,s.jsx)(r.ZP,{block:n.block,disabled:n.disabled,icon:!n.children&&f?void 0:n.icon,loading:f,danger:n.danger,type:n.type,children:n.children})]})})):(0,s.jsxs)(b.Z,{title:n.tips,children:[n.showDivider&&(0,s.jsx)(t.Z,{type:"vertical",style:{marginRight:15}}),(0,s.jsx)(r.ZP,{block:n.block,style:n.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:n.disabled,icon:!n.children&&f?void 0:n.icon,loading:f,onClick:M,danger:n.danger,type:n.type,children:n.children})]})}},75544:function(W,P,e){"use strict";var y=e(5574),c=e.n(y),j=e(12323),u=e(78267),p=e.n(u),m=e(75458),E=e.n(m),b=e(67294),t=e(4244),r=e.n(t),i=e(24078),s=e(85893),a,n,o,l=(0,b.forwardRef)(function(f,v){var d,g=(0,b.useState)(!0),T=c()(g,2),M=T[0],A=T[1];return(0,b.useEffect)(function(){return a=new t.Terminal(j.X),n=new m.SearchAddon,o=new u.FitAddon,window.addEventListener("resize",function(){f.showInModal||o.fit()}),f.style&&f.style.fontSize&&(a.options.fontSize=f.style.fontSize),a.loadAddon(o),a.loadAddon(n),a.open(document.getElementById(f.id?f.id:"terminal-container")),f.showInModal||o.fit(),function(){a.reset(),A(!0)}},[]),(0,b.useImperativeHandle)(v,function(){return{write:function(D){M&&(o.fit(),A(!1)),a.write(D)},clear:function(){a.clear()},getTerminal:function(){return a},findNext:function(D){n.findNext(D)},findPrev:function(D){n.findPrevious(D)},fit:function(){o.fit()},onData:function(D){return a.onData(D)}}}),(0,s.jsx)("div",{id:f.id?f.id:"terminal-container",style:{width:f.width?f.width:"100%",height:f.height?f.height:"500px",marginTop:(d=f.style)===null||d===void 0?void 0:d.marginTop}})});P.Z=l},44349:function(W,P,e){"use strict";var y=e(97857),c=e.n(y),j=e(15009),u=e.n(j),p=e(99289),m=e.n(p),E=e(74763),b=e(17186),t=e(5966),r=e(86250),i=e(67294),s=e(85893),a=(0,i.forwardRef)(function(n,o){var l=(0,i.useRef)();(0,i.useImperativeHandle)(o,function(){return{addItem:function(v){function d(g,T,M){return v.apply(this,arguments)}return d.toString=function(){return v.toString()},d}(function(v,d,g){var T,M=(T=l.current)===null||T===void 0?void 0:T.getList(),A;if(M==null||M.forEach(function(I,C){I[v]==d[v]&&(A=C)}),!(0,E.k)(A)&&g){var L;(L=l.current)===null||L===void 0||L.remove(A),A=void 0}if(!A){var D;(D=l.current)===null||D===void 0||D.add(d)}}),removeItemByKey:function(d,g){return m()(u()().mark(function T(){var M,A;return u()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return A=(M=l.current)===null||M===void 0?void 0:M.getList(),A==null||A.forEach(function(I,C){if(I[d]==g){var N;(N=l.current)===null||N===void 0||N.remove(C);return}}),D.abrupt("return");case 3:case"end":return D.stop()}},T)}))()},clear:function(d){if(!d){var g;d=(g=l.current)===null||g===void 0||(g=g.getList())===null||g===void 0?void 0:g.map(function(M,A){return A})}if(d){var T;(T=l.current)===null||T===void 0||T.remove(d)}},getList:function(){var d;return(d=l.current)===null||d===void 0?void 0:d.getList()}}});var f={};return n.hideCopyButton===!0&&(f.copyIconProps=!1),n.hideDeleteButton===!0&&(f.deleteIconProps=!1),(0,s.jsx)(b.u,c()(c()({initialValue:n.initialValue,label:n.label,name:n.name,actionRef:l,creatorButtonProps:n.showAddButton?{creatorButtonText:n.label?n.label:n.name}:!1,min:n.min?n.min:0},f),{},{children:function(d,g,T){return(0,s.jsx)(r.Z,{justify:n.justify,gap:n.gap,children:n.items.map(function(M){return M.render?(0,s.jsx)("div",{children:M.render&&M.render(d,g,T)},"".concat(n.name,"-").concat(M.name,"-").concat(d.key)):(0,s.jsx)(t.Z,{width:M.width,name:M.name,label:M.label,required:M.required,rules:[{required:M.required}],disabled:M.disabled,placeholder:M.placeholder},"".concat(n.name,"-").concat(M.name,"-").concat(d.key))})})}}))});P.Z=a},12491:function(W,P,e){"use strict";e.d(P,{Z:function(){return o}});var y=e(5574),c=e.n(y),j=e(3616),u=e(24963),p=e(36146),m=e(88484),E=e(57546),b=e(62370),t=e(11106),r=e(42075),i=e(83622),s=e(85576),a=e(67294),n=e(85893);function o(l){var f=(0,a.useContext)(u.Z),v=f.message,d=f.notice,g=(0,a.useRef)(null),T=(0,a.useState)(!1),M=c()(T,2),A=M[0],L=M[1],D=(0,a.useState)(""),I=c()(D,2),C=I[0],N=I[1],S=function(){g.current&&(g.current.click(),g.current.onchange=function(U){if(!U||!U.target)return"";var h=new FileReader;h.onload=function(_){var G,z,F=(G=_.target)===null||G===void 0?void 0:G.result;if(l.onLoad)try{l.onLoad&&l.onLoad(F)}catch(H){d.error(H);return}N(F),typeof l.onImport=="function"&&(v.success(p.FD.format("finish")),l.onImport(F)),(z=g.current)!==null&&z!==void 0&&z.value&&(g.current.value="")};var O=U.target;if(O.files&&O.files[0]){var R=O.files[0];try{h.readAsText(R)}catch(_){d.error(p.FD.format("commonContentIncorrectFormat",{name:O.files[0].name}))}}})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b.Z,{children:(0,n.jsxs)(r.Z.Compact,{block:!0,children:[(0,n.jsx)(i.ZP,{icon:(0,n.jsx)(m.Z,{}),block:!0,onClick:S,children:l.title}),l.showPaset&&(0,n.jsx)(i.ZP,{icon:(0,n.jsx)(E.Z,{}),onClick:function(){L(!0)}})]})}),(0,n.jsx)("input",{style:{display:"none"},type:"file",ref:g,name:"importFileInput"}),(0,n.jsx)(s.Z,{width:j.ob,open:A,onClose:function(){L(!1)},onCancel:function(){L(!1)},onOk:function(){typeof l.onImport=="function"&&(v.success(p.FD.format("finish")),l.onImport(C)),L(!1)},children:(0,n.jsx)(t.ZP,{height:j.Ed,theme:"dark",value:C,onChange:function(U){N(U)}})})]})}},3616:function(W,P,e){"use strict";e.d(P,{Ed:function(){return u},FK:function(){return c},R_:function(){return y},ob:function(){return j}});var y=window.innerWidth<=1024?"90vw":"65vw",c="90vw",j="60vw",u="50vh"},12323:function(W,P,e){"use strict";e.d(P,{X:function(){return y},n:function(){return c}});var y={convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,lineHeight:1,cursorStyle:"block",cursorInactiveStyle:"outline",cursorBlink:!0,letterSpacing:0,theme:{foreground:"#bfbfbf",cursor:"gray",selectionForeground:"#ffffff"}},c=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"]},24963:function(W,P,e){"use strict";var y=e(67294),c=(0,y.createContext)({});P.Z=c},66554:function(W,P,e){"use strict";e.d(P,{Fj:function(){return b},KK:function(){return N},Pf:function(){return l},Ss:function(){return M},dZ:function(){return I},dj:function(){return s},hZ:function(){return g},i7:function(){return m},lQ:function(){return n},ll:function(){return w},q2:function(){return L},ui:function(){return v}});var y=e(15009),c=e.n(y),j=e(99289),u=e.n(j),p=e(82346);function m(h){return E.apply(this,arguments)}function E(){return E=u()(c()().mark(function h(O){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,p.request)("/api/app/site-domain/get-list",{method:"POST",data:O}));case 1:case"end":return _.stop()}},h)})),E.apply(this,arguments)}function b(h){return t.apply(this,arguments)}function t(){return t=u()(c()().mark(function h(O){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,p.request)("/api/app/site-domain/create",{method:"POST",data:O}));case 1:case"end":return _.stop()}},h)})),t.apply(this,arguments)}function r(h){return i.apply(this,arguments)}function i(){return i=_asyncToGenerator(_regeneratorRuntime().mark(function h(O){return _regeneratorRuntime().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",request("/api/app/site-domain/update",{method:"POST",data:O}));case 1:case"end":return _.stop()}},h)})),i.apply(this,arguments)}function s(h){return a.apply(this,arguments)}function a(){return a=u()(c()().mark(function h(O){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,p.request)("/api/app/site-domain/delete",{method:"POST",data:O}));case 1:case"end":return _.stop()}},h)})),a.apply(this,arguments)}function n(h){return o.apply(this,arguments)}function o(){return o=u()(c()().mark(function h(O){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,p.request)("/api/app/site-domain/get-detail",{method:"POST",data:O}));case 1:case"end":return _.stop()}},h)})),o.apply(this,arguments)}function l(h){return f.apply(this,arguments)}function f(){return f=u()(c()().mark(function h(O){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,p.request)("/api/app/site-cert/apply",{method:"POST",data:O}));case 1:case"end":return _.stop()}},h)})),f.apply(this,arguments)}function v(h){return d.apply(this,arguments)}function d(){return d=u()(c()().mark(function h(O){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,p.request)("/api/app/site-cert/import",{method:"POST",data:O}));case 1:case"end":return _.stop()}},h)})),d.apply(this,arguments)}function g(){return T.apply(this,arguments)}function T(){return T=u()(c()().mark(function h(){return c()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",(0,p.request)("/api/app/site-domain/restart-nginx",{method:"POST"}));case 1:case"end":return R.stop()}},h)})),T.apply(this,arguments)}function M(h){return A.apply(this,arguments)}function A(){return A=u()(c()().mark(function h(O){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,p.request)("/api/app/site-domain/update-vhost",{method:"POST",data:O}));case 1:case"end":return _.stop()}},h)})),A.apply(this,arguments)}function L(h){return D.apply(this,arguments)}function D(){return D=u()(c()().mark(function h(O){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,p.request)("/api/app/site-cert/dns-api",{method:"POST",data:O}));case 1:case"end":return _.stop()}},h)})),D.apply(this,arguments)}function I(h){return C.apply(this,arguments)}function C(){return C=u()(c()().mark(function h(O){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,p.request)("/api/app/site-cert/get-list",{method:"POST",data:O}));case 1:case"end":return _.stop()}},h)})),C.apply(this,arguments)}function N(h){return S.apply(this,arguments)}function S(){return S=u()(c()().mark(function h(O){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,p.request)("/api/app/site-cert/delete",{method:"POST",data:O}));case 1:case"end":return _.stop()}},h)})),S.apply(this,arguments)}function w(h){return U.apply(this,arguments)}function U(){return U=u()(c()().mark(function h(O){return c()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,p.request)("/api/app/site-cert/download",{method:"POST",data:O,responseType:"blob"}));case 1:case"end":return _.stop()}},h)})),U.apply(this,arguments)}},67255:function(W,P,e){"use strict";e.d(P,{O$:function(){return m},Oh:function(){return j},j_:function(){return u},nX:function(){return p}});var y=e(5574),c=e.n(y);function j(E){var b=localStorage.getItem("dpanel-pagesize");if(b=="all")return!1;var t=location.pathname.split("/").slice(-2).join("-");return{defaultCurrent:E==null?void 0:E.page,showSizeChanger:!0,defaultPageSize:parseInt(b!=null?b:"20"),onChange:function(i,s){["app-list","compose-list"].includes(t)&&localStorage.setItem("dpanel-page-"+t,"".concat(i))}}}function u(E){var b="dpanel-table-column-".concat(E),t={};if(localStorage.getItem(b)){var r;t=JSON.parse((r=localStorage.getItem(b))!==null&&r!==void 0?r:"{}")}return{defaultValue:t,onChange:function(s){localStorage.setItem("dpanel-table-column-".concat(E),JSON.stringify(s))}}}function p(E,b,t){var r=location.pathname.split("/").slice(-2).join("-");t.columnKey&&localStorage.setItem("dpanel-table-sort-".concat(r),"".concat(t.columnKey,"|").concat(t.order))}function m(E,b){var t=localStorage.getItem("dpanel-table-sort-".concat(E));if(t){var r=t.split("|"),i=c()(r,2),s=i[0],a=i[1];if(s==b)return a}}},75458:function(W){(function(P,e){W.exports=e()})(self,()=>(()=>{"use strict";var P={345:(j,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.runAndSubscribe=u.forwardEvent=u.EventEmitter=void 0,u.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=p=>(this._listeners.push(p),{dispose:()=>{if(!this._disposed){for(let m=0;m<this._listeners.length;m++)if(this._listeners[m]===p)return void this._listeners.splice(m,1)}}})),this._event}fire(p,m){const E=[];for(let b=0;b<this._listeners.length;b++)E.push(this._listeners[b]);for(let b=0;b<E.length;b++)E[b].call(void 0,p,m)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},u.forwardEvent=function(p,m){return p(E=>m.fire(E))},u.runAndSubscribe=function(p,m){return m(void 0),p(E=>m(E))}},859:(j,u)=>{function p(m){for(const E of m)E.dispose();m.length=0}Object.defineProperty(u,"__esModule",{value:!0}),u.getDisposeArrayDisposable=u.disposeArray=u.toDisposable=u.MutableDisposable=u.Disposable=void 0,u.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const m of this._disposables)m.dispose();this._disposables.length=0}register(m){return this._disposables.push(m),m}unregister(m){const E=this._disposables.indexOf(m);E!==-1&&this._disposables.splice(E,1)}},u.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(m){var E;this._isDisposed||m===this._value||((E=this._value)==null||E.dispose(),this._value=m)}clear(){this.value=void 0}dispose(){var m;this._isDisposed=!0,(m=this._value)==null||m.dispose(),this._value=void 0}},u.toDisposable=function(m){return{dispose:m}},u.disposeArray=p,u.getDisposeArrayDisposable=function(m){return{dispose:()=>p(m)}}}},e={};function y(j){var u=e[j];if(u!==void 0)return u.exports;var p=e[j]={exports:{}};return P[j](p,p.exports,y),p.exports}var c={};return(()=>{var j=c;Object.defineProperty(j,"__esModule",{value:!0}),j.SearchAddon=void 0;const u=y(345),p=y(859),m=" ~!@#$%^&*()+`-=[]{}|\\;:\"',./<>?";class E extends p.Disposable{constructor(t){var r;super(),this._highlightedLines=new Set,this._highlightDecorations=[],this._selectedDecoration=this.register(new p.MutableDisposable),this._linesCacheTimeoutId=0,this._linesCacheDisposables=new p.MutableDisposable,this._onDidChangeResults=this.register(new u.EventEmitter),this.onDidChangeResults=this._onDidChangeResults.event,this._highlightLimit=(r=t==null?void 0:t.highlightLimit)!=null?r:1e3}activate(t){this._terminal=t,this.register(this._terminal.onWriteParsed(()=>this._updateMatches())),this.register(this._terminal.onResize(()=>this._updateMatches())),this.register((0,p.toDisposable)(()=>this.clearDecorations()))}_updateMatches(){var t;this._highlightTimeout&&window.clearTimeout(this._highlightTimeout),this._cachedSearchTerm&&((t=this._lastSearchOptions)!=null&&t.decorations)&&(this._highlightTimeout=setTimeout(()=>{const r=this._cachedSearchTerm;this._cachedSearchTerm=void 0,this.findPrevious(r,ne(te({},this._lastSearchOptions),{incremental:!0,noScroll:!0}))},200))}clearDecorations(t){this._selectedDecoration.clear(),(0,p.disposeArray)(this._highlightDecorations),this._highlightDecorations=[],this._highlightedLines.clear(),t||(this._cachedSearchTerm=void 0)}clearActiveDecoration(){this._selectedDecoration.clear()}findNext(t,r){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const i=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,r);this._lastSearchOptions=r,r!=null&&r.decorations&&(this._cachedSearchTerm===void 0||t!==this._cachedSearchTerm||i)&&this._highlightAllMatches(t,r);const s=this._findNextAndSelect(t,r);return this._fireResults(r),this._cachedSearchTerm=t,s}_highlightAllMatches(t,r){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!t||t.length===0)return void this.clearDecorations();r=r||{},this.clearDecorations(!0);const i=[];let s,a=this._find(t,0,0,r);for(;a&&((s==null?void 0:s.row)!==a.row||(s==null?void 0:s.col)!==a.col)&&!(i.length>=this._highlightLimit);)s=a,i.push(s),a=this._find(t,s.col+s.term.length>=this._terminal.cols?s.row+1:s.row,s.col+s.term.length>=this._terminal.cols?0:s.col+1,r);for(const n of i){const o=this._createResultDecoration(n,r.decorations);o&&(this._highlightedLines.add(o.marker.line),this._highlightDecorations.push({decoration:o,match:n,dispose(){o.dispose()}}))}}_find(t,r,i,s){var o;if(!this._terminal||!t||t.length===0)return(o=this._terminal)==null||o.clearSelection(),void this.clearDecorations();if(i>this._terminal.cols)throw new Error(`Invalid col: ${i} to search in terminal of ${this._terminal.cols} cols`);let a;this._initLinesCache();const n={startRow:r,startCol:i};if(a=this._findInLine(t,n,s),!a)for(let l=r+1;l<this._terminal.buffer.active.baseY+this._terminal.rows&&(n.startRow=l,n.startCol=0,a=this._findInLine(t,n,s),!a);l++);return a}_findNextAndSelect(t,r){var l;if(!this._terminal||!t||t.length===0)return(l=this._terminal)==null||l.clearSelection(),this.clearDecorations(),!1;const i=this._terminal.getSelectionPosition();this._terminal.clearSelection();let s=0,a=0;i&&(this._cachedSearchTerm===t?(s=i.end.x,a=i.end.y):(s=i.start.x,a=i.start.y)),this._initLinesCache();const n={startRow:a,startCol:s};let o=this._findInLine(t,n,r);if(!o)for(let f=a+1;f<this._terminal.buffer.active.baseY+this._terminal.rows&&(n.startRow=f,n.startCol=0,o=this._findInLine(t,n,r),!o);f++);if(!o&&a!==0)for(let f=0;f<a&&(n.startRow=f,n.startCol=0,o=this._findInLine(t,n,r),!o);f++);return!o&&i&&(n.startRow=i.start.y,n.startCol=0,o=this._findInLine(t,n,r)),this._selectResult(o,r==null?void 0:r.decorations,r==null?void 0:r.noScroll)}findPrevious(t,r){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const i=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,r);this._lastSearchOptions=r,r!=null&&r.decorations&&(this._cachedSearchTerm===void 0||t!==this._cachedSearchTerm||i)&&this._highlightAllMatches(t,r);const s=this._findPreviousAndSelect(t,r);return this._fireResults(r),this._cachedSearchTerm=t,s}_didOptionsChange(t,r){return!!r&&(t.caseSensitive!==r.caseSensitive||t.regex!==r.regex||t.wholeWord!==r.wholeWord)}_fireResults(t){if(t!=null&&t.decorations){let r=-1;if(this._selectedDecoration.value){const i=this._selectedDecoration.value.match;for(let s=0;s<this._highlightDecorations.length;s++){const a=this._highlightDecorations[s].match;if(a.row===i.row&&a.col===i.col&&a.size===i.size){r=s;break}}}this._onDidChangeResults.fire({resultIndex:r,resultCount:this._highlightDecorations.length})}}_findPreviousAndSelect(t,r){var f;if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!this._terminal||!t||t.length===0)return(f=this._terminal)==null||f.clearSelection(),this.clearDecorations(),!1;const i=this._terminal.getSelectionPosition();this._terminal.clearSelection();let s=this._terminal.buffer.active.baseY+this._terminal.rows-1,a=this._terminal.cols;const n=!0;this._initLinesCache();const o={startRow:s,startCol:a};let l;if(i&&(o.startRow=s=i.start.y,o.startCol=a=i.start.x,this._cachedSearchTerm!==t&&(l=this._findInLine(t,o,r,!1),l||(o.startRow=s=i.end.y,o.startCol=a=i.end.x))),l||(l=this._findInLine(t,o,r,n)),!l){o.startCol=Math.max(o.startCol,this._terminal.cols);for(let v=s-1;v>=0&&(o.startRow=v,l=this._findInLine(t,o,r,n),!l);v--);}if(!l&&s!==this._terminal.buffer.active.baseY+this._terminal.rows-1)for(let v=this._terminal.buffer.active.baseY+this._terminal.rows-1;v>=s&&(o.startRow=v,l=this._findInLine(t,o,r,n),!l);v--);return this._selectResult(l,r==null?void 0:r.decorations,r==null?void 0:r.noScroll)}_initLinesCache(){const t=this._terminal;this._linesCache||(this._linesCache=new Array(t.buffer.active.length),this._linesCacheDisposables.value=(0,p.getDisposeArrayDisposable)([t.onLineFeed(()=>this._destroyLinesCache()),t.onCursorMove(()=>this._destroyLinesCache()),t.onResize(()=>this._destroyLinesCache())])),window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=window.setTimeout(()=>this._destroyLinesCache(),15e3)}_destroyLinesCache(){this._linesCache=void 0,this._linesCacheDisposables.clear(),this._linesCacheTimeoutId&&(window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=0)}_isWholeWord(t,r,i){return(t===0||m.includes(r[t-1]))&&(t+i.length===r.length||m.includes(r[t+i.length]))}_findInLine(t,r,i={},s=!1){var L;const a=this._terminal,n=r.startRow,o=r.startCol,l=a.buffer.active.getLine(n);if(l!=null&&l.isWrapped)return s?void(r.startCol+=a.cols):(r.startRow--,r.startCol+=a.cols,this._findInLine(t,r,i));let f=(L=this._linesCache)==null?void 0:L[n];f||(f=this._translateBufferLineToStringWithWrap(n,!0),this._linesCache&&(this._linesCache[n]=f));const[v,d]=f,g=this._bufferColsToStringOffset(n,o),T=i.caseSensitive?t:t.toLowerCase(),M=i.caseSensitive?v:v.toLowerCase();let A=-1;if(i.regex){const D=RegExp(T,"g");let I;if(s)for(;I=D.exec(M.slice(0,g));)A=D.lastIndex-I[0].length,t=I[0],D.lastIndex-=t.length-1;else I=D.exec(M.slice(g)),I&&I[0].length>0&&(A=g+(D.lastIndex-I[0].length),t=I[0])}else s?g-T.length>=0&&(A=M.lastIndexOf(T,g-T.length)):A=M.indexOf(T,g);if(A>=0){if(i.wholeWord&&!this._isWholeWord(A,M,t))return;let D=0;for(;D<d.length-1&&A>=d[D+1];)D++;let I=D;for(;I<d.length-1&&A+t.length>=d[I+1];)I++;const C=A-d[D],N=A+t.length-d[I],S=this._stringLengthToBufferSize(n+D,C);return{term:t,col:S,row:n+D,size:this._stringLengthToBufferSize(n+I,N)-S+a.cols*(I-D)}}}_stringLengthToBufferSize(t,r){const i=this._terminal.buffer.active.getLine(t);if(!i)return 0;for(let s=0;s<r;s++){const a=i.getCell(s);if(!a)break;const n=a.getChars();n.length>1&&(r-=n.length-1);const o=i.getCell(s+1);o&&o.getWidth()===0&&r++}return r}_bufferColsToStringOffset(t,r){const i=this._terminal;let s=t,a=0,n=i.buffer.active.getLine(s);for(;r>0&&n;){for(let o=0;o<r&&o<i.cols;o++){const l=n.getCell(o);if(!l)break;l.getWidth()&&(a+=l.getCode()===0?1:l.getChars().length)}if(s++,n=i.buffer.active.getLine(s),n&&!n.isWrapped)break;r-=i.cols}return a}_translateBufferLineToStringWithWrap(t,r){var o;const i=this._terminal,s=[],a=[0];let n=i.buffer.active.getLine(t);for(;n;){const l=i.buffer.active.getLine(t+1),f=!!l&&l.isWrapped;let v=n.translateToString(!f&&r);if(f&&l){const d=n.getCell(n.length-1);d&&d.getCode()===0&&d.getWidth()===1&&((o=l.getCell(0))==null?void 0:o.getWidth())===2&&(v=v.slice(0,-1))}if(s.push(v),!f)break;a.push(a[a.length-1]+v.length),t++,n=l}return[s.join(""),a]}_selectResult(t,r,i){const s=this._terminal;if(this._selectedDecoration.clear(),!t)return s.clearSelection(),!1;if(s.select(t.col,t.row,t.size),r){const a=s.registerMarker(-s.buffer.active.baseY-s.buffer.active.cursorY+t.row);if(a){const n=s.registerDecoration({marker:a,x:t.col,width:t.size,backgroundColor:r.activeMatchBackground,layer:"top",overviewRulerOptions:{color:r.activeMatchColorOverviewRuler}});if(n){const o=[];o.push(a),o.push(n.onRender(l=>this._applyStyles(l,r.activeMatchBorder,!0))),o.push(n.onDispose(()=>(0,p.disposeArray)(o))),this._selectedDecoration.value={decoration:n,match:t,dispose(){n.dispose()}}}}}if(!i&&(t.row>=s.buffer.active.viewportY+s.rows||t.row<s.buffer.active.viewportY)){let a=t.row-s.buffer.active.viewportY;a-=Math.floor(s.rows/2),s.scrollLines(a)}return!0}_applyStyles(t,r,i){t.classList.contains("xterm-find-result-decoration")||(t.classList.add("xterm-find-result-decoration"),r&&(t.style.outline=`1px solid ${r}`)),i&&t.classList.add("xterm-find-active-result-decoration")}_createResultDecoration(t,r){const i=this._terminal,s=i.registerMarker(-i.buffer.active.baseY-i.buffer.active.cursorY+t.row);if(!s)return;const a=i.registerDecoration({marker:s,x:t.col,width:t.size,backgroundColor:r.matchBackground,overviewRulerOptions:this._highlightedLines.has(s.line)?void 0:{color:r.matchOverviewRuler,position:"center"}});if(a){const n=[];n.push(s),n.push(a.onRender(o=>this._applyStyles(o,r.matchBorder,!1))),n.push(a.onDispose(()=>(0,p.disposeArray)(n)))}return a}}j.SearchAddon=E})(),c})())}}]);
}());