"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[236],{1699:function(Z,h,n){n.d(h,{u:function(){return x}});var D=n(97857),m=n.n(D),c=n(67294),I=n(82346),M=n(42075),v=n(85893),x=function(i){var b=(0,I.useAccess)(),A=Array.isArray(i.access)?i.access:[i.access];return i.space?(0,v.jsx)(M.Z,m()(m()({},i.space),{},{children:A.every(function(O){return b[O]})?i.children:i.fallback})):(0,v.jsx)(v.Fragment,{children:A.every(function(O){return b[O]})?i.children:i.fallback})}},10032:function(Z,h,n){var D=n(5574),m=n.n(D),c=n(15009),I=n.n(c),M=n(99289),v=n.n(M),x=n(80821),j=n(14946),i=n(48689),b=n(184),A=n(38345),O=n(60940),B=n(42075),y=n(96074),a=n(26412),P=n(67294),t=n(85893),N=(0,P.forwardRef)(function(F,W){(0,P.useImperativeHandle)(W,function(){return{show:function(K){return v()(I()().mark(function S(){var C,U;return I()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,j.IS)({name:K});case 2:C=E.sent,C.data.info.Containers?(U=[],Object.keys(C.data.info.Containers).map(function(w){C.data.info.Containers[w].Id=w,U.push(C.data.info.Containers[w])}),p(U)):p([]),r(C.data.info),g(!0);case 6:case"end":return E.stop()}},S)}))()}}});var s=(0,P.useState)(!1),L=m()(s,2),u=L[0],g=L[1],T=(0,P.useState)(),f=m()(T,2),e=f[0],r=f[1],d=(0,P.useState)(),_=m()(d,2),l=_[0],p=_[1];return(0,t.jsx)(b.a,{title:"\u7F51\u7EDC\u8BE6\u60C5",open:u,onOpenChange:function(K){g(K)},submitter:!1,children:(0,t.jsxs)(A.Z,{ghost:!0,direction:"column",gutter:[10,0],children:[(0,t.jsx)(A.Z,{title:"\u7F51\u7EDC\u5185\u5BB9\u5668",ghost:!0,children:(0,t.jsx)(O.Z,{rowKey:"Id",columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"Name"},{title:"IPV4",dataIndex:"IPv4Address"},{title:"IPV6",dataIndex:"IPv6Address"},{title:"MacAddress",dataIndex:"MacAddress"},{title:"\u64CD\u4F5C",render:function(K,S,C){return(0,t.jsx)(B.Z,{split:(0,t.jsx)(y.Z,{type:"vertical"}),children:(0,t.jsx)(x.Z,{type:"text",action:function(){var R,E;return(0,j.t9)({name:(R=e==null?void 0:e.Id)!==null&&R!==void 0?R:"",containerName:(E=S.Id)!==null&&E!==void 0?E:""})},onSuccess:function(){var R=l==null?void 0:l.filter(function(E){return E.Id!=S.Id});p(R)},children:(0,t.jsx)(i.Z,{})},"delete")})}}],dataSource:l,pagination:!1})}),(0,t.jsx)(A.Z,{ghost:!0,title:"\u57FA\u7840\u4FE1\u606F",children:(0,t.jsxs)(a.Z,{labelStyle:{width:"180px"},column:1,bordered:!0,children:[(0,t.jsx)(a.Z.Item,{label:"\u540D\u79F0",children:e==null?void 0:e.Name}),(0,t.jsx)(a.Z.Item,{label:"Id",children:e==null?void 0:e.Id}),(0,t.jsx)(a.Z.Item,{label:"Driver",children:e==null?void 0:e.Driver}),(0,t.jsx)(a.Z.Item,{label:"Scope",children:e==null?void 0:e.Scope}),(0,t.jsx)(a.Z.Item,{label:"Attachable",children:e!=null&&e.Attachable?"\u662F":"\u5426"}),(0,t.jsx)(a.Z.Item,{label:"Internal",children:e!=null&&e.Internal?"\u662F":"\u5426"}),(e==null?void 0:e.IPAM.Config)&&(e==null?void 0:e.IPAM.Config[0])&&(0,t.jsx)(a.Z.Item,{label:"IPV4",children:(0,t.jsxs)(a.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:[(0,t.jsx)(a.Z.Item,{label:"Subnet",children:e==null?void 0:e.IPAM.Config[0].Subnet}),(0,t.jsx)(a.Z.Item,{label:"Gateway",children:e==null?void 0:e.IPAM.Config[0].Gateway}),(0,t.jsx)(a.Z.Item,{label:"IP Range ",children:e==null?void 0:e.IPAM.Config[0].IPRange}),(0,t.jsx)(a.Z.Item,{label:"Excluded IPs",children:(e==null?void 0:e.IPAM.Config[0].AuxiliaryAddresses)&&Object.keys(e==null?void 0:e.IPAM.Config[0].AuxiliaryAddresses).map(function(o){return(e==null?void 0:e.IPAM.Config[0].AuxiliaryAddresses[o])+" ,"})})]})}),(e==null?void 0:e.IPAM.Config)&&(e==null?void 0:e.IPAM.Config[1])&&(0,t.jsx)(a.Z.Item,{label:"IPV6",children:(0,t.jsxs)(a.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:[(0,t.jsx)(a.Z.Item,{label:"Subnet",children:e==null?void 0:e.IPAM.Config[1].Subnet}),(0,t.jsx)(a.Z.Item,{label:"Gateway",children:e==null?void 0:e.IPAM.Config[1].Gateway}),(0,t.jsx)(a.Z.Item,{label:"IP Range ",children:e==null?void 0:e.IPAM.Config[1].IPRange}),(0,t.jsx)(a.Z.Item,{label:"Excluded IPs",children:(e==null?void 0:e.IPAM.Config[1].AuxiliaryAddresses)&&Object.keys(e==null?void 0:e.IPAM.Config[1].AuxiliaryAddresses).map(function(o){return(e==null?void 0:e.IPAM.Config[1].AuxiliaryAddresses[o])+" ,"})})]})}),(e==null?void 0:e.Options)&&Object.keys(e==null?void 0:e.Options).length>0&&(0,t.jsx)(a.Z.Item,{label:"Options",children:(0,t.jsx)(a.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Options).map(function(o){return(0,t.jsx)(a.Z.Item,{label:o,children:e.Options[o]},o)})})}),(e==null?void 0:e.Labels)&&Object.keys(e==null?void 0:e.Labels).length>0&&(0,t.jsx)(a.Z.Item,{label:"Lables",children:(0,t.jsx)(a.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Labels).map(function(o){return(0,t.jsx)(a.Z.Item,{label:o,children:e.Labels[o]},o)})})})]})})]})})});h.Z=N},6005:function(Z,h,n){n.r(h),n.d(h,{default:function(){return L}});var D=n(15009),m=n.n(D),c=n(99289),I=n.n(c),M=n(1699),v=n(80821),x=n(28230),j=n(10032),i=n(14946),b=n(67255),A=n(43425),O=n(90078),B=n(78099),y=n(82346),a=n(66309),P=n(42075),t=n(96074),N=n(28036),F=n(83062),W=n(67294),s=n(85893);function L(){var u=(0,W.useRef)(),g=(0,W.useRef)(),T=(0,y.useAccess)();return(0,s.jsxs)(O._z,{header:{extra:[(0,s.jsx)(M.u,{access:"canSeeDockerNetworkManage",children:(0,s.jsx)(x.Z,{onFinish:function(){var e,r;!((e=u.current)===null||e===void 0)&&e.reloadAndRest&&((r=u.current)===null||r===void 0||r.reloadAndRest())}},"create")},"create")]},children:[(0,s.jsx)(j.Z,{ref:g}),(0,s.jsx)(B.Z,{scroll:{x:"max-content"},rowKey:"Name",columns:[{title:"\u540D\u79F0",ellipsis:!0,dataIndex:"Name",render:function(e,r,d,_,l){return r.Name=="none"||r.Name=="bridge"||r.Name=="host"?(0,s.jsxs)(s.Fragment,{children:[r.Name," ",(0,s.jsx)(a.Z,{color:"blue",children:"System"})]}):(0,s.jsx)(s.Fragment,{children:e})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",ellipsis:!0,width:150,search:!1,render:function(e,r,d,_,l){return r.IPAM.Config&&r.IPAM.Config[0]?(0,s.jsxs)(P.Z,{direction:"vertical",children:[(0,s.jsx)("div",{children:r.IPAM.Config&&r.IPAM.Config[0].Subnet}),(0,s.jsx)("div",{children:r.IPAM.Config&&r.IPAM.Config[0].Gateway})]}):"-"}},{title:"IPV6",ellipsis:!0,width:150,search:!1,render:function(e,r,d,_,l){return r.IPAM.Config&&r.IPAM.Config[1]?(0,s.jsxs)(P.Z,{direction:"vertical",children:[(0,s.jsx)("div",{children:r.IPAM.Config&&r.IPAM.Config[1].Subnet}),(0,s.jsx)("div",{children:r.IPAM.Config&&r.IPAM.Config[1].Gateway})]}):"-"}},{title:"\u521B\u5EFA\u65F6\u95F4",ellipsis:!0,width:180,search:!1,dataIndex:"Created",render:function(e,r,d,_,l){return new Date(r.Created).toLocaleString()}},{title:"\u64CD\u4F5C",width:100,search:!1,fixed:"right",hidden:!T.canSeeDockerNetworkManage,render:function(e,r,d,_,l){return(0,s.jsx)(P.Z,{split:(0,s.jsx)(t.Z,{type:"vertical"}),children:(0,s.jsx)(N.ZP,{type:"link",onClick:function(){var o;(o=g.current)===null||o===void 0||o.show(r.Name)},children:(0,s.jsx)(F.Z,{title:"\u7BA1\u7406",children:(0,s.jsx)(A.Z,{})})})})}}],request:function(){var f=I()(m()().mark(function e(r,d,_){var l;return m()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,i.jR)({name:r.Name});case 2:return l=o.sent,o.abrupt("return",{data:l.data.list,success:!0,total:l.data.list.length});case 4:case"end":return o.stop()}},e)}));return function(e,r,d){return f.apply(this,arguments)}}(),rowSelection:T.canSeeDockerNetworkManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,actionRef:u,tableAlertOptionRender:function(e){var r=e.selectedRowKeys;return(0,s.jsxs)(P.Z,{size:16,children:[(0,s.jsx)(v.Z,{danger:!0,type:"primary",action:function(){return(0,i._x)({name:r})},onSuccess:function(){var _,l;return!((_=u.current)===null||_===void 0)&&_.reloadAndRest&&((l=u.current)===null||l===void 0||l.reloadAndRest()),!0},onError:function(){var _,l;return!((_=u.current)===null||_===void 0)&&_.reset&&((l=u.current)===null||l===void 0||l.reset()),!0},confirm:"notification.confirm.title",children:"\u6279\u91CF\u5220\u9664"},"delete"),(0,s.jsx)(v.Z,{action:function(){return(0,i.CI)()},onSuccess:function(){var _,l;return!((_=u.current)===null||_===void 0)&&_.reloadAndRest&&((l=u.current)===null||l===void 0||l.reloadAndRest()),!0},onError:function(){var _,l;return!((_=u.current)===null||_===void 0)&&_.reset&&((l=u.current)===null||l===void 0||l.reset()),!0},confirm:"notification.confirm.title",children:"\u6E05\u7406\u672A\u4F7F\u7528\u7F51\u7EDC"},"clearNotUse")]})},pagination:(0,b.O)()})]})}},67255:function(Z,h,n){n.d(h,{O:function(){return D},j:function(){return m}});function D(){var c=localStorage.getItem("dpanel-pagesize");return c=="all"?!1:{showSizeChanger:!0,defaultPageSize:parseInt(c!=null?c:"20")}}function m(c){var I="dpanel-table-column-".concat(c),M={};if(localStorage.getItem(I)){var v;M=JSON.parse((v=localStorage.getItem(I))!==null&&v!==void 0?v:"{}")}return{defaultValue:M,onChange:function(j){localStorage.setItem("dpanel-table-column-".concat(c),JSON.stringify(j))}}}}}]);
