(self.webpackChunk=self.webpackChunk||[]).push([[8878],{55809:function(h,P,e){"use strict";var v=e(87462),s=e(67294),i=e(44805),g=e(84089),l=function(E,D){return s.createElement(g.Z,(0,v.Z)({},E,{ref:D,icon:i.Z}))},d=s.forwardRef(l);P.Z=d},5966:function(h,P,e){"use strict";var v=e(97685),s=e(1413),i=e(45987),g=e(21770),l=e(99859),d=e(55241),p=e(97435),E=e(67294),D=e(35510),t=e(85893),c=["fieldProps","proFieldProps"],m=["fieldProps","proFieldProps"],f="text",_=function(a){var n=a.fieldProps,O=a.proFieldProps,o=(0,i.Z)(a,c);return(0,t.jsx)(D.Z,(0,s.Z)({valueType:f,fieldProps:n,filedConfig:{valueType:f},proFieldProps:O},o))},T=function(a){var n=(0,g.Z)(a.open||!1,{value:a.open,onChange:a.onOpenChange}),O=(0,v.Z)(n,2),o=O[0],M=O[1];return(0,t.jsx)(l.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(r){var A,B=r.getFieldValue(a.name||[]);return(0,t.jsx)(d.Z,(0,s.Z)((0,s.Z)({getPopupContainer:function(u){return u&&u.parentNode?u.parentNode:u},onOpenChange:function(u){return M(u)},content:(0,t.jsxs)("div",{style:{padding:"4px 0"},children:[(A=a.statusRender)===null||A===void 0?void 0:A.call(a,B),a.strengthText?(0,t.jsx)("div",{style:{marginTop:10},children:(0,t.jsx)("span",{children:a.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},a.popoverProps),{},{open:o,children:a.children}))}})},C=function(a){var n=a.fieldProps,O=a.proFieldProps,o=(0,i.Z)(a,m),M=(0,E.useState)(!1),y=(0,v.Z)(M,2),r=y[0],A=y[1];return n!=null&&n.statusRender&&o.name?(0,t.jsx)(T,{name:o.name,statusRender:n==null?void 0:n.statusRender,popoverProps:n==null?void 0:n.popoverProps,strengthText:n==null?void 0:n.strengthText,open:r,onOpenChange:A,children:(0,t.jsx)("div",{children:(0,t.jsx)(D.Z,(0,s.Z)({valueType:"password",fieldProps:(0,s.Z)((0,s.Z)({},(0,p.Z)(n,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(R){var u;n==null||(u=n.onBlur)===null||u===void 0||u.call(n,R),A(!1)},onClick:function(R){var u;n==null||(u=n.onClick)===null||u===void 0||u.call(n,R),A(!0)}}),proFieldProps:O,filedConfig:{valueType:f}},o))})}):(0,t.jsx)(D.Z,(0,s.Z)({valueType:"password",fieldProps:n,proFieldProps:O,filedConfig:{valueType:f}},o))},W=_;W.Password=C,W.displayName="ProFormComponent",P.Z=W},80821:function(h,P,e){"use strict";e.d(P,{Z:function(){return D}});var v=e(5574),s=e.n(v),i=e(24963),g=e(86738),l=e(28036),d=e(83062),p=e(67294),E=e(85893);function D(t){var c=(0,p.useState)(!1),m=s()(c,2),f=m[0],_=m[1],T=(0,p.useContext)(i.Z),C=T.lang,W=T.notice,x=T.message,a=function(){_(!0);var O=t.action();O instanceof Promise?O.then(function(o){if(_(!1),o){typeof t.onSuccess=="function"&&t.onSuccess(o);var M="";t.messageSuccess?typeof t.messageSuccess=="function"?M=t.messageSuccess(o):M=t.messageSuccess.indexOf("notification.")==0?C(t.messageSuccess):t.messageSuccess:M=C("notification.finish"),t.asynced?x.info(M):x.success(M)}}).catch(function(o){_(!1),typeof t.onError=="function"&&t.onError(o)}):_(!1)};return t.confirm?(0,E.jsx)(g.Z,{style:{width:500},title:t.confirmTitle?t.confirmTitle:C("notification.title.tip"),description:typeof t.confirm=="string"&&t.confirm.indexOf("notification.")==0?C(t.confirm):t.confirm,onConfirm:a,okText:"Yes",cancelText:"No",onOpenChange:t.confirmOnOpenChange,children:(0,E.jsx)(l.ZP,{block:t.block,disabled:t.disabled,icon:t.icon,loading:f,danger:t.danger,type:t.type,children:t.children})}):(0,E.jsx)(d.Z,{title:t.tips,children:(0,E.jsx)(l.ZP,{block:t.block,style:t.ghost?{padding:0,height:"auto"}:{},disabled:t.disabled,icon:t.icon,loading:f,onClick:a,danger:t.danger,type:t.type,children:t.children})})}},24963:function(h,P,e){"use strict";var v=e(67294),s=(0,v.createContext)({});P.Z=s},29798:function(h,P,e){"use strict";e.r(P),e.d(P,{default:function(){return T}});var v=e(5574),s=e.n(v),i=e(60335),g=e(38345),l=e(82346),d=e(67294),p=e(24963),E=e(50070),D=e(37767),t=e(52031),c=e(14189),m=e(27813),f=e(14245),_=e(85893);function T(){var C=(0,d.useContext)(p.Z),W=C.message,x=C.notice,a=C.loading,n=C.lang,O=(0,d.useContext)(E.AppDetailContext),o=(0,l.useParams)(),M=(0,d.useState)(),y=s()(M,2),r=y[0],A=y[1],B=(0,d.useState)(1),R=s()(B,2),u=R[0],$=R[1],S=(0,l.useNavigate)();return(0,d.useEffect)(function(){var I;a.show(),O.reload(),(0,i.jV)({md5:(I=o.id)!==null&&I!==void 0?I:""}).then(function(j){j.data&&(j.data.info.HostConfig.NetworkMode=="host"&&j.data.info.Config.ExposedPorts&&Object.keys(j.data.info.Config.ExposedPorts).map(function(L){j.data.info.NetworkSettings.Ports[L]=[{HostIp:"0.0.0.0",HostPort:L.substring(0,L.indexOf("/"))}]}),A(j.data))}).finally(function(){a.destroy()})},[u]),(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(g.Z,{direction:"column",gutter:[0,10],children:[(r==null?void 0:r.info)&&(0,_.jsx)(c.Z,{data:r.info}),(r==null?void 0:r.info)&&(0,_.jsx)(m.Z,{data:r,checkContainerUpgrade:function(){S("/app/list")}}),r&&(0,_.jsx)(D.Z,{data:r}),r&&(0,_.jsx)(t.Z,{data:r==null?void 0:r.info}),r&&(0,_.jsx)(f.Z,{data:r.info})]})})}},50070:function(h,P,e){"use strict";e.r(P),e.d(P,{AppDetailContext:function(){return T},default:function(){return C}});var v=e(15009),s=e.n(v),i=e(99289),g=e.n(i),l=e(5574),d=e.n(l),p=e(24963),E=e(60335),D=e(55809),t=e(82346),c=e(25593),m=e(50136),f=e(67294),_=e(85893),T=(0,f.createContext)({});function C(){var W,x=(0,f.useContext)(p.Z),a=x.lang,n=x.loading,O=x.message,o=(0,t.useParams)(),M=(0,t.useSearchParams)(),y=d()(M,2),r=y[0],A=y[1],B=(W=r.get("tab"))!==null&&W!==void 0?W:"edit",R=(0,f.useState)("edit"),u=d()(R,2),$=u[0],S=u[1],I=(0,t.useNavigate)(),j=(0,f.useState)(1),L=d()(j,2),H=L[0],Y=L[1],V=[{label:(0,_.jsx)(t.Link,{to:"/app/detail/edit/".concat(o.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,_.jsx)(t.Link,{to:"/app/detail/network/".concat(o.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,_.jsx)(c.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){O.info(a("app.detail.createExplorerPlugin")),I("/app/detail/file/".concat(o.id,"?tab=file"))}},{label:(0,_.jsx)(c.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){I("/app/detail/log/".concat(o.id,"?tab=log"))}},{label:(0,_.jsx)(c.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){I("/app/detail/stat/".concat(o.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,_.jsx)(D.Z,{}),disabled:!0}],J=(0,f.useState)(V),G=d()(J,2),Q=G[0],X=G[1];(0,f.useEffect)(function(){n.show(),S(B);var U=function(){var F=g()(s()().mark(function z(){var k,N,Z;return s()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return N=V,b.next=3,(0,E.jV)({md5:(k=o.id)!==null&&k!==void 0?k:""});case 3:Z=b.sent,N.map(function(K){return K.key=="containerName"&&(K.label=Z.data.info.Name),(!Z.data.info.State.Running||Z.data.info.State.Restarting)&&(K.key=="file"||K.key=="stat")&&(K.disabled=!0),K}),X(N),n.destroy();case 7:case"end":return b.stop()}},z)}));return function(){return F.apply(this,arguments)}}();U()},[H]);var w=function(F){S(F.key)};return(0,_.jsxs)(T.Provider,{value:{reload:function(){Y(H+1)}},children:[(0,_.jsx)(m.Z,{mode:"horizontal",onClick:w,selectedKeys:[$],items:Q}),(0,_.jsx)(t.Outlet,{})]})}},64599:function(h,P,e){var v=e(96263);function s(i,g){var l=typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(!l){if(Array.isArray(i)||(l=v(i))||g&&i&&typeof i.length=="number"){l&&(i=l);var d=0,p=function(){};return{s:p,n:function(){return d>=i.length?{done:!0}:{done:!1,value:i[d++]}},e:function(m){throw m},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var E=!0,D=!1,t;return{s:function(){l=l.call(i)},n:function(){var m=l.next();return E=m.done,m},e:function(m){D=!0,t=m},f:function(){try{!E&&l.return!=null&&l.return()}finally{if(D)throw t}}}}h.exports=s,h.exports.__esModule=!0,h.exports.default=h.exports}}]);
