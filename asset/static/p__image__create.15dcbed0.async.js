"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7523],{90672:function(le,K,e){var E=e(1413),a=e(45987),b=e(67294),d=e(35510),c=e(85893),Z=["fieldProps","proFieldProps"],T=function(A,z){var G=A.fieldProps,f=A.proFieldProps,I=(0,a.Z)(A,Z);return(0,c.jsx)(d.Z,(0,E.Z)({ref:z,valueType:"textarea",fieldProps:G,proFieldProps:f},I))};K.Z=b.forwardRef(T)},1677:function(le,K,e){var E=e(1413),a=e(45987),b=e(88484),d=e(31365),c=e(28036),Z=e(67294),T=e(9105),n=e(90789),A=e(85893),z=["fieldProps","action","accept","listType","title","max","icon","buttonProps","disabled","proFieldProps"],G=function(s,O){var V,r=s.fieldProps,l=s.action,_=s.accept,p=s.listType,h=s.title,g=h===void 0?"\u5355\u51FB\u4E0A\u4F20":h,C=s.max,o=s.icon,u=o===void 0?(0,A.jsx)(b.Z,{}):o,F=s.buttonProps,v=s.disabled,P=s.proFieldProps,i=(0,a.Z)(s,z),Q=(0,Z.useMemo)(function(){var te;return(te=i.fileList)!==null&&te!==void 0?te:i.value},[i.fileList,i.value]),ee=(0,Z.useContext)(T.A),U=(P==null?void 0:P.mode)||ee.mode||"edit",D=(C===void 0||!Q||(Q==null?void 0:Q.length)<C)&&U!=="read",de=(p!=null?p:r==null?void 0:r.listType)==="picture-card";return(0,A.jsx)(d.Z,(0,E.Z)((0,E.Z)({action:l,accept:_,ref:O,listType:p||"picture",fileList:Q},r),{},{name:(V=r==null?void 0:r.name)!==null&&V!==void 0?V:"file",onChange:function(ue){var X;r==null||(X=r.onChange)===null||X===void 0||X.call(r,ue)},children:D&&(de?(0,A.jsxs)("span",{children:[u," ",g]}):(0,A.jsxs)(c.ZP,(0,E.Z)((0,E.Z)({disabled:v||(r==null?void 0:r.disabled)},F),{},{children:[u,g]})))}))},f=(0,n.G)(Z.forwardRef(G),{getValueFromEvent:function(s){return s.fileList}});K.Z=f},184:function(le,K,e){e.d(K,{a:function(){return F}});var E=e(4942),a=e(74165),b=e(15861),d=e(1413),c=e(97685),Z=e(45987),T=e(12044),n=e(51812),A=e(48171),z=e(73177),G=e(21532),f=e(85265),I=e(93967),s=e.n(I),O=e(55917),V=e(21770),r=e(80334),l=e(67294),_=e(73935),p=e(89671),h=e(98082),g=function(P){return(0,E.Z)({},P.componentCls,{"&-sidebar-dragger":{width:"5px",cursor:"ew-resize",padding:"4px 0 0",borderTop:"1px solid transparent",position:"absolute",top:0,left:0,bottom:0,zIndex:100,backgroundColor:"transparent","&-min-disabled":{cursor:"w-resize"},"&-max-disabled":{cursor:"e-resize"}}})};function C(v){return(0,h.Xj)("DrawerForm",function(P){var i=(0,d.Z)((0,d.Z)({},P),{},{componentCls:".".concat(v)});return[g(i)]})}var o=e(85893),u=["children","trigger","onVisibleChange","drawerProps","onFinish","submitTimeout","title","width","resize","onOpenChange","visible","open"];function F(v){var P,i,Q=v.children,ee=v.trigger,U=v.onVisibleChange,D=v.drawerProps,de=v.onFinish,te=v.submitTimeout,ue=v.title,X=v.width,W=v.resize,$=v.onOpenChange,oe=v.visible,ne=v.open,B=(0,Z.Z)(v,u);(0,r.ET)(!B.footer||!(D!=null&&D.footer),"DrawerForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002");var y=l.useMemo(function(){var w,M,R,L={onResize:function(){},maxWidth:(0,T.j)()?window.innerWidth*.8:void 0,minWidth:300};return typeof W=="boolean"?W?L:{}:(0,n.Y)({onResize:(w=W==null?void 0:W.onResize)!==null&&w!==void 0?w:L.onResize,maxWidth:(M=W==null?void 0:W.maxWidth)!==null&&M!==void 0?M:L.maxWidth,minWidth:(R=W==null?void 0:W.minWidth)!==null&&R!==void 0?R:L.minWidth})},[W]),N=(0,l.useContext)(G.ZP.ConfigContext),q=N.getPrefixCls("pro-form-drawer"),ce=C(q),me=ce.wrapSSR,ge=ce.hashId,ie=function(M){return"".concat(q,"-").concat(M," ").concat(ge)},ae=(0,l.useState)([]),Oe=(0,c.Z)(ae,2),Pe=Oe[1],he=(0,l.useState)(!1),j=(0,c.Z)(he,2),m=j[0],t=j[1],x=(0,l.useState)(!1),H=(0,c.Z)(x,2),S=H[0],re=H[1],k=(0,l.useState)(X||(W?y==null?void 0:y.minWidth:800)),fe=(0,c.Z)(k,2),De=fe[0],Ce=fe[1],Me=(0,V.Z)(!!oe,{value:ne||oe,onChange:$||U}),Te=(0,c.Z)(Me,2),pe=Te[0],ve=Te[1],Fe=(0,l.useRef)(null),Be=(0,l.useCallback)(function(w){Fe.current===null&&w&&Pe([]),Fe.current=w},[]),_e=(0,l.useRef)(),Re=(0,l.useCallback)(function(){var w,M,R,L=(w=(M=(R=B.formRef)===null||R===void 0?void 0:R.current)!==null&&M!==void 0?M:B.form)!==null&&w!==void 0?w:_e.current;L&&D!==null&&D!==void 0&&D.destroyOnClose&&L.resetFields()},[D==null?void 0:D.destroyOnClose,B.form,B.formRef]);(0,l.useEffect)(function(){pe&&(ne||oe)&&($==null||$(!0),U==null||U(!0)),S&&Ce(y==null?void 0:y.minWidth)},[oe,pe,S]),(0,l.useImperativeHandle)(B.formRef,function(){return _e.current},[_e.current]);var Y=(0,l.useMemo)(function(){return ee?l.cloneElement(ee,(0,d.Z)((0,d.Z)({key:"trigger"},ee.props),{},{onClick:function(){var w=(0,b.Z)((0,a.Z)().mark(function R(L){var se,J;return(0,a.Z)().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:ve(!pe),re(!Object.keys(y)),(se=ee.props)===null||se===void 0||(J=se.onClick)===null||J===void 0||J.call(se,L);case 3:case"end":return Ee.stop()}},R)}));function M(R){return w.apply(this,arguments)}return M}()})):null},[ve,ee,pe,re,S]),ye=(0,l.useMemo)(function(){var w,M,R,L;return B.submitter===!1?!1:(0,O.Z)({searchConfig:{submitText:(w=(M=N.locale)===null||M===void 0||(M=M.Modal)===null||M===void 0?void 0:M.okText)!==null&&w!==void 0?w:"\u786E\u8BA4",resetText:(R=(L=N.locale)===null||L===void 0||(L=L.Modal)===null||L===void 0?void 0:L.cancelText)!==null&&R!==void 0?R:"\u53D6\u6D88"},resetButtonProps:{preventDefault:!0,disabled:te?m:void 0,onClick:function(J){var Ae;ve(!1),D==null||(Ae=D.onClose)===null||Ae===void 0||Ae.call(D,J)}}},B.submitter)},[B.submitter,(P=N.locale)===null||P===void 0||(P=P.Modal)===null||P===void 0?void 0:P.okText,(i=N.locale)===null||i===void 0||(i=i.Modal)===null||i===void 0?void 0:i.cancelText,te,m,ve,D]),je=(0,l.useCallback)(function(w,M){return(0,o.jsxs)(o.Fragment,{children:[w,Fe.current&&M?(0,o.jsx)(l.Fragment,{children:(0,_.createPortal)(M,Fe.current)},"submitter"):M]})},[]),Ze=(0,A.J)(function(){var w=(0,b.Z)((0,a.Z)().mark(function M(R){var L,se,J;return(0,a.Z)().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return L=de==null?void 0:de(R),te&&L instanceof Promise&&(t(!0),se=setTimeout(function(){return t(!1)},te),L.finally(function(){clearTimeout(se),t(!1)})),Ee.next=4,L;case 4:return J=Ee.sent,J&&ve(!1),Ee.abrupt("return",J);case 7:case"end":return Ee.stop()}},M)}));return function(M){return w.apply(this,arguments)}}()),Ie=(0,z.X)(pe,U),xe=(0,l.useCallback)(function(w){var M,R,L=(document.body.offsetWidth||1e3)-(w.clientX-document.body.offsetLeft),se=(M=y==null?void 0:y.minWidth)!==null&&M!==void 0?M:X||800,J=(R=y==null?void 0:y.maxWidth)!==null&&R!==void 0?R:window.innerWidth*.8;if(L<se){Ce(se);return}if(L>J){Ce(J);return}Ce(L)},[y==null?void 0:y.maxWidth,y==null?void 0:y.minWidth,X]),be=(0,l.useCallback)(function(){document.removeEventListener("mousemove",xe),document.removeEventListener("mouseup",be)},[xe]);return me((0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(f.Z,(0,d.Z)((0,d.Z)((0,d.Z)({title:ue,width:De},D),Ie),{},{afterOpenChange:function(M){var R;M||Re(),D==null||(R=D.afterOpenChange)===null||R===void 0||R.call(D,M)},onClose:function(M){var R;te&&m||(ve(!1),D==null||(R=D.onClose)===null||R===void 0||R.call(D,M))},footer:B.submitter!==!1&&(0,o.jsx)("div",{ref:Be,style:{display:"flex",justifyContent:"flex-end"}}),children:[W?(0,o.jsx)("div",{className:s()(ie("sidebar-dragger"),ge,(0,E.Z)((0,E.Z)({},ie("sidebar-dragger-min-disabled"),De===(y==null?void 0:y.minWidth)),ie("sidebar-dragger-max-disabled"),De===(y==null?void 0:y.maxWidth))),onMouseDown:function(M){var R;y==null||(R=y.onResize)===null||R===void 0||R.call(y),M.stopPropagation(),M.preventDefault(),document.addEventListener("mousemove",xe),document.addEventListener("mouseup",be),re(!0)}}):null,(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(p.I,(0,d.Z)((0,d.Z)({formComponentType:"DrawerForm",layout:"vertical"},B),{},{formRef:_e,onInit:function(M,R){var L;B.formRef&&(B.formRef.current=R),B==null||(L=B.onInit)===null||L===void 0||L.call(B,M,R),_e.current=R},submitter:ye,onFinish:function(){var w=(0,b.Z)((0,a.Z)().mark(function M(R){var L;return(0,a.Z)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,Ze(R);case 2:return L=J.sent,J.abrupt("return",L);case 4:case"end":return J.stop()}},M)}));return function(M){return w.apply(this,arguments)}}(),contentRender:je,children:Q}))})]})),Y]}))}},37476:function(le,K,e){e.d(K,{Y:function(){return r}});var E=e(74165),a=e(15861),b=e(1413),d=e(97685),c=e(45987),Z=e(73177),T=e(21532),n=e(85576),A=e(55917),z=e(21770),G=e(80334),f=e(67294),I=e(73935),s=e(89671),O=e(85893),V=["children","trigger","onVisibleChange","onOpenChange","modalProps","onFinish","submitTimeout","title","width","visible","open"];function r(l){var _,p,h=l.children,g=l.trigger,C=l.onVisibleChange,o=l.onOpenChange,u=l.modalProps,F=l.onFinish,v=l.submitTimeout,P=l.title,i=l.width,Q=l.visible,ee=l.open,U=(0,c.Z)(l,V);(0,G.ET)(!U.footer||!(u!=null&&u.footer),"ModalForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002");var D=(0,f.useContext)(T.ZP.ConfigContext),de=(0,f.useState)([]),te=(0,d.Z)(de,2),ue=te[1],X=(0,f.useState)(!1),W=(0,d.Z)(X,2),$=W[0],oe=W[1],ne=(0,z.Z)(!!Q,{value:ee||Q,onChange:o||C}),B=(0,d.Z)(ne,2),y=B[0],N=B[1],q=(0,f.useRef)(null),ce=(0,f.useCallback)(function(j){q.current===null&&j&&ue([]),q.current=j},[]),me=(0,f.useRef)(),ge=(0,f.useCallback)(function(){var j,m,t,x=(j=(m=U.form)!==null&&m!==void 0?m:(t=U.formRef)===null||t===void 0?void 0:t.current)!==null&&j!==void 0?j:me.current;x&&u!==null&&u!==void 0&&u.destroyOnClose&&x.resetFields()},[u==null?void 0:u.destroyOnClose,U.form,U.formRef]);(0,f.useImperativeHandle)(U.formRef,function(){return me.current},[me.current]),(0,f.useEffect)(function(){(ee||Q)&&(o==null||o(!0),C==null||C(!0))},[Q,ee]);var ie=(0,f.useMemo)(function(){return g?f.cloneElement(g,(0,b.Z)((0,b.Z)({key:"trigger"},g.props),{},{onClick:function(){var j=(0,a.Z)((0,E.Z)().mark(function t(x){var H,S;return(0,E.Z)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:N(!y),(H=g.props)===null||H===void 0||(S=H.onClick)===null||S===void 0||S.call(H,x);case 2:case"end":return k.stop()}},t)}));function m(t){return j.apply(this,arguments)}return m}()})):null},[N,g,y]),ae=(0,f.useMemo)(function(){var j,m,t,x,H,S;return U.submitter===!1?!1:(0,A.Z)({searchConfig:{submitText:(j=(m=u==null?void 0:u.okText)!==null&&m!==void 0?m:(t=D.locale)===null||t===void 0||(t=t.Modal)===null||t===void 0?void 0:t.okText)!==null&&j!==void 0?j:"\u786E\u8BA4",resetText:(x=(H=u==null?void 0:u.cancelText)!==null&&H!==void 0?H:(S=D.locale)===null||S===void 0||(S=S.Modal)===null||S===void 0?void 0:S.cancelText)!==null&&x!==void 0?x:"\u53D6\u6D88"},resetButtonProps:{preventDefault:!0,disabled:v?$:void 0,onClick:function(k){var fe;N(!1),u==null||(fe=u.onCancel)===null||fe===void 0||fe.call(u,k)}}},U.submitter)},[(_=D.locale)===null||_===void 0||(_=_.Modal)===null||_===void 0?void 0:_.cancelText,(p=D.locale)===null||p===void 0||(p=p.Modal)===null||p===void 0?void 0:p.okText,u,U.submitter,N,$,v]),Oe=(0,f.useCallback)(function(j,m){return(0,O.jsxs)(O.Fragment,{children:[j,q.current&&m?(0,O.jsx)(f.Fragment,{children:(0,I.createPortal)(m,q.current)},"submitter"):m]})},[]),Pe=(0,f.useCallback)(function(){var j=(0,a.Z)((0,E.Z)().mark(function m(t){var x,H,S;return(0,E.Z)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return x=F==null?void 0:F(t),v&&x instanceof Promise&&(oe(!0),H=setTimeout(function(){return oe(!1)},v),x.finally(function(){clearTimeout(H),oe(!1)})),k.next=4,x;case 4:return S=k.sent,S&&N(!1),k.abrupt("return",S);case 7:case"end":return k.stop()}},m)}));return function(m){return j.apply(this,arguments)}}(),[F,N,v]),he=(0,Z.X)(y);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(n.Z,(0,b.Z)((0,b.Z)((0,b.Z)({title:P,width:i||800},u),he),{},{onCancel:function(m){var t;v&&$||(N(!1),u==null||(t=u.onCancel)===null||t===void 0||t.call(u,m))},afterClose:function(){var m;ge(),y&&N(!1),u==null||(m=u.afterClose)===null||m===void 0||m.call(u)},footer:U.submitter!==!1?(0,O.jsx)("div",{ref:ce,style:{display:"flex",justifyContent:"flex-end"}}):null,children:(0,O.jsx)(s.I,(0,b.Z)((0,b.Z)({formComponentType:"ModalForm",layout:"vertical"},U),{},{onInit:function(m,t){var x;U.formRef&&(U.formRef.current=t),U==null||(x=U.onInit)===null||x===void 0||x.call(U,m,t),me.current=t},formRef:me,submitter:ae,onFinish:function(){var j=(0,a.Z)((0,E.Z)().mark(function m(t){var x;return(0,E.Z)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,Pe(t);case 2:return x=S.sent,S.abrupt("return",x);case 4:case"end":return S.stop()}},m)}));return function(m){return j.apply(this,arguments)}}(),contentRender:Oe,children:h}))})),ie]})}},34879:function(le,K,e){e.d(K,{Z:function(){return d}});var E=e(97961),a=e(1677),b=e(85893);function d(c){return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(a.Z,{max:1,title:c.title,label:c.label,required:c.required,rules:[{required:c.required}],fieldProps:{name:"file",accept:c.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(T){return new Promise(function(n){var A;(0,E._2)({path:(A=T.response.data.path)!==null&&A!==void 0?A:""}).then(function(z){n(!0)})})}},name:c.name})})}},74344:function(le,K,e){var E=e(5574),a=e.n(E),b=e(37476),d=e(38345),c=e(82346),Z=e(67294),T=e(54964),n=e(85893),A=(0,Z.forwardRef)(function(z,G){(0,Z.useImperativeHandle)(G,function(){return{start:function(){for(var C=arguments.length,o=new Array(C),u=0;u<C;u++)o[u]=arguments[u];_(o.join(":")),O(!0)},reset:function(){var C;(C=h.current)===null||C===void 0||C.clear(),O(!1)},show:function(C){var o,u;(o=h.current)===null||o===void 0||o.clear(),(u=h.current)===null||u===void 0||u.write(C),O(!0)}}});var f=(0,Z.useState)(!1),I=a()(f,2),s=I[0],O=I[1],V=(0,Z.useState)(""),r=a()(V,2),l=r[0],_=r[1],p=(0,c.useModel)("subscriber"),h=(0,Z.useRef)();return p.addDataHandler("image:"+l,function(g){var C;(C=h.current)===null||C===void 0||C.write(g.data)}),(0,Z.useEffect)(function(){var g;(g=h.current)===null||g===void 0||g.fit()},[]),(0,n.jsx)(b.Y,{modalProps:{forceRender:!0},title:"\u6784\u5EFA\u65E5\u5FD7",submitter:!1,width:1e3,onOpenChange:function(C){if(O(C),C){var o,u;(o=h.current)===null||o===void 0||o.clear(),(u=h.current)===null||u===void 0||u.fit()}},open:s,children:(0,n.jsx)(d.Z,{ghost:!0,children:(0,n.jsx)(T.Z,{showInModal:!0,width:"960px",height:"500px",ref:h})})})});K.Z=A},12491:function(le,K,e){e.d(K,{Z:function(){return n}});var E=e(24963),a=e(88484),b=e(62370),d=e(31418),c=e(28036),Z=e(67294),T=e(85893);function n(A){var z=(0,Z.useContext)(E.Z),G=z.message,f=z.notice,I=z.lang,s=(0,Z.useRef)(null),O=d.Z.useApp(),V=function(){s.current&&(s.current.click(),s.current.onchange=function(l){if(!l||!l.target)return"";var _=new FileReader;_.onload=function(h){var g,C,o=(g=h.target)===null||g===void 0?void 0:g.result;if(A.onLoad)try{A.onLoad&&A.onLoad(o)}catch(u){f.error(u);return}typeof A.onImport=="function"&&(G.success("\u6210\u529F\u5BFC\u5165 ".concat(A.title)),A.onImport(o)),(C=s.current)!==null&&C!==void 0&&C.value&&(s.current.value="")};var p=l.target;if(p.files)try{_.readAsText(p.files[0])}catch(h){f.error("\u5BFC\u5165\u6587\u4EF6\u5FC5\u987B\u662F\u6587\u672C\u7C7B\u578B")}})};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(b.Z,{children:(0,T.jsx)(c.ZP,{icon:(0,T.jsx)(a.Z,{}),block:!0,onClick:V,children:A.title})}),(0,T.jsx)("input",{style:{display:"none"},type:"file",ref:s,name:"importFileInput"})]})}},54964:function(le,K,e){e.d(K,{a:function(){return f}});var E=e(5574),a=e.n(E),b=e(78267),d=e.n(b),c=e(75458),Z=e.n(c),T=e(67294),n=e(12320),A=e.n(n),z=e(89629),G=e(85893),f={convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,cursorStyle:"block",cursorBlink:!0,theme:{foreground:"#bfbfbf",cursor:"gray",selectionForeground:"#ffffff"}},I=new n.Terminal(f),s=new c.SearchAddon,O=new b.FitAddon,V=(0,T.forwardRef)(function(r,l){var _,p=(0,T.useState)(!0),h=a()(p,2),g=h[0],C=h[1];return(0,T.useEffect)(function(){return window.addEventListener("resize",function(){r.showInModal||O.fit()}),r.style&&r.style.fontSize&&(I.options.fontSize=r.style.fontSize),I.loadAddon(O),I.loadAddon(s),I.open(document.getElementById(r.id?r.id:"terminal-container")),r.showInModal||O.fit(),function(){I.reset(),C(!0)}},[]),(0,T.useImperativeHandle)(l,function(){return{write:function(u){g&&(O.fit(),C(!1)),I.write(u)},clear:function(){I.clear()},getTerminal:function(){return I},findNext:function(u){s.findNext(u)},findPrev:function(u){s.findPrevious(u)},fit:function(){O.fit()},onData:function(u){return I.onData(u)}}}),(0,G.jsx)("div",{id:r.id?r.id:"terminal-container",style:{width:r.width?r.width:"100%",height:r.height?r.height:"500px",marginTop:(_=r.style)===null||_===void 0?void 0:_.marginTop}})});K.Z=V},24963:function(le,K,e){var E=e(67294),a=(0,E.createContext)({});K.Z=a},77096:function(le,K,e){e.r(K),e.d(K,{default:function(){return te}});var E=e(15009),a=e.n(E),b=e(99289),d=e.n(b),c=e(5574),Z=e.n(c),T=e(5966),n=e(85893);function A(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(T.Z,{fieldProps:{min:2,max:255},rules:[{required:!0}],required:!0,placeholder:"\u6307\u5B9AGit\u5730\u5740\uFF0C\u79C1\u6709\u4ED3\u5E93\u8BF7\u9644\u52A0\u6743\u9650\u3002\u4EC5\u652F\u6301Master\u5206\u652F",label:"Git\u4ED3\u5E93\u5730\u5740",name:"buildGit"})})}var z=e(34879),G=e(74344),f=e(67294),I=e(95089),s=e(62370),O=e(184),V=e(86615),r=e(97462),l=e(97961),_=e(28036),p=e(34041);function h(ue){var X=(0,f.useState)([]),W=Z()(X,2),$=W[0],oe=W[1];return(0,f.useEffect)(function(){(0,l.MF)().then(function(ne){var B=Object.keys(ne.data).map(function(y){return ne.data[y]});oe(B)})},[]),(0,n.jsx)(s.Z,{children:(0,n.jsxs)(O.a,{trigger:(0,n.jsx)(_.ZP,{block:!0,children:"\u4F7F\u7528\u6A21\u677F\u751F\u6210"}),onFinish:function(B){return new Promise(function(y,N){var q=B[B.language+"EnvVersion"].split("|"),ce=Z()(q,2),me=ce[0],ge=ce[1],ie="FROM ".concat(me,`
# \u5E94\u7528\u76EE\u5F55\u4F4D\u4E8E /app
# \u53EF\u901A\u7BA1\u5BB9\u5668 - \u6587\u4EF6\u7BA1\u7406, \u4E0A\u4F20\u4EE3\u7801\u81F3\u6B64\u76EE\u5F55\u5E76\u4FEE\u6539\u6743\u9650

WORKDIR /app
VOLUME [ "/app" ]
EXPOSE 80

# \u81EA\u5B9A\u4E49\u5B89\u88C5\u7EC4\u4EF6\u3001\u6269\u5C55\u6216\u662F\u5E93, \u4F8B\u5982:
# RUN apk add --no-cache --update vim
`);switch(B.language){case"php":ie+=`
                
# \u7AD9\u70B9\u76EE\u5F55\u4F4D\u4E8E /app/wwwroot \u53EF\u4E0A\u4F20\u6216\u662F\u4FEE\u6539\u7AD9\u70B9\u6587\u4EF6
# nginx \u914D\u7F6E\u4F4D\u4E8E /app/nginx/ \u53EF\u4FEE\u6539\u589E\u52A0\u81EA\u5B9A\u4E49\u914D\u7F6E
# \u901A\u8FC7\u8BBF\u95EE\u5BB9\u5668\u8FD0\u884C\u6620\u5C04\u7AEF\u53E3\uFF0C\u67E5\u770B\u73AF\u5883\u53CA\u6269\u5C55\u4FE1\u606F

`,B.language=="php"&&B.phpExt&&(ie+="RUN apk add --no-cache --update ",B.phpExt.map(function(ae){ie+="php".concat(ge,"-").concat(ae," ")}));break;case"golang":ie+=`
# \u53EF\u4EE5\u4FEE\u6539 RUN_COMMAND \u73AF\u5883\u53D8\u91CF, \u66F4\u6539\u542F\u52A8\u6267\u884C\u547D\u4EE4
ENV RUN_COMMAND="go version"`;break;default:break}ue.onFinish(ie),y(!0)})},children:[(0,n.jsx)(V.Z.Group,{radioType:"button",name:"language",label:"\u7A0B\u5E8F\u8BED\u8A00",options:$.map(function(ne){return{label:ne.name,value:ne.name}}),required:!0}),(0,n.jsx)(r.Z,{name:["language"],children:function(B){var y=B.language;return y?(0,n.jsx)(n.Fragment,{children:$.map(function(N){if(N.name==y)return(0,n.jsxs)("div",{children:[(0,n.jsx)(s.Z,{name:"".concat(N.name,"EnvVersion"),label:"\u73AF\u5883\u7248\u672C",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7A0B\u5E8F\u8FD0\u884C\u7684\u73AF\u5883"}],children:(0,n.jsx)(p.Z,{options:N.env.map(function(q){return{label:q.name,value:q.baseImage}}),placeholder:"\u8BF7\u9009\u62E9\u5177\u4F53\u7684\u73AF\u5883\u7248\u672C"},"".concat(N.name,"Select"))},N.name),N.name=="php"&&(0,n.jsx)(s.Z,{label:"php\u6269\u5C55",name:"phpExt",children:(0,n.jsx)(p.Z,{options:N.ext.map(function(q){return{label:q,value:q}}),mode:"multiple",placeholder:"\u8BF7\u9009\u62E9\u8981\u5B89\u88C5\u7684php\u6269\u5C55"},"phpExtSelect")},"phpExt")]},"envSelect")})}):(0,n.jsx)(n.Fragment,{})}})]})})}var g=e(12491);function C(ue){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.Z,{title:"\u5BFC\u5165\u672C\u5730Dockerfile\u6587\u4EF6",onImport:function(W){var $;return($=ue.createFormRef.current)===null||$===void 0||$.setFieldValue("buildDockerfile",W),!0},onLoad:function(W){if(W.indexOf("FROM ")<0)throw new Error("\u5BFC\u5165Dockerfile\u6587\u4EF6\u9519\u8BEF");return!0}}),(0,n.jsx)(h,{onFinish:function(W){var $;($=ue.createFormRef.current)===null||$===void 0||$.setFieldValue("buildDockerfile",W)}}),(0,n.jsx)(s.Z,{shouldUpdate:!0,children:function(W){var $=W.getFieldValue;return(0,n.jsx)(s.Z,{name:"buildDockerfile",children:(0,n.jsx)(I.ZP,{value:$("buildDockerfile"),onChange:function(ne){var B;(B=ue.createFormRef.current)===null||B===void 0||B.setFieldValue("buildDockerfile",ne)},height:"600px",theme:"dark",style:{marginBottom:"20px"}})})}})]})}var o=e(24963),u=e(18148),F=e(75870),v=e(38345),P=e(97269),i=e(64317),Q=e(90672),ee=e(82346),U=e(42075),D=e(83062),de=e(91845);function te(){var ue=(0,f.useContext)(o.Z),X=ue.loading,W=ue.message,$=(0,f.useRef)(),oe=(0,f.useState)([]),ne=Z()(oe,2),B=ne[0],y=ne[1],N=(0,ee.useSearchParams)(),q=Z()(N,2),ce=q[0],me=q[1],ge=(0,f.useState)("dockerfile"),ie=Z()(ge,2),ae=ie[0],Oe=ie[1],Pe=(0,ee.useNavigate)(),he=(0,f.useRef)();return(0,f.useEffect)(function(){var j,m=(j=ce.get("id"))!==null&&j!==void 0?j:0;m&&(X.show(),(0,u.T8)({id:parseInt(m)}).then(function(t){var x;Oe(t.data.task.buildType),(x=$.current)===null||x===void 0||x.setFieldsValue({title:t.data.task.title,imageTag:t.data.task.tag,imageRegistry:t.data.task.setting.registry,uploadType:t.data.task.buildType,buildRoot:t.data.task.setting.buildRoot,buildGit:t.data.task.setting.buildGit,buildDockerfile:t.data.task.setting.buildDockerfile,platform:t.data.task.setting.platform})}).finally(function(){X.destroy()}))},[]),(0,n.jsxs)(v.Z,{direction:"column",ghost:!0,gutter:[0,10],children:[(0,n.jsx)(v.Z,{bordered:!0,headerBordered:!0,children:(0,n.jsxs)(P.A,{submitter:{render:function(m,t){return(0,n.jsx)(U.Z,{children:t})}},onFinish:function(){var j=d()(a()().mark(function m(t){var x,H,S,re,k,fe,De,Ce,Me,Te,pe,ve,Fe,Be,_e;return a()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(ae!="containerTar"){Y.next=8;break}return Y.next=3,(0,l.vC)({tag:t.imageTag,registry:t.imageRegistry,tar:(x=t.containerTar[0].response.data.path)!==null&&x!==void 0?x:"",cmd:t.cmd,workDir:t.workDir,expose:t.expose?t.expose.split(`
`):[],env:t.env?t.env.split(`
`):[],volume:t.volume?t.volume.split(`
`):[]});case 3:return H=Y.sent,Pe("/image/list"),Y.abrupt("return",!0);case 8:if(ae!="imageTar"){Y.next=20;break}return(S=he.current)===null||S===void 0||S.start("import",t.imageTag),Y.next=12,(0,l.GH)({tag:t.imageTag,tar:(re=t.imageTar[0].response.data.path)!==null&&re!==void 0?re:""});case 12:if(k=Y.sent,k.data.tag&&k.data.tag.map(function(ye){W.success("\u5BFC\u5165 "+ye+" \u955C\u50CF\u6210\u529F")}),!k){Y.next=18;break}return(fe=he.current)===null||fe===void 0||fe.reset(),Pe("/image/list"),Y.abrupt("return",!0);case 18:Y.next=34;break;case 20:return Me=(De=ce.get("id"))!==null&&De!==void 0?De:"0",Te=B&&B[0]?B[0].fileName:"",pe={name:"",arch:""},l.ii.map(function(ye){ye.name==t.platform&&(pe=ye)}),ve={id:parseInt(Me),tag:t.imageTag,title:t.title,registry:t.imageRegistry,buildRoot:t.buildRoot,buildDockerfile:t.buildDockerfile,buildZip:Te!=null?Te:"",buildGit:t.buildGit,buildType:ae,platform:pe.name,PlatformArch:pe.arch},t.buildZip&&t.buildZip.length>0&&(ve.buildZip=(Fe=t.buildZip[0].response.data.path)!==null&&Fe!==void 0?Fe:""),(Ce=he.current)===null||Ce===void 0||Ce.start("build",Me),Y.next=29,(0,l.fN)(ve);case 29:if(Be=Y.sent,!Be){Y.next=34;break}return(_e=he.current)===null||_e===void 0||_e.reset(),Pe("/image/list/recycle"),Y.abrupt("return",!0);case 34:case"end":return Y.stop()}},m)}));return function(m){return j.apply(this,arguments)}}(),formRef:$,children:[(0,n.jsx)(T.Z,{label:"\u4EFB\u52A1\u540D\u79F0",name:"title",fieldProps:{onChange:function(m){var t="";if(m.target.value){var x,H=(0,de.N9)(m.target.value.trim(),{toneType:"none",type:"array"});t=H.join(""),(x=$.current)===null||x===void 0||x.setFieldValue("imageTag",t)}}}}),(0,n.jsx)(r.Z,{name:["uploadType"],children:function(m){var t=m.uploadType;if(t!="imageTar")return(0,n.jsx)(i.Z,{label:"\u955C\u50CF\u4ED3\u5E93",tooltip:(0,n.jsxs)(n.Fragment,{children:["\u63A8\u9001\u524D\u8BF7\u4FDD\u8BC1\u4ED3\u5E93\u4E2D\u6709\u6307\u5B9A\u7684\u547D\u540D\u7A7A\u95F4, \u5982\u6CA1\u6709\u8BF7\u5148 ",(0,n.jsx)("a",{href:"",target:"_blank",children:"\u6DFB\u52A0\u4ED3\u5E93"})]}),name:"imageRegistry",request:d()(a()().mark(function x(){var H;return a()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=2,(0,F.Ot)();case 2:return H=re.sent,re.abrupt("return",H.data.list.map(function(k){return{value:k.serverAddress,label:k.title+"("+k.serverAddress+")"}}));case 4:case"end":return re.stop()}},x)}))})}}),(0,n.jsx)(r.Z,{name:["imageRegistry","uploadType"],children:function(m){var t=m.imageRegistry,x=m.uploadType;if(x!="imageTar")return(0,n.jsx)(T.Z,{fieldProps:{min:2,max:255,addonBefore:"".concat(t||"","/")},rules:[{required:!0}],required:!0,tooltip:"\u4F8B\u5982: name:tag\u3001namespace/name:tag\u3001registry/namespace/name:tag",placeholder:"\u53EA\u80FD\u4F7F\u7528\u5C0F\u5199\u82F1\u6587\u5B57\u7B26\u3001\u6570\u5B57\u3001_\u3001-\u3001",label:"\u955C\u50CFTag",name:"imageTag"})}}),(0,n.jsx)(V.Z.Group,{name:"uploadType",label:"\u6784\u5EFA\u65B9\u5F0F",initialValue:ae,options:[{label:(0,n.jsx)(D.Z,{title:"\u901A\u8FC7 Dockerfile \u6587\u4EF6\u5FEB\u901F\u6784\u5EFA\u955C\u50CF",children:"Dockerfile"}),value:"dockerfile"},{label:(0,n.jsx)(D.Z,{title:"\u5C06 Dockerfile \u6587\u4EF6\u4E0E\u6784\u5EFA\u955C\u50CF\u7528\u5230\u7684\u8D44\u6E90\uFF0C\u901A\u8FC7\u4E0A\u4F20 Zip \u5305\u7684\u5F62\u5F0F\u6784\u5EFA\u955C\u50CF",children:"Zip\u5305"}),value:"zip"},{label:(0,n.jsx)(D.Z,{title:"\u5C06 Dockerfile \u6587\u4EF6\u4E0E\u6784\u5EFA\u955C\u50CF\u7528\u5230\u7684\u8D44\u6E90\u653E\u7F6E\u5230 Git \u4ED3\u5E93\u4E2D\uFF0C\u53EF\u4EE5\u6301\u7EED\u6027\u7684\u6784\u5EFA\u955C\u50CF",children:"Git\u6E90\u7801\u4ED3\u5E93"}),value:"git"},{label:(0,n.jsx)(D.Z,{title:"\u4E0A\u4F20\u5BB9\u5668\u5BFC\u51FA\u7684 Tar \u5305\uFF0C\u5E76\u81EA\u5B9A\u4E49\u53C2\u6570\u6784\u5EFA\u955C\u50CF\u3002\u5982\u679C\u4F60\u4E0D\u9700\u8981\u4FEE\u6539\u5BB9\u5668\u539F\u59CB\u914D\u7F6E\uFF0C\u53EF\u4EE5\u5728\u5BB9\u5668\u8BE6\u60C5\u9875\u4F7F\u7528\u3010\u5C06\u5BB9\u5668\u4FDD\u5B58\u4E3A\u955C\u50CF\u3011\u529F\u80FD",children:"\u5BFC\u5165\u5BB9\u5668Tar\u5305"}),value:"containerTar"},{label:(0,n.jsx)(D.Z,{title:"\u4E0A\u4F20\u955C\u50CF Tar \u5305\u6784\u5EFA\u955C\u50CF",children:"\u5BFC\u5165\u955C\u50CFTar\u5305"}),value:"imageTar"}],fieldProps:{onChange:function(m){Oe(m.target.value)}}}),(0,n.jsx)(r.Z,{name:["uploadType"],children:function(m){var t=m.uploadType;if(t=="containerTar")return[(0,n.jsx)(T.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u5DE5\u4F5C\u76EE\u5F55\uFF0C\u4E00\u822C\u6307\u5411\u4EE3\u7801\u7684\u6240\u5728\u76EE\u5F55",label:"\u5DE5\u4F5C\u76EE\u5F55",name:"workDir",placeholder:"\u9ED8\u8BA4\u4E3A / \u76EE\u5F55"},"workDir"),(0,n.jsx)(T.Z,{required:!0,tooltip:"\u901A\u8FC7\u5BB9\u5668\u5BFC\u5165\u955C\u50CF\u65F6\uFF0C\u5FC5\u987B\u6307\u5B9A\u542F\u52A8\u547D\u4EE4\uFF0C\u5426\u5219\u518D\u521B\u5EFA\u65F6\u65E0\u6CD5\u542F\u52A8",rules:[{required:!0}],label:"CMD",name:"cmd"},"cmd"),(0,n.jsx)(Q.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u5BF9\u5916\u66B4\u9732\u7684\u7AEF\u53E3\uFF0C\u4E00\u884C\u6307\u5B9A\u4E00\u4E2A\u7AEF\u53E3",label:"\u66B4\u9732\u7AEF\u53E3",name:"expose",placeholder:`80 
9000`},"expose"),(0,n.jsx)(Q.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u9700\u8981\u914D\u7F6E\u7684\u73AF\u5883\u53D8\u91CF\uFF0C\u4E00\u884C\u6307\u5B9A\u4E00\u4E2A\u73AF\u5883\u53D8\u91CF",label:"\u73AF\u5883\u53D8\u91CF",name:"env",placeholder:`TEST_VALUE=123 
TEST_NO_VALUE=`},"env"),(0,n.jsx)(Q.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u9700\u8981\u6301\u4E45\u5316\u7684\u76EE\u5F55\uFF0C\u4E00\u884C\u6307\u5B9A\u4E00\u4E2A\u76EE\u5F55",label:"\u5B58\u50A8\u5377\u76EE\u5F55",name:"volume",placeholder:`/app 
/home`},"volume")];if(t!="imageTar"){if(t=="zip"||t=="git")return(0,n.jsx)(T.Z,{name:"buildRoot",label:"Dockerfile\u6587\u4EF6\u4F4D\u7F6E",tooltip:"\u6307\u5B9ADockerfile\u6240\u5728\u7684\u76EE\u5F55",fieldProps:{addonBefore:"\u9ED8\u8BA4\u4EE5\u5305\u6216\u662F\u4ED3\u5E93\u76EE\u5F55\u5F00\u59CB\uFF08/\uFF09"},placeholder:"/Dockerfile"})}}}),ae=="zip"&&(0,n.jsx)(z.Z,{required:!0,label:"\u4E0A\u4F20\u6784\u5EFA\u5305 (\u53EA\u5141\u8BB8\u4E0A\u4F20 .zip \u6587\u4EF6\uFF0C\u4E14\u4E0E\u5305\u4E2D\u7684 Dockerfile \u6307\u5B9A\u7684\u76EE\u5F55\u4FDD\u6301\u4E00\u81F4)",name:"buildZip",accept:".zip"}),ae=="containerTar"&&(0,n.jsx)(z.Z,{required:!0,label:"\u5BFC\u5165\u5BB9\u5668\u5305\uFF08\u53EA\u5141\u8BB8\u4E0A\u4F20 .tar \u6587\u4EF6\uFF0C\u901A\u8FC7\u5BFC\u51FA\u5BB9\u5668\u751F\u6210\uFF09",name:"containerTar",accept:".tar"}),ae=="imageTar"&&(0,n.jsx)(z.Z,{required:!0,label:"\u5BFC\u5165\u955C\u50CF\u5305\uFF08\u53EA\u5141\u8BB8\u4E0A\u4F20 .tar \u6587\u4EF6\uFF0C\u901A\u8FC7\u5BFC\u51FA\u955C\u50CF\u751F\u6210\uFF09",name:"imageTar",accept:".tar"}),ae=="git"&&(0,n.jsx)(A,{}),ae=="dockerfile"&&(0,n.jsx)(C,{createFormRef:$})]})}),(0,n.jsx)(G.Z,{ref:he})]})}},97961:function(le,K,e){e.d(K,{GH:function(){return G},MF:function(){return O},_2:function(){return I},fN:function(){return T},ii:function(){return Z},vC:function(){return A}});var E=e(15009),a=e.n(E),b=e(99289),d=e.n(b),c=e(82346),Z=[{name:"linux/amd64",arch:"amd64",search:["amd64","x86_64","86_64"]},{name:"linux/arm64",arch:"arm64",search:["arm64","arrch64"]},{name:"linux/i386",arch:"386",search:[]},{name:"linux/arm/v6",arch:"arm",search:[]},{name:"linux/arm/v7",arch:"arm",search:[]},{name:"linux/arm/v8",arch:"arm64",search:[]},{name:"linux/ppc64le",arch:"ppc64le",search:[]},{name:"linux/riscv64",arch:"riscv64",search:[]}];function T(r){return n.apply(this,arguments)}function n(){return n=d()(a()().mark(function r(l){return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,c.request)("/api/app/image/create-by-dockerfile",{method:"POST",data:l}));case 1:case"end":return p.stop()}},r)})),n.apply(this,arguments)}function A(r){return z.apply(this,arguments)}function z(){return z=d()(a()().mark(function r(l){return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,c.request)("/api/app/image/import-by-container-tar",{method:"POST",data:l}));case 1:case"end":return p.stop()}},r)})),z.apply(this,arguments)}function G(r){return f.apply(this,arguments)}function f(){return f=d()(a()().mark(function r(l){return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,c.request)("/api/app/image/import-by-image-tar",{method:"POST",data:l}));case 1:case"end":return p.stop()}},r)})),f.apply(this,arguments)}function I(r){return s.apply(this,arguments)}function s(){return s=d()(a()().mark(function r(l){return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,c.request)("/api/common/attach/delete",{method:"POST",data:l});case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},r)})),s.apply(this,arguments)}function O(){return V.apply(this,arguments)}function V(){return V=d()(a()().mark(function r(){return a()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,c.request)("/api/app/image/get-template-list",{method:"POST"}));case 1:case"end":return _.stop()}},r)})),V.apply(this,arguments)}},18148:function(le,K,e){e.d(K,{$q:function(){return s},Fj:function(){return g},KG:function(){return Z},KX:function(){return o},T8:function(){return f},Xn:function(){return z},ao:function(){return V},c5:function(){return p},c7:function(){return l}});var E=e(15009),a=e.n(E),b=e(99289),d=e.n(b),c=e(82346);function Z(F){return T.apply(this,arguments)}function T(){return T=d()(a()().mark(function F(v){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,c.request)("/api/app/image/get-list",{method:"POST",data:v}));case 1:case"end":return i.stop()}},F)})),T.apply(this,arguments)}function n(F){return A.apply(this,arguments)}function A(){return A=_asyncToGenerator(_regeneratorRuntime().mark(function F(v){return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,request("/api/app/log/image-build",{method:"POST",data:v});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},F)})),A.apply(this,arguments)}function z(F){return G.apply(this,arguments)}function G(){return G=d()(a()().mark(function F(v){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,c.request)("/api/app/image/get-list-build",{method:"POST",data:v}));case 1:case"end":return i.stop()}},F)})),G.apply(this,arguments)}function f(F){return I.apply(this,arguments)}function I(){return I=d()(a()().mark(function F(v){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,c.request)("/api/app/image/get-build-task",{method:"POST",data:v});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},F)})),I.apply(this,arguments)}function s(F){return O.apply(this,arguments)}function O(){return O=d()(a()().mark(function F(v){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,c.request)("/api/app/image/delete-build-task",{method:"POST",data:v});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},F)})),O.apply(this,arguments)}function V(F){return r.apply(this,arguments)}function r(){return r=d()(a()().mark(function F(v){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,c.request)("/api/app/image/image-delete",{method:"POST",data:v});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},F)})),r.apply(this,arguments)}function l(){return _.apply(this,arguments)}function _(){return _=d()(a()().mark(function F(){return a()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,c.request)("/api/app/image/image-prune",{method:"POST"});case 2:return P.abrupt("return",P.sent);case 3:case"end":return P.stop()}},F)})),_.apply(this,arguments)}function p(){return h.apply(this,arguments)}function h(){return h=d()(a()().mark(function F(){return a()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,c.request)("/api/app/image/build-prune",{method:"POST"});case 2:return P.abrupt("return",P.sent);case 3:case"end":return P.stop()}},F)})),h.apply(this,arguments)}function g(F){return C.apply(this,arguments)}function C(){return C=d()(a()().mark(function F(v){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,c.request)("/api/app/image/update-title",{method:"POST",data:v});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},F)})),C.apply(this,arguments)}function o(F){return u.apply(this,arguments)}function u(){return u=d()(a()().mark(function F(v){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,c.request)("/api/app/image/tag-sync",{method:"POST",data:v}));case 1:case"end":return i.stop()}},F)})),u.apply(this,arguments)}},75870:function(le,K,e){e.d(K,{Ot:function(){return Z},ZH:function(){return n},ix:function(){return z},t1:function(){return f}});var E=e(15009),a=e.n(E),b=e(99289),d=e.n(b),c=e(82346);function Z(s){return T.apply(this,arguments)}function T(){return T=d()(a()().mark(function s(O){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("/api/common/registry/get-list",{method:"POST",data:O}));case 1:case"end":return r.stop()}},s)})),T.apply(this,arguments)}function n(s){return A.apply(this,arguments)}function A(){return A=d()(a()().mark(function s(O){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("/api/common/registry/create",{method:"POST",data:O}));case 1:case"end":return r.stop()}},s)})),A.apply(this,arguments)}function z(s){return G.apply(this,arguments)}function G(){return G=d()(a()().mark(function s(O){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("/api/common/registry/delete",{method:"POST",data:O}));case 1:case"end":return r.stop()}},s)})),G.apply(this,arguments)}function f(s){return I.apply(this,arguments)}function I(){return I=d()(a()().mark(function s(O){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("/api/common/registry/get-detail",{method:"POST",data:O}));case 1:case"end":return r.stop()}},s)})),I.apply(this,arguments)}},85576:function(le,K,e){e.d(K,{Z:function(){return p}});var E=e(56080),a=e(38657),b=e(56745),d=e(67294),c=e(93967),Z=e.n(c),T=e(40974),n=e(8745),A=e(53124),z=e(35792),G=e(32409),f=e(4941),I=e(71194),s=function(h,g){var C={};for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&g.indexOf(o)<0&&(C[o]=h[o]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(h);u<o.length;u++)g.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(h,o[u])&&(C[o[u]]=h[o[u]]);return C};const O=h=>{const{prefixCls:g,className:C,closeIcon:o,closable:u,type:F,title:v,children:P,footer:i}=h,Q=s(h,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:ee}=d.useContext(A.E_),U=ee(),D=g||ee("modal"),de=(0,z.Z)(U),[te,ue,X]=(0,I.ZP)(D,de),W=`${D}-confirm`;let $={};return F?$={closable:u!=null?u:!1,title:"",footer:"",children:d.createElement(G.O,Object.assign({},h,{prefixCls:D,confirmPrefixCls:W,rootPrefixCls:U,content:P}))}:$={closable:u!=null?u:!0,title:v,footer:i!==null&&d.createElement(f.$,Object.assign({},h)),children:P},te(d.createElement(T.s,Object.assign({prefixCls:D,className:Z()(ue,`${D}-pure-panel`,F&&W,F&&`${W}-${F}`,C,X,de)},Q,{closeIcon:(0,f.b)(D,o),closable:u},$)))};var V=(0,n.i)(O),r=e(94423);function l(h){return(0,E.ZP)((0,E.uW)(h))}const _=b.Z;_.useModal=r.Z,_.info=function(g){return(0,E.ZP)((0,E.cw)(g))},_.success=function(g){return(0,E.ZP)((0,E.vq)(g))},_.error=function(g){return(0,E.ZP)((0,E.AQ)(g))},_.warning=l,_.warn=l,_.confirm=function(g){return(0,E.ZP)((0,E.Au)(g))},_.destroyAll=function(){for(;a.Z.length;){const g=a.Z.pop();g&&g()}},_.config=E.ai,_._InternalPanelDoNotUseOrYouWillBeFired=V;var p=_}}]);
