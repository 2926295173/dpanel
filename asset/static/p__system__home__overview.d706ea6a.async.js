"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8566],{1699:function(Y,I,n){n.d(I,{u:function(){return M}});var O=n(9783),s=n.n(O),L=n(97857),f=n.n(L),g=n(67294),b=n(82346),D=n(40411),S=n(42075),j=n(85893),M=function(t){var l=(0,b.useAccess)(),_=Array.isArray(t.access)?t.access:[t.access],i,e=t.fallback;if(typeof t.children=="function"?(i=t.children(_.reduce(function(R,W){return f()(f()({},R),{},s()({},W,l[W]))},{})),i||(i=e)):_.every(function(R){return l[R]})?i=t.children:i=e,!e&&i&&t.showProTips&&l.canSeeEnableCe){if(l.canSeeEnableHiddenProTips)return null;i=(0,j.jsx)(D.Z,{offset:t.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:i})}if(!e&&i&&t.showProRibbonTips&&l.canSeeEnableCe){if(l.canSeeEnableHiddenProTips)return null;i=(0,j.jsx)(D.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:i})}return t.space?(0,j.jsx)(S.Z,f()(f()({},t.space),{},{children:i})):i}},80821:function(Y,I,n){n.d(I,{Z:function(){return p}});var O=n(97857),s=n.n(O),L=n(5574),f=n.n(L),g=n(24963),b=n(86738),D=n(28036),S=n(83062),j=n(67294),M=n(85893);function p(t){var l=(0,j.useState)(!1),_=f()(l,2),i=_[0],e=_[1],R=(0,j.useContext)(g.Z),W=R.lang,Q=R.message,K=function(){e(!0);var H=t.action();H instanceof Promise?H.then(function(E){if(e(!1),E){typeof t.onSuccess=="function"&&t.onSuccess(E);var d="";t.messageSuccess?typeof t.messageSuccess=="function"?d=t.messageSuccess(E):d=t.messageSuccess.indexOf("notification.")==0?W(t.messageSuccess):t.messageSuccess:d=W("notification.finish"),t.asynced?Q.info(d):Q.success(d)}}).catch(function(E){e(!1),typeof t.onError=="function"&&t.onError(E)}):e(!1)};return t.confirm?(0,M.jsx)(b.Z,s()(s()({style:{width:500},title:t.confirmTitle?t.confirmTitle:W("notification.title.tip"),description:typeof t.confirm=="string"&&t.confirm.indexOf("notification.")==0?W(t.confirm):t.confirm,onConfirm:K,okText:"Yes",cancelText:"No",onOpenChange:t.confirmOnOpenChange},t.confirmProps),{},{children:(0,M.jsx)(D.ZP,{block:t.block,disabled:t.disabled,icon:!t.children&&i?void 0:t.icon,loading:i,danger:t.danger,type:t.type,children:t.children})})):(0,M.jsx)(S.Z,{title:t.tips,children:(0,M.jsx)(D.ZP,{block:t.block,style:t.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:t.disabled,icon:!t.children&&i?void 0:t.icon,loading:i,onClick:K,danger:t.danger,type:t.type,children:t.children})})}},27619:function(Y,I,n){n.d(I,{Z:function(){return p}});var O=n(97857),s=n.n(O),L=n(19632),f=n.n(L),g=n(5574),b=n.n(g),D=n(64183),S=n(82346),j=n(67294),M=n(85893);function p(t){var l,_=(0,j.useState)("academy"),i=b()(_,2),e=i[0],R=i[1],W=Math.max.apply(Math,f()(t.data.map(function(H){var E;return(E=H[t.yField])!==null&&E!==void 0?E:0}))),Q=(0,S.useModel)("@@initialState"),K=Q.initialState,V={xField:t.xField,yField:t.yField,height:200,axis:{y:{line:!0},x:{line:!0,grid:{visable:!0},labelAutoRotate:!0}},style:{opacity:.4},tooltip:{channel:"y",valueFormatter:t.yLabelFormatter},scale:{y:{domainMin:(l=t.yDomainMin)!==null&&l!==void 0?l:0,domainMax:t.yDomainMax?t.yDomainMax:t.yDomainMaxCallback?t.yDomainMaxCallback(W):W}},data:t.data};return t.yLabelFormatter&&(V.axis.y.labelFormatter=t.yLabelFormatter),t.colorField&&(V.colorField=t.colorField),(0,j.useEffect)(function(){var H=window.matchMedia("(prefers-color-scheme: dark)");(K==null?void 0:K.theme.algorithm)=="dark"||H.matches?R("classicDark"):R("academy")},[K]),(0,M.jsx)(D.Z,s()({theme:e},V))}},3616:function(Y,I,n){n.d(I,{Ed:function(){return f},FK:function(){return s},R_:function(){return O},ob:function(){return L}});var O=window.innerWidth<=1024?"90vw":"65vw",s="90vw",L="60vw",f="50vh"},24963:function(Y,I,n){var O=n(67294),s=(0,O.createContext)({});I.Z=s},52756:function(Y,I,n){n.r(I),n.d(I,{default:function(){return M},getLang:function(){return j}});var O=n(82346),s=n(31418),L=n(26058),f=n(85137),g=n(24963),b=n(65913),D=n(67294),S=n(85893);function j(p,t,l){var _=(0,O.getLocale)();l!=null&&l.XK&&(_="zh-XK");var i=(0,O.getIntl)(_).formatMessage({id:p},t);return i}function M(){var p=(0,D.useRef)(),t=(0,O.useIntl)(),l=function(d){for(var m=arguments.length,a=new Array(m>1?m-1:0),y=1;y<m;y++)a[y-1]=arguments[y];i.notification[d]({message:t.formatMessage({id:"notification.title."+d}),description:a.join(" "),placement:"topRight"})},_=function(d){for(var m=arguments.length,a=new Array(m>1?m-1:0),y=1;y<m;y++)a[y-1]=arguments[y];i.message[d](a.join(" "))},i=s.Z.useApp(),e=(0,O.useModel)("@@initialState"),R=e.initialState,W=e.loading,Q=e.error,K=e.refresh,V=e.setInitialState,H=(0,O.useModel)("subscriber");return R!=null&&R.user.username&&H.addDataHandler("user:permission:".concat(R==null?void 0:R.user.username),function(E){K()}),(0,S.jsx)(L.Z,{children:(0,S.jsx)(g.Z.Provider,{value:{notice:{success:function(){for(var d=arguments.length,m=new Array(d),a=0;a<d;a++)m[a]=arguments[a];l.apply(void 0,["success"].concat(m))},error:function(){for(var d=arguments.length,m=new Array(d),a=0;a<d;a++)m[a]=arguments[a];l.apply(void 0,["error"].concat(m))},warning:function(){for(var d=arguments.length,m=new Array(d),a=0;a<d;a++)m[a]=arguments[a];l.apply(void 0,["warning"].concat(m))},info:function(){for(var d=arguments.length,m=new Array(d),a=0;a<d;a++)m[a]=arguments[a];l.apply(void 0,["info"].concat(m))},destroy:function(){i.notification.destroy()}},message:{success:function(){for(var d=arguments.length,m=new Array(d),a=0;a<d;a++)m[a]=arguments[a];_.apply(void 0,["success"].concat(m))},error:function(){for(var d=arguments.length,m=new Array(d),a=0;a<d;a++)m[a]=arguments[a];_.apply(void 0,["error"].concat(m))},warning:function(){for(var d=arguments.length,m=new Array(d),a=0;a<d;a++)m[a]=arguments[a];_.apply(void 0,["warning"].concat(m))},info:function(){for(var d=arguments.length,m=new Array(d),a=0;a<d;a++)m[a]=arguments[a];_.apply(void 0,["info"].concat(m))},loading:function(){for(var d=arguments.length,m=new Array(d),a=0;a<d;a++)m[a]=arguments[a];_.apply(void 0,["loading"].concat(m))},destroy:function(){i.message.destroy()}},loading:{show:function(){p.current&&p.current.show()},destroy:function(){p.current&&p.current.destroy()}},lang:function(d,m){return t.formatMessage({id:d},m)}},children:(0,S.jsxs)(b.Z,{ref:p,children:[(0,S.jsx)(O.Outlet,{}),(0,S.jsx)(f.Z.BackTop,{duration:10,style:{bottom:100}})]})},W?"1":"2")})}},65913:function(Y,I,n){var O=n(5574),s=n.n(O),L=n(74330),f=n(67294),g=n(85893),b=(0,f.forwardRef)(function(D,S){(0,f.useImperativeHandle)(S,function(){return{show:function(){t(!0)},destroy:function(){t(!1)}}});var j=(0,f.useState)(!1),M=s()(j,2),p=M[0],t=M[1];return(0,g.jsx)(L.Z,{spinning:p,size:"default",children:D.children})});I.Z=b},62115:function(Y,I,n){n.r(I),n.d(I,{default:function(){return qe}});var O=n(15009),s=n.n(O),L=n(99289),f=n.n(L),g=n(5574),b=n.n(g),D=n(19632),S=n.n(D),j=n(1699),M=n(80821),p=n(27619),t=n(97857),l=n.n(t),_=n(28413),i=n(67294),e=n(85893),R=(0,i.forwardRef)(function(F,te){(0,i.useImperativeHandle)(te,function(){return{zoomIn:function(){G<=0||G-5<=0?ne(1):ne(G-5)},zoomOut:function(){G>F.data.length||G+5>F.data.length?ne(F.data.length):ne(G+5)}}});var ae=(0,i.useState)(20),ee=b()(ae,2),G=ee[0],ne=ee[1],oe={colorField:"value",valueField:"value",scale:{color:{range:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"]}},legend:!1},ue=function(){return F.data.length<=G?F.data:F.data.slice(0,G)};return(0,i.useEffect)(function(){},[]),F.data?(0,e.jsx)(_.Z,l()(l()({},oe),{},{height:500,data:{name:"root",children:ue()}})):(0,e.jsx)(e.Fragment,{})}),W=R,Q=n(55241),K=n(71230),V=n(15746),H=n(38703),E=(0,i.forwardRef)(function(F,te){return(0,i.useImperativeHandle)(te,function(){return{}}),(0,e.jsxs)(Q.Z,{placement:"left",children:[(0,e.jsx)(K.Z,{justify:"center",children:(0,e.jsx)(V.Z,{children:(0,e.jsx)(H.Z,{percent:F.showPercent,type:"dashboard",format:function(ee,G){return"".concat(ee,"%")},size:150,status:F.showPercent>=100?"exception":"normal"})})}),(0,e.jsx)(K.Z,{justify:"center",children:(0,e.jsxs)(V.Z,{style:{marginTop:"10px"},children:[F.showLabel,": ",F.showUse," / ",F.showTotal]})})]})}),d=E,m=n(3616),a=n(52756),y=n(24963),U=n(87662),o=n(2831),ze=n(18148),Ie=n(89075),ke=n(20578),B=n(5251),Ge=n(45605),Ne=n(1210),de=n(12122),Ve=n(35598),He=n(15668),Z=n(38345),Te=n(184),$=n(88273),J=n(82346),ie=n(42075),_e=n(28036),k=n(26412),me=n(83062),Xe=n(40411),Ce=n(25593),Se=n(60940),Ye=n(86250),Qe=n(96074),Je=n(93162);function qe(){var F,te,ae,ee,G,ne,oe,ue,re,fe,he,ve,ge,pe,Ee,je,Pe,De,ye,Oe,en=function(h,c){switch(c.type){case"update":var A=new Date().toLocaleTimeString(),v=0,x=0,le=0,ce=0,N=0,C=0;c.payload.map(function(z){v+=z.cpu,x+=z.memory.in,le+=z.networkIO.in,ce+=z.networkIO.out,N+=z.blockIO.in,C+=z.blockIO.out});var q={list:c.payload,cpu:v,memory:x,network:[].concat(S()(h.network.slice(0,20)),[{date:A,usage:ce,type:"\u4E0A\u884C",source:{usage:ce}},{date:A,type:"\u4E0B\u884C",usage:le,source:{usage:le}}]),io:[].concat(S()(h.io.slice(0,20)),[{date:A,usage:C,type:"\u8BFB\u53D6",source:{usage:C}},{date:A,type:"\u5199\u5165",usage:N,source:{usage:N}}])};return q}},se=(0,J.useAccess)(),be=(0,i.useRef)(),nn=(0,i.useState)(),Ue=b()(nn,2),Me=Ue[0],tn=Ue[1],an=(0,i.useState)(),Ae=b()(an,2),X=Ae[0],rn=Ae[1],sn=(0,i.useState)(),Re=b()(sn,2),r=Re[0],on=Re[1],un=(0,i.useState)(),Le=b()(un,2),T=Le[0],ln=Le[1],dn=(0,i.useState)(),Be=b()(dn,2),u=Be[0],cn=Be[1],_n=(0,i.useState)(),Fe=b()(_n,2),xe=Fe[0],mn=Fe[1],fn=(0,i.useReducer)(en,{cpu:0,memory:0,network:[],io:[],list:[]}),We=b()(fn,2),w=We[0],Ze=We[1],hn=(0,i.useContext)(y.Z),$e=hn.loading,we=(0,J.useModel)("subscriber");we.addDataHandler("container:stat",function(P){Ze({type:"update",payload:P.data})});var Ke=function(){var P=f()(s()().mark(function h(){var c,A,v,x,le;return s()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return $e.show(),N.next=3,(0,o.aF)().finally(function(){$e.destroy()});case 3:return c=N.sent,on(c.data),N.next=7,(0,o.Ll)();case 7:return A=N.sent,cn(A.data),v={total:0,container:0,volume:0,image:0,cache:0,item:[],updatedAt:""},x=A.data.diskUsage,x.usage.Containers&&x.usage.Containers.map(function(C){var q,z;v.container+=C.SizeRootFs+((q=C.SizeRw)!==null&&q!==void 0?q:0),v.item.push({name:C.Names[0],value:parseFloat(((C.SizeRootFs+((z=C.SizeRw)!==null&&z!==void 0?z:0))/1024/1024).toFixed(2))})}),x.usage.Volumes&&x.usage.Volumes.map(function(C){v.volume+=C.UsageData.Size,v.item.push({name:C.Name,value:parseFloat((C.UsageData.Size/1024/1024).toFixed(2))})}),x.usage.Images&&x.usage.Images.map(function(C){var q,z;v.image+=C.Size-((q=C.Sharedsize)!==null&&q!==void 0?q:0),v.item.push({name:C.RepoTags&&C.RepoTags.length>0?C.RepoTags[0]:C.Id,value:parseFloat(((C.Size-((z=C.Sharedsize)!==null&&z!==void 0?z:0))/1024/1024).toFixed(2))})}),x.usage.BuildCache&&x.usage.BuildCache.map(function(C){v.cache+=C.Size}),!x.usage.Containers&&!x.usage.Images&&!x.usage.Volumes?v.item.push({name:"\u6B63\u5728\u83B7\u53D6\u8BA1\u7B97,\u4E2A\u522B\u7CFB\u7EDF\u4F1A\u6BD4\u8F83\u8017\u65F6.",value:100}):v.updatedAt=new Date(x.updatedAt).toLocaleString(),v.total=x.usage.LayersSize,ln(v),N.next=20,(0,U.Cz)({follow:!0});case 20:le=N.sent,Ze({type:"update",payload:[]});case 22:case"end":return N.stop()}},h)}));return function(){return P.apply(this,arguments)}}();return(0,i.useEffect)(function(){return Ke(),!se.canSeeEnableCe&&(0,Ie.YQ)().then(function(P){tn(P.data)}),!se.canSeeEnableCe&&(0,ke.q)().then(function(P){rn(P.data)}),(0,o.u5)().then(function(P){mn(P.data)}),function(){we.progress.close("container:stat")}},[]),(0,e.jsxs)(Z.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,e.jsxs)(Z.Z,{bordered:!0,split:"vertical",wrap:!0,children:[(0,e.jsx)(Z.Z,{style:{height:"570px",overflow:"hidden"},colSpan:{xs:24,sm:24,md:24,lg:9,xl:9},headerBordered:!0,title:(0,e.jsx)(Ge.Z,{}),subTitle:"\u57FA\u7840\u4FE1\u606F",extra:(0,e.jsx)(ie.Z,{children:se.canSeeEnableCe?se.canSeeEnableInDPanel&&(0,e.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/manual/pro",target:"_blank",children:(0,a.getLang)("system.home.buyProTitle")},"proLink"):Me&&Me.expireTime?(0,e.jsxs)("span",{children:["\u8FC7\u671F\u65F6\u95F4: ",new Date(Me.expireTime).toLocaleString()]},"expireTime"):(0,e.jsx)(_e.ZP,{type:"link",onClick:f()(s()().mark(function P(){var h,c;return s()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,Ie.$w)();case 2:h=v.sent,c=new Blob([h.data.code],{type:"text/plain"}),(0,Je.saveAs)(c,"dpanel.code");case 5:case"end":return v.stop()}},P)})),children:"\u6388\u6743\u7801"},"downloadCode")}),children:(0,e.jsxs)(k.Z,{column:1,labelStyle:{width:100,justifyContent:"flex-end"},children:[(0,e.jsx)(k.Z.Item,{label:"\u9762\u677F\u4FE1\u606F",children:(0,e.jsxs)(ie.Z,{direction:"horizontal",wrap:!0,children:[r==null?void 0:r.dpanel.version," - ",r==null?void 0:r.dpanel.env," - ",r==null?void 0:r.dpanel.family,se.canSeeEnableInDPanel&&(0,e.jsx)(me.Z,{title:"\u5347\u7EA7\u65E5\u5FD7",children:(0,e.jsx)("a",{target:"_blank",href:"https://github.com/donknap/dpanel/releases",children:(0,e.jsx)(Ne.Z,{})})}),xe&&xe.newVersion!=""&&(0,e.jsx)(J.Link,{to:"/system/upgrade",children:(0,e.jsx)(Xe.Z,{count:xe.newVersion,size:"small"})})]})}),(0,e.jsxs)(k.Z.Item,{label:"Docker Host",children:[r==null?void 0:r.info.Name," ",(0,e.jsx)(e.Fragment,{children:(r==null?void 0:r.info.ID)==""&&(0,e.jsx)(J.Link,{to:"/system/env",state:{item:{name:"local",title:"\u672C\u5730"},t:(0,B.Fs)()},children:"\u914D\u7F6E\u9ED8\u8BA4 Docker \u5BA2\u6237\u7AEF"})})]}),(0,e.jsx)(k.Z.Item,{label:"Docker \u7248\u672C",children:"".concat(r==null?void 0:r.info.OperatingSystem," - ").concat(r==null?void 0:r.info.ServerVersion," - ").concat(r==null?void 0:r.sdkVersion)}),(0,e.jsx)(k.Z.Item,{label:"\u6587\u4EF6\u5B58\u50A8\u9A71\u52A8",children:"".concat(r==null?void 0:r.info.Driver)}),(0,e.jsx)(k.Z.Item,{label:"\u65E5\u5FD7\u9A71\u52A8",children:"".concat(r==null?void 0:r.info.LoggingDriver)}),(0,e.jsx)(k.Z.Item,{label:"\u7CFB\u7EDF\u67B6\u6784",children:"".concat(r==null?void 0:r.info.KernelVersion," - ").concat(r==null?void 0:r.info.Architecture)}),(0,e.jsxs)(k.Z.Item,{label:"Cpu",children:[r==null?void 0:r.info.NCPU," \u6838"]}),(0,e.jsx)(k.Z.Item,{label:"Memory",children:(0,B.FI)((F=r==null?void 0:r.info.MemTotal)!==null&&F!==void 0?F:0)}),(0,e.jsx)(k.Z.Item,{label:"\u6839\u76EE\u5F55",children:r==null?void 0:r.info.DockerRootDir}),(0,e.jsx)(k.Z.Item,{label:"\u5B58\u50A8\u5377\u63D2\u4EF6",children:(0,e.jsx)(ie.Z,{children:r==null?void 0:r.info.Plugins.Volume})}),(0,e.jsx)(k.Z.Item,{label:"\u7F51\u7EDC\u63D2\u4EF6",children:(0,e.jsx)(ie.Z,{wrap:!0,children:r==null?void 0:r.info.Plugins.Network})}),(0,e.jsx)(k.Z.Item,{label:"\u7CFB\u7EDF\u65F6\u95F4",children:new Date((te=r==null?void 0:r.info.SystemTime)!==null&&te!==void 0?te:"").toLocaleString()})]})}),(0,e.jsxs)(Z.Z,{headerBordered:!0,colSpan:{xs:24,sm:24,md:24,lg:15,xl:15},title:(0,e.jsx)(de.Z,{}),subTitle:"\u5BB9\u5668\u8FD0\u884C\u7EDF\u8BA1",split:"horizontal",extra:(0,e.jsx)(Te.a,{drawerProps:{width:m.R_},title:"\u5BB9\u5668\u72B6\u6001\u6570\u636E",submitter:!1,trigger:(0,e.jsx)(Ce.Z.Link,{children:"\u8BE6\u60C5\u6570\u636E"}),children:(0,e.jsx)(Se.Z,{pagination:!1,dataSource:w.list,rowKey:"name",columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"name"},{title:"Cpu",dataIndex:"cpu",sorter:function(h,c){return h.cpu-c.cpu},render:function(h,c,A){return"".concat(c.cpu.toFixed(2),"%")}},{title:"\u5185\u5B58",dataIndex:"memory",sorter:function(h,c){return h.memory.in-c.memory.in},render:function(h,c,A){var v,x;return"".concat((0,B.FI)((v=c==null?void 0:c.memory.in)!==null&&v!==void 0?v:0)," / ").concat((0,B.FI)((x=c==null?void 0:c.memory.out)!==null&&x!==void 0?x:0))}},{title:"\u7F51\u7EDC I/O",dataIndex:"networkIO",render:function(h,c,A){return"".concat((0,B.FI)(c.networkIO.in)," / ").concat((0,B.FI)(c.networkIO.out))}},{title:"\u78C1\u76D8 I/O",dataIndex:"blockIO",render:function(h,c,A){return"".concat((0,B.FI)(c.blockIO.in)," / ").concat((0,B.FI)(c.blockIO.out))}}]})}),children:[(0,e.jsx)(Z.Z,{children:(0,e.jsxs)(Ye.Z,{gap:50,align:"center",justify:"space-evenly",children:[(0,e.jsx)(d,{showPercent:parseFloat((((ae=w==null?void 0:w.cpu)!==null&&ae!==void 0?ae:0)/((ee=r==null?void 0:r.info.NCPU)!==null&&ee!==void 0?ee:0)).toFixed(2)),showLabel:"Cpu",showUse:"".concat(((G=w==null?void 0:w.cpu)!==null&&G!==void 0?G:0).toFixed(2)),showTotal:"".concat((ne=r==null?void 0:r.info.NCPU)!==null&&ne!==void 0?ne:0," \u6838")}),(0,e.jsx)(d,{showPercent:parseFloat((((oe=w==null?void 0:w.memory)!==null&&oe!==void 0?oe:0)/((ue=r==null?void 0:r.info.MemTotal)!==null&&ue!==void 0?ue:0)*100).toFixed(2)),showLabel:"\u5185\u5B58",showUse:(0,B.FI)((re=w==null?void 0:w.memory)!==null&&re!==void 0?re:0),showTotal:"".concat((0,B.FI)((fe=r==null?void 0:r.info.MemTotal)!==null&&fe!==void 0?fe:0))})]})}),(0,e.jsxs)(Z.Z,{split:"vertical",wrap:!0,children:[(0,e.jsx)(Z.Z,{colSpan:12,title:(0,e.jsx)(de.Z,{}),subTitle:"\u7F51\u7EDC",headerBordered:!0,children:(0,e.jsx)(p.Z,{yField:"usage",xField:"date",colorField:"type",data:w.network,yLabelFormatter:function(h){return(0,B.FI)(parseFloat(h))},yDomainMaxCallback:function(h){return h*1.5}})}),(0,e.jsx)(Z.Z,{colSpan:12,title:(0,e.jsx)(de.Z,{}),subTitle:"\u78C1\u76D8",headerBordered:!0,children:(0,e.jsx)(p.Z,{yField:"usage",xField:"date",colorField:"type",data:w.io,yLabelFormatter:function(h){return(0,B.FI)(parseFloat(h))},yDomainMaxCallback:function(h){return h*1.5}})})]})]})]}),(0,e.jsxs)(Z.Z,{bordered:!0,headerBordered:!0,title:(0,e.jsx)(de.Z,{}),subTitle:"\u7528\u91CF\u7EDF\u8BA1",wrap:!0,extra:(0,e.jsxs)(ie.Z,{children:[(0,e.jsx)(_e.ZP,{icon:(0,e.jsx)(Ve.Z,{}),onClick:function(){var h;(h=be.current)===null||h===void 0||h.zoomIn()},shape:"circle"}),(0,e.jsx)(_e.ZP,{icon:(0,e.jsx)(He.Z,{}),onClick:function(){var h;(h=be.current)===null||h===void 0||h.zoomOut()},shape:"circle"}),(0,e.jsx)(Qe.Z,{type:"vertical"}),(0,e.jsx)("span",{children:T&&T.updatedAt?"\u6570\u636E\u6700\u540E\u66F4\u65B0: ".concat(T.updatedAt):""},"lastUpdate")]},"size"),children:[(0,e.jsx)(Z.Z,{colSpan:{xs:24,sm:24,md:24,lg:24,xl:12,xxl:12},ghost:!0,children:(T==null?void 0:T.item)&&(T==null?void 0:T.item.length)>0&&(0,e.jsx)(W,{ref:be,data:(he=T==null?void 0:T.item)!==null&&he!==void 0?he:[]})}),(0,e.jsxs)(Z.Z,{colSpan:{xs:24,sm:8,md:8,lg:8,xl:4,xxl:4},split:"horizontal",ghost:!0,children:[(0,e.jsx)($.Z,{statistic:{title:"\u5BB9\u5668",value:(0,B.FI)((ve=T==null?void 0:T.container)!==null&&ve!==void 0?ve:0),description:"\u955C\u50CF\u53CA\u5199\u5165\u6570\u636E"}}),(0,e.jsx)($.Z,{statistic:{title:"\u955C\u50CF",value:(0,B.FI)((ge=T==null?void 0:T.image)!==null&&ge!==void 0?ge:0),description:"\u5305\u542B\u4E2D\u95F4\u955C\u50CF"}}),(0,e.jsx)($.Z,{statistic:{title:"\u5B58\u50A8",value:(0,B.FI)((pe=T==null?void 0:T.volume)!==null&&pe!==void 0?pe:0),description:"\u53EA\u7EDF\u8BA1\u5B58\u50A8\u5377"}}),(0,e.jsx)($.Z,{statistic:{title:"\u6784\u5EFA\u7F13\u5B58",value:(0,B.FI)((Ee=T==null?void 0:T.cache)!==null&&Ee!==void 0?Ee:0),description:(0,e.jsx)(j.u,{access:"canSeeHomeOverviewClear",children:(0,e.jsx)(M.Z,{action:function(){return(0,ze.c5)()},type:"link",onSuccess:function(){Ke()},ghost:!0,children:"\u6E05\u9664"})})}})]}),(0,e.jsxs)(Z.Z,{colSpan:{xs:24,sm:16,md:16,lg:16,xl:8,xxl:8},ghost:!0,split:"horizontal",children:[(0,e.jsx)(Z.Z,{ghost:!0,children:(0,e.jsxs)($.Z.Group,{children:[(0,e.jsx)($.Z,{statistic:{title:"\u5BB9\u5668",value:(je=r==null?void 0:r.info.Containers)!==null&&je!==void 0?je:0,description:(0,e.jsx)(J.Link,{to:"/app/list",children:"\u67E5\u770B"})}}),!se.canSeeEnableCe&&(0,e.jsx)($.Z,{statistic:{title:"\u65B0\u7248\u672C",status:"processing",valueRender:function(h){var c,A,v;return(0,e.jsx)(me.Z,{title:"\u5FFD\u7565:  ".concat((c=X==null?void 0:X.ignore)!==null&&c!==void 0?c:0," \u5931\u8D25: ").concat((A=X==null?void 0:X.failed)!==null&&A!==void 0?A:0," \u672C\u5730:").concat((v=X==null?void 0:X.local)!==null&&v!==void 0?v:0),children:X==null?void 0:X.upgrade})}}}),(0,e.jsx)($.Z,{statistic:{title:"\u9884\u8B66",status:"error",valueRender:function(h){var c,A,v,x=0;return u&&u.total&&u.total.containerRunning.stop&&(x+=u.total.containerRunning.stop),u&&u.total&&u.total.containerRunning.pause&&(x+=u.total.containerRunning.pause),u&&u.total&&u.total.containerRunning.unhealthy&&(x+=u.total.containerRunning.unhealthy),(0,e.jsx)(me.Z,{title:"\u505C\u6B62\uFF1A".concat((c=u==null?void 0:u.total.containerRunning.stop)!==null&&c!==void 0?c:0,"\uFF0C\u6682\u505C\uFF1A").concat((A=u==null?void 0:u.total.containerRunning.pause)!==null&&A!==void 0?A:0,"\uFF0C\u4E0D\u5065\u5EB7\uFF1A").concat((v=u==null?void 0:u.total.containerRunning.unhealthy)!==null&&v!==void 0?v:0),children:x})}}}),(0,e.jsx)($.Z,{statistic:{title:"\u56DE\u6536\u7AD9",value:(Pe=u==null?void 0:u.total.containerTask)!==null&&Pe!==void 0?Pe:0,description:(0,e.jsx)(J.Link,{to:"/app/list/recycle",children:"\u67E5\u770B"})}})]})}),(0,e.jsxs)(Z.Z,{ghost:!0,children:[(0,e.jsx)($.Z,{statistic:{title:"\u955C\u50CF",value:"".concat((De=(u==null?void 0:u.diskUsage.usage.Images)&&(u==null?void 0:u.diskUsage.usage.Images.length))!==null&&De!==void 0?De:0),description:(0,e.jsx)(J.Link,{to:"/image/list",children:"\u67E5\u770B"})},chartPlacement:"left"}),(0,e.jsx)($.Z,{statistic:{title:"\u4EFB\u52A1",value:(ye=u==null?void 0:u.total.imageTask)!==null&&ye!==void 0?ye:0,description:(0,e.jsx)(J.Link,{to:"/image/list/recycle",children:"\u67E5\u770B"})},chartPlacement:"left"})]}),(0,e.jsxs)(Z.Z,{ghost:!0,children:[(0,e.jsx)($.Z,{statistic:{title:"\u7F51\u7EDC",value:u==null?void 0:u.total.network,description:(0,e.jsx)(J.Link,{to:"/docker/network",children:"\u67E5\u770B"})},chartPlacement:"left"}),(0,e.jsx)($.Z,{statistic:{title:"\u7AEF\u53E3\u6620\u5C04",value:u==null?void 0:u.total.port,description:(0,e.jsx)(Te.a,{drawerProps:{width:m.R_},submitter:!1,title:"\u67E5\u770B\u6620\u5C04\u7AEF\u53E3",trigger:(0,e.jsx)(Ce.Z.Link,{children:"\u67E5\u770B"}),children:(0,e.jsx)(Se.Z,{pagination:!1,dataSource:u==null?void 0:u.port,rowKey:"name",columns:[{title:"\u4E3B\u673A\u7AEF\u53E3",dataIndex:["port","host"],sorter:function(h,c){return parseInt(h.port.host)-parseInt(c.port.host)},render:function(h,c,A){return c.port.host!="0"?"".concat(c.port.hostIp,":").concat(c.port.host):"-"}},{title:"\u5BB9\u5668\u7AEF\u53E3",dataIndex:["port","dest"]},{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"name",render:function(h,c,A){return(0,B.fi)(c.name,"/")}}]})})},chartPlacement:"left"})]}),(0,e.jsxs)(Z.Z,{ghost:!0,children:[(0,e.jsx)($.Z,{statistic:{title:"\u5B58\u50A8\u5377",value:(Oe=(u==null?void 0:u.diskUsage.usage.Volumes)&&(u==null?void 0:u.diskUsage.usage.Volumes.length))!==null&&Oe!==void 0?Oe:0,description:(0,e.jsx)(J.Link,{to:"/docker/volume",children:"\u67E5\u770B"})},chartPlacement:"left"}),(0,e.jsx)($.Z,{statistic:{title:"\u5907\u4EFD",value:u==null?void 0:u.total.backup,description:(0,e.jsx)(J.Link,{to:"/app/backup",children:"\u67E5\u770B"})},chartPlacement:"left"})]})]})]})]})}},2831:function(Y,I,n){n.d(I,{Ll:function(){return M},aF:function(){return b},d6:function(){return t},u5:function(){return S}});var O=n(15009),s=n.n(O),L=n(99289),f=n.n(L),g=n(82346);function b(){return D.apply(this,arguments)}function D(){return D=f()(s()().mark(function _(){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.request)("/api/common/home/info",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_)})),D.apply(this,arguments)}function S(){return j.apply(this,arguments)}function j(){return j=f()(s()().mark(function _(){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_)})),j.apply(this,arguments)}function M(){return p.apply(this,arguments)}function p(){return p=f()(s()().mark(function _(){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.request)("/api/common/home/usage",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_)})),p.apply(this,arguments)}function t(){return l.apply(this,arguments)}function l(){return l=f()(s()().mark(function _(){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_)})),l.apply(this,arguments)}},18148:function(Y,I,n){n.d(I,{$q:function(){return _},Fj:function(){return H},KG:function(){return b},KX:function(){return d},T8:function(){return t},Xn:function(){return M},ao:function(){return e},c5:function(){return K},c7:function(){return W}});var O=n(15009),s=n.n(O),L=n(99289),f=n.n(L),g=n(82346);function b(a){return D.apply(this,arguments)}function D(){return D=f()(s()().mark(function a(y){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,g.request)("/api/app/image/get-list",{method:"POST",data:y}));case 1:case"end":return o.stop()}},a)})),D.apply(this,arguments)}function S(a){return j.apply(this,arguments)}function j(){return j=_asyncToGenerator(_regeneratorRuntime().mark(function a(y){return _regeneratorRuntime().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,request("/api/app/log/image-build",{method:"POST",data:y});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},a)})),j.apply(this,arguments)}function M(a){return p.apply(this,arguments)}function p(){return p=f()(s()().mark(function a(y){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,g.request)("/api/app/image/get-list-build",{method:"POST",data:y}));case 1:case"end":return o.stop()}},a)})),p.apply(this,arguments)}function t(a){return l.apply(this,arguments)}function l(){return l=f()(s()().mark(function a(y){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,g.request)("/api/app/image/get-build-task",{method:"POST",data:y});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},a)})),l.apply(this,arguments)}function _(a){return i.apply(this,arguments)}function i(){return i=f()(s()().mark(function a(y){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,g.request)("/api/app/image/delete-build-task",{method:"POST",data:y});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},a)})),i.apply(this,arguments)}function e(a){return R.apply(this,arguments)}function R(){return R=f()(s()().mark(function a(y){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,g.request)("/api/app/image/image-delete",{method:"POST",data:y});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},a)})),R.apply(this,arguments)}function W(){return Q.apply(this,arguments)}function Q(){return Q=f()(s()().mark(function a(){return s()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,g.request)("/api/app/image/image-prune",{method:"POST"});case 2:return U.abrupt("return",U.sent);case 3:case"end":return U.stop()}},a)})),Q.apply(this,arguments)}function K(){return V.apply(this,arguments)}function V(){return V=f()(s()().mark(function a(){return s()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,g.request)("/api/app/image/build-prune",{method:"POST"});case 2:return U.abrupt("return",U.sent);case 3:case"end":return U.stop()}},a)})),V.apply(this,arguments)}function H(a){return E.apply(this,arguments)}function E(){return E=f()(s()().mark(function a(y){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,g.request)("/api/app/image/update-title",{method:"POST",data:y});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},a)})),E.apply(this,arguments)}function d(a){return m.apply(this,arguments)}function m(){return m=f()(s()().mark(function a(y){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,g.request)("/api/app/image/tag-sync",{method:"POST",data:y}));case 1:case"end":return o.stop()}},a)})),m.apply(this,arguments)}},89075:function(Y,I,n){n.d(I,{$w:function(){return b},YQ:function(){return S},ax:function(){return M}});var O=n(15009),s=n.n(O),L=n(99289),f=n.n(L),g=n(82346);function b(){return D.apply(this,arguments)}function D(){return D=f()(s()().mark(function t(){return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,g.request)("/api/pro/home/get-machine-id",{method:"POST"}));case 1:case"end":return _.stop()}},t)})),D.apply(this,arguments)}function S(){return j.apply(this,arguments)}function j(){return j=f()(s()().mark(function t(){return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,g.request)("/api/pro/home/get-license-info",{method:"POST"}));case 1:case"end":return _.stop()}},t)})),j.apply(this,arguments)}function M(){return p.apply(this,arguments)}function p(){return p=f()(s()().mark(function t(){return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,g.request)("/api/pro/home/login-info",{method:"POST"}));case 1:case"end":return _.stop()}},t)})),p.apply(this,arguments)}},20578:function(Y,I,n){n.d(I,{q:function(){return S},w:function(){return b}});var O=n(15009),s=n.n(O),L=n(99289),f=n.n(L),g=n(82346);function b(M){return D.apply(this,arguments)}function D(){return D=f()(s()().mark(function M(p){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,g.request)("/api/pro/container/recycle-restore",{data:p,method:"POST"});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},M)})),D.apply(this,arguments)}function S(){return j.apply(this,arguments)}function j(){return j=f()(s()().mark(function M(){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,g.request)("/api/pro/container/check-all-upgrade",{method:"POST"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},M)})),j.apply(this,arguments)}}}]);
