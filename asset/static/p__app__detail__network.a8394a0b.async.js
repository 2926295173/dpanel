"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2902],{43831:function(w,f,e){var j=e(15009),a=e.n(j),D=e(99289),u=e.n(D),l=e(5574),h=e.n(l),i=e(67294),B=e(14946),L=e(43425),v=e(48689),O=e(38345),K=e(78099),d=e(42075),m=e(25593),T=e(83062),o=e(60335),C=e(78498),U=e(80821),S=e(10032),Z=e(5251),x=e(28230),W=e(46442),g=e(78451),t=e(85893),_=(0,i.forwardRef)(function(r,n){var y;(0,i.useImperativeHandle)(n,function(){return{}});var p=(0,i.useRef)(),b=(0,i.useRef)(),$=(0,i.useState)(),R=h()($,2),G=R[0],V=R[1];return(0,i.useEffect)(function(){var I,P;V(r.containerInfo),!((I=p.current)===null||I===void 0)&&I.reloadAndRest&&((P=p.current)===null||P===void 0||P.reloadAndRest())},[r.containerInfo]),(0,t.jsxs)(O.Z,{ghost:r.ghost,children:[(0,t.jsx)(S.Z,{ref:b}),(0,t.jsx)(K.Z,{scroll:{x:"max-content"},rowKey:"key",actionRef:p,pagination:!1,columns:[{title:"\u6240\u5C5E\u7F51\u7EDC",key:"name",dataIndex:"networkName"},{title:"\u5BB9\u5668\u540D\u79F0",key:"containerName",dataIndex:"containerName",width:100,render:function(P,s,A,M,k){return(0,t.jsx)(g.Z,{content:(0,Z.fi)(s.containerName,"/")})}},{title:(0,t.jsx)(C.Z,{title:"hostname",help:"\u63D0\u4F9B\u5BB9\u5668\u5185\u90E8\u8BBF\u95EE"}),key:"hostName",render:function(P,s,A){return s.hostName?(0,t.jsx)(d.Z,{direction:"vertical",children:s.hostName.map(function(M){if(M)return(0,t.jsx)(m.Z.Text,{copyable:!0,keyboard:!0,children:M},M)})}):(0,t.jsx)(t.Fragment,{})}},{title:"Ip",key:"ip",render:function(P,s,A,M,k){return(0,t.jsxs)(d.Z,{direction:"vertical",children:[(0,t.jsx)("span",{children:s.networkInfo.IPv4Address}),s.networkInfo.IPv6Address&&(0,t.jsx)("span",{children:s.networkInfo.IPv6Address})]})}},{title:"\u64CD\u4F5C",key:"option",width:50,fixed:"right",render:function(P,s,A,M,k){return(0,t.jsxs)(d.Z,{children:[s.networkName!=""&&(0,t.jsx)(m.Z.Link,{onClick:function(){var E;(E=b.current)===null||E===void 0||E.show(s.networkName)},children:(0,t.jsx)(T.Z,{title:"\u7BA1\u7406",children:(0,t.jsx)(L.Z,{})})}),s.key!="bridge"&&s.key!="none"&&s.key!="host"&&s.networkName!=""&&(0,t.jsx)(U.Z,{type:"link",action:function(){return(0,B.t9)({name:s.networkName,containerName:r.containerInfo.Name})},onSuccess:function(){var E,c;!((E=p.current)===null||E===void 0)&&E.reloadAndRest&&((c=p.current)===null||c===void 0||c.reloadAndRest())},tips:"\u9000\u51FA\u8BE5\u7F51\u7EDC",children:(0,t.jsx)(v.Z,{})})]})}}],request:function(){var I=u()(a()().mark(function P(s,A,M){var k,N;return a()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,o.jV)({md5:r.containerInfo.Name});case 2:return k=c.sent,V(k.data.info),c.next=6,(0,B._3)({name:Object.keys(k.data.info.NetworkSettings.Networks)});case 6:return N=c.sent,c.abrupt("return",{data:N.data.list,success:!0,total:N.data.list.length});case 8:case"end":return c.stop()}},P)}));return function(P,s,A){return I.apply(this,arguments)}}(),toolBarRender:function(){return[(0,t.jsx)(W.Z,{showTriggerButton:!0,onSelect:function(){var P=u()(a()().mark(function s(A){var M,k;return a()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,B.HY)({name:A.Name,containerName:r.containerInfo.Name,ipV4:""});case 2:k=E.sent,!((M=p.current)===null||M===void 0)&&M.reloadAndRest&&p.current.reloadAndRest();case 4:case"end":return E.stop()}},s)}));return function(s){return P.apply(this,arguments)}}()},"joinNetwork"),(0,t.jsx)(x.Z,{onFinish:function(){var s,A;!((s=p.current)===null||s===void 0)&&s.reloadAndRest&&((A=p.current)===null||A===void 0||A.reloadAndRest())}},"create")]},search:!1,expandable:{expandRowByClick:!1,expandedRowKeys:Object.keys((y=G==null?void 0:G.NetworkSettings.Networks)!==null&&y!==void 0?y:{bridge:[]})}})]})});f.Z=_},46442:function(w,f,e){var j=e(15009),a=e.n(j),D=e(99289),u=e.n(D),l=e(5574),h=e.n(l),i=e(67294),B=e(14946),L=e(64789),v=e(78099),O=e(28036),K=e(85265),d=e(42075),m=e(66309),T=e(28230),o=e(85893),C=(0,i.forwardRef)(function(U,S){(0,i.useImperativeHandle)(S,function(){return{show:function(){g(!0)}}});var Z=(0,i.useState)(!1),x=h()(Z,2),W=x[0],g=x[1],t=(0,i.useRef)();return(0,o.jsxs)(o.Fragment,{children:[U.showTriggerButton&&(0,o.jsx)(O.ZP,{onClick:function(){g(!0)},children:"\u52A0\u5165\u7F51\u7EDC"}),(0,o.jsx)(K.Z,{title:"\u9009\u62E9\u7F51\u7EDC",width:800,footer:!1,open:W,onClose:function(){return g(!1)},extra:(0,o.jsx)(d.Z,{children:(0,o.jsx)(T.Z,{onFinish:function(){var r,n;!((r=t.current)===null||r===void 0)&&r.reloadAndRest&&((n=t.current)===null||n===void 0||n.reloadAndRest())}},"create")}),children:(0,o.jsx)(v.Z,{rowKey:"Name",toolBarRender:!1,actionRef:t,columns:[{title:"\u540D\u79F0",dataIndex:"Name",render:function(r,n,y,p,b){return n.Name=="none"||n.Name=="bridge"||n.Name=="host"?(0,o.jsxs)(o.Fragment,{children:[n.Name," ",(0,o.jsx)(m.Z,{color:"blue",children:"System"})]}):(0,o.jsx)(o.Fragment,{children:r})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4 IPAM Network",search:!1,dataIndex:["IPAM","Config",0,"Subnet"],render:function(r,n,y,p,b){return(0,o.jsxs)(d.Z,{children:[n.IPAM.Config&&n.IPAM.Config[0]&&"".concat(n.IPAM.Config[0].Subnet," - ").concat(n.IPAM.Config[0].Gateway),n.IPAM.Config&&n.IPAM.Config[1]&&"".concat(n.IPAM.Config[1].Subnet," - ").concat(n.IPAM.Config[1].Gateway)]})}},{title:"\u64CD\u4F5C",width:100,search:!1,render:function(r,n,y,p,b){return[n.Name!="none"&&n.Name!="bridge"&&n.Name!="host"&&(0,o.jsx)(O.ZP,{type:"link",onClick:function(){U.onSelect(n),g(!1)},children:(0,o.jsx)(L.Z,{})},n.Id)]}}],request:function(){var _=u()(a()().mark(function r(n,y,p){var b;return a()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,B.jR)({name:n.Name});case 2:return b=R.sent,R.abrupt("return",{data:b.data.list,success:!0,total:b.data.list.length});case 4:case"end":return R.stop()}},r)}));return function(r,n,y){return _.apply(this,arguments)}}(),pagination:{pageSize:10}})})]})});f.Z=C},78498:function(w,f,e){e.d(f,{Z:function(){return h}});var j=e(25035),a=e(42075),D=e(83062),u=e(67294),l=e(85893);function h(i){return(0,l.jsxs)(a.Z,{children:[i.title,(0,l.jsx)(D.Z,{title:i.help,children:(0,l.jsx)(j.Z,{})})]})}},78451:function(w,f,e){e.d(f,{Z:function(){return D}});var j=e(67294),a=e(85893);function D(u){return(0,a.jsx)("span",{style:{width:u.width?u.width:"auto",wordBreak:"break-word"},children:u.content})}},50070:function(w,f,e){e.r(f),e.d(f,{AppDetailContext:function(){return T},default:function(){return o}});var j=e(15009),a=e.n(j),D=e(99289),u=e.n(D),l=e(5574),h=e.n(l),i=e(24963),B=e(60335),L=e(55809),v=e(82346),O=e(25593),K=e(50136),d=e(67294),m=e(85893),T=(0,d.createContext)({});function o(){var C,U=(0,d.useContext)(i.Z),S=U.lang,Z=U.loading,x=U.message,W=(0,v.useParams)(),g=(0,v.useSearchParams)(),t=h()(g,2),_=t[0],r=t[1],n=(C=_.get("tab"))!==null&&C!==void 0?C:"edit",y=(0,d.useState)("edit"),p=h()(y,2),b=p[0],$=p[1],R=(0,v.useNavigate)(),G=(0,d.useState)(1),V=h()(G,2),I=V[0],P=V[1],s=[{label:(0,m.jsx)(v.Link,{to:"/app/detail/edit/".concat(W.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,m.jsx)(v.Link,{to:"/app/detail/network/".concat(W.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,m.jsx)(O.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){x.info(S("app.detail.createExplorerPlugin")),R("/app/detail/file/".concat(W.id,"?tab=file"))}},{label:(0,m.jsx)(O.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){R("/app/detail/log/".concat(W.id,"?tab=log"))}},{label:(0,m.jsx)(O.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){R("/app/detail/stat/".concat(W.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,m.jsx)(L.Z,{}),disabled:!0}],A=(0,d.useState)(s),M=h()(A,2),k=M[0],N=M[1];(0,d.useEffect)(function(){Z.show(),$(n);var c=function(){var J=u()(a()().mark(function X(){var Y,Q,z;return a()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return Q=s,H.next=3,(0,B.jV)({md5:(Y=W.id)!==null&&Y!==void 0?Y:""});case 3:z=H.sent,Q.map(function(F){return F.key=="containerName"&&(F.label=z.data.info.Name),(!z.data.info.State.Running||z.data.info.State.Restarting)&&(F.key=="file"||F.key=="stat")&&(F.disabled=!0),F}),N(Q),Z.destroy();case 7:case"end":return H.stop()}},X)}));return function(){return J.apply(this,arguments)}}();c()},[I]);var E=function(J){$(J.key)};return(0,m.jsxs)(T.Provider,{value:{reload:function(){P(I+1)}},children:[(0,m.jsx)(K.Z,{mode:"horizontal",onClick:E,selectedKeys:[b],items:k}),(0,m.jsx)(v.Outlet,{})]})}},77812:function(w,f,e){e.r(f),e.d(f,{default:function(){return L}});var j=e(5574),a=e.n(j),D=e(67294),u=e(60335),l=e(82346),h=e(50070),i=e(43831),B=e(85893);function L(){var v=(0,l.useParams)(),O=(0,D.useState)(),K=a()(O,2),d=K[0],m=K[1],T=(0,D.useContext)(h.AppDetailContext);return(0,D.useEffect)(function(){var o;(0,u.jV)({md5:(o=v.id)!==null&&o!==void 0?o:""}).then(function(C){m(C.data.info)}),T.reload()},[]),d&&(0,B.jsx)(i.Z,{containerInfo:d})}},60335:function(w,f,e){e.d(f,{IE:function(){return B},IW:function(){return h},KK:function(){return m},LJ:function(){return o},RF:function(){return Z},Re:function(){return U},aF:function(){return W},eE:function(){return K},jV:function(){return v}});var j=e(15009),a=e.n(j),D=e(99289),u=e.n(D),l=e(82346);function h(t){return i.apply(this,arguments)}function i(){return i=u()(a()().mark(function t(_){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/status",{method:"POST",data:_}));case 1:case"end":return n.stop()}},t)})),i.apply(this,arguments)}function B(t){return L.apply(this,arguments)}function L(){return L=u()(a()().mark(function t(_){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/get-list",{data:_,method:"POST"}));case 1:case"end":return n.stop()}},t)})),L.apply(this,arguments)}function v(t){return O.apply(this,arguments)}function O(){return O=u()(a()().mark(function t(_){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/get-detail",{data:_,method:"POST"}));case 1:case"end":return n.stop()}},t)})),O.apply(this,arguments)}function K(t){return d.apply(this,arguments)}function d(){return d=u()(a()().mark(function t(_){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/update",{data:_,method:"POST"}));case 1:case"end":return n.stop()}},t)})),d.apply(this,arguments)}function m(){return T.apply(this,arguments)}function T(){return T=u()(a()().mark(function t(){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,l.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return r.stop()}},t)})),T.apply(this,arguments)}function o(t){return C.apply(this,arguments)}function C(){return C=u()(a()().mark(function t(_){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/export",{method:"POST",data:_,responseType:"blob"}));case 1:case"end":return n.stop()}},t)})),C.apply(this,arguments)}function U(t){return S.apply(this,arguments)}function S(){return S=u()(a()().mark(function t(_){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/commit",{method:"POST",data:_}));case 1:case"end":return n.stop()}},t)})),S.apply(this,arguments)}function Z(t){return x.apply(this,arguments)}function x(){return x=u()(a()().mark(function t(_){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/upgrade",{method:"POST",data:_}));case 1:case"end":return n.stop()}},t)})),x.apply(this,arguments)}function W(t){return g.apply(this,arguments)}function g(){return g=u()(a()().mark(function t(_){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/copy",{method:"POST",data:_}));case 1:case"end":return n.stop()}},t)})),g.apply(this,arguments)}}}]);
