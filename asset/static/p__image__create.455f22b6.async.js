"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7523],{90672:function(Z,D,e){var F=e(1413),r=e(45987),O=e(67294),d=e(35510),_=e(85893),i=["fieldProps","proFieldProps"],m=function(c,E){var M=c.fieldProps,h=c.proFieldProps,v=(0,r.Z)(c,i);return(0,_.jsx)(d.Z,(0,F.Z)({ref:E,valueType:"textarea",fieldProps:M,proFieldProps:h},v))};D.Z=O.forwardRef(m)},1677:function(Z,D,e){var F=e(1413),r=e(45987),O=e(88484),d=e(31365),_=e(28036),i=e(67294),m=e(9105),u=e(90789),c=e(85893),E=["fieldProps","action","accept","listType","title","max","icon","buttonProps","disabled","proFieldProps"],M=function(a,P){var A,t=a.fieldProps,C=a.action,B=a.accept,o=a.listType,I=a.title,y=I===void 0?"\u5355\u51FB\u4E0A\u4F20":I,T=a.max,p=a.icon,f=p===void 0?(0,c.jsx)(O.Z,{}):p,s=a.buttonProps,j=a.disabled,g=a.proFieldProps,n=(0,r.Z)(a,E),z=(0,i.useMemo)(function(){var J;return(J=n.fileList)!==null&&J!==void 0?J:n.value},[n.fileList,n.value]),Q=(0,i.useContext)(m.A),ee=(g==null?void 0:g.mode)||Q.mode||"edit",ue=(T===void 0||!z||(z==null?void 0:z.length)<T)&&ee!=="read",Y=(o!=null?o:t==null?void 0:t.listType)==="picture-card";return(0,c.jsx)(d.Z,(0,F.Z)((0,F.Z)({action:C,accept:B,ref:P,listType:o||"picture",fileList:z},t),{},{name:(A=t==null?void 0:t.name)!==null&&A!==void 0?A:"file",onChange:function(ae){var U;t==null||(U=t.onChange)===null||U===void 0||U.call(t,ae)},children:ue&&(Y?(0,c.jsxs)("span",{children:[f," ",y]}):(0,c.jsxs)(_.ZP,(0,F.Z)((0,F.Z)({disabled:j||(t==null?void 0:t.disabled)},s),{},{children:[f,y]})))}))},h=(0,u.G)(i.forwardRef(M),{getValueFromEvent:function(a){return a.fileList}});D.Z=h},34879:function(Z,D,e){e.d(D,{Z:function(){return _}});var F=e(97961),r=e(91604),O=e(1677),d=e(85893);function _(i){return i.showDragger?(0,d.jsx)(r.Z,{max:i.max?i.max:1,title:i.title,label:i.label,required:i.required,rules:[{required:i.required}],fieldProps:{multiple:!!(i.max&&i.max>1),name:"file",accept:i.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(u){return new Promise(function(c){var E;(0,F._2)({path:(E=u.response.data.path)!==null&&E!==void 0?E:""}).then(function(M){c(!0)})})}},name:i.name}):(0,d.jsx)(O.Z,{max:i.max?i.max:1,title:i.title,label:i.label,required:i.required,rules:[{required:i.required}],fieldProps:{multiple:!!(i.max&&i.max>1),name:"file",accept:i.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(u){return new Promise(function(c){var E;(0,F._2)({path:(E=u.response.data.path)!==null&&E!==void 0?E:""}).then(function(M){c(!0)})})}},name:i.name})}},74344:function(Z,D,e){var F=e(5574),r=e.n(F),O=e(37476),d=e(38345),_=e(82346),i=e(67294),m=e(54964),u=e(3616),c=e(85893),E=(0,i.forwardRef)(function(M,h){(0,i.useImperativeHandle)(h,function(){return{start:function(){for(var p=arguments.length,f=new Array(p),s=0;s<p;s++)f[s]=arguments[s];o(f.join(":")),A(!0)},reset:function(){var p;(p=y.current)===null||p===void 0||p.clear(),A(!1)},show:function(p){var f,s;(f=y.current)===null||f===void 0||f.clear(),(s=y.current)===null||s===void 0||s.write(p),A(!0)}}});var v=(0,i.useState)(!1),a=r()(v,2),P=a[0],A=a[1],t=(0,i.useState)(""),C=r()(t,2),B=C[0],o=C[1],I=(0,_.useModel)("subscriber"),y=(0,i.useRef)();return I.addDataHandler("image:"+B,function(T){var p;(p=y.current)===null||p===void 0||p.write(T.data)}),(0,i.useEffect)(function(){var T;(T=y.current)===null||T===void 0||T.fit()},[]),(0,c.jsx)(O.Y,{modalProps:{forceRender:!0,width:u.ob},title:"\u6784\u5EFA\u65E5\u5FD7",submitter:!1,width:1e3,onOpenChange:function(p){if(A(p),p){var f,s;(f=y.current)===null||f===void 0||f.clear(),(s=y.current)===null||s===void 0||s.fit()}},open:P,children:(0,c.jsx)(d.Z,{ghost:!0,children:(0,c.jsx)(m.Z,{showInModal:!0,width:"960px",height:"500px",ref:y})})})});D.Z=E},12491:function(Z,D,e){e.d(D,{Z:function(){return u}});var F=e(24963),r=e(88484),O=e(62370),d=e(31418),_=e(28036),i=e(67294),m=e(85893);function u(c){var E=(0,i.useContext)(F.Z),M=E.message,h=E.notice,v=E.lang,a=(0,i.useRef)(null),P=d.Z.useApp(),A=function(){a.current&&(a.current.click(),a.current.onchange=function(C){if(!C||!C.target)return"";var B=new FileReader;B.onload=function(I){var y,T,p=(y=I.target)===null||y===void 0?void 0:y.result;if(c.onLoad)try{c.onLoad&&c.onLoad(p)}catch(f){h.error(f);return}typeof c.onImport=="function"&&(M.success("\u6210\u529F\u5BFC\u5165 ".concat(c.title)),c.onImport(p)),(T=a.current)!==null&&T!==void 0&&T.value&&(a.current.value="")};var o=C.target;if(o.files)try{B.readAsText(o.files[0])}catch(I){h.error("\u5BFC\u5165\u6587\u4EF6\u5FC5\u987B\u662F\u6587\u672C\u7C7B\u578B")}})};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(O.Z,{children:(0,m.jsx)(_.ZP,{icon:(0,m.jsx)(r.Z,{}),block:!0,onClick:A,children:c.title})}),(0,m.jsx)("input",{style:{display:"none"},type:"file",ref:a,name:"importFileInput"})]})}},54964:function(Z,D,e){e.d(D,{a:function(){return h}});var F=e(5574),r=e.n(F),O=e(78267),d=e.n(O),_=e(75458),i=e.n(_),m=e(67294),u=e(12320),c=e.n(u),E=e(89629),M=e(85893),h={convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,cursorStyle:"block",cursorBlink:!0,theme:{foreground:"#bfbfbf",cursor:"gray",selectionForeground:"#ffffff"}},v=new u.Terminal(h),a=new _.SearchAddon,P=new O.FitAddon,A=(0,m.forwardRef)(function(t,C){var B,o=(0,m.useState)(!0),I=r()(o,2),y=I[0],T=I[1];return(0,m.useEffect)(function(){return window.addEventListener("resize",function(){t.showInModal||P.fit()}),t.style&&t.style.fontSize&&(v.options.fontSize=t.style.fontSize),v.loadAddon(P),v.loadAddon(a),v.open(document.getElementById(t.id?t.id:"terminal-container")),t.showInModal||P.fit(),function(){v.reset(),T(!0)}},[]),(0,m.useImperativeHandle)(C,function(){return{write:function(f){y&&(P.fit(),T(!1)),v.write(f)},clear:function(){v.clear()},getTerminal:function(){return v},findNext:function(f){a.findNext(f)},findPrev:function(f){a.findPrevious(f)},fit:function(){P.fit()},onData:function(f){return v.onData(f)}}}),(0,M.jsx)("div",{id:t.id?t.id:"terminal-container",style:{width:t.width?t.width:"100%",height:t.height?t.height:"500px",marginTop:(B=t.style)===null||B===void 0?void 0:B.marginTop}})});D.Z=A},3616:function(Z,D,e){e.d(D,{Ed:function(){return d},FK:function(){return r},R_:function(){return F},ob:function(){return O}});var F=window.innerWidth<=1024?"90vw":"65vw",r="90vw",O="60vw",d="50vh"},24963:function(Z,D,e){var F=e(67294),r=(0,F.createContext)({});D.Z=r},77096:function(Z,D,e){e.r(D),e.d(D,{default:function(){return ae}});var F=e(15009),r=e.n(F),O=e(99289),d=e.n(O),_=e(5574),i=e.n(_),m=e(5966),u=e(85893);function c(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(m.Z,{fieldProps:{min:2,max:255},rules:[{required:!0}],required:!0,placeholder:"\u6307\u5B9AGit\u5730\u5740\uFF0C\u79C1\u6709\u4ED3\u5E93\u8BF7\u9644\u52A0\u6743\u9650\u3002\u4EC5\u652F\u6301Master\u5206\u652F",label:"Git\u4ED3\u5E93\u5730\u5740",name:"buildGit"})})}var E=e(34879),M=e(74344),h=e(67294),v=e(95089),a=e(62370),P=e(184),A=e(86615),t=e(97462),C=e(97961),B=e(28036),o=e(34041),I=e(3616);function y(U){var N=(0,h.useState)([]),K=i()(N,2),x=K[0],te=K[1];return(0,h.useEffect)(function(){(0,C.MF)().then(function(W){var b=Object.keys(W.data).map(function(H){return W.data[H]});te(b)})},[]),(0,u.jsx)(a.Z,{children:(0,u.jsxs)(P.a,{drawerProps:{width:I.R_},trigger:(0,u.jsx)(B.ZP,{block:!0,children:"\u4F7F\u7528\u6A21\u677F\u751F\u6210"}),onFinish:function(b){return new Promise(function(H,w){var k=b[b.language+"EnvVersion"].split("|"),q=i()(k,2),pe=q[0],ie=q[1],V="FROM ".concat(pe,`
# \u5E94\u7528\u76EE\u5F55\u4F4D\u4E8E /app
# \u53EF\u901A\u7BA1\u5BB9\u5668 - \u6587\u4EF6\u7BA1\u7406, \u4E0A\u4F20\u4EE3\u7801\u81F3\u6B64\u76EE\u5F55\u5E76\u4FEE\u6539\u6743\u9650

WORKDIR /app
VOLUME [ "/app" ]
EXPOSE 80

# \u81EA\u5B9A\u4E49\u5B89\u88C5\u7EC4\u4EF6\u3001\u6269\u5C55\u6216\u662F\u5E93, \u4F8B\u5982:
# RUN apk add --no-cache --update vim
`);switch(b.language){case"php":V+=`
                
# \u7AD9\u70B9\u76EE\u5F55\u4F4D\u4E8E /app/wwwroot \u53EF\u4E0A\u4F20\u6216\u662F\u4FEE\u6539\u7AD9\u70B9\u6587\u4EF6
# nginx \u914D\u7F6E\u4F4D\u4E8E /app/nginx/ \u53EF\u4FEE\u6539\u589E\u52A0\u81EA\u5B9A\u4E49\u914D\u7F6E
# \u901A\u8FC7\u8BBF\u95EE\u5BB9\u5668\u8FD0\u884C\u6620\u5C04\u7AEF\u53E3\uFF0C\u67E5\u770B\u73AF\u5883\u53CA\u6269\u5C55\u4FE1\u606F

`,b.language=="php"&&b.phpExt&&(V+="RUN apk add --no-cache --update ",b.phpExt.map(function(G){V+="php".concat(ie,"-").concat(G," ")}));break;case"golang":V+=`
# \u53EF\u4EE5\u4FEE\u6539 RUN_COMMAND \u73AF\u5883\u53D8\u91CF, \u66F4\u6539\u542F\u52A8\u6267\u884C\u547D\u4EE4
ENV RUN_COMMAND="go version"`;break;default:break}U.onFinish(V),H(!0)})},children:[(0,u.jsx)(A.Z.Group,{radioType:"button",name:"language",label:"\u7A0B\u5E8F\u8BED\u8A00",options:x.map(function(W){return{label:W.name,value:W.name}}),required:!0}),(0,u.jsx)(t.Z,{name:["language"],children:function(b){var H=b.language;return H?(0,u.jsx)(u.Fragment,{children:x.map(function(w){if(w.name==H)return(0,u.jsxs)("div",{children:[(0,u.jsx)(a.Z,{name:"".concat(w.name,"EnvVersion"),label:"\u73AF\u5883\u7248\u672C",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7A0B\u5E8F\u8FD0\u884C\u7684\u73AF\u5883"}],children:(0,u.jsx)(o.Z,{options:w.env.map(function(k){return{label:k.name,value:k.baseImage}}),placeholder:"\u8BF7\u9009\u62E9\u5177\u4F53\u7684\u73AF\u5883\u7248\u672C"},"".concat(w.name,"Select"))},w.name),w.name=="php"&&(0,u.jsx)(a.Z,{label:"php\u6269\u5C55",name:"phpExt",children:(0,u.jsx)(o.Z,{options:w.ext.map(function(k){return{label:k,value:k}}),mode:"multiple",placeholder:"\u8BF7\u9009\u62E9\u8981\u5B89\u88C5\u7684php\u6269\u5C55"},"phpExtSelect")},"phpExt")]},"envSelect")})}):(0,u.jsx)(u.Fragment,{})}})]})})}var T=e(12491);function p(U){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(T.Z,{title:"\u5BFC\u5165\u672C\u5730Dockerfile\u6587\u4EF6",onImport:function(K){var x;return(x=U.createFormRef.current)===null||x===void 0||x.setFieldValue("buildDockerfile",K),!0},onLoad:function(K){if(K.indexOf("FROM ")<0)throw new Error("\u5BFC\u5165Dockerfile\u6587\u4EF6\u9519\u8BEF");return!0}}),(0,u.jsx)(y,{onFinish:function(K){var x;(x=U.createFormRef.current)===null||x===void 0||x.setFieldValue("buildDockerfile",K)}}),(0,u.jsx)(a.Z,{shouldUpdate:!0,children:function(K){var x=K.getFieldValue;return(0,u.jsx)(a.Z,{name:"buildDockerfile",children:(0,u.jsx)(v.ZP,{value:x("buildDockerfile"),onChange:function(W){var b;(b=U.createFormRef.current)===null||b===void 0||b.setFieldValue("buildDockerfile",W)},height:"600px",theme:"dark",style:{marginBottom:"20px"}})})}})]})}var f=e(24963),s=e(18148),j=e(75870),g=e(38345),n=e(97269),z=e(64317),Q=e(90672),ee=e(82346),ue=e(42075),Y=e(83062),J=e(91845);function ae(){var U=(0,h.useContext)(f.Z),N=U.loading,K=U.message,x=(0,h.useRef)(),te=(0,h.useState)([]),W=i()(te,2),b=W[0],H=W[1],w=(0,ee.useSearchParams)(),k=i()(w,2),q=k[0],pe=k[1],ie=(0,h.useState)("dockerfile"),V=i()(ie,2),G=V[0],Ee=V[1],fe=(0,ee.useNavigate)(),se=(0,h.useRef)();return(0,h.useEffect)(function(){var S,L=(S=q.get("id"))!==null&&S!==void 0?S:0;L&&(N.show(),(0,s.T8)({id:parseInt(L)}).then(function(l){var R;Ee(l.data.task.buildType),(R=x.current)===null||R===void 0||R.setFieldsValue({title:l.data.task.title,imageTag:l.data.task.tag,imageRegistry:l.data.task.setting.registry,uploadType:l.data.task.buildType,buildRoot:l.data.task.setting.buildRoot,buildGit:l.data.task.setting.buildGit,buildDockerfile:l.data.task.setting.buildDockerfile,platform:l.data.task.setting.platform})}).finally(function(){N.destroy()}))},[]),(0,u.jsxs)(g.Z,{direction:"column",ghost:!0,gutter:[0,10],children:[(0,u.jsx)(g.Z,{bordered:!0,headerBordered:!0,children:(0,u.jsxs)(n.A,{submitter:{render:function(L,l){return(0,u.jsx)(ue.Z,{children:l})}},onFinish:function(){var S=d()(r()().mark(function L(l){var R,X,le,oe,de,re,ne,ce,me,he,_e;return r()().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(G!="containerTar"){$.next=8;break}return $.next=3,(0,C.vC)({tag:l.imageTag,registry:l.imageRegistry,tar:(R=l.containerTar[0].response.data.path)!==null&&R!==void 0?R:"",cmd:l.cmd,workDir:l.workDir,expose:l.expose?l.expose.split(`
`):[],env:l.env?l.env.split(`
`):[],volume:l.volume?l.volume.split(`
`):[]});case 3:return X=$.sent,fe("/image/list"),$.abrupt("return",!0);case 8:return de=(le=q.get("id"))!==null&&le!==void 0?le:"0",re=b&&b[0]?b[0].fileName:"",ne={name:"",arch:""},C.ii.map(function(ve){ve.name==l.platform&&(ne=ve)}),ce={id:parseInt(de),tag:l.imageTag,title:l.title,registry:l.imageRegistry,buildRoot:l.buildRoot,buildDockerfile:l.buildDockerfile,buildZip:re!=null?re:"",buildGit:l.buildGit,buildType:G,platform:ne.name,PlatformArch:ne.arch},l.buildZip&&l.buildZip.length>0&&(ce.buildZip=(me=l.buildZip[0].response.data.path)!==null&&me!==void 0?me:""),(oe=se.current)===null||oe===void 0||oe.start("build",de),$.next=17,(0,C.fN)(ce);case 17:if(he=$.sent,!he){$.next=22;break}return(_e=se.current)===null||_e===void 0||_e.reset(),fe("/image/list/recycle"),$.abrupt("return",!0);case 22:case"end":return $.stop()}},L)}));return function(L){return S.apply(this,arguments)}}(),formRef:x,children:[(0,u.jsx)(m.Z,{label:"\u4EFB\u52A1\u540D\u79F0",name:"title",fieldProps:{onChange:function(L){var l="";if(L.target.value){var R,X=(0,J.N9)(L.target.value.trim(),{toneType:"none",type:"array"});l=X.join(""),(R=x.current)===null||R===void 0||R.setFieldValue("imageTag",l)}}}}),(0,u.jsxs)(ue.Z.Compact,{children:[(0,u.jsx)(z.Z,{width:"md",label:"\u955C\u50CF\u4ED3\u5E93",tooltip:(0,u.jsxs)(u.Fragment,{children:["\u63A8\u9001\u524D\u8BF7\u4FDD\u8BC1\u4ED3\u5E93\u4E2D\u6709\u6307\u5B9A\u7684\u547D\u540D\u7A7A\u95F4, \u5982\u6CA1\u6709\u8BF7\u5148 ",(0,u.jsx)("a",{href:"",target:"_blank",children:"\u6DFB\u52A0\u4ED3\u5E93"})]}),name:"imageRegistry",request:d()(r()().mark(function S(){var L;return r()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,j.Ot)();case 2:return L=R.sent,R.abrupt("return",L.data.list.map(function(X){return{value:X.serverAddress,label:X.title+"("+X.serverAddress+")"}}));case 4:case"end":return R.stop()}},S)}))}),(0,u.jsx)(m.Z,{rules:[{required:!0}],width:"lg",required:!0,tooltip:"\u4F8B\u5982: name:tag\u3001namespace/name:tag\u3001registry/namespace/name:tag",placeholder:"\u53EA\u80FD\u4F7F\u7528\u5C0F\u5199\u82F1\u6587\u5B57\u7B26\u3001\u6570\u5B57\u3001_\u3001-\u3001",label:"\u955C\u50CFTag",name:"imageTag"})]}),(0,u.jsx)(A.Z.Group,{name:"uploadType",label:"\u6784\u5EFA\u65B9\u5F0F",initialValue:G,options:[{label:(0,u.jsx)(Y.Z,{title:"\u901A\u8FC7 Dockerfile \u6587\u4EF6\u5FEB\u901F\u6784\u5EFA\u955C\u50CF",children:"Dockerfile"}),value:"dockerfile"},{label:(0,u.jsx)(Y.Z,{title:"\u5C06 Dockerfile \u6587\u4EF6\u4E0E\u6784\u5EFA\u955C\u50CF\u7528\u5230\u7684\u8D44\u6E90\uFF0C\u901A\u8FC7\u4E0A\u4F20 Zip \u5305\u7684\u5F62\u5F0F\u6784\u5EFA\u955C\u50CF",children:"Zip\u5305"}),value:"zip"},{label:(0,u.jsx)(Y.Z,{title:"\u5C06 Dockerfile \u6587\u4EF6\u4E0E\u6784\u5EFA\u955C\u50CF\u7528\u5230\u7684\u8D44\u6E90\u653E\u7F6E\u5230 Git \u4ED3\u5E93\u4E2D\uFF0C\u53EF\u4EE5\u6301\u7EED\u6027\u7684\u6784\u5EFA\u955C\u50CF",children:"Git\u6E90\u7801\u4ED3\u5E93"}),value:"git"},{label:(0,u.jsx)(Y.Z,{title:"\u4E0A\u4F20\u5BB9\u5668\u5BFC\u51FA\u7684 Tar \u5305\uFF0C\u5E76\u81EA\u5B9A\u4E49\u53C2\u6570\u6784\u5EFA\u955C\u50CF\u3002\u5982\u679C\u4F60\u4E0D\u9700\u8981\u4FEE\u6539\u5BB9\u5668\u539F\u59CB\u914D\u7F6E\uFF0C\u53EF\u4EE5\u5728\u5BB9\u5668\u8BE6\u60C5\u9875\u4F7F\u7528\u3010\u5C06\u5BB9\u5668\u4FDD\u5B58\u4E3A\u955C\u50CF\u3011\u529F\u80FD",children:"\u5BFC\u5165\u5BB9\u5668Tar\u5305"}),value:"containerTar"}],fieldProps:{onChange:function(L){Ee(L.target.value)}}}),(0,u.jsx)(t.Z,{name:["uploadType"],children:function(L){var l=L.uploadType;if(l=="containerTar")return[(0,u.jsx)(m.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u5DE5\u4F5C\u76EE\u5F55\uFF0C\u4E00\u822C\u6307\u5411\u4EE3\u7801\u7684\u6240\u5728\u76EE\u5F55",label:"\u5DE5\u4F5C\u76EE\u5F55",name:"workDir",placeholder:"\u9ED8\u8BA4\u4E3A / \u76EE\u5F55"},"workDir"),(0,u.jsx)(m.Z,{required:!0,tooltip:"\u901A\u8FC7\u5BB9\u5668\u5BFC\u5165\u955C\u50CF\u65F6\uFF0C\u5FC5\u987B\u6307\u5B9A\u542F\u52A8\u547D\u4EE4\uFF0C\u5426\u5219\u518D\u521B\u5EFA\u65F6\u65E0\u6CD5\u542F\u52A8",rules:[{required:!0}],label:"CMD",name:"cmd"},"cmd"),(0,u.jsx)(Q.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u5BF9\u5916\u66B4\u9732\u7684\u7AEF\u53E3\uFF0C\u4E00\u884C\u6307\u5B9A\u4E00\u4E2A\u7AEF\u53E3",label:"\u66B4\u9732\u7AEF\u53E3",name:"expose",placeholder:`80 
9000`},"expose"),(0,u.jsx)(Q.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u9700\u8981\u914D\u7F6E\u7684\u73AF\u5883\u53D8\u91CF\uFF0C\u4E00\u884C\u6307\u5B9A\u4E00\u4E2A\u73AF\u5883\u53D8\u91CF",label:"\u73AF\u5883\u53D8\u91CF",name:"env",placeholder:`TEST_VALUE=123 
TEST_NO_VALUE=`},"env"),(0,u.jsx)(Q.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u9700\u8981\u6301\u4E45\u5316\u7684\u76EE\u5F55\uFF0C\u4E00\u884C\u6307\u5B9A\u4E00\u4E2A\u76EE\u5F55",label:"\u5B58\u50A8\u5377\u76EE\u5F55",name:"volume",placeholder:`/app 
/home`},"volume")];if(l=="zip"||l=="git")return(0,u.jsx)(m.Z,{name:"buildRoot",label:"Dockerfile\u6587\u4EF6\u4F4D\u7F6E",tooltip:"\u6307\u5B9ADockerfile\u6240\u5728\u7684\u76EE\u5F55",fieldProps:{addonBefore:"\u9ED8\u8BA4\u4EE5\u5305\u6216\u662F\u4ED3\u5E93\u76EE\u5F55\u5F00\u59CB\uFF08/\uFF09"},placeholder:"/Dockerfile"})}}),G=="zip"&&(0,u.jsx)(E.Z,{required:!0,label:"\u4E0A\u4F20\u6784\u5EFA\u5305 (\u53EA\u5141\u8BB8\u4E0A\u4F20 .zip \u6587\u4EF6\uFF0C\u4E14\u4E0E\u5305\u4E2D\u7684 Dockerfile \u6307\u5B9A\u7684\u76EE\u5F55\u4FDD\u6301\u4E00\u81F4)",name:"buildZip",accept:".zip"}),G=="containerTar"&&(0,u.jsx)(E.Z,{required:!0,label:"\u5BFC\u5165\u5BB9\u5668\u5305\uFF08\u53EA\u5141\u8BB8\u4E0A\u4F20 .tar \u6587\u4EF6\uFF0C\u901A\u8FC7\u5BFC\u51FA\u5BB9\u5668\u751F\u6210\uFF09",name:"containerTar",accept:".tar"}),G=="git"&&(0,u.jsx)(c,{}),G=="dockerfile"&&(0,u.jsx)(p,{createFormRef:x})]})}),(0,u.jsx)(M.Z,{ref:se})]})}},97961:function(Z,D,e){e.d(D,{GH:function(){return M},MF:function(){return P},_2:function(){return v},fN:function(){return m},ii:function(){return i},vC:function(){return c}});var F=e(15009),r=e.n(F),O=e(99289),d=e.n(O),_=e(82346),i=[{name:"amd64",arch:"amd64",search:["amd64","x86_64","86_64"]},{name:"arm64",arch:"arm64",search:["arm64","arrch64"]},{name:"i386",arch:"386",search:[]},{name:"arm/v6",arch:"arm",search:[]},{name:"arm/v7",arch:"arm",search:[]},{name:"arm/v8",arch:"arm64",search:[]},{name:"ppc64le",arch:"ppc64le",search:[]},{name:"riscv64",arch:"riscv64",search:[]}];function m(t){return u.apply(this,arguments)}function u(){return u=d()(r()().mark(function t(C){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,_.request)("/api/app/image/create-by-dockerfile",{method:"POST",data:C}));case 1:case"end":return o.stop()}},t)})),u.apply(this,arguments)}function c(t){return E.apply(this,arguments)}function E(){return E=d()(r()().mark(function t(C){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,_.request)("/api/app/image/import-by-container-tar",{method:"POST",data:C}));case 1:case"end":return o.stop()}},t)})),E.apply(this,arguments)}function M(t){return h.apply(this,arguments)}function h(){return h=d()(r()().mark(function t(C){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,_.request)("/api/app/image/import-by-image-tar",{method:"POST",data:C}));case 1:case"end":return o.stop()}},t)})),h.apply(this,arguments)}function v(t){return a.apply(this,arguments)}function a(){return a=d()(r()().mark(function t(C){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,_.request)("/api/common/attach/delete",{method:"POST",data:C});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},t)})),a.apply(this,arguments)}function P(){return A.apply(this,arguments)}function A(){return A=d()(r()().mark(function t(){return r()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.abrupt("return",(0,_.request)("/api/app/image/get-template-list",{method:"POST"}));case 1:case"end":return B.stop()}},t)})),A.apply(this,arguments)}},18148:function(Z,D,e){e.d(D,{$q:function(){return a},Fj:function(){return y},KG:function(){return i},KX:function(){return p},T8:function(){return h},Xn:function(){return E},ao:function(){return A},c5:function(){return o},c7:function(){return C}});var F=e(15009),r=e.n(F),O=e(99289),d=e.n(O),_=e(82346);function i(s){return m.apply(this,arguments)}function m(){return m=d()(r()().mark(function s(j){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,_.request)("/api/app/image/get-list",{method:"POST",data:j}));case 1:case"end":return n.stop()}},s)})),m.apply(this,arguments)}function u(s){return c.apply(this,arguments)}function c(){return c=_asyncToGenerator(_regeneratorRuntime().mark(function s(j){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,request("/api/app/log/image-build",{method:"POST",data:j});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},s)})),c.apply(this,arguments)}function E(s){return M.apply(this,arguments)}function M(){return M=d()(r()().mark(function s(j){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,_.request)("/api/app/image/get-list-build",{method:"POST",data:j}));case 1:case"end":return n.stop()}},s)})),M.apply(this,arguments)}function h(s){return v.apply(this,arguments)}function v(){return v=d()(r()().mark(function s(j){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,_.request)("/api/app/image/get-build-task",{method:"POST",data:j});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},s)})),v.apply(this,arguments)}function a(s){return P.apply(this,arguments)}function P(){return P=d()(r()().mark(function s(j){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,_.request)("/api/app/image/delete-build-task",{method:"POST",data:j});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},s)})),P.apply(this,arguments)}function A(s){return t.apply(this,arguments)}function t(){return t=d()(r()().mark(function s(j){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,_.request)("/api/app/image/image-delete",{method:"POST",data:j});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},s)})),t.apply(this,arguments)}function C(){return B.apply(this,arguments)}function B(){return B=d()(r()().mark(function s(){return r()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,_.request)("/api/app/image/image-prune",{method:"POST"});case 2:return g.abrupt("return",g.sent);case 3:case"end":return g.stop()}},s)})),B.apply(this,arguments)}function o(){return I.apply(this,arguments)}function I(){return I=d()(r()().mark(function s(){return r()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,_.request)("/api/app/image/build-prune",{method:"POST"});case 2:return g.abrupt("return",g.sent);case 3:case"end":return g.stop()}},s)})),I.apply(this,arguments)}function y(s){return T.apply(this,arguments)}function T(){return T=d()(r()().mark(function s(j){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,_.request)("/api/app/image/update-title",{method:"POST",data:j});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},s)})),T.apply(this,arguments)}function p(s){return f.apply(this,arguments)}function f(){return f=d()(r()().mark(function s(j){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,_.request)("/api/app/image/tag-sync",{method:"POST",data:j}));case 1:case"end":return n.stop()}},s)})),f.apply(this,arguments)}},75870:function(Z,D,e){e.d(D,{Ot:function(){return i},ZH:function(){return u},ix:function(){return E},t1:function(){return h}});var F=e(15009),r=e.n(F),O=e(99289),d=e.n(O),_=e(82346);function i(a){return m.apply(this,arguments)}function m(){return m=d()(r()().mark(function a(P){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,_.request)("/api/common/registry/get-list",{method:"POST",data:P}));case 1:case"end":return t.stop()}},a)})),m.apply(this,arguments)}function u(a){return c.apply(this,arguments)}function c(){return c=d()(r()().mark(function a(P){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,_.request)("/api/common/registry/create",{method:"POST",data:P}));case 1:case"end":return t.stop()}},a)})),c.apply(this,arguments)}function E(a){return M.apply(this,arguments)}function M(){return M=d()(r()().mark(function a(P){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,_.request)("/api/common/registry/delete",{method:"POST",data:P}));case 1:case"end":return t.stop()}},a)})),M.apply(this,arguments)}function h(a){return v.apply(this,arguments)}function v(){return v=d()(r()().mark(function a(P){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,_.request)("/api/common/registry/get-detail",{method:"POST",data:P}));case 1:case"end":return t.stop()}},a)})),v.apply(this,arguments)}}}]);
