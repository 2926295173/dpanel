"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[236],{80821:function(Z,h,n){n.d(h,{Z:function(){return y}});var D=n(97857),c=n.n(D),v=n(5574),o=n.n(v),I=n(24963),P=n(36146),x=n(86738),g=n(83062),j=n(28036),i=n(67294),C=n(85893);function y(a){var p=(0,i.useState)(!1),W=o()(p,2),b=W[0],l=W[1],O=(0,i.useContext)(I.Z),t=O.message,R=new P.Uo,m=function(){l(!0);var T=a.action();T instanceof Promise?T.then(function(A){if(l(!1),A){typeof a.onSuccess=="function"&&a.onSuccess(A);var d="";a.messageSuccess?typeof a.messageSuccess=="function"?d=a.messageSuccess(A):d=a.messageSuccess.indexOf("notification.")==0?R.format(a.messageSuccess):a.messageSuccess:d=R.format("notification.finish"),a.asynced?t.info(d):t.success(d)}}).catch(function(A){l(!1),typeof a.onError=="function"&&a.onError(A)}):l(!1)};return a.confirm?(0,C.jsx)(x.Z,c()(c()({style:{width:500},title:a.confirmTitle?a.confirmTitle:R.format("notification.title.tip"),description:typeof a.confirm=="string"&&a.confirm.indexOf("notification.")==0?R.format(a.confirm):a.confirm,onConfirm:m,okText:"Yes",cancelText:"No",onOpenChange:a.confirmOnOpenChange},a.confirmProps),{},{children:(0,C.jsx)(g.Z,{title:a.tips,children:(0,C.jsx)(j.ZP,{block:a.block,disabled:a.disabled,icon:!a.children&&b?void 0:a.icon,loading:b,danger:a.danger,type:a.type,children:a.children})})})):(0,C.jsx)(g.Z,{title:a.tips,children:(0,C.jsx)(j.ZP,{block:a.block,style:a.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:a.disabled,icon:!a.children&&b?void 0:a.icon,loading:b,onClick:m,danger:a.danger,type:a.type,children:a.children})})}},55943:function(Z,h,n){var D=n(5574),c=n.n(D),v=n(15009),o=n.n(v),I=n(99289),P=n.n(I),x=n(80821),g=n(3616),j=n(14946),i=n(36146),C=n(48689),y=n(184),a=n(38345),p=n(60940),W=n(42075),b=n(96074),l=n(26412),O=n(67294),t=n(85893),R=(0,O.forwardRef)(function(m,w){(0,O.useImperativeHandle)(w,function(){return{show:function(S){return P()(o()().mark(function K(){var U,N;return o()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,j.IS)({name:S});case 2:U=M.sent,U.data.info.Containers?(N=[],Object.keys(U.data.info.Containers).map(function(V){U.data.info.Containers[V].Id=V,N.push(U.data.info.Containers[V])}),G(N)):G([]),_(U.data.info),u(!0);case 6:case"end":return M.stop()}},K)}))()}}});var T=(0,O.useState)(!1),A=c()(T,2),d=A[0],u=A[1],r=(0,O.useState)(),f=c()(r,2),e=f[0],_=f[1],$=(0,O.useState)(),E=c()($,2),F=E[0],G=E[1],L=new i.Uo("components.network");return(0,t.jsx)(y.a,{drawerProps:{width:g.R_},title:L.format("detailTitle"),open:d,onOpenChange:function(S){u(S)},submitter:!1,children:(0,t.jsxs)(a.Z,{ghost:!0,direction:"column",gutter:[10,0],children:[(0,t.jsx)(a.Z,{title:L.format("detailContainer"),ghost:!0,children:(0,t.jsx)(p.Z,{rowKey:"Name",columns:[{title:i.FD.format("listContainerName"),dataIndex:"Name"},{title:"IPV4",dataIndex:"IPv4Address"},{title:"IPV6",dataIndex:"IPv6Address"},{title:"MacAddress",dataIndex:"MacAddress"},{title:i.FD.format("listManage"),render:function(S,K,U){return(0,t.jsx)(W.Z,{split:(0,t.jsx)(b.Z,{type:"vertical"}),children:(0,t.jsx)(x.Z,{type:"text",action:function(){var B,M;return(0,j.t9)({name:(B=e==null?void 0:e.Id)!==null&&B!==void 0?B:"",containerName:(M=K.Id)!==null&&M!==void 0?M:""})},tips:i.FD.format("listManageExit"),onSuccess:function(){var B=F==null?void 0:F.filter(function(M){return M.Id!=K.Id});G(B)},children:(0,t.jsx)(C.Z,{})},"delete")})}}],dataSource:F,pagination:!1})}),(0,t.jsx)(a.Z,{ghost:!0,title:L.format("detailBasic"),children:(0,t.jsxs)(l.Z,{labelStyle:{width:"180px"},column:1,bordered:!0,children:[(0,t.jsx)(l.Z.Item,{label:L.format("detailName"),children:e==null?void 0:e.Name}),(0,t.jsx)(l.Z.Item,{label:"Id",children:e==null?void 0:e.Id}),(0,t.jsx)(l.Z.Item,{label:"Driver",children:e==null?void 0:e.Driver}),(0,t.jsx)(l.Z.Item,{label:"Scope",children:e==null?void 0:e.Scope}),(0,t.jsx)(l.Z.Item,{label:"Attachable",children:L.yesNo(e==null?void 0:e.Attachable)}),(0,t.jsx)(l.Z.Item,{label:"Internal",children:L.yesNo(e==null?void 0:e.Internal)}),(e==null?void 0:e.IPAM.Config)&&(e==null?void 0:e.IPAM.Config.map(function(s,S){return(0,t.jsx)(l.Z.Item,{label:s.Gateway&&s.Gateway.includes(":")?"IPV6":"IPV4",children:(0,t.jsxs)(l.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:[(0,t.jsx)(l.Z.Item,{label:"Subnet",children:s.Subnet}),(0,t.jsx)(l.Z.Item,{label:"Gateway",children:s.Gateway}),(0,t.jsx)(l.Z.Item,{label:"IP Range ",children:s.IPRange}),(0,t.jsx)(l.Z.Item,{label:"Excluded IPs",children:s.AuxiliaryAddresses&&Object.keys(s.AuxiliaryAddresses).map(function(K){return s.AuxiliaryAddresses[K]+" ,"})})]})},S)})),(e==null?void 0:e.Options)&&Object.keys(e==null?void 0:e.Options).length>0&&(0,t.jsx)(l.Z.Item,{label:"Options",children:(0,t.jsx)(l.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Options).map(function(s){return(0,t.jsx)(l.Z.Item,{label:s,children:e.Options[s]},s)})})}),(e==null?void 0:e.Labels)&&Object.keys(e==null?void 0:e.Labels).length>0&&(0,t.jsx)(l.Z.Item,{label:"Lables",children:(0,t.jsx)(l.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Labels).map(function(s){return(0,t.jsx)(l.Z.Item,{label:s,children:e.Labels[s]},s)})})})]})})]})})});h.Z=R},3616:function(Z,h,n){n.d(h,{Ed:function(){return o},FK:function(){return c},R_:function(){return D},ob:function(){return v}});var D=window.innerWidth<=1024?"90vw":"65vw",c="90vw",v="60vw",o="50vh"},24963:function(Z,h,n){var D=n(67294),c=(0,D.createContext)({});h.Z=c},6005:function(Z,h,n){n.r(h),n.d(h,{default:function(){return R}});var D=n(15009),c=n.n(D),v=n(99289),o=n.n(v),I=n(1699),P=n(80821),x=n(16970),g=n(55943),j=n(14946),i=n(36146),C=n(67255),y=n(90078),a=n(78099),p=n(82346),W=n(25593),b=n(66309),l=n(42075),O=n(67294),t=n(85893);function R(){var m=(0,O.useRef)(),w=(0,O.useRef)(),T=(0,p.useAccess)(),A=new i.Uo("docker");return(0,t.jsxs)(y._z,{header:{extra:[(0,t.jsx)(I.u,{access:"canSeeDockerNetworkManage",children:(0,t.jsx)(x.Z,{onFinish:function(){var u,r;!((u=m.current)===null||u===void 0)&&u.reloadAndRest&&((r=m.current)===null||r===void 0||r.reloadAndRest())}},"create")},"create")]},children:[(0,t.jsx)(g.Z,{ref:w}),(0,t.jsx)(a.Z,{scroll:{x:"max-content"},rowKey:"Name",columns:[{title:i.FD.format("listTitle"),ellipsis:!0,dataIndex:"Name",render:function(u,r,f,e,_){return(0,t.jsx)(W.Z.Link,{onClick:function(){var E;(E=w.current)===null||E===void 0||E.show(r.Name)},children:r.Name})}},{title:i.FD.format("listType"),width:100,render:function(u,r,f,e,_){return(r.Name=="none"||r.Name=="bridge"||r.Name=="host")&&(0,t.jsx)(b.Z,{color:"blue",children:"System"})}},{title:i.FD.format("listDriver"),ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",ellipsis:!0,width:150,search:!1,render:function(u,r,f,e,_){return r.IPAM.Config&&r.IPAM.Config[0]?(0,t.jsxs)(l.Z,{direction:"vertical",children:[(0,t.jsx)("div",{children:r.IPAM.Config&&r.IPAM.Config[0].Subnet}),(0,t.jsx)("div",{children:r.IPAM.Config&&r.IPAM.Config[0].Gateway})]}):"-"}},{title:"IPV6",ellipsis:!0,width:150,search:!1,render:function(u,r,f,e,_){return r.IPAM.Config&&r.IPAM.Config[1]?(0,t.jsxs)(l.Z,{direction:"vertical",children:[(0,t.jsx)("div",{children:r.IPAM.Config&&r.IPAM.Config[1].Subnet}),(0,t.jsx)("div",{children:r.IPAM.Config&&r.IPAM.Config[1].Gateway})]}):"-"}},{title:i.FD.format("listCreatedAt"),ellipsis:!0,width:180,search:!1,dataIndex:"Created",render:function(u,r,f,e,_){return new Date(r.Created).toLocaleString()}}],request:function(){var d=o()(c()().mark(function u(r,f,e){var _;return c()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,j.jR)({name:r.Name});case 2:return _=E.sent,E.abrupt("return",{data:_.data.list,success:!0,total:_.data.list.length});case 4:case"end":return E.stop()}},u)}));return function(u,r,f){return d.apply(this,arguments)}}(),rowSelection:T.canSeeDockerNetworkManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,actionRef:m,tableAlertOptionRender:function(u){var r=u.selectedRowKeys;return(0,t.jsxs)(l.Z,{size:16,children:[(0,t.jsx)(P.Z,{danger:!0,type:"primary",action:function(){return(0,j._x)({name:r})},onSuccess:function(){var e,_;return!((e=m.current)===null||e===void 0)&&e.reloadAndRest&&((_=m.current)===null||_===void 0||_.reloadAndRest()),!0},onError:function(){var e,_;return!((e=m.current)===null||e===void 0)&&e.reset&&((_=m.current)===null||_===void 0||_.reset()),!0},confirm:"notification.confirm.title",children:i.FD.format("listManageDeleteBatch")},"delete"),(0,t.jsx)(P.Z,{action:function(){return(0,j.CI)()},onSuccess:function(){var e,_;return!((e=m.current)===null||e===void 0)&&e.reloadAndRest&&((_=m.current)===null||_===void 0||_.reloadAndRest()),!0},onError:function(){var e,_;return!((e=m.current)===null||e===void 0)&&e.reset&&((_=m.current)===null||_===void 0||_.reset()),!0},tips:i.FD.format("listManagePruneTip"),confirm:"notification.confirm.title",children:i.FD.format("listManagePrune")},"clearNotUse")]})},pagination:(0,C.O)()})]})}},67255:function(Z,h,n){n.d(h,{O:function(){return D},j:function(){return c}});function D(v){var o=localStorage.getItem("dpanel-pagesize");return o=="all"?!1:{defaultCurrent:v==null?void 0:v.page,showSizeChanger:!0,defaultPageSize:parseInt(o!=null?o:"20"),onChange:function(P,x){localStorage.setItem("dpanel-page-"+location.pathname.split("/").slice(-2).join("-"),"".concat(P))}}}function c(v){var o="dpanel-table-column-".concat(v),I={};if(localStorage.getItem(o)){var P;I=JSON.parse((P=localStorage.getItem(o))!==null&&P!==void 0?P:"{}")}return{defaultValue:I,onChange:function(g){localStorage.setItem("dpanel-table-column-".concat(v),JSON.stringify(g))}}}}}]);
