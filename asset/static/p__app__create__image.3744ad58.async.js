"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3985],{85060:function(de,V,n){n.d(V,{Z:function(){return f}});var b=n(87462),i=n(67294),G={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"},g=G,A=n(84089),B=function(y,l){return i.createElement(A.Z,(0,b.Z)({},y,{ref:l,icon:g}))},x=i.forwardRef(B),f=x},2741:function(de,V,n){n.d(V,{Z:function(){return f}});var b=n(87462),i=n(67294),G={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z"}}]},name:"file",theme:"filled"},g=G,A=n(84089),B=function(y,l){return i.createElement(A.Z,(0,b.Z)({},y,{ref:l,icon:g}))},x=i.forwardRef(B),f=x},93613:function(de,V,n){n.d(V,{Z:function(){return f}});var b=n(87462),i=n(67294),G={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32z"}}]},name:"folder",theme:"filled"},g=G,A=n(84089),B=function(y,l){return i.createElement(A.Z,(0,b.Z)({},y,{ref:l,icon:g}))},x=i.forwardRef(B),f=x},27254:function(de,V,n){n.d(V,{Z:function(){return f}});var b=n(87462),i=n(67294),G={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zm-180 0H238c-13 0-24.8 7.9-29.7 20L136 643.2V256h188.5l119.6 114.4H748V444z"}}]},name:"folder-open",theme:"filled"},g=G,A=n(84089),B=function(y,l){return i.createElement(A.Z,(0,b.Z)({},y,{ref:l,icon:g}))},x=i.forwardRef(B),f=x},63434:function(de,V,n){var b=n(1413),i=n(45987),G=n(22270),g=n(84567),A=n(67294),B=n(90789),x=n(35510),f=n(85893),M=["options","fieldProps","proFieldProps","valueEnum"],y=A.forwardRef(function(O,ne){var s=O.options,t=O.fieldProps,q=O.proFieldProps,ue=O.valueEnum,D=(0,i.Z)(O,M);return(0,f.jsx)(x.Z,(0,b.Z)({ref:ne,valueType:"checkbox",valueEnum:(0,G.h)(ue,void 0),fieldProps:(0,b.Z)({options:s},t),lightProps:(0,b.Z)({labelFormatter:function(){return(0,f.jsx)(x.Z,(0,b.Z)({ref:ne,valueType:"checkbox",mode:"read",valueEnum:(0,G.h)(ue,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,b.Z)({options:s},t),proFieldProps:q},D))}},D.lightProps),proFieldProps:q},D))}),l=A.forwardRef(function(O,ne){var s=O.fieldProps,t=O.children;return(0,f.jsx)(g.Z,(0,b.Z)((0,b.Z)({ref:ne},s),{},{children:t}))}),k=(0,B.G)(l,{valuePropName:"checked"}),T=k;T.Group=y,V.Z=T},91058:function(de,V,n){var b=n(19632),i=n.n(b),G=n(97857),g=n.n(G),A=n(5574),B=n.n(A),x=n(89035),f=n(64317),M=n(5966),y=n(38345),l=n(17186),k=n(24739),T=n(42075),O=n(28036),ne=n(85576),s=n(67294),t=n(95089),q=n(12491),ue=n(62597),D=n(79245),re=n(3616),p=n(85893),oe="docker-image",ce=(0,s.forwardRef)(function(K,le){var ie=(0,s.useState)(oe),I=B()(ie,2),Ee=I[0],pe=I[1],J=(0,s.useRef)(),Oe=(0,s.useState)(""),_e=B()(Oe,2),we=_e[0],Se=_e[1],ye=function(){Ee!="code"?pe("code"):pe(oe)};(0,s.useImperativeHandle)(le,function(){return{addEnvItem:function(L,ae){var Y,te=(Y=J.current)===null||Y===void 0?void 0:Y.getList(),he=!1;if(te==null||te.map(function(ge){if(ge.name==L){he=!0;return}}),!he){var me;(me=J.current)===null||me===void 0||me.add({name:L,value:ae})}},clear:function(){var L;(L=J.current)===null||L===void 0||(L=L.getList())===null||L===void 0||L.map(function(ae,Y){var te;(te=J.current)===null||te===void 0||te.remove(Y)})}}});function Re(U){try{var L,ae;U==""&&(U=e());for(var Y=(L=(ae=J.current)===null||ae===void 0||(ae=ae.getList())===null||ae===void 0?void 0:ae.length)!==null&&L!==void 0?L:0,te=Y;te>=0;te--){var he;(he=J.current)===null||he===void 0||he.remove(te)}var me=U.split(`
`),ge=0;me.map(function(Ae){var xe,Me=Ae.split("=");Me.length<2||((xe=J.current)===null||xe===void 0||xe.add({name:Me[0],value:Me.slice(1).join("=")},ge),ge++)})}catch(Ae){console.log(Ae)}}function e(){if(J&&J.current&&J.current.getList){var U,L=(U=J.current)===null||U===void 0?void 0:U.getList();if(L){var ae=[];return L.map(function(Y){ae.push("".concat(Y.name,"=").concat(Y.value))}),ae.join(`
`)}else return""}else return""}function Ue(U){var L,ae,Y,te,he={},me={help:U&&U.label?U.label:"",name:"value",label:"\u53D8\u91CF\u503C",rules:[{required:K.requireValue?!0:(0,D.y)((L=U.rule)===null||L===void 0?void 0:L.kind,ue.fp.EnvValueRuleRequired)}],disabled:K.showDisableValue||(0,D.y)((ae=U.rule)===null||ae===void 0?void 0:ae.kind,ue.fp.EnvValueRuleDisabled)};if((0,D.y)((Y=U.rule)===null||Y===void 0?void 0:Y.kind,ue.fp.EnvValueTypeSelect)){var ge;return(0,p.jsx)(f.Z,g()(g()({fieldProps:he},me),{},{width:K.showInDrawer?"sm":"md",options:((ge=U.rule)===null||ge===void 0?void 0:ge.option)&&U.rule.option.map(function(Ae){return{label:Ae.name,value:Ae.value}}),initialValue:U.value}))}else return(0,D.y)((te=U.rule)===null||te===void 0?void 0:te.kind,ue.fp.EnvValueTypeNumber)?(0,p.jsx)(M.Z,g()(g()({fieldProps:he},me),{},{width:K.showInDrawer?"sm":"md",rules:[].concat(i()(me.rules),[{pattern:new RegExp("^[0-9]*$")}]),help:me.help+",\u6570\u503C\u7C7B\u578B"})):(0,p.jsx)(M.Z,g()(g()({fieldProps:he},me),{},{width:K.showInDrawer?"sm":"md"}))}return(0,p.jsxs)(y.Z,{ghost:K.showCardGhost,title:K.label?K.label:null,headerBordered:!0,extra:(K.showCodeMode||K.showImportButton)&&(0,p.jsxs)(T.Z,{children:[K.showImportButton&&(0,p.jsx)("div",{style:{marginBottom:"-25px"},children:(0,p.jsx)(q.Z,{title:"\u5BFC\u5165 env \u6587\u4EF6",onImport:function(L){return Re(L),!0},onLoad:function(L){if(L.indexOf("=")<0)throw new Error("\u5BFC\u5165env\u6587\u4EF6\u9519\u8BEF");return!0}})}),K.showCodeMode?(0,p.jsx)(O.ZP,{icon:(0,p.jsx)(x.Z,{}),type:Ee=="code"?"primary":"default",onClick:ye,children:"\u4EE3\u7801\u6A21\u5F0F"},"code"):""]}),children:[(0,p.jsx)(l.u,{name:K.name?K.name:"environment",actionRef:J,creatorButtonProps:K.showAddButton?{creatorButtonText:"\u6DFB\u52A0\u5BB9\u5668\u73AF\u5883\u53D8\u91CF"}:!1,copyIconProps:!1,deleteIconProps:K.showDeleteButton,min:100,label:K.listLabel,children:function(L,ae,Y){var te=Y.getCurrentRowData();return(0,p.jsxs)(k.UW,{style:{marginBottom:"5px"},children:[(0,p.jsx)(M.Z,{width:K.showInDrawer?"sm":"md",name:"name",label:"\u53D8\u91CF\u540D",required:!0,rules:[{required:!0}],disabled:K.showDisableName,placeholder:"\u8F93\u5165\u53D8\u91CF\u540D\u79F0"}),Ue(te)]})}}),K.showCodeMode&&(0,p.jsx)(ne.Z,{width:re.ob,open:Ee=="code",onCancel:function(){return pe("docker-image")},onOk:function(){Re(we),pe("docker-image")},children:(0,p.jsx)(t.ZP,{onChange:function(L){return Se(L)},value:e(),height:re.Ed,theme:"dark"})})]})});V.Z=ce},92067:function(de,V,n){n.d(V,{Z:function(){return T}});var b=n(15009),i=n.n(b),G=n(99289),g=n.n(G),A=n(60335),B=n(64789),x=n(41482),f=n(42075),M=n(28036),y=n(37413),l=n(5251),k=n(85893);function T(O){return(0,k.jsx)(x.Z,{columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"name",render:function(s,t,q,ue){return(0,k.jsx)(f.Z,{direction:"vertical",style:{textAlign:"left"},children:t==null?void 0:t.Names.map(function(D){return(0,l.fi)(D,"/")})},t.Id)}},{title:"\u7AEF\u53E3",dataIndex:"ports",search:!1,render:function(s,t,q,ue){var D=[],re=[];return t!=null&&t.Ports&&t.Ports.map(function(p,oe){p.PublicPort?D.push(p):re.push(p)}),(0,k.jsx)(y.Z,{publicPort:D,privatePort:re,domain:[]})}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",ellipsis:!0,width:100,render:function(s,t,q,ue){return[(0,k.jsx)(M.ZP,{type:"link",onClick:g()(i()().mark(function D(){var re;return i()().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.next=2,(0,A.jV)({md5:t.Id});case 2:re=oe.sent,O.onSelect&&O.onSelect(re.data.info);case 4:case"end":return oe.stop()}},D)})),children:(0,k.jsx)(B.Z,{})},t.Id)]}}],rowKey:"Id",request:function(){var ne=g()(i()().mark(function s(t,q,ue){var D;return i()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,A.IE)({siteTitle:t.name});case 2:return D=p.sent,p.abrupt("return",{data:D.data.list,success:!0,total:D.data.list.length});case 4:case"end":return p.stop()}},s)}));return function(s,t,q){return ne.apply(this,arguments)}}(),pagination:{pageSize:9}})}},52255:function(de,V,n){n.d(V,{Z:function(){return G}});var b=n(67294),i=n(85893);function G(g){return(0,i.jsx)("div",{style:{display:g.show?"block":"none"},children:g.children})}},12491:function(de,V,n){n.d(V,{Z:function(){return f}});var b=n(24963),i=n(88484),G=n(62370),g=n(31418),A=n(28036),B=n(67294),x=n(85893);function f(M){var y=(0,B.useContext)(b.Z),l=y.message,k=y.notice,T=y.lang,O=(0,B.useRef)(null),ne=g.Z.useApp(),s=function(){O.current&&(O.current.click(),O.current.onchange=function(q){if(!q||!q.target)return"";var ue=new FileReader;ue.onload=function(re){var p,oe,ce=(p=re.target)===null||p===void 0?void 0:p.result;if(M.onLoad)try{M.onLoad&&M.onLoad(ce)}catch(K){k.error(K);return}typeof M.onImport=="function"&&(l.success("\u6210\u529F\u5BFC\u5165 ".concat(M.title)),M.onImport(ce)),(oe=O.current)!==null&&oe!==void 0&&oe.value&&(O.current.value="")};var D=q.target;if(D.files)try{ue.readAsText(D.files[0])}catch(re){k.error("\u5BFC\u5165\u6587\u4EF6\u5FC5\u987B\u662F\u6587\u672C\u7C7B\u578B")}})};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(G.Z,{children:(0,x.jsx)(A.ZP,{icon:(0,x.jsx)(i.Z,{}),block:!0,onClick:s,children:M.title})}),(0,x.jsx)("input",{style:{display:"none"},type:"file",ref:O,name:"importFileInput"})]})}},46442:function(de,V,n){var b=n(15009),i=n.n(b),G=n(99289),g=n.n(G),A=n(5574),B=n.n(A),x=n(67294),f=n(14946),M=n(64789),y=n(41482),l=n(28036),k=n(85265),T=n(42075),O=n(66309),ne=n(28230),s=n(3616),t=n(85893),q=(0,x.forwardRef)(function(ue,D){(0,x.useImperativeHandle)(D,function(){return{show:function(){ce(!0)}}});var re=(0,x.useState)(!1),p=B()(re,2),oe=p[0],ce=p[1],K=(0,x.useRef)();return(0,t.jsxs)(t.Fragment,{children:[ue.showTriggerButton&&(0,t.jsx)(l.ZP,{onClick:function(){ce(!0)},children:"\u52A0\u5165\u7F51\u7EDC"}),(0,t.jsx)(k.Z,{title:"\u9009\u62E9\u7F51\u7EDC",width:s.R_,footer:!1,open:oe,onClose:function(){return ce(!1)},extra:(0,t.jsx)(T.Z,{children:(0,t.jsx)(ne.Z,{onFinish:function(){var ie,I;!((ie=K.current)===null||ie===void 0)&&ie.reloadAndRest&&((I=K.current)===null||I===void 0||I.reloadAndRest())}},"create")}),children:(0,t.jsx)(y.Z,{rowKey:"Name",actionRef:K,columns:[{title:"\u540D\u79F0",dataIndex:"Name",render:function(ie,I,Ee,pe,J){return I.Name=="none"||I.Name=="bridge"||I.Name=="host"?(0,t.jsxs)(t.Fragment,{children:[I.Name," ",(0,t.jsx)(O.Z,{color:"blue",children:"System"})]}):(0,t.jsx)(t.Fragment,{children:ie})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"Driver",ellipsis:!0,width:100,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",search:!1,width:120,render:function(ie,I,Ee,pe,J){return I.IPAM.Config&&I.IPAM.Config[0]&&(0,t.jsxs)(T.Z,{direction:"vertical",children:[I.IPAM.Config[0].Subnet,I.IPAM.Config[0].Gateway]})}},{title:"IPV6",search:!1,render:function(ie,I,Ee,pe,J){return I.IPAM.Config&&I.IPAM.Config[1]&&(0,t.jsxs)(T.Z,{direction:"vertical",children:[I.IPAM.Config[1].Subnet,I.IPAM.Config[1].Gateway]})}},{title:"\u64CD\u4F5C",width:100,search:!1,render:function(ie,I,Ee,pe,J){return[I.Name!="none"&&I.Name!="bridge"&&I.Name!="host"&&(0,t.jsx)(l.ZP,{type:"link",onClick:function(){ue.onSelect(I),ce(!1)},children:(0,t.jsx)(M.Z,{})},I.Id)]}}],request:function(){var le=g()(i()().mark(function ie(I,Ee,pe){var J;return i()().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return _e.next=2,(0,f.jR)({name:I.Name});case 2:return J=_e.sent,_e.abrupt("return",{data:J.data.list,success:!0,total:J.data.list.length});case 4:case"end":return _e.stop()}},ie)}));return function(ie,I,Ee){return le.apply(this,arguments)}}(),pagination:{pageSize:10}})})]})});V.Z=q},35880:function(de,V,n){var b=n(67294),i=(0,b.createContext)({});V.Z=i},57841:function(de,V,n){n.r(V),n.d(V,{default:function(){return Bn}});var b=n(15009),i=n.n(b),G=n(99289),g=n.n(G),A=n(5574),B=n.n(A),x=n(90078),f=n(38345),M=n(97269),y=n(2236),l=n(5966),k=n(24739),T=n(97462),O=n(30291),ne=n(92398),s=n(38925),t=n(67294),q=n(35880),ue=n(41482),D=n(62370),re=n(85265),p=n(42075),oe=n(96074),ce=n(28036),K=n(83062),le=n(3393),ie=n(18148),I=n(5251),Ee=n(64789),pe=n(85060),J=n(28307),Oe=n(78451),_e=n(99861),we=n(80821),Se=n(1699),ye=n(80271),Re=n(3616),e=n(85893);function Ue(m){var $=(0,t.useState)(!1),Z=B()($,2),H=Z[0],_=Z[1],j=(0,t.useRef)(),c=(0,t.useContext)(q.Z),h=c.createFormRef,P=c.volumeListRef,N=c.createEnvRef,d=c.domainRef,r=(0,t.useRef)(),F=function(){var v=g()(i()().mark(function C(o){var E,w,z,W,Be,De,X,S,a,Q,u,ve;return i()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,le.YU)({md5:o});case 2:return W=R.sent,m.redeploy||(S=(Be=h.current)===null||Be===void 0?void 0:Be.getFieldsValue(),(De=h.current)===null||De===void 0||De.resetFields(),(X=h.current)===null||X===void 0||X.setFieldsValue({siteName:S.siteName,siteTitle:S.siteTitle,useBridgeNetwork:S.useBridgeNetwork})),W.data.info.Config.Env&&W.data.info.Config.Env.map(function(fe){var Pe,se=fe.split("=");(Pe=N.current)===null||Pe===void 0||Pe.addEnvItem(se[0],se.slice(1).join("="))}),(E=h.current)===null||E===void 0||E.setFieldValue("imageName",o),(w=h.current)===null||w===void 0||w.setFieldValue("workDir",W.data.info.Config.WorkingDir),(z=d.current)===null||z===void 0||z.setExposePort(W.data.info.Config.ExposedPorts),m.redeploy||(W.data.info.Config.Volumes?(u=[],Object.keys(W.data.info.Config.Volumes).map(function(fe,Pe){u.push(fe)}),(Q=P.current)===null||Q===void 0||Q.setDefaultDestPath(u)):(ve=P.current)===null||ve===void 0||ve.setDefaultDestPath([]),(a=h.current)===null||a===void 0||a.setFieldsValue({workDir:{value:"",useDefault:!0,default:W.data.info.Config.WorkingDir},user:{value:"",useDefault:!0,default:W.data.info.Config.User},command:{value:"",useDefault:!0,default:W.data.info.Config.Cmd&&W.data.info.Config.Cmd.join(" ")},entrypoint:{value:"",useDefault:!0,default:W.data.info.Config.Entrypoint&&W.data.info.Config.Entrypoint.join(" ")}})),R.abrupt("return",!0);case 10:case"end":return R.stop()}},C)}));return function(o){return v.apply(this,arguments)}}();return(0,t.useEffect)(function(){m.fromImageId&&F(m.fromImageId)},[m.fromImageId]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(re.Z,{open:H,width:Re.R_,title:"\u9009\u62E9\u955C\u50CF",footer:!1,onClose:function(){return _(!1)},children:(0,e.jsx)(ue.Z,{scroll:{x:"max-content"},columns:[{title:"Id",dataIndex:"Id",search:!1,width:80,render:function(C,o,E,w,z){return(0,e.jsx)(Oe.Z,{content:o.Id.slice(7,19)})}},{title:"\u955C\u50CF\u540D\u79F0",dataIndex:"tag",width:200,render:function(C,o,E,w){return(0,e.jsx)(Oe.Z,{content:o.RepoTags[0]})}},{title:"\u521B\u5EFA\u65E5\u671F",dataIndex:"Created",search:!1,width:100,render:function(C,o,E,w){return(0,e.jsx)("div",{children:(0,I.ZM)(o.Created*1e3)},o.Id)},sorter:function(C,o){return C.Created-o.Created}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:50,render:function(C,o,E,w){return(0,e.jsx)(p.Z,{split:(0,e.jsx)(oe.Z,{type:"vertical"}),children:(0,e.jsx)(we.Z,{icon:(0,e.jsx)(Ee.Z,{}),tips:"\u4F7F\u7528\u955C\u50CF",action:function(){return F(o.RepoTags[0])},type:"link",onSuccess:function(){_(!1)}},"addImage")})}}],request:function(){var v=g()(i()().mark(function C(o,E,w){var z,W,Be,De,X;return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return m.redeploy&&(W=(z=h.current)===null||z===void 0?void 0:z.getFieldValue("imageName"),o.tag=W?W.split(":")[0]:o.tag),a.next=3,(0,ie.KG)({tag:o.tag});case 3:return Be=a.sent,De=0,X=[],Be.data.list&&(X=Be.data.list.flatMap(function(Q){return Q.RepoTags.map(function(u){return{Key:De++,Id:Q.Id,Created:Q.Created,RepoTags:[u]}})})),a.abrupt("return",{data:X,success:!0,total:X.length});case 8:case"end":return a.stop()}},C)}));return function(C,o,E){return v.apply(this,arguments)}}(),formRef:j,rowKey:"Key",pagination:{pageSize:8}})},"imageTableList"),(0,e.jsxs)(p.Z.Compact,{children:[(0,e.jsx)(l.Z,{width:"lg",label:"\u955C\u50CF",tooltip:m.redeploy?"\u66F4\u65B0\u5BB9\u5668\u65F6,\u53EA\u53EF\u4EE5\u9009\u62E9\u8BE5\u955C\u50CF\u4E0B\u7684\u4E0D\u540Ctag.\u4E5F\u53EF\u4EE5\u5F3A\u5236\u66F4\u65B0\u5DF2\u90E8\u7F72tag,\u66F4\u6B21\u90E8\u7F72":"\u65B0\u5EFA\u5BB9\u5668\u65F6,\u53EF\u4EE5\u4F7F\u7528\u672C\u5730\u955C\u50CF,\u4E5F\u53EF\u4EE5\u4E0B\u8F7D\u5168\u65B0\u7684\u955C\u50CF\u6216\u662F\u66F4\u65B0\u672C\u5730\u955C\u50CF\u7684tag",name:"imageName",disabled:!0,placeholder:"\u8BF7\u9009\u62E9\u955C\u50CF\uFF0C\u5982\u679C\u662F\u8FDC\u7A0B\u955C\u50CF\u8BF7\u5148\u4E0B\u8F7D",rules:[{required:!0}],required:!0}),(0,e.jsx)(D.Z,{label:" ",children:(0,e.jsx)(ce.ZP,{type:"primary",onClick:function(){return _(!0)},children:"\u9009\u62E9\u955C\u50CF"},"showBtn")}),(0,e.jsx)(T.Z,{name:["imageName"],children:function(C){var o=C.imageName;if(o)return(0,e.jsx)(D.Z,{label:" ",children:(0,e.jsx)(_e.Z,{finishAutoHide:!0,image:o?[o]:[],trigger:(0,e.jsx)(K.Z,{title:"\u91CD\u65B0\u62C9\u53D6\u5F53\u524D\u955C\u50CF",children:(0,e.jsx)(ce.ZP,{icon:(0,e.jsx)(pe.Z,{}),children:"\u66F4\u65B0\u5F53\u524D\u955C\u50CF"})})})})}}),(0,e.jsx)(D.Z,{label:" ",children:(0,e.jsx)(J.Z,{onClick:function(){_(!1)},ref:r,onFinish:function(C){F(C)}},"remote")}),(0,e.jsx)(D.Z,{label:" ",children:(0,e.jsx)(T.Z,{name:["imageName"],children:function(C){var o=C.imageName;if(o)return(0,e.jsx)(Se.u,{access:"canSeeEnableCe",showProTips:!0,children:function(w){var z=w.canSeeEnableCe;return(0,e.jsx)(ye.Z,{imageId:o,trigger:(0,e.jsx)(ce.ZP,{disabled:z,children:"\u955C\u50CF\u6587\u4EF6"})})}})}})})]})]})}var U=n(60335),L=n(51042),ae=n(63434),Y=n(17186),te=n(25593),he=n(92067),me=(0,t.forwardRef)(function(m,$){var Z=(0,t.useState)(!1),H=B()(Z,2),_=H[0],j=H[1],c=(0,t.useRef)(),h=function(d){var r=(0,t.useState)([]),F=B()(r,2),v=F[0],C=F[1];return(0,t.useEffect)(function(){(0,U.jV)({md5:d.name}).then(function(o){var E;return C((E=o.data.info.Config.Env)!==null&&E!==void 0?E:[]),!0})},[]),(0,e.jsxs)(f.Z,{bordered:!0,extra:d.action,style:{marginBottom:10},children:[(0,e.jsx)(f.Z,{title:"\u5173\u8054\u4FE1\u606F",children:(0,e.jsxs)(k.UW,{children:[(0,e.jsx)(l.Z,{label:"\u5BB9\u5668\u540D\u79F0",name:"name",width:"md",readonly:!0}),(0,e.jsx)(l.Z,{label:"\u8BBF\u95EEHostName",name:"alise",width:"md",readonly:!0,tooltip:"\u901A\u8FC7\u914D\u7F6E\u6B64\u540D\u79F0\uFF0C\u5728\u5BB9\u5668\u5185\u90E8\u8FDB\u884C\u8BF7\u6C42\u8BBF\u95EE",hidden:!0}),(0,e.jsx)(D.Z,{label:"\u8BBF\u95EEHostName",tooltip:"\u901A\u8FC7\u914D\u7F6E\u6B64\u540D\u79F0\uFF0C\u5728\u5BB9\u5668\u5185\u90E8\u8FDB\u884C\u8BF7\u6C42\u8BBF\u95EE",children:(0,e.jsx)(te.Z.Text,{copyable:!0,children:d.record.alise})}),(0,e.jsx)(ae.Z,{label:"\u5173\u8054\u5B58\u50A8",name:"volume"})]})}),(0,e.jsx)(f.Z,{title:"\u73AF\u5883\u53D8\u91CF",children:(0,e.jsx)(p.Z,{direction:"vertical",children:v&&v.map(function(o,E){return(0,e.jsx)(te.Z.Text,{copyable:{icon:(0,e.jsx)(L.Z,{}),onCopy:function(){var z=o.split("=");m.onAddEnv(z[0],z[1])},tooltips:["add env","success"]},code:!0,ellipsis:{tooltip:o},style:{width:300},children:o},E)})},"linkEnv")})]})},P=function(d){var r,F,v=!1,C=(r=(F=c.current)===null||F===void 0?void 0:F.getList())!==null&&r!==void 0?r:[];if(C.map(function(E){E.name==d.name&&(v=!0)}),!v){var o;(o=c.current)===null||o===void 0||o.add(d)}};return(0,t.useImperativeHandle)($,function(){return{setDefaultLink:function(d){d&&d.map(function(r){r.name!=""&&P(r)})}}}),(0,e.jsxs)(f.Z,{title:"\u5173\u8054\u5BB9\u5668",headerBordered:!0,children:[(0,e.jsx)(Y.u,{name:"links",actionRef:c,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5173\u8054"},actionGuard:{beforeAddRow:function(d,r){return j(!0),!1}},copyIconProps:!1,min:0,itemRender:function(d,r){return(0,e.jsx)(h,{action:d.action,name:r.record.name,record:r.record})}}),(0,e.jsx)(re.Z,{title:"\u9009\u62E9\u5BB9\u5668",width:Re.R_,footer:!1,open:_,onClose:function(){return j(!1)},children:(0,e.jsx)(he.Z,{onSelect:function(d){P({name:(0,I.fi)(d.Name,"/"),alise:"".concat(d.Config.Hostname,".").concat(d.Config.Domainname),volume:!1}),j(!1)}})})]})}),ge=me,Ae=n(91058),xe=n(64317),Me=(0,t.forwardRef)(function(m,$){var Z=(0,t.useRef)(),H=(0,t.useContext)(q.Z),_=H.createFormRef,j=(0,t.useState)(),c=B()(j,2),h=c[0],P=c[1];(0,t.useImperativeHandle)($,function(){return{setDefaultDestPath:function(r){var F,v,C=(F=(v=Z.current)===null||v===void 0?void 0:v.getList())!==null&&F!==void 0?F:[];r.length!=0&&r.filter(function(o){return o!=""}).map(function(o){var E=!1;if(C.map(function(z){if(z.dest==o){E=!0;return}}),!E){var w;(w=Z.current)===null||w===void 0||w.add({dest:o,permission:"write",inImage:!0})}})},addUserVolumeItem:function(r,F){var v,C=(v=Z.current)===null||v===void 0?void 0:v.getList(),o=!1;if(C==null||C.map(function(w){if(w.dest==F){o=!0;return}}),!o){var E;(E=Z.current)===null||E===void 0||E.add({host:r,dest:F})}}}});var N=function(){var d=g()(i()().mark(function r(F){var v,C;return i()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(!h){E.next=2;break}return E.abrupt("return");case 2:if(F){E.next=4;break}return E.abrupt("return");case 4:return E.next=6,(0,le.cD)({md5:F});case 6:v=E.sent,C={title:"/",value:"/",children:[]},v.data.list.map(function(w){var z=C;w.split("/").map(function(W,Be,De){var X;if(W){var S=(X=z.children)===null||X===void 0?void 0:X.find(function(a){return a.title===W});S||(S={title:W,value:De.join("/"),children:[]},z.children?z.children.push(S):z.children=[S]),z=S}})}),C.children&&P(C.children);case 10:case"end":return E.stop()}},r)}));return function(F){return d.apply(this,arguments)}}();return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(f.Z,{title:"\u81EA\u5B9A\u4E49\u6302\u8F7D\u6216\u662F\u5B58\u50A8\u5377",tooltip:"\u6302\u8F7D\u53EF\u4EE5\u662F\u5BBF\u4E3B\u673A\u7684\u76EE\u5F55\u6216\u662F\u6587\u4EF6\uFF0C\u4E5F\u53EF\u4EE5\u6307\u5B9A\u5B58\u50A8\u5377\u540D\uFF08\u81EA\u52A8\u65B0\u5EFA\uFF09\u3002",headerBordered:!0,direction:"column",children:(0,e.jsx)(Y.u,{actionRef:Z,name:"volumes",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u6620\u5C04\u76EE\u5F55"},copyIconProps:!1,min:0,children:function(r,F,v){var C=v.getCurrentRowData();return(0,e.jsxs)(k.UW,{children:[(0,e.jsxs)(p.Z.Compact,{children:[(0,e.jsx)(l.Z,{label:"\u5BBF\u4E3B\u673A\u6587\u4EF6\u3001\u76EE\u5F55\u6216\u5B58\u50A8\u5377",name:"host",width:m.showInDrawer?"sm":"md"}),(0,e.jsx)(xe.Z,{label:" ",valueEnum:{write:"\u8BFB\u5199",readonly:"\u53EA\u8BFB"},initialValue:"write",name:"permission"})]}),(0,e.jsx)(p.Z.Compact,{children:(0,e.jsx)(l.Z,{label:"\u5BB9\u5668\u5185\u8DEF\u5F84",name:"dest",width:m.showInDrawer?"sm":"md",required:!0,rules:[{required:!0}],disabled:m.disabledUserVolumeDest||C.inImage})})]})}})})})}),Ye=Me,Xe=n(2831),Ce=n(52688),He=n(86125),Je=n(71230),Ge=n(15746),Qe=n(44349);function qe(m){var $,Z=(0,t.useState)(),H=B()(Z,2),_=H[0],j=H[1];return(0,t.useEffect)(function(){(0,Xe.aF)().then(function(c){return j(c.data.info)})},[]),(0,e.jsxs)(f.Z,{children:[(0,e.jsx)(l.Z,{label:"\u5171\u4EAB\u5185\u5B58\u5927\u5C0F - /dev/shm",name:"shmsize",initialValue:"64M",tooltip:"0 \u4E3A\u4F7F\u7528\u9ED8\u8BA464M\uFF0C\u914D\u7F6E\u65F6\u8BF7\u9644\u52A0\u5355\u4F4D\uFF0C\u4F8B\u5982\uFF1A1G"}),(0,e.jsx)(D.Z,{label:"\u6700\u5927Cpu\u914D\u989D",name:"cpus",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(He.Z,{step:.1,max:_==null?void 0:_.NCPU,marks:{0:"0",.5:"0.5\u6838",1:"1\u6838",1.5:"1.5\u6838",2:"2\u6838",4:"4\u6838",6:"6\u6838",8:"8\u6838"}})}),(0,e.jsx)(D.Z,{label:"\u6700\u5927\u5185\u5B58\u914D\u989D",name:"memory",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(He.Z,{step:256,max:Math.round((($=_==null?void 0:_.MemTotal)!==null&&$!==void 0?$:0)/1024/1024),marks:{0:"0",1024:"1G",2048:"2G",3072:"3G",4096:"4G"}})}),(0,e.jsx)(xe.Z,{label:"\u65E5\u5FD7\u7C7B\u578B",name:["log","driver"],tooltip:"\u9ED8\u8BA4\u4F7F\u7528 json-file \u9A71\u52A8\u7531 docker \u7EDF\u4E00\u7BA1\u7406\u3002\u91C7\u7528 journal \u65F6\u65E5\u5FD7\u5C06\u6765\u5BBF\u4E3B\u673A\u7BA1\u7406",initialValue:"json-file",valueEnum:{"json-file":"json-file",journald:"journal (\u5BBF\u4E3B\u9700\u8981\u5B89\u88C5journal\u670D\u52A1)"}}),(0,e.jsx)(T.Z,{name:["log"],children:function(h){var P=h.log;if(P.driver=="json-file")return(0,e.jsxs)(k.UW,{children:[(0,e.jsx)(l.Z,{label:"\u65E5\u5FD7\u5207\u5272\u5927\u5C0F",name:["log","maxSize"],placeholder:"\u4F8B\u5982\uFF1A10k,5M",tooltip:"\u9ED8\u8BA4 Docker \u5E76\u4E0D\u4F1A\u81EA\u52A8\u5207\u5272\u65E5\u5FD7"}),(0,e.jsx)(l.Z,{tooltip:"\u9ED8\u8BA4 Docker \u5E76\u4E0D\u4F1A\u81EA\u52A8\u6E05\u7406\u65E5\u5FD7\u6587\u4EF6",label:"\u4FDD\u7559\u65E5\u5FD7\u6587\u4EF6\u6570",name:["log","maxFile"],placeholder:"\u4F8B\u5982\uFF1A10"})]})}}),(0,e.jsx)(Qe.Z,{name:"device",label:"\u5173\u8054\u8BBE\u5907",hideCopyButton:!0,showAddButton:!0,items:[{label:"\u5BBF\u4E3B\u673A\u8DEF\u5F84",name:"host",width:"md",placeholder:"\u4F8B\u5982\uFF1A/dev/tty0"},{label:"\u5BB9\u5668\u5185\u8DEF\u5F84",name:"dest",width:"md",placeholder:"\u4F8B\u5982\uFF1A/dev/tty0"}]}),(0,e.jsxs)(Je.Z,{children:[(0,e.jsx)(Ge.Z,{span:4,children:(0,e.jsx)(Ce.Z,{label:"\u4F7F\u7528 Gpu",name:["gpus","enable"]})}),(0,e.jsx)(Ge.Z,{span:20,children:(0,e.jsx)(T.Z,{name:["gpus"],children:function(h){var P=h.gpus;if(P&&P.enable)return(0,e.jsx)(xe.Z,{mode:"tags",label:"\u8BBE\u5907\u5217\u8868",name:["gpus","device"],placeholder:"\u914D\u7F6E\u4F7F\u7528\u8BBE\u5907id\u6216\u662Fuuid\uFF0C\u4E0D\u586B\u6240\u4E3A\u6240\u6709\u8BBE\u5907"})}})})]}),(0,e.jsx)(T.Z,{name:["gpus"],children:function(h){var P=h.gpus;if(P&&P.enable)return(0,e.jsx)(xe.Z,{label:"\u8BA1\u7B97\u80FD\u529B",name:["gpus","capabilities"],mode:"multiple",fieldProps:{allowClear:!0},options:[{label:"compute - \u8BA1\u7B97\u80FD\u529B",value:"compute"},{label:"compat32 - \u517C\u5BB932\u4F4D",value:"compat32"},{label:"graphics - \u56FE\u5F62\u5904\u7406\u80FD\u529B",value:"graphics"},{label:"utility - \u76D1\u63A7\u548C\u7BA1\u7406\u80FD\u529B",value:"utility"},{label:"video - \u89C6\u9891\u5904\u7406\u80FD\u529B",value:"video"},{label:"display - \u663E\u793A\u56FE\u5F62\u754C\u9762\u80FD\u529B",value:"display"}]})}})]})}function en(){return(0,e.jsx)(f.Z,{title:"\u5BB9\u5668\u6807\u7B7E",children:(0,e.jsx)(Y.u,{name:"label",label:"",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BB9\u5668\u6807\u7B7E"},copyIconProps:!1,min:0,children:(0,e.jsxs)(k.UW,{children:[(0,e.jsx)(l.Z,{width:"md",name:"name",label:"\u540D\u79F0",placeholder:""}),(0,e.jsx)(l.Z,{width:"md",name:"value",label:"\u503C",placeholder:""})]})})})}var nn=n(44771),tn=n(86615),jn="default",xn="user";function un(m){return(0,e.jsx)(D.Z,{label:m.label,tooltip:m.tooltip,children:(0,e.jsxs)(p.Z.Compact,{block:!0,children:[(0,e.jsx)(tn.Z.Group,{radioType:"button",name:[m.name,"useDefault"],options:[{label:"\u4F7F\u7528\u9ED8\u8BA4",value:!0},{label:"\u81EA\u5B9A\u4E49",value:!1}]}),(0,e.jsx)(T.Z,{name:[m.name],children:function(Z){return Z[m.name]&&Z[m.name].useDefault?(0,e.jsx)(l.Z,{name:[m.name,"default"],disabled:!0,placeholder:"\u672A\u8BBE\u7F6E"}):(0,e.jsx)(l.Z,{name:[m.name,"value"]})}})]})})}var Te=un,Le=n(24963);function an(){var m=(0,t.useContext)(Le.Z),$=m.message,Z=m.lang;return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(f.Z,{children:[(0,e.jsx)(nn.Z,{label:"\u91CD\u542F\u7B56\u7565"}),(0,e.jsxs)(k.UW,{children:[(0,e.jsx)(Ce.Z,{fieldProps:{onChange:function(_){_&&$.warning(Z("app.create.privilegedNotice"))}},name:"privileged",tooltip:"--privileged",label:"\u8D4B\u4E88\u5BB9\u5668Root\u6743\u9650",initialValue:!1}),(0,e.jsx)(Ce.Z,{name:"autoRemove",tooltip:"--rm",label:"\u505C\u6B62\u540E\u81EA\u52A8\u5220\u9664",initialValue:!1}),(0,e.jsx)(Ce.Z,{fieldProps:{onChange:function(_){_&&$.warning(Z("app.create.hostPidNotice"))}},tooltip:"--pid host",name:"hostPid",label:"\u5173\u8054\u5BBF\u4E3B\u673APid",initialValue:!1})]}),(0,e.jsx)(Te,{label:"\u5DE5\u4F5C\u76EE\u5F55",tooltip:"\u9ED8\u8BA4\u4F7F\u7528\u955C\u50CF\u4E2D\u6307\u5B9A\u7684\u5DE5\u4F5C\u76EE\u5F55",name:"workDir"}),(0,e.jsx)(Te,{label:"User",tooltip:"\u5728\u5BB9\u5668\u4E2D\u8FD0\u884C\u547D\u4EE4\u7684\u7528\u6237",name:"user"}),(0,e.jsx)(Te,{label:"Command",tooltip:"\u542F\u52A8\u5BB9\u5668\u65F6\u8FD0\u884C\u7684\u547D\u4EE4\uFF0C\u4EE5\u7A7A\u683C\u5206\u9694",name:"command"}),(0,e.jsx)(Te,{label:"Entrypoint",tooltip:"\u65E0\u6CD5\u8986\u76D6\u955C\u50CF\u4E2D\u5DF2\u7ECF\u6307\u5B9A\u7684 Entrypoint \u547D\u4EE4",name:"entrypoint"})]})})}var rn=n(91845),$e=n(62597),Ne=n(82346),on=n(61768),ln=n(46442),sn=(0,t.forwardRef)(function(m,$){var Z=(0,t.useRef)(),H=(0,t.useRef)();(0,t.useImperativeHandle)($,function(){return{}});var _=function(c){var h,P,N=!1,d=(h=(P=Z.current)===null||P===void 0?void 0:P.getList())!==null&&h!==void 0?h:[];if(d.map(function(F){F.name==c.name&&(N=!0)}),!N){var r;(r=Z.current)===null||r===void 0||r.add(c)}};return(0,e.jsxs)(f.Z,{title:"\u5173\u8054\u7F51\u7EDC",headerBordered:!0,extra:(0,e.jsx)(p.Z,{children:m.showUseBridgeNetwork&&(0,e.jsx)(Ce.Z,{name:"useBridgeNetwork",fieldProps:{checkedChildren:"\u5173\u8054 Bridge \u7F51\u7EDC",unCheckedChildren:"\u5173\u8054 Bridge \u7F51\u7EDC"}},"useBridgeNetwork")}),children:[(0,e.jsx)(Y.u,{name:"network",actionRef:Z,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u7F51\u7EDC"},actionGuard:{beforeAddRow:function(c,h){var P;return(P=H.current)===null||P===void 0||P.show(),!1}},copyIconProps:!1,min:0,itemRender:function(c,h){if(h.record.name!="bridge")return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(k.UW,{children:[(0,e.jsx)(l.Z,{label:"\u7F51\u7EDC\u540D\u79F0",name:"name",width:"md",disabled:!0,fieldProps:{value:h.record.name}}),(0,e.jsx)(on.Z,{label:"\u522B\u540D",name:"alise",tooltip:"\u540C\u4E00\u7F51\u7EDC\u4E2D\u7684\u5BB9\u5668\u53EF\u4EE5\u4F7F\u7528 hostname, domainname, \u81EA\u5B9A\u4E49\u522B\u540D\u8FDB\u884C\u8BF7\u6C42\u5173\u8054",children:(0,e.jsx)(l.Z,{width:"md",placeholder:"\u6307\u5B9A\u5F53\u524D\u5BB9\u5668\u5728\u8BE5\u7F51\u7EDC\u4E2D\u7684\u522B\u540D"})}),(0,e.jsx)(l.Z,{label:"\u6307\u5B9AIpV4",name:"ipV4",width:"md",disabled:h.record.name=="bridge",fieldProps:{addonAfter:h.record.subnet}}),(0,e.jsx)(l.Z,{label:"\u6307\u5B9AIpV6",name:"ipV6",width:"md",disabled:h.record.name=="bridge",fieldProps:{addonAfter:h.record.subnetV6}}),(0,e.jsx)(D.Z,{label:" ",children:c.action})]})})}}),(0,e.jsx)(ln.Z,{ref:H,onSelect:function(c){_({name:c.Name,alise:[""],subnet:c.IPAM.Config[0].Subnet,subnetV6:c.IPAM.Config[1].Subnet})}})]})}),dn=sn,cn=(0,t.forwardRef)(function(m,$){var Z=(0,t.useState)(""),H=B()(Z,2),_=H[0],j=H[1],c=(0,t.useRef)(),h=(0,t.useContext)(q.Z),P=h.createFormRef;return(0,t.useImperativeHandle)($,function(){return{setExposePort:function(d){if(d){var r,F,v=(r=(F=c.current)===null||F===void 0?void 0:F.getList())!==null&&r!==void 0?r:[];Object.keys(d).map(function(C){var o=!1;if(v.map(function(w){w.dest==C&&(o=!0)}),!o){var E;(E=c.current)===null||E===void 0||E.add({host:"",dest:C})}})}},setHostname:function(d){j(d)},addPortItem:function(d,r){var F,v=(F=c.current)===null||F===void 0?void 0:F.getList(),C=!1;if(v==null||v.map(function(E){if(E.host==d){C=!0;return}}),!C){var o;(o=c.current)===null||o===void 0||o.add({host:String(d),dest:String(r)})}}}}),(0,e.jsx)(f.Z,{title:"\u7ED1\u5B9A\u7AEF\u53E3",tooltip:"\u8BBF\u95EE\u7AEF\u53E3\u7559\u7A7A\u65F6\u968F\u673A\u751F\u6210\u7AEF\u53E3\uFF0C\u5168\u90E8\u5220\u9664\u5219\u8868\u793A\u4E0D\u66B4\u9732\u7AEF\u53E3",headerBordered:!0,extra:(0,e.jsxs)(p.Z,{children:[m.showBindHost&&(0,e.jsx)(Ce.Z,{name:"useHostNetwork",fieldProps:{checkedChildren:"\u7ED1\u5B9AHost\u7F51\u7EDC",unCheckedChildren:"\u7ED1\u5B9AHost\u7F51\u7EDC",onChange:function(d){if(d){var r;(r=P.current)===null||r===void 0||r.setFieldsValue({bindIpV6:!1,publishAllPorts:!1})}}}}),m.showBindIpV6&&(0,e.jsx)(T.Z,{name:["siteName","useHostNetwork"],children:function(d){var r=d.useHostNetwork;return(0,e.jsx)(Ce.Z,{name:"publishAllPorts",fieldProps:{checkedChildren:"\u7ED1\u5B9A\u5168\u90E8\u7AEF\u53E3",unCheckedChildren:"\u7ED1\u5B9A\u5168\u90E8\u7AEF\u53E3"},disabled:r},"publishAllPorts")}}),m.showBindIpV6&&(0,e.jsx)(T.Z,{name:["siteName","useHostNetwork"],children:function(d){var r=d.useHostNetwork;return(0,e.jsx)(Ce.Z,{name:"bindIpV6",fieldProps:{checkedChildren:"IpV6",unCheckedChildren:"IpV6"},disabled:r},"bindIpV6")}})]}),children:(0,e.jsx)(T.Z,{name:["useHostNetwork","bindIpV6","publishAllPorts"],children:function(d){var r=d.useHostNetwork,F=d.bindIpV6,v=d.publishAllPorts;if(!r&&!v)return(0,e.jsx)(Y.u,{name:"ports",actionRef:c,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BF9\u5916\u90E8\u8BBF\u95EE"},min:0,copyIconProps:!1,children:(0,e.jsxs)(k.UW,{children:[(0,e.jsx)(l.Z,{width:m.showInDrawer?"sm":"md",name:"host",label:"\u5916\u90E8\u8BBF\u95EE\u7AEF\u53E3",tooltip:"\u5BF9\u5916\u8BBF\u95EE\u53EF\u4EE5\u901A\u8FC7\u6DFB\u52A0\u8BBF\u95EE\u7AEF\u53E3\u6216\u662F\u521B\u5EFA\u5B8C\u6210\u540E\u5BF9\u5BB9\u5668\u7ED1\u5B9A\u57DF\u540D",placeholder:"\u7559\u7A7A\u5C06\u4F7F\u7528\u968F\u673A\u7AEF\u53E3\uFF0C\u7ED1\u5B9AIpV6\u5FC5\u586B",required:F,rules:[{required:F}]}),(0,e.jsx)(l.Z,{label:"\u5BB9\u5668\u5185\u7AEF\u53E3",width:m.showInDrawer?"sm":"md",name:"dest",placeholder:"\u6784\u5EFA\u65F6 Expose \u6307\u5B9A\u7684\u7AEF\u53E3",required:!0,rules:[{required:!0}]})]})})}})})}),mn=cn,Ie=n(52255);function vn(){var m=(0,t.useRef)(),$=function(_){var j,c,h=!1,P=(j=(c=m.current)===null||c===void 0?void 0:c.getList())!==null&&j!==void 0?j:[];if(P.map(function(d){d.name==_.name&&(h=!0)}),!h){var N;(N=m.current)===null||N===void 0||N.add(_)}},Z=function(_){var j,c,h=!1,P=(j=(c=m.current)===null||c===void 0?void 0:c.getList())!==null&&j!==void 0?j:[];P.map(function(N,d){if(N.name==_){var r;(r=m.current)===null||r===void 0||r.remove(d)}})};return(0,e.jsx)(f.Z,{title:"\u5173\u8054\u5BBF\u4E3B\u673A\u7F51\u7EDC\u5185\u4E3B\u673A",tooltip:"\u5BB9\u5668\u5185\u5982\u679C\u9700\u8981\u8BF7\u6C42\u5BBF\u4E3B\u673A\u6240\u5728\u7684\u7F51\u7EDC\u4E2D\u7684\u4E3B\u673A\uFF0C\u53EF\u4EE5\u901A\u8FC7\u6B64\u914D\u7F6E\u5C06Ip\u6CE8\u5165\u5230\u5BB9\u5668\u4E2D",extra:(0,e.jsx)(p.Z,{children:(0,e.jsx)(Ce.Z,{name:"enableBindHost",fieldProps:{checkedChildren:"\u7ED1\u5B9A\u5BBF\u4E3B\u673AIp",unCheckedChildren:"\u7ED1\u5B9A\u5BBF\u4E3B\u673AIp",onChange:function(_){_?$({name:"host.dpanel.local",value:"host-gateway"}):Z("host.dpanel.local")}}})}),children:(0,e.jsx)(Y.u,{name:"extraHosts",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BBF\u4E3B\u673A\u7F51\u7EDC\u5173\u8054"},actionRef:m,copyIconProps:!1,min:0,children:(0,e.jsxs)(k.UW,{children:[(0,e.jsx)(l.Z,{width:"md",name:"name",label:"Hostname",placeholder:""}),(0,e.jsx)(l.Z,{width:"md",name:"value",label:"ip",placeholder:""})]})})})}var We=n(90672),fn=(0,t.forwardRef)(function(m,$){return(0,t.useImperativeHandle)($,function(){return{}}),(0,e.jsxs)(f.Z,{title:"\u7F51\u7EDC\u914D\u7F6E",children:[(0,e.jsxs)(k.UW,{children:[(0,e.jsx)(l.Z,{label:"\u914D\u7F6E ipV4 \u5730\u5740",name:["ipV4","address"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u5730\u5740\uFF0C\u4F8B\u5982 192.168.1.5",placeholder:"192.168.1.5"}),(0,e.jsx)(T.Z,{name:["ipV4"],children:function(H){var _=H.ipV4;return(0,e.jsx)(l.Z,{label:"\u914D\u7F6E ipV4 \u5B50\u7F51",name:["ipV4","subnet"],width:"md",required:_&&_.address,tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u6240\u5728\u7684\u5B50\u7F51\uFF0C\u4F8B\u5982 192.168.1.0/24",placeholder:"192.168.1.0/24",rules:[{required:_&&_.address}]})}}),(0,e.jsx)(l.Z,{label:"\u914D\u7F6E ipV4 \u7F51\u5173",name:["ipV4","gateway"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u7684\u7F51\u5173\uFF0C\u4F8B\u5982 192.168.1.1",placeholder:"192.168.1.1"}),(0,e.jsx)(Ce.Z,{label:"\u81EA\u5B9A\u4E49ipV6",name:"enableIpV6Address"})]}),(0,e.jsx)(T.Z,{name:["enableIpV6Address"],children:function(H){var _=H.enableIpV6Address;if(_)return(0,e.jsxs)(k.UW,{children:[(0,e.jsx)(l.Z,{label:"\u914D\u7F6E ipV6 \u5730\u5740",name:["ipV6","address"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipV6\u5730\u5740\uFF0C\u4F8B\u5982 2001:db8::5",placeholder:"2001:db8::5"}),(0,e.jsx)(T.Z,{name:["ipV6"],children:function(c){var h=c.ipV6;return(0,e.jsx)(l.Z,{label:"\u914D\u7F6E ipV6 \u5B50\u7F51",name:["ipV6","subnet"],width:"md",required:h&&h.address,tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u6240\u5728\u7684\u5B50\u7F51\uFF0C\u4F8B\u5982 2001:db8::/48",placeholder:"2001:db8::/48",rules:[{required:h&&h.address}]})}}),(0,e.jsx)(l.Z,{label:"\u914D\u7F6E ipV6 \u7F51\u5173",name:["ipV6","gateway"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipV6\u7684\u7F51\u5173\uFF0C\u4F8B\u5982 2001:db8::1",placeholder:"2001:db8::1"})]})}}),(0,e.jsx)(We.Z,{label:"DNS\u914D\u7F6E",name:"dns",placeholder:"\u8BF7\u6307\u5B9Adns\u5730\u5740\uFF0C\u4F8B\u5982\uFF1A8.8.8.8\uFF0C\u4E00\u884C\u6DFB\u4E00\u6761dns\u5730\u5740"})]})}),hn=fn,Ve=n(31199),En=n(86250);function pn(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(f.Z,{title:"\u9644\u52A0\u6267\u884C\u811A\u672C",headerBordered:!0,subTitle:"",children:(0,e.jsx)(We.Z,{label:"\u5BB9\u5668\u521B\u5EFA\u540E\u6267\u884C\u811A\u672C",name:["hook","containerCreate"],placeholder:"\u5BB9\u5668\u5728\u521B\u5EFA\u540E\u6267\u884C\u7684\u811A\u672C\uFF0C\u6B64\u811A\u672C\u5E76\u4E0D\u4F1A\u5F71\u54CD entrypoint \u53CA command\u3002\u4F8B\u5982\uFF1Als -al && touch abc.txt && apt update"})}),(0,e.jsxs)(f.Z,{title:"\u5065\u5EB7\u68C0\u67E5",headerBordered:!0,children:[(0,e.jsxs)(En.Z,{gap:20,justify:"start",children:[(0,e.jsx)(Ve.Z,{label:"\u91CD\u590D\u95F4\u9694\u65F6\u95F4\uFF08\u79D2\uFF09",name:["healthcheck","interval"],initialValue:30}),(0,e.jsx)(Ve.Z,{label:"\u8D85\u65F6\u5931\u8D25\u65F6\u95F4\uFF08\u79D2\uFF09",name:["healthcheck","timeout"],initialValue:10}),(0,e.jsx)(Ve.Z,{label:"\u5931\u8D25\u91CD\u590D\u6B21\u6570",name:["healthcheck","retries"],initialValue:3}),(0,e.jsx)(xe.Z,{width:"sm",label:"\u811A\u672C\u6267\u884C\u73AF\u5883",initialValue:"CMD",name:["healthcheck","shellType"],valueEnum:{CMD:"\u5728 Docker \u73AF\u5883\u6267\u884C","CMD-SHELL":"\u5728\u5BB9\u5668\u5185\u6267\u884C"}})]}),(0,e.jsx)(We.Z,{label:"\u6267\u884C\u811A\u672C",name:["healthcheck","cmd"],placeholder:"\u914D\u7F6E\u5BB9\u5668\u5065\u5EB7\u68C0\u67E5\u811A\u672C\uFF0C\u4F8B\u5982\uFF1Acurl -f http://localhost:8080/ || exit 1"})]})]})}var _n=n(74763),ze=n(2487),Cn=[{name:"ALL"},{name:"AUDIT_CONTROL"},{name:"AUDIT_WRITE",default:!0},{name:"BLOCK_SUSPEND"},{name:"CHOWN",default:!0},{name:"DAC_OVERRIDE",default:!0},{name:"DAC_READ_SEARCH"},{name:"FOWNER",default:!0},{name:"FSETID",default:!0},{name:"IPC_LOCK"},{name:"IPC_OWNER"},{name:"KILL",default:!0},{name:"LEASE"},{name:"LINUX_IMMUTABLE"},{name:"MAC_ADMIN"},{name:"MAC_OVERRIDE"},{name:"MKNOD",default:!0},{name:"NET_ADMIN"},{name:"NET_BIND_SERVICE",default:!0},{name:"NET_BROADCAST"},{name:"NET_RAW",default:!0},{name:"SETFCAP",default:!0},{name:"SETGID",default:!0},{name:"SETPCAP",default:!0},{name:"SETUID",default:!0},{name:"SYSLOG"},{name:"SYS_ADMIN"},{name:"SYS_BOOT"},{name:"SYS_CHROOT",default:!0},{name:"SYS_MODULE"},{name:"SYS_NICE"},{name:"SYS_PACCT"},{name:"SYS_PTRACE"},{name:"SYS_RAWIO"},{name:"SYS_RESOURCE"},{name:"SYS_TIME"},{name:"SYS_TTY_CONFIG"}],Fn=(0,t.forwardRef)(function(m,$){var Z=(0,t.useContext)(Le.Z),H=Z.lang,_=(0,t.useState)(null),j=B()(_,2),c=j[0],h=j[1],P=(0,t.useContext)(q.Z),N=P.createFormRef;return(0,t.useImperativeHandle)($,function(){return{}}),(0,e.jsx)(f.Z,{children:(0,e.jsx)(ze.Z,{grid:{gutter:10,xs:3,sm:3,md:4,lg:4,xl:4,xxl:6},dataSource:Cn,renderItem:function(r,F){var v;return(0,e.jsx)(ze.Z.Item,{children:(0,e.jsx)(Ce.Z,{fieldProps:{onChange:function(o){r.name=="ALL"&&h(o)}},disabled:r.name!="ALL"&&((0,_n.k)(c)?(v=N.current)===null||v===void 0?void 0:v.getFieldValue(["capAdd","ALL"]):c),initialValue:r.default,name:["capAdd",r.name],tooltip:H("app.create.cap."+r.name.toLocaleLowerCase()),label:r.name})},F)}})})}),gn=Fn;function Bn(){var m,$=(0,t.useContext)(Le.Z),Z=$.loading,H=$.notice,_=(0,t.useContext)(q.Z),j=_.createFormRef,c=_.volumeListRef,h=_.domainRef,P=_.createEnvRef,N=_.createLinkRef,d=(0,Ne.useSearchParams)(),r=B()(d,2),F=r[0],v=r[1],C=(0,Ne.useNavigate)(),o=(0,t.useState)("basic"),E=B()(o,2),w=E[0],z=E[1],W=F.get("id"),Be=(m=F.get("imageId"))!==null&&m!==void 0?m:"",De=(0,Ne.useLocation)();return(0,t.useEffect)(function(){if(W)Z.show(),(0,$e.iE)({id:W}).then(function(){var a=g()(i()().mark(function Q(u){var ve,je,R,fe,Pe,se,Ze,ke;return i()().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:if(R={info:{}},!u.data.env.imageName){Fe.next=11;break}return Fe.prev=2,Fe.next=5,(0,le.YU)({md5:u.data.env.imageName});case 5:fe=Fe.sent,R=fe.data,Fe.next=11;break;case 9:Fe.prev=9,Fe.t0=Fe.catch(2);case 11:u.data.env.ports&&u.data.env.ports.map(function(ee){return ee.host=="0"&&(ee.host=""),ee}),Pe=u.data.env.bindIpV6,u.data.containerInfo&&u.data.containerInfo.Info.NetworkSettings&&u.data.containerInfo.Info.NetworkSettings.Networks&&Object.keys(u.data.containerInfo.Info.NetworkSettings.Networks).map(function(ee){if(u.data.env.network&&(u.data.env.network=u.data.env.network.map(function(Ke){return ee==Ke.name&&u.data.containerInfo&&(Ke.subnet=u.data.containerInfo.Info.NetworkSettings.Networks[ee].IPAddress+"/"+u.data.containerInfo.Info.NetworkSettings.Networks[ee].IPPrefixLen),Ke})),u.data.containerInfo&&u.data.containerInfo.Info.NetworkSettings.Networks[ee].IPv6Gateway!=""&&ee==u.data.siteName&&(Pe=!0),ee=="bridge"){var be;(be=j.current)===null||be===void 0||be.setFieldValue("useBridgeNetwork",!0)}}),u.data.env.extraHosts&&u.data.env.extraHosts.map(function(ee){if(ee.value=="host-gateway"){var be;(be=j.current)===null||be===void 0||be.setFieldValue("enableBindHost",!0)}}),se=u.data.env.ports,u.data.env.ports&&(se=u.data.env.ports.map(function(ee){return ee.host=ee.host!=""?(ee.hostIp?ee.hostIp+":":"")+ee.host:"",ee})),(ve=j.current)===null||ve===void 0||ve.setFieldsValue({siteTitle:u.data.siteTitle,siteName:u.data.siteName,imageName:u.data.env.imageName,privileged:u.data.env.privileged,bindIpV6:u.data.env.useHostNetwork?!1:Pe,useHostNetwork:u.data.env.useHostNetwork,publishAllPorts:u.data.env.useHostNetwork?!1:u.data.env.publishAllPorts,workDir:{value:u.data.env.workDir,useDefault:!u.data.env.workDir,default:R&&R.info.Config&&R.info.Config.WorkingDir},user:{value:u.data.env.user,useDefault:!u.data.env.user,default:R&&R.info.Config&&R.info.Config.User},command:{value:u.data.env.command,useDefault:!u.data.env.command,default:R&&R.info.Config&&R.info.Config.Cmd&&R.info.Config.Cmd.join(" ")},entrypoint:{value:u.data.env.entrypoint,useDefault:!u.data.env.entrypoint,default:R&&R.info.Config&&R.info.Config.Entrypoint&&R.info.Config.Entrypoint.join(" ")},shmsize:(je=u.data.env.shmsize)!==null&&je!==void 0?je:"64M",cpus:u.data.env.cpus,memory:u.data.env.memory,environment:u.data.env.environment,label:u.data.env.label,volumes:u.data.env.volumes,ports:se,links:u.data.env.links,network:u.data.env.network,restart:u.data.env.restart,extraHosts:u.data.env.extraHosts,autoRemove:u.data.env.autoRemove,log:u.data.env.log,dns:u.data.env.dns&&u.data.env.dns.join(`
`),ipV4:u.data.env.ipV4,ipV6:u.data.env.ipV6,gpus:u.data.env.gpus,device:u.data.env.device,hook:u.data.env.hook,hostPid:u.data.env.hostPid,capAdd:u.data.env.capAdd&&Object.fromEntries(u.data.env.capAdd.map(function(ee){return[ee,!0]}))}),u.data.env.ipV6&&((Ze=j.current)===null||Ze===void 0||Ze.setFieldValue("enableIpV6Address",!0)),u.data.env.healthcheck&&u.data.env.healthcheck.cmd&&u.data.env.healthcheck.cmd!=""&&((ke=j.current)===null||ke===void 0||ke.setFieldsValue({healthcheck:u.data.env.healthcheck}));case 20:case"end":return Fe.stop()}},Q,null,[[2,9]])}));return function(Q){return a.apply(this,arguments)}}()).finally(function(){Z.destroy()});else{var X,S;(X=j.current)===null||X===void 0||X.resetFields(),(S=j.current)===null||S===void 0||S.setFieldValue("useBridgeNetwork",!0)}},[F]),(0,e.jsx)(x._z,{children:(0,e.jsx)(f.Z,{direction:"column",gutter:[0,10],children:(0,e.jsxs)(M.A,{submitter:{render:function(S,a){return(0,e.jsx)(y.S,{children:a})}},formRef:j,onFinish:function(){var X=g()(i()().mark(function S(a){var Q,u,ve,je,R,fe;return i()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(fe={siteTitle:a.siteTitle,siteName:a.siteName,hostname:a.hostname,imageName:a.imageName,environment:a.environment,links:a.links,ports:a.ports,volumes:a.volumes,network:(Q=a.network)!==null&&Q!==void 0?Q:[],privileged:(u=a.privileged)!==null&&u!==void 0?u:!1,autoRemove:(ve=a.autoRemove)!==null&&ve!==void 0?ve:!1,restart:a.restart,cpus:a.cpus,memory:a.memory,shmsize:(je=a.shmsize)!==null&&je!==void 0?je:0,workDir:a.workDir&&!a.workDir.useDefault?a.workDir.value:"",user:a.user&&!a.user.useDefault?a.user.value:"",command:a.command&&!a.command.useDefault?a.command.value:"",entrypoint:a.entrypoint&&!a.entrypoint.useDefault?a.entrypoint.value:"",useHostNetwork:a.useHostNetwork,bindIpV6:a.bindIpV6,log:a.log,dns:a.dns&&a.dns!=""?a.dns.split(`
`):[],label:a.label,publishAllPorts:a.publishAllPorts,extraHosts:a.extraHosts,ipV4:a.ipV4,ipV6:a.ipV6,device:a.device,gpus:a.gpus,hook:a.hook,hostPid:a.hostPid,capAdd:a.capAdd?Object.keys(a.capAdd).map(function(Ze){return Ze}):[],useBridgeNetwork:(R=a.useBridgeNetwork)!==null&&R!==void 0?R:!0},!(!a.useBridgeNetwork&&!a.useHostNetwork&&(!a.network||a.network.length==0))){se.next=4;break}return H.error("\u4E0D\u52A0\u5165 Bridge \u7F51\u7EDC\u65F6\uFF0C\u5FC5\u987B\u6307\u5B9A\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7F51\u7EDC"),se.abrupt("return",!1);case 4:return a.useBridgeNetwork&&!fe.network.find(function(Ze){return Ze.name=="bridge"})&&fe.network.push({name:"bridge",alise:[],ipV4:""}),a.healthcheck&&a.healthcheck.cmd&&a.healthcheck.cmd!=""&&(fe.healthcheck=a.healthcheck),W&&(fe.containerId=W),se.next=9,(0,$e.$G)(fe);case 9:return C("/app/list",{state:{page:localStorage.getItem("dpanel-page-app-list")}}),se.abrupt("return",!0);case 11:case"end":return se.stop()}},S)}));return function(S){return X.apply(this,arguments)}}(),children:[(0,e.jsxs)(f.Z,{title:"\u57FA\u7840\u4FE1\u606F",headerBordered:!0,children:[(0,e.jsx)(l.Z,{name:"siteTitle",label:"\u5BB9\u5668\u63CF\u8FF0",fieldProps:{onChange:function(S){var a="";if(S.target.value&&!W){var Q,u=(0,rn.N9)(S.target.value.trim(),{toneType:"none",type:"array"});a=u.join(""),(Q=j.current)===null||Q===void 0||Q.setFieldValue("siteName",a)}}},placeholder:"\u8BF7\u8F93\u5165\u5BB9\u5668\u63CF\u8FF0\u540D\u79F0"}),(0,e.jsxs)(k.UW,{children:[(0,e.jsx)(l.Z,{width:"lg",name:"siteName",label:"\u5BB9\u5668\u6807\u8BC6",tooltip:"\u5BB9\u5668\u552F\u4E00\u6807\u8BC6\uFF0C\u7528\u4E8E\u6807\u8BC6\u5BB9\u5668\u548C\u5185\u90E8\u8BBF\u95EE",required:!0,rules:[{required:!0}],placeholder:"\u8BF7\u8F93\u5165\u5BB9\u5668\u6807\u8BC6\u540D\u79F0",disabled:!!W}),(0,e.jsx)(l.Z,{label:"Hostname",name:"hostname",width:"md"})]}),(0,e.jsx)(Ue,{redeploy:!!W,fromImageId:Be})]}),(0,e.jsx)(O.Z,{offsetTop:50,children:(0,e.jsx)(f.Z,{style:{marginBottom:-20},children:(0,e.jsx)(ne.Z,{activeKey:w,onChange:function(S){z(S),window.scrollTo(0,450)},items:[{label:"\u57FA\u672C\u914D\u7F6E",key:"basic"},{label:"\u5173\u8054\u914D\u7F6E",key:"link"},{label:"\u8FD0\u884C\u914D\u7F6E",key:"run-command"},{label:"\u8D44\u6E90\u914D\u7F6E",key:"resource"},{label:"Hook",key:"hook"},{label:"\u80FD\u529B\u914D\u7F6E",key:"cap"},{label:"\u5176\u5B83",key:"other"}]})})}),(0,e.jsxs)(Ie.Z,{show:w=="basic",children:[(0,e.jsx)(mn,{ref:h,showBindHost:!0,showBindIpV6:!0}),(0,e.jsx)(Ae.Z,{showAddButton:!0,showImportButton:!0,showCodeMode:!0,label:"\u73AF\u5883\u53D8\u91CF",ref:P}),(0,e.jsx)(Ye,{showDefault:!0,ref:c}),(0,e.jsx)(T.Z,{name:["siteName","useHostNetwork"],children:function(S){var a=S.siteName,Q=S.useHostNetwork;if(!Q)return(0,e.jsx)(hn,{})}})]}),(0,e.jsx)(Ie.Z,{show:w=="link",children:(0,e.jsx)(T.Z,{name:["siteName","useHostNetwork"],children:function(S){var a=S.siteName,Q=S.useHostNetwork;return Q?(0,e.jsx)(s.Z,{showIcon:!0,description:"\u7ED1\u5B9A\u5230\u5BBF\u4E3B\u673A\u7F51\u7EDC\u65F6\uFF0C\u65E0\u6CD5\u901A\u8FC7 Docker \u5173\u8054\u5176\u5B83\u5BB9\u5668\u3002\u8BF7\u4F7F\u7528\u5BBF\u4E3B\u673A\u5185\u7F51IP\u6216\u662F127.0.0.1\u4E92\u8054\u5BB9\u5668\u66B4\u9732\u7AEF\u53E3\u3002"}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ge,{onAddEnv:function(ve,je){var R;(R=P.current)===null||R===void 0||R.addEnvItem(ve,je)},ref:N}),(0,e.jsx)(dn,{showUseBridgeNetwork:!0,siteName:a}),(0,e.jsx)(vn,{})]})}})}),(0,e.jsx)(Ie.Z,{show:w=="run-command",children:(0,e.jsx)(an,{})}),(0,e.jsx)(Ie.Z,{show:w=="resource",children:(0,e.jsx)(qe,{})}),(0,e.jsx)(Ie.Z,{show:w=="hook",children:(0,e.jsx)(pn,{})}),(0,e.jsx)(Ie.Z,{show:w=="other",children:(0,e.jsx)(en,{})}),(0,e.jsx)(Ie.Z,{show:w=="cap",children:(0,e.jsx)(gn,{})})]},"form")})})}},2831:function(de,V,n){n.d(V,{Ll:function(){return y},aF:function(){return B},d6:function(){return k},u5:function(){return f}});var b=n(15009),i=n.n(b),G=n(99289),g=n.n(G),A=n(82346);function B(){return x.apply(this,arguments)}function x(){return x=g()(i()().mark(function O(){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,A.request)("/api/common/home/info",{method:"POST"});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},O)})),x.apply(this,arguments)}function f(){return M.apply(this,arguments)}function M(){return M=g()(i()().mark(function O(){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,A.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},O)})),M.apply(this,arguments)}function y(){return l.apply(this,arguments)}function l(){return l=g()(i()().mark(function O(){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,A.request)("/api/common/home/usage",{method:"POST"});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},O)})),l.apply(this,arguments)}function k(){return T.apply(this,arguments)}function T(){return T=g()(i()().mark(function O(){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,A.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},O)})),T.apply(this,arguments)}},79245:function(de,V,n){n.d(V,{m:function(){return G},y:function(){return g}});var b=n(64599),i=n.n(b);function G(A){var B=[];if(!A||A=="")return B;var x=A.matchAll(/\$\{(\w+)[:-?=]*(.*?)\}/g),f=i()(x),M;try{for(f.s();!(M=f.n()).done;){var y=M.value;B.push({name:y[1],value:y[2]?y[2].indexOf("-")==0?y[2].substring(1):y[2]:""})}}catch(l){f.e(l)}finally{f.f()}return B}function g(A,B){return!A||!B?!1:(A&B)!==0}}}]);
