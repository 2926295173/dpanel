"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5947],{55809:function(k,l,n){var m=n(87462),t=n(67294),b=n(44805),u=n(84089),_=function(v,f){return t.createElement(u.Z,(0,m.Z)({},v,{ref:f,icon:b.Z}))},p=t.forwardRef(_);l.Z=p},24963:function(k,l,n){var m=n(67294),t=(0,m.createContext)({});l.Z=t},50070:function(k,l,n){n.r(l),n.d(l,{AppDetailContext:function(){return P},default:function(){return A}});var m=n(15009),t=n.n(m),b=n(99289),u=n.n(b),_=n(5574),p=n.n(_),D=n(24963),v=n(60335),f=n(55809),c=n(82346),E=n(25593),I=n(50136),o=n(67294),i=n(85893),P=(0,o.createContext)({});function A(){var h,g=(0,o.useContext)(D.Z),M=g.lang,W=g.loading,T=g.message,d=(0,c.useParams)(),y=(0,c.useSearchParams)(),a=p()(y,2),r=a[0],s=a[1],e=(h=r.get("tab"))!==null&&h!==void 0?h:"edit",N=(0,o.useState)("edit"),U=p()(N,2),V=U[0],w=U[1],L=(0,c.useNavigate)(),z=(0,o.useState)(1),x=p()(z,2),$=x[0],J=x[1],Z=[{label:(0,i.jsx)(c.Link,{to:"/app/detail/edit/".concat(d.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,i.jsx)(c.Link,{to:"/app/detail/network/".concat(d.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,i.jsx)(E.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){T.info(M("app.detail.createExplorerPlugin")),L("/app/detail/file/".concat(d.id,"?tab=file"))}},{label:(0,i.jsx)(E.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){L("/app/detail/log/".concat(d.id,"?tab=log"))}},{label:(0,i.jsx)(E.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){L("/app/detail/stat/".concat(d.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,i.jsx)(f.Z,{}),disabled:!0}],H=(0,o.useState)(Z),F=p()(H,2),Q=F[0],X=F[1];(0,o.useEffect)(function(){W.show(),w(e);var C=function(){var B=u()(t()().mark(function G(){var K,S,j;return t()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return S=Z,R.next=3,(0,v.jV)({md5:(K=d.id)!==null&&K!==void 0?K:""});case 3:j=R.sent,S.map(function(O){return O.key=="containerName"&&(O.label=j.data.info.Name),(!j.data.info.State.Running||j.data.info.State.Restarting)&&(O.key=="file"||O.key=="stat")&&(O.disabled=!0),O}),X(S),W.destroy();case 7:case"end":return R.stop()}},G)}));return function(){return B.apply(this,arguments)}}();C()},[$]);var Y=function(B){w(B.key)};return(0,i.jsxs)(P.Provider,{value:{reload:function(){J($+1)}},children:[(0,i.jsx)(I.Z,{mode:"horizontal",onClick:Y,selectedKeys:[V],items:Q}),(0,i.jsx)(c.Outlet,{})]})}},60335:function(k,l,n){n.d(l,{IE:function(){return v},IW:function(){return p},KK:function(){return i},LJ:function(){return A},RF:function(){return W},Re:function(){return g},aF:function(){return d},eE:function(){return I},jV:function(){return c}});var m=n(15009),t=n.n(m),b=n(99289),u=n.n(b),_=n(82346);function p(a){return D.apply(this,arguments)}function D(){return D=u()(t()().mark(function a(r){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/app/container/status",{method:"POST",data:r}));case 1:case"end":return e.stop()}},a)})),D.apply(this,arguments)}function v(a){return f.apply(this,arguments)}function f(){return f=u()(t()().mark(function a(r){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/app/container/get-list",{data:r,method:"POST"}));case 1:case"end":return e.stop()}},a)})),f.apply(this,arguments)}function c(a){return E.apply(this,arguments)}function E(){return E=u()(t()().mark(function a(r){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/app/container/get-detail",{data:r,method:"POST"}));case 1:case"end":return e.stop()}},a)})),E.apply(this,arguments)}function I(a){return o.apply(this,arguments)}function o(){return o=u()(t()().mark(function a(r){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/app/container/update",{data:r,method:"POST"}));case 1:case"end":return e.stop()}},a)})),o.apply(this,arguments)}function i(){return P.apply(this,arguments)}function P(){return P=u()(t()().mark(function a(){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return s.stop()}},a)})),P.apply(this,arguments)}function A(a){return h.apply(this,arguments)}function h(){return h=u()(t()().mark(function a(r){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/app/container/export",{method:"POST",data:r,responseType:"blob"}));case 1:case"end":return e.stop()}},a)})),h.apply(this,arguments)}function g(a){return M.apply(this,arguments)}function M(){return M=u()(t()().mark(function a(r){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/app/container/commit",{method:"POST",data:r}));case 1:case"end":return e.stop()}},a)})),M.apply(this,arguments)}function W(a){return T.apply(this,arguments)}function T(){return T=u()(t()().mark(function a(r){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/app/container/upgrade",{method:"POST",data:r}));case 1:case"end":return e.stop()}},a)})),T.apply(this,arguments)}function d(a){return y.apply(this,arguments)}function y(){return y=u()(t()().mark(function a(r){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/app/container/copy",{method:"POST",data:r}));case 1:case"end":return e.stop()}},a)})),y.apply(this,arguments)}}}]);
