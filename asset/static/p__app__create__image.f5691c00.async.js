"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3985],{91058:function(ge,z,n){var ee=n(5574),t=n.n(ee),te=n(89035),B=n(38345),F=n(17186),Z=n(24739),A=n(5966),P=n(42075),g=n(28036),ue=n(85576),d=n(67294),D=n(95089),G=n(12491),o=n(85893),k="docker-image",i=(0,d.forwardRef)(function(r,J){var y=(0,d.useState)(k),N=t()(y,2),O=N[0],c=N[1],s=(0,d.useRef)(),m=(0,d.useState)(""),a=t()(m,2),Q=a[0],_=a[1],Te=function(){O!="code"?c("code"):c(k)};(0,d.useImperativeHandle)(J,function(){return{addEnvItem:function(R,ae){var oe,L=(oe=s.current)===null||oe===void 0?void 0:oe.getList(),q=!1;if(L==null||L.map(function(ie){if(ie.name==R){q=!0;return}}),!q){var e;(e=s.current)===null||e===void 0||e.add({name:R,value:ae})}},clear:function(){var R;(R=s.current)===null||R===void 0||(R=R.getList())===null||R===void 0||R.map(function(ae,oe){var L;(L=s.current)===null||L===void 0||L.remove(oe)})}}});function we(ne){try{var R,ae;ne==""&&(ne=Ie());for(var oe=(R=(ae=s.current)===null||ae===void 0||(ae=ae.getList())===null||ae===void 0?void 0:ae.length)!==null&&R!==void 0?R:0,L=oe;L>=0;L--){var q;(q=s.current)===null||q===void 0||q.remove(L)}var e=ne.split(`
`),ie=0;e.map(function(fe){var ce,re=fe.split("=");re.length<2||((ce=s.current)===null||ce===void 0||ce.add({name:re[0],value:re.slice(1).join("=")},ie),ie++)})}catch(fe){console.log(fe)}}function Ie(){if(s&&s.current&&s.current.getList){var ne,R=(ne=s.current)===null||ne===void 0?void 0:ne.getList();if(R){var ae=[];return R.map(function(oe){ae.push("".concat(oe.name,"=").concat(oe.value))}),ae.join(`
`)}else return""}else return""}return(0,o.jsxs)(B.Z,{ghost:r.showCardGhost,title:r.label?r.label:null,headerBordered:!0,extra:(r.showCodeMode||r.showImportButton)&&(0,o.jsxs)(P.Z,{children:[r.showImportButton&&(0,o.jsx)("div",{style:{marginBottom:"-25px"},children:(0,o.jsx)(G.Z,{title:"\u5BFC\u5165 env \u6587\u4EF6",onImport:function(R){return we(R),!0},onLoad:function(R){if(R.indexOf("=")<0)throw new Error("\u5BFC\u5165env\u6587\u4EF6\u9519\u8BEF");return!0}})}),r.showCodeMode?(0,o.jsx)(g.ZP,{icon:(0,o.jsx)(te.Z,{}),type:O=="code"?"primary":"default",onClick:Te,children:"\u4EE3\u7801\u6A21\u5F0F"},"code"):""]}),children:[(0,o.jsx)(F.u,{name:r.name?r.name:"environment",actionRef:s,creatorButtonProps:r.showAddButton?{creatorButtonText:"\u6DFB\u52A0\u5BB9\u5668\u73AF\u5883\u53D8\u91CF"}:!1,copyIconProps:!1,min:100,label:r.listLabel,children:function(R,ae,oe){var L=oe.getCurrentRowData();return(0,o.jsxs)(Z.UW,{children:[(0,o.jsx)(A.Z,{width:r.showInDrawer?"sm":"md",name:"name",label:"\u53D8\u91CF\u540D",required:!0,rules:[{required:!0}],disabled:r.showDisableName,placeholder:"\u8F93\u5165\u53D8\u91CF\u540D\u79F0"}),(0,o.jsx)(A.Z,{width:r.showInDrawer?"sm":"md",name:"value",label:"\u53D8\u91CF\u503C",rules:[{required:!!r.requireValue}],disabled:r.showDisableValue,placeholder:L&&L.label?L.label:"\u8F93\u5165\u53D8\u91CF\u503C"})]})}}),(0,o.jsx)(ue.Z,{width:"800px",open:O=="code",onCancel:function(){return c("docker-image")},onOk:function(){we(Q),c("docker-image")},children:(0,o.jsx)(D.ZP,{onChange:function(R){return _(R)},value:Ie(),height:"680px",theme:"light"})})]})});z.Z=i},4798:function(ge,z,n){var ee=n(15009),t=n.n(ee),te=n(99289),B=n.n(te),F=n(5574),Z=n.n(F),A=n(24963),P=n(14946),g=n(64789),ue=n(38345),d=n(52688),D=n(17186),G=n(24739),o=n(5966),k=n(62370),i=n(10641),r=n(42075),J=n(25593),y=n(85265),N=n(66309),O=n(28036),c=n(67294),s=n(85893),m=(0,c.forwardRef)(function(a,Q){var _=(0,c.useContext)(A.Z),Te=_.notice,we=(0,c.useState)(!1),Ie=Z()(we,2),ne=Ie[0],R=Ie[1],ae=(0,c.useRef)();(0,c.useImperativeHandle)(Q,function(){return{}});var oe=function(q){var e,ie,fe=!1,ce=(e=(ie=ae.current)===null||ie===void 0?void 0:ie.getList())!==null&&e!==void 0?e:[];if(ce.map(function(je){je.name==q.name&&(fe=!0)}),!fe){var re;(re=ae.current)===null||re===void 0||re.add(q)}};return(0,s.jsxs)(ue.Z,{title:"\u5173\u8054\u7F51\u7EDC",headerBordered:!0,extra:(0,s.jsx)(r.Z,{children:a.showUseBridgeNetwork&&(0,s.jsx)(d.Z,{name:"useBridgeNetwork",fieldProps:{checkedChildren:"\u5173\u8054 Bridge \u7F51\u7EDC",unCheckedChildren:"\u5173\u8054 Bridge \u7F51\u7EDC"}},"useBridgeNetwork")}),children:[(0,s.jsx)(D.u,{name:"network",actionRef:ae,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u7F51\u7EDC"},actionGuard:{beforeAddRow:function(q,e){return!a.siteName||a.siteName==""||typeof a.siteName=="undefined"?(Te.error("\u8BF7\u8F93\u5165\u7AD9\u70B9\u6807\u8BC6"),!1):(R(!0),!1)}},copyIconProps:!1,min:0,itemRender:function(q,e){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(G.UW,{children:[(0,s.jsx)(o.Z,{label:"\u7F51\u7EDC\u540D\u79F0",name:"name",width:"md",disabled:!0,fieldProps:{value:e.record.name}}),(0,s.jsx)(k.Z,{label:"\u8BBF\u95EEHostname",name:"alise",children:e.record.alise!=""&&(0,s.jsx)(J.Z.Text,{code:!0,copyable:!0,children:e.record.alise})}),(0,s.jsx)(k.Z,{label:" ",children:q.action})]}),(0,s.jsx)(G.UW,{children:(0,s.jsx)(o.Z,{label:"\u6307\u5B9AIpV4",name:"ipV4",width:"md",disabled:e.record.name=="bridge",fieldProps:{addonAfter:e.record.subnet}})})]})}}),(0,s.jsx)(y.Z,{title:"\u9009\u62E9\u7F51\u7EDC",width:800,footer:!1,open:ne,onClose:function(){return R(!1)},children:(0,s.jsx)(i.Z,{rowKey:"Name",toolBarRender:!1,columns:[{title:"\u540D\u79F0",dataIndex:"Name",render:function(q,e,ie,fe,ce){return e.Name=="none"||e.Name=="bridge"||e.Name=="host"?(0,s.jsxs)(s.Fragment,{children:[e.Name," ",(0,s.jsx)(N.Z,{color:"blue",children:"System"})]}):(0,s.jsx)(s.Fragment,{children:q})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4 IPAM Network",search:!1,dataIndex:["IPAM","Config",0,"Subnet"],render:function(q,e,ie,fe,ce){return(0,s.jsxs)(r.Z,{children:[e.IPAM.Config&&e.IPAM.Config[0]&&"".concat(e.IPAM.Config[0].Subnet," - ").concat(e.IPAM.Config[0].Gateway),e.IPAM.Config&&e.IPAM.Config[1]&&"".concat(e.IPAM.Config[1].Subnet," - ").concat(e.IPAM.Config[1].Gateway)]})}},{title:"\u64CD\u4F5C",width:100,search:!1,render:function(q,e,ie,fe,ce){return[e.Name!="none"&&e.Name!="bridge"&&e.Name!="host"&&(0,s.jsx)(O.ZP,{type:"link",onClick:function(){oe({name:e.Name,alise:[""],subnet:e.IPAM.Config[0].Subnet}),R(!1)},children:(0,s.jsx)(g.Z,{})},e.Id)]}}],request:function(){var L=B()(t()().mark(function q(e,ie,fe){var ce;return t()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return je.next=2,(0,P.jR)({name:e.Name});case 2:return ce=je.sent,je.abrupt("return",{data:ce.data.list,success:!0,total:ce.data.list.length});case 4:case"end":return je.stop()}},q)}));return function(q,e,ie){return L.apply(this,arguments)}}(),pagination:{pageSize:10}})})]})});z.Z=m},92067:function(ge,z,n){n.d(z,{Z:function(){return G}});var ee=n(15009),t=n.n(ee),te=n(99289),B=n.n(te),F=n(60335),Z=n(64789),A=n(10641),P=n(42075),g=n(28036),ue=n(37413),d=n(5251),D=n(85893);function G(o){return(0,D.jsx)(A.Z,{columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"name",render:function(i,r,J,y){return(0,D.jsx)(P.Z,{direction:"vertical",style:{textAlign:"left"},children:r==null?void 0:r.Names.map(function(N){return(0,d.fi)(N,"/")})},r.Id)}},{title:"\u7AEF\u53E3",dataIndex:"ports",search:!1,render:function(i,r,J,y){var N=[],O=[];return r!=null&&r.Ports&&r.Ports.map(function(c,s){c.PublicPort?N.push(c):O.push(c)}),(0,D.jsx)(ue.Z,{publicPort:N,privatePort:O,domain:[]})}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",ellipsis:!0,width:100,render:function(i,r,J,y){return[(0,D.jsx)(g.ZP,{type:"link",onClick:B()(t()().mark(function N(){var O;return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,F.jV)({md5:r.Id});case 2:O=s.sent,o.onSelect&&o.onSelect(O.data.info);case 4:case"end":return s.stop()}},N)})),children:(0,D.jsx)(Z.Z,{})},r.Id)]}}],rowKey:"Id",request:function(){var k=B()(t()().mark(function i(r,J,y){var N;return t()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,F.IE)({siteTitle:r.name});case 2:return N=c.sent,c.abrupt("return",{data:N.data.list,success:!0,total:N.data.list.length});case 4:case"end":return c.stop()}},i)}));return function(i,r,J){return k.apply(this,arguments)}}(),pagination:{pageSize:9}})}},52255:function(ge,z,n){n.d(z,{Z:function(){return te}});var ee=n(67294),t=n(85893);function te(B){return(0,t.jsx)("div",{style:{display:B.show?"block":"none"},children:B.children})}},44349:function(ge,z,n){var ee=n(97857),t=n.n(ee),te=n(17186),B=n(5966),F=n(86250),Z=n(67294),A=n(85893),P=(0,Z.forwardRef)(function(g,ue){var d=(0,Z.useRef)();(0,Z.useImperativeHandle)(ue,function(){return{addItem:function(o,k){var i,r=(i=d.current)===null||i===void 0?void 0:i.getList(),J=!1;if(r==null||r.map(function(N){if(N.name==o){J=!0;return}}),!J){var y;(y=d.current)===null||y===void 0||y.add({name:o,value:k})}},clear:function(){var o;(o=d.current)===null||o===void 0||(o=o.getList())===null||o===void 0||o.map(function(k,i){var r;(r=d.current)===null||r===void 0||r.remove(i)})}}});var D={};return g.hideCopyButton===!0&&(D.copyIconProps=!1),g.hideDeleteButton===!0&&(D.deleteIconProps=!1),(0,A.jsx)(te.u,t()(t()({initialValue:g.initialValue,label:g.label,name:g.name,actionRef:d,creatorButtonProps:g.showAddButton?{creatorButtonText:"\u6DFB\u52A0"+(g.label?g.label:g.name)}:!1,min:g.min?g.min:0},D),{},{children:function(o,k,i){return(0,A.jsx)(F.Z,{justify:g.justify,gap:g.gap,children:g.items.map(function(r){return r.render?(0,A.jsx)("div",{children:r.render&&r.render(o,k,i)},"".concat(g.name,"-").concat(r.name,"-").concat(o.key)):(0,A.jsx)(B.Z,{width:r.width,name:r.name,label:r.label,required:r.required,rules:[{required:r.required}],disabled:r.disabled,placeholder:r.placeholder},"".concat(g.name,"-").concat(r.name,"-").concat(o.key))})})}}))});z.Z=P},12491:function(ge,z,n){n.d(z,{Z:function(){return P}});var ee=n(24963),t=n(88484),te=n(62370),B=n(31418),F=n(28036),Z=n(67294),A=n(85893);function P(g){var ue=(0,Z.useContext)(ee.Z),d=ue.message,D=ue.notice,G=ue.lang,o=(0,Z.useRef)(null),k=B.Z.useApp(),i=function(){o.current&&(o.current.click(),o.current.onchange=function(J){if(!J||!J.target)return"";var y=new FileReader;y.onload=function(O){var c,s,m=(c=O.target)===null||c===void 0?void 0:c.result;if(g.onLoad)try{g.onLoad&&g.onLoad(m)}catch(a){D.error(a);return}typeof g.onImport=="function"&&(d.success("\u6210\u529F\u5BFC\u5165 ".concat(g.title)),g.onImport(m)),(s=o.current)!==null&&s!==void 0&&s.value&&(o.current.value="")};var N=J.target;if(N.files)try{y.readAsText(N.files[0])}catch(O){D.error("\u5BFC\u5165\u6587\u4EF6\u5FC5\u987B\u662F\u6587\u672C\u7C7B\u578B")}})};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(te.Z,{children:(0,A.jsx)(F.ZP,{icon:(0,A.jsx)(t.Z,{}),block:!0,onClick:i,children:g.title})}),(0,A.jsx)("input",{style:{display:"none"},type:"file",ref:o,name:"importFileInput"})]})}},35880:function(ge,z,n){var ee=n(67294),t=(0,ee.createContext)({});z.Z=t},80378:function(ge,z,n){n.r(z),n.d(z,{default:function(){return An}});var ee=n(15009),t=n.n(ee),te=n(99289),B=n.n(te),F=n(5574),Z=n.n(F),A=n(90078),P=n(38345),g=n(97269),ue=n(2236),d=n(5966),D=n(97462),G=n(64218),o=n(92398),k=n(38925),i=n(67294),r=n(35880),J=n(10641),y=n(62370),N=n(85576),O=n(42075),c=n(96074),s=n(25593),m=n(83062),a=n(71230),Q=n(15746),_=n(28036),Te=n(3393),we=n(18148),Ie=n(5251),ne=n(64789),R=n(75162),ae=n(85060),oe=n(28307),L=n(78451),q=n(99861),e=n(85893);function ie(E){var V=(0,i.useState)(!1),M=Z()(V,2),U=M[0],j=M[1],b=(0,i.useRef)(),f=(0,i.useContext)(r.Z),p=f.createFormRef,T=f.volumeListRef,I=f.createEnvRef,h=f.domainRef,C=(0,i.useRef)(),W=function(){var x=B()(t()().mark(function w(v){var S,le,X,Y,de,he,pe,me,ve,De,Fe,ye;return t()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return j(!1),K.next=3,(0,Te.YU)({md5:v});case 3:Y=K.sent,E.redeploy||(me=(de=p.current)===null||de===void 0?void 0:de.getFieldsValue(),(he=p.current)===null||he===void 0||he.resetFields(),(pe=p.current)===null||pe===void 0||pe.setFieldsValue({siteName:me.siteName,siteTitle:me.siteTitle,useBridgeNetwork:me.useBridgeNetwork})),Y.data.info.Config.Env&&Y.data.info.Config.Env.map(function(l){var se,u=l.split("=");(se=I.current)===null||se===void 0||se.addEnvItem(u[0],u.slice(1).join("="))}),(S=p.current)===null||S===void 0||S.setFieldValue("imageName",v),(le=p.current)===null||le===void 0||le.setFieldValue("workDir",Y.data.info.Config.WorkingDir),(X=h.current)===null||X===void 0||X.setExposePort(Y.data.info.Config.ExposedPorts),E.redeploy||(Y.data.info.Config.Volumes?(Fe=[],Object.keys(Y.data.info.Config.Volumes).map(function(l,se){Fe.push(l)}),(De=T.current)===null||De===void 0||De.setDefaultDestPath(Fe)):(ye=T.current)===null||ye===void 0||ye.setDefaultDestPath([]),(ve=p.current)===null||ve===void 0||ve.setFieldsValue({workDir:{value:"",useDefault:!0,default:Y.data.info.Config.WorkingDir},user:{value:"",useDefault:!0,default:Y.data.info.Config.User},command:{value:"",useDefault:!0,default:Y.data.info.Config.Cmd&&Y.data.info.Config.Cmd.join(" ")},entrypoint:{value:"",useDefault:!0,default:Y.data.info.Config.Entrypoint&&Y.data.info.Config.Entrypoint.join(" ")}}));case 10:case"end":return K.stop()}},w)}));return function(v){return x.apply(this,arguments)}}();return(0,i.useEffect)(function(){E.fromImageId&&W(E.fromImageId)},[E.fromImageId]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(N.Z,{open:U,width:1024,title:"\u9009\u62E9\u955C\u50CF",footer:!1,onCancel:function(){return j(!1)},children:(0,e.jsx)(J.Z,{scroll:{x:"max-content"},columns:[{title:"Id",dataIndex:"Id",search:!1,width:200,render:function(w,v,S,le,X){return(0,e.jsx)(L.Z,{content:v.Id})}},{title:"\u955C\u50CF\u540D\u79F0",dataIndex:"tag",width:200,render:function(w,v,S,le){return(0,e.jsx)(L.Z,{content:v.RepoTags[0]})}},{title:"\u521B\u5EFA\u65E5\u671F",dataIndex:"Created",ellipsis:!0,search:!1,width:"180px",render:function(w,v,S,le){return(0,e.jsx)("div",{children:(0,Ie.ZM)(v.Created*1e3)},v.Id)},sorter:function(w,v){return w.Created-v.Created}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:80,render:function(w,v,S,le){return(0,e.jsxs)(O.Z,{split:(0,e.jsx)(c.Z,{type:"vertical"}),children:[(0,e.jsx)(s.Z.Link,{onClick:B()(t()().mark(function X(){return t()().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.abrupt("return",W(v.RepoTags[0]));case 1:case"end":return de.stop()}},X)})),children:(0,e.jsx)(m.Z,{title:"\u4F7F\u7528\u955C\u50CF",children:(0,e.jsx)(ne.Z,{})})},"addImage"),(0,e.jsx)(s.Z.Link,{onClick:B()(t()().mark(function X(){var Y;return t()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:v.RepoTags[0]&&((Y=C.current)===null||Y===void 0||Y.setImageName(v.RepoTags[0]));case 1:case"end":return he.stop()}},X)})),children:(0,e.jsx)(m.Z,{title:"\u66F4\u65B0\u955C\u50CF",children:(0,e.jsx)(R.Z,{})})},"updateImage")]})}}],request:function(){var x=B()(t()().mark(function w(v,S,le){var X,Y,de,he,pe;return t()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return E.redeploy&&(Y=(X=p.current)===null||X===void 0?void 0:X.getFieldValue("imageName"),v.tag=Y?Y.split(":")[0]:v.tag),ve.next=3,(0,we.KG)({tag:v.tag});case 3:return de=ve.sent,he=0,pe=[],de.data.list&&(pe=de.data.list.flatMap(function(De){return De.RepoTags.map(function(Fe){return{Key:he++,Id:De.Id,Created:De.Created,RepoTags:[Fe]}})})),ve.abrupt("return",{data:pe,success:!0,total:pe.length});case 8:case"end":return ve.stop()}},w)}));return function(w,v,S){return x.apply(this,arguments)}}(),toolBarRender:function(){return[(0,e.jsx)(oe.Z,{onClick:function(){j(!1)},buttonType:"primary",ref:C,onFinish:function(v){W(v)}},"remote")]},formRef:b,rowKey:"Key",pagination:{pageSize:5}})},"imageTableList"),(0,e.jsxs)(a.Z,{children:[(0,e.jsx)(Q.Z,{span:14,children:(0,e.jsx)(d.Z,{label:"\u955C\u50CF",tooltip:E.redeploy?"\u66F4\u65B0\u5BB9\u5668\u65F6,\u53EA\u53EF\u4EE5\u9009\u62E9\u8BE5\u955C\u50CF\u4E0B\u7684\u4E0D\u540Ctag.\u4E5F\u53EF\u4EE5\u5F3A\u5236\u66F4\u65B0\u5DF2\u90E8\u7F72tag,\u66F4\u6B21\u90E8\u7F72":"\u65B0\u5EFA\u5BB9\u5668\u65F6,\u53EF\u4EE5\u4F7F\u7528\u672C\u5730\u955C\u50CF,\u4E5F\u53EF\u4EE5\u4E0B\u8F7D\u5168\u65B0\u7684\u955C\u50CF\u6216\u662F\u66F4\u65B0\u672C\u5730\u955C\u50CF\u7684tag",name:"imageName",disabled:!0,placeholder:"\u8BF7\u9009\u62E9\u955C\u50CF\uFF0C\u5982\u679C\u662F\u8FDC\u7A0B\u955C\u50CF\u8BF7\u5148\u4E0B\u8F7D",rules:[{required:!0}],required:!0})}),(0,e.jsx)(Q.Z,{children:(0,e.jsx)(y.Z,{label:" ",children:(0,e.jsxs)(O.Z.Compact,{children:[(0,e.jsx)(_.ZP,{type:"primary",onClick:function(){return j(!0)},children:E.redeploy?"\u66F4\u6362\u955C\u50CF":"\u9009\u62E9\u955C\u50CF"},"showBtn"),(0,e.jsx)(D.Z,{name:["imageName"],children:function(w){var v=w.imageName;return E.redeploy?(0,e.jsx)(q.Z,{image:[v],trigger:(0,e.jsx)(m.Z,{title:"\u91CD\u65B0\u62C9\u53D6\u5F53\u524D\u955C\u50CF",children:(0,e.jsx)(_.ZP,{icon:(0,e.jsx)(ae.Z,{}),children:"\u62C9\u53D6\u5F53\u524D\u955C\u50CF"})})}):(0,e.jsx)(oe.Z,{onClick:function(){j(!1)},ref:C,onFinish:function(le){W(le)}},"remote")}})]})})})]})]})}var fe=n(60335),ce=n(51042),re=n(24739),je=n(63434),Me=n(17186),Qe=n(85265),qe=n(92067),en=(0,i.forwardRef)(function(E,V){var M=(0,i.useState)(!1),U=Z()(M,2),j=U[0],b=U[1],f=(0,i.useRef)(),p=function(h){var C=(0,i.useState)([]),W=Z()(C,2),x=W[0],w=W[1];return(0,i.useEffect)(function(){(0,fe.jV)({md5:h.name}).then(function(v){var S;return w((S=v.data.info.Config.Env)!==null&&S!==void 0?S:[]),!0})},[]),(0,e.jsxs)(P.Z,{bordered:!0,extra:h.action,style:{marginBottom:10},children:[(0,e.jsx)(P.Z,{title:"\u5173\u8054\u4FE1\u606F",children:(0,e.jsxs)(re.UW,{children:[(0,e.jsx)(d.Z,{label:"\u5BB9\u5668\u540D\u79F0",name:"name",width:"md",readonly:!0}),(0,e.jsx)(d.Z,{label:"\u8BBF\u95EEHostName",name:"alise",width:"md",tooltip:"\u901A\u8FC7\u914D\u7F6E\u6B64\u540D\u79F0\uFF0C\u5728\u5BB9\u5668\u5185\u90E8\u8FDB\u884C\u8BF7\u6C42\u8BBF\u95EE"}),(0,e.jsx)(je.Z,{label:"\u5173\u8054\u5B58\u50A8",name:"volume"})]})}),(0,e.jsx)(P.Z,{title:"\u73AF\u5883\u53D8\u91CF",children:(0,e.jsx)(O.Z,{direction:"vertical",children:x&&x.map(function(v,S){return(0,e.jsx)(s.Z.Text,{copyable:{icon:(0,e.jsx)(ce.Z,{}),onCopy:function(){var X=v.split("=");E.onAddEnv(X[0],X[1])},tooltips:["add env","success"]},code:!0,ellipsis:{tooltip:v},style:{width:300},children:v},S)})},"linkEnv")})]})},T=function(h){var C,W,x=!1,w=(C=(W=f.current)===null||W===void 0?void 0:W.getList())!==null&&C!==void 0?C:[];if(w.map(function(S){S.name==h.name&&(x=!0)}),!x){var v;(v=f.current)===null||v===void 0||v.add(h)}};return(0,i.useImperativeHandle)(V,function(){return{setDefaultLink:function(h){h&&h.map(function(C){C.name!=""&&T(C)})}}}),(0,e.jsxs)(P.Z,{title:"\u5173\u8054\u5BB9\u5668",headerBordered:!0,children:[(0,e.jsx)(Me.u,{name:"links",actionRef:f,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5173\u8054"},actionGuard:{beforeAddRow:function(h,C){return b(!0),!1}},copyIconProps:!1,min:0,itemRender:function(h,C){return(0,e.jsx)(p,{action:h.action,name:C.record.name})}}),(0,e.jsx)(Qe.Z,{title:"\u9009\u62E9\u5BB9\u5668",width:800,footer:!1,open:j,onClose:function(){return b(!1)},children:(0,e.jsx)(qe.Z,{onSelect:function(h){T({name:h.Name,alise:h.Config.Hostname,volume:!1}),b(!1)}})})]})}),nn=en,tn=n(91058),Re=n(64317),un=(0,i.forwardRef)(function(E,V){var M=(0,i.useRef)();return(0,i.useImperativeHandle)(V,function(){return{setDefaultDestPath:function(j){var b,f,p=(b=(f=M.current)===null||f===void 0?void 0:f.getList())!==null&&b!==void 0?b:[];j.length!=0&&j.filter(function(T){return T!=""}).map(function(T){var I=!1;if(p.map(function(C){if(C.dest==T){I=!0;return}}),!I){var h;(h=M.current)===null||h===void 0||h.add({dest:T,permission:"write",inImage:!0})}})},addUserVolumeItem:function(j,b){var f,p=(f=M.current)===null||f===void 0?void 0:f.getList(),T=!1;if(p==null||p.map(function(h){if(h.dest==b){T=!0;return}}),!T){var I;(I=M.current)===null||I===void 0||I.add({host:j,dest:b})}}}}),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(P.Z,{title:"\u81EA\u5B9A\u4E49\u6302\u8F7D\u6216\u662F\u5B58\u50A8\u5377",tooltip:"\u6302\u8F7D\u53EF\u4EE5\u662F\u5BBF\u4E3B\u673A\u7684\u76EE\u5F55\u6216\u662F\u6587\u4EF6\uFF0C\u4E5F\u53EF\u4EE5\u6307\u5B9A\u5B58\u50A8\u5377\u540D\uFF08\u81EA\u52A8\u65B0\u5EFA\uFF09\u3002",headerBordered:!0,direction:"column",children:(0,e.jsx)(Me.u,{actionRef:M,name:"volumes",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u6620\u5C04\u76EE\u5F55"},copyIconProps:!1,min:0,children:function(j,b,f){var p=f.getCurrentRowData();return(0,e.jsxs)(re.UW,{children:[(0,e.jsxs)(O.Z.Compact,{children:[(0,e.jsx)(d.Z,{label:"\u5BBF\u4E3B\u673A\u6587\u4EF6\u3001\u76EE\u5F55\u6216\u5B58\u50A8\u5377",name:"host",width:E.showInDrawer?"sm":"md"}),(0,e.jsx)(Re.Z,{label:" ",valueEnum:{write:"\u8BFB\u5199",readonly:"\u53EA\u8BFB"},initialValue:"write",name:"permission"})]}),(0,e.jsx)(d.Z,{label:"\u5BB9\u5668\u5185\u8DEF\u5F84",name:"dest",width:E.showInDrawer?"sm":"md",required:!0,rules:[{required:!0}],disabled:E.disabledUserVolumeDest||p.inImage})]})}})})})}),an=un,rn=n(2831),Be=n(52688),Ge=n(86125),sn=n(44349);function on(E){var V,M=(0,i.useState)(),U=Z()(M,2),j=U[0],b=U[1];return(0,i.useEffect)(function(){(0,rn.aF)().then(function(f){return b(f.data.info)})},[]),(0,e.jsxs)(P.Z,{children:[(0,e.jsx)(d.Z,{label:"\u5171\u4EAB\u5185\u5B58\u5927\u5C0F - /dev/shm",name:"shmsize",initialValue:"64M",tooltip:"0 \u4E3A\u4F7F\u7528\u9ED8\u8BA464M\uFF0C\u914D\u7F6E\u65F6\u8BF7\u9644\u52A0\u5355\u4F4D\uFF0C\u4F8B\u5982\uFF1A1G"}),(0,e.jsx)(y.Z,{label:"\u6700\u5927Cpu\u914D\u989D",name:"cpus",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(Ge.Z,{step:.1,max:j==null?void 0:j.NCPU,marks:{0:"0",.5:"0.5\u6838",1:"1\u6838",1.5:"1.5\u6838",2:"2\u6838",4:"4\u6838",6:"6\u6838",8:"8\u6838"}})}),(0,e.jsx)(y.Z,{label:"\u6700\u5927\u5185\u5B58\u914D\u989D",name:"memory",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(Ge.Z,{step:256,max:Math.round(((V=j==null?void 0:j.MemTotal)!==null&&V!==void 0?V:0)/1024/1024),marks:{0:"0",1024:"1G",2048:"2G",3072:"3G",4096:"4G"}})}),(0,e.jsx)(Re.Z,{label:"\u65E5\u5FD7\u7C7B\u578B",name:["log","driver"],tooltip:"\u9ED8\u8BA4\u4F7F\u7528 json-file \u9A71\u52A8\u7531 docker \u7EDF\u4E00\u7BA1\u7406\u3002\u91C7\u7528 journal \u65F6\u65E5\u5FD7\u5C06\u6765\u5BBF\u4E3B\u673A\u7BA1\u7406",initialValue:"json-file",valueEnum:{"json-file":"json-file",journald:"journal (\u5BBF\u4E3B\u9700\u8981\u5B89\u88C5journal\u670D\u52A1)"}}),(0,e.jsx)(D.Z,{name:["log"],children:function(p){var T=p.log;if(T.driver=="json-file")return(0,e.jsxs)(re.UW,{children:[(0,e.jsx)(d.Z,{label:"\u65E5\u5FD7\u5207\u5272\u5C3A\u5BF8",name:["log","maxSize"],placeholder:"\u4F8B\u5982\uFF1A10k,5M",tooltip:"\u9ED8\u8BA4 Docker \u5E76\u4E0D\u4F1A\u81EA\u52A8\u5207\u5272\u65E5\u5FD7"}),(0,e.jsx)(d.Z,{tooltip:"\u9ED8\u8BA4 Docker \u5E76\u4E0D\u4F1A\u81EA\u52A8\u6E05\u7406\u65E5\u5FD7\u6587\u4EF6",label:"\u4FDD\u7559\u65E5\u5FD7\u6587\u4EF6\u6570",name:["log","maxFile"],placeholder:"\u4F8B\u5982\uFF1A10"})]})}}),(0,e.jsx)(sn.Z,{name:"device",label:"\u5173\u8054\u8BBE\u5907",hideCopyButton:!0,showAddButton:!0,items:[{label:"\u5BBF\u4E3B\u673A\u8DEF\u5F84",name:"host",width:"md",placeholder:"\u4F8B\u5982\uFF1A/dev/tty0"},{label:"\u5BB9\u5668\u5185\u8DEF\u5F84",name:"dest",width:"md",placeholder:"\u4F8B\u5982\uFF1A/dev/tty0"}]}),(0,e.jsxs)(a.Z,{children:[(0,e.jsx)(Q.Z,{span:4,children:(0,e.jsx)(Be.Z,{label:"\u4F7F\u7528 Gpu",name:["gpus","enable"]})}),(0,e.jsx)(Q.Z,{span:20,children:(0,e.jsx)(D.Z,{name:["gpus"],children:function(p){var T=p.gpus;if(T&&T.enable)return(0,e.jsx)(Re.Z,{mode:"tags",label:"\u8BBE\u5907\u5217\u8868",name:["gpus","device"],placeholder:"\u914D\u7F6E\u4F7F\u7528\u8BBE\u5907id\u6216\u662Fuuid\uFF0C\u4E0D\u586B\u6240\u4E3A\u6240\u6709\u8BBE\u5907"})}})})]}),(0,e.jsx)(D.Z,{name:["gpus"],children:function(p){var T=p.gpus;if(T&&T.enable)return(0,e.jsx)(Re.Z,{label:"\u8BA1\u7B97\u80FD\u529B",name:["gpus","capabilities"],mode:"multiple",fieldProps:{allowClear:!0},options:[{label:"compute - \u8BA1\u7B97\u80FD\u529B",value:"compute"},{label:"compat32 - \u517C\u5BB932\u4F4D",value:"compat32"},{label:"graphics - \u56FE\u5F62\u5904\u7406\u80FD\u529B",value:"graphics"},{label:"utility - \u76D1\u63A7\u548C\u7BA1\u7406\u80FD\u529B",value:"utility"},{label:"video - \u89C6\u9891\u5904\u7406\u80FD\u529B",value:"video"},{label:"display - \u663E\u793A\u56FE\u5F62\u754C\u9762\u80FD\u529B",value:"display"}]})}})]})}function ln(){return(0,e.jsx)(P.Z,{title:"\u5BB9\u5668\u6807\u7B7E",children:(0,e.jsx)(Me.u,{name:"label",label:"",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BB9\u5668\u6807\u7B7E"},copyIconProps:!1,min:0,children:(0,e.jsxs)(re.UW,{children:[(0,e.jsx)(d.Z,{width:"md",name:"name",label:"\u540D\u79F0",placeholder:""}),(0,e.jsx)(d.Z,{width:"md",name:"value",label:"\u503C",placeholder:""})]})})})}var dn=n(44771),cn=n(86615),In="default",On="user";function mn(E){return(0,e.jsx)(y.Z,{label:E.label,tooltip:E.tooltip,children:(0,e.jsxs)(O.Z.Compact,{block:!0,children:[(0,e.jsx)(cn.Z.Group,{radioType:"button",name:[E.name,"useDefault"],options:[{label:"\u4F7F\u7528\u9ED8\u8BA4",value:!0},{label:"\u81EA\u5B9A\u4E49",value:!1}]}),(0,e.jsx)(D.Z,{name:[E.name],children:function(M){return M[E.name]&&M[E.name].useDefault?(0,e.jsx)(d.Z,{name:[E.name,"default"],disabled:!0,placeholder:"\u672A\u8BBE\u7F6E"}):(0,e.jsx)(d.Z,{name:[E.name,"value"]})}})]})})}var Ue=mn,ke=n(24963);function fn(){var E=(0,i.useContext)(ke.Z),V=E.notice,M=E.lang;return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(P.Z,{children:[(0,e.jsx)(dn.Z,{label:"\u91CD\u542F\u7B56\u7565"}),(0,e.jsxs)(re.UW,{children:[(0,e.jsx)(Be.Z,{fieldProps:{onChange:function(j){j&&V.warning(M("app.create.privilegedNotice"))}},name:"privileged",label:"\u8D4B\u4E88\u5BB9\u5668Root\u6743\u9650",initialValue:!1}),(0,e.jsx)(Be.Z,{name:"autoRemove",label:"\u505C\u6B62\u540E\u81EA\u52A8\u5220\u9664",initialValue:!1}),(0,e.jsx)(Be.Z,{fieldProps:{onChange:function(j){j&&V.warning(M("app.create.hostPidNotice"))}},name:"hostPid",label:"\u5173\u8054\u5BBF\u4E3B\u673APid",initialValue:!1})]}),(0,e.jsx)(Ue,{label:"\u5DE5\u4F5C\u76EE\u5F55",tooltip:"\u9ED8\u8BA4\u4F7F\u7528\u955C\u50CF\u4E2D\u6307\u5B9A\u7684\u5DE5\u4F5C\u76EE\u5F55",name:"workDir"}),(0,e.jsx)(Ue,{label:"User",tooltip:"\u5728\u5BB9\u5668\u4E2D\u8FD0\u884C\u547D\u4EE4\u7684\u7528\u6237",name:"user"}),(0,e.jsx)(Ue,{label:"Command",tooltip:"\u542F\u52A8\u5BB9\u5668\u65F6\u8FD0\u884C\u7684\u547D\u4EE4\uFF0C\u4EE5\u7A7A\u683C\u5206\u9694",name:"command"}),(0,e.jsx)(Ue,{label:"Entrypoint",tooltip:"\u65E0\u6CD5\u8986\u76D6\u955C\u50CF\u4E2D\u5DF2\u7ECF\u6307\u5B9A\u7684 Entrypoint \u547D\u4EE4",name:"entrypoint"})]})})}var hn=n(91845),Ye=n(62597),ze=n(82346),vn=n(4798),pn=(0,i.forwardRef)(function(E,V){var M=(0,i.useState)(""),U=Z()(M,2),j=U[0],b=U[1],f=(0,i.useRef)(),p=(0,i.useContext)(r.Z),T=p.createFormRef;return(0,i.useImperativeHandle)(V,function(){return{setExposePort:function(h){if(h){var C,W,x=(C=(W=f.current)===null||W===void 0?void 0:W.getList())!==null&&C!==void 0?C:[];Object.keys(h).map(function(w){var v=!1;if(x.map(function(le){le.dest==w&&(v=!0)}),!v){var S;(S=f.current)===null||S===void 0||S.add({host:"",dest:w})}})}},setHostname:function(h){b(h)},addPortItem:function(h,C){var W,x=(W=f.current)===null||W===void 0?void 0:W.getList(),w=!1;if(x==null||x.map(function(S){if(S.host==h){w=!0;return}}),!w){var v;(v=f.current)===null||v===void 0||v.add({host:String(h),dest:String(C)})}}}}),(0,e.jsx)(P.Z,{title:"\u7ED1\u5B9A\u7AEF\u53E3",tooltip:"\u8BBF\u95EE\u7AEF\u53E3\u7559\u7A7A\u65F6\u968F\u673A\u751F\u6210\u7AEF\u53E3\uFF0C\u5168\u90E8\u5220\u9664\u5219\u8868\u793A\u4E0D\u66B4\u9732\u7AEF\u53E3",headerBordered:!0,extra:(0,e.jsxs)(O.Z,{children:[E.showBindHost&&(0,e.jsx)(Be.Z,{name:"useHostNetwork",fieldProps:{checkedChildren:"\u7ED1\u5B9AHost\u7F51\u7EDC",unCheckedChildren:"\u7ED1\u5B9AHost\u7F51\u7EDC",onChange:function(h){if(h){var C;(C=T.current)===null||C===void 0||C.setFieldsValue({bindIpV6:!1,publishAllPorts:!1})}}}}),E.showBindIpV6&&(0,e.jsx)(D.Z,{name:["siteName","useHostNetwork"],children:function(h){var C=h.useHostNetwork;return(0,e.jsx)(Be.Z,{name:"publishAllPorts",fieldProps:{checkedChildren:"\u7ED1\u5B9A\u5168\u90E8\u7AEF\u53E3",unCheckedChildren:"\u7ED1\u5B9A\u5168\u90E8\u7AEF\u53E3"},disabled:C},"publishAllPorts")}}),E.showBindIpV6&&(0,e.jsx)(D.Z,{name:["siteName","useHostNetwork"],children:function(h){var C=h.useHostNetwork;return(0,e.jsx)(Be.Z,{name:"bindIpV6",fieldProps:{checkedChildren:"IpV6",unCheckedChildren:"IpV6"},disabled:C},"bindIpV6")}})]}),children:(0,e.jsx)(D.Z,{name:["useHostNetwork","bindIpV6","publishAllPorts"],children:function(h){var C=h.useHostNetwork,W=h.bindIpV6,x=h.publishAllPorts;if(!C&&!x)return(0,e.jsx)(Me.u,{name:"ports",actionRef:f,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BF9\u5916\u90E8\u8BBF\u95EE"},min:0,copyIconProps:!1,children:(0,e.jsxs)(re.UW,{children:[(0,e.jsx)(d.Z,{width:E.showInDrawer?"sm":"md",name:"host",label:"\u5916\u90E8\u8BBF\u95EE\u7AEF\u53E3",tooltip:"\u5BF9\u5916\u8BBF\u95EE\u53EF\u4EE5\u901A\u8FC7\u6DFB\u52A0\u8BBF\u95EE\u7AEF\u53E3\u6216\u662F\u521B\u5EFA\u5B8C\u6210\u540E\u5BF9\u5BB9\u5668\u7ED1\u5B9A\u57DF\u540D",placeholder:"\u7559\u7A7A\u5C06\u4F7F\u7528\u968F\u673A\u7AEF\u53E3\uFF0C\u7ED1\u5B9AIpV6\u5FC5\u586B",required:W,rules:[{required:W}]}),(0,e.jsx)(d.Z,{label:"\u5BB9\u5668\u5185\u7AEF\u53E3",width:E.showInDrawer?"sm":"md",name:"dest",placeholder:"\u6784\u5EFA\u65F6 Expose \u6307\u5B9A\u7684\u7AEF\u53E3",required:!0,rules:[{required:!0}]})]})})}})})}),_n=pn,Oe=n(52255);function En(){var E=(0,i.useRef)(),V=function(j){var b,f,p=!1,T=(b=(f=E.current)===null||f===void 0?void 0:f.getList())!==null&&b!==void 0?b:[];if(T.map(function(h){h.name==j.name&&(p=!0)}),!p){var I;(I=E.current)===null||I===void 0||I.add(j)}},M=function(j){var b,f,p=!1,T=(b=(f=E.current)===null||f===void 0?void 0:f.getList())!==null&&b!==void 0?b:[];T.map(function(I,h){if(I.name==j){var C;(C=E.current)===null||C===void 0||C.remove(h)}})};return(0,e.jsx)(P.Z,{title:"\u5173\u8054\u5BBF\u4E3B\u673A\u7F51\u7EDC\u5185\u4E3B\u673A",tooltip:"\u5BB9\u5668\u5185\u5982\u679C\u9700\u8981\u8BF7\u6C42\u5BBF\u4E3B\u673A\u6240\u5728\u7684\u7F51\u7EDC\u4E2D\u7684\u4E3B\u673A\uFF0C\u53EF\u4EE5\u901A\u8FC7\u6B64\u914D\u7F6E\u5C06Ip\u6CE8\u5165\u5230\u5BB9\u5668\u4E2D",extra:(0,e.jsx)(O.Z,{children:(0,e.jsx)(Be.Z,{name:"enableBindHost",fieldProps:{checkedChildren:"\u7ED1\u5B9A\u5BBF\u4E3B\u673AIp",unCheckedChildren:"\u7ED1\u5B9A\u5BBF\u4E3B\u673AIp",onChange:function(j){j?V({name:"host.dpanel.local",value:"host-gateway"}):M("host.dpanel.local")}}})}),children:(0,e.jsx)(Me.u,{name:"extraHosts",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BBF\u4E3B\u673A\u7F51\u7EDC\u5173\u8054"},actionRef:E,copyIconProps:!1,min:0,children:(0,e.jsxs)(re.UW,{children:[(0,e.jsx)(d.Z,{width:"md",name:"name",label:"Hostname",placeholder:""}),(0,e.jsx)(d.Z,{width:"md",name:"value",label:"ip",placeholder:""})]})})})}var Ne=n(90672),Cn=(0,i.forwardRef)(function(E,V){return(0,i.useImperativeHandle)(V,function(){return{}}),(0,e.jsxs)(P.Z,{title:"\u7F51\u7EDC\u914D\u7F6E",children:[(0,e.jsxs)(re.UW,{children:[(0,e.jsx)(d.Z,{label:"\u914D\u7F6E ipV4 \u5730\u5740",name:["ipV4","address"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u5730\u5740\uFF0C\u4F8B\u5982 192.168.1.5",placeholder:"192.168.1.5"}),(0,e.jsx)(D.Z,{name:["ipV4"],children:function(U){var j=U.ipV4;return(0,e.jsx)(d.Z,{label:"\u914D\u7F6E ipV4 \u5B50\u7F51",name:["ipV4","subnet"],width:"md",required:j&&j.address,tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u6240\u5728\u7684\u5B50\u7F51\uFF0C\u4F8B\u5982 192.168.1.0/24",placeholder:"192.168.1.0/24",rules:[{required:j&&j.address}]})}}),(0,e.jsx)(d.Z,{label:"\u914D\u7F6E ipV4 \u7F51\u5173",name:["ipV4","gateway"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u7684\u7F51\u5173\uFF0C\u4F8B\u5982 192.168.1.1",placeholder:"192.168.1.1"}),(0,e.jsx)(Be.Z,{label:"\u81EA\u5B9A\u4E49ipV6",name:"enableIpV6Address"})]}),(0,e.jsx)(D.Z,{name:["enableIpV6Address"],children:function(U){var j=U.enableIpV6Address;if(j)return(0,e.jsxs)(re.UW,{children:[(0,e.jsx)(d.Z,{label:"\u914D\u7F6E ipV6 \u5730\u5740",name:["ipV6","address"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipV6\u5730\u5740\uFF0C\u4F8B\u5982 2001:db8::5",placeholder:"2001:db8::5"}),(0,e.jsx)(D.Z,{name:["ipV6"],children:function(f){var p=f.ipV6;return(0,e.jsx)(d.Z,{label:"\u914D\u7F6E ipV6 \u5B50\u7F51",name:["ipV6","subnet"],width:"md",required:p&&p.address,tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u6240\u5728\u7684\u5B50\u7F51\uFF0C\u4F8B\u5982 2001:db8::/48",placeholder:"2001:db8::/48",rules:[{required:p&&p.address}]})}}),(0,e.jsx)(d.Z,{label:"\u914D\u7F6E ipV6 \u7F51\u5173",name:["ipV6","gateway"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipV6\u7684\u7F51\u5173\uFF0C\u4F8B\u5982 2001:db8::1",placeholder:"2001:db8::1"})]})}}),(0,e.jsx)(Ne.Z,{label:"DNS\u914D\u7F6E",name:"dns",placeholder:"\u8BF7\u6307\u5B9Adns\u5730\u5740\uFF0C\u4F8B\u5982\uFF1A8.8.8.8\uFF0C\u4E00\u884C\u6DFB\u4E00\u6761dns\u5730\u5740"})]})}),gn=Cn,We=n(31199),jn=n(86250);function Bn(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(P.Z,{title:"\u9644\u52A0\u6267\u884C\u811A\u672C",headerBordered:!0,subTitle:"",children:(0,e.jsx)(Ne.Z,{label:"\u5BB9\u5668\u521B\u5EFA\u540E\u6267\u884C\u811A\u672C",name:["hook","containerCreate"],placeholder:"\u5BB9\u5668\u5728\u521B\u5EFA\u540E\u6267\u884C\u7684\u811A\u672C\uFF0C\u6B64\u811A\u672C\u5E76\u4E0D\u4F1A\u5F71\u54CD entrypoint \u53CA command\u3002\u4F8B\u5982\uFF1Als -al && touch abc.txt && apt update"})}),(0,e.jsxs)(P.Z,{title:"\u5065\u5EB7\u68C0\u67E5",headerBordered:!0,children:[(0,e.jsxs)(jn.Z,{gap:20,justify:"start",children:[(0,e.jsx)(We.Z,{label:"\u91CD\u590D\u95F4\u9694\u65F6\u95F4\uFF08\u79D2\uFF09",name:["healthcheck","interval"],initialValue:30}),(0,e.jsx)(We.Z,{label:"\u8D85\u65F6\u5931\u8D25\u65F6\u95F4\uFF08\u79D2\uFF09",name:["healthcheck","timeout"],initialValue:10}),(0,e.jsx)(We.Z,{label:"\u5931\u8D25\u91CD\u590D\u6B21\u6570",name:["healthcheck","retries"],initialValue:3}),(0,e.jsx)(Re.Z,{width:"sm",label:"\u811A\u672C\u6267\u884C\u73AF\u5883",initialValue:"CMD",name:["healthcheck","shellType"],valueEnum:{CMD:"\u5728 Docker \u73AF\u5883\u6267\u884C","CMD-SHELL":"\u5728\u5BB9\u5668\u5185\u6267\u884C"}})]}),(0,e.jsx)(Ne.Z,{label:"\u6267\u884C\u811A\u672C",name:["healthcheck","cmd"],placeholder:"\u914D\u7F6E\u5BB9\u5668\u5065\u5EB7\u68C0\u67E5\u811A\u672C\uFF0C\u4F8B\u5982\uFF1Acurl -f http://localhost:8080/ || exit 1"})]})]})}var Dn=n(74763),Xe=n(2487),Fn=[{name:"ALL"},{name:"AUDIT_CONTROL"},{name:"AUDIT_WRITE",default:!0},{name:"BLOCK_SUSPEND"},{name:"CHOWN",default:!0},{name:"DAC_OVERRIDE",default:!0},{name:"DAC_READ_SEARCH"},{name:"FOWNER",default:!0},{name:"FSETID",default:!0},{name:"IPC_LOCK"},{name:"IPC_OWNER"},{name:"KILL",default:!0},{name:"LEASE"},{name:"LINUX_IMMUTABLE"},{name:"MAC_ADMIN"},{name:"MAC_OVERRIDE"},{name:"MKNOD",default:!0},{name:"NET_ADMIN"},{name:"NET_BIND_SERVICE",default:!0},{name:"NET_BROADCAST"},{name:"NET_RAW",default:!0},{name:"SETFCAP",default:!0},{name:"SETGID",default:!0},{name:"SETPCAP",default:!0},{name:"SETUID",default:!0},{name:"SYSLOG"},{name:"SYS_ADMIN"},{name:"SYS_BOOT"},{name:"SYS_CHROOT",default:!0},{name:"SYS_MODULE"},{name:"SYS_NICE"},{name:"SYS_PACCT"},{name:"SYS_PTRACE"},{name:"SYS_RAWIO"},{name:"SYS_RESOURCE"},{name:"SYS_TIME"},{name:"SYS_TTY_CONFIG"}],Pn=(0,i.forwardRef)(function(E,V){var M=(0,i.useContext)(ke.Z),U=M.lang,j=(0,i.useState)(null),b=Z()(j,2),f=b[0],p=b[1],T=(0,i.useContext)(r.Z),I=T.createFormRef;return(0,i.useImperativeHandle)(V,function(){return{}}),(0,e.jsx)(P.Z,{children:(0,e.jsx)(Xe.Z,{grid:{gutter:10,xs:3,sm:3,md:4,lg:4,xl:4,xxl:6},dataSource:Fn,renderItem:function(C,W){var x;return(0,e.jsx)(Xe.Z.Item,{children:(0,e.jsx)(Be.Z,{fieldProps:{onChange:function(v){C.name=="ALL"&&p(v)}},disabled:C.name!="ALL"&&((0,Dn.k)(f)?(x=I.current)===null||x===void 0?void 0:x.getFieldValue(["capAdd","ALL"]):f),initialValue:C.default,name:["capAdd",C.name],tooltip:U("app.create.cap."+C.name.toLocaleLowerCase()),label:C.name})},W)}})})}),xn=Pn,Ze="update",Je="copy",Ve="new";function An(){var E,V,M,U=(0,i.useContext)(ke.Z),j=U.loading,b=U.notice,f=(0,i.useContext)(r.Z),p=f.createFormRef,T=f.volumeListRef,I=f.domainRef,h=f.createEnvRef,C=f.createLinkRef,W=(0,i.useState)(Ve),x=Z()(W,2),w=x[0],v=x[1],S=(0,ze.useSearchParams)(),le=Z()(S,2),X=le[0],Y=le[1],de=(0,ze.useNavigate)(),he=(0,i.useState)("basic"),pe=Z()(he,2),me=pe[0],ve=pe[1],De=parseInt((E=X.get("id"))!==null&&E!==void 0?E:""),Fe=(V=X.get("containerId"))!==null&&V!==void 0?V:"",ye=(M=X.get("imageId"))!==null&&M!==void 0?M:"";return(0,i.useEffect)(function(){if(Fe||De)j.show(),(0,Ye.iE)({md5:Fe,id:De}).then(function(){var l=B()(t()().mark(function se(u){var Pe,xe,H,Ae,Se,Ee,Le,Ke,He;return t()().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(H={info:{},layer:[]},!u.data.env.imageName){Ce.next=11;break}return Ce.prev=2,Ce.next=5,(0,Te.YU)({md5:u.data.env.imageName});case 5:Ae=Ce.sent,H=Ae.data,Ce.next=11;break;case 9:Ce.prev=9,Ce.t0=Ce.catch(2);case 11:X.get("op")==Je?v(Je):v(Ze),u.data.env.network&&u.data.env.network.map(function($){return!$.alise&&$.name!="bridge"&&($.alise=[u.data.siteName+".pod.dpanel.local"]),$}),u.data.env.ports&&u.data.env.ports.map(function($){return $.host=="0"&&($.host=""),$}),Se=u.data.env.bindIpV6,u.data.containerInfo.Info&&u.data.containerInfo.Info.NetworkSettings.Networks&&Object.keys(u.data.containerInfo.Info.NetworkSettings.Networks).map(function($){if(u.data.env.network&&(u.data.env.network=u.data.env.network.map(function($e){return $==$e.name&&($e.subnet=u.data.containerInfo.Info.NetworkSettings.Networks[$].IPAddress+"/"+u.data.containerInfo.Info.NetworkSettings.Networks[$].IPPrefixLen),$e})),u.data.containerInfo.Info.NetworkSettings.Networks[$].IPv6Gateway!=""&&(Se=!0),$=="bridge"){var be;(be=p.current)===null||be===void 0||be.setFieldValue("useBridgeNetwork",!0)}}),u.data.env.extraHosts&&u.data.env.extraHosts.map(function($){if($.value=="host-gateway"){var be;(be=p.current)===null||be===void 0||be.setFieldValue("enableBindHost",!0)}}),Ee=u.data.env.ports,u.data.env.ports&&(Ee=u.data.env.ports.map(function($){return $.host=($.hostIp?$.hostIp+":":"")+$.host,$})),(Pe=p.current)===null||Pe===void 0||Pe.setFieldsValue({imageName:u.data.env.imageName,privileged:u.data.env.privileged,bindIpV6:u.data.env.useHostNetwork?!1:Se,useHostNetwork:u.data.env.useHostNetwork,publishAllPorts:u.data.env.useHostNetwork?!1:u.data.env.publishAllPorts,workDir:{value:u.data.env.workDir,useDefault:!u.data.env.workDir,default:H&&H.info.Config&&H.info.Config.WorkingDir},user:{value:u.data.env.user,useDefault:!u.data.env.user,default:H&&H.info.Config&&H.info.Config.User},command:{value:u.data.env.command,useDefault:!u.data.env.command,default:H&&H.info.Config&&H.info.Config.Cmd&&H.info.Config.Cmd.join(" ")},entrypoint:{value:u.data.env.entrypoint,useDefault:!u.data.env.entrypoint,default:H&&H.info.Config&&H.info.Config.Entrypoint&&H.info.Config.Entrypoint.join(" ")},shmsize:(xe=u.data.env.shmsize)!==null&&xe!==void 0?xe:"64M",cpus:u.data.env.cpus,memory:u.data.env.memory,environment:u.data.env.environment,label:u.data.env.label,volumes:u.data.env.volumes,ports:Ee,links:u.data.env.links,network:u.data.env.network,restart:u.data.env.restart,extraHosts:u.data.env.extraHosts,autoRemove:u.data.env.autoRemove,log:u.data.env.log,dns:u.data.env.dns&&u.data.env.dns.join(`
`),ipV4:u.data.env.ipV4,ipV6:u.data.env.ipV6,gpus:u.data.env.gpus,device:u.data.env.device,hook:u.data.env.hook,hostPid:u.data.env.hostPid,capAdd:u.data.env.capAdd&&Object.fromEntries(u.data.env.capAdd.map(function($){return[$,!0]}))}),u.data.env.ipV6&&((Le=p.current)===null||Le===void 0||Le.setFieldValue("enableIpV6Address",!0)),u.data.env.healthcheck&&u.data.env.healthcheck.cmd&&u.data.env.healthcheck.cmd!=""&&((Ke=p.current)===null||Ke===void 0||Ke.setFieldsValue({healthcheck:u.data.env.healthcheck})),X.get("op")==Ze&&((He=p.current)===null||He===void 0||He.setFieldsValue({siteTitle:u.data.siteTitle,siteName:u.data.siteName}));case 23:case"end":return Ce.stop()}},se,null,[[2,9]])}));return function(se){return l.apply(this,arguments)}}()).finally(function(){j.destroy()});else{var _e,K;v(Ve),(_e=p.current)===null||_e===void 0||_e.resetFields(),(K=p.current)===null||K===void 0||K.setFieldValue("useBridgeNetwork",!0)}},[X]),(0,e.jsx)(A._z,{children:(0,e.jsx)(P.Z,{direction:"column",gutter:[0,10],children:(0,e.jsxs)(g.A,{submitter:{render:function(K,l){return(0,e.jsx)(ue.S,{children:l})}},formRef:p,onFinish:function(){var _e=B()(t()().mark(function K(l){var se,u,Pe,xe,H,Ae;return t()().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:if(Ae={siteTitle:l.siteTitle,siteName:l.siteName,imageName:l.imageName,environment:l.environment,links:l.links,ports:l.ports,volumes:l.volumes,network:(se=l.network)!==null&&se!==void 0?se:[],privileged:(u=l.privileged)!==null&&u!==void 0?u:!1,autoRemove:(Pe=l.autoRemove)!==null&&Pe!==void 0?Pe:!1,restart:l.restart,cpus:l.cpus,memory:l.memory,shmsize:(xe=l.shmsize)!==null&&xe!==void 0?xe:0,workDir:l.workDir&&!l.workDir.useDefault?l.workDir.value:"",user:l.user&&!l.user.useDefault?l.user.value:"",command:l.command&&!l.command.useDefault?l.command.value:"",entrypoint:l.entrypoint&&!l.entrypoint.useDefault?l.entrypoint.value:"",useHostNetwork:l.useHostNetwork,bindIpV6:l.bindIpV6,log:l.log,dns:l.dns&&l.dns!=""?l.dns.split(`
`):[],label:l.label,publishAllPorts:l.publishAllPorts,extraHosts:l.extraHosts,ipV4:l.ipV4,ipV6:l.ipV6,device:l.device,gpus:l.gpus,hook:l.hook,hostPid:l.hostPid,capAdd:l.capAdd?Object.keys(l.capAdd).map(function(Le){return Le}):[],useBridgeNetwork:(H=l.useBridgeNetwork)!==null&&H!==void 0?H:!0},!(!l.useBridgeNetwork&&(!l.network||l.network.length==0))){Ee.next=4;break}return b.error("\u4E0D\u52A0\u5165 Bridge \u7F51\u7EDC\u65F6\uFF0C\u5FC5\u987B\u6307\u5B9A\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7F51\u7EDC"),Ee.abrupt("return",!1);case 4:return l.useBridgeNetwork&&Ae.network.push({name:"bridge",alise:[],ipV4:""}),l.healthcheck&&l.healthcheck.cmd&&l.healthcheck.cmd!=""&&(Ae.healthcheck=l.healthcheck),Fe&&w==Ze&&(Ae.containerId=Fe),Ee.next=9,(0,Ye.$G)(Ae);case 9:return de("/app/list"),Ee.abrupt("return",!0);case 11:case"end":return Ee.stop()}},K)}));return function(K){return _e.apply(this,arguments)}}(),children:[(0,e.jsxs)(P.Z,{title:"\u57FA\u7840\u4FE1\u606F",headerBordered:!0,children:[(0,e.jsx)(d.Z,{name:"siteTitle",label:"\u5BB9\u5668\u63CF\u8FF0",fieldProps:{onChange:function(K){var l="";if(K.target.value&&w!=Ze){var se,u=(0,hn.N9)(K.target.value.trim(),{toneType:"none",type:"array"});l=u.join(""),(se=p.current)===null||se===void 0||se.setFieldValue("siteName",l)}}},placeholder:"\u8BF7\u8F93\u5165\u5BB9\u5668\u63CF\u8FF0\u540D\u79F0"}),(0,e.jsx)(d.Z,{name:"siteName",label:"\u5BB9\u5668\u6807\u8BC6",tooltip:"\u5BB9\u5668\u552F\u4E00\u6807\u8BC6\uFF0C\u7528\u4E8E\u6807\u8BC6\u5BB9\u5668\u548C\u5185\u90E8\u8BBF\u95EE",required:!0,disabled:w==Ze,rules:[{required:!0}],placeholder:"\u8BF7\u8F93\u5165\u5BB9\u5668\u6807\u8BC6\u540D\u79F0"}),(0,e.jsx)(ie,{redeploy:w!=Ve,fromImageId:ye})]}),(0,e.jsx)(G.Z,{offsetTop:50,children:(0,e.jsx)(P.Z,{style:{marginBottom:-20},children:(0,e.jsx)(o.Z,{activeKey:me,onChange:function(K){ve(K),window.scrollTo(0,450)},items:[{label:"\u57FA\u672C\u914D\u7F6E",key:"basic"},{label:"\u5173\u8054\u914D\u7F6E",key:"link"},{label:"\u8FD0\u884C\u914D\u7F6E",key:"run-command"},{label:"\u8D44\u6E90\u914D\u7F6E",key:"resource"},{label:"Hook",key:"hook"},{label:"\u80FD\u529B\u914D\u7F6E",key:"cap"},{label:"\u5176\u5B83",key:"other"}]})})}),(0,e.jsxs)(Oe.Z,{show:me=="basic",children:[(0,e.jsx)(_n,{ref:I,showBindHost:!0,showBindIpV6:!0}),(0,e.jsx)(tn.Z,{showAddButton:!0,showImportButton:!0,showCodeMode:!0,label:"\u73AF\u5883\u53D8\u91CF",ref:h}),(0,e.jsx)(an,{showDefault:!0,ref:T}),(0,e.jsx)(D.Z,{name:["siteName","useHostNetwork"],children:function(K){var l=K.siteName,se=K.useHostNetwork;if(!se)return(0,e.jsx)(gn,{})}})]}),(0,e.jsx)(Oe.Z,{show:me=="link",children:(0,e.jsx)(D.Z,{name:["siteName","useHostNetwork"],children:function(K){var l=K.siteName,se=K.useHostNetwork;return se?(0,e.jsx)(k.Z,{showIcon:!0,description:"\u7ED1\u5B9A\u5230\u5BBF\u4E3B\u673A\u7F51\u7EDC\u65F6\uFF0C\u65E0\u6CD5\u901A\u8FC7 Docker \u5173\u8054\u5176\u5B83\u5BB9\u5668\u3002\u8BF7\u4F7F\u7528\u5BBF\u4E3B\u673A\u5185\u7F51IP\u6216\u662F127.0.0.1\u4E92\u8054\u5BB9\u5668\u66B4\u9732\u7AEF\u53E3\u3002"}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(nn,{onAddEnv:function(Pe,xe){var H;(H=h.current)===null||H===void 0||H.addEnvItem(Pe,xe)},ref:C}),(0,e.jsx)(vn.Z,{showUseBridgeNetwork:!0,siteName:l}),(0,e.jsx)(En,{})]})}})}),(0,e.jsx)(Oe.Z,{show:me=="run-command",children:(0,e.jsx)(fn,{})}),(0,e.jsx)(Oe.Z,{show:me=="resource",children:(0,e.jsx)(on,{})}),(0,e.jsx)(Oe.Z,{show:me=="hook",children:(0,e.jsx)(Bn,{})}),(0,e.jsx)(Oe.Z,{show:me=="other",children:(0,e.jsx)(ln,{})}),(0,e.jsx)(Oe.Z,{show:me=="cap",children:(0,e.jsx)(xn,{})})]},"form")})})}},2831:function(ge,z,n){n.d(z,{Ll:function(){return P},aF:function(){return Z},d6:function(){return ue}});var ee=n(15009),t=n.n(ee),te=n(99289),B=n.n(te),F=n(82346);function Z(){return A.apply(this,arguments)}function A(){return A=B()(t()().mark(function D(){return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,F.request)("/api/common/home/info",{method:"POST"});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},D)})),A.apply(this,arguments)}function P(){return g.apply(this,arguments)}function g(){return g=B()(t()().mark(function D(){return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,F.request)("/api/common/home/usage",{method:"POST"});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},D)})),g.apply(this,arguments)}function ue(){return d.apply(this,arguments)}function d(){return d=B()(t()().mark(function D(){return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,F.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},D)})),d.apply(this,arguments)}},14946:function(ge,z,n){n.d(z,{CI:function(){return ue},HY:function(){return J},IS:function(){return Z},XY:function(){return o},_3:function(){return N},_x:function(){return D},jR:function(){return P},t9:function(){return i}});var ee=n(15009),t=n.n(ee),te=n(99289),B=n.n(te),F=n(82346);function Z(c){return A.apply(this,arguments)}function A(){return A=B()(t()().mark(function c(s){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,F.request)("/api/app/network/get-detail",{method:"POST",data:s}));case 1:case"end":return a.stop()}},c)})),A.apply(this,arguments)}function P(c){return g.apply(this,arguments)}function g(){return g=B()(t()().mark(function c(s){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,F.request)("/api/app/network/get-list",{method:"POST",data:s}));case 1:case"end":return a.stop()}},c)})),g.apply(this,arguments)}function ue(){return d.apply(this,arguments)}function d(){return d=B()(t()().mark(function c(){return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,F.request)("/api/app/network/prune",{method:"POST"});case 2:return m.abrupt("return",m.sent);case 3:case"end":return m.stop()}},c)})),d.apply(this,arguments)}function D(c){return G.apply(this,arguments)}function G(){return G=B()(t()().mark(function c(s){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,F.request)("/api/app/network/delete",{method:"POST",data:s});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},c)})),G.apply(this,arguments)}function o(c){return k.apply(this,arguments)}function k(){return k=B()(t()().mark(function c(s){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,F.request)("/api/app/network/create",{method:"POST",data:s});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},c)})),k.apply(this,arguments)}function i(c){return r.apply(this,arguments)}function r(){return r=B()(t()().mark(function c(s){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,F.request)("/api/app/network/disconnect",{method:"POST",data:s});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},c)})),r.apply(this,arguments)}function J(c){return y.apply(this,arguments)}function y(){return y=B()(t()().mark(function c(s){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,F.request)("/api/app/network/connect",{method:"POST",data:s});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},c)})),y.apply(this,arguments)}function N(c){return O.apply(this,arguments)}function O(){return O=B()(t()().mark(function c(s){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,F.request)("/api/app/network/get-container-list",{method:"POST",data:s}));case 1:case"end":return a.stop()}},c)})),O.apply(this,arguments)}},60335:function(ge,z,n){n.d(z,{IE:function(){return P},IW:function(){return Z},KK:function(){return o},LJ:function(){return i},RF:function(){return N},Re:function(){return J},aF:function(){return c},eE:function(){return D},jV:function(){return ue}});var ee=n(15009),t=n.n(ee),te=n(99289),B=n.n(te),F=n(82346);function Z(m){return A.apply(this,arguments)}function A(){return A=B()(t()().mark(function m(a){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,F.request)("/api/app/container/status",{method:"POST",data:a}));case 1:case"end":return _.stop()}},m)})),A.apply(this,arguments)}function P(m){return g.apply(this,arguments)}function g(){return g=B()(t()().mark(function m(a){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,F.request)("/api/app/container/get-list",{data:a,method:"POST"}));case 1:case"end":return _.stop()}},m)})),g.apply(this,arguments)}function ue(m){return d.apply(this,arguments)}function d(){return d=B()(t()().mark(function m(a){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,F.request)("/api/app/container/get-detail",{data:a,method:"POST"}));case 1:case"end":return _.stop()}},m)})),d.apply(this,arguments)}function D(m){return G.apply(this,arguments)}function G(){return G=B()(t()().mark(function m(a){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,F.request)("/api/app/container/update",{data:a,method:"POST"}));case 1:case"end":return _.stop()}},m)})),G.apply(this,arguments)}function o(){return k.apply(this,arguments)}function k(){return k=B()(t()().mark(function m(){return t()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.abrupt("return",(0,F.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return Q.stop()}},m)})),k.apply(this,arguments)}function i(m){return r.apply(this,arguments)}function r(){return r=B()(t()().mark(function m(a){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,F.request)("/api/app/container/export",{method:"POST",data:a,responseType:"blob"}));case 1:case"end":return _.stop()}},m)})),r.apply(this,arguments)}function J(m){return y.apply(this,arguments)}function y(){return y=B()(t()().mark(function m(a){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,F.request)("/api/app/container/commit",{method:"POST",data:a}));case 1:case"end":return _.stop()}},m)})),y.apply(this,arguments)}function N(m){return O.apply(this,arguments)}function O(){return O=B()(t()().mark(function m(a){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,F.request)("/api/app/container/upgrade",{method:"POST",data:a}));case 1:case"end":return _.stop()}},m)})),O.apply(this,arguments)}function c(m){return s.apply(this,arguments)}function s(){return s=B()(t()().mark(function m(a){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,F.request)("/api/app/container/copy",{method:"POST",data:a}));case 1:case"end":return _.stop()}},m)})),s.apply(this,arguments)}}}]);
