"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2902],{1699:function(A,c,e){e.d(c,{u:function(){return M}});var D=e(9783),a=e.n(D),m=e(97857),_=e.n(m),u=e(67294),f=e(82346),h=e(42075),C=e(85893),M=function(i){var o=(0,f.useAccess)(),p=Array.isArray(i.access)?i.access:[i.access],P;return typeof i.children=="function"?P=i.children(p.reduce(function(O,l){return _()(_()({},O),{},a()({},l,o[l]))},{})):p.every(function(O){return o[O]})?P=i.children:P=i.fallback,i.space?(0,C.jsx)(h.Z,_()(_()({},i.space),{},{children:P})):P}},78498:function(A,c,e){e.d(c,{Z:function(){return f}});var D=e(25035),a=e(42075),m=e(83062),_=e(67294),u=e(85893);function f(h){return(0,u.jsxs)(a.Z,{children:[h.title,(0,u.jsx)(m.Z,{title:h.help,children:(0,u.jsx)(D.Z,{})})]})}},78451:function(A,c,e){e.d(c,{Z:function(){return m}});var D=e(67294),a=e(85893);function m(_){return(0,a.jsx)("span",{style:{width:_.width?_.width:"auto",wordBreak:"break-word"},children:_.content})}},50070:function(A,c,e){e.r(c),e.d(c,{AppDetailContext:function(){return L},default:function(){return U}});var D=e(15009),a=e.n(D),m=e(99289),_=e.n(m),u=e(5574),f=e.n(u),h=e(1699),C=e(24963),M=e(60335),j=e(55809),i=e(90078),o=e(82346),p=e(25593),P=e(28036),O=e(50136),l=e(67294),s=e(85893),L=(0,l.createContext)({});function U(){var B,v=(0,l.useContext)(C.Z),g=v.lang,T=v.loading,t=v.message,r=(0,o.useParams)(),d=(0,o.useSearchParams)(),n=f()(d,2),w=n[0],ne=n[1],z=(B=w.get("tab"))!==null&&B!==void 0?B:"edit",V=(0,l.useState)("edit"),k=f()(V,2),H=k[0],x=k[1],I=(0,o.useNavigate)(),J=(0,l.useState)(1),Z=f()(J,2),$=Z[0],Q=Z[1],F=[{label:(0,s.jsx)(o.Link,{to:"/app/detail/edit/".concat(r.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,s.jsx)(o.Link,{to:"/app/detail/network/".concat(r.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,s.jsx)(p.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){t.info(g("app.detail.createExplorerPlugin")),I("/app/detail/file/".concat(r.id,"?tab=file"))}},{label:(0,s.jsx)(p.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){I("/app/detail/log/".concat(r.id,"?tab=log"))}},{label:(0,s.jsx)(p.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){I("/app/detail/stat/".concat(r.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,s.jsx)(j.Z,{}),disabled:!0}],X=(0,l.useState)(F),N=f()(X,2),Y=N[0],q=N[1];(0,l.useEffect)(function(){T.show(),x(z);var W=function(){var y=_()(a()().mark(function G(){var K,S,R;return a()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return K=F,E.prev=1,E.next=4,(0,M.jV)({md5:(S=r.id)!==null&&S!==void 0?S:""});case 4:R=E.sent,K.map(function(b){return b.key=="containerName"&&(b.label=R.data.info.Name),(!R.data.info.State.Running||R.data.info.State.Restarting)&&(b.key=="file"||b.key=="stat")&&(b.disabled=!0),b}),q(K),E.next=13;break;case 9:return E.prev=9,E.t0=E.catch(1),I("/app/list"),E.abrupt("return");case 13:return E.prev=13,T.destroy(),E.finish(13);case 16:case"end":return E.stop()}},G,null,[[1,9,13,16]])}));return function(){return y.apply(this,arguments)}}();W()},[$,r]);var ee=function(y){x(y.key)};return(0,s.jsx)(L.Provider,{value:{reload:function(){Q($+1)}},children:(0,s.jsxs)(i._z,{header:{extra:[(0,s.jsx)(h.u,{access:"canSeeContainerListManageCreate",children:(0,s.jsx)(o.Link,{to:"/app/create/image",children:(0,s.jsx)(P.ZP,{type:"primary",children:"\u521B\u5EFA\u5BB9\u5668"})})},"create")]},children:[(0,s.jsx)(O.Z,{mode:"horizontal",onClick:ee,selectedKeys:[H],items:Y}),(0,s.jsx)(o.Outlet,{})]})})}},77812:function(A,c,e){e.r(c),e.d(c,{default:function(){return M}});var D=e(5574),a=e.n(D),m=e(67294),_=e(60335),u=e(82346),f=e(50070),h=e(43831),C=e(85893);function M(){var j=(0,u.useParams)(),i=(0,m.useState)(),o=a()(i,2),p=o[0],P=o[1],O=(0,m.useContext)(f.AppDetailContext);return(0,m.useEffect)(function(){var l;(0,_.jV)({md5:(l=j.id)!==null&&l!==void 0?l:""}).then(function(s){P(s.data.info)}),O.reload()},[]),p&&(0,C.jsx)(h.Z,{containerInfo:p})}},60335:function(A,c,e){e.d(c,{IE:function(){return C},IW:function(){return f},KK:function(){return P},LJ:function(){return l},RF:function(){return B},Re:function(){return L},aF:function(){return g},eE:function(){return o},jV:function(){return j}});var D=e(15009),a=e.n(D),m=e(99289),_=e.n(m),u=e(82346);function f(t){return h.apply(this,arguments)}function h(){return h=_()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/app/container/status",{method:"POST",data:r}));case 1:case"end":return n.stop()}},t)})),h.apply(this,arguments)}function C(t){return M.apply(this,arguments)}function M(){return M=_()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/app/container/get-list",{data:r,method:"POST"}));case 1:case"end":return n.stop()}},t)})),M.apply(this,arguments)}function j(t){return i.apply(this,arguments)}function i(){return i=_()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/app/container/get-detail",{data:r,method:"POST"}));case 1:case"end":return n.stop()}},t)})),i.apply(this,arguments)}function o(t){return p.apply(this,arguments)}function p(){return p=_()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/app/container/update",{data:r,method:"POST"}));case 1:case"end":return n.stop()}},t)})),p.apply(this,arguments)}function P(){return O.apply(this,arguments)}function O(){return O=_()(a()().mark(function t(){return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,u.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return d.stop()}},t)})),O.apply(this,arguments)}function l(t){return s.apply(this,arguments)}function s(){return s=_()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/app/container/export",{method:"POST",data:r,responseType:"blob"}));case 1:case"end":return n.stop()}},t)})),s.apply(this,arguments)}function L(t){return U.apply(this,arguments)}function U(){return U=_()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/app/container/commit",{method:"POST",data:r}));case 1:case"end":return n.stop()}},t)})),U.apply(this,arguments)}function B(t){return v.apply(this,arguments)}function v(){return v=_()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/app/container/upgrade",{method:"POST",data:r}));case 1:case"end":return n.stop()}},t)})),v.apply(this,arguments)}function g(t){return T.apply(this,arguments)}function T(){return T=_()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/app/container/copy",{method:"POST",data:r}));case 1:case"end":return n.stop()}},t)})),T.apply(this,arguments)}}}]);
