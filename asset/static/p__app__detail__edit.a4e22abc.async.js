"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8878],{55809:function(W,f,e){var P=e(87462),s=e(67294),M=e(44805),g=e(84089),D=function(v,i){return s.createElement(g.Z,(0,P.Z)({},v,{ref:i,icon:M.Z}))},c=s.forwardRef(D);f.Z=c},60433:function(W,f,e){var P=e(87462),s=e(67294),M=e(69782),g=e(84089),D=function(v,i){return s.createElement(g.Z,(0,P.Z)({},v,{ref:i,icon:M.Z}))},c=s.forwardRef(D);f.Z=c},5966:function(W,f,e){var P=e(97685),s=e(1413),M=e(45987),g=e(21770),D=e(99859),c=e(55241),u=e(97435),v=e(67294),i=e(35510),n=e(85893),R=["fieldProps","proFieldProps"],U=["fieldProps","proFieldProps"],E="text",d=function(o){var a=o.fieldProps,m=o.proFieldProps,l=(0,M.Z)(o,R);return(0,n.jsx)(i.Z,(0,s.Z)({valueType:E,fieldProps:a,filedConfig:{valueType:E},proFieldProps:m},l))},j=function(o){var a=(0,g.Z)(o.open||!1,{value:o.open,onChange:o.onOpenChange}),m=(0,P.Z)(a,2),l=m[0],C=m[1];return(0,n.jsx)(D.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(L){var h,t=L.getFieldValue(o.name||[]);return(0,n.jsx)(c.Z,(0,s.Z)((0,s.Z)({getPopupContainer:function(r){return r&&r.parentNode?r.parentNode:r},onOpenChange:function(r){return C(r)},content:(0,n.jsxs)("div",{style:{padding:"4px 0"},children:[(h=o.statusRender)===null||h===void 0?void 0:h.call(o,t),o.strengthText?(0,n.jsx)("div",{style:{marginTop:10},children:(0,n.jsx)("span",{children:o.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},o.popoverProps),{},{open:l,children:o.children}))}})},_=function(o){var a=o.fieldProps,m=o.proFieldProps,l=(0,M.Z)(o,U),C=(0,v.useState)(!1),p=(0,P.Z)(C,2),L=p[0],h=p[1];return a!=null&&a.statusRender&&l.name?(0,n.jsx)(j,{name:l.name,statusRender:a==null?void 0:a.statusRender,popoverProps:a==null?void 0:a.popoverProps,strengthText:a==null?void 0:a.strengthText,open:L,onOpenChange:h,children:(0,n.jsx)("div",{children:(0,n.jsx)(i.Z,(0,s.Z)({valueType:"password",fieldProps:(0,s.Z)((0,s.Z)({},(0,u.Z)(a,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(I){var r;a==null||(r=a.onBlur)===null||r===void 0||r.call(a,I),h(!1)},onClick:function(I){var r;a==null||(r=a.onClick)===null||r===void 0||r.call(a,I),h(!0)}}),proFieldProps:m,filedConfig:{valueType:E}},l))})}):(0,n.jsx)(i.Z,(0,s.Z)({valueType:"password",fieldProps:a,proFieldProps:m,filedConfig:{valueType:E}},l))},x=d;x.Password=_,x.displayName="ProFormComponent",f.Z=x},80821:function(W,f,e){e.d(f,{Z:function(){return i}});var P=e(5574),s=e.n(P),M=e(24963),g=e(86738),D=e(28036),c=e(83062),u=e(67294),v=e(85893);function i(n){var R=(0,u.useState)(!1),U=s()(R,2),E=U[0],d=U[1],j=(0,u.useContext)(M.Z),_=j.lang,x=j.notice,O=j.message,o=function(){d(!0);var m=n.action();m instanceof Promise?m.then(function(l){if(d(!1),l){typeof n.onSuccess=="function"&&n.onSuccess(l);var C="";n.messageSuccess?typeof n.messageSuccess=="function"?C=n.messageSuccess(l):C=n.messageSuccess.indexOf("notification.")==0?_(n.messageSuccess):n.messageSuccess:C=_("notification.finish"),n.asynced?O.info(C):O.success(C)}}).catch(function(l){d(!1),typeof n.onError=="function"&&n.onError(l)}):d(!1)};return n.confirm?(0,v.jsx)(g.Z,{style:{width:500},title:n.confirmTitle?n.confirmTitle:_("notification.title.tip"),description:typeof n.confirm=="string"&&n.confirm.indexOf("notification.")==0?_(n.confirm):n.confirm,onConfirm:o,okText:"Yes",cancelText:"No",children:(0,v.jsx)(D.ZP,{block:n.block,disabled:n.disabled,icon:n.icon,loading:E,danger:n.danger,type:n.type,children:n.children})}):(0,v.jsx)(c.Z,{title:n.tips,children:(0,v.jsx)(D.ZP,{block:n.block,style:n.ghost?{padding:0,height:"auto"}:{},disabled:n.disabled,icon:n.icon,loading:E,onClick:o,danger:n.danger,type:n.type,children:n.children})})}},24963:function(W,f,e){var P=e(67294),s=(0,P.createContext)({});f.Z=s},29798:function(W,f,e){e.r(f),e.d(f,{default:function(){return x}});var P=e(5574),s=e.n(P),M=e(60335),g=e(60433),D=e(38345),c=e(82346),u=e(26412),v=e(25593),i=e(67294),n=e(24963),R=e(50070),U=e(37767),E=e(52031),d=e(14189),j=e(27813),_=e(85893);function x(){var O=(0,i.useContext)(n.Z),o=O.message,a=O.notice,m=O.loading,l=O.lang,C=(0,i.useContext)(R.AppDetailContext),p=(0,c.useParams)(),L=(0,i.useState)(),h=s()(L,2),t=h[0],I=h[1],r=(0,i.useState)(1),b=s()(r,2),S=b[0],F=b[1],N=(0,c.useNavigate)(),$=(0,i.useRef)(),H=(0,i.useRef)(),Q=(0,i.useRef)(),V=(0,i.useRef)();return(0,i.useEffect)(function(){var T;m.show(),C.reload(),(0,M.jV)({md5:(T=p.id)!==null&&T!==void 0?T:""}).then(function(A){A.data&&(A.data.info.HostConfig.NetworkMode=="host"&&A.data.info.Config.ExposedPorts&&Object.keys(A.data.info.Config.ExposedPorts).map(function(Z){A.data.info.NetworkSettings.Ports[Z]=[{HostIp:"0.0.0.0",HostPort:Z.substring(0,Z.indexOf("/"))}]}),I(A.data))}).finally(function(){m.destroy()})},[S]),(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(D.Z,{direction:"column",gutter:[0,10],children:[(t==null?void 0:t.info)&&(0,_.jsx)(d.Z,{data:t.info}),(t==null?void 0:t.info)&&(0,_.jsx)(j.Z,{data:t,checkContainerUpgrade:function(){N("/app/list")}}),t&&(0,_.jsx)(U.Z,{data:t}),(0,_.jsx)(E.Z,{data:t==null?void 0:t.info}),(0,_.jsx)(D.Z,{title:(0,_.jsx)(g.Z,{}),subTitle:"\u955C\u50CF\u8BE6\u60C5",children:(0,_.jsxs)(u.Z,{labelStyle:{width:"200px"},column:1,bordered:!0,children:[(0,_.jsx)(u.Z.Item,{label:"Image Tag",children:(0,_.jsx)(c.Link,{target:"_blank",to:"/image/detail/"+(t==null?void 0:t.info.Image),children:t==null?void 0:t.info.Config.Image})}),(0,_.jsx)(u.Z.Item,{label:"Image",children:t==null?void 0:t.info.Image}),(0,_.jsx)(u.Z.Item,{label:"CMD",children:(t==null?void 0:t.info.Config.Cmd)&&(t==null?void 0:t.info.Config.Cmd.join(" "))}),(0,_.jsx)(u.Z.Item,{label:"ENTRYPOINT",children:t==null?void 0:t.info.Config.Entrypoint}),(0,_.jsx)(u.Z.Item,{label:"Labels",children:(0,_.jsx)(u.Z,{column:1,bordered:!0,children:t&&Object.keys(t.info.Config.Labels).map(function(T){return(0,_.jsx)(u.Z.Item,{label:T,children:(0,_.jsx)(v.Z.Text,{style:{width:"400px"},ellipsis:{tooltip:t.info.Config.Labels[T]},children:t.info.Config.Labels[T]})},T)})})})]})})]})})}},50070:function(W,f,e){e.r(f),e.d(f,{AppDetailContext:function(){return j},default:function(){return _}});var P=e(15009),s=e.n(P),M=e(99289),g=e.n(M),D=e(5574),c=e.n(D),u=e(24963),v=e(60335),i=e(55809),n=e(82346),R=e(25593),U=e(50136),E=e(67294),d=e(85893),j=(0,E.createContext)({});function _(){var x,O=(0,E.useContext)(u.Z),o=O.lang,a=O.loading,m=O.message,l=(0,n.useParams)(),C=(0,n.useSearchParams)(),p=c()(C,2),L=p[0],h=p[1],t=(x=L.get("tab"))!==null&&x!==void 0?x:"edit",I=(0,E.useState)("edit"),r=c()(I,2),b=r[0],S=r[1],F=(0,n.useNavigate)(),N=(0,E.useState)(1),$=c()(N,2),H=$[0],Q=$[1],V=[{label:(0,d.jsx)(n.Link,{to:"/app/detail/edit/".concat(l.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,d.jsx)(n.Link,{to:"/app/detail/network/".concat(l.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,d.jsx)(R.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){m.info(o("app.detail.createExplorerPlugin")),F("/app/detail/file/".concat(l.id,"?tab=file"))}},{label:(0,d.jsx)(R.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){F("/app/detail/log/".concat(l.id,"?tab=log"))}},{label:(0,d.jsx)(R.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){F("/app/detail/stat/".concat(l.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,d.jsx)(i.Z,{}),disabled:!0}],T=(0,E.useState)(V),A=c()(T,2),Z=A[0],X=A[1];(0,E.useEffect)(function(){a.show(),S(t);var B=function(){var G=g()(s()().mark(function J(){var Y,z,k;return s()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return z=V,y.next=3,(0,v.jV)({md5:(Y=l.id)!==null&&Y!==void 0?Y:""});case 3:k=y.sent,z.map(function(K){return K.key=="containerName"&&(K.label=k.data.info.Name),(!k.data.info.State.Running||k.data.info.State.Restarting)&&(K.key=="file"||K.key=="stat")&&(K.disabled=!0),K}),X(z),a.destroy();case 7:case"end":return y.stop()}},J)}));return function(){return G.apply(this,arguments)}}();B()},[H]);var w=function(G){S(G.key)};return(0,d.jsxs)(j.Provider,{value:{reload:function(){Q(H+1)}},children:[(0,d.jsx)(U.Z,{mode:"horizontal",onClick:w,selectedKeys:[b],items:Z}),(0,d.jsx)(n.Outlet,{})]})}}}]);
