"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8566],{1699:function(se,C,t){t.d(C,{u:function(){return T}});var R=t(9783),o=t.n(R),Z=t(97857),d=t.n(Z),y=t(67294),U=t(82346),I=t(40411),h=t(42075),E=t(85893),T=function(c){var a=(0,U.useAccess)(),s=Array.isArray(c.access)?c.access:[c.access],j,u=c.fallback;if(typeof c.children=="function"?(j=c.children(s.reduce(function(W,e){return d()(d()({},W),{},o()({},e,a[e]))},{})),j||(j=u)):s.every(function(W){return a[W]})?j=c.children:j=u,!u&&j&&c.showProTips&&a.canSeeEnableCe){if(a.canSeeEnableHiddenProTips)return null;j=(0,E.jsx)(I.Z,{offset:c.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:j})}if(!u&&j&&c.showProRibbonTips&&a.canSeeEnableCe){if(a.canSeeEnableHiddenProTips)return null;j=(0,E.jsx)(I.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:j})}return c.space?(0,E.jsx)(h.Z,d()(d()({},c.space),{},{children:j})):j}},80821:function(se,C,t){t.d(C,{Z:function(){return c}});var R=t(97857),o=t.n(R),Z=t(5574),d=t.n(Z),y=t(24963),U=t(36146),I=t(86738),h=t(83062),E=t(28036),T=t(67294),b=t(85893);function c(a){var s=(0,T.useState)(!1),j=d()(s,2),u=j[0],W=j[1],e=(0,T.useContext)(y.Z),A=e.message,Q=new U.Uo,X=function(){W(!0);var O=a.action();O instanceof Promise?O.then(function(f){if(W(!1),f){typeof a.onSuccess=="function"&&a.onSuccess(f);var x="";a.messageSuccess?typeof a.messageSuccess=="function"?x=a.messageSuccess(f):x=a.messageSuccess.indexOf("notification.")==0?Q.format(a.messageSuccess):a.messageSuccess:x=Q.format("notification.finish"),a.asynced?A.info(x):A.success(x)}}).catch(function(f){W(!1),typeof a.onError=="function"&&a.onError(f)}):W(!1)};return a.confirm?(0,b.jsx)(I.Z,o()(o()({style:{width:500},title:a.confirmTitle?a.confirmTitle:Q.format("notification.title.tip"),description:typeof a.confirm=="string"&&a.confirm.indexOf("notification.")==0?Q.format(a.confirm):a.confirm,onConfirm:X,okText:"Yes",cancelText:"No",onOpenChange:a.confirmOnOpenChange},a.confirmProps),{},{children:(0,b.jsx)(h.Z,{title:a.tips,children:(0,b.jsx)(E.ZP,{block:a.block,disabled:a.disabled,icon:!a.children&&u?void 0:a.icon,loading:u,danger:a.danger,type:a.type,children:a.children})})})):(0,b.jsx)(h.Z,{title:a.tips,children:(0,b.jsx)(E.ZP,{block:a.block,style:a.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:a.disabled,icon:!a.children&&u?void 0:a.icon,loading:u,onClick:X,danger:a.danger,type:a.type,children:a.children})})}},27619:function(se,C,t){t.d(C,{Z:function(){return I}});var R=t(5574),o=t.n(R),Z=t(82346),d=t(67294),y=t(64389),U=t(85893);function I(h){var E=(0,Z.useModel)("@@initialState"),T=E.initialState,b="chart-area-".concat(h.name),c=(0,d.useState)(),a=o()(c,2),s=a[0],j=a[1],u={};h.data.forEach(function(e){e.show===!1?u[e.name]=!1:u[e.name]=!0});var W={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}},valueFormatter:function(A){return h.yValueFormatter?h.yValueFormatter(A):A}},legend:{selected:u},grid:{left:"0",right:"0",bottom:"0",top:"30",containLabel:!0},xAxis:{type:"category",data:h.data[0].data.map(function(e){return e.date}),boundaryGap:!1,axisLabel:{rotate:20}},yAxis:{type:"value",axisLabel:{formatter:h.yLabelFormatter},max:function(A){if(h.yDomainMaxCallback)return h.yDomainMaxCallback(A)}},series:[]};return(0,d.useEffect)(function(){var e="",A=window.matchMedia("(prefers-color-scheme: dark)");(T==null?void 0:T.theme.algorithm)=="dark"||A.matches?e="dark":e="",s&&!s.isDisposed()&&s.dispose();var Q=document.getElementById(b),X=y.S1(Q,e);X.setOption(W);var G=new ResizeObserver(function(){X.resize()});Q&&G.observe(Q),j(X)},[T]),(0,d.useEffect)(function(){s&&!s.isDisposed()&&s.setOption({legend:{data:h.data.map(function(e){return e.name})},xAxis:{data:h.data[0].data.map(function(e){return e.date})},series:h.data.map(function(e){return{name:e.name,type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:e.data.map(function(A){return A.value})}})})},[h.data]),(0,U.jsx)("div",{style:{height:200},id:b})}},3616:function(se,C,t){t.d(C,{Ed:function(){return d},FK:function(){return o},R_:function(){return R},ob:function(){return Z}});var R=window.innerWidth<=1024?"90vw":"65vw",o="90vw",Z="60vw",d="50vh"},24963:function(se,C,t){var R=t(67294),o=(0,R.createContext)({});C.Z=o},55617:function(se,C,t){t.r(C),t.d(C,{default:function(){return Ye}});var R=t(15009),o=t.n(R),Z=t(99289),d=t.n(Z),y=t(5574),U=t.n(y),I=t(19632),h=t.n(I),E=t(1699),T=t(80821),b=t(27619),c=t(3616),a=t(5251),s=t(36146),j=t(184),u=t(25593),W=t(60940),e=t(85893),A=new s.Uo("components.containerStat");function Q(K){return(0,e.jsx)(j.a,{drawerProps:{width:c.R_},title:A.format("detailTitle"),submitter:!1,trigger:(0,e.jsx)(u.Z.Link,{children:s.FD.format("listManageDetail")}),children:(0,e.jsx)(W.Z,{pagination:!1,dataSource:K.data,rowKey:"name",columns:[{title:s.FD.format("listContainerName"),dataIndex:"name"},{title:"Cpu",dataIndex:"cpu",sorter:function(p,v){return p.cpu-v.cpu},render:function(p,v,z){return"".concat(v.cpu.toFixed(2),"%")}},{title:"Memory",dataIndex:"memory",sorter:function(p,v){return p.memory.in-v.memory.in},render:function(p,v,z){var k,Y;return"".concat((0,a.FI)((k=v==null?void 0:v.memory.in)!==null&&k!==void 0?k:0)," / ").concat((0,a.FI)((Y=v==null?void 0:v.memory.out)!==null&&Y!==void 0?Y:0))}},{title:s.FD.format("listNetworkIO"),dataIndex:"networkIO",render:function(p,v,z){return"".concat((0,a.FI)(v.networkIO.in)," / ").concat((0,a.FI)(v.networkIO.out))}},{title:s.FD.format("listDiskIO"),dataIndex:"blockIO",render:function(p,v,z){return"".concat((0,a.FI)(v.blockIO.in)," / ").concat((0,a.FI)(v.blockIO.out))}}]})})}var X=t(97857),G=t.n(X),O=t(67294),f=t(64389),x={tooltip:{show:!0,formatter:function(P){return P&&P.data&&P.data.tooltipItem?P.data.tooltipItem.map(function(p){return"<div>".concat(p.field,": ").concat(p.content,"</div>")}).join(" "):"".concat(P.data.name,": ").concat((0,a.FI)(P.data.value))}},legend:{selectedMode:"single",top:0,itemGap:5},series:[]},S={name:"",type:"treemap",left:0,right:0,top:30,bottom:0,roam:!1,label:{show:!0},levels:[{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}}],sort:!0,leafDepth:1,data:[]},i=new s.Uo("components.containerStat"),Re=(0,O.forwardRef)(function(K,P){var p=K.data.usage,v=(0,O.useState)(),z=U()(v,2),k=z[0],Y=z[1];(0,O.useImperativeHandle)(P,function(){return{}});function ue(){if(!p.Containers||!p.Images){k&&k.setOption({series:[G()(G()({},S),{},{name:"",data:[{name:i.format("usageEmpty"),value:1}]})]});return}var w=[],M=[];p.Containers&&p.Containers.forEach(function(m){var L,ae,ne,re=m.SizeRootFs+((L=m.SizeRw)!==null&&L!==void 0?L:0),oe=[];p.Volumes&&m.Mounts.forEach(function(J){var le=p.Volumes.find(function(_e){return _e.Name==J.Name});le&&(re+=le.UsageData.Size,oe.push({name:i.format("usageVolume",{name:J.Name}),value:le.UsageData.Size,children:[]}))});var ce={name:(0,a.fi)(m.Names[0],"/"),value:re,tooltipItem:[{field:(0,a.fi)(m.Names[0],"/"),content:(0,a.FI)(re)},{field:i.format("usageContainerRootFs"),content:(0,a.FI)((ae=m.SizeRootFs)!==null&&ae!==void 0?ae:0)},{field:i.format("usageContainerRw"),content:(0,a.FI)((ne=m.SizeRw)!==null&&ne!==void 0?ne:0)}],children:[{name:i.format("usageContainerRootFs"),value:m.SizeRootFs,children:[]},{name:i.format("usageContainerRw"),value:m.SizeRw,children:[]}]};if(oe&&oe.length>0){var me,de;(me=ce.children).push.apply(me,oe),(de=ce.tooltipItem)===null||de===void 0||de.push.apply(de,h()(oe.map(function(J){var le;return{field:J.name,content:(0,a.FI)((le=J.value)!==null&&le!==void 0?le:0)}})))}M.push(ce)}),w.push(G()(G()({},S),{},{name:i.format("usageTitleContainer"),data:M})),M=[],p.Images&&p.Images.forEach(function(m){var L,ae,ne,re;M.push({name:m.RepoTags?m.RepoTags[0]:m.Id.substring(7,19),value:m.Size+((L=m.SharedSize)!==null&&L!==void 0?L:0),tooltipItem:[{field:m.RepoTags?m.RepoTags[0]:m.Id.substring(7,19),content:(0,a.FI)(m.Size+((ae=m.SharedSize)!==null&&ae!==void 0?ae:0))},{field:i.format("usageImageSize"),content:(0,a.FI)((ne=m.Size)!==null&&ne!==void 0?ne:0)},{field:i.format("usageImageSharedSize"),content:(0,a.FI)((re=m.SharedSize)!==null&&re!==void 0?re:0)}],children:[{name:i.format("usageImageSize"),value:m.Size,children:[]},{name:i.format("usageImageSharedSize"),value:m.SharedSize,children:[]}]})}),w.push(G()(G()({},S),{},{name:i.format("usageTitleImage"),data:M})),M=[],p.Volumes&&p.Volumes.forEach(function(m){M.push({name:m.Name,value:m.UsageData.Size,children:[]})}),w.push(G()(G()({},S),{},{name:i.format("usageTitleVolume"),data:M})),w&&w.length>0&&k&&k.setOption({series:w,legend:{data:w.map(function(m){return m.name})}})}return(0,O.useEffect)(function(){var w=document.getElementById("docker-disk-usage"),M=f.S1(w);M.setOption(x);var m=new ResizeObserver(function(){M&&M.resize()});return w&&m.observe(w),Y(M),function(){k&&k.dispose(),Y(void 0)}},[]),(0,O.useEffect)(function(){k&&ue()},[k]),(0,e.jsx)("div",{style:{height:450},id:"docker-disk-usage"})}),ke=Re,we=t(55241),De=t(71230),ye=t(15746),Le=t(38703),Ze=(0,O.forwardRef)(function(K,P){return(0,O.useImperativeHandle)(P,function(){return{}}),(0,e.jsxs)(we.Z,{placement:"left",children:[(0,e.jsx)(De.Z,{justify:"center",children:(0,e.jsx)(ye.Z,{children:(0,e.jsx)(Le.Z,{percent:K.showPercent,type:"dashboard",format:function(v,z){return"".concat(v,"%")},size:150,status:K.showPercent>=100?"exception":"normal"})})}),(0,e.jsx)(De.Z,{justify:"center",children:(0,e.jsxs)(ye.Z,{style:{marginTop:"10px"},children:[K.showLabel,": ",K.showUse," / ",K.showTotal]})})]})}),be=Ze,We=t(24963),Ae=t(87662),he=t(2831),Fe=t(18148),Ee=t(89075),Be=t(20578),$e=t(45605),Ke=t(1210),fe=t(12122),F=t(38345),$=t(88273),te=t(82346),ie=t(42075),ze=t(28036),H=t(26412),ve=t(83062),Ne=t(40411),Ve=t(86250),Ge=t(93162),l=new s.Uo("system.home.overview"),He=function(P,p){switch(p.type){case"update":var v=new Date().toLocaleTimeString(),z=0,k=0,Y=0,ue=0,w=0,M=0;p.payload.map(function(L){z+=L.cpu,k+=L.memory.in,Y+=L.networkIO.in,ue+=L.networkIO.out,w+=L.blockIO.in,M+=L.blockIO.out});var m={list:p.payload,cpu:z,memory:k,network:[{name:l.format("runStatNetworkOut"),data:[].concat(h()(P.network[0].data.slice(-20)),[{date:v,value:ue}])},{name:l.format("runStatNetworkIn"),data:[].concat(h()(P.network[1].data.slice(-20)),[{date:v,value:Y}])}],io:[{name:l.format("runStatIoOut"),data:[].concat(h()(P.io[0].data.slice(-20)),[{date:v,value:M}])},{name:l.format("runStatIoIn"),data:[].concat(h()(P.io[1].data.slice(-20)),[{date:v,value:w}])}]};return m}};function Ye(){var K,P,p,v,z,k,Y,ue,w,M,m,L,ae,ne,re,oe,ce,me,de,J=(0,te.useAccess)(),le=(0,O.useState)(),_e=U()(le,2),ge=_e[0],Qe=_e[1],Xe=(0,O.useState)(),Se=U()(Xe,2),q=Se[0],Je=Se[1],qe=(0,O.useState)(),Pe=U()(qe,2),r=Pe[0],et=Pe[1],tt=(0,O.useState)(),Ie=U()(tt,2),n=Ie[0],at=Ie[1],nt=(0,O.useState)(),xe=U()(nt,2),pe=xe[0],rt=xe[1],st=(0,O.useReducer)(He,{cpu:0,memory:0,network:[{name:l.format("runStatNetworkOut"),data:[]},{name:l.format("runStatNetworkIn"),data:[]}],io:[{name:l.format("runStatIoOut"),data:[]},{name:l.format("runStatIoIn"),data:[]}],list:[]}),Te=U()(st,2),B=Te[0],Oe=Te[1],it=(0,O.useContext)(We.Z),Ue=it.loading,Ce=(0,te.useModel)("subscriber");Ce.addDataHandler("container:stat",function(g){Oe({type:"update",payload:g.data})});function Me(){return je.apply(this,arguments)}function je(){return je=d()(o()().mark(function g(){var _,D,ee;return o()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return Ue.show(),V.next=3,(0,he.aF)().finally(function(){Ue.destroy()});case 3:return _=V.sent,et(_.data),V.next=7,(0,he.Ll)();case 7:return D=V.sent,at(D.data),V.next=11,(0,Ae.Cz)({follow:!0});case 11:ee=V.sent,Oe({type:"update",payload:[]});case 13:case"end":return V.stop()}},g)})),je.apply(this,arguments)}return(0,O.useEffect)(function(){return Me(),!J.canSeeEnableCe&&(0,Ee.YQ)().then(function(g){Qe(g.data)}),!J.canSeeEnableCe&&(0,Be.q)().then(function(g){Je(g.data)}),(0,he.u5)().then(function(g){rt(g.data)}),function(){Ce.progress.close("container:stat")}},[]),(0,e.jsxs)(F.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,e.jsxs)(F.Z,{bordered:!0,split:"vertical",wrap:!0,children:[(0,e.jsx)(F.Z,{style:{height:"570px",overflow:"hidden"},colSpan:{xs:24,sm:24,md:24,lg:9,xl:9},headerBordered:!0,title:(0,e.jsx)($e.Z,{}),subTitle:l.format("basicInfoTitle"),extra:(0,e.jsx)(ie.Z,{children:J.canSeeEnableCe?J.canSeeEnableInDPanel&&(0,e.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/manual/pro",target:"_blank",children:l.format("basicProBuy")},"proLink"):ge&&ge.expireTime?(0,e.jsxs)("span",{children:[l.format("basicProExpireTime")," ",new Date(ge.expireTime).toLocaleString()]},"expireTime"):(0,e.jsx)(ze.ZP,{type:"link",onClick:d()(o()().mark(function g(){var _,D;return o()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,(0,Ee.$w)();case 2:_=N.sent,D=new Blob([_.data.code],{type:"text/plain"}),(0,Ge.saveAs)(D,"dpanel.code");case 5:case"end":return N.stop()}},g)})),children:l.format("basicProCode")},"downloadCode")}),children:(0,e.jsxs)(H.Z,{column:1,labelStyle:{width:100,justifyContent:"flex-end"},children:[(0,e.jsx)(H.Z.Item,{label:l.format("basicDPanelTitleVersion"),children:(0,e.jsxs)(ie.Z,{direction:"horizontal",wrap:!0,children:[r==null?void 0:r.dpanel.version," - ",r==null?void 0:r.dpanel.env," - ",r==null?void 0:r.dpanel.family,J.canSeeEnableInDPanel&&(0,e.jsx)(ve.Z,{title:l.format("basicDPanelTitleUpgradeInfo"),children:(0,e.jsx)("a",{target:"_blank",href:"https://github.com/donknap/dpanel/releases",children:(0,e.jsx)(Ke.Z,{})})}),pe&&pe.newVersion!=""&&(0,e.jsx)(te.Link,{to:"/system/upgrade",children:(0,e.jsx)(Ne.Z,{count:pe.newVersion,size:"small"})})]})}),(0,e.jsxs)(H.Z.Item,{label:"Docker Host",children:[r==null?void 0:r.info.Name," ",(0,e.jsx)(e.Fragment,{children:(r==null?void 0:r.info.ID)==""&&(0,e.jsx)(te.Link,{to:"/system/env",state:{item:{name:"local",title:l.format("basicDefaultClientName")},t:(0,a.Fs)()},children:l.format("basicEnvSettingDefaultEnv")})})]}),(0,e.jsx)(H.Z.Item,{label:l.format("basicDockerTitleVersion"),children:"".concat(r==null?void 0:r.info.OperatingSystem," - ").concat(r==null?void 0:r.info.ServerVersion," - ").concat(r==null?void 0:r.sdkVersion)}),(0,e.jsx)(H.Z.Item,{label:l.format("basicDockerTitleFileDriver"),children:"".concat(r==null?void 0:r.info.Driver)}),(0,e.jsx)(H.Z.Item,{label:l.format("basicDockerTitleLogDriver"),children:"".concat(r==null?void 0:r.info.LoggingDriver)}),(0,e.jsx)(H.Z.Item,{label:l.format("basicDockerTitleSystemVersion"),children:"".concat(r==null?void 0:r.info.KernelVersion," - ").concat(r==null?void 0:r.info.Architecture)}),(0,e.jsxs)(H.Z.Item,{label:"Cpu",children:[r==null?void 0:r.info.NCPU," ",s.FD.format("unitCpu")]}),(0,e.jsx)(H.Z.Item,{label:"Memory",children:(0,a.FI)((K=r==null?void 0:r.info.MemTotal)!==null&&K!==void 0?K:0)}),(0,e.jsx)(H.Z.Item,{label:l.format("basicDockerTitleRootDir"),children:r==null?void 0:r.info.DockerRootDir}),(0,e.jsx)(H.Z.Item,{label:l.format("basicDockerTitlePluginsVolume"),children:(0,e.jsx)(ie.Z,{children:r==null?void 0:r.info.Plugins.Volume})}),(0,e.jsx)(H.Z.Item,{label:l.format("basicDockerTitlePluginsNetwork"),children:(0,e.jsx)(ie.Z,{wrap:!0,children:r==null?void 0:r.info.Plugins.Network})}),(0,e.jsx)(H.Z.Item,{label:l.format("basicDockerTitleSystemTime"),children:new Date((P=r==null?void 0:r.info.SystemTime)!==null&&P!==void 0?P:"").toLocaleString()})]})}),(0,e.jsxs)(F.Z,{headerBordered:!0,colSpan:{xs:24,sm:24,md:24,lg:15,xl:15},title:(0,e.jsx)(fe.Z,{}),subTitle:l.format("runStatTitle"),split:"horizontal",extra:(0,e.jsx)(ie.Z,{children:B.list&&(0,e.jsx)(Q,{data:B.list})}),children:[(0,e.jsx)(F.Z,{children:(0,e.jsxs)(Ve.Z,{gap:50,align:"center",justify:"space-evenly",children:[(0,e.jsx)(be,{showPercent:parseFloat((((p=B==null?void 0:B.cpu)!==null&&p!==void 0?p:0)/((v=r==null?void 0:r.info.NCPU)!==null&&v!==void 0?v:0)).toFixed(2)),showLabel:"Cpu",showUse:"".concat(((z=B==null?void 0:B.cpu)!==null&&z!==void 0?z:0).toFixed(2)),showTotal:"".concat((k=r==null?void 0:r.info.NCPU)!==null&&k!==void 0?k:0," ").concat(s.FD.format("unitCpu"))}),(0,e.jsx)(be,{showPercent:parseFloat((((Y=B==null?void 0:B.memory)!==null&&Y!==void 0?Y:0)/((ue=r==null?void 0:r.info.MemTotal)!==null&&ue!==void 0?ue:0)*100).toFixed(2)),showLabel:"Memory",showUse:(0,a.FI)((w=B==null?void 0:B.memory)!==null&&w!==void 0?w:0),showTotal:"".concat((0,a.FI)((M=r==null?void 0:r.info.MemTotal)!==null&&M!==void 0?M:0))})]})}),(0,e.jsxs)(F.Z,{split:"vertical",wrap:!0,children:[(0,e.jsx)(F.Z,{colSpan:12,title:(0,e.jsx)(fe.Z,{}),subTitle:l.format("usageNetwork"),headerBordered:!0,children:(0,e.jsx)(b.Z,{data:B.network,yLabelFormatter:function(_){return(0,a.FI)(parseFloat(_))},yDomainMaxCallback:function(_){return _.max*1.5},name:"network"})}),(0,e.jsx)(F.Z,{colSpan:12,title:(0,e.jsx)(fe.Z,{}),subTitle:l.format("usageDisk"),headerBordered:!0,children:(0,e.jsx)(b.Z,{name:"disk",data:B.io,yLabelFormatter:function(_){return(0,a.FI)(parseFloat(_))},yDomainMaxCallback:function(_){return _.max*1.5}})})]})]})]}),(0,e.jsxs)(F.Z,{bordered:!0,headerBordered:!0,title:(0,e.jsx)(fe.Z,{}),subTitle:l.format("usageTitle"),wrap:!0,extra:(0,e.jsx)(ie.Z,{children:(0,e.jsx)("span",{children:n!=null&&n.diskUsage&&n!==null&&n!==void 0&&n.diskUsage.updatedAt?"".concat(l.format("usageLastUpgradeTime")," ").concat(new Date(n==null?void 0:n.diskUsage.updatedAt).toLocaleString()):""},"lastUpdate")},"size"),children:[(0,e.jsx)(F.Z,{colSpan:{xs:24,sm:24,md:24,lg:24,xl:12,xxl:12},ghost:!0,children:(n==null?void 0:n.diskUsage)&&(0,e.jsx)(ke,{data:n==null?void 0:n.diskUsage})}),(0,e.jsxs)(F.Z,{colSpan:{xs:24,sm:8,md:8,lg:8,xl:4,xxl:4},split:"horizontal",ghost:!0,children:[(0,e.jsx)($.Z,{statistic:{title:(0,e.jsx)(ie.Z,{children:l.format("usageContainer")}),value:n!=null&&n.diskUsage.usage.Containers?(0,a.FI)((m=n.diskUsage.usage.Containers.reduce(function(g,_){var D;return g+_.SizeRootFs+((D=_.SizeRw)!==null&&D!==void 0?D:0)},0))!==null&&m!==void 0?m:0):0,description:l.format("usageDescContainer")}}),(0,e.jsx)($.Z,{statistic:{title:(0,e.jsx)(ie.Z,{children:l.format("usageImage")}),value:n!=null&&n.diskUsage.usage.Images?(0,a.FI)((L=n.diskUsage.usage.Images.reduce(function(g,_){var D;return g+(_.Size+((D=_.SharedSize)!==null&&D!==void 0?D:0))},0))!==null&&L!==void 0?L:0):0,description:l.format("usageDescImage")}}),(0,e.jsx)($.Z,{statistic:{title:(0,e.jsx)(ie.Z,{children:l.format("usageVolume")}),value:n!=null&&n.diskUsage.usage.Volumes?(0,a.FI)((ae=n.diskUsage.usage.Volumes.reduce(function(g,_){return g+_.UsageData.Size},0))!==null&&ae!==void 0?ae:0):0,description:l.format("usageDescVolume")}}),(0,e.jsx)($.Z,{statistic:{title:l.format("usageBuildCache"),value:n!=null&&n.diskUsage.usage.BuildCache?(0,a.FI)((ne=n.diskUsage.usage.BuildCache.reduce(function(g,_){return g+_.Size},0))!==null&&ne!==void 0?ne:0):0,description:(0,e.jsx)(E.u,{access:"canSeeHomeOverviewClear",children:(0,e.jsx)(T.Z,{action:function(){return(0,Fe.c5)()},type:"link",onSuccess:function(){Me()},ghost:!0,children:s.FD.format("listManageClear")})})}})]}),(0,e.jsxs)(F.Z,{colSpan:{xs:24,sm:16,md:16,lg:16,xl:8,xxl:8},ghost:!0,split:"horizontal",children:[(0,e.jsx)(F.Z,{ghost:!0,children:(0,e.jsxs)($.Z.Group,{children:[(0,e.jsx)($.Z,{statistic:{title:l.format("usageContainer"),value:(re=r==null?void 0:r.info.Containers)!==null&&re!==void 0?re:0,description:(0,e.jsx)(te.Link,{to:"/app/list",children:s.FD.format("listManageDetail")})}}),!J.canSeeEnableCe&&(0,e.jsx)($.Z,{statistic:{title:l.format("usageContainerNew"),status:"processing",valueRender:function(_){var D,ee,N;return(0,e.jsx)(ve.Z,{title:"".concat(s.FD.format("title.ignore"),": ").concat((D=q==null?void 0:q.ignore)!==null&&D!==void 0?D:0,` 
                      `).concat(s.FD.format("title.ignore"),": ").concat((ee=q==null?void 0:q.failed)!==null&&ee!==void 0?ee:0,` 
                      `).concat(s.FD.format("title.local"),": ").concat((N=q==null?void 0:q.local)!==null&&N!==void 0?N:0),children:q==null?void 0:q.upgrade})}}}),(0,e.jsx)($.Z,{statistic:{title:s.FD.format("title.warning"),status:"error",valueRender:function(_){var D,ee,N,V=0;return n&&n.total&&n.total.containerRunning.stop&&(V+=n.total.containerRunning.stop),n&&n.total&&n.total.containerRunning.pause&&(V+=n.total.containerRunning.pause),n&&n.total&&n.total.containerRunning.unhealthy&&(V+=n.total.containerRunning.unhealthy),(0,e.jsx)(ve.Z,{title:"".concat(new s.Uo("components.containerStatus").format("container.exited"),": ").concat((D=n==null?void 0:n.total.containerRunning.stop)!==null&&D!==void 0?D:0,`
                      `).concat(new s.Uo("components.containerStatus").format("container.paused"),": ").concat((ee=n==null?void 0:n.total.containerRunning.pause)!==null&&ee!==void 0?ee:0,` 
                      `).concat(new s.Uo("components.containerStatus").format("container.unhealthy"),": ").concat((N=n==null?void 0:n.total.containerRunning.unhealthy)!==null&&N!==void 0?N:0),children:V})}}}),(0,e.jsx)($.Z,{statistic:{title:l.format("usageContainerRecycle"),value:(oe=n==null?void 0:n.total.containerTask)!==null&&oe!==void 0?oe:0,description:(0,e.jsx)(te.Link,{to:"/app/list/recycle",children:s.FD.format("listManageDetail")})}})]})}),(0,e.jsxs)(F.Z,{ghost:!0,children:[(0,e.jsx)($.Z,{statistic:{title:l.format("usageImage"),value:"".concat((ce=(n==null?void 0:n.diskUsage.usage.Images)&&(n==null?void 0:n.diskUsage.usage.Images.length))!==null&&ce!==void 0?ce:0),description:(0,e.jsx)(te.Link,{to:"/image/list",children:s.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)($.Z,{statistic:{title:l.format("usageImageTask"),value:(me=n==null?void 0:n.total.imageTask)!==null&&me!==void 0?me:0,description:(0,e.jsx)(te.Link,{to:"/image/list/recycle",children:s.FD.format("listManageDetail")})},chartPlacement:"left"})]}),(0,e.jsxs)(F.Z,{ghost:!0,children:[(0,e.jsx)($.Z,{statistic:{title:l.format("usageNetwork"),value:n==null?void 0:n.total.network,description:(0,e.jsx)(te.Link,{to:"/docker/network",children:s.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)($.Z,{statistic:{title:l.format("usageNetworkPortBind"),value:n==null?void 0:n.total.port,description:(0,e.jsx)(j.a,{drawerProps:{width:c.R_},submitter:!1,title:l.format("usageNetworkPortBind"),trigger:(0,e.jsx)(u.Z.Link,{children:s.FD.format("listManageDetail")}),children:(0,e.jsx)(W.Z,{pagination:!1,dataSource:n==null?void 0:n.port,rowKey:function(_){return"".concat(_.port.host).concat(_.port.dest)},columns:[{title:l.format("usageNetworkPortBindHost"),dataIndex:["port","host"],sorter:function(_,D){return parseInt(_.port.host)-parseInt(D.port.host)},render:function(_,D,ee){return D.port.host!="0"?"".concat(D.port.hostIp,":").concat(D.port.host):"-"}},{title:l.format("usageNetworkPortBindDest"),dataIndex:["port","dest"]},{title:l.format("usageNetworkPortBindName"),dataIndex:"name",render:function(_,D,ee){return(0,a.fi)(D.name,"/")}}]})})},chartPlacement:"left"})]}),(0,e.jsxs)(F.Z,{ghost:!0,children:[(0,e.jsx)($.Z,{statistic:{title:l.format("usageVolume"),value:(de=(n==null?void 0:n.diskUsage.usage.Volumes)&&(n==null?void 0:n.diskUsage.usage.Volumes.length))!==null&&de!==void 0?de:0,description:(0,e.jsx)(te.Link,{to:"/docker/volume",children:s.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)($.Z,{statistic:{title:l.format("usageBackup"),value:n==null?void 0:n.total.backup,description:(0,e.jsx)(te.Link,{to:"/app/backup",children:s.FD.format("listManageDetail")})},chartPlacement:"left"})]})]})]})]})}},2831:function(se,C,t){t.d(C,{Ll:function(){return T},aF:function(){return U},d6:function(){return c},u5:function(){return h}});var R=t(15009),o=t.n(R),Z=t(99289),d=t.n(Z),y=t(82346);function U(){return I.apply(this,arguments)}function I(){return I=d()(o()().mark(function s(){return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,y.request)("/api/common/home/info",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},s)})),I.apply(this,arguments)}function h(){return E.apply(this,arguments)}function E(){return E=d()(o()().mark(function s(){return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,y.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},s)})),E.apply(this,arguments)}function T(){return b.apply(this,arguments)}function b(){return b=d()(o()().mark(function s(){return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,y.request)("/api/common/home/usage",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},s)})),b.apply(this,arguments)}function c(){return a.apply(this,arguments)}function a(){return a=d()(o()().mark(function s(){return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,y.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},s)})),a.apply(this,arguments)}},18148:function(se,C,t){t.d(C,{$q:function(){return c},Fj:function(){return Q},KG:function(){return U},KX:function(){return G},T8:function(){return T},Xn:function(){return h},ao:function(){return s},c5:function(){return e},c7:function(){return u}});var R=t(15009),o=t.n(R),Z=t(99289),d=t.n(Z),y=t(82346);function U(f){return I.apply(this,arguments)}function I(){return I=d()(o()().mark(function f(x){return o()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,y.request)("/api/app/image/get-list",{method:"POST",data:x}));case 1:case"end":return i.stop()}},f)})),I.apply(this,arguments)}function h(f){return E.apply(this,arguments)}function E(){return E=d()(o()().mark(function f(x){return o()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,y.request)("/api/app/image/get-list-build",{method:"POST",data:x}));case 1:case"end":return i.stop()}},f)})),E.apply(this,arguments)}function T(f){return b.apply(this,arguments)}function b(){return b=d()(o()().mark(function f(x){return o()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,y.request)("/api/app/image/get-build-task",{method:"POST",data:x});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},f)})),b.apply(this,arguments)}function c(f){return a.apply(this,arguments)}function a(){return a=d()(o()().mark(function f(x){return o()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,y.request)("/api/app/image/delete-build-task",{method:"POST",data:x});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},f)})),a.apply(this,arguments)}function s(f){return j.apply(this,arguments)}function j(){return j=d()(o()().mark(function f(x){return o()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,y.request)("/api/app/image/image-delete",{method:"POST",data:x});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},f)})),j.apply(this,arguments)}function u(){return W.apply(this,arguments)}function W(){return W=d()(o()().mark(function f(){return o()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,y.request)("/api/app/image/image-prune",{method:"POST"});case 2:return S.abrupt("return",S.sent);case 3:case"end":return S.stop()}},f)})),W.apply(this,arguments)}function e(){return A.apply(this,arguments)}function A(){return A=d()(o()().mark(function f(){return o()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,y.request)("/api/app/image/build-prune",{method:"POST"});case 2:return S.abrupt("return",S.sent);case 3:case"end":return S.stop()}},f)})),A.apply(this,arguments)}function Q(f){return X.apply(this,arguments)}function X(){return X=d()(o()().mark(function f(x){return o()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,y.request)("/api/app/image/update-title",{method:"POST",data:x});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},f)})),X.apply(this,arguments)}function G(f){return O.apply(this,arguments)}function O(){return O=d()(o()().mark(function f(x){return o()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,y.request)("/api/app/image/tag-sync",{method:"POST",data:x}));case 1:case"end":return i.stop()}},f)})),O.apply(this,arguments)}},89075:function(se,C,t){t.d(C,{$w:function(){return U},YQ:function(){return h},ax:function(){return T}});var R=t(15009),o=t.n(R),Z=t(99289),d=t.n(Z),y=t(82346);function U(){return I.apply(this,arguments)}function I(){return I=d()(o()().mark(function c(){return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,y.request)("/api/pro/home/get-machine-id",{method:"POST"}));case 1:case"end":return s.stop()}},c)})),I.apply(this,arguments)}function h(){return E.apply(this,arguments)}function E(){return E=d()(o()().mark(function c(){return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,y.request)("/api/pro/home/get-license-info",{method:"POST"}));case 1:case"end":return s.stop()}},c)})),E.apply(this,arguments)}function T(){return b.apply(this,arguments)}function b(){return b=d()(o()().mark(function c(){return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,y.request)("/api/pro/home/login-info",{method:"POST"}));case 1:case"end":return s.stop()}},c)})),b.apply(this,arguments)}},20578:function(se,C,t){t.d(C,{q:function(){return h},w:function(){return U}});var R=t(15009),o=t.n(R),Z=t(99289),d=t.n(Z),y=t(82346);function U(T){return I.apply(this,arguments)}function I(){return I=d()(o()().mark(function T(b){return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,y.request)("/api/pro/container/recycle-restore",{data:b,method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},T)})),I.apply(this,arguments)}function h(){return E.apply(this,arguments)}function E(){return E=d()(o()().mark(function T(){return o()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,y.request)("/api/pro/container/check-all-upgrade",{method:"POST"});case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},T)})),E.apply(this,arguments)}}}]);
