"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3917],{1699:function(Q,I,e){e.d(I,{u:function(){return L}});var O=e(9783),i=e.n(O),y=e(97857),m=e.n(y),x=e(67294),A=e(82346),b=e(40411),p=e(42075),f=e(85893),L=function(n){var j=(0,A.useAccess)(),E=Array.isArray(n.access)?n.access:[n.access],l,h=n.fallback;return typeof n.children=="function"?(l=n.children(E.reduce(function(s,_){return m()(m()({},s),{},i()({},_,j[_]))},{})),l||(l=h)):E.every(function(s){return j[s]})?l=n.children:l=h,!h&&l&&n.showProTips&&j.canSeeEnableCe&&(l=(0,f.jsx)(b.Z,{offset:n.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:l})),!h&&l&&n.showProRibbonTips&&j.canSeeEnableCe&&(l=(0,f.jsx)(b.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:l})),n.space?(0,f.jsx)(p.Z,m()(m()({},n.space),{},{children:l})):l}},80821:function(Q,I,e){e.d(I,{Z:function(){return v}});var O=e(97857),i=e.n(O),y=e(5574),m=e.n(y),x=e(24963),A=e(86738),b=e(28036),p=e(83062),f=e(67294),L=e(85893);function v(n){var j=(0,f.useState)(!1),E=m()(j,2),l=E[0],h=E[1],s=(0,f.useContext)(x.Z),_=s.lang,M=s.message,K=function(){h(!0);var W=n.action();W instanceof Promise?W.then(function(t){if(h(!1),t){typeof n.onSuccess=="function"&&n.onSuccess(t);var u="";n.messageSuccess?typeof n.messageSuccess=="function"?u=n.messageSuccess(t):u=n.messageSuccess.indexOf("notification.")==0?_(n.messageSuccess):n.messageSuccess:u=_("notification.finish"),n.asynced?M.info(u):M.success(u)}}).catch(function(t){h(!1),typeof n.onError=="function"&&n.onError(t)}):h(!1)};return n.confirm?(0,L.jsx)(A.Z,i()(i()({style:{width:500},title:n.confirmTitle?n.confirmTitle:_("notification.title.tip"),description:typeof n.confirm=="string"&&n.confirm.indexOf("notification.")==0?_(n.confirm):n.confirm,onConfirm:K,okText:"Yes",cancelText:"No",onOpenChange:n.confirmOnOpenChange},n.confirmProps),{},{children:(0,L.jsx)(b.ZP,{block:n.block,disabled:n.disabled,icon:!n.children&&l?void 0:n.icon,loading:l,danger:n.danger,type:n.type,children:n.children})})):(0,L.jsx)(p.Z,{title:n.tips,children:(0,L.jsx)(b.ZP,{block:n.block,style:n.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:n.disabled,icon:!n.children&&l?void 0:n.icon,loading:l,onClick:K,danger:n.danger,type:n.type,children:n.children})})}},44349:function(Q,I,e){var O=e(97857),i=e.n(O),y=e(17186),m=e(5966),x=e(86250),A=e(67294),b=e(85893),p=(0,A.forwardRef)(function(f,L){var v=(0,A.useRef)();(0,A.useImperativeHandle)(L,function(){return{addItem:function(E,l){var h,s=(h=v.current)===null||h===void 0?void 0:h.getList(),_=!1;if(s==null||s.map(function(K){if(K.name==E){_=!0;return}}),!_){var M;(M=v.current)===null||M===void 0||M.add({name:E,value:l})}},clear:function(){var E;(E=v.current)===null||E===void 0||(E=E.getList())===null||E===void 0||E.map(function(l,h){var s;(s=v.current)===null||s===void 0||s.remove(h)})}}});var n={};return f.hideCopyButton===!0&&(n.copyIconProps=!1),f.hideDeleteButton===!0&&(n.deleteIconProps=!1),(0,b.jsx)(y.u,i()(i()({initialValue:f.initialValue,label:f.label,name:f.name,actionRef:v,creatorButtonProps:f.showAddButton?{creatorButtonText:"\u6DFB\u52A0"+(f.label?f.label:f.name)}:!1,min:f.min?f.min:0},n),{},{children:function(E,l,h){return(0,b.jsx)(x.Z,{justify:f.justify,gap:f.gap,children:f.items.map(function(s){return s.render?(0,b.jsx)("div",{children:s.render&&s.render(E,l,h)},"".concat(f.name,"-").concat(s.name,"-").concat(E.key)):(0,b.jsx)(m.Z,{width:s.width,name:s.name,label:s.label,required:s.required,rules:[{required:s.required}],disabled:s.disabled,placeholder:s.placeholder},"".concat(f.name,"-").concat(s.name,"-").concat(E.key))})})}}))});I.Z=p},8680:function(Q,I,e){var O=e(15009),i=e.n(O),y=e(64599),m=e.n(y),x=e(99289),A=e.n(x),b=e(9783),p=e.n(b),f=e(5574),L=e.n(f),v=e(67294),n=e(184),j=e(38345),E=e(97269),l=e(97321),h=e(97462),s=e(64317),_=e(5966),M=e(86615),K=e(68602),c=e(28036),W=e(83403),t=e(24963),u=e(1699),o=e(29177),r=e(45742),H=e(43425),re=e(44349),ae=e(3616),S=e(85893),se=(0,v.forwardRef)(function(X,oe){var ue=(0,v.useState)(!1),ne=L()(ue,2),q=ne[0],te=ne[1],T=(0,v.useRef)(),ee=(0,v.useContext)(t.Z),k=ee.message,J=(0,v.useState)([]),$=L()(J,2),g=$[0],w=$[1],Y=p()(p()(p()(p()(p()({},W.W6.CONTAINER,"Id"),W.W6.APPSTORE,"name"),W.W6.COMPOSE,"name"),W.W6.REGISTRY,"serverAddress"),W.W6.DOCKER_ENV,"name"),B=p()(p()(p()(p()(p()({},W.W6.CONTAINER,"name"),W.W6.APPSTORE,"name"),W.W6.COMPOSE,"name"),W.W6.REGISTRY,"title"),W.W6.DOCKER_ENV,"title"),Z=Y[X.type],R=B[X.type],G=X.selected.map(function(z){return z[Y[X.type]]});return v.useEffect(function(){q&&((0,K.dP)({permission:{uri:X.type,key:Z,value:G}}).then(function(z){var U;(U=T.current)===null||U===void 0||U.setFieldValue("list",Object.keys(z.data.list).map(function(P){return{name:P,type:z.data.list[P].type,users:z.data.list[P].users}}))}),(0,K.lE)().then(function(z){var U,P=(U=z.data)===null||U===void 0||(U=U.list)===null||U===void 0?void 0:U.map(function(d){return{label:d.username,value:d.username}});w(P)}))},[q]),(0,S.jsx)(u.u,{access:["canSeeEnableEe","canSeeFounder","canSeeManage"],children:(0,S.jsxs)(n.a,{name:"create",title:"\u6570\u636E\u6743\u9650\u8BBE\u7F6E",open:q,onOpenChange:function(U){if(!U){var P;(P=T.current)===null||P===void 0||P.resetFields()}te(U)},drawerProps:{forceRender:!0,width:ae.R_},formRef:T,trigger:(0,S.jsx)(c.ZP,{icon:(0,S.jsx)(o.Z,{}),children:"\u6570\u636E\u6743\u9650"}),onFinish:function(){var z=A()(i()().mark(function U(P){var d,a,C;return i()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:d=m()(P.list),D.prev=1,d.s();case 3:if((a=d.n()).done){D.next=9;break}return C=a.value,D.next=7,(0,K.Db)({usernames:C.users,permissionType:C.type,permission:{uri:X.type,key:Z,showKey:R,value:[C.name]}});case 7:D.next=3;break;case 9:D.next=14;break;case 11:D.prev=11,D.t0=D.catch(1),d.e(D.t0);case 14:return D.prev=14,d.f(),D.finish(14);case 17:k.success("\u6743\u9650\u8BBE\u7F6E\u6210\u529F"),te(!1),X.onSuccess();case 20:case"end":return D.stop()}},U,null,[[1,11,14,17]])}));return function(U){return z.apply(this,arguments)}}(),children:[(0,S.jsxs)(j.Z,{ghost:!0,title:(0,S.jsx)(r.Z,{}),subTitle:"\u6279\u91CF\u8BBE\u7F6E",children:[(0,S.jsx)(E.A.Item,{name:"type",style:{marginBottom:0},children:(0,S.jsxs)(l.Z.Group,{defaultValue:"admin",onChange:function(U){var P,d,a=(P=T.current)===null||P===void 0?void 0:P.getFieldValue("list");a.forEach(function(C){C.type=U,C.users=[]}),(d=T.current)===null||d===void 0||d.setFieldValue("list",a)},children:[(0,S.jsx)(l.Z,{style:{width:240},title:"\u7BA1\u7406\u5458",description:"\u4EC5\u7BA1\u7406\u5458\u53EF\u89C1",value:"admin"}),(0,S.jsx)(l.Z,{style:{width:240},title:"\u6307\u5B9A\u7528\u6237",description:"\u4EC5\u9009\u4E2D\u7528\u6237\u53EF\u89C1",value:"restricted"}),(0,S.jsx)(l.Z,{style:{width:240},title:"\u516C\u5171",description:"\u6240\u6709\u4EBA\u53EF\u89C1",value:"public"})]})}),(0,S.jsx)(h.Z,{name:["type"],children:function(U){var P=U.type;if(P==="restricted")return(0,S.jsx)(s.Z,{mode:"multiple",name:"usernames",label:"\u9009\u62E9\u7528\u6237",onChange:function(a){var C,F,D=(C=T.current)===null||C===void 0?void 0:C.getFieldValue("list");D.forEach(function(N){N.users=a}),(F=T.current)===null||F===void 0||F.setFieldValue("list",D)},rules:[{required:!0}],request:A()(i()().mark(function d(){var a,C,F;return i()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(!(g.length>0)){N.next=2;break}return N.abrupt("return",g);case 2:return N.next=4,(0,K.lE)();case 4:return C=N.sent,F=(a=C.data)===null||a===void 0||(a=a.list)===null||a===void 0?void 0:a.map(function(V){return{label:V.username,value:V.username}}),w(F),N.abrupt("return",F);case 8:case"end":return N.stop()}},d)}))})}})]}),(0,S.jsx)(j.Z,{ghost:!0,title:(0,S.jsx)(H.Z,{}),subTitle:"\u6570\u636E\u6743\u9650\u8BBE\u7F6E",children:(0,S.jsx)(re.Z,{name:"list",hideCopyButton:!0,gap:10,items:[{name:"name",label:"\u540D\u79F0",render:function(U,P,d){var a=d.getCurrentRowData();return(0,S.jsx)(_.Z,{disabled:!0,label:"\u540D\u79F0",width:"sm",name:"name"})}},{name:"type",label:"\u6743\u9650\u7C7B\u578B",render:function(U,P,d){var a=d.getCurrentRowData();return(0,S.jsx)(M.Z.Group,{label:"\u6743\u9650\u7C7B\u578B",name:"type",radioType:"button",options:[{label:"\u7BA1\u7406\u5458",value:"admin"},{label:"\u516C\u5171",value:"public"},{label:"\u6307\u5B9A\u7528\u6237",value:"restricted"}]})}},{name:"users",label:"\u5173\u8054\u7528\u6237",render:function(U,P,d){return(0,S.jsx)(h.Z,{name:["type"],children:function(C){var F=C.type;if(F=="restricted")return(0,S.jsx)(s.Z,{width:"sm",mode:"tags",name:"users",label:"\u5173\u8054\u7528\u6237",options:g})}})}}]})})]})})});I.Z=se},3616:function(Q,I,e){e.d(I,{Ed:function(){return m},FK:function(){return i},R_:function(){return O},ob:function(){return y}});var O=window.innerWidth<=1024?"90vw":"65vw",i="90vw",y="60vw",m="50vh"},24963:function(Q,I,e){var O=e(67294),i=(0,O.createContext)({});I.Z=i},52756:function(Q,I,e){e.r(I),e.d(I,{default:function(){return L},getLang:function(){return f}});var O=e(82346),i=e(31418),y=e(26058),m=e(85137),x=e(24963),A=e(65913),b=e(67294),p=e(85893);function f(v,n){return(0,O.getIntl)((0,O.getLocale)()).formatMessage({id:v},n)}function L(){var v=(0,b.useRef)(),n=(0,O.useIntl)(),j=function(u){for(var o=arguments.length,r=new Array(o>1?o-1:0),H=1;H<o;H++)r[H-1]=arguments[H];l.notification[u]({message:n.formatMessage({id:"notification.title."+u}),description:r.join(" "),placement:"topRight"})},E=function(u){for(var o=arguments.length,r=new Array(o>1?o-1:0),H=1;H<o;H++)r[H-1]=arguments[H];l.message[u](r.join(" "))},l=i.Z.useApp(),h=(0,O.useModel)("@@initialState"),s=h.initialState,_=h.loading,M=h.error,K=h.refresh,c=h.setInitialState,W=(0,O.useModel)("subscriber");return s!=null&&s.user.username&&W.addDataHandler("user:permission:".concat(s==null?void 0:s.user.username),function(t){K()}),(0,p.jsx)(y.Z,{children:(0,p.jsx)(x.Z.Provider,{value:{notice:{success:function(){for(var u=arguments.length,o=new Array(u),r=0;r<u;r++)o[r]=arguments[r];j.apply(void 0,["success"].concat(o))},error:function(){for(var u=arguments.length,o=new Array(u),r=0;r<u;r++)o[r]=arguments[r];j.apply(void 0,["error"].concat(o))},warning:function(){for(var u=arguments.length,o=new Array(u),r=0;r<u;r++)o[r]=arguments[r];j.apply(void 0,["warning"].concat(o))},info:function(){for(var u=arguments.length,o=new Array(u),r=0;r<u;r++)o[r]=arguments[r];j.apply(void 0,["info"].concat(o))},destroy:function(){l.notification.destroy()}},message:{success:function(){for(var u=arguments.length,o=new Array(u),r=0;r<u;r++)o[r]=arguments[r];E.apply(void 0,["success"].concat(o))},error:function(){for(var u=arguments.length,o=new Array(u),r=0;r<u;r++)o[r]=arguments[r];E.apply(void 0,["error"].concat(o))},warning:function(){for(var u=arguments.length,o=new Array(u),r=0;r<u;r++)o[r]=arguments[r];E.apply(void 0,["warning"].concat(o))},info:function(){for(var u=arguments.length,o=new Array(u),r=0;r<u;r++)o[r]=arguments[r];E.apply(void 0,["info"].concat(o))},loading:function(){for(var u=arguments.length,o=new Array(u),r=0;r<u;r++)o[r]=arguments[r];E.apply(void 0,["loading"].concat(o))},destroy:function(){l.message.destroy()}},loading:{show:function(){v.current&&v.current.show()},destroy:function(){v.current&&v.current.destroy()}},lang:function(u,o){return n.formatMessage({id:u},o)}},children:(0,p.jsxs)(A.Z,{ref:v,children:[(0,p.jsx)(O.Outlet,{}),(0,p.jsx)(m.Z.BackTop,{duration:10,style:{bottom:100}})]})},_?"1":"2")})}},65913:function(Q,I,e){var O=e(5574),i=e.n(O),y=e(74330),m=e(67294),x=e(85893),A=(0,m.forwardRef)(function(b,p){(0,m.useImperativeHandle)(p,function(){return{show:function(){n(!0)},destroy:function(){n(!1)}}});var f=(0,m.useState)(!1),L=i()(f,2),v=L[0],n=L[1];return(0,x.jsx)(y.Z,{spinning:v,size:"default",children:b.children})});I.Z=A},29337:function(Q,I,e){e.r(I),e.d(I,{default:function(){return te}});var O=e(15009),i=e.n(O),y=e(99289),m=e.n(y),x=e(5574),A=e.n(x),b=e(3616),p=e(52756),f=e(24963),L=e(15078),v=e(184),n=e(5966),j=e(97462),E=e(86615),l=e(62370),h=e(82346),s=e(28036),_=e(42075),M=e(25593),K=e(66309),c=e(38925),W=e(67294),t=e(85893),u=(0,W.forwardRef)(function(T,ee){var k=(0,W.useState)(!1),J=A()(k,2),$=J[0],g=J[1],w=(0,W.useRef)(),Y=(0,W.useContext)(f.Z),B=Y.message,Z=Y.notice,R=(0,h.useSearchParams)(),G=A()(R,2),z=G[0],U=G[1];return(0,W.useImperativeHandle)(ee,function(){return{edit:function(d){var a;(a=w.current)===null||a===void 0||a.setFieldsValue({title:d.title,name:d.name,type:d.setting.type,url:d.setting.url,id:d.id}),g(!0)}}}),(0,W.useEffect)(function(){z.get("op")=="create"&&g(!0)},[]),(0,t.jsxs)(v.a,{name:"create",title:"\u6DFB\u52A0\u7B2C\u4E09\u65B9\u5E94\u7528\u5546\u5E97",open:$,onOpenChange:function(d){var a;!d&&((a=w.current)===null||a===void 0||a.resetFields()),g(d)},drawerProps:{forceRender:!0,width:b.R_},formRef:w,trigger:(0,t.jsx)(s.ZP,{type:"primary",children:"\u6DFB\u52A0\u7B2C\u4E09\u65B9\u5E94\u7528\u5546\u5E97"}),onFinish:function(){var P=m()(i()().mark(function d(a){var C,F,D;return i()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return a.type=="1panel-local"&&(a.url="/dpanel/store/".concat(a.name)),V.next=3,(0,L.ks)({name:a.name,url:a.url,type:a.type});case 3:if(C=V.sent,!(C&&C.data)){V.next=13;break}return V.next=7,(0,L.$c)({id:a.id,name:a.name,title:a.title,type:a.type,url:a.url,apps:C.data.list});case 7:if(F=V.sent,!(F&&F.data)){V.next=13;break}return B.success("\u6DFB\u52A0\u7B2C\u4E09\u65B9\u5E94\u7528\u5546\u5E97\u6210\u529F"),T.onFinish&&T.onFinish(),(D=w.current)===null||D===void 0||D.resetFields(),V.abrupt("return",!0);case 13:case"end":return V.stop()}},d)}));return function(d){return P.apply(this,arguments)}}(),children:[(0,t.jsx)(n.Z,{name:"id",hidden:!0}),(0,t.jsx)(n.Z,{label:"\u540D\u79F0",name:"title",required:!0,rules:[{required:!0}],placeholder:"\u7528\u4E8E\u533A\u5206\u4E0D\u540C\u7684\u5E94\u7528\u5546\u5E97"}),(0,t.jsx)(j.Z,{name:["id"],children:function(d){var a=d.id;return(0,t.jsx)(n.Z,{label:"\u6807\u8BC6",name:"name",required:!0,disabled:!!a,rules:[{required:!0}],placeholder:"\u6307\u5B9A\u5546\u5E97\u6807\u8BC6\uFF0C\u7528\u4E8E\u521B\u5EFA\u5546\u5E97\u6587\u4EF6\u5B58\u50A8\u76EE\u5F55"})}}),(0,t.jsx)(E.Z.Group,{name:"type",label:"\u5546\u5E97\u7C7B\u578B",valueEnum:{casaos:"casaos","1panel":"1panel","1panel-local":"1panel \u672C\u5730"},fieldProps:{onChange:function(d){var a;(a=w.current)===null||a===void 0||a.resetFields(["url"])}}}),(0,t.jsx)(j.Z,{name:["type","name"],children:function(d){var a=d.type,C=d.name,F=[],D=[];return a=="1panel"&&(D=["https://gitee.com/qyg2297248353/appstore-dpanel","https://github.com/1Panel-dev/appstore","https://github.com/okxlin/appstore"],F=[(0,t.jsx)(n.Z,{label:"\u4ED3\u5E93\u5730\u5740",name:"url",required:!0,rules:[{required:!0}],placeholder:"\u8BF7\u8F93\u5165\u8FDC\u7A0B git \u4ED3\u5E93\u5730\u5740\u6216\u662F\u9762\u677F /dpanel/store \u4E0B\u7684\u5B50\u76EE\u5F55\u540D"},"gitUrl")]),a=="portainer"&&(F=[(0,t.jsx)(n.Z,{label:"template.json \u5730\u5740",name:"url",required:!0,rules:[{required:!0}],placeholder:"https://github.com/Lissy93/portainer-templates/blob/main/templates.json"},"jsonUrl")]),a=="casaos"&&(D=["https://play.cuse.eu.org/Cp0204-AppStore-Play.zip"],F=[(0,t.jsx)(n.Z,{label:"zip \u5730\u5740",name:"url",required:!0,rules:[{required:!0}],placeholder:"\u8BF7\u8F93\u5165\u8FDC\u7A0B zip \u5730\u5740"},"zipUrl")]),a&&a!="1panel-local"?[F,(0,t.jsx)(l.Z,{label:(0,t.jsxs)(_.Z,{children:["\u63A8\u8350\u5546\u5E97",(0,t.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/manual/setting/store?id=%e6%94%af%e6%8c%81%e7%b1%bb%e5%9e%8b",target:"_blank",children:(0,p.getLang)("notification.help")})]}),children:(0,t.jsx)(_.Z,{wrap:!0,children:D.map(function(N,V){return(0,t.jsx)(M.Z.Link,{onClick:function(){var le;(le=w.current)===null||le===void 0||le.setFieldValue("url",N)},children:(0,t.jsx)(K.Z,{color:"cyan",children:N})},V)})})},"recommend")]:[F,(0,t.jsx)(l.Z,{children:(0,t.jsx)(c.Z,{message:"\u65B0\u5EFA /dpanel/store/".concat(C!=null?C:""," \u76EE\u5F55\uFF0C\u5E76\u81EA\u884C\u4E0B\u8F7D\u6216\u662F\u6DFB\u52A0\u5E94\u7528")})},"local-description")]}})]})}),o=u,r=e(80821),H=e(8680),re=e(83403),ae=e(5251),S=e(67255),se=e(43425),X=e(98165),oe=e(90078),ue=e(41482),ne=e(96074),q=e(83062);function te(){var T=(0,W.useRef)(),ee=(0,h.useAccess)(),k=(0,W.useRef)();return(0,t.jsx)(oe._z,{header:{extra:[ee.canSeeFounder&&(0,t.jsx)(o,{ref:k,onFinish:function(){var $,g;!(($=T.current)===null||$===void 0)&&$.reloadAndRest&&((g=T.current)===null||g===void 0||g.reloadAndRest())}},"create")]},children:(0,t.jsx)(ue.Z,{scroll:{x:"max-content"},rowKey:"id",pagination:(0,S.O)(),columns:[{title:"\u6807\u8BC6",dataIndex:"name",width:200},{title:"\u540D\u79F0",dataIndex:"title"},{title:"\u5730\u5740",width:500,search:!1,render:function($,g,w,Y,B){return(0,t.jsx)("a",{href:g.setting.url,target:"_blank",children:(0,t.jsx)(K.Z,{children:g.setting.url})})}},{title:"\u6700\u540E\u66F4\u65B0",width:180,render:function($,g,w,Y,B){if(g.setting.updatedAt)return(0,ae.ZM)(g.setting.updatedAt*1e3)}},{title:"\u64CD\u4F5C",width:100,search:!1,fixed:"right",render:function($,g,w,Y,B){return(0,t.jsxs)(_.Z,{split:(0,t.jsx)(ne.Z,{type:"vertical"}),children:[(0,t.jsx)(M.Z.Link,{onClick:function(){var R;(R=k.current)===null||R===void 0||R.edit(g)},children:(0,t.jsx)(q.Z,{title:"\u7BA1\u7406",children:(0,t.jsx)(se.Z,{})})},"manage"),(0,t.jsx)(r.Z,{type:"link",icon:(0,t.jsx)(X.Z,{}),action:function(){var R,G;return(0,L.ks)({id:g.id,name:g.name,url:(R=g.setting.url)!==null&&R!==void 0?R:"",type:(G=g.setting.type)!==null&&G!==void 0?G:""})},onSuccess:function(){var R,G;return!((R=T.current)===null||R===void 0)&&R.reloadAndRest&&((G=T.current)===null||G===void 0||G.reloadAndRest()),!0},onError:function(){var R,G;return!((R=T.current)===null||R===void 0)&&R.reloadAndRest&&((G=T.current)===null||G===void 0||G.reloadAndRest()),!0},children:" "},"upgrade")]})}}],request:function(){var J=m()(i()().mark(function $(g,w,Y){var B;return i()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,L.eO)({name:g.name,title:g.title});case 2:return B=R.sent,R.abrupt("return",{data:B.data.list,success:!0,total:B.data.list.length});case 4:case"end":return R.stop()}},$)}));return function($,g,w){return J.apply(this,arguments)}}(),rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},actionRef:T,tableAlertOptionRender:function($){var g=$.selectedRowKeys,w=$.selectedRows;return(0,t.jsxs)(_.Z,{size:16,children:[(0,t.jsx)(H.Z,{type:re.W6.APPSTORE,selected:w,onSuccess:function(){var B,Z;return!((B=T.current)===null||B===void 0)&&B.reloadAndRest&&((Z=T.current)===null||Z===void 0||Z.reloadAndRest()),!0}}),(0,t.jsx)(r.Z,{danger:!0,type:"primary",action:function(){return(0,L.Me)({id:w.map(function(B){return B.id})})},onSuccess:function(){var B,Z;return!((B=T.current)===null||B===void 0)&&B.reloadAndRest&&((Z=T.current)===null||Z===void 0||Z.reloadAndRest()),!0},onError:function(){var B,Z;return!((B=T.current)===null||B===void 0)&&B.reset&&((Z=T.current)===null||Z===void 0||Z.reset()),!0},confirm:"notification.confirm.title",children:"\u6279\u91CF\u5220\u9664"},"delete")]})}})})}},15078:function(Q,I,e){e.d(I,{$c:function(){return A},Me:function(){return E},eO:function(){return n},ks:function(){return p},yL:function(){return h}});var O=e(15009),i=e.n(O),y=e(99289),m=e.n(y),x=e(82346);function A(_){return b.apply(this,arguments)}function b(){return b=m()(i()().mark(function _(M){return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,x.request)("/api/common/store/create",{method:"POST",data:M}));case 1:case"end":return c.stop()}},_)})),b.apply(this,arguments)}function p(_){return f.apply(this,arguments)}function f(){return f=m()(i()().mark(function _(M){return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,x.request)("/api/common/store/sync",{method:"POST",data:M}));case 1:case"end":return c.stop()}},_)})),f.apply(this,arguments)}function L(_){return v.apply(this,arguments)}function v(){return v=_asyncToGenerator(_regeneratorRuntime().mark(function _(M){return _regeneratorRuntime().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",request("/api/common/store/get-detail",{method:"POST",data:M}));case 1:case"end":return c.stop()}},_)})),v.apply(this,arguments)}function n(_){return j.apply(this,arguments)}function j(){return j=m()(i()().mark(function _(M){return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,x.request)("/api/common/store/get-list",{method:"POST",data:M}));case 1:case"end":return c.stop()}},_)})),j.apply(this,arguments)}function E(_){return l.apply(this,arguments)}function l(){return l=m()(i()().mark(function _(M){return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,x.request)("/api/common/store/delete",{method:"POST",data:M});case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},_)})),l.apply(this,arguments)}function h(_){return s.apply(this,arguments)}function s(){return s=m()(i()().mark(function _(M){return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,x.request)(M==null?void 0:M.path,{method:"GET"}));case 1:case"end":return c.stop()}},_)})),s.apply(this,arguments)}},67255:function(Q,I,e){e.d(I,{O:function(){return O},j:function(){return i}});function O(y){var m=localStorage.getItem("dpanel-pagesize");return m=="all"?!1:{current:y==null?void 0:y.page,showSizeChanger:!0,defaultPageSize:parseInt(m!=null?m:"20"),onChange:function(A,b){localStorage.setItem("dpanel-page-"+location.pathname.split("/").slice(-2).join("-"),"".concat(A))}}}function i(y){var m="dpanel-table-column-".concat(y),x={};if(localStorage.getItem(m)){var A;x=JSON.parse((A=localStorage.getItem(m))!==null&&A!==void 0?A:"{}")}return{defaultValue:x,onChange:function(p){localStorage.setItem("dpanel-table-column-".concat(y),JSON.stringify(p))}}}}}]);
