"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[550],{58638:function(F,g,e){e.d(g,{Z:function(){return D}});var m=e(87462),o=e(67294),M={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},d=M,p=e(84089),c=function(a,_){return o.createElement(p.Z,(0,m.Z)({},a,{ref:_,icon:d}))},T=o.forwardRef(c),D=T},87784:function(F,g,e){e.d(g,{Z:function(){return D}});var m=e(87462),o=e(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},d=M,p=e(84089),c=function(a,_){return o.createElement(p.Z,(0,m.Z)({},a,{ref:_,icon:d}))},T=o.forwardRef(c),D=T},88484:function(F,g,e){e.d(g,{Z:function(){return D}});var m=e(87462),o=e(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},d=M,p=e(84089),c=function(a,_){return o.createElement(p.Z,(0,m.Z)({},a,{ref:_,icon:d}))},T=o.forwardRef(c),D=T},86615:function(F,g,e){var m=e(1413),o=e(45987),M=e(22270),d=e(78045),p=e(67294),c=e(90789),T=e(40284),D=e(85893),j=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],a=p.forwardRef(function(r,l){var h=r.fieldProps,s=r.options,n=r.radioType,t=r.layout,u=r.proFieldProps,U=r.valueEnum,v=(0,o.Z)(r,j);return(0,D.jsx)(T.Z,(0,m.Z)((0,m.Z)({valueType:n==="button"?"radioButton":"radio",ref:l,valueEnum:(0,M.h)(U,void 0)},v),{},{fieldProps:(0,m.Z)({options:s,layout:t},h),proFieldProps:u,filedConfig:{customLightMode:!0}}))}),_=p.forwardRef(function(r,l){var h=r.fieldProps,s=r.children;return(0,D.jsx)(d.ZP,(0,m.Z)((0,m.Z)({},h),{},{ref:l,children:s}))}),i=(0,c.G)(_,{valuePropName:"checked",ignoreWidth:!0}),f=i;f.Group=a,f.Button=d.ZP.Button,f.displayName="ProFormComponent",g.Z=f},5966:function(F,g,e){var m=e(97685),o=e(1413),M=e(45987),d=e(21770),p=e(21054),c=e(55241),T=e(98423),D=e(67294),j=e(40284),a=e(85893),_=["fieldProps","proFieldProps"],i=["fieldProps","proFieldProps"],f="text",r=function(t){var u=t.fieldProps,U=t.proFieldProps,v=(0,M.Z)(t,_);return(0,a.jsx)(j.Z,(0,o.Z)({valueType:f,fieldProps:u,filedConfig:{valueType:f},proFieldProps:U},v))},l=function(t){var u=(0,d.Z)(t.open||!1,{value:t.open,onChange:t.onOpenChange}),U=(0,m.Z)(u,2),v=U[0],k=U[1];return(0,a.jsx)(p.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(O){var P,H=O.getFieldValue(t.name||[]);return(0,a.jsx)(c.Z,(0,o.Z)((0,o.Z)({getPopupContainer:function(W){return W&&W.parentNode?W.parentNode:W},onOpenChange:function(W){return k(W)},content:(0,a.jsxs)("div",{style:{padding:"4px 0"},children:[(P=t.statusRender)===null||P===void 0?void 0:P.call(t,H),t.strengthText?(0,a.jsx)("div",{style:{marginTop:10},children:(0,a.jsx)("span",{children:t.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},t.popoverProps),{},{open:v,children:t.children}))}})},h=function(t){var u=t.fieldProps,U=t.proFieldProps,v=(0,M.Z)(t,i),k=(0,D.useState)(!1),x=(0,m.Z)(k,2),O=x[0],P=x[1];return u!=null&&u.statusRender&&v.name?(0,a.jsx)(l,{name:v.name,statusRender:u==null?void 0:u.statusRender,popoverProps:u==null?void 0:u.popoverProps,strengthText:u==null?void 0:u.strengthText,open:O,onOpenChange:P,children:(0,a.jsx)("div",{children:(0,a.jsx)(j.Z,(0,o.Z)({valueType:"password",fieldProps:(0,o.Z)((0,o.Z)({},(0,T.Z)(u,["statusRender","popoverProps","strengthText"])),{},{onBlur:function($){var W;u==null||(W=u.onBlur)===null||W===void 0||W.call(u,$),P(!1)},onClick:function($){var W;u==null||(W=u.onClick)===null||W===void 0||W.call(u,$),P(!0)}}),proFieldProps:U,filedConfig:{valueType:f}},v))})}):(0,a.jsx)(j.Z,(0,o.Z)({valueType:"password",fieldProps:u,proFieldProps:U,filedConfig:{valueType:f}},v))},s=r;s.Password=h,s.displayName="ProFormComponent",g.Z=s},1677:function(F,g,e){var m=e(1413),o=e(55850),M=e(15861),d=e(97685),p=e(45987),c=e(88484),T=e(31365),D=e(83622),j=e(29104),a=e(67294),_=e(9105),i=e(90789),f=e(85893),r=["fieldProps","action","accept","listType","title","max","icon","buttonProps","disabled","proFieldProps","imageProps"],l=function(t){return new Promise(function(u,U){var v=new FileReader;v.readAsDataURL(t),v.onload=function(){return u(v.result)},v.onerror=function(k){return U(k)}})},h=function(t,u){var U,v=t.fieldProps,k=t.action,x=t.accept,O=t.listType,P=t.title,H=P===void 0?"\u5355\u51FB\u4E0A\u4F20":P,$=t.max,W=t.icon,J=W===void 0?(0,f.jsx)(c.Z,{}):W,X=t.buttonProps,q=t.disabled,re=t.proFieldProps,ee=t.imageProps,ne=(0,p.Z)(t,r),de=(0,a.useState)(!1),se=(0,d.Z)(de,2),ce=se[0],te=se[1],_e=(0,a.useState)(""),ie=(0,d.Z)(_e,2),le=ie[0],ue=ie[1],Y=(0,a.useMemo)(function(){var y;return(y=ne.fileList)!==null&&y!==void 0?y:ne.value},[ne.fileList,ne.value]),me=function(){var y=(0,M.Z)((0,o.Z)().mark(function w(R){return(0,o.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(!(!R.url&&!R.preview)){E.next=4;break}return E.next=3,l(R.originFileObj);case 3:R.preview=E.sent;case 4:ue(R.url||R.preview),te(!0);case 6:case"end":return E.stop()}},w)}));return function(R){return y.apply(this,arguments)}}(),fe=(0,a.useContext)(_.A),S=(re==null?void 0:re.mode)||fe.mode||"edit",G=($===void 0||!Y||(Y==null?void 0:Y.length)<$)&&S!=="read",Q=(O!=null?O:v==null?void 0:v.listType)==="picture-card";return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(T.Z,(0,m.Z)((0,m.Z)({action:k,accept:x,ref:u,listType:O||"picture",fileList:Y,onPreview:me},v),{},{name:(U=v==null?void 0:v.name)!==null&&U!==void 0?U:"file",onChange:function(w){var R;v==null||(R=v.onChange)===null||R===void 0||R.call(v,w)},children:G&&(Q?(0,f.jsxs)("span",{children:[J," ",H]}):(0,f.jsxs)(D.ZP,(0,m.Z)((0,m.Z)({disabled:q||(v==null?void 0:v.disabled)},X),{},{children:[J,H]})))})),le&&(0,f.jsx)(j.Z,(0,m.Z)((0,m.Z)({wrapperStyle:{display:"none"}},ee),{},{preview:(0,m.Z)({visible:ce,onVisibleChange:function(w){return te(w)},afterOpenChange:function(w){return!w&&ue("")}},(ee==null?void 0:ee.preview)||{}),src:le}))]})},s=(0,i.G)(a.forwardRef(h),{getValueFromEvent:function(t){return t.fileList}});g.Z=s},1699:function(F,g,e){e.d(g,{u:function(){return a}});var m=e(9783),o=e.n(m),M=e(97857),d=e.n(M),p=e(67294),c=e(82346),T=e(40411),D=e(42075),j=e(85893),a=function(i){var f=(0,c.useAccess)(),r=Array.isArray(i.access)?i.access:[i.access],l,h=i.fallback;if(typeof i.children=="function"?(l=i.children(r.reduce(function(s,n){return d()(d()({},s),{},o()({},n,f[n]))},{})),l||(l=h)):r.every(function(s){return f[s]})?l=i.children:l=h,!h&&l&&i.showProTips&&f.canSeeEnableCe){if(f.canSeeEnableHiddenProTips)return null;l=(0,j.jsx)(T.Z,{offset:i.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:l})}if(!h&&l&&i.showProRibbonTips&&f.canSeeEnableCe){if(f.canSeeEnableHiddenProTips)return null;l=(0,j.jsx)(T.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:l})}return i.space?(0,j.jsx)(D.Z,d()(d()({},i.space),{},{children:l})):l}},80821:function(F,g,e){e.d(g,{Z:function(){return f}});var m=e(97857),o=e.n(m),M=e(5574),d=e.n(M),p=e(24963),c=e(36146),T=e(86738),D=e(83062),j=e(96074),a=e(83622),_=e(67294),i=e(85893);function f(r){var l=(0,_.useState)(!1),h=d()(l,2),s=h[0],n=h[1],t=(0,_.useContext)(p.Z),u=t.message,U=new c.Uo,v=function(){n(!0);var x=r.action();x instanceof Promise?x.then(function(O){if(n(!1),O){typeof r.onSuccess=="function"&&r.onSuccess(O);var P="";r.messageSuccess?typeof r.messageSuccess=="function"?P=r.messageSuccess(O):P=r.messageSuccess.indexOf("notification.")==0?U.format(r.messageSuccess):r.messageSuccess:P=U.format("notification.finish"),r.asynced?u.info(P):u.success(P)}}).catch(function(O){n(!1),typeof r.onError=="function"&&r.onError(O)}):n(!1)};return r.confirm?(0,i.jsx)(T.Z,o()(o()({style:{width:500},title:r.confirmTitle?r.confirmTitle:U.format("notification.title.tip"),description:typeof r.confirm=="string"&&r.confirm.indexOf("notification.")==0?U.format(r.confirm):r.confirm,onConfirm:v,okText:"Yes",cancelText:"No",onOpenChange:r.confirmOnOpenChange},r.confirmProps),{},{children:(0,i.jsxs)(D.Z,{title:r.tips,children:[r.showDivider&&(0,i.jsx)(j.Z,{type:"vertical",style:{marginRight:15}}),(0,i.jsx)(a.ZP,{block:r.block,disabled:r.disabled,icon:!r.children&&s?void 0:r.icon,loading:s,danger:r.danger,type:r.type,children:r.children})]})})):(0,i.jsxs)(D.Z,{title:r.tips,children:[r.showDivider&&(0,i.jsx)(j.Z,{type:"vertical",style:{marginRight:15}}),(0,i.jsx)(a.ZP,{block:r.block,style:r.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:r.disabled,icon:!r.children&&s?void 0:r.icon,loading:s,onClick:v,danger:r.danger,type:r.type,children:r.children})]})}},94359:function(F,g,e){e.d(g,{Z:function(){return h}});var m=e(5574),o=e.n(m),M=e(3089),d=e(98165),p=e(18429),c=e(8751),T=e(66212),D=e(14313),j=e(30159),a=e(87740),_=e(50888),i=e(66309),f=e(83062),r=e(36146),l=e(85893);function h(s){var n,t,u=new r.Uo("components.containerStatus"),U=s.status.split("."),v=o()(U,2),k=v[0],x=v[1],O="";O=u.format(s.status,(n=s.statusValue)!==null&&n!==void 0?n:{});var P=(0,l.jsx)(l.Fragment,{});return x=="0"&&(P=(0,l.jsx)(i.Z,{icon:(0,l.jsx)(M.Z,{}),color:"default",children:O})),x=="10"&&(P=(0,l.jsx)(i.Z,{icon:(0,l.jsx)(d.Z,{spin:!0}),color:"processing",children:O})),x=="20"&&(P=(0,l.jsx)(i.Z,{icon:(0,l.jsx)(p.Z,{}),color:"error",children:O})),x=="30"&&(P=(0,l.jsx)(i.Z,{icon:(0,l.jsx)(c.Z,{}),color:"success",children:O})),x=="new"&&(P=(0,l.jsx)(i.Z,{icon:(0,l.jsx)(T.Z,{}),children:O})),(x=="running"||x=="healthy"||x=="active"||x=="ready")&&(P=(0,l.jsx)(i.Z,{icon:(0,l.jsx)(D.Z,{}),color:"success",children:O})),(x=="paused"||x=="pause"||x=="rollback_paused")&&(P=(0,l.jsx)(i.Z,{icon:(0,l.jsx)(j.Z,{}),color:"warning",children:O})),(x=="waiting"||x=="starting"||x=="accepted")&&(P=(0,l.jsx)(i.Z,{icon:(0,l.jsx)(a.Z,{}),children:O})),["deploying","pending","allocated","accepted","assigned","preparing","updating","rollback_started"].includes(x)&&(P=(0,l.jsx)(i.Z,{icon:(0,l.jsx)(_.Z,{}),color:"processing",children:O})),(x=="error"||x=="down"||x=="failed")&&(P=(0,l.jsx)(i.Z,{icon:(0,l.jsx)(p.Z,{}),color:"error",children:O})),["complete","completed","rollback_completed"].includes(x)&&(P=(0,l.jsx)(i.Z,{icon:(0,l.jsx)(c.Z,{}),color:"success",children:O})),["exited","dead","removing","restarting","unhealthy","created","drain","unreachable","shutdown","rejected","remove","orphaned"].includes(x)&&(P=(0,l.jsx)(i.Z,{icon:(0,l.jsx)(p.Z,{}),color:"warning",children:O})),(0,l.jsx)(f.Z,{placement:"top",title:(t=s.tip)!==null&&t!==void 0?t:"",children:P})}},76428:function(F,g,e){e.d(g,{Z:function(){return d}});var m=e(25593),o=e(67294),M=e(85893);function d(p){return(0,M.jsx)(m.Z.Text,{copyable:!0,children:p.title})}},51100:function(F,g,e){e.d(g,{Z:function(){return p}});var m=e(97961),o=e(91604),M=e(1677),d=e(85893);function p(c){return c.showDragger?(0,d.jsx)(o.Z,{max:c.max?c.max:1,title:c.title,label:c.label,required:c.required,rules:[{required:c.required}],fieldProps:{multiple:!!(c.max&&c.max>1),name:"file",accept:c.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(D){return new Promise(function(j){var a;(0,m._2)({path:(a=D.response.data.path)!==null&&a!==void 0?a:""}).then(function(_){j(!0)})})}},name:c.name}):(0,d.jsx)(M.Z,{max:c.max?c.max:1,title:c.title,label:c.label,required:c.required,rules:[{required:c.required}],fieldProps:{multiple:!!(c.max&&c.max>1),name:"file",accept:c.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(D){return new Promise(function(j){var a;(0,m._2)({path:(a=D.response.data.path)!==null&&a!==void 0?a:""}).then(function(_){j(!0)})})}},name:c.name})}},3616:function(F,g,e){e.d(g,{Ed:function(){return d},FK:function(){return o},R_:function(){return m},ob:function(){return M}});var m=window.innerWidth<=1024?"90vw":"65vw",o="90vw",M="60vw",d="50vh"},24963:function(F,g,e){var m=e(67294),o=(0,m.createContext)({});g.Z=o},65913:function(F,g,e){var m=e(5574),o=e.n(m),M=e(74330),d=e(67294),p=e(85893),c=(0,d.forwardRef)(function(T,D){(0,d.useImperativeHandle)(D,function(){return{show:function(){i(!0)},destroy:function(){i(!1)}}});var j=(0,d.useState)(!1),a=o()(j,2),_=a[0],i=a[1];return(0,p.jsx)(M.Z,{spinning:_,size:"default",children:T.children})});g.Z=c},6091:function(F,g,e){e.r(g),e.d(g,{default:function(){return fe}});var m=e(15009),o=e.n(m),M=e(99289),d=e.n(M),p=e(37476),c=e(86615),T=e(97462),D=e(5966),j=e(83622),a=e(67294),_=e(1699),i=e(82346);function f(S){return r.apply(this,arguments)}function r(){return r=d()(o()().mark(function S(G){return o()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,(0,i.request)("/api/pro/container-backup/import",{data:G,method:"POST"});case 2:return y.abrupt("return",y.sent);case 3:case"end":return y.stop()}},S)})),r.apply(this,arguments)}var l=e(3616),h=e(51100),s=e(36146),n=e(85893),t=(0,a.forwardRef)(function(S,G){(0,a.useImperativeHandle)(G,function(){return{}});var Q=(0,a.useRef)(),y=new s.Uo("components.appDetail");return(0,n.jsx)(_.u,{showProTips:!0,access:["canSeeEnableCe","canSeeEnableDockerEnvLocal"],children:function(R){var L=R.canSeeEnableCe,E=R.canSeeEnableDockerEnvLocal;return E&&(0,n.jsxs)(p.Y,{modalProps:{width:l.ob},onFinish:function(){var K=d()(o()().mark(function b(C){var A,Z,I;return o()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return A=C.tarFilePath,C.tarFileUpload&&C.tarFileUpload.length>0&&(A=(Z=C.tarFileUpload[0].response.data.path)!==null&&Z!==void 0?Z:""),N.next=4,f({type:C.type,tarFilePath:A});case 4:return I=N.sent,S.onFinish&&S.onFinish(),N.abrupt("return",!0);case 7:case"end":return N.stop()}},b)}));return function(b){return K.apply(this,arguments)}}(),title:y.format("backupImportTitle"),formRef:Q,trigger:(0,n.jsx)(j.ZP,{disabled:L,type:"primary",children:y.format("backupImportTitle")}),onOpenChange:function(){var b;(b=Q.current)===null||b===void 0||b.resetFields()},children:[(0,n.jsx)(c.Z.Group,{label:y.format("backupImportType"),name:"type",initialValue:"upload",options:y.option("backupImportTypeOption",["upload"])}),(0,n.jsx)(T.Z,{name:["type"],children:function(b){var C=b.type;if(C=="upload")return(0,n.jsx)(h.Z,{required:!0,label:y.format("backupImportTarFileUpload"),name:"tarFileUpload",accept:".snapshot"});if(C=="serverPath")return(0,n.jsx)(D.Z,{required:!0,rules:[{required:!0}],name:"tarFilePath",label:y.format("backupImportTarFilePath")})}})]})}})}),u=t,U=e(5574),v=e.n(U),k=e(65913),x=e(85265),O=e(26412),P=e(42075),H=e(96074),$=e(25593),W=e(66309),J=e(2487),X=e(70146),q=e(5251),re=e(45605),ee=e(58638),ne=e(38345),de=e(76428),se=(0,a.forwardRef)(function(S,G){(0,a.useImperativeHandle)(G,function(){return{show:function(V){return d()(o()().mark(function N(){var ae;return o()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,(0,X.iD)({id:V});case 2:ae=B.sent,L(ae.data.detail),C(!0);case 5:case"end":return B.stop()}},N)}))()}}});var Q=(0,a.useRef)(),y=(0,a.useState)(),w=v()(y,2),R=w[0],L=w[1],E=(0,a.useState)(!1),K=v()(E,2),b=K[0],C=K[1],A=new s.Uo("components.appDetail"),Z=new s.Uo("components.appDetail.appDetailContainer");return(0,n.jsx)(x.Z,{title:A.format("backupQuickTitle"),open:b,onClose:function(){C(!1)},width:l.R_,children:(0,n.jsx)(k.Z,{ref:Q,children:R&&R.map(function(I){var V,N,ae=[],ve=[];return I.NetworkSettings&&I.NetworkSettings.Ports&&Object.entries(I.NetworkSettings.Ports).map(function(B){var z=v()(B,2),oe=z[0],pe=z[1],Oe=pe!=null?pe:[{HostPort:null,HostIp:""}],De=oe.split("/"),Pe=v()(De,2),Ee=Pe[0],ge=Pe[1];Oe.map(function(he){he.HostPort?ae.push({PrivatePort:Ee,Type:ge,IP:he.HostIp,PublicPort:he.HostPort}):ve.push({PrivatePort:Ee,Type:ge,IP:"",PublicPort:""})})}),(0,n.jsx)(ne.Z,{title:(0,n.jsx)(re.Z,{}),subTitle:A.format("backupQuickCardTitle",{name:(0,q.fi)(I.Name,"/")}),ghost:!0,children:(0,n.jsxs)(O.Z,{column:1,bordered:!0,children:[(0,n.jsx)(O.Z.Item,{label:Z.format("containerName"),children:(0,n.jsx)(P.Z,{split:(0,n.jsx)(H.Z,{type:"vertical"}),children:(0,n.jsx)($.Z.Text,{children:(0,q.fi)(I.Name,"/")})})}),(0,n.jsx)(O.Z.Item,{label:Z.format("image"),children:(0,n.jsxs)(P.Z,{split:(0,n.jsx)(H.Z,{type:"vertical"}),children:[(0,n.jsx)($.Z.Text,{copyable:!0,children:I.Config.Image}),(0,n.jsx)(W.Z,{color:"blue",children:I.EnableImage?s.FD.format("listHas"):s.FD.format("listHasNot")})]})}),(0,n.jsx)(O.Z.Item,{label:Z.format("port"),children:(0,n.jsx)(P.Z,{size:"large",wrap:!0,children:[].concat(ae,ve).map(function(B,z){return(0,n.jsx)(W.Z,{color:B.PublicPort?"#2db7f5":"warning",icon:B.PublicPort?(0,n.jsx)(ee.Z,{}):"",style:{marginBottom:10,marginRight:15,width:210},children:B.PublicPort?"".concat(B.PublicPort?B.IP+":"+B.PublicPort+" -> ":"").concat(B.PrivatePort,"/").concat(B.Type):"".concat(B.PrivatePort,"/").concat(B.Type)},z)})},"space")}),I.State.Running&&I.NetworkSettings.Networks&&Object.keys(I.NetworkSettings.Networks).map(function(B,z){return(0,n.jsx)(O.Z.Item,{label:Z.format("network")+B,children:B=="host"?Z.format("networkUseHost"):(0,n.jsxs)(P.Z,{direction:"vertical",children:[(0,n.jsx)(de.Z,{title:I.NetworkSettings.Networks[B].IPAddress}),I.NetworkSettings.Networks[B].Gateway,I.NetworkSettings.Networks[B].MacAddress]})},z)}),(0,n.jsx)(O.Z.Item,{label:Z.format("env"),children:(0,n.jsx)(J.Z,{dataSource:(V=I.Config.Env)!==null&&V!==void 0?V:[],renderItem:function(z){var oe=z.split("=");return(0,n.jsxs)(J.Z.Item,{children:[(0,n.jsx)($.Z.Text,{code:!0,children:oe[0]})," = ",(0,n.jsx)($.Z.Text,{copyable:!0,children:oe.slice(1).join("=")})]},oe[0])}})}),I.Mounts&&I.Mounts.length>0&&(0,n.jsx)(O.Z.Item,{label:Z.format("mount"),children:(0,n.jsx)(J.Z,{dataSource:(N=I.Mounts)!==null&&N!==void 0?N:[],renderItem:function(z){return(0,n.jsxs)(J.Z.Item,{children:[(0,n.jsx)($.Z.Text,{code:!0,children:z.Source})," : ",(0,n.jsx)($.Z.Text,{children:z.Destination})]},z.Source)}})})]})},I.Name)})})})}),ce=se,te=e(80821),_e=e(94359),ie=e(67255),le=e(87740),ue=e(87784),Y=e(90078),me=e(56729);function fe(){var S=(0,a.useRef)(),G=(0,i.useAccess)(),Q=(0,i.useModel)("subscriber"),y=(0,a.useRef)(),w=new s.Uo("app");return(0,n.jsxs)(Y._z,{header:{extra:[(0,n.jsx)(u,{onFinish:function(){var L;!((L=S.current)===null||L===void 0)&&L.reloadAndRest&&S.current.reloadAndRest()}},"backup-import")]},children:[(0,n.jsx)(ce,{ref:y}),(0,n.jsx)(me.Z,{rowKey:"id",scroll:{x:"max-content"},columns:[{title:s.FD.format("listContainerName"),dataIndex:"containerId",width:150,render:function(L,E,K,b,C){return(0,n.jsx)($.Z.Link,{onClick:function(){var Z;(Z=y.current)===null||Z===void 0||Z.show(E.id)},children:(0,q.fi)(E.containerId,"/")})}},{title:s.FD.format("listFilePath"),search:!1,width:300,render:function(L,E,K,b,C){var A=E.setting.backupTar;return(0,n.jsx)("span",{style:{wordBreak:"break-word"},children:A.substring(A.lastIndexOf("/",A.lastIndexOf("/")-1))})}},{title:s.FD.format("listSize"),search:!1,width:100,render:function(L,E,K,b,C){return E.setting.size?(0,n.jsx)($.Z.Text,{children:(0,q.FI)(E.setting.size)}):"-"}},{title:s.FD.format("listContainerVolume"),search:!1,render:function(L,E,K,b,C){return(0,n.jsx)(P.Z,{wrap:!0,children:E.setting.volumePathList.map(function(A){return A})})}},{title:s.FD.format("listStatus"),search:!1,width:80,render:function(L,E,K,b,C){var A,Z;return(0,n.jsx)(_e.Z,{tip:(A=E.setting.error)!==null&&A!==void 0?A:"",status:"status.".concat((Z=E.setting.status)!==null&&Z!==void 0?Z:"30")},E.id)}},{title:s.FD.format("listCreatedAt"),search:!1,width:200,render:function(L,E,K,b,C){return new Date(E.createdAt).toLocaleString()}},{title:s.FD.format("listManage"),search:!1,width:100,fixed:"right",hidden:!G.canSeeContainerBackupManage,render:function(L,E,K,b,C){return(0,n.jsxs)(P.Z,{split:(0,n.jsx)(H.Z,{}),children:[E.setting.status=="30"&&(0,n.jsx)(te.Z,{ghost:!0,tips:s.FD.format("listManageUnpause"),type:"link",confirm:(0,n.jsx)(P.Z,{style:{width:300},children:w.format("backupRestoreConfirm")}),action:function(){return(0,X.SR)({id:E.id,enableForce:!1})},icon:(0,n.jsx)(le.Z,{})}),E.setting.status=="10"&&(0,n.jsx)(te.Z,{action:d()(o()().mark(function A(){return o()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return Q.progress.close("container:backup:".concat(E.id)),setTimeout(function(){var V;!((V=S.current)===null||V===void 0)&&V.reloadAndRest&&S.current.reloadAndRest()},500),I.abrupt("return",!1);case 3:case"end":return I.stop()}},A)})),danger:!0,ghost:!0,type:"link",icon:(0,n.jsx)(ue.Z,{})})]})}}],request:function(){var R=d()(o()().mark(function L(E,K,b){var C;return o()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(0,X.Zy)({containerId:E.containerId,page:E.current,pageSize:E.pageSize});case 2:return C=Z.sent,Z.abrupt("return",{data:C.data.list,success:!0,total:C.data.total});case 4:case"end":return Z.stop()}},L)}));return function(L,E,K){return R.apply(this,arguments)}}(),rowSelection:G.canSeeContainerBackupManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,actionRef:S,tableAlertOptionRender:function(L){var E=L.selectedRowKeys;return(0,n.jsx)(P.Z,{size:16,children:(0,n.jsx)(te.Z,{danger:!0,type:"primary",action:function(){return(0,X.VE)({id:E})},onSuccess:function(){var b,C;return!((b=S.current)===null||b===void 0)&&b.reloadAndRest&&((C=S.current)===null||C===void 0||C.reloadAndRest()),!0},onError:function(){var b,C;return!((b=S.current)===null||b===void 0)&&b.reset&&((C=S.current)===null||C===void 0||C.reset()),!0},confirm:"notification.confirm.title",children:s.FD.format("listManageDeleteBatch")})})},pagination:(0,ie.Oh)()})]})}},70146:function(F,g,e){e.d(g,{SR:function(){return i},VE:function(){return a},Zy:function(){return D},iD:function(){return r},yB:function(){return c}});var m=e(15009),o=e.n(m),M=e(99289),d=e.n(M),p=e(82346);function c(h){return T.apply(this,arguments)}function T(){return T=d()(o()().mark(function h(s){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,p.request)("/api/app/container-backup/create",{data:s,method:"POST"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},h)})),T.apply(this,arguments)}function D(h){return j.apply(this,arguments)}function j(){return j=d()(o()().mark(function h(s){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("/api/app/container-backup/get-list",{method:"POST",data:s}));case 1:case"end":return t.stop()}},h)})),j.apply(this,arguments)}function a(h){return _.apply(this,arguments)}function _(){return _=d()(o()().mark(function h(s){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("/api/app/container-backup/delete",{method:"POST",data:s}));case 1:case"end":return t.stop()}},h)})),_.apply(this,arguments)}function i(h){return f.apply(this,arguments)}function f(){return f=d()(o()().mark(function h(s){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("/api/app/container-backup/restore",{method:"POST",data:s}));case 1:case"end":return t.stop()}},h)})),f.apply(this,arguments)}function r(h){return l.apply(this,arguments)}function l(){return l=d()(o()().mark(function h(s){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("/api/app/container-backup/get-detail",{method:"POST",data:s}));case 1:case"end":return t.stop()}},h)})),l.apply(this,arguments)}},97961:function(F,g,e){e.d(g,{GH:function(){return _},_2:function(){return f},fN:function(){return T},ii:function(){return c},vC:function(){return j}});var m=e(15009),o=e.n(m),M=e(99289),d=e.n(M),p=e(82346),c=[{name:"amd64",arch:"amd64",search:["amd64","x86_64","86_64"]},{name:"arm64",arch:"arm64",search:["arm64","arrch64"]},{name:"i386",arch:"386",search:[]},{name:"arm/v6",arch:"arm",search:[]},{name:"arm/v7",arch:"arm",search:[]},{name:"arm/v8",arch:"arm64",search:[]},{name:"ppc64le",arch:"ppc64le",search:[]},{name:"riscv64",arch:"riscv64",search:[]}];function T(s){return D.apply(this,arguments)}function D(){return D=d()(o()().mark(function s(n){return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,p.request)("/api/app/image/create-by-dockerfile",{method:"POST",data:n}));case 1:case"end":return u.stop()}},s)})),D.apply(this,arguments)}function j(s){return a.apply(this,arguments)}function a(){return a=d()(o()().mark(function s(n){return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,p.request)("/api/app/image/import-by-container-tar",{method:"POST",data:n}));case 1:case"end":return u.stop()}},s)})),a.apply(this,arguments)}function _(s){return i.apply(this,arguments)}function i(){return i=d()(o()().mark(function s(n){return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,p.request)("/api/app/image/import-by-image-tar",{method:"POST",data:n}));case 1:case"end":return u.stop()}},s)})),i.apply(this,arguments)}function f(s){return r.apply(this,arguments)}function r(){return r=d()(o()().mark(function s(n){return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,p.request)("/api/common/attach/delete",{method:"POST",data:n});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},s)})),r.apply(this,arguments)}function l(){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function s(){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/app/image/get-template-list",{method:"POST"}));case 1:case"end":return t.stop()}},s)})),h.apply(this,arguments)}},67255:function(F,g,e){e.d(g,{G$:function(){return p},LX:function(){return j},MJ:function(){return d},Oh:function(){return M},h5:function(){return T},j_:function(){return c},rj:function(){return D}});var m=e(5574),o=e.n(m);function M(a){var _=localStorage.getItem("dpanel-pagesize");return _=="all"?!1:{defaultCurrent:a==null?void 0:a.page,showSizeChanger:!0,defaultPageSize:parseInt(_!=null?_:"20"),showQuickJumper:!0}}function d(a,_){_?localStorage.setItem("dpanel-page-"+a,"".concat(_)):localStorage.removeItem("dpanel-page-"+a)}function p(a,_){var i=_?Math.ceil((_==null?void 0:_.total)/(_==null?void 0:_.pageSize)):void 0,f=localStorage.getItem("dpanel-page-"+a),r=1;return f&&(r=parseInt(f)),i&&r>i?1:r}function c(a){return{persistenceKey:a,persistenceType:"localStorage"}}var T=["descend","ascend"];function D(a,_){var i=localStorage.getItem("dpanel-table-sort-".concat(a));if(i){var f=i.split("|"),r=o()(f,2),l=r[0],h=r[1];if(l==_)return h}}function j(a,_,i){!_||!i?localStorage.removeItem("dpanel-table-sort-".concat(a)):localStorage.setItem("dpanel-table-sort-".concat(a),"".concat(_,"|").concat(i))}}}]);
