"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[992],{62635:function($,O,e){e.d(O,{Z:function(){return D}});var t=e(87462),_=e(67294),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"},v=u,d=e(84089),p=function(y,h){return _.createElement(d.Z,(0,t.Z)({},y,{ref:h,icon:v}))},P=_.forwardRef(p),D=P},24963:function($,O,e){var t=e(67294),_=(0,t.createContext)({});O.Z=_},52756:function($,O,e){e.r(O),e.d(O,{default:function(){return y},getLang:function(){return B}});var t=e(82346),_=e(31418),u=e(26058),v=e(85137),d=e(24963),p=e(65913),P=e(67294),D=e(85893);function B(h,I,E){var C=(0,t.getLocale)();E!=null&&E.XK&&(C="zh-XK");var i=(0,t.getIntl)(C).formatMessage({id:h},I);return i}function y(){var h=(0,P.useRef)(),I=(0,t.useIntl)(),E=function(l){for(var o=arguments.length,n=new Array(o>1?o-1:0),S=1;S<o;S++)n[S-1]=arguments[S];i.notification[l]({message:I.formatMessage({id:"notification.title."+l}),description:n.join(" "),placement:"topRight"})},C=function(l){for(var o=arguments.length,n=new Array(o>1?o-1:0),S=1;S<o;S++)n[S-1]=arguments[S];i.message[l](n.join(" "))},i=_.Z.useApp(),s=(0,t.useModel)("@@initialState"),b=s.initialState,V=s.loading,q=s.error,Y=s.refresh,ee=s.setInitialState,w=(0,t.useModel)("subscriber");return b!=null&&b.user.username&&w.addDataHandler("user:permission:".concat(b==null?void 0:b.user.username),function(M){Y()}),(0,D.jsx)(u.Z,{children:(0,D.jsx)(d.Z.Provider,{value:{notice:{success:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];E.apply(void 0,["success"].concat(o))},error:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];E.apply(void 0,["error"].concat(o))},warning:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];E.apply(void 0,["warning"].concat(o))},info:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];E.apply(void 0,["info"].concat(o))},destroy:function(){i.notification.destroy()}},message:{success:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];C.apply(void 0,["success"].concat(o))},error:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];C.apply(void 0,["error"].concat(o))},warning:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];C.apply(void 0,["warning"].concat(o))},info:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];C.apply(void 0,["info"].concat(o))},loading:function(){for(var l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];C.apply(void 0,["loading"].concat(o))},destroy:function(){i.message.destroy()}},loading:{show:function(){h.current&&h.current.show()},destroy:function(){h.current&&h.current.destroy()}},lang:function(l,o){return I.formatMessage({id:l},o)}},children:(0,D.jsxs)(p.Z,{ref:h,children:[(0,D.jsx)(t.Outlet,{}),(0,D.jsx)(v.Z.BackTop,{duration:10,style:{bottom:100}})]})},V?"1":"2")})}},65913:function($,O,e){var t=e(5574),_=e.n(t),u=e(74330),v=e(67294),d=e(85893),p=(0,v.forwardRef)(function(P,D){(0,v.useImperativeHandle)(D,function(){return{show:function(){I(!0)},destroy:function(){I(!1)}}});var B=(0,v.useState)(!1),y=_()(B,2),h=y[0],I=y[1];return(0,d.jsx)(u.Z,{spinning:h,size:"default",children:P.children})});O.Z=p},60933:function($,O,e){e.r(O),e.d(O,{default:function(){return s}});var t=e(15009),_=e.n(t),u=e(99289),v=e.n(u),d=e(5574),p=e.n(d),P=e(52756),D=e(2831),B=e(89035),y=e(90078),h=e(38345),I=e(38925),E=e(25593),C=e(67294),i=e(85893);function s(){var b=(0,C.useState)([]),V=p()(b,2),q=V[0],Y=V[1];(0,C.useEffect)(function(){ee({})},[]);var ee=function(){var w=v()(_()().mark(function M(l){var o,n,S,G,J;return _()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,(0,D.d6)();case 2:o=K.sent,n="",o.data.info.Mounts.map(function(F){F.Type=="volume"&&(n=F.Name)}),S=Object.keys(o.data.info.HostConfig.PortBindings).map(function(F){return o.data.info.HostConfig.PortBindings[F].map(function(oe){return"-p ".concat(oe.HostPort,":").concat(String(parseInt(F)))})}),G=!1,J=o.data.info.HostConfig.Binds.map(function(F){return F.indexOf(":/dpanel")>-1&&(G=!0),"-v ".concat(F)}),G||(n="",o.data.info.Mounts.map(function(F){F.Type=="volume"&&(n=F.Name)}),J.push("-v "+n+":/dpanel")),Y(["sudo docker stop ".concat(o.data.info.Name," && sudo docker rm ").concat(o.data.info.Name),"sudo docker pull ".concat(o.data.info.Config.Image),"sudo docker run -it -d --name ".concat(o.data.info.Name," --restart=always ").concat(S.join(" ")," ").concat(J.join(" ")," ").concat(o.data.info.Config.Image)+(o.data.info.NetworkSettings.Networks["dpanel-local"]?" && docker network connect dpanel-local ".concat(o.data.info.Name):"")]);case 10:case"end":return K.stop()}},M)}));return function(l){return w.apply(this,arguments)}}();return(0,i.jsx)(y._z,{children:(0,i.jsxs)(h.Z,{direction:"column",children:[(0,i.jsx)(I.Z,{message:"\u8BF7\u52A1\u5FC5\u4ED4\u7EC6\u9605\u8BFB",showIcon:!0,description:(0,i.jsxs)("ol",{style:{marginLeft:"-20px"},children:[(0,i.jsx)("li",{children:"\u66F4\u65B0\u9762\u677F\u65F6\uFF0C\u9700\u8981\u5728\u5BBF\u4E3B\u673A\u4E0A\u6267\u884C\u66F4\u65B0\u811A\u672C\u3002"}),(0,i.jsx)("li",{children:"\u66F4\u65B0\u811A\u672C\u652F\u6301\u66F4\u65B0\u548C\u65B0\u88C5\u9762\u677F\u5BB9\u5668\uFF0C\u66F4\u65B0\u65F6\u8BF7\u6307\u5B9A\u5F53\u524D\u9762\u677F\u5BB9\u5668\u7684\u540D\u79F0"}),(0,i.jsx)("li",{children:"\u66F4\u65B0\u8FC7\u7A0B\u4E2D\u4F1A\u5220\u9664\u3001\u91CD\u5EFA\u9762\u677F\u5BB9\u5668\u3002\u5BFC\u81F4\u7AD9\u70B9\u65E0\u6CD5\u8BBF\u95EE\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\u3002\uFF08Lite \u7248\u65E0\u5F71\u54CD\uFF09"}),(0,i.jsx)("li",{children:(0,i.jsx)(E.Z.Text,{type:"danger",children:"\u8BF7\u4FDD\u6301\u9762\u677F\u5BB9\u5668\u4E2D\u7684 /dpanel \u76EE\u5F55\u4E3A\u4E4B\u524D\u5B58\u50A8\u5377\u6216\u662F\u6302\u8F7D\u76EE\u5F55\uFF0C\u5426\u5219\u6570\u636E\u5C06\u4F1A\u4E22\u5931"})})]}),type:"warning",style:{marginBottom:"20px"}}),(0,i.jsxs)(h.Z,{ghost:!0,style:{paddingBottom:50},direction:"column",gutter:[10,50],children:[(0,i.jsx)(h.Z,{bordered:!0,headerBordered:!0,title:(0,i.jsx)(B.Z,{}),bodyStyle:{padding:"10px",background:"#24292f"},subTitle:(0,i.jsxs)(i.Fragment,{children:["\u4E00\u952E\u66F4\u65B0\u811A\u672C\uFF0C",(0,i.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/install/shell",target:"_blank",children:(0,P.getLang)("notification.help")})]}),children:(0,i.jsx)(E.Z.Text,{copyable:!0,style:{color:"#ffffff"},children:"sudo curl -sSL https://dpanel.cc/quick.sh -o quick.sh && sudo bash quick.sh"})}),(0,i.jsx)(h.Z,{bordered:!0,headerBordered:!0,title:(0,i.jsx)(B.Z,{}),bodyStyle:{padding:"10px",background:"#24292f"},subTitle:(0,i.jsxs)(i.Fragment,{children:["\u624B\u52A8\u66F4\u65B0\u811A\u672C\uFF0C",(0,i.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/manual/setting/upgrade",target:"_blank",children:(0,P.getLang)("notification.help")})]}),children:q.map(function(w){return(0,i.jsx)(E.Z.Paragraph,{copyable:!0,style:{color:"#ffffff"},children:w})})})]})]})})}},2831:function($,O,e){e.d(O,{Ll:function(){return y},aF:function(){return p},d6:function(){return I},u5:function(){return D}});var t=e(15009),_=e.n(t),u=e(99289),v=e.n(u),d=e(82346);function p(){return P.apply(this,arguments)}function P(){return P=v()(_()().mark(function C(){return _()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,d.request)("/api/common/home/info",{method:"POST"});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},C)})),P.apply(this,arguments)}function D(){return B.apply(this,arguments)}function B(){return B=v()(_()().mark(function C(){return _()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,d.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},C)})),B.apply(this,arguments)}function y(){return h.apply(this,arguments)}function h(){return h=v()(_()().mark(function C(){return _()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,d.request)("/api/common/home/usage",{method:"POST"});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},C)})),h.apply(this,arguments)}function I(){return E.apply(this,arguments)}function E(){return E=v()(_()().mark(function C(){return _()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,d.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},C)})),E.apply(this,arguments)}},66367:function($,O,e){e.d(O,{F:function(){return t}});function t(u){return u!=null&&u===u.window}const _=u=>{var v,d;if(typeof window=="undefined")return 0;let p=0;return t(u)?p=u.pageYOffset:u instanceof Document?p=u.documentElement.scrollTop:(u instanceof HTMLElement||u)&&(p=u.scrollTop),u&&!t(u)&&typeof p!="number"&&(p=(d=((v=u.ownerDocument)!==null&&v!==void 0?v:u).documentElement)===null||d===void 0?void 0:d.scrollTop),p};O.Z=_},58375:function($,O,e){e.d(O,{Z:function(){return v}});var t=e(75164);function _(d,p,P,D){const B=P-p;return d/=D/2,d<1?B/2*d*d*d+p:B/2*((d-=2)*d*d+2)+p}var u=e(66367);function v(d){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:P=()=>window,callback:D,duration:B=450}=p,y=P(),h=(0,u.Z)(y),I=Date.now(),E=()=>{const i=Date.now()-I,s=_(i>B?B:i,h,d,B);(0,u.F)(y)?y.scrollTo(window.pageXOffset,s):y instanceof Document||y.constructor.name==="HTMLDocument"?y.documentElement.scrollTop=s:y.scrollTop=s,i<B?(0,t.Z)(E):typeof D=="function"&&D()};(0,t.Z)(E)}},38925:function($,O,e){e.d(O,{Z:function(){return de}});var t=e(67294),_=e(89739),u=e(4340),v=e(97937),d=e(21640),p=e(78860),P=e(93967),D=e.n(P),B=e(29372),y=e(64217),h=e(42550),I=e(96159),E=e(53124),C=e(11568),i=e(14747),s=e(83559);const b=(r,a,f,c,g)=>({background:r,border:`${(0,C.bf)(c.lineWidth)} ${c.lineType} ${a}`,[`${g}-icon`]:{color:f}}),V=r=>{const{componentCls:a,motionDurationSlow:f,marginXS:c,marginSM:g,fontSize:j,fontSizeLG:L,lineHeight:W,borderRadiusLG:Z,motionEaseInOutCirc:R,withDescriptionIconSize:N,colorText:H,colorTextHeading:X,withDescriptionPadding:Q,defaultPadding:A}=r;return{[a]:Object.assign(Object.assign({},(0,i.Wf)(r)),{position:"relative",display:"flex",alignItems:"center",padding:A,wordWrap:"break-word",borderRadius:Z,[`&${a}-rtl`]:{direction:"rtl"},[`${a}-content`]:{flex:1,minWidth:0},[`${a}-icon`]:{marginInlineEnd:c,lineHeight:0},"&-description":{display:"none",fontSize:j,lineHeight:W},"&-message":{color:X},[`&${a}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${f} ${R}, opacity ${f} ${R},
        padding-top ${f} ${R}, padding-bottom ${f} ${R},
        margin-bottom ${f} ${R}`},[`&${a}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${a}-with-description`]:{alignItems:"flex-start",padding:Q,[`${a}-icon`]:{marginInlineEnd:g,fontSize:N,lineHeight:0},[`${a}-message`]:{display:"block",marginBottom:c,color:X,fontSize:L},[`${a}-description`]:{display:"block",color:H}},[`${a}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},q=r=>{const{componentCls:a,colorSuccess:f,colorSuccessBorder:c,colorSuccessBg:g,colorWarning:j,colorWarningBorder:L,colorWarningBg:W,colorError:Z,colorErrorBorder:R,colorErrorBg:N,colorInfo:H,colorInfoBorder:X,colorInfoBg:Q}=r;return{[a]:{"&-success":b(g,c,f,r,a),"&-info":b(Q,X,H,r,a),"&-warning":b(W,L,j,r,a),"&-error":Object.assign(Object.assign({},b(N,R,Z,r,a)),{[`${a}-description > pre`]:{margin:0,padding:0}})}}},Y=r=>{const{componentCls:a,iconCls:f,motionDurationMid:c,marginXS:g,fontSizeIcon:j,colorIcon:L,colorIconHover:W}=r;return{[a]:{"&-action":{marginInlineStart:g},[`${a}-close-icon`]:{marginInlineStart:g,padding:0,overflow:"hidden",fontSize:j,lineHeight:(0,C.bf)(j),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${f}-close`]:{color:L,transition:`color ${c}`,"&:hover":{color:W}}},"&-close-text":{color:L,transition:`color ${c}`,"&:hover":{color:W}}}}},ee=r=>({withDescriptionIconSize:r.fontSizeHeading3,defaultPadding:`${r.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${r.paddingMD}px ${r.paddingContentHorizontalLG}px`});var w=(0,s.I$)("Alert",r=>[V(r),q(r),Y(r)],ee),M=function(r,a){var f={};for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&a.indexOf(c)<0&&(f[c]=r[c]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,c=Object.getOwnPropertySymbols(r);g<c.length;g++)a.indexOf(c[g])<0&&Object.prototype.propertyIsEnumerable.call(r,c[g])&&(f[c[g]]=r[c[g]]);return f};const l={success:_.Z,info:p.Z,error:u.Z,warning:d.Z},o=r=>{const{icon:a,prefixCls:f,type:c}=r,g=l[c]||null;return a?(0,I.wm)(a,t.createElement("span",{className:`${f}-icon`},a),()=>({className:D()(`${f}-icon`,a.props.className)})):t.createElement(g,{className:`${f}-icon`})},n=r=>{const{isClosable:a,prefixCls:f,closeIcon:c,handleClose:g,ariaProps:j}=r,L=c===!0||c===void 0?t.createElement(v.Z,null):c;return a?t.createElement("button",Object.assign({type:"button",onClick:g,className:`${f}-close-icon`,tabIndex:0},j),L):null};var G=t.forwardRef((r,a)=>{const{description:f,prefixCls:c,message:g,banner:j,className:L,rootClassName:W,style:Z,onMouseEnter:R,onMouseLeave:N,onClick:H,afterClose:X,showIcon:Q,closable:A,closeText:k,closeIcon:z,action:re,id:me}=r,fe=M(r,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[se,pe]=t.useState(!1),ae=t.useRef(null);t.useImperativeHandle(a,()=>({nativeElement:ae.current}));const{getPrefixCls:_e,direction:ge,alert:m}=t.useContext(E.E_),T=_e("alert",c),[ve,he,Ee]=w(T),Ce=x=>{var U;pe(!0),(U=r.onClose)===null||U===void 0||U.call(r,x)},ie=t.useMemo(()=>r.type!==void 0?r.type:j?"warning":"info",[r.type,j]),Oe=t.useMemo(()=>typeof A=="object"&&A.closeIcon||k?!0:typeof A=="boolean"?A:z!==!1&&z!==null&&z!==void 0?!0:!!(m!=null&&m.closable),[k,z,A,m==null?void 0:m.closable]),le=j&&Q===void 0?!0:Q,De=D()(T,`${T}-${ie}`,{[`${T}-with-description`]:!!f,[`${T}-no-icon`]:!le,[`${T}-banner`]:!!j,[`${T}-rtl`]:ge==="rtl"},m==null?void 0:m.className,L,W,Ee,he),Me=(0,y.Z)(fe,{aria:!0,data:!0}),Pe=t.useMemo(()=>{var x,U;return typeof A=="object"&&A.closeIcon?A.closeIcon:k||(z!==void 0?z:typeof(m==null?void 0:m.closable)=="object"&&(!((x=m==null?void 0:m.closable)===null||x===void 0)&&x.closeIcon)?(U=m==null?void 0:m.closable)===null||U===void 0?void 0:U.closeIcon:m==null?void 0:m.closeIcon)},[z,A,k,m==null?void 0:m.closeIcon]),Be=t.useMemo(()=>{const x=A!=null?A:m==null?void 0:m.closable;if(typeof x=="object"){const{closeIcon:U}=x;return M(x,["closeIcon"])}return{}},[A,m==null?void 0:m.closable]);return ve(t.createElement(B.ZP,{visible:!se,motionName:`${T}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:x=>({maxHeight:x.offsetHeight}),onLeaveEnd:X},(x,U)=>{let{className:ue,style:ye}=x;return t.createElement("div",Object.assign({id:me,ref:(0,h.sQ)(ae,U),"data-show":!se,className:D()(De,ue),style:Object.assign(Object.assign(Object.assign({},m==null?void 0:m.style),Z),ye),onMouseEnter:R,onMouseLeave:N,onClick:H,role:"alert"},Me),le?t.createElement(o,{description:f,icon:r.icon,prefixCls:T,type:ie}):null,t.createElement("div",{className:`${T}-content`},g?t.createElement("div",{className:`${T}-message`},g):null,f?t.createElement("div",{className:`${T}-description`},f):null),re?t.createElement("div",{className:`${T}-action`},re):null,t.createElement(n,{isClosable:Oe,prefixCls:T,closeIcon:Pe,handleClose:Ce,ariaProps:Be}))}))}),J=e(15671),ne=e(43144),K=e(53640),F=e(60136),ce=function(r){function a(){var f;return(0,J.Z)(this,a),f=(0,K.Z)(this,a,arguments),f.state={error:void 0,info:{componentStack:""}},f}return(0,F.Z)(a,r),(0,ne.Z)(a,[{key:"componentDidCatch",value:function(c,g){this.setState({error:c,info:g})}},{key:"render",value:function(){const{message:c,description:g,id:j,children:L}=this.props,{error:W,info:Z}=this.state,R=(Z==null?void 0:Z.componentStack)||null,N=typeof c=="undefined"?(W||"").toString():c,H=typeof g=="undefined"?R:g;return W?t.createElement(G,{id:j,type:"error",message:N,description:t.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},H)}):L}}])}(t.Component);const te=G;te.ErrorBoundary=ce;var de=te},53640:function($,O,e){e.d(O,{Z:function(){return v}});var t=e(61120),_=e(78814),u=e(82963);function v(d,p,P){return p=(0,t.Z)(p),(0,u.Z)(d,(0,_.Z)()?Reflect.construct(p,P||[],(0,t.Z)(d).constructor):p.apply(d,P))}}}]);
