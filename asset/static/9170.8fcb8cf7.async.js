"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9170],{37767:function(en,S,n){n.d(S,{Z:function(){return tn}});var b=n(15009),i=n.n(b),F=n(99289),m=n.n(F),T=n(5574),j=n.n(T),P=n(45605),h=n(38345),D=n(97269),x=n(26412),U=n(42075),f=n(96074),y=n(25593),r=n(2487),O=n(67294),Z=n(76428),d=n(78498),H=n(44771),a=n(13822),N=n(24963),k=n(37413),q=n(5251),J=n(82346),I=n(87662),v=n(36146),t=n(85893);function tn(l){var nn,un,Y,dn,sn,cn,on,mn,e,fn,G=new v.Uo("components.appDetail.appDetailContainer"),jn=(0,O.useState)(""),vn=j()(jn,2),Dn=vn[0],hn=vn[1],Pn=(0,J.useAccess)(),In=(0,O.useContext)(N.Z),_n=In.message,En=(0,O.useRef)(),gn=[],_=[],X=[],ln=(0,O.useState)(""),w=j()(ln,2),z=w[0],L=w[1];return(0,O.useEffect)(function(){if(l.data){var c;(c=En.current)===null||c===void 0||c.setFieldValue("restart",l.data.info.HostConfig.RestartPolicy.Name),(0,I.K3)().then(function(R){var C;L((C=R.data.serverUrl)!==null&&C!==void 0?C:"")}),hn(l.data.info.Name)}},[l.data]),l.data&&l.data.domain&&l.data.domain.map(function(c){X.push(c.setting.enableSSL?"https://"+c.serverName:"http://"+c.serverName)}),l.data&&l.data.info.NetworkSettings&&l.data.info.NetworkSettings.Ports&&Object.keys(l.data.info.NetworkSettings.Ports).map(function(c){var R,C,A=(R=(C=l.data.info)===null||C===void 0?void 0:C.NetworkSettings.Ports[c])!==null&&R!==void 0?R:[{HostPort:null,HostIp:""}],p=c.split("/"),an=j()(p,2),W=an[0],K=an[1];A.map(function(M){M.HostPort?gn.push({PrivatePort:W,Type:K,IP:M.HostIp,PublicPort:M.HostPort}):_.push({PrivatePort:W,Type:K,IP:"",PublicPort:""})})}),(0,t.jsxs)(t.Fragment,{children:[l.data&&l.data.info.State.Running&&(0,t.jsx)(k.Z,{publicPort:gn,privatePort:_,domain:X,serverIp:z,showInDetail:!0,ghost:l.ghost,layout:"inline"}),(0,t.jsx)(h.Z,{title:(0,t.jsx)(P.Z,{}),subTitle:G.format("cardTitle"),ghost:l.ghost,children:(0,t.jsxs)(x.Z,{column:1,bordered:!0,children:[(0,t.jsx)(x.Z.Item,{label:"Hostname",children:(0,t.jsx)(U.Z,{split:(0,t.jsx)(f.Z,{type:"vertical"}),children:(0,t.jsx)(Z.Z,{title:(nn=l.data.info)===null||nn===void 0?void 0:nn.Config.Hostname})})}),(0,t.jsx)(x.Z.Item,{label:G.format("containerName"),children:(0,t.jsxs)(U.Z,{split:(0,t.jsx)(f.Z,{type:"vertical"}),children:[(0,t.jsx)(Z.Z,{title:(un=l.data.info)===null||un===void 0?void 0:un.Id.substring(0,12)}),(0,t.jsx)(y.Z.Text,{copyable:!0,editable:{tooltip:G.format("containerNameEditTip"),onChange:function(){var c=m()(i()().mark(function C(A){var p,an;return i()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if((p=l.data.info)!==null&&p!==void 0&&p.Id){K.next=2;break}return K.abrupt("return");case 2:return K.next=4,(0,a.eE)({md5:l.data.info.Id,name:A});case 4:an=K.sent,hn(A),_n.success(v.FD.format("finish"));case 7:case"end":return K.stop()}},C)}));function R(C){return c.apply(this,arguments)}return R}()},children:(0,q.fi)(Dn,"/")})]})}),(0,t.jsx)(x.Z.Item,{label:(0,t.jsx)(d.Z,{title:G.format("network"),help:G.format("networkHelp")}),children:((Y=l.data.info)===null||Y===void 0?void 0:Y.State.Running)&&(0,t.jsxs)(x.Z,{column:1,bordered:!0,children:[l.data.info.NetworkSettings.Networks&&Object.keys(l.data.info.NetworkSettings.Networks).map(function(c,R){var C,A,p;return(0,t.jsx)(x.Z.Item,{label:c,children:c=="host"?G.format("networkUseHost"):(0,t.jsxs)(U.Z,{direction:"vertical",children:[(0,t.jsx)(Z.Z,{title:(C=l.data.info)===null||C===void 0?void 0:C.NetworkSettings.Networks[c].IPAddress}),(A=l.data.info)===null||A===void 0?void 0:A.NetworkSettings.Networks[c].Gateway,(p=l.data.info)===null||p===void 0?void 0:p.NetworkSettings.Networks[c].MacAddress]})},R)}),l.data.info.HostConfig.ExtraHosts&&(0,t.jsx)(x.Z.Item,{label:G.format("networkExtra"),children:(0,t.jsx)(U.Z,{direction:"vertical",children:l.data.info.HostConfig.ExtraHosts.map(function(c,R){if(c.indexOf(":")>-1){var C=c.split(":");return"".concat(C[0]," - ").concat(C.slice(1).join(":"))}})})},"host")]})}),(0,t.jsx)(x.Z.Item,{label:G.format("runTime"),children:G.format("runTimeValue",{create:new Date((dn=(sn=l.data.info)===null||sn===void 0?void 0:sn.Created)!==null&&dn!==void 0?dn:"").toLocaleString(),upgrade:new Date((cn=(on=l.data.info)===null||on===void 0?void 0:on.State.StartedAt)!==null&&cn!==void 0?cn:"").toLocaleString()})}),Pn.canSeeContainerListManage&&(0,t.jsx)(x.Z.Item,{label:G.format("restartPolicy"),children:(0,t.jsx)(D.A,{name:"container-restart",submitter:!1,onValuesChange:function(){var c=m()(i()().mark(function R(C){var A,p;return i()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if((A=l.data.info)!==null&&A!==void 0&&A.Id){W.next=2;break}return W.abrupt("return");case 2:return W.next=4,(0,a.eE)({md5:l.data.info.Id,restart:C.restart});case 4:return p=W.sent,_n.success(v.FD.format("finish")),W.abrupt("return");case 7:case"end":return W.stop()}},R)}));return function(R){return c.apply(this,arguments)}}(),layout:"inline",formRef:En,children:(0,t.jsx)(H.Z,{defaultValue:(mn=l.data.info)===null||mn===void 0?void 0:mn.HostConfig.RestartPolicy.Name})})}),(0,t.jsx)(x.Z.Item,{label:G.format("env"),children:(0,t.jsx)(r.Z,{dataSource:(e=(fn=l.data.info)===null||fn===void 0?void 0:fn.Config.Env)!==null&&e!==void 0?e:[],renderItem:function(R){var C=R.split("=");return(0,t.jsxs)(r.Z.Item,{children:[(0,t.jsx)(y.Z.Text,{code:!0,children:C[0]})," = ",(0,t.jsx)(y.Z.Text,{copyable:!0,children:C.slice(1).join("=")})]})}})})]})})]})}},14245:function(en,S,n){n.d(S,{Z:function(){return P}});var b=n(36146),i=n(60433),F=n(38345),m=n(26412),T=n(25593),j=n(85893);function P(h){var D=new b.Uo("components.appDetail.appDetailQuickImage");return(0,j.jsx)(F.Z,{ghost:h.ghost,title:(0,j.jsx)(i.Z,{}),subTitle:D.format("cardTitle"),children:(0,j.jsxs)(m.Z,{labelStyle:{width:"200px"},column:1,bordered:!0,children:[(0,j.jsx)(m.Z.Item,{label:"Image Tag",children:(0,j.jsx)(T.Z.Text,{copyable:!0,children:h.data.Config.Image})}),(0,j.jsx)(m.Z.Item,{label:"Image",children:h.data.Image}),(0,j.jsx)(m.Z.Item,{label:"CMD",children:h.data.Config.Cmd&&h.data.Config.Cmd.join(" ")}),(0,j.jsx)(m.Z.Item,{label:"ENTRYPOINT",children:h.data.Config.Entrypoint}),(0,j.jsx)(m.Z.Item,{label:"Labels",children:(0,j.jsx)(m.Z,{column:1,bordered:!0,children:h.data&&Object.keys(h.data.Config.Labels).map(function(x){return(0,j.jsx)(m.Z.Item,{label:x,children:h.data.Config.Labels[x]},x)})})})]})})}},72409:function(en,S,n){n.d(S,{Z:function(){return gn}});var b=n(15009),i=n.n(b),F=n(99289),m=n.n(F),T=n(5574),j=n.n(T),P=n(67294),h=n(80821),D=n(62597),x=n(13822),U=n(43425),f=n(58638),y=n(60219),r=n(86548),O=n(57132),Z=n(87784),d=n(25035),H=n(38345),a=n(97269),N=n(62370),k=n(5966),q=n(52688),J=n(82346),I=n(42075),v=n(65233),t=n(96074),tn=n(28036),l=n(25593),nn=n(85418),un=n(40411),Y=n(84567),dn=n(83062),sn=n(93162),cn=n(24739),on=n(97462),mn=n(70146),e=n(85893);function fn(_){var X=(0,P.useRef)(),ln=(0,J.useAccess)();return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(h.Z,{icon:(0,e.jsx)(y.Z,{}),action:m()(i()().mark(function w(){var z,L,c,R;return i()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,mn.yB)({id:_.container.Name,enableImage:(z=X.current)===null||z===void 0?void 0:z.getFieldValue("enableImage"),volume:Object.keys((L=(c=X.current)===null||c===void 0?void 0:c.getFieldValue("volume"))!==null&&L!==void 0?L:{}).filter(function(p){return p}),enableCommitImage:(R=X.current)===null||R===void 0?void 0:R.getFieldValue("enableCommitImage")});case 2:case"end":return A.stop()}},w)})),confirmOnOpenChange:function(z){var L,c;!((L=X.current)===null||L===void 0)&&L.resetFields&&((c=X.current)===null||c===void 0||c.resetFields())},confirm:(0,e.jsxs)(I.Z,{style:{width:650,marginTop:"10px",paddingRight:"10px"},direction:"vertical",size:20,children:[(0,e.jsx)(l.Z.Text,{children:(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:"\u5FEB\u7167\u529F\u80FD\u4F1A\u5C06\u3010\u5FEB\u7167\u6570\u636E\u3011\u4FDD\u5B58\u81F3 /dpanel/backup \u76EE\u5F55\u3002"}),(0,e.jsx)("li",{children:"\u5FEB\u7167\u540C\u65F6\u5907\u4EFD\u5BB9\u5668\u955C\u50CF\u5728\u6062\u590D\u540E\u65E0\u6CD5\u68C0\u6D4B\u66F4\u65B0\uFF0C\u5426\u5219\u6062\u590D\u65F6\u4F1A\u5148\u5C1D\u8BD5\u62C9\u53D6\u955C\u50CF"}),(0,e.jsx)("li",{children:"\u6062\u590D\u5FEB\u7167\u65F6\uFF0C\u5982\u679C\u76EE\u6807\u5BB9\u5668\u5DF2\u5B58\u5728\u5219\u53EA\u6062\u590D\u5BB9\u5668\u6570\u636E\u3002"}),(0,e.jsxs)("li",{children:["\u8BE5\u64CD\u4F5C\u53EF\u80FD\u4F1A\u6D88\u8017\u8F83\u957F\u65F6\u95F4\uFF0C\u8BF7\u5728 ",(0,e.jsx)(J.Link,{to:"/app/backup",children:"\u5BB9\u5668\u5FEB\u7167"})," \u67E5\u770B\u5FEB\u7167\u7ED3\u679C\u3002"]})]})}),(0,e.jsxs)(a.A,{layout:"horizontal",formRef:X,submitter:!1,children:[(0,e.jsxs)(cn.UW,{children:[(0,e.jsx)(N.Z,{valuePropName:"checked",name:"enableSelectVolume",children:(0,e.jsx)(Y.Z,{disabled:!_.container.Mounts||_.container.Mounts.length==0,children:"\u9009\u62E9\u5907\u4EFD\u76EE\u5F55\uFF1F"})}),(0,e.jsx)(N.Z,{valuePropName:"checked",name:"enableImage",children:(0,e.jsx)(Y.Z,{children:"\u5907\u4EFD\u5BB9\u5668\u955C\u50CF\uFF1F"})}),(0,e.jsx)(on.Z,{name:["enableImage"],children:function(z){var L=z.enableImage;if(L)return(0,e.jsx)(N.Z,{valuePropName:"checked",name:"enableCommitImage",children:(0,e.jsx)(Y.Z,{children:"\u4FDD\u5B58\u5F53\u524D\u5BB9\u5668\u4E3A\u65B0\u955C\u50CF (docker commit)\uFF1F"})})}})]}),(0,e.jsx)(on.Z,{name:["enableSelectVolume"],children:function(z){var L=z.enableSelectVolume;return L&&(0,e.jsx)(I.Z,{wrap:!0,children:_.container.Mounts.map(function(c,R){return(0,e.jsx)(N.Z,{valuePropName:"checked",name:["volume",c.Destination],children:(0,e.jsx)(Y.Z,{children:c.Destination})},"volume-".concat(R))})})}})]})]}),children:"\u5BB9\u5668\u5FEB\u7167"})})}var G=n(24963),jn=n(99861),vn=n(3393),Dn=n(50888),hn=n(16596),Pn=n(1699),In=n(5251),_n=n(36146),En=(0,P.forwardRef)(function(_,X){var ln;(0,P.useImperativeHandle)(X,function(){return{}});var w=(0,P.useRef)(),z=(0,P.useRef)(),L=(0,P.useRef)(),c=(0,P.useContext)(G.Z),R=c.loading,C=(0,P.useRef)(),A=(0,P.useRef)(),p=(0,P.useState)({status:0,error:""}),an=j()(p,2),W=an[0],K=an[1],M=new _n.Uo("components.appDetail.appDetailQuickManage");function On(B){return xn.apply(this,arguments)}function xn(){return xn=m()(i()().mark(function B(o){var u,g,s;return i()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(g=-2,!o.ignore){E.next=6;break}if(!(o.ignore.indexOf("".concat(o.info.Name,"@*"))>-1)){E.next=4;break}return E.abrupt("return",{status:-2,error:""});case 4:if(!(o.ignore.indexOf("".concat(o.info.Name,"@").concat(o.info.Image))>-1)){E.next=6;break}return E.abrupt("return",{status:-2,error:""});case 6:return E.next=8,(0,vn.ZQ)({tag:(u=o.info.Config.Image)!==null&&u!==void 0?u:"",md5:o.info.Image,cacheTime:3600}).catch(function(V){g=-1});case 8:if(s=E.sent,!(s&&s.data.error&&s.data.error!="")){E.next=11;break}return E.abrupt("return",{status:-1,error:s.data.error});case 11:return s&&(s.data.digestLocal&&s.data.digestLocal.length>0?g=s.data.upgrade?1:2:s.data.error!=""?g=-1:g=-2),E.abrupt("return",{status:g,error:""});case 13:case"end":return E.stop()}},B)})),xn.apply(this,arguments)}return(0,P.useEffect)(function(){_.checkContainerUpgrade&&(K({status:0}),On(_.data).then(function(B){K(B)}))},[_.data]),(0,e.jsx)(H.Z,{ghost:_.ghost,title:(0,e.jsx)(U.Z,{}),subTitle:M.format("cardTitle"),children:(0,e.jsxs)(I.Z,{wrap:!0,children:[(0,e.jsx)(h.Z,{icon:(0,e.jsx)(f.Z,{}),action:function(){var o,u;return(0,x.LJ)({md5:(o=(u=_.data)===null||u===void 0?void 0:u.info.Id)!==null&&o!==void 0?o:""})},confirm:M.format("exportConfirm"),onSuccess:function(o){var u,g=new Blob([o],{type:"application/tar"});(0,sn.saveAs)(g,(0,In.fi)((u=_.data)===null||u===void 0?void 0:u.info.Name,"/")+".tar")},children:M.format("exportButton")}),(0,e.jsx)(h.Z,{icon:(0,e.jsx)(y.Z,{}),action:m()(i()().mark(function B(){var o,u,g,s,$;return i()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(0,x.Re)({md5:(o=(u=_.data)===null||u===void 0?void 0:u.info.Id)!==null&&o!==void 0?o:"",name:(g=(s=z.current)===null||s===void 0?void 0:s.getFieldValue("saveImageName"))!==null&&g!==void 0?g:($=_.data)===null||$===void 0?void 0:$.info.Name});case 2:case"end":return V.stop()}},B)})),confirmTitle:M.format("commitConfirmTitle"),confirm:(0,e.jsx)(I.Z,{style:{width:400,marginTop:"10px",paddingRight:"10px"},direction:"vertical",children:(0,e.jsx)(a.A,{formRef:z,submitter:!1,children:(0,e.jsx)(N.Z,{name:"saveImageName",children:(0,e.jsx)(v.Z,{addonBefore:M.format("commitConfirmSaveImageName")})})})}),children:M.format("commitButton")}),_.data&&(0,e.jsx)(Pn.u,{access:"canSeeContainerBackup",children:(0,e.jsx)(fn,{container:_.data.info})}),(0,e.jsx)(t.Z,{type:"vertical"}),(0,e.jsx)(J.Link,{to:"/app/create/image?id=".concat((ln=_.data)===null||ln===void 0?void 0:ln.info.Id,"&op=update"),children:(0,e.jsx)(tn.ZP,{type:"primary",icon:(0,e.jsx)(r.Z,{}),children:M.format("editButton")})}),(0,e.jsx)(h.Z,{icon:(0,e.jsx)(O.Z,{}),action:m()(i()().mark(function B(){var o,u,g,s,$,E;return i()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,(0,x.aF)({md5:(o=(u=_.data)===null||u===void 0?void 0:u.info.Id)!==null&&o!==void 0?o:"",copyName:(g=(s=L.current)===null||s===void 0?void 0:s.getFieldValue("copyName"))!==null&&g!==void 0?g:"",enableRandomPort:($=(E=L.current)===null||E===void 0?void 0:E.getFieldValue("enableRandomPort"))!==null&&$!==void 0?$:!1});case 2:return Q.abrupt("return",Q.sent);case 3:case"end":return Q.stop()}},B)})),confirm:(0,e.jsxs)(I.Z,{style:{width:400,paddingRight:"10px"},direction:"vertical",children:[(0,e.jsx)(l.Z.Text,{children:M.format("copyConfirmTip")}),(0,e.jsxs)(a.A,{formRef:L,submitter:!1,layout:"horizontal",children:[(0,e.jsx)("br",{}),(0,e.jsx)(k.Z,{label:M.format("copyCopyName"),name:"copyName"}),(0,e.jsx)(q.Z,{label:M.format("copyEnableRandomPort"),name:"enableRandomPort"})]})]}),onSuccess:function(o){var u;(u=L.current)===null||u===void 0||u.resetFields()},children:M.format("copyButton")}),_.data&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(jn.Z,{image:[_.data.info.Config.Image],ref:C}),(0,e.jsx)(nn.Z,{placement:"bottomLeft",menu:{items:[{key:"1",label:(0,e.jsx)(h.Z,{action:m()(i()().mark(function B(){var o,u,g,s,$,E;return i()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,(0,D.ze)({md5:(o=(u=_.data.info)===null||u===void 0?void 0:u.Name)!==null&&o!==void 0?o:"",imageId:""});case 2:return K({status:0}),Q.next=5,(0,vn.ZQ)({tag:(g=(s=_.data.info)===null||s===void 0?void 0:s.Config.Image)!==null&&g!==void 0?g:"",md5:($=(E=_.data.info)===null||E===void 0?void 0:E.Image)!==null&&$!==void 0?$:"",cacheTime:0}).then(function(rn){rn.data.error&&rn.data.error!=""?K({status:-1,error:rn.data.error}):rn.data.digestLocal&&rn.data.digestLocal.length>0?K({status:rn.data.upgrade?1:2}):K({status:-2})}).catch(function(rn){K({status:-1})});case 5:return Q.abrupt("return",Q.sent);case 6:case"end":return Q.stop()}},B)})),type:"link",children:M.format("upgradeCheckUpgrade")})},{key:"2",label:(0,e.jsx)(h.Z,{action:m()(i()().mark(function B(){var o,u,g,s;return i()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,D.ze)({md5:(o=(u=_.data.info)===null||u===void 0?void 0:u.Name)!==null&&o!==void 0?o:"",imageId:(g=(s=_.data.info)===null||s===void 0?void 0:s.Image)!==null&&g!==void 0?g:""});case 2:return E.abrupt("return",E.sent);case 3:case"end":return E.stop()}},B)})),type:"link",children:M.format("upgradeCheckUpgradeIgnoreOnce")})},{key:"3",label:(0,e.jsx)(h.Z,{action:m()(i()().mark(function B(){var o,u;return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,D.ze)({md5:(o=(u=_.data.info)===null||u===void 0?void 0:u.Name)!==null&&o!==void 0?o:"",imageId:"*"});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},B)})),type:"link",children:M.format("upgradeCheckUpgradeIgnore")})}]},children:(0,e.jsx)(un.Z,{title:W.error,count:M.format("checkImageUpgrade."+W.status),color:M.format("checkImageUpgradeColor."+W.status),children:(0,e.jsx)(h.Z,{disabled:W.status===0,icon:W.status===0?(0,e.jsx)(Dn.Z,{}):(0,e.jsx)(hn.Z,{}),action:m()(i()().mark(function B(){var o,u,g,s,$;return i()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(o=C.current)===null||o===void 0?void 0:o.start();case 2:return R.show(),(u=C.current)===null||u===void 0||u.finish(),V.next=6,(0,x.RF)({md5:(g=_.data.info.Id)!==null&&g!==void 0?g:"",imageTag:"",enableBak:(s=($=A.current)===null||$===void 0?void 0:$.getFieldValue("enableBak"))!==null&&s!==void 0?s:!1});case 6:return V.abrupt("return",V.sent);case 7:case"end":return V.stop()}},B)})),confirm:(0,e.jsxs)(I.Z,{style:{width:280,paddingRight:"10px"},direction:"vertical",children:[(0,e.jsx)(l.Z.Text,{children:M.format("upgradeConfirm")}),(0,e.jsx)(a.A,{formRef:A,submitter:!1,layout:"inline",children:(0,e.jsx)(N.Z,{name:"enableBak",valuePropName:"checked",children:(0,e.jsx)(Y.Z,{children:M.format("upgradeConfirmEnableBak")})})})]}),onSuccess:function(o){R.destroy(),_.checkContainerUpgrade&&_.checkContainerUpgrade()},children:M.format("upgradeButton")})})})]}),(0,e.jsx)(t.Z,{type:"vertical"}),_.data&&(0,e.jsx)(h.Z,{action:function(){var o,u,g,s,$,E;return(0,D.Ct)({md5:(o=(u=_.data)===null||u===void 0?void 0:u.info.Id)!==null&&o!==void 0?o:"",deleteImage:(g=(s=w.current)===null||s===void 0?void 0:s.getFieldValue("deleteImage"))!==null&&g!==void 0?g:!1,deleteVolume:($=(E=w.current)===null||E===void 0?void 0:E.getFieldValue("deleteVolume"))!==null&&$!==void 0?$:!1})},danger:!0,type:"primary",icon:(0,e.jsx)(Z.Z,{}),onSuccess:function(){R.destroy(),_.checkContainerUpgrade&&_.checkContainerUpgrade()},confirm:(0,e.jsxs)(I.Z,{style:{width:200},direction:"vertical",children:[(0,e.jsx)(l.Z.Text,{children:_n.FD.format("confirm.title")}),(0,e.jsxs)(a.A,{formRef:w,layout:"inline",submitter:!1,children:[(0,e.jsx)(N.Z,{addonAfter:(0,e.jsx)(dn.Z,{title:M.format("deleteConfirmTip"),children:(0,e.jsx)(d.Z,{})}),name:"deleteVolume",valuePropName:"checked",children:(0,e.jsx)(Y.Z,{children:M.format("deleteConfirmDeleteVolume")})}),(0,e.jsx)(N.Z,{name:"deleteImage",valuePropName:"checked",children:(0,e.jsx)(Y.Z,{children:M.format("deleteConfirmDeleteImage")})})]})]}),children:M.format("deleteButton")})]})})}),gn=En},14189:function(en,S,n){var b=n(43425),i=n(74842),F=n(87784),m=n(33160),T=n(30159),j=n(89035),P=n(38345),h=n(42075),D=n(96074),x=n(28036),U=n(67294),f=n(94359),y=n(80821),r=n(13822),O=n(99922),Z=n(36146),d=n(85893),H=(0,U.forwardRef)(function(a,N){(0,U.useImperativeHandle)(N,function(){return{showConsole:J}});var k=new Z.Uo("components.appDetail.appDetailQuickOperation"),q=(0,U.useRef)();function J(I){var v;(v=q.current)===null||v===void 0||v.show({url:"/console/container/".concat(a.data.Id),title:a.data.Name,workDir:I})}return(0,d.jsx)(P.Z,{title:(0,d.jsx)(b.Z,{}),ghost:a.ghost,subTitle:(0,d.jsxs)(h.Z,{children:[k.format("cardTitle")," - ",a.data&&(0,d.jsx)(f.Z,{status:a.data.State.Status,message:{content:a.data.State.Status,placement:"top"}})]}),children:(0,d.jsxs)(h.Z,{wrap:!0,children:[(0,d.jsx)(y.Z,{icon:(0,d.jsx)(i.Z,{}),action:function(){var v,t;return(0,r.IW)({md5:(v=(t=a.data)===null||t===void 0?void 0:t.Id)!==null&&v!==void 0?v:"",operate:"start"})},onSuccess:function(){return a.onFinish&&a.onFinish()},disabled:a.data&&a.data.State.Running||a.data&&a.data.State.Paused,children:k.format("start")}),(0,d.jsx)(y.Z,{action:function(){var v,t;return(0,r.IW)({md5:(v=(t=a.data)===null||t===void 0?void 0:t.Id)!==null&&v!==void 0?v:"",operate:"stop"})},icon:(0,d.jsx)(F.Z,{}),onSuccess:function(){return a.onFinish&&a.onFinish()},disabled:a.data&&a.data.State.Dead,children:k.format("stop")}),(0,d.jsx)(y.Z,{action:function(){var v,t;return(0,r.IW)({md5:(v=(t=a.data)===null||t===void 0?void 0:t.Id)!==null&&v!==void 0?v:"",operate:"restart"})},onSuccess:function(){return a.onFinish&&a.onFinish()},icon:(0,d.jsx)(m.Z,{}),children:k.format("restart")}),(0,d.jsx)(y.Z,{action:function(){var v,t;return(0,r.IW)({md5:(v=(t=a.data)===null||t===void 0?void 0:t.Id)!==null&&v!==void 0?v:"",operate:"pause"})},onSuccess:function(){return a.onFinish&&a.onFinish()},icon:(0,d.jsx)(T.Z,{}),disabled:a.data&&a.data&&!a.data.State.Running,children:k.format("pause")}),(0,d.jsx)(y.Z,{action:function(){var v,t;return(0,r.IW)({md5:(v=(t=a.data)===null||t===void 0?void 0:t.Id)!==null&&v!==void 0?v:"",operate:"unpause"})},onSuccess:function(){return a.onFinish&&a.onFinish()},icon:(0,d.jsx)(i.Z,{}),disabled:a.data&&!a.data.State.Paused,children:k.format("unpause")}),(0,d.jsx)(D.Z,{type:"vertical"}),a.data&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(O.Z,{ref:q}),(0,d.jsx)(x.ZP,{type:"dashed",onClick:function(){a.data&&J(a.data.Config.WorkingDir)},icon:(0,d.jsx)(j.Z,{}),children:"Console"})]}),(0,d.jsx)(D.Z,{type:"vertical"}),a.extra&&a.extra.map(function(I,v){return(0,d.jsx)("span",{children:I},v)})]})})});S.Z=H},52031:function(en,S,n){n.d(S,{Z:function(){return P}});var b=n(31574),i=n(38345),F=n(26412),m=n(78451),T=n(36146),j=n(85893);function P(h){var D,x=new T.Uo("components.appDetail.appDetailVolume");return h.data&&h.data.Mounts&&h.data.Mounts.length>0&&(0,j.jsx)(i.Z,{ghost:h.ghost,title:(0,j.jsx)(b.Z,{}),subTitle:x.format("cardTitle"),children:(0,j.jsx)(F.Z,{column:1,bordered:!0,children:(D=h.data)===null||D===void 0?void 0:D.Mounts.map(function(U,f){return(0,j.jsx)(F.Z.Item,{labelStyle:{width:"30%"},label:U.Type=="volume"?(0,j.jsx)(m.Z,{content:U.Name}):U.Source,children:U.Destination},f)})})})}},94359:function(en,S,n){n.d(S,{Z:function(){return y}});var b=n(3089),i=n(98165),F=n(18429),m=n(8751),T=n(14313),j=n(30159),P=n(87740),h=n(50888),D=n(66309),x=n(83062),U=n(82346),f=n(85893);function y(r){var O=(0,f.jsx)(f.Fragment,{});if(r.status=="0"&&(O=(0,f.jsx)(D.Z,{icon:(0,f.jsx)(b.Z,{}),color:"default",children:"waiting"})),r.status=="10"&&(O=(0,f.jsx)(D.Z,{icon:(0,f.jsx)(i.Z,{spin:!0}),color:"processing",children:"processing"})),r.status=="20"&&(O=(0,f.jsx)(D.Z,{icon:(0,f.jsx)(F.Z,{}),color:"error",children:"error"})),r.status=="30"&&(O=(0,f.jsx)(D.Z,{icon:(0,f.jsx)(m.Z,{}),color:"success",children:"success"})),r.status=="running"||r.status=="healthy"){var Z,d;O=(0,f.jsx)(D.Z,{icon:(0,f.jsx)(T.Z,{}),color:"success",children:(Z=r.message)!==null&&Z!==void 0&&Z.showInTag?(d=r.message)===null||d===void 0?void 0:d.content:r.status})}if(r.status=="paused"){var H,a;O=(0,f.jsx)(D.Z,{icon:(0,f.jsx)(j.Z,{}),children:(H=r.message)!==null&&H!==void 0&&H.showInTag?(a=r.message)===null||a===void 0?void 0:a.content:r.status})}if(r.status=="waiting"||r.status=="starting"){var N,k;O=(0,f.jsx)(D.Z,{icon:(0,f.jsx)(P.Z,{}),children:(N=r.message)!==null&&N!==void 0&&N.showInTag?(k=r.message)===null||k===void 0?void 0:k.content:r.status})}if(r.status=="deploying"){var q,J;O=(0,f.jsx)(D.Z,{icon:(0,f.jsx)(h.Z,{}),color:"processing",children:(q=r.message)!==null&&q!==void 0&&q.showInTag?(J=r.message)===null||J===void 0?void 0:J.content:r.status})}if(r.status=="error"){var I,v;O=(0,f.jsx)(D.Z,{icon:(0,f.jsx)(F.Z,{}),color:"error",children:(I=r.message)!==null&&I!==void 0&&I.showInTag?(v=r.message)===null||v===void 0?void 0:v.content:r.status})}if(r.status=="exited"||r.status=="dead"||r.status=="removing"||r.status=="restarting"||r.status=="unhealthy"||r.status=="created"){var t,tn;O=(0,f.jsx)(D.Z,{icon:(0,f.jsx)(F.Z,{}),color:"warning",children:(t=r.message)!==null&&t!==void 0&&t.showInTag?(tn=r.message)===null||tn===void 0?void 0:tn.content:r.status})}if(r.link)return(0,f.jsx)(U.Link,{to:r.link,children:O});if(r.message){var l,nn;return(0,f.jsx)(x.Z,{placement:(l=r.message.placement)!==null&&l!==void 0?l:"top",title:(nn=r.message.title)!==null&&nn!==void 0?nn:r.message.content,children:O})}return O}},76428:function(en,S,n){n.d(S,{Z:function(){return m}});var b=n(25593),i=n(67294),F=n(85893);function m(T){return(0,F.jsx)(b.Z.Text,{copyable:!0,children:T.title})}},78498:function(en,S,n){n.d(S,{Z:function(){return j}});var b=n(25035),i=n(42075),F=n(83062),m=n(67294),T=n(85893);function j(P){return(0,T.jsxs)(i.Z,{children:[P.title,(0,T.jsx)(F.Z,{title:P.help,children:(0,T.jsx)(b.Z,{})})]})}},70146:function(en,S,n){n.d(S,{SR:function(){return f},VE:function(){return x},Zy:function(){return h},iD:function(){return r},yB:function(){return j}});var b=n(15009),i=n.n(b),F=n(99289),m=n.n(F),T=n(82346);function j(Z){return P.apply(this,arguments)}function P(){return P=m()(i()().mark(function Z(d){return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,T.request)("/api/app/container-backup/create",{data:d,method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},Z)})),P.apply(this,arguments)}function h(Z){return D.apply(this,arguments)}function D(){return D=m()(i()().mark(function Z(d){return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,T.request)("/api/app/container-backup/get-list",{method:"POST",data:d}));case 1:case"end":return a.stop()}},Z)})),D.apply(this,arguments)}function x(Z){return U.apply(this,arguments)}function U(){return U=m()(i()().mark(function Z(d){return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,T.request)("/api/app/container-backup/delete",{method:"POST",data:d}));case 1:case"end":return a.stop()}},Z)})),U.apply(this,arguments)}function f(Z){return y.apply(this,arguments)}function y(){return y=m()(i()().mark(function Z(d){return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,T.request)("/api/app/container-backup/restore",{method:"POST",data:d}));case 1:case"end":return a.stop()}},Z)})),y.apply(this,arguments)}function r(Z){return O.apply(this,arguments)}function O(){return O=m()(i()().mark(function Z(d){return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,T.request)("/api/app/container-backup/get-detail",{method:"POST",data:d}));case 1:case"end":return a.stop()}},Z)})),O.apply(this,arguments)}}}]);
