"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1050],{1699:function($,K,n){n.d(K,{u:function(){return U}});var V=n(9783),P=n.n(V),N=n(97857),B=n.n(N),H=n(67294),T=n(82346),Q=n(40411),h=n(42075),R=n(85893),U=function(y){var Y=(0,T.useAccess)(),a=Array.isArray(y.access)?y.access:[y.access],z,w=y.fallback;if(typeof y.children=="function"?(z=y.children(a.reduce(function(F,v){return B()(B()({},F),{},P()({},v,Y[v]))},{})),z||(z=w)):a.every(function(F){return Y[F]})?z=y.children:z=w,!w&&z&&y.showProTips&&Y.canSeeEnableCe){if(Y.canSeeEnableHiddenProTips)return null;z=(0,R.jsx)(Q.Z,{offset:y.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:z})}if(!w&&z&&y.showProRibbonTips&&Y.canSeeEnableCe){if(Y.canSeeEnableHiddenProTips)return null;z=(0,R.jsx)(Q.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:z})}return y.space?(0,R.jsx)(h.Z,B()(B()({},y.space),{},{children:z})):z}},80821:function($,K,n){n.d(K,{Z:function(){return Y}});var V=n(97857),P=n.n(V),N=n(5574),B=n.n(N),H=n(24963),T=n(36146),Q=n(86738),h=n(83062),R=n(96074),U=n(83622),e=n(67294),y=n(85893);function Y(a){var z=(0,e.useState)(!1),w=B()(z,2),F=w[0],v=w[1],O=(0,e.useContext)(H.Z),x=O.message,L=new T.Uo,E=function(){v(!0);var p=a.action();p instanceof Promise?p.then(function(W){if(v(!1),W){typeof a.onSuccess=="function"&&a.onSuccess(W);var J="";a.messageSuccess?typeof a.messageSuccess=="function"?J=a.messageSuccess(W):J=a.messageSuccess.indexOf("notification.")==0?L.format(a.messageSuccess):a.messageSuccess:J=L.format("notification.finish"),a.asynced?x.info(J):x.success(J)}}).catch(function(W){v(!1),typeof a.onError=="function"&&a.onError(W)}):v(!1)};return a.confirm?(0,y.jsx)(Q.Z,P()(P()({style:{width:500},title:a.confirmTitle?a.confirmTitle:L.format("notification.title.tip"),description:typeof a.confirm=="string"&&a.confirm.indexOf("notification.")==0?L.format(a.confirm):a.confirm,onConfirm:E,okText:"Yes",cancelText:"No",onOpenChange:a.confirmOnOpenChange},a.confirmProps),{},{children:(0,y.jsxs)(h.Z,{title:a.tips,children:[a.showDivider&&(0,y.jsx)(R.Z,{type:"vertical",style:{marginRight:15}}),(0,y.jsx)(U.ZP,{block:a.block,disabled:a.disabled,icon:!a.children&&F?void 0:a.icon,loading:F,danger:a.danger,type:a.type,children:a.children})]})})):(0,y.jsxs)(h.Z,{title:a.tips,children:[a.showDivider&&(0,y.jsx)(R.Z,{type:"vertical",style:{marginRight:15}}),(0,y.jsx)(U.ZP,{block:a.block,style:a.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:a.disabled,icon:!a.children&&F?void 0:a.icon,loading:F,onClick:E,danger:a.danger,type:a.type,children:a.children})]})}},44349:function($,K,n){var V=n(97857),P=n.n(V),N=n(15009),B=n.n(N),H=n(99289),T=n.n(H),Q=n(74763),h=n(17186),R=n(5966),U=n(86250),e=n(67294),y=n(85893),Y=(0,e.forwardRef)(function(a,z){var w=(0,e.useRef)();(0,e.useImperativeHandle)(z,function(){return{addItem:function(v){function O(x,L,E){return v.apply(this,arguments)}return O.toString=function(){return v.toString()},O}(function(v,O,x){var L,E=(L=w.current)===null||L===void 0?void 0:L.getList(),I;if(E==null||E.forEach(function(J,ie){J[v]==O[v]&&(I=ie)}),!(0,Q.k)(I)&&x){var p;(p=w.current)===null||p===void 0||p.remove(I),I=void 0}if(!I){var W;(W=w.current)===null||W===void 0||W.add(O)}}),removeItemByKey:function(O,x){return T()(B()().mark(function L(){var E,I;return B()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return I=(E=w.current)===null||E===void 0?void 0:E.getList(),I==null||I.forEach(function(J,ie){if(J[O]==x){var q;(q=w.current)===null||q===void 0||q.remove(ie);return}}),W.abrupt("return");case 3:case"end":return W.stop()}},L)}))()},clear:function(O){if(!O){var x;O=(x=w.current)===null||x===void 0||(x=x.getList())===null||x===void 0?void 0:x.map(function(E,I){return I})}if(O){var L;(L=w.current)===null||L===void 0||L.remove(O)}},getList:function(){var O;return(O=w.current)===null||O===void 0?void 0:O.getList()}}});var F={};return a.hideCopyButton===!0&&(F.copyIconProps=!1),a.hideDeleteButton===!0&&(F.deleteIconProps=!1),(0,y.jsx)(h.u,P()(P()({initialValue:a.initialValue,label:a.label,name:a.name,actionRef:w,creatorButtonProps:a.showAddButton?{creatorButtonText:a.label?a.label:a.name}:!1,min:a.min?a.min:0},F),{},{children:function(O,x,L){return(0,y.jsx)(U.Z,{justify:a.justify,gap:a.gap,children:a.items.map(function(E){return E.render?(0,y.jsx)("div",{children:E.render&&E.render(O,x,L)},"".concat(a.name,"-").concat(E.name,"-").concat(O.key)):(0,y.jsx)(R.Z,{width:E.width,name:E.name,label:E.label,required:E.required,rules:[{required:E.required}],disabled:E.disabled,placeholder:E.placeholder},"".concat(a.name,"-").concat(E.name,"-").concat(O.key))})})}}))});K.Z=Y},2808:function($,K,n){n.d(K,{Z:function(){return Q}});var V=n(97857),P=n.n(V),N=n(62370),B=n(51663),H=n(67294),T=n(85893);function Q(h){return(0,T.jsx)(N.Z,P()(P()({},h),{},{children:(0,T.jsx)(B.Z,{showText:function(U){return U.toHexString()},allowClear:!0,presets:[{label:"Color",colors:["#1677ff","#722ed1","#13c2c2","#52c41a","#eb2f96","#f5222d","#fa8c16","#fadb14","#fa541c","#2f54eb","#faad14","#a0d911","#000000","#5cdbd3","#b37feb","#b7eb8f","#61affe","#9254de","#36cfc9","#ff9c6e","#ff6f00","#ffc069","#28a745","#6610f2","#6f42c1","#007bff","#17a2b8","#20c997","#00cccc","#ff6666"]}]})}))}},51100:function($,K,n){n.d(K,{Z:function(){return H}});var V=n(97961),P=n(91604),N=n(1677),B=n(85893);function H(T){return T.showDragger?(0,B.jsx)(P.Z,{max:T.max?T.max:1,title:T.title,label:T.label,required:T.required,rules:[{required:T.required}],fieldProps:{multiple:!!(T.max&&T.max>1),name:"file",accept:T.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(h){return new Promise(function(R){var U;(0,V._2)({path:(U=h.response.data.path)!==null&&U!==void 0?U:""}).then(function(e){R(!0)})})}},name:T.name}):(0,B.jsx)(N.Z,{max:T.max?T.max:1,title:T.title,label:T.label,required:T.required,rules:[{required:T.required}],fieldProps:{multiple:!!(T.max&&T.max>1),name:"file",accept:T.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(h){return new Promise(function(R){var U;(0,V._2)({path:(U=h.response.data.path)!==null&&U!==void 0?U:""}).then(function(e){R(!0)})})}},name:T.name})}},3616:function($,K,n){n.d(K,{Ed:function(){return B},FK:function(){return P},R_:function(){return V},ob:function(){return N}});var V=window.innerWidth<=1024?"90vw":"65vw",P="90vw",N="60vw",B="50vh"},12323:function($,K,n){n.d(K,{X:function(){return V},n:function(){return P}});var V={convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,lineHeight:1,cursorStyle:"block",cursorInactiveStyle:"outline",cursorBlink:!0,letterSpacing:0,theme:{foreground:"#bfbfbf",cursor:"gray",selectionForeground:"#ffffff"}},P=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"]},24963:function($,K,n){var V=n(67294),P=(0,V.createContext)({});K.Z=P},16590:function($,K,n){n.r(K),n.d(K,{default:function(){return Ye}});var V=n(5574),P=n.n(V),N=n(62370),B=n(97462),H=n(42075),T=n(25593),Q=n(80821),h=n(36146),R=n(1699),U=n(82346),e=n(85893);function y(o){var t=(0,U.useAccess)(),s=(0,e.jsxs)(H.Z,{style:{display:"block",marginTop:40},direction:"vertical",children:[(0,e.jsx)(N.Z,{name:o.name,hidden:!0}),(0,e.jsx)(B.Z,{name:[o.name],children:function(Z){var D,d=Z[o.name];return(0,e.jsxs)(N.Z,{label:o.label,children:[(0,e.jsxs)(H.Z.Compact,{children:[o.disable&&(0,e.jsx)(Q.Z,{confirm:h.FD.format("confirm.disable"),action:function(){return o.onDisable()},danger:o.disable(d),type:o.disable(d)?"primary":"default",onSuccess:function(){o.onFinish&&o.onFinish()},children:(D=o.disableLabel)!==null&&D!==void 0?D:h.FD.format("listManageDisable")}),o.settingComponent&&(0,e.jsx)(o.settingComponent,{data:d,onFinish:o.onFinish})]}),(0,e.jsx)(T.Z.Text,{type:"secondary",style:{marginLeft:30},children:o.tip})]})}})]});return o.isPe?(0,e.jsx)(R.u,{access:["canSeeEnableCe"],showProRibbonTips:!0,children:function(Z){var D=Z.canSeeEnableCe;return s}}):s}var Y=n(15009),a=n.n(Y),z=n(99289),w=n.n(z),F=n(24963),v=n(87662),O=n(86548),x=n(97937),L=n(184),E=n(5966),I=n(83622),p=n(67294),W=n(3616),J=function(t){var s=(0,p.useRef)(),l=(0,U.useModel)("@@initialState"),Z=l.refresh,D=(0,p.useContext)(F.Z),d=D.message,_=new h.Uo("components.systemBasic"),k=(0,p.useState)(!1),C=P()(k,2),b=C[0],c=C[1];return(0,e.jsxs)(L.a,{trigger:(0,e.jsx)(I.ZP,{type:"primary",children:h.FD.format("listManageSetting")}),onOpenChange:function(u){var r;c(u),u&&((r=s.current)===null||r===void 0||r.setFieldValue("username",t.data.username))},open:b,drawerProps:{width:W.R_,forceRender:!0},title:_.format("founderTitle"),formRef:s,onFinish:function(){var i=w()(a()().mark(function u(r){var m,j;return a()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,v.Jn)({username:r.username,password:r.password,newPassword:r.newPassword});case 2:if(m=S.sent,!(m&&m.data)){S.next=9;break}return(j=s.current)===null||j===void 0||j.resetFields(),d.success(h.FD.format("finish")),localStorage.removeItem("token"),Z(),S.abrupt("return",!0);case 9:case"end":return S.stop()}},u)}));return function(u){return i.apply(this,arguments)}}(),children:[(0,e.jsx)(B.Z,{name:["enableUsername"],children:function(u){var r=u.enableUsername;return(0,e.jsx)(E.Z,{label:_.format("founderUsername"),name:"username",width:"lg",disabled:!r,addonAfter:[(0,e.jsx)(I.ZP,{type:"link",hidden:!!r,icon:(0,e.jsx)(O.Z,{}),onClick:function(){var j;(j=s.current)===null||j===void 0||j.setFieldValue("enableUsername",!0)}},"editBtn"),(0,e.jsx)(I.ZP,{type:"link",hidden:!r,icon:(0,e.jsx)(x.Z,{}),onClick:function(){var j;(j=s.current)===null||j===void 0||j.setFieldValue("enableUsername",!1)}},"closeBtn")]},"username")}}),(0,e.jsx)(E.Z.Password,{label:_.format("founderPassword"),name:"password",placeholder:_.format("founderPasswordEmpty"),rules:[{required:!0}]},"password"),(0,e.jsx)(E.Z.Password,{label:_.format("founderNewPassword"),name:"newPassword"},"newPasword"),(0,e.jsx)(B.Z,{name:["newPassword"],children:function(u){var r=u.newPassword;return(0,e.jsx)(E.Z.Password,{label:_.format("founderNewPassword2"),name:"newPassword2",dependencies:["newPassword"],rules:[{required:typeof r!="undefined"&&r!=""},function(m){var j=m.getFieldValue;return{validator:function(S,M){return!M||j("newPassword")===M?Promise.resolve():Promise.reject(new Error(_.format("founderMessagePasswordNotMatch")))}}}]},"newPasword2")}})]},"drawer")},ie=J,q=n(38345),oe=n(64317),te=n(52688),ae=n(86615),he=n(90672),Ee=n(40056),Se=function(t){var s,l,Z=(0,p.useContext)(F.Z),D=Z.message,d=(0,p.useRef)(),_=new h.Uo("components.systemBasic"),k=(0,p.useState)(!1),C=P()(k,2),b=C[0],c=C[1];return(0,p.useEffect)(function(){if(d.current&&t.data){var i;(i=d.current)===null||i===void 0||i.setFieldsValue({loginFailedEnable:t.data.failedEnable,loginFailedTotal:t.data.failedTotal===0?5:t.data.failedTotal,loginFailedLockTime:t.data.failedLockTime?t.data.failedLockTime.toString():"900",loginNoPasswordEnable:t.data.noPasswordEnable,loginNoPasswordUrl:t.data.noPasswordUrl,loginNoPassworkUserAgent:t.data.noPasswordUserAgent,loginNoPasswordIpList:t.data.noPasswordIpList,loginDefaultRedirect:t.data.defaultRedirect})}},[d.current]),(0,e.jsxs)(L.a,{drawerProps:{width:W.R_,destroyOnHidden:!0},trigger:(0,e.jsx)(I.ZP,{type:(s=t.data)!==null&&s!==void 0&&s.failedEnable?"primary":"default",children:(l=t.data)!==null&&l!==void 0&&l.failedEnable?h.FD.format("listManageSetting"):h.FD.format("listManageEnable")}),onOpenChange:function(u){var r;c(u),!u&&((r=d.current)===null||r===void 0||r.resetFields())},open:b,title:_.format("loginTitle"),onFinish:function(){var i=w()(a()().mark(function u(r){var m;return a()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return m={failedEnable:r.loginFailedEnable,noPasswordEnable:r.loginNoPasswordEnable,defaultRedirect:r.loginDefaultRedirect},m.failedEnable&&(m.failedTotal=parseInt(r.loginFailedTotal),m.failedLockTime=parseInt(r.loginFailedLockTime)),m.noPasswordEnable&&(m=Object.assign(m,{noPasswordUrl:r.loginNoPasswordUrl,noPasswordUserAgent:r.loginNoPasswordUserAgent,noPasswordIplist:r.loginNoPasswordIplist})),g.next=5,(0,v.bv)({login:m,saveCache:!0});case 5:c(!1),D.success(h.FD.format("finish")),t.onFinish&&t.onFinish();case 8:case"end":return g.stop()}},u)}));return function(u){return i.apply(this,arguments)}}(),formRef:d,children:[(0,e.jsx)(q.Z,{title:_.format("loginBasicTitle"),ghost:!0,children:(0,e.jsx)(R.u,{access:["canSeeEnableCe"],showProRibbonTips:!0,children:function(u){var r=u.canSeeEnableCe;return(0,e.jsx)(oe.Z,{initialValue:"home/tag",disabled:r,label:_.format("loginBasicDefaultRedirect"),name:"loginDefaultRedirect",options:_.option("loginBasicDefaultRedirectOption",["/home/overview","/home/tag","/app/list","/compose/list","/swarm/service"])})}})}),(0,e.jsxs)(q.Z,{title:_.format("loginFailedTitle"),ghost:!0,children:[(0,e.jsx)(te.Z,{name:"loginFailedEnable"}),(0,e.jsx)(E.Z,{name:"loginFailedTotal",label:_.format("loginFailedTotal"),fieldProps:{addonAfter:h.FD.format("unitTimes")}}),(0,e.jsx)(ae.Z.Group,{name:"loginFailedLockTime",label:_.format("loginFailedLockTime"),options:_.option("loginFailedLockTimeOption",["300","900","3600","18000","-1"])})]}),(0,e.jsxs)(q.Z,{title:_.format("loginNoPasswordTitle"),hidden:!0,ghost:!0,children:[(0,e.jsx)(Ee.Z,{message:"\u5F00\u542F\u514D\u5BC6\u767B\u5F55\u540E\uFF0C\u9762\u677F\u540E\u53F0\u5C06\u4E0D\u9700\u8981\u767B\u5F55\u3002\u6B64\u529F\u80FD\u4EC5\u9650\u4E8E\u5728\u672C\u5730\u6216\u662F\u5185\u7F51\u4E2D\u4F7F\u7528\uFF0C\u8BF7\u8C28\u614E\u5F00\u542F\u3002",type:"warning",style:{marginBottom:15}}),(0,e.jsx)(te.Z,{name:"loginNoPasswordEnable"}),(0,e.jsx)(R.u,{access:["canSeeEnableCe"],showProRibbonTips:!0,children:function(u){var r=u.canSeeEnableCe;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(E.Z,{disabled:r,label:"\u514D\u5BC6\u767B\u5F55\u5730\u5740",name:"loginNoPasswordUrl"}),(0,e.jsx)(E.Z,{disabled:r,label:"\u514D\u5BC6\u767B\u5F55 User-Agent",name:"loginNoPasswordUserAgent"}),(0,e.jsx)(he.Z,{disabled:r,label:"\u514D\u5BC6\u767B\u5F55 IP \u767D\u540D\u5355",name:"loginNoPasswordIpWhitelist"})]})}})]})]})},pe=Se;function ve(o){return de.apply(this,arguments)}function de(){return de=w()(a()().mark(function o(t){return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,U.request)("/api/pro/two-fa/enable",{method:"POST",data:t}));case 1:case"end":return l.stop()}},o)})),de.apply(this,arguments)}var xe=n(29104),Pe=function(t){var s,l,Z=new h.Uo("components.systemBasic"),D=(0,U.useAccess)(),d=(0,p.useRef)(),_=(0,p.useContext)(F.Z),k=_.message,C=(0,p.useState)(!1),b=P()(C,2),c=b[0],i=b[1],u=(0,U.useModel)("@@initialState"),r=u.initialState;return(0,p.useEffect)(function(){if(d.current&&!D.canSeeEnableCe&&r){var m;if(!t.data||!t.data.enable)var j=ve({email:r==null?void 0:r.user.username,enable:!1}).then(function(M){var f,A;(f=d.current)===null||f===void 0||f.setFieldValue("twoFaEmail",r.user.username),(A=d.current)===null||A===void 0||A.setFieldValue("towFaQrcode",M.data.qrCode)});else{var g,S;(g=d.current)===null||g===void 0||g.setFieldValue("twoFaEmail",t.data.email),(S=d.current)===null||S===void 0||S.setFieldValue("towFaQrcode",t.data.qrCode)}(m=d.current)===null||m===void 0||m.setFieldValue("twoFaCode","")}},[d.current]),(0,e.jsx)(L.a,{drawerProps:{width:W.R_,destroyOnHidden:!0},trigger:(0,e.jsx)(I.ZP,{disabled:D.canSeeEnableCe,style:{width:90},type:(s=t.data)!==null&&s!==void 0&&s.enable?"primary":"default",children:(l=t.data)!==null&&l!==void 0&&l.enable?h.FD.format("listManageSetting"):h.FD.format("listManageEnable")}),onOpenChange:function(){var m=w()(a()().mark(function j(g){var S;return a()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:i(g),!g&&((S=d.current)===null||S===void 0||S.resetFields());case 2:case"end":return f.stop()}},j)}));return function(j){return m.apply(this,arguments)}}(),open:c,title:Z.format("twoFaTitle"),onFinish:function(){var m=w()(a()().mark(function j(g){var S;return a()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(D.canSeeEnableCe){f.next=4;break}return f.next=3,ve({email:g.twoFaEmail,enable:!0,code:g.twoFaCode});case 3:S=f.sent;case 4:k.success(h.FD.format("finish")),i(!1),t.onFinish&&t.onFinish();case 7:case"end":return f.stop()}},j)}));return function(j){return m.apply(this,arguments)}}(),formRef:d,children:(0,e.jsx)(R.u,{access:"canSeeEnableCe",showProRibbonTips:!0,children:function(j){var g=j.canSeeEnableCe;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(E.Z,{label:Z.format("twoFaEmail"),name:"twoFaEmail",disabled:!0,placeholder:Z.format("twoFaEmailEmpty")}),(0,e.jsx)(E.Z,{label:"\u9A8C\u8BC1\u7801",name:"twoFaCode",required:!0,disabled:g,rules:[{required:!0}]}),(0,e.jsx)(N.Z,{label:Z.format("twoFaQrcode"),tooltip:Z.format("twoFaQrcodeTip"),shouldUpdate:!0,children:function(M){var f=M.getFieldValue("towFaQrcode");return f&&(0,e.jsx)(xe.Z,{style:{border:"#d1d9e0b3 solid 1px",padding:"10px",borderRadius:"10px"},width:200,src:"data:image/png;base64,".concat(f)})}})]})}})})},ye=Pe,Fe=n(29177),Te=n(90078),Ue=n(97269),we=n(86125);function Oe(o){var t=(0,U.useModel)("@@initialState"),s=t.initialState,l=(0,U.useAccess)(),Z=(0,p.useContext)(F.Z),D=Z.message,d=(0,U.useAntdConfigSetter)(),_=new h.Uo("components.systemBasic"),k=(0,p.useState)(!1),C=P()(k,2),b=C[0],c=C[1],i=(0,p.useRef)();return(0,p.useEffect)(function(){if(i.current){var u,r,m,j,g,S,M,f;(u=i.current)===null||u===void 0||u.setFieldsValue({algorithm:(r=s==null?void 0:s.theme.algorithm)!==null&&r!==void 0?r:"default",mainMenu:(m=s==null?void 0:s.theme.mainMenu)!==null&&m!==void 0?m:"top",compact:(j=s==null?void 0:s.theme.compact)!==null&&j!==void 0?j:"default",fontSize:(g=s==null?void 0:s.theme.fontSize)!==null&&g!==void 0?g:14,fontSizeConsole:(S=s==null?void 0:s.theme.fontSizeConsole)!==null&&S!==void 0?S:12,sideMenu:(M=s==null?void 0:s.theme.sideMenu)!==null&&M!==void 0?M:"default",tablePageSize:(f=s==null?void 0:s.theme.tablePageSize)!==null&&f!==void 0?f:"20"})}},[s,i.current]),(0,e.jsxs)(L.a,{formRef:i,drawerProps:{width:W.R_,destroyOnHidden:!0},onOpenChange:function(r){var m;c(r),!r&&((m=i.current)===null||m===void 0||m.resetFields())},open:b,trigger:(0,e.jsx)(I.ZP,{type:"primary",children:h.FD.format("listManageSetting")}),onFinish:function(){var u=w()(a()().mark(function r(m){var j;return a()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(j={algorithm:m.algorithm,mainMenu:m.mainMenu,sideMenu:m.sideMenu,compact:m.compact,fontSizeConsole:m.fontSizeConsole,fontSize:m.fontSize,tablePageSize:m.tablePageSize},!(m.algorithm!=(s==null?void 0:s.theme.algorithm)&&!l.canSeeEnableCe)){S.next=4;break}return S.next=4,(0,v.GV)({groupName:"setting",name:"themeUserConfig"});case 4:return localStorage.setItem("dpanel-theme",m.algorithm),localStorage.setItem("dpanel-compact",m.compact),localStorage.setItem("dpanel-pagesize",m.tablePageSize),S.next=9,(0,v.bv)({theme:j});case 9:D.success(h.FD.format("finishTheme")),c(!1),o.onFinish&&o.onFinish();case 12:case"end":return S.stop()}},r)}));return function(r){return u.apply(this,arguments)}}(),children:[(0,e.jsx)(ae.Z.Group,{name:"algorithm",label:_.format("themeConfigAlgorithm"),initialValue:"default",radioType:"button",options:_.option("themeConfigAlgorithmOption",["default","dark","system"]),fieldProps:{onChange:function(r){r.target.value=="system"&&D.warning("\u4E3B\u9898\u76AE\u80A4\u914D\u7F6E\u4E3A\u8DDF\u968F\u7CFB\u7EDF\u540E\uFF0C\u5C06\u4F1A\u6E05\u7A7A\u81EA\u5B9A\u4E49\u4E3B\u9898\u98CE\u683C")}}}),(0,e.jsx)(ae.Z.Group,{name:"mainMenu",label:_.format("themeConfigMainMenu"),initialValue:"top",radioType:"button",options:_.option("themeConfigMainMenuOption",["top","side"])}),(0,e.jsx)(ae.Z.Group,{name:"sideMenu",label:_.format("themeConfigSideMenu"),initialValue:"default",radioType:"button",options:_.option("themeConfigSideMenuOption",["default","collapse"])}),(0,e.jsx)(ae.Z.Group,{name:"compact",label:_.format("themeConfigCompact"),initialValue:"default",radioType:"button",options:_.option("themeConfigCompactOption",["default","compact"])}),(0,e.jsx)(N.Z,{name:"fontSize",label:_.format("themeConfigFontSize"),initialValue:14,children:(0,e.jsx)(we.Z,{step:2,max:30,min:8,marks:{8:"8",10:"10",12:"12",14:"14",16:"16",20:"20",26:"26"}})}),(0,e.jsx)(oe.Z,{initialValue:"20",label:_.format("themeConfigTablePageSize"),name:"tablePageSize",options:_.option("themeConfigTablePageSizeOption",["5","10","20","50","100","all"])})]})}var X=n(24739),Me=n(25054),ee=n(31199),De=n(21532),ce=n(86250),Ze=n(44349);function Be(o){return me.apply(this,arguments)}function me(){return me=w()(a()().mark(function o(t){return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,U.request)("/api/pro/theme/save-theme-user-config",{method:"POST",data:t});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},o)})),me.apply(this,arguments)}var Le=n(2808),fe=n(51100),Ie=n(96486),Re=n.n(Ie),re={colorPrimary:"",colorTextBase:"",colorLink:"",colorBgContainer:"",colorBorder:"",colorBgElevated:"",colorBorderSecondary:"colorBorder"},be=["borderRadius","wireframe"],We=function(t){var s=(0,U.useAccess)(),l=(0,p.useRef)(),Z=(0,p.useContext)(F.Z),D=Z.message,d=new h.Uo("components.systemBasic"),_=(0,p.useState)(!1),k=P()(_,2),C=k[0],b=k[1],c=function(u){return(0,e.jsx)(Le.Z,{name:u.name,label:d.format("themeUserConfig.".concat(u.name)),tooltip:u.tooltip})};return(0,p.useEffect)(function(){if(!s.canSeeEnableCe&&l.current&&t.data){var i,u;if((i=l.current)===null||i===void 0||i.resetFields(["bgImageUpload","siteLogoUpload"]),be.forEach(function(j){if(t.data&&t.data.token&&t.data.token[j]){var g,S;(g=l.current)===null||g===void 0||g.setFieldValue("enableStyle",!0),(S=l.current)===null||S===void 0||S.setFieldValue(j,t.data.token[j])}}),(u=l.current)===null||u===void 0||u.setFieldsValue({siteLogo:t.data.siteLogo,siteTitle:t.data.siteTitle,siteCopyright:t.data.siteCopyright,siteLink:t.data.siteLink,bgImage:t.data.bgImage,loginLogo:t.data.loginLogo}),!t.data.bgImage||!t.data.bgImage.width||t.data.bgImage.width=="100%"){var r;(r=l.current)===null||r===void 0||r.setFieldValue("bgSize","full")}else{var m;(m=l.current)===null||m===void 0||m.setFieldValue("bgSize","default")}Object.keys(re).map(function(j){var g=j;re[j]!=""&&(g=re[j]),l!=null&&l.current&&t.data&&t.data.token&&!Re().isEmpty(t.data.token)&&(l==null||l.current.setFieldValue("enableColor",!0),l==null||l.current.setFieldValue(j,t.data.token[g]))})}},[l.current]),(0,e.jsx)(De.ZP,{children:(0,e.jsxs)(L.a,{trigger:(0,e.jsx)(I.ZP,{disabled:s.canSeeEnableCe,type:"primary",children:h.FD.format("listManageSetting")}),drawerProps:{width:W.R_},onOpenChange:function(u){var r;b(u),!u&&((r=l.current)===null||r===void 0||r.resetFields())},open:C,title:d.format("themeUserConfigTitle"),formRef:l,onFinish:function(){var i=w()(a()().mark(function u(r){var m,j,g;return a()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(!s.canSeeEnableCe){M.next=2;break}return M.abrupt("return",!1);case 2:return g={token:{},bgImage:r.bgImage,siteLink:r.siteLink,siteTitle:(m=r.siteTitle)!==null&&m!==void 0?m:"",siteCopyright:r.siteCopyright,siteLogo:(j=r.siteLogo)!==null&&j!==void 0?j:"",loginLogo:r.loginLogo},r.siteLogoUpload&&r.siteLogoUpload.length>0&&(g.siteLogo=r.siteLogoUpload[0].response.data.path),g.bgImage||(g.bgImage={}),r.bgImageUpload&&r.bgImageUpload.length>0&&(g.bgImage.src=r.bgImageUpload[0].response.data.path),g.bgImage.width=r.bgSize=="full"?"100%":"",r.loginLogoUpload&&r.loginLogoUpload.length>0&&(g.loginLogo=r.loginLogoUpload[0].response.data.path),Object.keys(re).map(function(f){g.token||(g.token={});var A=f;re[f]!=""&&(A=re[f]);var G=l.current&&l.current.getFieldValue(A);G&&G.toHexString?G.cleared||(g.token[f]=G.toHexString()):g.token[f]=G}),be.map(function(f){g.token||(g.token={});var A=l.current&&l.current.getFieldValue(f);g.token[f]=A}),M.next=12,Be(g);case 12:return t.onFinish&&t.onFinish(),D.success(h.FD.format("finishTheme")),M.abrupt("return",!0);case 15:case"end":return M.stop()}},u)}));return function(u){return i.apply(this,arguments)}}(),children:[(0,e.jsx)(X.UW,{title:d.format("themeUserConfigColorTitle"),extra:(0,e.jsx)(te.Z,{name:"enableColor"})}),(0,e.jsx)(B.Z,{name:["enableColor"],children:function(u){var r=u.enableColor;return r&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(X.UW,{children:c({name:"colorPrimary",tooltip:d.format("themeUserConfigColorPrimaryTip")})}),(0,e.jsxs)(X.UW,{children:[c({name:"colorBgContainer"}),c({name:"colorBgElevated"})]}),(0,e.jsxs)(X.UW,{children:[c({name:"colorTextBase"}),c({name:"colorLink"}),c({name:"colorBorder"})]})]})}}),(0,e.jsx)(X.UW,{title:"\u98CE\u683C",extra:(0,e.jsx)(te.Z,{name:"enableStyle"})}),(0,e.jsx)(B.Z,{name:["enableStyle"],children:function(u){var r=u.enableStyle;return r&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(X.UW,{children:(0,e.jsxs)(ce.Z,{gap:40,children:[(0,e.jsx)(te.Z,{label:d.format("themeUserConfigWireframe"),name:"wireframe"}),(0,e.jsx)(Me.Z,{min:1,max:16,label:d.format("themeUserConfigBorderRadius"),name:"borderRadius"})]})})})}}),(0,e.jsx)(X.UW,{title:d.format("themeUserConfigUiTitle")}),(0,e.jsx)(E.Z,{label:d.format("themeUserConfigSiteTitle"),name:"siteTitle",placeholder:d.format("themeUserConfigSiteTitleEmpty")}),(0,e.jsxs)(X.UW,{children:[(0,e.jsx)(fe.Z,{label:"Logo",title:d.format("themeUserConfigSiteLogoUploadTitle"),name:"siteLogoUpload",accept:".jpg,.png,.webp,.svg"}),(0,e.jsx)(E.Z,{width:"md",placeholder:d.format("themeUserConfigSiteLogoEmpty"),label:d.format("themeUserConfigSiteLogo"),name:"siteLogo"})]}),(0,e.jsxs)(X.UW,{children:[(0,e.jsx)(fe.Z,{label:d.format("themeUserConfigBgImageUpload"),title:d.format("themeUserConfigBgImageUploadTitle"),name:"bgImageUpload",accept:".jpg,.png,.webp,.svg"}),(0,e.jsx)(E.Z,{width:"md",placeholder:d.format("themeUserConfigSiteLogoEmpty"),label:d.format("themeUserConfigBgImageSrc"),name:["bgImage","src"]}),(0,e.jsx)(ae.Z.Group,{name:"bgSize",label:d.format("themeUserConfigBgImageBgSize"),initialValue:"full",options:d.option("themeUserConfigBgImageBgSizeOption",["full","default"])})]}),(0,e.jsx)(X.UW,{children:(0,e.jsx)(B.Z,{name:["bgSize"],children:function(u){var r=u.bgSize;if(r=="default")return(0,e.jsxs)(X.UW,{children:[(0,e.jsx)(ee.Z,{width:"xs",name:["bgImage","top"],label:d.format("themeUserConfigBgImageTop")}),(0,e.jsx)(ee.Z,{width:"xs",name:["bgImage","bottom"],label:d.format("themeUserConfigBgImageBottom")}),(0,e.jsx)(ee.Z,{width:"xs",name:["bgImage","left"],label:d.format("themeUserConfigBgImageLeft")}),(0,e.jsx)(ee.Z,{width:"xs",name:["bgImage","right"],label:d.format("themeUserConfigBgImageRight")})]})}})}),(0,e.jsx)(Ze.Z,{name:"siteLink",label:d.format("themeUserConfigSiteLink"),showAddButton:!0,hideCopyButton:!0,gap:10,items:d.option("themeUserConfigSiteLinkOption",["title","href"]).map(function(i){return{name:i.value,label:i.label}})}),(0,e.jsx)(he.Z,{label:d.format("themeUserConfigSiteCopyright"),name:"siteCopyright"}),(0,e.jsxs)(X.UW,{title:d.format("themeUserConfigUiLoginTitle"),children:[(0,e.jsx)(fe.Z,{label:"Logo",title:"Logo",name:"loginLogoUpload",accept:".jpg,.png,.webp,.svg"}),(0,e.jsx)(E.Z,{width:"md",placeholder:d.format("themeUserConfigSiteLogoEmpty"),label:d.format("themeUserConfigLoginLogo"),name:"loginLogo"})]})]})})},Ae=We,Ke=n(19400),_e=n(2487),Ve=n(4393),ze=n(71230),Ne=n(15746),ke=n(40411),Ce=n(12323),He=n(64304),se=n.n(He);function Ge(o){var t=new h.Uo("components.systemBasic"),s=(0,U.useAccess)(),l=(0,p.useContext)(F.Z),Z=l.message,D=(0,p.useState)(),d=P()(D,2),_=d[0],k=d[1],C=(0,p.useState)(),b=P()(C,2),c=b[0],i=b[1],u=(0,p.useRef)(),r=(0,p.useState)(!1),m=P()(r,2),j=m[0],g=m[1];return(0,p.useEffect)(function(){if(u.current&&o.data){var S,M,f=Ce.X;o.data&&Object.assign(f,o.data),!s.canSeeEnableCe&&o.data&&(S=o.data)!==null&&S!==void 0&&S.themeName&&o.data.themeName!=""&&Object.keys(se()).forEach(function(A,G){o.data&&A==o.data.themeName&&(i(Math.ceil((G+1)/36)),k(o.data.themeName))}),(M=u.current)===null||M===void 0||M.setFieldsValue({fontSize:f.fontSize,lineHeight:f.lineHeight,letterSpacing:f.letterSpacing,fontWeight:f.fontWeight,cursorStyle:f.cursorStyle,cursorInactiveStyle:f.cursorInactiveStyle,cursorBlink:f.cursorBlink})}},[u.current,o.data]),(0,e.jsxs)(L.a,{onOpenChange:function(M){var f;g(M),!M&&((f=u.current)===null||f===void 0||f.resetFields())},open:j,title:t.format("themeConsoleTitle"),formRef:u,drawerProps:{width:W.R_,destroyOnHidden:!0},trigger:(0,e.jsx)(I.ZP,{type:"primary",children:h.FD.format("listManageSetting")}),onFinish:function(){var S=w()(a()().mark(function M(f){var A;return a()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return A={fontSize:f.fontSize,lineHeight:f.lineHeight,letterSpacing:f.letterSpacing,fontWeight:f.fontWeight,cursorStyle:f.cursorStyle,cursorInactiveStyle:f.cursorInactiveStyle,cursorBlink:f.cursorBlink,theme:{},themeName:""},_!=""&&!s.canSeeEnableCe&&(A.theme=se()[_],A.themeName=_),ne.next=4,(0,v.bv)({console:A});case 4:return Z.success(h.FD.format("finishTheme")),g(!1),o.onFinish&&o.onFinish(),ne.abrupt("return",!0);case 8:case"end":return ne.stop()}},M)}));return function(M){return S.apply(this,arguments)}}(),children:[(0,e.jsx)(X.UW,{title:t.format("themeConsoleFont"),children:(0,e.jsxs)(ce.Z,{gap:50,children:[(0,e.jsx)(ee.Z,{label:t.format("themeConsoleFontSize"),name:"fontSize",tooltip:t.format("themeConsoleFontSizeTip"),fieldProps:{addonAfter:"px"}}),(0,e.jsx)(ee.Z,{label:t.format("themeConsoleLineHeight"),name:"lineHeight",tooltip:t.format("themeConsoleLineHeightTip"),fieldProps:{addonAfter:t.format("themeConsoleLineHeightUnit")}}),(0,e.jsx)(ee.Z,{label:t.format("themeConsoleLetterSpacing"),name:"letterSpacing",fieldProps:{addonAfter:"px"},tooltip:t.format("themeConsoleLetterSpacingTip")}),(0,e.jsx)(oe.Z,{label:t.format("themeConsoleFontWeight"),name:"fontWeight",options:[{label:"normal",value:"normal"},{label:"bold",value:"bold"},{label:"100",value:"100"},{label:"200",value:"200"},{label:"300",value:"300"},{label:"400",value:"400"},{label:"500",value:"500"},{label:"600",value:"600"},{label:"700",value:"700"},{label:"800",value:"800"},{label:"900",value:"900"}]})]})}),(0,e.jsx)(X.UW,{title:t.format("themeConsoleCursorStyleTitle"),children:(0,e.jsxs)(ce.Z,{gap:50,children:[(0,e.jsx)(oe.Z,{label:t.format("themeConsoleCursorStyle"),name:"cursorStyle",width:"sm",options:t.option("themeConsoleCursorStyleOption",["bar","underline","block"])}),(0,e.jsx)(oe.Z,{label:t.format("themeConsoleCursorInactiveStyle"),name:"cursorInactiveStyle",width:"sm",options:t.option("themeConsoleCursorStyleOption",["bar","underline","block","outline"])}),(0,e.jsx)(te.Z,{label:t.format("themeConsoleCursorBlink"),name:"cursorBlink"})]})}),(0,e.jsx)(R.u,{showProRibbonTips:!0,access:"canSeeEnableCe",children:function(M){var f=M.canSeeEnableCe;return(0,e.jsx)(q.Z,{ghost:!0,title:(0,e.jsx)(Ke.Z,{}),subTitle:t.format("themeConsoleTheme"),children:(0,e.jsx)(_e.Z,{split:!0,style:{overflow:"hidden"},grid:{column:6},pagination:{pageSize:36,current:c,onChange:function(G,ne){i(G)}},dataSource:Object.keys(se()).map(function(A){return{label:A,value:A,data:se()[A]}}),renderItem:function(G,ne){var ue=G.data,je=(0,e.jsxs)(Ve.Z,{style:{backgroundColor:ue.background,color:ue.foreground,textAlign:"center",cursor:f?"not-allowed":"pointer",borderRadius:0},onClick:function(){if(!f){var ge;(ge=u.current)===null||ge===void 0||ge.setFieldValue("theme",G.data),k(G.label)}},hoverable:!0,children:[(0,e.jsx)(ze.Z,{wrap:!0,gutter:[2,2],justify:"center",align:"middle",children:Ce.n.filter(function(le){return ue[le]!=""}).map(function(le){return(0,e.jsx)(Ne.Z,{style:{backgroundColor:ue[le],padding:8}},le)})}),(0,e.jsx)("div",{style:{paddingTop:5},children:G.label})]});return(0,e.jsx)(_e.Z.Item,{style:{margin:0},children:_==G.label?(0,e.jsx)(ke.Z.Ribbon,{text:"Checked",children:je}):je},ne)}})})}})]})}var Qe=n(63434);function Xe(o){var t=new h.Uo("components.systemBasic"),s=(0,p.useRef)(),l=(0,p.useState)(!1),Z=P()(l,2),D=Z[0],d=Z[1],_=(0,p.useContext)(F.Z),k=_.message;return(0,p.useEffect)(function(){if(s.current&&o.data){var C;(C=s.current)===null||C===void 0||C.setFieldsValue(o.data)}},[s.current,o.data]),(0,e.jsxs)(L.a,{drawerProps:{width:W.R_,destroyOnHidden:!0},trigger:(0,e.jsx)(I.ZP,{style:{width:150},type:"primary",children:h.FD.format("listManageSetting")}),onOpenChange:function(b){var c;d(b),!b&&((c=s.current)===null||c===void 0||c.resetFields())},open:D,title:t.format("notificationTitle"),onFinish:function(){var C=w()(a()().mark(function b(c){return a()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,v.bv)({notification:{emailServer:c.emailServer}});case 2:d(!1),k.success(h.FD.format("finish")),o.onFinish&&o.onFinish();case 5:case"end":return u.stop()}},b)}));return function(b){return C.apply(this,arguments)}}(),formRef:s,children:[(0,e.jsx)(X.UW,{title:t.format("notificationEmailTitle")}),(0,e.jsx)(E.Z,{label:t.format("notificationEmailHost"),name:["emailServer","host"],tooltip:t.format("notificationEmailHostTip"),required:!0,rules:[{required:!0}]}),(0,e.jsx)(ee.Z,{label:t.format("notificationEmailPort"),name:["emailServer","port"],required:!0,rules:[{required:!0}],initialValue:465}),(0,e.jsx)(E.Z,{label:t.format("notificationEmailCode"),name:["emailServer","code"],width:"lg",placeholder:t.format("notificationEmailCodeTip"),required:!0,rules:[{required:!0}],addonAfter:(0,e.jsxs)(H.Z,{children:[(0,e.jsx)("a",{target:"_blank",href:"https://service.mail.qq.com/detail/0/75",children:t.format("notificationEmailCodeHelp.qq")}),(0,e.jsx)("a",{target:"_blank",href:"https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac286624f309a1a7089",children:t.format("notificationEmailCodeHelp.163")})]})}),(0,e.jsx)(E.Z,{label:t.format("notificationEmailEmail"),name:["emailServer","email"],required:!0,rules:[{required:!0}],width:"lg",addonAfter:(0,e.jsx)(Q.Z,{tips:t.format("notificationEmailTestTip"),type:"primary",action:w()(a()().mark(function C(){var b;return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,v.FB)({emailServer:(b=s.current)===null||b===void 0?void 0:b.getFieldValue("emailServer"),subject:t.format("notificationEmailTestSubject"),content:t.format("notificationEmailTestContent",{time:new Date().toISOString()})});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},C)})),children:t.format("notificationEmailTestButton")},"testEmail")}),(0,e.jsx)(R.u,{access:"canSeeEnableEe",children:(0,e.jsx)(Qe.Z.Group,{name:"status",label:t.format("notificationEmailStatus"),options:t.option("notificationEmailStatusOption",["register"])})})]})}function Ye(){var o=new h.Uo("components.systemBasic"),t=(0,p.useState)(0),s=P()(t,2),l=s[0],Z=s[1],D=(0,p.useRef)(),d=(0,p.useContext)(F.Z),_=d.loading,k=(0,U.useAccess)();return(0,p.useEffect)(function(){var C;_.show(),(C=D.current)===null||C===void 0||C.resetFields(),Promise.all([(0,v.pe)({groupName:"user",name:"founder"}).then(function(b){var c;(c=D.current)===null||c===void 0||c.setFieldsValue({founder:b.data})}),(0,v.pe)({groupName:"setting",name:"login"}).then(function(b){var c,i;(c=D.current)===null||c===void 0||c.setFieldsValue({login:(i=b.data)!==null&&i!==void 0?i:{}})}),!k.canSeeEnableCe&&(0,v.pe)({groupName:"setting",name:"twoFa"}).then(function(b){var c,i;(c=D.current)===null||c===void 0||c.setFieldsValue({twoFa:(i=b.data)!==null&&i!==void 0?i:{}})}),!k.canSeeEnableCe&&(0,v.pe)({groupName:"setting",name:"themeUserConfig"}).then(function(b){var c,i;(c=D.current)===null||c===void 0||c.setFieldsValue({themeUserConfig:(i=b.data)!==null&&i!==void 0?i:{}})}),(0,v.pe)({groupName:"setting",name:"themeConsoleConfig"}).then(function(b){var c,i;(c=D.current)===null||c===void 0||c.setFieldsValue({themeConsoleConfig:(i=b.data)!==null&&i!==void 0?i:{}})}),(0,v.pe)({groupName:"setting",name:"themeConfig"}).then(function(b){var c,i;(c=D.current)===null||c===void 0||c.setFieldsValue({themeConfig:(i=b.data)!==null&&i!==void 0?i:{}})}),(0,v.pe)({groupName:"setting",name:"notification"}).then(function(b){var c,i;(c=D.current)===null||c===void 0||c.setFieldsValue({notification:(i=b.data)!==null&&i!==void 0?i:{}})})]).finally(function(){_.destroy()})},[l]),(0,e.jsx)(Te._z,{children:(0,e.jsx)(q.Z,{children:(0,e.jsxs)(Ue.A,{layout:"horizontal",labelAlign:"left",labelCol:{xs:7,sm:6,md:5,lg:5,xl:4,xxl:3,offset:0},submitter:!1,formRef:D,children:[(0,e.jsx)(B.Z,{name:["founder"],children:function(b){var c=b.founder;return c&&(0,e.jsx)(E.Z,{label:o.format("founderTitle"),disabled:!0,width:"md",fieldProps:{prefix:(0,e.jsx)(Fe.Z,{}),value:c.username},addonAfter:(0,e.jsx)(ie,{data:c,onFinish:function(){Z(l+1)}}),name:"adminUsername"})}}),(0,e.jsx)(y,{label:o.format("loginTitle"),name:"login",disable:function(b){return!1},disableLabel:h.FD.format("listManageDefault"),onDisable:function(){return(0,v.GV)({groupName:"setting",name:"login"})},settingComponent:pe,onFinish:function(){Z(l+1)},tip:o.format("loginTip")}),(0,e.jsx)(y,{isPe:!0,label:o.format("twoFaTitle"),name:"twoFa",disable:function(b){return!(b!=null&&b.enable)},onDisable:function(){return(0,v.GV)({groupName:"setting",name:"twoFa"})},settingComponent:ye,onFinish:function(){Z(l+1)},tip:o.format("twoFaTip")}),(0,e.jsx)(y,{label:o.format("themeConfigTitle"),name:"themeConfig",disable:function(b){return!1},disableLabel:h.FD.format("listManageDefault"),onDisable:function(){return localStorage.removeItem("dpanel-theme"),localStorage.removeItem("dpanel-compact"),localStorage.removeItem("dpanel-pagesize"),(0,v.GV)({groupName:"setting",name:"themeConfig"})},settingComponent:Oe,onFinish:function(){window.location.reload(),Z(l+1)},tip:o.format("themeConfigTip")}),(0,e.jsx)(y,{isPe:!0,label:o.format("themeUserConfigTitle"),name:"themeUserConfig",disable:function(b){return!1},disableLabel:h.FD.format("listManageDefault"),onDisable:function(){return(0,v.GV)({groupName:"setting",name:"themeUserConfig"})},settingComponent:Ae,onFinish:function(){window.location.reload(),Z(l+1)},tip:o.format("themeUserConfigTip")}),(0,e.jsx)(y,{label:o.format("themeConsoleTitle"),name:"themeConsoleConfig",disable:function(b){return!1},disableLabel:h.FD.format("listManageDefault"),onDisable:function(){return(0,v.GV)({groupName:"setting",name:"themeConsoleConfig"})},settingComponent:Ge,onFinish:function(){Z(l+1)},tip:o.format("themeConsoleTip")}),(0,e.jsx)(y,{label:o.format("notificationTitle"),name:"notification",onDisable:function(){return(0,v.GV)({groupName:"setting",name:"themeConsoleConfig"})},settingComponent:Xe,onFinish:function(){Z(l+1)},tip:o.format("notificationTip")})]})})})}},97961:function($,K,n){n.d(K,{GH:function(){return e},_2:function(){return Y},fN:function(){return Q},ii:function(){return T},vC:function(){return R}});var V=n(15009),P=n.n(V),N=n(99289),B=n.n(N),H=n(82346),T=[{name:"amd64",arch:"amd64",search:["amd64","x86_64","86_64"]},{name:"arm64",arch:"arm64",search:["arm64","arrch64"]},{name:"i386",arch:"386",search:[]},{name:"arm/v6",arch:"arm",search:[]},{name:"arm/v7",arch:"arm",search:[]},{name:"arm/v8",arch:"arm64",search:[]},{name:"ppc64le",arch:"ppc64le",search:[]},{name:"riscv64",arch:"riscv64",search:[]}];function Q(F){return h.apply(this,arguments)}function h(){return h=B()(P()().mark(function F(v){return P()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,H.request)("/api/app/image/create-by-dockerfile",{method:"POST",data:v}));case 1:case"end":return x.stop()}},F)})),h.apply(this,arguments)}function R(F){return U.apply(this,arguments)}function U(){return U=B()(P()().mark(function F(v){return P()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,H.request)("/api/app/image/import-by-container-tar",{method:"POST",data:v}));case 1:case"end":return x.stop()}},F)})),U.apply(this,arguments)}function e(F){return y.apply(this,arguments)}function y(){return y=B()(P()().mark(function F(v){return P()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,H.request)("/api/app/image/import-by-image-tar",{method:"POST",data:v}));case 1:case"end":return x.stop()}},F)})),y.apply(this,arguments)}function Y(F){return a.apply(this,arguments)}function a(){return a=B()(P()().mark(function F(v){return P()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,(0,H.request)("/api/common/attach/delete",{method:"POST",data:v});case 2:return x.abrupt("return",x.sent);case 3:case"end":return x.stop()}},F)})),a.apply(this,arguments)}function z(){return w.apply(this,arguments)}function w(){return w=_asyncToGenerator(_regeneratorRuntime().mark(function F(){return _regeneratorRuntime().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",request("/api/app/image/get-template-list",{method:"POST"}));case 1:case"end":return O.stop()}},F)})),w.apply(this,arguments)}}}]);
