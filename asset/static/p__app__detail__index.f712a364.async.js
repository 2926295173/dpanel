"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5947],{55809:function(y,f,e){var o=e(87462),a=e(67294),O=e(44805),s=e(84089),l=function(v,E){return a.createElement(s.Z,(0,o.Z)({},v,{ref:E,icon:O.Z}))},P=a.forwardRef(l);f.Z=P},12044:function(y,f,e){e.d(f,{j:function(){return O}});var o=e(34155),a=typeof o!="undefined"&&o.versions!=null&&o.versions.node!=null,O=function(){return typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.matchMedia!="undefined"&&!a}},1699:function(y,f,e){e.d(f,{u:function(){return W}});var o=e(9783),a=e.n(o),O=e(97857),s=e.n(O),l=e(67294),P=e(82346),D=e(40411),v=e(42075),E=e(85893),W=function(t){var d=(0,P.useAccess)(),M=Array.isArray(t.access)?t.access:[t.access],u,p=t.fallback;if(typeof t.children=="function"?(u=t.children(M.reduce(function(_,C){return s()(s()({},_),{},a()({},C,d[C]))},{})),u||(u=p)):M.every(function(_){return d[_]})?u=t.children:u=p,!p&&u&&t.showProTips&&d.canSeeEnableCe){if(d.canSeeEnableHiddenProTips)return null;u=(0,E.jsx)(D.Z,{offset:t.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:u})}if(!p&&u&&t.showProRibbonTips&&d.canSeeEnableCe){if(d.canSeeEnableHiddenProTips)return null;u=(0,E.jsx)(D.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:u})}return t.space?(0,E.jsx)(v.Z,s()(s()({},t.space),{},{children:u})):u}},24963:function(y,f,e){var o=e(67294),a=(0,o.createContext)({});f.Z=a},50070:function(y,f,e){e.r(f),e.d(f,{AppDetailContext:function(){return C},default:function(){return g}});var o=e(15009),a=e.n(o),O=e(99289),s=e.n(O),l=e(5574),P=e.n(l),D=e(1699),v=e(24963),E=e(13822),W=e(55809),b=e(90078),t=e(82346),d=e(25593),M=e(28036),u=e(50136),p=e(67294),_=e(85893),C=(0,p.createContext)({});function g(){var R,A=(0,p.useContext)(v.Z),U=A.loading,h=(0,t.useParams)(),r=(0,t.useSearchParams)(),i=P()(r,2),c=i[0],n=i[1],G=(R=c.get("tab"))!==null&&R!==void 0?R:"edit",z=(0,p.useState)("edit"),k=P()(z,2),H=k[0],w=k[1],B=(0,t.useNavigate)(),J=(0,p.useState)(1),x=P()(J,2),Z=x[0],V=x[1],$=[{label:(0,_.jsx)(t.Link,{to:"/app/detail/edit/".concat(h.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,_.jsx)(t.Link,{to:"/app/detail/network/".concat(h.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,_.jsx)(d.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){B("/app/detail/file/".concat(h.id,"?tab=file"))}},{label:(0,_.jsx)(d.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){B("/app/detail/log/".concat(h.id,"?tab=log"))}},{label:(0,_.jsx)(d.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){B("/app/detail/stat/".concat(h.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,_.jsx)(W.Z,{}),disabled:!0}],Q=(0,p.useState)($),F=P()(Q,2),X=F[0],Y=F[1];(0,p.useEffect)(function(){U.show(),w(G);var j=function(){var I=s()(a()().mark(function N(){var K,S,L;return a()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return K=$,m.prev=1,m.next=4,(0,E.jV)({md5:(S=h.id)!==null&&S!==void 0?S:""});case 4:L=m.sent,K.map(function(T){return T.key=="containerName"&&(T.label=L.data.info.Name),(!L.data.info.State.Running||L.data.info.State.Restarting)&&(T.key=="file"||T.key=="stat")&&(T.disabled=!0),T}),Y(K),m.next=13;break;case 9:return m.prev=9,m.t0=m.catch(1),B("/app/list"),m.abrupt("return");case 13:return m.prev=13,U.destroy(),m.finish(13);case 16:case"end":return m.stop()}},N,null,[[1,9,13,16]])}));return function(){return I.apply(this,arguments)}}();j()},[Z,h]);var q=function(I){w(I.key)};return(0,_.jsx)(C.Provider,{value:{reload:function(){V(Z+1)}},children:(0,_.jsxs)(b._z,{header:{extra:[(0,_.jsx)(D.u,{access:"canSeeContainerListManageCreate",children:(0,_.jsx)(t.Link,{to:"/app/create/image",children:(0,_.jsx)(M.ZP,{type:"primary",children:"\u521B\u5EFA\u5BB9\u5668"})})},"create")]},children:[(0,_.jsx)(u.Z,{mode:"horizontal",onClick:q,selectedKeys:[H],items:X}),(0,_.jsx)(t.Outlet,{})]})})}},13822:function(y,f,e){e.d(f,{IE:function(){return v},IW:function(){return P},KK:function(){return M},LJ:function(){return p},RF:function(){return R},Re:function(){return C},aF:function(){return U},eE:function(){return t},jV:function(){return W}});var o=e(15009),a=e.n(o),O=e(99289),s=e.n(O),l=e(82346);function P(r){return D.apply(this,arguments)}function D(){return D=s()(a()().mark(function r(i){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/status",{method:"POST",data:i}));case 1:case"end":return n.stop()}},r)})),D.apply(this,arguments)}function v(r){return E.apply(this,arguments)}function E(){return E=s()(a()().mark(function r(i){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/get-list",{data:i,method:"POST"}));case 1:case"end":return n.stop()}},r)})),E.apply(this,arguments)}function W(r){return b.apply(this,arguments)}function b(){return b=s()(a()().mark(function r(i){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/get-detail",{data:i,method:"POST"}));case 1:case"end":return n.stop()}},r)})),b.apply(this,arguments)}function t(r){return d.apply(this,arguments)}function d(){return d=s()(a()().mark(function r(i){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/update",{data:i,method:"POST"}));case 1:case"end":return n.stop()}},r)})),d.apply(this,arguments)}function M(){return u.apply(this,arguments)}function u(){return u=s()(a()().mark(function r(){return a()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,l.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return c.stop()}},r)})),u.apply(this,arguments)}function p(r){return _.apply(this,arguments)}function _(){return _=s()(a()().mark(function r(i){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/export",{method:"POST",data:i,responseType:"blob"}));case 1:case"end":return n.stop()}},r)})),_.apply(this,arguments)}function C(r){return g.apply(this,arguments)}function g(){return g=s()(a()().mark(function r(i){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/commit",{method:"POST",data:i}));case 1:case"end":return n.stop()}},r)})),g.apply(this,arguments)}function R(r){return A.apply(this,arguments)}function A(){return A=s()(a()().mark(function r(i){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/upgrade",{method:"POST",data:i}));case 1:case"end":return n.stop()}},r)})),A.apply(this,arguments)}function U(r){return h.apply(this,arguments)}function h(){return h=s()(a()().mark(function r(i){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/copy",{method:"POST",data:i}));case 1:case"end":return n.stop()}},r)})),h.apply(this,arguments)}}}]);
