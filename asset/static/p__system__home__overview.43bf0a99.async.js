"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8566],{1699:function(X,O,n){n.d(O,{u:function(){return C}});var T=n(9783),r=n.n(T),M=n(97857),c=n.n(M),f=n(67294),x=n(82346),j=n(40411),F=n(42075),p=n(85893),C=function(t){var v=(0,x.useAccess)(),u=Array.isArray(t.access)?t.access:[t.access],s,e=t.fallback;return typeof t.children=="function"?(s=t.children(u.reduce(function(A,W){return c()(c()({},A),{},r()({},W,v[W]))},{})),s||(s=e)):u.every(function(A){return v[A]})?s=t.children:s=e,!e&&s&&t.showProTips&&v.canSeeEnableCe&&(s=(0,p.jsx)(j.Z,{offset:t.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:s})),!e&&s&&t.showProRibbonTips&&v.canSeeEnableCe&&(s=(0,p.jsx)(j.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:s})),t.space?(0,p.jsx)(F.Z,c()(c()({},t.space),{},{children:s})):s}},80821:function(X,O,n){n.d(O,{Z:function(){return P}});var T=n(97857),r=n.n(T),M=n(5574),c=n.n(M),f=n(24963),x=n(86738),j=n(28036),F=n(83062),p=n(67294),C=n(85893);function P(t){var v=(0,p.useState)(!1),u=c()(v,2),s=u[0],e=u[1],A=(0,p.useContext)(f.Z),W=A.lang,H=A.message,z=function(){e(!0);var Y=t.action();Y instanceof Promise?Y.then(function(L){if(e(!1),L){typeof t.onSuccess=="function"&&t.onSuccess(L);var Q="";t.messageSuccess?typeof t.messageSuccess=="function"?Q=t.messageSuccess(L):Q=t.messageSuccess.indexOf("notification.")==0?W(t.messageSuccess):t.messageSuccess:Q=W("notification.finish"),t.asynced?H.info(Q):H.success(Q)}}).catch(function(L){e(!1),typeof t.onError=="function"&&t.onError(L)}):e(!1)};return t.confirm?(0,C.jsx)(x.Z,r()(r()({style:{width:500},title:t.confirmTitle?t.confirmTitle:W("notification.title.tip"),description:typeof t.confirm=="string"&&t.confirm.indexOf("notification.")==0?W(t.confirm):t.confirm,onConfirm:z,okText:"Yes",cancelText:"No",onOpenChange:t.confirmOnOpenChange},t.confirmProps),{},{children:(0,C.jsx)(j.ZP,{block:t.block,disabled:t.disabled,icon:!t.children&&s?void 0:t.icon,loading:s,danger:t.danger,type:t.type,children:t.children})})):(0,C.jsx)(F.Z,{title:t.tips,children:(0,C.jsx)(j.ZP,{block:t.block,style:t.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:t.disabled,icon:!t.children&&s?void 0:t.icon,loading:s,onClick:z,danger:t.danger,type:t.type,children:t.children})})}},27619:function(X,O,n){n.d(O,{Z:function(){return P}});var T=n(97857),r=n.n(T),M=n(19632),c=n.n(M),f=n(5574),x=n.n(f),j=n(64183),F=n(82346),p=n(67294),C=n(85893);function P(t){var v,u=(0,p.useState)("academy"),s=x()(u,2),e=s[0],A=s[1],W=Math.max.apply(Math,c()(t.data.map(function(Y){var L;return(L=Y[t.yField])!==null&&L!==void 0?L:0}))),H=(0,F.useModel)("@@initialState"),z=H.initialState,V={xField:t.xField,yField:t.yField,height:200,axis:{y:{line:!0},x:{line:!0,grid:{visable:!0},labelAutoRotate:!0}},style:{opacity:.4},tooltip:{channel:"y",valueFormatter:t.yLabelFormatter},scale:{y:{domainMin:(v=t.yDomainMin)!==null&&v!==void 0?v:0,domainMax:t.yDomainMax?t.yDomainMax:t.yDomainMaxCallback?t.yDomainMaxCallback(W):W}},data:t.data};return t.yLabelFormatter&&(V.axis.y.labelFormatter=t.yLabelFormatter),t.colorField&&(V.colorField=t.colorField),(0,p.useEffect)(function(){var Y=window.matchMedia("(prefers-color-scheme: dark)");(z==null?void 0:z.theme.algorithm)=="dark"||Y.matches?A("classicDark"):A("academy")},[z]),(0,C.jsx)(j.Z,r()({theme:e},V))}},3616:function(X,O,n){n.d(O,{Ed:function(){return c},FK:function(){return r},R_:function(){return T},ob:function(){return M}});var T=window.innerWidth<=1024?"90vw":"65vw",r="90vw",M="60vw",c="50vh"},24963:function(X,O,n){var T=n(67294),r=(0,T.createContext)({});O.Z=r},62115:function(X,O,n){n.r(O),n.d(O,{default:function(){return Je}});var T=n(15009),r=n.n(T),M=n(99289),c=n.n(M),f=n(5574),x=n.n(f),j=n(19632),F=n.n(j),p=n(1699),C=n(80821),P=n(27619),t=n(97857),v=n.n(t),u=n(28413),s=n(67294),e=n(85893),A=(0,s.forwardRef)(function(U,ne){(0,s.useImperativeHandle)(ne,function(){return{zoomIn:function(){w<=0||w-5<=0?ee(1):ee(w-5)},zoomOut:function(){w>U.data.length||w+5>U.data.length?ee(U.data.length):ee(w+5)}}});var ae=(0,s.useState)(20),q=x()(ae,2),w=q[0],ee=q[1],ie={colorField:"value",valueField:"value",scale:{color:{range:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"]}},legend:!1},le=function(){return U.data.length<=w?U.data:U.data.slice(0,w)};return(0,s.useEffect)(function(){},[]),U.data?(0,e.jsx)(u.Z,v()(v()({},ie),{},{height:500,data:{name:"root",children:le()}})):(0,e.jsx)(e.Fragment,{})}),W=A,H=n(55241),z=n(71230),V=n(15746),Y=n(38703),L=(0,s.forwardRef)(function(U,ne){return(0,s.useImperativeHandle)(ne,function(){return{}}),(0,e.jsxs)(H.Z,{placement:"left",children:[(0,e.jsx)(z.Z,{justify:"center",children:(0,e.jsx)(V.Z,{children:(0,e.jsx)(Y.Z,{percent:U.showPercent,type:"dashboard",format:function(q,w){return"".concat(q,"%")},size:150,status:U.showPercent>=100?"exception":"normal"})})}),(0,e.jsx)(z.Z,{justify:"center",children:(0,e.jsxs)(V.Z,{style:{marginTop:"10px"},children:[U.showLabel,": ",U.showUse," / ",U.showTotal]})})]})}),Q=L,te=n(3616),h=n(24963),I=n(87662),E=n(2831),i=n(18148),Ie=n(89075),Ke=n(20578),S=n(5251),ze=n(45605),Ge=n(1210),oe=n(12122),Ve=n(35598),Ne=n(15668),R=n(38345),Ce=n(184),B=n(88273),N=n(82346),se=n(42075),_e=n(28036),k=n(26412),me=n(83062),He=n(40411),Me=n(25593),Se=n(60940),Ye=n(86250),Qe=n(96074),Xe=n(93162);function Je(){var U,ne,ae,q,w,ee,ie,le,re,he,fe,ve,pe,ge,je,Ee,ye,be,Pe,De,qe=function(d,o){switch(o.type){case"update":var D=new Date().toLocaleTimeString(),_=0,g=0,ue=0,ce=0,K=0,b=0;o.payload.map(function($){_+=$.cpu,g+=$.memory.in,ue+=$.networkIO.in,ce+=$.networkIO.out,K+=$.blockIO.in,b+=$.blockIO.out});var J={list:o.payload,cpu:_,memory:g,network:[].concat(F()(d.network.slice(0,20)),[{date:D,usage:ce,type:"\u4E0A\u884C",source:{usage:ce}},{date:D,type:"\u4E0B\u884C",usage:ue,source:{usage:ue}}]),io:[].concat(F()(d.io.slice(0,20)),[{date:D,usage:b,type:"\u8BFB\u53D6",source:{usage:b}},{date:D,type:"\u5199\u5165",usage:K,source:{usage:K}}])};return J}},de=(0,N.useAccess)(),xe=(0,s.useRef)(),en=(0,s.useState)(),Ue=x()(en,2),Oe=Ue[0],nn=Ue[1],tn=(0,s.useState)(),Re=x()(tn,2),G=Re[0],an=Re[1],rn=(0,s.useState)(),Fe=x()(rn,2),a=Fe[0],sn=Fe[1],ln=(0,s.useState)(),Ae=x()(ln,2),y=Ae[0],un=Ae[1],on=(0,s.useState)(),Le=x()(on,2),l=Le[0],dn=Le[1],cn=(0,s.useState)(),Be=x()(cn,2),Te=Be[0],_n=Be[1],mn=(0,s.useReducer)(qe,{cpu:0,memory:0,network:[],io:[],list:[]}),Ze=x()(mn,2),Z=Ze[0],We=Ze[1],hn=(0,s.useContext)(h.Z),$e=hn.loading,ke=(0,N.useModel)("subscriber");ke.addDataHandler("container:stat",function(m){We({type:"update",payload:m.data})});var we=function(){var m=c()(r()().mark(function d(){var o,D,_,g,ue;return r()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return $e.show(),K.next=3,(0,E.aF)().finally(function(){$e.destroy()});case 3:return o=K.sent,sn(o.data),K.next=7,(0,E.Ll)();case 7:return D=K.sent,dn(D.data),_={total:0,container:0,volume:0,image:0,cache:0,item:[],updatedAt:""},g=D.data.diskUsage,g.usage.Containers&&g.usage.Containers.map(function(b){var J,$;_.container+=b.SizeRootFs+((J=b.SizeRw)!==null&&J!==void 0?J:0),_.item.push({name:b.Names[0],value:parseFloat(((b.SizeRootFs+(($=b.SizeRw)!==null&&$!==void 0?$:0))/1024/1024).toFixed(2))})}),g.usage.Volumes&&g.usage.Volumes.map(function(b){_.volume+=b.UsageData.Size,_.item.push({name:b.Name,value:parseFloat((b.UsageData.Size/1024/1024).toFixed(2))})}),g.usage.Images&&g.usage.Images.map(function(b){var J,$;_.image+=b.Size-((J=b.Sharedsize)!==null&&J!==void 0?J:0),_.item.push({name:b.RepoTags&&b.RepoTags.length>0?b.RepoTags[0]:b.Id,value:parseFloat(((b.Size-(($=b.Sharedsize)!==null&&$!==void 0?$:0))/1024/1024).toFixed(2))})}),g.usage.BuildCache&&g.usage.BuildCache.map(function(b){_.cache+=b.Size}),!g.usage.Containers&&!g.usage.Images&&!g.usage.Volumes?_.item.push({name:"\u6B63\u5728\u83B7\u53D6\u8BA1\u7B97,\u4E2A\u522B\u7CFB\u7EDF\u4F1A\u6BD4\u8F83\u8017\u65F6.",value:100}):_.updatedAt=new Date(g.updatedAt).toLocaleString(),_.total=g.usage.LayersSize,un(_),K.next=20,(0,I.Cz)({follow:!0});case 20:ue=K.sent,We({type:"update",payload:[]});case 22:case"end":return K.stop()}},d)}));return function(){return m.apply(this,arguments)}}();return(0,s.useEffect)(function(){return we(),!de.canSeeEnableCe&&(0,Ie.YQ)().then(function(m){nn(m.data)}),!de.canSeeEnableCe&&(0,Ke.ql)().then(function(m){an(m.data)}),(0,E.u5)().then(function(m){_n(m.data)}),function(){ke.progress.close("container:stat")}},[]),(0,e.jsxs)(R.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,e.jsxs)(R.Z,{bordered:!0,split:"vertical",wrap:!0,children:[(0,e.jsx)(R.Z,{style:{height:"570px",overflow:"hidden"},colSpan:{xs:24,sm:24,md:24,lg:9,xl:9},headerBordered:!0,title:(0,e.jsx)(ze.Z,{}),subTitle:"\u57FA\u7840\u4FE1\u606F",extra:(0,e.jsx)(se.Z,{children:de.canSeeEnableCe?(0,e.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/manual/pro",target:"_blank",children:"Pro \u7248"},"proLink"):Oe&&Oe.expireTime?(0,e.jsxs)("span",{children:["\u8FC7\u671F\u65F6\u95F4: ",new Date(Oe.expireTime).toLocaleString()]},"expireTime"):(0,e.jsx)(_e.ZP,{type:"link",onClick:c()(r()().mark(function m(){var d,o;return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,Ie.$w)();case 2:d=_.sent,o=new Blob([d.data.code],{type:"text/plain"}),(0,Xe.saveAs)(o,"dpanel.code");case 5:case"end":return _.stop()}},m)})),children:"\u6388\u6743\u7801"},"downloadCode")}),children:(0,e.jsxs)(k.Z,{column:1,labelStyle:{width:100,justifyContent:"flex-end"},children:[(0,e.jsx)(k.Z.Item,{label:"\u9762\u677F\u4FE1\u606F",children:(0,e.jsxs)(se.Z,{direction:"horizontal",wrap:!0,children:[a==null?void 0:a.dpanel.version," - ",a==null?void 0:a.dpanel.env," - ",a==null?void 0:a.dpanel.family,(0,e.jsx)(me.Z,{title:"\u5347\u7EA7\u65E5\u5FD7",children:(0,e.jsx)("a",{target:"_blank",href:"https://github.com/donknap/dpanel/releases",children:(0,e.jsx)(Ge.Z,{})})}),Te&&Te.newVersion!=""&&(0,e.jsx)(N.Link,{to:"/system/upgrade",children:(0,e.jsx)(He.Z,{count:Te.newVersion,size:"small"})})]})}),(0,e.jsxs)(k.Z.Item,{label:"Docker Host",children:[a==null?void 0:a.info.Name," ",(0,e.jsx)(e.Fragment,{children:(a==null?void 0:a.info.ID)==""&&(0,e.jsx)(N.Link,{to:"/system/env",state:{item:{name:"local",title:"\u672C\u5730"},t:(0,S.Fs)()},children:"\u914D\u7F6E\u9ED8\u8BA4 Docker \u5BA2\u6237\u7AEF"})})]}),(0,e.jsx)(k.Z.Item,{label:"Docker \u7248\u672C",children:"".concat(a==null?void 0:a.info.OperatingSystem," - ").concat(a==null?void 0:a.info.ServerVersion," - ").concat(a==null?void 0:a.sdkVersion)}),(0,e.jsx)(k.Z.Item,{label:"\u6587\u4EF6\u5B58\u50A8\u9A71\u52A8",children:"".concat(a==null?void 0:a.info.Driver)}),(0,e.jsx)(k.Z.Item,{label:"\u65E5\u5FD7\u9A71\u52A8",children:"".concat(a==null?void 0:a.info.LoggingDriver)}),(0,e.jsx)(k.Z.Item,{label:"\u7CFB\u7EDF\u67B6\u6784",children:"".concat(a==null?void 0:a.info.KernelVersion," - ").concat(a==null?void 0:a.info.Architecture)}),(0,e.jsxs)(k.Z.Item,{label:"Cpu",children:[a==null?void 0:a.info.NCPU," \u6838"]}),(0,e.jsx)(k.Z.Item,{label:"Memory",children:(0,S.FI)((U=a==null?void 0:a.info.MemTotal)!==null&&U!==void 0?U:0)}),(0,e.jsx)(k.Z.Item,{label:"\u6839\u76EE\u5F55",children:a==null?void 0:a.info.DockerRootDir}),(0,e.jsx)(k.Z.Item,{label:"\u5B58\u50A8\u5377\u63D2\u4EF6",children:(0,e.jsx)(se.Z,{children:a==null?void 0:a.info.Plugins.Volume})}),(0,e.jsx)(k.Z.Item,{label:"\u7F51\u7EDC\u63D2\u4EF6",children:(0,e.jsx)(se.Z,{wrap:!0,children:a==null?void 0:a.info.Plugins.Network})}),(0,e.jsx)(k.Z.Item,{label:"\u7CFB\u7EDF\u65F6\u95F4",children:new Date((ne=a==null?void 0:a.info.SystemTime)!==null&&ne!==void 0?ne:"").toLocaleString()})]})}),(0,e.jsxs)(R.Z,{headerBordered:!0,colSpan:{xs:24,sm:24,md:24,lg:15,xl:15},title:(0,e.jsx)(oe.Z,{}),subTitle:"\u5BB9\u5668\u8FD0\u884C\u7EDF\u8BA1",split:"horizontal",extra:(0,e.jsx)(Ce.a,{drawerProps:{width:te.R_},title:"\u5BB9\u5668\u72B6\u6001\u6570\u636E",submitter:!1,trigger:(0,e.jsx)(Me.Z.Link,{children:"\u8BE6\u60C5\u6570\u636E"}),children:(0,e.jsx)(Se.Z,{pagination:!1,dataSource:Z.list,rowKey:"name",columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"name"},{title:"Cpu",dataIndex:"cpu",sorter:function(d,o){return d.cpu-o.cpu},render:function(d,o,D){return"".concat(o.cpu.toFixed(2),"%")}},{title:"\u5185\u5B58",dataIndex:"memory",sorter:function(d,o){return d.memory.in-o.memory.in},render:function(d,o,D){var _,g;return"".concat((0,S.FI)((_=o==null?void 0:o.memory.in)!==null&&_!==void 0?_:0)," / ").concat((0,S.FI)((g=o==null?void 0:o.memory.out)!==null&&g!==void 0?g:0))}},{title:"\u7F51\u7EDC I/O",dataIndex:"networkIO",render:function(d,o,D){return"".concat((0,S.FI)(o.networkIO.in)," / ").concat((0,S.FI)(o.networkIO.out))}},{title:"\u78C1\u76D8 I/O",dataIndex:"blockIO",render:function(d,o,D){return"".concat((0,S.FI)(o.blockIO.in)," / ").concat((0,S.FI)(o.blockIO.out))}}]})}),children:[(0,e.jsx)(R.Z,{children:(0,e.jsxs)(Ye.Z,{gap:50,align:"center",justify:"space-evenly",children:[(0,e.jsx)(Q,{showPercent:parseFloat((((ae=Z==null?void 0:Z.cpu)!==null&&ae!==void 0?ae:0)/((q=a==null?void 0:a.info.NCPU)!==null&&q!==void 0?q:0)).toFixed(2)),showLabel:"Cpu",showUse:"".concat(((w=Z==null?void 0:Z.cpu)!==null&&w!==void 0?w:0).toFixed(2)),showTotal:"".concat((ee=a==null?void 0:a.info.NCPU)!==null&&ee!==void 0?ee:0," \u6838")}),(0,e.jsx)(Q,{showPercent:parseFloat((((ie=Z==null?void 0:Z.memory)!==null&&ie!==void 0?ie:0)/((le=a==null?void 0:a.info.MemTotal)!==null&&le!==void 0?le:0)*100).toFixed(2)),showLabel:"\u5185\u5B58",showUse:(0,S.FI)((re=Z==null?void 0:Z.memory)!==null&&re!==void 0?re:0),showTotal:"".concat((0,S.FI)((he=a==null?void 0:a.info.MemTotal)!==null&&he!==void 0?he:0))})]})}),(0,e.jsxs)(R.Z,{split:"vertical",wrap:!0,children:[(0,e.jsx)(R.Z,{colSpan:12,title:(0,e.jsx)(oe.Z,{}),subTitle:"\u7F51\u7EDC",headerBordered:!0,children:(0,e.jsx)(P.Z,{yField:"usage",xField:"date",colorField:"type",data:Z.network,yLabelFormatter:function(d){return(0,S.FI)(parseFloat(d))},yDomainMaxCallback:function(d){return d*1.5}})}),(0,e.jsx)(R.Z,{colSpan:12,title:(0,e.jsx)(oe.Z,{}),subTitle:"\u78C1\u76D8",headerBordered:!0,children:(0,e.jsx)(P.Z,{yField:"usage",xField:"date",colorField:"type",data:Z.io,yLabelFormatter:function(d){return(0,S.FI)(parseFloat(d))},yDomainMaxCallback:function(d){return d*1.5}})})]})]})]}),(0,e.jsxs)(R.Z,{bordered:!0,headerBordered:!0,title:(0,e.jsx)(oe.Z,{}),subTitle:"\u7528\u91CF\u7EDF\u8BA1",wrap:!0,extra:(0,e.jsxs)(se.Z,{children:[(0,e.jsx)(_e.ZP,{icon:(0,e.jsx)(Ve.Z,{}),onClick:function(){var d;(d=xe.current)===null||d===void 0||d.zoomIn()},shape:"circle"}),(0,e.jsx)(_e.ZP,{icon:(0,e.jsx)(Ne.Z,{}),onClick:function(){var d;(d=xe.current)===null||d===void 0||d.zoomOut()},shape:"circle"}),(0,e.jsx)(Qe.Z,{type:"vertical"}),(0,e.jsx)("span",{children:y&&y.updatedAt?"\u6570\u636E\u6700\u540E\u66F4\u65B0: ".concat(y.updatedAt):""},"lastUpdate")]},"size"),children:[(0,e.jsx)(R.Z,{colSpan:{xs:24,sm:24,md:24,lg:24,xl:12,xxl:12},ghost:!0,children:(y==null?void 0:y.item)&&(y==null?void 0:y.item.length)>0&&(0,e.jsx)(W,{ref:xe,data:(fe=y==null?void 0:y.item)!==null&&fe!==void 0?fe:[]})}),(0,e.jsxs)(R.Z,{colSpan:{xs:24,sm:8,md:8,lg:8,xl:4,xxl:4},split:"horizontal",ghost:!0,children:[(0,e.jsx)(B.Z,{statistic:{title:"\u5BB9\u5668",value:(0,S.FI)((ve=y==null?void 0:y.container)!==null&&ve!==void 0?ve:0),description:"\u955C\u50CF\u53CA\u5199\u5165\u6570\u636E"}}),(0,e.jsx)(B.Z,{statistic:{title:"\u955C\u50CF",value:(0,S.FI)((pe=y==null?void 0:y.image)!==null&&pe!==void 0?pe:0),description:"\u5305\u542B\u4E2D\u95F4\u955C\u50CF"}}),(0,e.jsx)(B.Z,{statistic:{title:"\u5B58\u50A8",value:(0,S.FI)((ge=y==null?void 0:y.volume)!==null&&ge!==void 0?ge:0),description:"\u53EA\u7EDF\u8BA1\u5B58\u50A8\u5377"}}),(0,e.jsx)(B.Z,{statistic:{title:"\u6784\u5EFA\u7F13\u5B58",value:(0,S.FI)((je=y==null?void 0:y.cache)!==null&&je!==void 0?je:0),description:(0,e.jsx)(p.u,{access:"canSeeHomeOverviewClear",children:(0,e.jsx)(C.Z,{action:function(){return(0,i.c5)()},type:"link",onSuccess:function(){we()},ghost:!0,children:"\u6E05\u9664"})})}})]}),(0,e.jsxs)(R.Z,{colSpan:{xs:24,sm:16,md:16,lg:16,xl:8,xxl:8},ghost:!0,split:"horizontal",children:[(0,e.jsx)(R.Z,{ghost:!0,children:(0,e.jsxs)(B.Z.Group,{children:[(0,e.jsx)(B.Z,{statistic:{title:"\u5BB9\u5668",value:(Ee=a==null?void 0:a.info.Containers)!==null&&Ee!==void 0?Ee:0,description:(0,e.jsx)(N.Link,{to:"/app/list",children:"\u67E5\u770B"})}}),!de.canSeeEnableCe&&(0,e.jsx)(B.Z,{statistic:{title:"\u65B0\u7248\u672C",status:"processing",valueRender:function(d){var o,D,_;return(0,e.jsx)(me.Z,{title:"\u5FFD\u7565:  ".concat((o=G==null?void 0:G.ignore)!==null&&o!==void 0?o:0," \u5931\u8D25: ").concat((D=G==null?void 0:G.failed)!==null&&D!==void 0?D:0," \u672C\u5730:").concat((_=G==null?void 0:G.local)!==null&&_!==void 0?_:0),children:G==null?void 0:G.upgrade})}}}),(0,e.jsx)(B.Z,{statistic:{title:"\u9884\u8B66",status:"error",valueRender:function(d){var o,D,_,g=0;return l&&l.total&&l.total.containerRunning.stop&&(g+=l.total.containerRunning.stop),l&&l.total&&l.total.containerRunning.pause&&(g+=l.total.containerRunning.pause),l&&l.total&&l.total.containerRunning.unhealthy&&(g+=l.total.containerRunning.unhealthy),(0,e.jsx)(me.Z,{title:"\u505C\u6B62\uFF1A".concat((o=l==null?void 0:l.total.containerRunning.stop)!==null&&o!==void 0?o:0,"\uFF0C\u6682\u505C\uFF1A").concat((D=l==null?void 0:l.total.containerRunning.pause)!==null&&D!==void 0?D:0,"\uFF0C\u4E0D\u5065\u5EB7\uFF1A").concat((_=l==null?void 0:l.total.containerRunning.unhealthy)!==null&&_!==void 0?_:0),children:g})}}}),(0,e.jsx)(B.Z,{statistic:{title:"\u56DE\u6536\u7AD9",value:(ye=l==null?void 0:l.total.containerTask)!==null&&ye!==void 0?ye:0,description:(0,e.jsx)(N.Link,{to:"/app/list/recycle",children:"\u67E5\u770B"})}})]})}),(0,e.jsxs)(R.Z,{ghost:!0,children:[(0,e.jsx)(B.Z,{statistic:{title:"\u955C\u50CF",value:"".concat((be=(l==null?void 0:l.diskUsage.usage.Images)&&(l==null?void 0:l.diskUsage.usage.Images.length))!==null&&be!==void 0?be:0),description:(0,e.jsx)(N.Link,{to:"/image/list",children:"\u67E5\u770B"})},chartPlacement:"left"}),(0,e.jsx)(B.Z,{statistic:{title:"\u4EFB\u52A1",value:(Pe=l==null?void 0:l.total.imageTask)!==null&&Pe!==void 0?Pe:0,description:(0,e.jsx)(N.Link,{to:"/image/list/recycle",children:"\u67E5\u770B"})},chartPlacement:"left"})]}),(0,e.jsxs)(R.Z,{ghost:!0,children:[(0,e.jsx)(B.Z,{statistic:{title:"\u7F51\u7EDC",value:l==null?void 0:l.total.network,description:(0,e.jsx)(N.Link,{to:"/docker/network",children:"\u67E5\u770B"})},chartPlacement:"left"}),(0,e.jsx)(B.Z,{statistic:{title:"\u7AEF\u53E3\u6620\u5C04",value:l==null?void 0:l.total.port,description:(0,e.jsx)(Ce.a,{drawerProps:{width:te.R_},submitter:!1,title:"\u67E5\u770B\u6620\u5C04\u7AEF\u53E3",trigger:(0,e.jsx)(Me.Z.Link,{children:"\u67E5\u770B"}),children:(0,e.jsx)(Se.Z,{pagination:!1,dataSource:l==null?void 0:l.port,rowKey:"name",columns:[{title:"\u4E3B\u673A\u7AEF\u53E3",dataIndex:["port","host"],sorter:function(d,o){return parseInt(d.port.host)-parseInt(o.port.host)},render:function(d,o,D){return o.port.host!="0"?"".concat(o.port.hostIp,":").concat(o.port.host):"-"}},{title:"\u5BB9\u5668\u7AEF\u53E3",dataIndex:["port","dest"]},{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"name",render:function(d,o,D){return(0,S.fi)(o.name,"/")}}]})})},chartPlacement:"left"})]}),(0,e.jsxs)(R.Z,{ghost:!0,children:[(0,e.jsx)(B.Z,{statistic:{title:"\u5B58\u50A8\u5377",value:(De=(l==null?void 0:l.diskUsage.usage.Volumes)&&(l==null?void 0:l.diskUsage.usage.Volumes.length))!==null&&De!==void 0?De:0,description:(0,e.jsx)(N.Link,{to:"/docker/volume",children:"\u67E5\u770B"})},chartPlacement:"left"}),(0,e.jsx)(B.Z,{statistic:{title:"\u5907\u4EFD",value:l==null?void 0:l.total.backup,description:(0,e.jsx)(N.Link,{to:"/app/backup",children:"\u67E5\u770B"})},chartPlacement:"left"})]})]})]})]})}},2831:function(X,O,n){n.d(O,{Ll:function(){return C},aF:function(){return x},d6:function(){return t},u5:function(){return F}});var T=n(15009),r=n.n(T),M=n(99289),c=n.n(M),f=n(82346);function x(){return j.apply(this,arguments)}function j(){return j=c()(r()().mark(function u(){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.request)("/api/common/home/info",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},u)})),j.apply(this,arguments)}function F(){return p.apply(this,arguments)}function p(){return p=c()(r()().mark(function u(){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},u)})),p.apply(this,arguments)}function C(){return P.apply(this,arguments)}function P(){return P=c()(r()().mark(function u(){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.request)("/api/common/home/usage",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},u)})),P.apply(this,arguments)}function t(){return v.apply(this,arguments)}function v(){return v=c()(r()().mark(function u(){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},u)})),v.apply(this,arguments)}},18148:function(X,O,n){n.d(O,{$q:function(){return u},Fj:function(){return Y},KG:function(){return x},KX:function(){return Q},T8:function(){return t},Xn:function(){return C},ao:function(){return e},c5:function(){return z},c7:function(){return W}});var T=n(15009),r=n.n(T),M=n(99289),c=n.n(M),f=n(82346);function x(h){return j.apply(this,arguments)}function j(){return j=c()(r()().mark(function h(I){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,f.request)("/api/app/image/get-list",{method:"POST",data:I}));case 1:case"end":return i.stop()}},h)})),j.apply(this,arguments)}function F(h){return p.apply(this,arguments)}function p(){return p=_asyncToGenerator(_regeneratorRuntime().mark(function h(I){return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,request("/api/app/log/image-build",{method:"POST",data:I});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},h)})),p.apply(this,arguments)}function C(h){return P.apply(this,arguments)}function P(){return P=c()(r()().mark(function h(I){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,f.request)("/api/app/image/get-list-build",{method:"POST",data:I}));case 1:case"end":return i.stop()}},h)})),P.apply(this,arguments)}function t(h){return v.apply(this,arguments)}function v(){return v=c()(r()().mark(function h(I){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,f.request)("/api/app/image/get-build-task",{method:"POST",data:I});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},h)})),v.apply(this,arguments)}function u(h){return s.apply(this,arguments)}function s(){return s=c()(r()().mark(function h(I){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,f.request)("/api/app/image/delete-build-task",{method:"POST",data:I});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},h)})),s.apply(this,arguments)}function e(h){return A.apply(this,arguments)}function A(){return A=c()(r()().mark(function h(I){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,f.request)("/api/app/image/image-delete",{method:"POST",data:I});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},h)})),A.apply(this,arguments)}function W(){return H.apply(this,arguments)}function H(){return H=c()(r()().mark(function h(){return r()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,f.request)("/api/app/image/image-prune",{method:"POST"});case 2:return E.abrupt("return",E.sent);case 3:case"end":return E.stop()}},h)})),H.apply(this,arguments)}function z(){return V.apply(this,arguments)}function V(){return V=c()(r()().mark(function h(){return r()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,f.request)("/api/app/image/build-prune",{method:"POST"});case 2:return E.abrupt("return",E.sent);case 3:case"end":return E.stop()}},h)})),V.apply(this,arguments)}function Y(h){return L.apply(this,arguments)}function L(){return L=c()(r()().mark(function h(I){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,f.request)("/api/app/image/update-title",{method:"POST",data:I});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},h)})),L.apply(this,arguments)}function Q(h){return te.apply(this,arguments)}function te(){return te=c()(r()().mark(function h(I){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,f.request)("/api/app/image/tag-sync",{method:"POST",data:I}));case 1:case"end":return i.stop()}},h)})),te.apply(this,arguments)}},89075:function(X,O,n){n.d(O,{$w:function(){return x},YQ:function(){return F},ax:function(){return C}});var T=n(15009),r=n.n(T),M=n(99289),c=n.n(M),f=n(82346);function x(){return j.apply(this,arguments)}function j(){return j=c()(r()().mark(function t(){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,f.request)("/api/pro/home/get-machine-id",{method:"POST"}));case 1:case"end":return u.stop()}},t)})),j.apply(this,arguments)}function F(){return p.apply(this,arguments)}function p(){return p=c()(r()().mark(function t(){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,f.request)("/api/pro/home/get-license-info",{method:"POST"}));case 1:case"end":return u.stop()}},t)})),p.apply(this,arguments)}function C(){return P.apply(this,arguments)}function P(){return P=c()(r()().mark(function t(){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,f.request)("/api/pro/home/login-info",{method:"POST"}));case 1:case"end":return u.stop()}},t)})),P.apply(this,arguments)}},20578:function(X,O,n){n.d(O,{ql:function(){return C},w5:function(){return F}});var T=n(15009),r=n.n(T),M=n(99289),c=n.n(M),f=n(82346);function x(){return j.apply(this,arguments)}function j(){return j=_asyncToGenerator(_regeneratorRuntime().mark(function t(){return _regeneratorRuntime().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",request("/api/pro/container/create-host-web-shell",{method:"POST"}));case 1:case"end":return u.stop()}},t)})),j.apply(this,arguments)}function F(t){return p.apply(this,arguments)}function p(){return p=c()(r()().mark(function t(v){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,f.request)("/api/pro/container/recycle-restore",{data:v,method:"POST"});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},t)})),p.apply(this,arguments)}function C(){return P.apply(this,arguments)}function P(){return P=c()(r()().mark(function t(){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,f.request)("/api/pro/container/check-all-upgrade",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},t)})),P.apply(this,arguments)}}}]);
