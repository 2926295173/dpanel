"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[236],{80821:function(Z,v,n){n.d(v,{Z:function(){return y}});var E=n(97857),u=n.n(E),c=n(5574),h=n.n(c),C=n(24963),D=n(86738),b=n(28036),R=n(83062),j=n(67294),A=n(85893);function y(t){var p=(0,j.useState)(!1),U=h()(p,2),x=U[0],a=U[1],O=(0,j.useContext)(C.Z),r=O.lang,W=O.message,T=function(){a(!0);var S=t.action();S instanceof Promise?S.then(function(o){if(a(!1),o){typeof t.onSuccess=="function"&&t.onSuccess(o);var M="";t.messageSuccess?typeof t.messageSuccess=="function"?M=t.messageSuccess(o):M=t.messageSuccess.indexOf("notification.")==0?r(t.messageSuccess):t.messageSuccess:M=r("notification.finish"),t.asynced?W.info(M):W.success(M)}}).catch(function(o){a(!1),typeof t.onError=="function"&&t.onError(o)}):a(!1)};return t.confirm?(0,A.jsx)(D.Z,u()(u()({style:{width:500},title:t.confirmTitle?t.confirmTitle:r("notification.title.tip"),description:typeof t.confirm=="string"&&t.confirm.indexOf("notification.")==0?r(t.confirm):t.confirm,onConfirm:T,okText:"Yes",cancelText:"No",onOpenChange:t.confirmOnOpenChange},t.confirmProps),{},{children:(0,A.jsx)(b.ZP,{block:t.block,disabled:t.disabled,icon:!t.children&&x?void 0:t.icon,loading:x,danger:t.danger,type:t.type,children:t.children})})):(0,A.jsx)(R.Z,{title:t.tips,children:(0,A.jsx)(b.ZP,{block:t.block,style:t.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:t.disabled,icon:!t.children&&x?void 0:t.icon,loading:x,onClick:T,danger:t.danger,type:t.type,children:t.children})})}},10032:function(Z,v,n){var E=n(5574),u=n.n(E),c=n(15009),h=n.n(c),C=n(99289),D=n.n(C),b=n(80821),R=n(3616),j=n(14946),A=n(48689),y=n(184),t=n(38345),p=n(60940),U=n(42075),x=n(96074),a=n(26412),O=n(67294),r=n(85893),W=(0,O.forwardRef)(function(T,_){(0,O.useImperativeHandle)(_,function(){return{show:function(L){return D()(h()().mark(function F(){var g,N;return h()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,j.IS)({name:L});case 2:g=P.sent,g.data.info.Containers?(N=[],Object.keys(g.data.info.Containers).map(function($){g.data.info.Containers[$].Id=$,N.push(g.data.info.Containers[$])}),f(N)):f([]),m(g.data.info),w(!0);case 6:case"end":return P.stop()}},F)}))()}}});var S=(0,O.useState)(!1),o=u()(S,2),M=o[0],w=o[1],I=(0,O.useState)(),d=u()(I,2),e=d[0],m=d[1],l=(0,O.useState)(),s=u()(l,2),K=s[0],f=s[1];return(0,r.jsx)(y.a,{drawerProps:{width:R.R_},title:"\u7F51\u7EDC\u8BE6\u60C5",open:M,onOpenChange:function(L){w(L)},submitter:!1,children:(0,r.jsxs)(t.Z,{ghost:!0,direction:"column",gutter:[10,0],children:[(0,r.jsx)(t.Z,{title:"\u7F51\u7EDC\u5185\u5BB9\u5668",ghost:!0,children:(0,r.jsx)(p.Z,{rowKey:"Id",columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"Name"},{title:"IPV4",dataIndex:"IPv4Address"},{title:"IPV6",dataIndex:"IPv6Address"},{title:"MacAddress",dataIndex:"MacAddress"},{title:"\u64CD\u4F5C",render:function(L,F,g){return(0,r.jsx)(U.Z,{split:(0,r.jsx)(x.Z,{type:"vertical"}),children:(0,r.jsx)(b.Z,{type:"text",action:function(){var B,P;return(0,j.t9)({name:(B=e==null?void 0:e.Id)!==null&&B!==void 0?B:"",containerName:(P=F.Id)!==null&&P!==void 0?P:""})},onSuccess:function(){var B=K==null?void 0:K.filter(function(P){return P.Id!=F.Id});f(B)},children:(0,r.jsx)(A.Z,{})},"delete")})}}],dataSource:K,pagination:!1})}),(0,r.jsx)(t.Z,{ghost:!0,title:"\u57FA\u7840\u4FE1\u606F",children:(0,r.jsxs)(a.Z,{labelStyle:{width:"180px"},column:1,bordered:!0,children:[(0,r.jsx)(a.Z.Item,{label:"\u540D\u79F0",children:e==null?void 0:e.Name}),(0,r.jsx)(a.Z.Item,{label:"Id",children:e==null?void 0:e.Id}),(0,r.jsx)(a.Z.Item,{label:"Driver",children:e==null?void 0:e.Driver}),(0,r.jsx)(a.Z.Item,{label:"Scope",children:e==null?void 0:e.Scope}),(0,r.jsx)(a.Z.Item,{label:"Attachable",children:e!=null&&e.Attachable?"\u662F":"\u5426"}),(0,r.jsx)(a.Z.Item,{label:"Internal",children:e!=null&&e.Internal?"\u662F":"\u5426"}),(e==null?void 0:e.IPAM.Config)&&(e==null?void 0:e.IPAM.Config.map(function(i){return(0,r.jsx)(a.Z.Item,{label:i.Gateway.includes(":")?"IPV6":"IPV4",children:(0,r.jsxs)(a.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:[(0,r.jsx)(a.Z.Item,{label:"Subnet",children:i.Subnet}),(0,r.jsx)(a.Z.Item,{label:"Gateway",children:i.Gateway}),(0,r.jsx)(a.Z.Item,{label:"IP Range ",children:i.IPRange}),(0,r.jsx)(a.Z.Item,{label:"Excluded IPs",children:i.AuxiliaryAddresses&&Object.keys(i.AuxiliaryAddresses).map(function(L){return i.AuxiliaryAddresses[L]+" ,"})})]})})})),(e==null?void 0:e.Options)&&Object.keys(e==null?void 0:e.Options).length>0&&(0,r.jsx)(a.Z.Item,{label:"Options",children:(0,r.jsx)(a.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Options).map(function(i){return(0,r.jsx)(a.Z.Item,{label:i,children:e.Options[i]},i)})})}),(e==null?void 0:e.Labels)&&Object.keys(e==null?void 0:e.Labels).length>0&&(0,r.jsx)(a.Z.Item,{label:"Lables",children:(0,r.jsx)(a.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Labels).map(function(i){return(0,r.jsx)(a.Z.Item,{label:i,children:e.Labels[i]},i)})})})]})})]})})});v.Z=W},3616:function(Z,v,n){n.d(v,{Ed:function(){return h},FK:function(){return u},R_:function(){return E},ob:function(){return c}});var E=window.innerWidth<=1024?"90vw":"65vw",u="90vw",c="60vw",h="50vh"},24963:function(Z,v,n){var E=n(67294),u=(0,E.createContext)({});v.Z=u},6005:function(Z,v,n){n.r(v),n.d(v,{default:function(){return S}});var E=n(15009),u=n.n(E),c=n(99289),h=n.n(c),C=n(1699),D=n(80821),b=n(28230),R=n(10032),j=n(14946),A=n(67255),y=n(43425),t=n(90078),p=n(41482),U=n(82346),x=n(66309),a=n(42075),O=n(96074),r=n(28036),W=n(83062),T=n(67294),_=n(85893);function S(){var o=(0,T.useRef)(),M=(0,T.useRef)(),w=(0,U.useAccess)();return(0,_.jsxs)(t._z,{header:{extra:[(0,_.jsx)(C.u,{access:"canSeeDockerNetworkManage",children:(0,_.jsx)(b.Z,{onFinish:function(){var d,e;!((d=o.current)===null||d===void 0)&&d.reloadAndRest&&((e=o.current)===null||e===void 0||e.reloadAndRest())}},"create")},"create")]},children:[(0,_.jsx)(R.Z,{ref:M}),(0,_.jsx)(p.Z,{scroll:{x:"max-content"},rowKey:"Name",columns:[{title:"\u540D\u79F0",ellipsis:!0,dataIndex:"Name",render:function(d,e,m,l,s){return e.Name=="none"||e.Name=="bridge"||e.Name=="host"?(0,_.jsxs)(_.Fragment,{children:[e.Name," ",(0,_.jsx)(x.Z,{color:"blue",children:"System"})]}):(0,_.jsx)(_.Fragment,{children:d})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",ellipsis:!0,width:150,search:!1,render:function(d,e,m,l,s){return e.IPAM.Config&&e.IPAM.Config[0]?(0,_.jsxs)(a.Z,{direction:"vertical",children:[(0,_.jsx)("div",{children:e.IPAM.Config&&e.IPAM.Config[0].Subnet}),(0,_.jsx)("div",{children:e.IPAM.Config&&e.IPAM.Config[0].Gateway})]}):"-"}},{title:"IPV6",ellipsis:!0,width:150,search:!1,render:function(d,e,m,l,s){return e.IPAM.Config&&e.IPAM.Config[1]?(0,_.jsxs)(a.Z,{direction:"vertical",children:[(0,_.jsx)("div",{children:e.IPAM.Config&&e.IPAM.Config[1].Subnet}),(0,_.jsx)("div",{children:e.IPAM.Config&&e.IPAM.Config[1].Gateway})]}):"-"}},{title:"\u521B\u5EFA\u65F6\u95F4",ellipsis:!0,width:180,search:!1,dataIndex:"Created",render:function(d,e,m,l,s){return new Date(e.Created).toLocaleString()}},{title:"\u64CD\u4F5C",width:100,search:!1,fixed:"right",hidden:!w.canSeeDockerNetworkManage,render:function(d,e,m,l,s){return(0,_.jsx)(a.Z,{split:(0,_.jsx)(O.Z,{type:"vertical"}),children:(0,_.jsx)(r.ZP,{type:"link",onClick:function(){var f;(f=M.current)===null||f===void 0||f.show(e.Name)},children:(0,_.jsx)(W.Z,{title:"\u7BA1\u7406",children:(0,_.jsx)(y.Z,{})})})})}}],request:function(){var I=h()(u()().mark(function d(e,m,l){var s;return u()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,j.jR)({name:e.Name});case 2:return s=f.sent,f.abrupt("return",{data:s.data.list,success:!0,total:s.data.list.length});case 4:case"end":return f.stop()}},d)}));return function(d,e,m){return I.apply(this,arguments)}}(),rowSelection:w.canSeeDockerNetworkManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,actionRef:o,tableAlertOptionRender:function(d){var e=d.selectedRowKeys;return(0,_.jsxs)(a.Z,{size:16,children:[(0,_.jsx)(D.Z,{danger:!0,type:"primary",action:function(){return(0,j._x)({name:e})},onSuccess:function(){var l,s;return!((l=o.current)===null||l===void 0)&&l.reloadAndRest&&((s=o.current)===null||s===void 0||s.reloadAndRest()),!0},onError:function(){var l,s;return!((l=o.current)===null||l===void 0)&&l.reset&&((s=o.current)===null||s===void 0||s.reset()),!0},confirm:"notification.confirm.title",children:"\u6279\u91CF\u5220\u9664"},"delete"),(0,_.jsx)(D.Z,{action:function(){return(0,j.CI)()},onSuccess:function(){var l,s;return!((l=o.current)===null||l===void 0)&&l.reloadAndRest&&((s=o.current)===null||s===void 0||s.reloadAndRest()),!0},onError:function(){var l,s;return!((l=o.current)===null||l===void 0)&&l.reset&&((s=o.current)===null||s===void 0||s.reset()),!0},confirm:"notification.confirm.title",children:"\u6E05\u7406\u672A\u4F7F\u7528\u7F51\u7EDC"},"clearNotUse")]})},pagination:(0,A.O)()})]})}},67255:function(Z,v,n){n.d(v,{O:function(){return E},j:function(){return u}});function E(){var c=localStorage.getItem("dpanel-pagesize");return c=="all"?!1:{showSizeChanger:!0,defaultPageSize:parseInt(c!=null?c:"20")}}function u(c){var h="dpanel-table-column-".concat(c),C={};if(localStorage.getItem(h)){var D;C=JSON.parse((D=localStorage.getItem(h))!==null&&D!==void 0?D:"{}")}return{defaultValue:C,onChange:function(R){localStorage.setItem("dpanel-table-column-".concat(c),JSON.stringify(R))}}}}}]);
