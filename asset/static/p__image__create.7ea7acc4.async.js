"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7523],{86615:function(le,G,e){var v=e(1413),u=e(45987),U=e(22270),s=e(78045),g=e(67294),Z=e(90789),B=e(35510),r=e(85893),b=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],j=g.forwardRef(function(h,d){var W=h.fieldProps,t=h.options,a=h.radioType,m=h.layout,o=h.proFieldProps,F=h.valueEnum,_=(0,u.Z)(h,b);return(0,r.jsx)(B.Z,(0,v.Z)((0,v.Z)({valueType:a==="button"?"radioButton":"radio",ref:d,valueEnum:(0,U.h)(F,void 0)},_),{},{fieldProps:(0,v.Z)({options:t,layout:m},W),proFieldProps:o,filedConfig:{customLightMode:!0}}))}),I=g.forwardRef(function(h,d){var W=h.fieldProps,t=h.children;return(0,r.jsx)(s.ZP,(0,v.Z)((0,v.Z)({},W),{},{ref:d,children:t}))}),c=(0,Z.G)(I,{valuePropName:"checked",ignoreWidth:!0}),$=c;$.Group=j,$.Button=s.ZP.Button,$.displayName="ProFormComponent",G.Z=$},90672:function(le,G,e){var v=e(1413),u=e(45987),U=e(67294),s=e(35510),g=e(85893),Z=["fieldProps","proFieldProps"],B=function(b,j){var I=b.fieldProps,c=b.proFieldProps,$=(0,u.Z)(b,Z);return(0,g.jsx)(s.Z,(0,v.Z)({ref:j,valueType:"textarea",fieldProps:I,proFieldProps:c},$))};G.Z=U.forwardRef(B)},184:function(le,G,e){e.d(G,{a:function(){return P}});var v=e(4942),u=e(74165),U=e(15861),s=e(1413),g=e(97685),Z=e(45987),B=e(12044),r=e(51812),b=e(48171),j=e(73177),I=e(21532),c=e(85265),$=e(93967),h=e.n($),d=e(55917),W=e(21770),t=e(80334),a=e(67294),m=e(73935),o=e(89671),F=e(98082),_=function(D){return(0,v.Z)({},D.componentCls,{"&-sidebar-dragger":{width:"5px",cursor:"ew-resize",padding:"4px 0 0",borderTop:"1px solid transparent",position:"absolute",top:0,left:0,bottom:0,zIndex:100,backgroundColor:"transparent","&-min-disabled":{cursor:"w-resize"},"&-max-disabled":{cursor:"e-resize"}}})};function T(E){return(0,F.Xj)("DrawerForm",function(D){var l=(0,s.Z)((0,s.Z)({},D),{},{componentCls:".".concat(E)});return[_(l)]})}var f=e(85893),i=["children","trigger","onVisibleChange","drawerProps","onFinish","submitTimeout","title","width","resize","onOpenChange","visible","open"];function P(E){var D,l,ae=E.children,X=E.trigger,S=E.onVisibleChange,C=E.drawerProps,de=E.onFinish,oe=E.submitTimeout,ne=E.title,Y=E.width,A=E.resize,K=E.onOpenChange,q=E.visible,ee=E.open,M=(0,Z.Z)(E,i);(0,t.ET)(!M.footer||!(C!=null&&C.footer),"DrawerForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002");var y=a.useMemo(function(){var V,O,R,w={onResize:function(){},maxWidth:(0,B.j)()?window.innerWidth*.8:void 0,minWidth:300};return typeof A=="boolean"?A?w:{}:(0,r.Y)({onResize:(V=A==null?void 0:A.onResize)!==null&&V!==void 0?V:w.onResize,maxWidth:(O=A==null?void 0:A.maxWidth)!==null&&O!==void 0?O:w.maxWidth,minWidth:(R=A==null?void 0:A.minWidth)!==null&&R!==void 0?R:w.minWidth})},[A]),N=(0,a.useContext)(I.ZP.ConfigContext),Q=N.getPrefixCls("pro-form-drawer"),me=T(Q),fe=me.wrapSSR,Fe=me.hashId,ie=function(O){return"".concat(Q,"-").concat(O," ").concat(Fe)},ue=(0,a.useState)([]),ye=(0,g.Z)(ue,2),Pe=ye[1],pe=(0,a.useState)(!1),L=(0,g.Z)(pe,2),p=L[0],n=L[1],x=(0,a.useState)(!1),k=(0,g.Z)(x,2),z=k[0],re=k[1],H=(0,a.useState)(Y||(A?y==null?void 0:y.minWidth:800)),ve=(0,g.Z)(H,2),Te=ve[0],Ce=ve[1],Be=(0,W.Z)(!!q,{value:ee||q,onChange:K||S}),Oe=(0,g.Z)(Be,2),he=Oe[0],ce=Oe[1],_e=(0,a.useRef)(null),Ae=(0,a.useCallback)(function(V){_e.current===null&&V&&Pe([]),_e.current=V},[]),De=(0,a.useRef)(),Re=(0,a.useCallback)(function(){var V,O,R,w=(V=(O=(R=M.formRef)===null||R===void 0?void 0:R.current)!==null&&O!==void 0?O:M.form)!==null&&V!==void 0?V:De.current;w&&C!==null&&C!==void 0&&C.destroyOnClose&&w.resetFields()},[C==null?void 0:C.destroyOnClose,M.form,M.formRef]);(0,a.useEffect)(function(){he&&(ee||q)&&(K==null||K(!0),S==null||S(!0)),z&&Ce(y==null?void 0:y.minWidth)},[q,he,z]),(0,a.useImperativeHandle)(M.formRef,function(){return De.current},[De.current]);var te=(0,a.useMemo)(function(){return X?a.cloneElement(X,(0,s.Z)((0,s.Z)({key:"trigger"},X.props),{},{onClick:function(){var V=(0,U.Z)((0,u.Z)().mark(function R(w){var se,J;return(0,u.Z)().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:ce(!he),re(!Object.keys(y)),(se=X.props)===null||se===void 0||(J=se.onClick)===null||J===void 0||J.call(se,w);case 3:case"end":return ge.stop()}},R)}));function O(R){return V.apply(this,arguments)}return O}()})):null},[ce,X,he,re,z]),Ee=(0,a.useMemo)(function(){var V,O,R,w;return M.submitter===!1?!1:(0,d.Z)({searchConfig:{submitText:(V=(O=N.locale)===null||O===void 0||(O=O.Modal)===null||O===void 0?void 0:O.okText)!==null&&V!==void 0?V:"\u786E\u8BA4",resetText:(R=(w=N.locale)===null||w===void 0||(w=w.Modal)===null||w===void 0?void 0:w.cancelText)!==null&&R!==void 0?R:"\u53D6\u6D88"},resetButtonProps:{preventDefault:!0,disabled:oe?p:void 0,onClick:function(J){var Me;ce(!1),C==null||(Me=C.onClose)===null||Me===void 0||Me.call(C,J)}}},M.submitter)},[M.submitter,(D=N.locale)===null||D===void 0||(D=D.Modal)===null||D===void 0?void 0:D.okText,(l=N.locale)===null||l===void 0||(l=l.Modal)===null||l===void 0?void 0:l.cancelText,oe,p,ce,C]),je=(0,a.useCallback)(function(V,O){return(0,f.jsxs)(f.Fragment,{children:[V,_e.current&&O?(0,f.jsx)(a.Fragment,{children:(0,m.createPortal)(O,_e.current)},"submitter"):O]})},[]),Ze=(0,b.J)(function(){var V=(0,U.Z)((0,u.Z)().mark(function O(R){var w,se,J;return(0,u.Z)().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return w=de==null?void 0:de(R),oe&&w instanceof Promise&&(n(!0),se=setTimeout(function(){return n(!1)},oe),w.finally(function(){clearTimeout(se),n(!1)})),ge.next=4,w;case 4:return J=ge.sent,J&&ce(!1),ge.abrupt("return",J);case 7:case"end":return ge.stop()}},O)}));return function(O){return V.apply(this,arguments)}}()),Ie=(0,j.X)(he,S),xe=(0,a.useCallback)(function(V){var O,R,w=(document.body.offsetWidth||1e3)-(V.clientX-document.body.offsetLeft),se=(O=y==null?void 0:y.minWidth)!==null&&O!==void 0?O:Y||800,J=(R=y==null?void 0:y.maxWidth)!==null&&R!==void 0?R:window.innerWidth*.8;if(w<se){Ce(se);return}if(w>J){Ce(J);return}Ce(w)},[y==null?void 0:y.maxWidth,y==null?void 0:y.minWidth,Y]),be=(0,a.useCallback)(function(){document.removeEventListener("mousemove",xe),document.removeEventListener("mouseup",be)},[xe]);return fe((0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(c.Z,(0,s.Z)((0,s.Z)((0,s.Z)({title:ne,width:Te},C),Ie),{},{afterOpenChange:function(O){var R;O||Re(),C==null||(R=C.afterOpenChange)===null||R===void 0||R.call(C,O)},onClose:function(O){var R;oe&&p||(ce(!1),C==null||(R=C.onClose)===null||R===void 0||R.call(C,O))},footer:M.submitter!==!1&&(0,f.jsx)("div",{ref:Ae,style:{display:"flex",justifyContent:"flex-end"}}),children:[A?(0,f.jsx)("div",{className:h()(ie("sidebar-dragger"),Fe,(0,v.Z)((0,v.Z)({},ie("sidebar-dragger-min-disabled"),Te===(y==null?void 0:y.minWidth)),ie("sidebar-dragger-max-disabled"),Te===(y==null?void 0:y.maxWidth))),onMouseDown:function(O){var R;y==null||(R=y.onResize)===null||R===void 0||R.call(y),O.stopPropagation(),O.preventDefault(),document.addEventListener("mousemove",xe),document.addEventListener("mouseup",be),re(!0)}}):null,(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(o.I,(0,s.Z)((0,s.Z)({formComponentType:"DrawerForm",layout:"vertical"},M),{},{formRef:De,onInit:function(O,R){var w;M.formRef&&(M.formRef.current=R),M==null||(w=M.onInit)===null||w===void 0||w.call(M,O,R),De.current=R},submitter:Ee,onFinish:function(){var V=(0,U.Z)((0,u.Z)().mark(function O(R){var w;return(0,u.Z)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,Ze(R);case 2:return w=J.sent,J.abrupt("return",w);case 4:case"end":return J.stop()}},O)}));return function(O){return V.apply(this,arguments)}}(),contentRender:je,children:ae}))})]})),te]}))}},37476:function(le,G,e){e.d(G,{Y:function(){return t}});var v=e(74165),u=e(15861),U=e(1413),s=e(97685),g=e(45987),Z=e(73177),B=e(21532),r=e(85576),b=e(55917),j=e(21770),I=e(80334),c=e(67294),$=e(73935),h=e(89671),d=e(85893),W=["children","trigger","onVisibleChange","onOpenChange","modalProps","onFinish","submitTimeout","title","width","visible","open"];function t(a){var m,o,F=a.children,_=a.trigger,T=a.onVisibleChange,f=a.onOpenChange,i=a.modalProps,P=a.onFinish,E=a.submitTimeout,D=a.title,l=a.width,ae=a.visible,X=a.open,S=(0,g.Z)(a,W);(0,I.ET)(!S.footer||!(i!=null&&i.footer),"ModalForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002");var C=(0,c.useContext)(B.ZP.ConfigContext),de=(0,c.useState)([]),oe=(0,s.Z)(de,2),ne=oe[1],Y=(0,c.useState)(!1),A=(0,s.Z)(Y,2),K=A[0],q=A[1],ee=(0,j.Z)(!!ae,{value:X||ae,onChange:f||T}),M=(0,s.Z)(ee,2),y=M[0],N=M[1],Q=(0,c.useRef)(null),me=(0,c.useCallback)(function(L){Q.current===null&&L&&ne([]),Q.current=L},[]),fe=(0,c.useRef)(),Fe=(0,c.useCallback)(function(){var L,p,n,x=(L=(p=S.form)!==null&&p!==void 0?p:(n=S.formRef)===null||n===void 0?void 0:n.current)!==null&&L!==void 0?L:fe.current;x&&i!==null&&i!==void 0&&i.destroyOnClose&&x.resetFields()},[i==null?void 0:i.destroyOnClose,S.form,S.formRef]);(0,c.useImperativeHandle)(S.formRef,function(){return fe.current},[fe.current]),(0,c.useEffect)(function(){(X||ae)&&(f==null||f(!0),T==null||T(!0))},[ae,X]);var ie=(0,c.useMemo)(function(){return _?c.cloneElement(_,(0,U.Z)((0,U.Z)({key:"trigger"},_.props),{},{onClick:function(){var L=(0,u.Z)((0,v.Z)().mark(function n(x){var k,z;return(0,v.Z)().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:N(!y),(k=_.props)===null||k===void 0||(z=k.onClick)===null||z===void 0||z.call(k,x);case 2:case"end":return H.stop()}},n)}));function p(n){return L.apply(this,arguments)}return p}()})):null},[N,_,y]),ue=(0,c.useMemo)(function(){var L,p,n,x,k,z;return S.submitter===!1?!1:(0,b.Z)({searchConfig:{submitText:(L=(p=i==null?void 0:i.okText)!==null&&p!==void 0?p:(n=C.locale)===null||n===void 0||(n=n.Modal)===null||n===void 0?void 0:n.okText)!==null&&L!==void 0?L:"\u786E\u8BA4",resetText:(x=(k=i==null?void 0:i.cancelText)!==null&&k!==void 0?k:(z=C.locale)===null||z===void 0||(z=z.Modal)===null||z===void 0?void 0:z.cancelText)!==null&&x!==void 0?x:"\u53D6\u6D88"},resetButtonProps:{preventDefault:!0,disabled:E?K:void 0,onClick:function(H){var ve;N(!1),i==null||(ve=i.onCancel)===null||ve===void 0||ve.call(i,H)}}},S.submitter)},[(m=C.locale)===null||m===void 0||(m=m.Modal)===null||m===void 0?void 0:m.cancelText,(o=C.locale)===null||o===void 0||(o=o.Modal)===null||o===void 0?void 0:o.okText,i,S.submitter,N,K,E]),ye=(0,c.useCallback)(function(L,p){return(0,d.jsxs)(d.Fragment,{children:[L,Q.current&&p?(0,d.jsx)(c.Fragment,{children:(0,$.createPortal)(p,Q.current)},"submitter"):p]})},[]),Pe=(0,c.useCallback)(function(){var L=(0,u.Z)((0,v.Z)().mark(function p(n){var x,k,z;return(0,v.Z)().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return x=P==null?void 0:P(n),E&&x instanceof Promise&&(q(!0),k=setTimeout(function(){return q(!1)},E),x.finally(function(){clearTimeout(k),q(!1)})),H.next=4,x;case 4:return z=H.sent,z&&N(!1),H.abrupt("return",z);case 7:case"end":return H.stop()}},p)}));return function(p){return L.apply(this,arguments)}}(),[P,N,E]),pe=(0,Z.X)(y);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.Z,(0,U.Z)((0,U.Z)((0,U.Z)({title:D,width:l||800},i),pe),{},{onCancel:function(p){var n;E&&K||(N(!1),i==null||(n=i.onCancel)===null||n===void 0||n.call(i,p))},afterClose:function(){var p;Fe(),y&&N(!1),i==null||(p=i.afterClose)===null||p===void 0||p.call(i)},footer:S.submitter!==!1?(0,d.jsx)("div",{ref:me,style:{display:"flex",justifyContent:"flex-end"}}):null,children:(0,d.jsx)(h.I,(0,U.Z)((0,U.Z)({formComponentType:"ModalForm",layout:"vertical"},S),{},{onInit:function(p,n){var x;S.formRef&&(S.formRef.current=n),S==null||(x=S.onInit)===null||x===void 0||x.call(S,p,n),fe.current=n},formRef:fe,submitter:ue,onFinish:function(){var L=(0,u.Z)((0,v.Z)().mark(function p(n){var x;return(0,v.Z)().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,Pe(n);case 2:return x=z.sent,z.abrupt("return",x);case 4:case"end":return z.stop()}},p)}));return function(p){return L.apply(this,arguments)}}(),contentRender:ye,children:F}))})),ie]})}},65805:function(le,G,e){e.d(G,{Z:function(){return d}});var v=e(97961),u=e(1413),U=e(45987),s=e(88484),g=e(31365),Z=e(28036),B=e(67294),r=e(9105),b=e(90789),j=e(85893),I=["fieldProps","action","accept","listType","title","max","icon","buttonProps","disabled","proFieldProps"],c=function(t,a){var m,o=t.fieldProps,F=t.action,_=t.accept,T=t.listType,f=t.title,i=f===void 0?"\u5355\u51FB\u4E0A\u4F20":f,P=t.max,E=t.icon,D=E===void 0?(0,j.jsx)(s.Z,{}):E,l=t.buttonProps,ae=t.disabled,X=t.proFieldProps,S=(0,U.Z)(t,I),C=(0,B.useMemo)(function(){var A;return(A=S.fileList)!==null&&A!==void 0?A:S.value},[S.fileList,S.value]),de=(0,B.useContext)(r.A),oe=(X==null?void 0:X.mode)||de.mode||"edit",ne=(P===void 0||!C||(C==null?void 0:C.length)<P)&&oe!=="read",Y=(T!=null?T:o==null?void 0:o.listType)==="picture-card";return(0,j.jsx)(g.Z,(0,u.Z)((0,u.Z)({action:F,accept:_,ref:a,listType:T||"picture",fileList:C},o),{},{name:(m=o==null?void 0:o.name)!==null&&m!==void 0?m:"file",onChange:function(K){var q;o==null||(q=o.onChange)===null||q===void 0||q.call(o,K)},children:ne&&(Y?(0,j.jsxs)("span",{children:[D," ",i]}):(0,j.jsxs)(Z.ZP,(0,u.Z)((0,u.Z)({disabled:ae||(o==null?void 0:o.disabled)},l),{},{children:[D,i]})))}))},$=(0,b.G)(B.forwardRef(c),{getValueFromEvent:function(t){return t.fileList}}),h=$;function d(W){return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(h,{max:1,title:W.title,label:W.label,required:W.required,rules:[{required:W.required}],fieldProps:{name:"file",accept:W.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(a){return new Promise(function(m){var o;(0,v._2)({path:(o=a.response.data.path)!==null&&o!==void 0?o:""}).then(function(F){m(!0)})})}},name:W.name})})}},74344:function(le,G,e){var v=e(5574),u=e.n(v),U=e(37476),s=e(38345),g=e(63713),Z=e(67294),B=e(54964),r=e(85893),b=(0,Z.forwardRef)(function(j,I){(0,Z.useImperativeHandle)(I,function(){return{start:function(){for(var T=arguments.length,f=new Array(T),i=0;i<T;i++)f[i]=arguments[i];m(f.join(":")),d(!0)},reset:function(){var T;(T=F.current)===null||T===void 0||T.clear(),d(!1)},show:function(T){var f,i;(f=F.current)===null||f===void 0||f.clear(),(i=F.current)===null||i===void 0||i.write(T),d(!0)}}});var c=(0,Z.useState)(!1),$=u()(c,2),h=$[0],d=$[1],W=(0,Z.useState)(""),t=u()(W,2),a=t[0],m=t[1],o=(0,g.useModel)("subscriber"),F=(0,Z.useRef)();return o.addDataHandler("image:"+a,function(_){var T;(T=F.current)===null||T===void 0||T.write(_.data)}),(0,Z.useEffect)(function(){var _;(_=F.current)===null||_===void 0||_.fit()},[]),(0,r.jsx)(U.Y,{modalProps:{forceRender:!0},title:"\u6784\u5EFA\u65E5\u5FD7",submitter:!1,width:1e3,onOpenChange:function(T){if(d(T),T){var f,i;(f=F.current)===null||f===void 0||f.clear(),(i=F.current)===null||i===void 0||i.fit()}},open:h,children:(0,r.jsx)(s.Z,{ghost:!0,children:(0,r.jsx)(B.Z,{showInModal:!0,width:"960px",height:"500px",ref:F})})})});G.Z=b},89063:function(le,G,e){e.d(G,{Z:function(){return r}});var v=e(24963),u=e(88484),U=e(62370),s=e(31418),g=e(28036),Z=e(67294),B=e(85893);function r(b){var j=(0,Z.useContext)(v.Z),I=j.message,c=j.notice,$=j.lang,h=(0,Z.useRef)(null),d=s.Z.useApp(),W=function(){h.current&&(h.current.click(),h.current.onchange=function(a){if(!a||!a.target)return"";var m=new FileReader;m.onload=function(F){var _,T,f=(_=F.target)===null||_===void 0?void 0:_.result;if(b.onLoad)try{b.onLoad&&b.onLoad(f)}catch(i){c.error(i);return}typeof b.onImport=="function"&&(I.success("\u6210\u529F\u5BFC\u5165 ".concat(b.title)),b.onImport(f)),(T=h.current)!==null&&T!==void 0&&T.value&&(h.current.value="")};var o=a.target;if(o.files)try{m.readAsText(o.files[0])}catch(F){c.error("\u5BFC\u5165\u6587\u4EF6\u5FC5\u987B\u662F\u6587\u672C\u7C7B\u578B")}})};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(U.Z,{children:(0,B.jsx)(g.ZP,{icon:(0,B.jsx)(u.Z,{}),block:!0,onClick:W,children:b.title})}),(0,B.jsx)("input",{style:{display:"none"},type:"file",ref:h,name:"importFileInput"})]})}},54964:function(le,G,e){e.d(G,{a:function(){return j}});var v=e(78267),u=e.n(v),U=e(75458),s=e.n(U),g=e(67294),Z=e(12320),B=e.n(Z),r=e(89629),b=e(85893),j={convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,cursorStyle:"block",cursorBlink:!0,theme:{foreground:"#bfbfbf",cursor:"gray",selectionForeground:"#ffffff"}},I=new Z.Terminal(j),c=new U.SearchAddon,$=new v.FitAddon,h=(0,g.forwardRef)(function(d,W){return(0,g.useEffect)(function(){window.addEventListener("resize",function(){d.showInModal||$.fit()}),d.style&&d.style.fontSize&&(I.options.fontSize=d.style.fontSize),I.loadAddon($),I.loadAddon(c),I.open(document.getElementById("terminal-container")),d.showInModal||$.fit()},[]),(0,g.useImperativeHandle)(W,function(){return{write:function(a){I.write(a)},clear:function(){I.clear()},getTerminal:function(){return I},findNext:function(a){c.findNext(a)},findPrev:function(a){c.findPrevious(a)},fit:function(){$.fit()},onData:function(a){I.onData(a)}}}),(0,b.jsx)("div",{id:"terminal-container",style:{width:d.width?d.width:"100%",height:d.height?d.height:"500px"}})});G.Z=h},24963:function(le,G,e){var v=e(67294),u=(0,v.createContext)({});G.Z=u},77096:function(le,G,e){e.r(G),e.d(G,{default:function(){return oe}});var v=e(15009),u=e.n(v),U=e(99289),s=e.n(U),g=e(5574),Z=e.n(g),B=e(5966),r=e(85893);function b(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(B.Z,{fieldProps:{min:2,max:255},rules:[{required:!0}],required:!0,placeholder:"\u6307\u5B9AGit\u5730\u5740\uFF0C\u79C1\u6709\u4ED3\u5E93\u8BF7\u9644\u52A0\u6743\u9650\u3002\u4EC5\u652F\u6301Master\u5206\u652F",label:"Git\u4ED3\u5E93\u5730\u5740",name:"buildGit"})})}var j=e(65805),I=e(74344),c=e(67294),$=e(89063),h=e(95089),d=e(62370),W=e(184),t=e(86615),a=e(97462),m=e(97961),o=e(28036),F=e(34041);function _(ne){var Y=(0,c.useState)([]),A=Z()(Y,2),K=A[0],q=A[1];return(0,c.useEffect)(function(){(0,m.MF)().then(function(ee){var M=Object.keys(ee.data).map(function(y){return ee.data[y]});q(M)})},[]),(0,r.jsx)(d.Z,{children:(0,r.jsxs)(W.a,{trigger:(0,r.jsx)(o.ZP,{block:!0,children:"\u4F7F\u7528\u6A21\u677F\u751F\u6210"}),onFinish:function(M){return new Promise(function(y,N){var Q=M[M.language+"EnvVersion"].split("|"),me=Z()(Q,2),fe=me[0],Fe=me[1],ie="FROM ".concat(fe,`
# \u5E94\u7528\u76EE\u5F55\u4F4D\u4E8E /app
# \u53EF\u901A\u7BA1\u5BB9\u5668 - \u6587\u4EF6\u7BA1\u7406, \u4E0A\u4F20\u4EE3\u7801\u81F3\u6B64\u76EE\u5F55\u5E76\u4FEE\u6539\u6743\u9650

WORKDIR /app
VOLUME [ "/app" ]
EXPOSE 80

# \u81EA\u5B9A\u4E49\u5B89\u88C5\u7EC4\u4EF6\u3001\u6269\u5C55\u6216\u662F\u5E93, \u4F8B\u5982:
# RUN apk add --no-cache --update vim
`);switch(M.language){case"php":ie+=`
                
# \u7AD9\u70B9\u76EE\u5F55\u4F4D\u4E8E /app/wwwroot \u53EF\u4E0A\u4F20\u6216\u662F\u4FEE\u6539\u7AD9\u70B9\u6587\u4EF6
# nginx \u914D\u7F6E\u4F4D\u4E8E /app/nginx/ \u53EF\u4FEE\u6539\u589E\u52A0\u81EA\u5B9A\u4E49\u914D\u7F6E
# \u901A\u8FC7\u8BBF\u95EE\u5BB9\u5668\u8FD0\u884C\u6620\u5C04\u7AEF\u53E3\uFF0C\u67E5\u770B\u73AF\u5883\u53CA\u6269\u5C55\u4FE1\u606F

`,M.language=="php"&&M.phpExt&&(ie+="RUN apk add --no-cache --update ",M.phpExt.map(function(ue){ie+="php".concat(Fe,"-").concat(ue," ")}));break;case"golang":ie+=`
# \u53EF\u4EE5\u4FEE\u6539 RUN_COMMAND \u73AF\u5883\u53D8\u91CF, \u66F4\u6539\u542F\u52A8\u6267\u884C\u547D\u4EE4
ENV RUN_COMMAND="go version"`;break;default:break}ne.onFinish(ie),y(!0)})},children:[(0,r.jsx)(t.Z.Group,{radioType:"button",name:"language",label:"\u7A0B\u5E8F\u8BED\u8A00",options:K.map(function(ee){return{label:ee.name,value:ee.name}}),required:!0}),(0,r.jsx)(a.Z,{name:["language"],children:function(M){var y=M.language;return y?(0,r.jsx)(r.Fragment,{children:K.map(function(N){if(N.name==y)return(0,r.jsxs)("div",{children:[(0,r.jsx)(d.Z,{name:"".concat(N.name,"EnvVersion"),label:"\u73AF\u5883\u7248\u672C",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7A0B\u5E8F\u8FD0\u884C\u7684\u73AF\u5883"}],children:(0,r.jsx)(F.Z,{options:N.env.map(function(Q){return{label:Q.name,value:Q.baseImage}}),placeholder:"\u8BF7\u9009\u62E9\u5177\u4F53\u7684\u73AF\u5883\u7248\u672C"},"".concat(N.name,"Select"))},N.name),N.name=="php"&&(0,r.jsx)(d.Z,{label:"php\u6269\u5C55",name:"phpExt",children:(0,r.jsx)(F.Z,{options:N.ext.map(function(Q){return{label:Q,value:Q}}),mode:"multiple",placeholder:"\u8BF7\u9009\u62E9\u8981\u5B89\u88C5\u7684php\u6269\u5C55"},"phpExtSelect")},"phpExt")]},"envSelect")})}):(0,r.jsx)(r.Fragment,{})}})]})})}function T(ne){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)($.Z,{title:"\u5BFC\u5165\u672C\u5730Dockerfile\u6587\u4EF6",onImport:function(A){var K;return(K=ne.createFormRef.current)===null||K===void 0||K.setFieldValue("buildDockerfile",A),!0},onLoad:function(A){if(A.indexOf("FROM ")<0)throw new Error("\u5BFC\u5165Dockerfile\u6587\u4EF6\u9519\u8BEF");return!0}}),(0,r.jsx)(_,{onFinish:function(A){var K;(K=ne.createFormRef.current)===null||K===void 0||K.setFieldValue("buildDockerfile",A)}}),(0,r.jsx)(d.Z,{shouldUpdate:!0,children:function(A){var K=A.getFieldValue;return(0,r.jsx)(d.Z,{name:"buildDockerfile",children:(0,r.jsx)(h.ZP,{value:K("buildDockerfile"),onChange:function(ee){var M;(M=ne.createFormRef.current)===null||M===void 0||M.setFieldValue("buildDockerfile",ee)},height:"600px",theme:"dark",style:{marginBottom:"20px"}})})}})]})}var f=e(24963),i=e(18148),P=e(75870),E=e(38345),D=e(97269),l=e(64317),ae=e(90672),X=e(63713),S=e(42075),C=e(83062),de=e(91845);function oe(){var ne=(0,c.useContext)(f.Z),Y=ne.loading,A=ne.message,K=(0,c.useRef)(),q=(0,c.useState)([]),ee=Z()(q,2),M=ee[0],y=ee[1],N=(0,X.useSearchParams)(),Q=Z()(N,2),me=Q[0],fe=Q[1],Fe=(0,c.useState)("dockerfile"),ie=Z()(Fe,2),ue=ie[0],ye=ie[1],Pe=(0,X.useNavigate)(),pe=(0,c.useRef)();return(0,c.useEffect)(function(){var L,p=(L=me.get("id"))!==null&&L!==void 0?L:0;p&&(Y.show(),(0,i.T8)({id:parseInt(p)}).then(function(n){var x;ye(n.data.task.buildType),(x=K.current)===null||x===void 0||x.setFieldsValue({title:n.data.task.title,imageTag:n.data.task.tag,imageRegistry:n.data.task.setting.registry,uploadType:n.data.task.buildType,buildRoot:n.data.task.setting.buildRoot,buildGit:n.data.task.setting.buildGit,buildDockerfile:n.data.task.setting.buildDockerfile,platform:n.data.task.setting.platform})}).finally(function(){Y.destroy()}))},[]),(0,r.jsxs)(E.Z,{direction:"column",ghost:!0,gutter:[0,10],children:[(0,r.jsx)(E.Z,{bordered:!0,headerBordered:!0,children:(0,r.jsxs)(D.A,{submitter:{render:function(p,n){return(0,r.jsx)(S.Z,{children:n})}},onFinish:function(){var L=s()(u()().mark(function p(n){var x,k,z,re,H,ve,Te,Ce,Be,Oe,he,ce,_e,Ae,De;return u()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(ue!="containerTar"){te.next=8;break}return te.next=3,(0,m.vC)({tag:n.imageTag,registry:n.imageRegistry,tar:(x=n.containerTar[0].response.data.path)!==null&&x!==void 0?x:"",cmd:n.cmd,workDir:n.workDir,expose:n.expose?n.expose.split(`
`):[],env:n.env?n.env.split(`
`):[],volume:n.volume?n.volume.split(`
`):[]});case 3:return k=te.sent,Pe("/image/list"),te.abrupt("return",!0);case 8:if(ue!="imageTar"){te.next=19;break}return(z=pe.current)===null||z===void 0||z.start("import",n.imageTag),te.next=12,(0,m.GH)({tag:n.imageTag,registry:n.imageRegistry,tar:(re=n.imageTar[0].response.data.path)!==null&&re!==void 0?re:""});case 12:return ve=te.sent,ve.data.tag&&ve.data.tag.map(function(Ee){A.success("\u5BFC\u5165 "+Ee+" \u955C\u50CF\u6210\u529F")}),(H=pe.current)===null||H===void 0||H.reset(),Pe("/image/list"),te.abrupt("return",!0);case 19:return Oe=(Te=me.get("id"))!==null&&Te!==void 0?Te:"0",he=M&&M[0]?M[0].fileName:"",ce={name:"",arch:""},m.ii.map(function(Ee){Ee.name==n.platform&&(ce=Ee)}),_e={id:parseInt(Oe),tag:n.imageTag,title:n.title,registry:n.imageRegistry,buildRoot:n.buildRoot,buildDockerfile:n.buildDockerfile,buildZip:he!=null?he:"",buildGit:n.buildGit,buildType:ue,platform:ce.name,PlatformArch:ce.arch},n.buildZip&&n.buildZip.length>0&&(_e.buildZip=(Ae=n.buildZip[0].response.data.path)!==null&&Ae!==void 0?Ae:""),(Ce=pe.current)===null||Ce===void 0||Ce.start("build",Oe),te.next=28,(0,m.fN)(_e).finally(function(){var Ee;(Ee=pe.current)===null||Ee===void 0||Ee.reset()});case 28:return De=te.sent,(Be=pe.current)===null||Be===void 0||Be.reset(),Pe("/image/list/recycle"),te.abrupt("return",!0);case 32:case"end":return te.stop()}},p)}));return function(p){return L.apply(this,arguments)}}(),formRef:K,children:[(0,r.jsx)(B.Z,{label:"\u4EFB\u52A1\u540D\u79F0",name:"title",fieldProps:{onChange:function(p){var n="";if(p.target.value){var x,k=(0,de.N9)(p.target.value.trim(),{toneType:"none",type:"array"});n=k.join(""),(x=K.current)===null||x===void 0||x.setFieldValue("imageTag",n)}}}}),(0,r.jsx)(a.Z,{name:["uploadType"],children:function(p){var n=p.uploadType;if(n!="imageTar")return(0,r.jsx)(l.Z,{label:"\u955C\u50CF\u4ED3\u5E93",tooltip:(0,r.jsxs)(r.Fragment,{children:["\u63A8\u9001\u524D\u8BF7\u4FDD\u8BC1\u4ED3\u5E93\u4E2D\u6709\u6307\u5B9A\u7684\u547D\u540D\u7A7A\u95F4, \u5982\u6CA1\u6709\u8BF7\u5148 ",(0,r.jsx)("a",{href:"",target:"_blank",children:"\u6DFB\u52A0\u4ED3\u5E93"})]}),name:"imageRegistry",request:s()(u()().mark(function x(){var k;return u()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=2,(0,P.Ot)();case 2:return k=re.sent,re.abrupt("return",k.data.list.map(function(H){return{value:H.serverAddress,label:H.title+"("+H.serverAddress+")"}}));case 4:case"end":return re.stop()}},x)}))})}}),(0,r.jsx)(a.Z,{name:["imageRegistry","uploadType"],children:function(p){var n=p.imageRegistry,x=p.uploadType;if(x!="imageTar")return(0,r.jsx)(B.Z,{fieldProps:{min:2,max:255,addonBefore:"".concat(n||"","/")},rules:[{required:!0}],required:!0,tooltip:"\u4F8B\u5982: name:tag\u3001namespace/name:tag\u3001registry/namespace/name:tag",placeholder:"\u53EA\u80FD\u4F7F\u7528\u5C0F\u5199\u82F1\u6587\u5B57\u7B26\u3001\u6570\u5B57\u3001_\u3001-\u3001",label:"\u955C\u50CFTag",name:"imageTag"})}}),(0,r.jsx)(t.Z.Group,{name:"uploadType",label:"\u6784\u5EFA\u65B9\u5F0F",initialValue:ue,options:[{label:(0,r.jsx)(C.Z,{title:"\u901A\u8FC7 Dockerfile \u6587\u4EF6\u5FEB\u901F\u6784\u5EFA\u955C\u50CF",children:"Dockerfile"}),value:"dockerfile"},{label:(0,r.jsx)(C.Z,{title:"\u5C06 Dockerfile \u6587\u4EF6\u4E0E\u6784\u5EFA\u955C\u50CF\u7528\u5230\u7684\u8D44\u6E90\uFF0C\u901A\u8FC7\u4E0A\u4F20 Zip \u5305\u7684\u5F62\u5F0F\u6784\u5EFA\u955C\u50CF",children:"Zip\u5305"}),value:"zip"},{label:(0,r.jsx)(C.Z,{title:"\u5C06 Dockerfile \u6587\u4EF6\u4E0E\u6784\u5EFA\u955C\u50CF\u7528\u5230\u7684\u8D44\u6E90\u653E\u7F6E\u5230 Git \u4ED3\u5E93\u4E2D\uFF0C\u53EF\u4EE5\u6301\u7EED\u6027\u7684\u6784\u5EFA\u955C\u50CF",children:"Git\u6E90\u7801\u4ED3\u5E93"}),value:"git"},{label:(0,r.jsx)(C.Z,{title:"\u4E0A\u4F20\u5BB9\u5668\u5BFC\u51FA\u7684 Tar \u5305\uFF0C\u5E76\u81EA\u5B9A\u4E49\u53C2\u6570\u6784\u5EFA\u955C\u50CF\u3002\u5982\u679C\u4F60\u4E0D\u9700\u8981\u4FEE\u6539\u5BB9\u5668\u539F\u59CB\u914D\u7F6E\uFF0C\u53EF\u4EE5\u5728\u5BB9\u5668\u8BE6\u60C5\u9875\u4F7F\u7528\u3010\u5C06\u5BB9\u5668\u4FDD\u5B58\u4E3A\u955C\u50CF\u3011\u529F\u80FD",children:"\u5BFC\u5165\u5BB9\u5668Tar\u5305"}),value:"containerTar"},{label:(0,r.jsx)(C.Z,{title:"\u4E0A\u4F20\u955C\u50CF Tar \u5305\u6784\u5EFA\u955C\u50CF",children:"\u5BFC\u5165\u955C\u50CFTar\u5305"}),value:"imageTar"}],fieldProps:{onChange:function(p){ye(p.target.value)}}}),(0,r.jsx)(a.Z,{name:["uploadType"],children:function(p){var n=p.uploadType;if(n=="containerTar")return[(0,r.jsx)(B.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u5DE5\u4F5C\u76EE\u5F55\uFF0C\u4E00\u822C\u6307\u5411\u4EE3\u7801\u7684\u6240\u5728\u76EE\u5F55",label:"\u5DE5\u4F5C\u76EE\u5F55",name:"workDir",placeholder:"\u9ED8\u8BA4\u4E3A / \u76EE\u5F55"},"workDir"),(0,r.jsx)(B.Z,{required:!0,tooltip:"\u901A\u8FC7\u5BB9\u5668\u5BFC\u5165\u955C\u50CF\u65F6\uFF0C\u5FC5\u987B\u6307\u5B9A\u542F\u52A8\u547D\u4EE4\uFF0C\u5426\u5219\u518D\u521B\u5EFA\u65F6\u65E0\u6CD5\u542F\u52A8",rules:[{required:!0}],label:"CMD",name:"cmd"},"cmd"),(0,r.jsx)(ae.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u5BF9\u5916\u66B4\u9732\u7684\u7AEF\u53E3\uFF0C\u4E00\u884C\u6307\u5B9A\u4E00\u4E2A\u7AEF\u53E3",label:"\u66B4\u9732\u7AEF\u53E3",name:"expose",placeholder:`80 
9000`},"expose"),(0,r.jsx)(ae.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u9700\u8981\u914D\u7F6E\u7684\u73AF\u5883\u53D8\u91CF\uFF0C\u4E00\u884C\u6307\u5B9A\u4E00\u4E2A\u73AF\u5883\u53D8\u91CF",label:"\u73AF\u5883\u53D8\u91CF",name:"env",placeholder:`TEST_VALUE=123 
TEST_NO_VALUE=`},"env"),(0,r.jsx)(ae.Z,{tooltip:"\u6307\u5B9A\u5BFC\u5165\u540E\u7684\u955C\u50CF\u9700\u8981\u6301\u4E45\u5316\u7684\u76EE\u5F55\uFF0C\u4E00\u884C\u6307\u5B9A\u4E00\u4E2A\u76EE\u5F55",label:"\u5B58\u50A8\u5377\u76EE\u5F55",name:"volume",placeholder:`/app 
/home`},"volume")];if(n!="imageTar"){if(n=="zip"||n=="git")return(0,r.jsx)(B.Z,{name:"buildRoot",label:"Dockerfile\u6587\u4EF6\u4F4D\u7F6E",tooltip:"\u6307\u5B9ADockerfile\u6240\u5728\u7684\u76EE\u5F55",fieldProps:{addonBefore:"\u9ED8\u8BA4\u4EE5\u5305\u6216\u662F\u4ED3\u5E93\u76EE\u5F55\u5F00\u59CB\uFF08/\uFF09"},placeholder:"/Dockerfile"})}}}),ue=="zip"&&(0,r.jsx)(j.Z,{required:!0,label:"\u4E0A\u4F20\u6784\u5EFA\u5305 (\u53EA\u5141\u8BB8\u4E0A\u4F20 .zip \u6587\u4EF6\uFF0C\u4E14\u4E0E\u5305\u4E2D\u7684 Dockerfile \u6307\u5B9A\u7684\u76EE\u5F55\u4FDD\u6301\u4E00\u81F4)",name:"buildZip",accept:".zip"}),ue=="containerTar"&&(0,r.jsx)(j.Z,{required:!0,label:"\u5BFC\u5165\u5BB9\u5668\u5305\uFF08\u53EA\u5141\u8BB8\u4E0A\u4F20 .tar \u6587\u4EF6\uFF0C\u901A\u8FC7\u5BFC\u51FA\u5BB9\u5668\u751F\u6210\uFF09",name:"containerTar",accept:".tar"}),ue=="imageTar"&&(0,r.jsx)(j.Z,{required:!0,label:"\u5BFC\u5165\u955C\u50CF\u5305\uFF08\u53EA\u5141\u8BB8\u4E0A\u4F20 .tar \u6587\u4EF6\uFF0C\u901A\u8FC7\u5BFC\u51FA\u955C\u50CF\u751F\u6210\uFF09",name:"imageTar",accept:".tar"}),ue=="git"&&(0,r.jsx)(b,{}),ue=="dockerfile"&&(0,r.jsx)(T,{createFormRef:K})]})}),(0,r.jsx)(I.Z,{ref:pe})]})}},97961:function(le,G,e){e.d(G,{GH:function(){return I},MF:function(){return d},_2:function(){return $},fN:function(){return B},ii:function(){return Z},vC:function(){return b}});var v=e(15009),u=e.n(v),U=e(99289),s=e.n(U),g=e(63713),Z=[{name:"linux/amd64",arch:"amd64",search:["amd64","x86_64","86_64"]},{name:"linux/arm64",arch:"arm64",search:["arm64","arrch64"]},{name:"linux/i386",arch:"386",search:[]},{name:"linux/arm/v6",arch:"arm",search:[]},{name:"linux/arm/v7",arch:"arm",search:[]},{name:"linux/arm/v8",arch:"arm64",search:[]},{name:"linux/ppc64le",arch:"ppc64le",search:[]},{name:"linux/riscv64",arch:"riscv64",search:[]}];function B(t){return r.apply(this,arguments)}function r(){return r=s()(u()().mark(function t(a){return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,g.request)("/api/app/image/create-by-dockerfile",{method:"POST",data:a}));case 1:case"end":return o.stop()}},t)})),r.apply(this,arguments)}function b(t){return j.apply(this,arguments)}function j(){return j=s()(u()().mark(function t(a){return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,g.request)("/api/app/image/import-by-container-tar",{method:"POST",data:a}));case 1:case"end":return o.stop()}},t)})),j.apply(this,arguments)}function I(t){return c.apply(this,arguments)}function c(){return c=s()(u()().mark(function t(a){return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,g.request)("/api/app/image/import-by-image-tar",{method:"POST",data:a}));case 1:case"end":return o.stop()}},t)})),c.apply(this,arguments)}function $(t){return h.apply(this,arguments)}function h(){return h=s()(u()().mark(function t(a){return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,g.request)("/api/common/attach/delete",{method:"POST",data:a});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},t)})),h.apply(this,arguments)}function d(){return W.apply(this,arguments)}function W(){return W=s()(u()().mark(function t(){return u()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,g.request)("/api/app/image/get-template-list",{method:"POST"}));case 1:case"end":return m.stop()}},t)})),W.apply(this,arguments)}},18148:function(le,G,e){e.d(G,{$q:function(){return h},Fj:function(){return _},KG:function(){return Z},KX:function(){return f},T8:function(){return c},Xn:function(){return j},ao:function(){return W},c5:function(){return o},c7:function(){return a}});var v=e(15009),u=e.n(v),U=e(99289),s=e.n(U),g=e(63713);function Z(P){return B.apply(this,arguments)}function B(){return B=s()(u()().mark(function P(E){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,g.request)("/api/app/image/get-list",{method:"POST",data:E}));case 1:case"end":return l.stop()}},P)})),B.apply(this,arguments)}function r(P){return b.apply(this,arguments)}function b(){return b=_asyncToGenerator(_regeneratorRuntime().mark(function P(E){return _regeneratorRuntime().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,request("/api/app/log/image-build",{method:"POST",data:E});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},P)})),b.apply(this,arguments)}function j(P){return I.apply(this,arguments)}function I(){return I=s()(u()().mark(function P(E){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,g.request)("/api/app/image/get-list-build",{method:"POST",data:E}));case 1:case"end":return l.stop()}},P)})),I.apply(this,arguments)}function c(P){return $.apply(this,arguments)}function $(){return $=s()(u()().mark(function P(E){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,g.request)("/api/app/image/get-build-task",{method:"POST",data:E});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},P)})),$.apply(this,arguments)}function h(P){return d.apply(this,arguments)}function d(){return d=s()(u()().mark(function P(E){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,g.request)("/api/app/image/delete-build-task",{method:"POST",data:E});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},P)})),d.apply(this,arguments)}function W(P){return t.apply(this,arguments)}function t(){return t=s()(u()().mark(function P(E){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,g.request)("/api/app/image/image-delete",{method:"POST",data:E});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},P)})),t.apply(this,arguments)}function a(){return m.apply(this,arguments)}function m(){return m=s()(u()().mark(function P(){return u()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,g.request)("/api/app/image/image-prune",{method:"POST"});case 2:return D.abrupt("return",D.sent);case 3:case"end":return D.stop()}},P)})),m.apply(this,arguments)}function o(){return F.apply(this,arguments)}function F(){return F=s()(u()().mark(function P(){return u()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,g.request)("/api/app/image/build-prune",{method:"POST"});case 2:return D.abrupt("return",D.sent);case 3:case"end":return D.stop()}},P)})),F.apply(this,arguments)}function _(P){return T.apply(this,arguments)}function T(){return T=s()(u()().mark(function P(E){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,g.request)("/api/app/image/update-title",{method:"POST",data:E});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},P)})),T.apply(this,arguments)}function f(P){return i.apply(this,arguments)}function i(){return i=s()(u()().mark(function P(E){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,g.request)("/api/app/image/tag-sync",{method:"POST",data:E}));case 1:case"end":return l.stop()}},P)})),i.apply(this,arguments)}},75870:function(le,G,e){e.d(G,{Ot:function(){return Z},ZH:function(){return r},ix:function(){return j},t1:function(){return c}});var v=e(15009),u=e.n(v),U=e(99289),s=e.n(U),g=e(63713);function Z(h){return B.apply(this,arguments)}function B(){return B=s()(u()().mark(function h(d){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,g.request)("/api/common/registry/get-list",{method:"POST",data:d}));case 1:case"end":return t.stop()}},h)})),B.apply(this,arguments)}function r(h){return b.apply(this,arguments)}function b(){return b=s()(u()().mark(function h(d){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,g.request)("/api/common/registry/create",{method:"POST",data:d}));case 1:case"end":return t.stop()}},h)})),b.apply(this,arguments)}function j(h){return I.apply(this,arguments)}function I(){return I=s()(u()().mark(function h(d){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,g.request)("/api/common/registry/delete",{method:"POST",data:d}));case 1:case"end":return t.stop()}},h)})),I.apply(this,arguments)}function c(h){return $.apply(this,arguments)}function $(){return $=s()(u()().mark(function h(d){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,g.request)("/api/common/registry/get-detail",{method:"POST",data:d}));case 1:case"end":return t.stop()}},h)})),$.apply(this,arguments)}},85576:function(le,G,e){e.d(G,{Z:function(){return o}});var v=e(56080),u=e(38657),U=e(56745),s=e(67294),g=e(93967),Z=e.n(g),B=e(40974),r=e(8745),b=e(53124),j=e(35792),I=e(32409),c=e(4941),$=e(71194),h=function(F,_){var T={};for(var f in F)Object.prototype.hasOwnProperty.call(F,f)&&_.indexOf(f)<0&&(T[f]=F[f]);if(F!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,f=Object.getOwnPropertySymbols(F);i<f.length;i++)_.indexOf(f[i])<0&&Object.prototype.propertyIsEnumerable.call(F,f[i])&&(T[f[i]]=F[f[i]]);return T};const d=F=>{const{prefixCls:_,className:T,closeIcon:f,closable:i,type:P,title:E,children:D,footer:l}=F,ae=h(F,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:X}=s.useContext(b.E_),S=X(),C=_||X("modal"),de=(0,j.Z)(S),[oe,ne,Y]=(0,$.ZP)(C,de),A=`${C}-confirm`;let K={};return P?K={closable:i!=null?i:!1,title:"",footer:"",children:s.createElement(I.O,Object.assign({},F,{prefixCls:C,confirmPrefixCls:A,rootPrefixCls:S,content:D}))}:K={closable:i!=null?i:!0,title:E,footer:l!==null&&s.createElement(c.$,Object.assign({},F)),children:D},oe(s.createElement(B.s,Object.assign({prefixCls:C,className:Z()(ne,`${C}-pure-panel`,P&&A,P&&`${A}-${P}`,T,Y,de)},ae,{closeIcon:(0,c.b)(C,f),closable:i},K)))};var W=(0,r.i)(d),t=e(94423);function a(F){return(0,v.ZP)((0,v.uW)(F))}const m=U.Z;m.useModal=t.Z,m.info=function(_){return(0,v.ZP)((0,v.cw)(_))},m.success=function(_){return(0,v.ZP)((0,v.vq)(_))},m.error=function(_){return(0,v.ZP)((0,v.AQ)(_))},m.warning=a,m.warn=a,m.confirm=function(_){return(0,v.ZP)((0,v.Au)(_))},m.destroyAll=function(){for(;u.Z.length;){const _=u.Z.pop();_&&_()}},m.config=v.ai,m._InternalPanelDoNotUseOrYouWillBeFired=W;var o=m}}]);
