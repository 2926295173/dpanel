"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5529],{44349:function(B,j,r){var M=r(97857),a=r.n(M),T=r(17186),d=r(5966),m=r(86250),P=r(67294),p=r(85893),y=(0,P.forwardRef)(function(_,i){var h=(0,P.useRef)();(0,P.useImperativeHandle)(i,function(){return{addItem:function(t,l){var s,e=(s=h.current)===null||s===void 0?void 0:s.getList(),b=!1;if(e==null||e.map(function(C){if(C.name==t){b=!0;return}}),!b){var O;(O=h.current)===null||O===void 0||O.add({name:t,value:l})}},clear:function(){var t;(t=h.current)===null||t===void 0||(t=t.getList())===null||t===void 0||t.map(function(l,s){var e;(e=h.current)===null||e===void 0||e.remove(s)})}}});var E={};return _.hideCopyButton===!0&&(E.copyIconProps=!1),_.hideDeleteButton===!0&&(E.deleteIconProps=!1),(0,p.jsx)(T.u,a()(a()({initialValue:_.initialValue,label:_.label,name:_.name,actionRef:h,creatorButtonProps:_.showAddButton?{creatorButtonText:"\u6DFB\u52A0"+(_.label?_.label:_.name)}:!1,min:_.min?_.min:0},E),{},{children:function(t,l,s){return(0,p.jsx)(m.Z,{justify:_.justify,gap:_.gap,children:_.items.map(function(e){return e.render?(0,p.jsx)("div",{children:e.render&&e.render(t,l,s)},"".concat(_.name,"-").concat(e.name,"-").concat(t.key)):(0,p.jsx)(d.Z,{width:e.width,name:e.name,label:e.label,required:e.required,rules:[{required:e.required}],disabled:e.disabled,placeholder:e.placeholder},"".concat(_.name,"-").concat(e.name,"-").concat(t.key))})})}}))});j.Z=y},80271:function(B,j,r){var M=r(15009),a=r.n(M),T=r(99289),d=r.n(T),m=r(5574),P=r.n(m),p=r(184),y=r(41482),_=r(83062),i=r(67294),h=r(3393),E=r(68536),f=r(5251),t=r(81366),l=r(3616),s=r(85893),e=(0,i.forwardRef)(function(b,O){(0,i.useImperativeHandle)(O,function(){return{show:function(){}}});var C=(0,i.useState)(""),W=P()(C,2),U=W[0],R=W[1],u=(0,i.useState)(!1),c=P()(u,2),o=c[0],n=c[1],k=(0,i.useRef)(),$=(0,i.useRef)(),K=function(D,g){R(g)};return(0,s.jsx)(p.a,{drawerProps:{width:l.R_},open:o,submitter:!1,title:"\u955C\u50CF\u6587\u4EF6\u67E5\u770B",onOpenChange:function(D){n(D),R(D?"/":"")},trigger:(0,s.jsx)(_.Z,{title:"\u67E5\u770B\u955C\u50CF\u6587\u4EF6",children:b.trigger}),children:(0,s.jsx)(y.Z,{headerTitle:(0,s.jsx)(t.Z,{ref:$,showPath:K}),scroll:{x:"max-content"},search:!1,rowKey:"showName",pagination:{pageSize:500,position:["topRight","bottomRight"]},actionRef:k,request:d()(a()().mark(function I(){var D;return a()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(U!=""){v.next=2;break}return v.abrupt("return",{data:[],total:0,success:!0});case 2:return v.next=4,(0,h.cD)({md5:b.imageId,path:U});case 4:return D=v.sent,v.abrupt("return",{data:D.data.info,total:D.data.info.length,success:!0});case 6:case"end":return v.stop()}},I)})),columns:[{title:"\u540D\u79F0",dataIndex:"showName",key:"name",render:function(L,g,v,w,S){var L,A=g.name.replace(U,"");return g.isDir?L=(0,s.jsx)(E.Z,{isDir:!0,onClick:function(){return K(A,g.path)},showName:A}):g.isSymlink?L=(0,s.jsx)(E.Z,{isLink:!0,showName:A}):L=(0,s.jsx)(E.Z,{showName:A}),L}},{title:"\u6743\u9650",dataIndex:"modStr",key:"modStr"},{title:"\u7528\u6237",dataIndex:"user"},{title:"\u7528\u6237\u7EC4",dataIndex:"group"},{title:"\u5927\u5C0F",dataIndex:"size",key:"size",render:function(D,g,v,w,S){return(0,f.FI)(g.size)}},{title:"\u4FEE\u6539\u65F6\u95F4",dataIndex:"modTime",key:"modTime",render:function(D,g,v,w,S){return(0,f.NF)(g.modTime)},sorter:function(D,g){return new Date(D.modTime).getTime()-new Date(g.modTime).getTime()}}],cardProps:{ghost:!0}},"".concat(b.imageId,"-").concat(U))})});j.Z=e},96042:function(B,j,r){r.d(j,{Z:function(){return _}});var M=r(97857),a=r.n(M),T=r(5574),d=r.n(T),m=r(75870),P=r(34041),p=r(67294),y=r(85893);function _(i){var h=(0,p.useState)([]),E=d()(h,2),f=E[0],t=E[1];(0,p.useEffect)(function(){(0,m.Ot)().then(function(s){s&&t(s.data.list)})},[]);var l={};return i.multiple&&(l.mode="multiple"),i.top&&(l.placement="topLeft"),(0,y.jsx)(P.Z,a()({popupMatchSelectWidth:!i.width,style:i.width?{width:i.width}:{},onChange:function(e){if(Array.isArray(e)){var b=e.map(function(O){return f[O]});i.onChangeList&&i.onChangeList(b)}else i.onChange&&i.onChange(f[e])},placeholder:"\u9009\u62E9\u955C\u50CF\u4ED3\u5E93\uFF0C\u9ED8\u8BA4\u4E3A\u5F53\u524D\u4ED3\u5E93",options:f.map(function(s,e){return{value:e,label:s.title+"("+s.serverAddress+")"}}),allowClear:!0},l))}},18148:function(B,j,r){r.d(j,{$q:function(){return E},Fj:function(){return C},KG:function(){return P},KX:function(){return U},T8:function(){return i},Xn:function(){return y},ao:function(){return t},c5:function(){return b},c7:function(){return s}});var M=r(15009),a=r.n(M),T=r(99289),d=r.n(T),m=r(82346);function P(u){return p.apply(this,arguments)}function p(){return p=d()(a()().mark(function u(c){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,m.request)("/api/app/image/get-list",{method:"POST",data:c}));case 1:case"end":return n.stop()}},u)})),p.apply(this,arguments)}function y(u){return _.apply(this,arguments)}function _(){return _=d()(a()().mark(function u(c){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,m.request)("/api/app/image/get-list-build",{method:"POST",data:c}));case 1:case"end":return n.stop()}},u)})),_.apply(this,arguments)}function i(u){return h.apply(this,arguments)}function h(){return h=d()(a()().mark(function u(c){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,m.request)("/api/app/image/get-build-task",{method:"POST",data:c});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},u)})),h.apply(this,arguments)}function E(u){return f.apply(this,arguments)}function f(){return f=d()(a()().mark(function u(c){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,m.request)("/api/app/image/delete-build-task",{method:"POST",data:c});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},u)})),f.apply(this,arguments)}function t(u){return l.apply(this,arguments)}function l(){return l=d()(a()().mark(function u(c){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,m.request)("/api/app/image/image-delete",{method:"POST",data:c});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},u)})),l.apply(this,arguments)}function s(){return e.apply(this,arguments)}function e(){return e=d()(a()().mark(function u(){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,m.request)("/api/app/image/image-prune",{method:"POST"});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},u)})),e.apply(this,arguments)}function b(){return O.apply(this,arguments)}function O(){return O=d()(a()().mark(function u(){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,m.request)("/api/app/image/build-prune",{method:"POST"});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},u)})),O.apply(this,arguments)}function C(u){return W.apply(this,arguments)}function W(){return W=d()(a()().mark(function u(c){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,m.request)("/api/app/image/update-title",{method:"POST",data:c});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},u)})),W.apply(this,arguments)}function U(u){return R.apply(this,arguments)}function R(){return R=d()(a()().mark(function u(c){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,m.request)("/api/app/image/tag-sync",{method:"POST",data:c}));case 1:case"end":return n.stop()}},u)})),R.apply(this,arguments)}},75870:function(B,j,r){r.d(j,{Ot:function(){return P},ZH:function(){return y},ix:function(){return i},t1:function(){return E}});var M=r(15009),a=r.n(M),T=r(99289),d=r.n(T),m=r(82346);function P(t){return p.apply(this,arguments)}function p(){return p=d()(a()().mark(function t(l){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/common/registry/get-list",{method:"POST",data:l}));case 1:case"end":return e.stop()}},t)})),p.apply(this,arguments)}function y(t){return _.apply(this,arguments)}function _(){return _=d()(a()().mark(function t(l){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/common/registry/create",{method:"POST",data:l}));case 1:case"end":return e.stop()}},t)})),_.apply(this,arguments)}function i(t){return h.apply(this,arguments)}function h(){return h=d()(a()().mark(function t(l){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/common/registry/delete",{method:"POST",data:l}));case 1:case"end":return e.stop()}},t)})),h.apply(this,arguments)}function E(t){return f.apply(this,arguments)}function f(){return f=d()(a()().mark(function t(l){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/common/registry/get-detail",{method:"POST",data:l}));case 1:case"end":return e.stop()}},t)})),f.apply(this,arguments)}}}]);
