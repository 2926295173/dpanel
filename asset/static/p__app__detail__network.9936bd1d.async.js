"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2902],{80821:function(U,c,e){e.d(c,{Z:function(){return v}});var h=e(5574),a=e.n(h),P=e(24963),i=e(86738),_=e(28036),f=e(83062),d=e(67294),C=e(85893);function v(n){var O=(0,d.useState)(!1),g=a()(O,2),o=g[0],s=g[1],E=(0,d.useContext)(P.Z),p=E.lang,M=E.notice,T=E.message,j=function(){s(!0);var y=n.action();y instanceof Promise?y.then(function(l){if(s(!1),l){typeof n.onSuccess=="function"&&n.onSuccess(l);var D="";n.messageSuccess?typeof n.messageSuccess=="function"?D=n.messageSuccess(l):D=n.messageSuccess.indexOf("notification.")==0?p(n.messageSuccess):n.messageSuccess:D=p("notification.finish"),n.asynced?T.info(D):T.success(D)}}).catch(function(l){s(!1),typeof n.onError=="function"&&n.onError(l)}):s(!1)};return n.confirm?(0,C.jsx)(i.Z,{style:{width:500},title:n.confirmTitle?n.confirmTitle:p("notification.title.tip"),description:typeof n.confirm=="string"&&n.confirm.indexOf("notification.")==0?p(n.confirm):n.confirm,onConfirm:j,okText:"Yes",cancelText:"No",children:(0,C.jsx)(_.ZP,{disabled:n.disabled,icon:n.icon,loading:o,danger:n.danger,type:n.type,children:n.children})}):(0,C.jsx)(f.Z,{title:n.tips,children:(0,C.jsx)(_.ZP,{style:n.ghost?{padding:0,height:"auto"}:{},disabled:n.disabled,icon:n.icon,loading:o,onClick:j,danger:n.danger,type:n.type,children:n.children})})}},78498:function(U,c,e){e.d(c,{Z:function(){return f}});var h=e(25035),a=e(42075),P=e(83062),i=e(67294),_=e(85893);function f(d){return(0,_.jsxs)(a.Z,{children:[d.title,(0,_.jsx)(P.Z,{title:d.help,children:(0,_.jsx)(h.Z,{})})]})}},24963:function(U,c,e){var h=e(67294),a=(0,h.createContext)({});c.Z=a},50070:function(U,c,e){e.r(c),e.d(c,{AppDetailContext:function(){return E},default:function(){return p}});var h=e(15009),a=e.n(h),P=e(99289),i=e.n(P),_=e(5574),f=e.n(_),d=e(24963),C=e(60335),v=e(55809),n=e(82346),O=e(25593),g=e(50136),o=e(67294),s=e(85893),E=(0,o.createContext)({});function p(){var M,T=(0,o.useContext)(d.Z),j=T.lang,A=T.loading,y=T.message,l=(0,n.useParams)(),D=(0,n.useSearchParams)(),r=f()(D,2),u=r[0],m=r[1],t=(M=u.get("tab"))!==null&&M!==void 0?M:"edit",w=(0,o.useState)("edit"),x=f()(w,2),V=x[0],k=x[1],L=(0,n.useNavigate)(),z=(0,o.useState)(1),Z=f()(z,2),$=Z[0],H=Z[1],F=[{label:(0,s.jsx)(n.Link,{to:"/app/detail/edit/".concat(l.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,s.jsx)(n.Link,{to:"/app/detail/network/".concat(l.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,s.jsx)(O.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){y.info(j("app.detail.createExplorerPlugin")),L("/app/detail/file/".concat(l.id,"?tab=file"))}},{label:(0,s.jsx)(O.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){L("/app/detail/log/".concat(l.id,"?tab=log"))}},{label:(0,s.jsx)(O.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){L("/app/detail/stat/".concat(l.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,s.jsx)(v.Z,{}),disabled:!0}],J=(0,o.useState)(F),N=f()(J,2),Y=N[0],Q=N[1];(0,o.useEffect)(function(){A.show(),k(t);var b=function(){var B=i()(a()().mark(function G(){var K,S,I;return a()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return S=F,R.next=3,(0,C.jV)({md5:(K=l.id)!==null&&K!==void 0?K:""});case 3:I=R.sent,S.map(function(W){return W.key=="containerName"&&(W.label=I.data.info.Name),(!I.data.info.State.Running||I.data.info.State.Restarting)&&(W.key=="file"||W.key=="stat")&&(W.disabled=!0),W}),Q(S),A.destroy();case 7:case"end":return R.stop()}},G)}));return function(){return B.apply(this,arguments)}}();b()},[$]);var X=function(B){k(B.key)};return(0,s.jsxs)(E.Provider,{value:{reload:function(){H($+1)}},children:[(0,s.jsx)(g.Z,{mode:"horizontal",onClick:X,selectedKeys:[V],items:Y}),(0,s.jsx)(n.Outlet,{})]})}},77812:function(U,c,e){e.r(c),e.d(c,{default:function(){return v}});var h=e(5574),a=e.n(h),P=e(67294),i=e(60335),_=e(82346),f=e(50070),d=e(62573),C=e(85893);function v(){var n=(0,_.useParams)(),O=(0,P.useState)(),g=a()(O,2),o=g[0],s=g[1],E=(0,P.useContext)(f.AppDetailContext);return(0,P.useEffect)(function(){var p;(0,i.jV)({md5:(p=n.id)!==null&&p!==void 0?p:""}).then(function(M){s(M.data.info)}),E.reload()},[]),o&&(0,C.jsx)(d.Z,{containerInfo:o})}},60335:function(U,c,e){e.d(c,{IE:function(){return C},IW:function(){return f},KK:function(){return s},LJ:function(){return p},RF:function(){return A},Re:function(){return T},aF:function(){return l},eE:function(){return g},jV:function(){return n}});var h=e(15009),a=e.n(h),P=e(99289),i=e.n(P),_=e(82346);function f(r){return d.apply(this,arguments)}function d(){return d=i()(a()().mark(function r(u){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,_.request)("/api/app/container/status",{method:"POST",data:u}));case 1:case"end":return t.stop()}},r)})),d.apply(this,arguments)}function C(r){return v.apply(this,arguments)}function v(){return v=i()(a()().mark(function r(u){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,_.request)("/api/app/container/get-list",{data:u,method:"POST"}));case 1:case"end":return t.stop()}},r)})),v.apply(this,arguments)}function n(r){return O.apply(this,arguments)}function O(){return O=i()(a()().mark(function r(u){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,_.request)("/api/app/container/get-detail",{data:u,method:"POST"}));case 1:case"end":return t.stop()}},r)})),O.apply(this,arguments)}function g(r){return o.apply(this,arguments)}function o(){return o=i()(a()().mark(function r(u){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,_.request)("/api/app/container/update",{data:u,method:"POST"}));case 1:case"end":return t.stop()}},r)})),o.apply(this,arguments)}function s(){return E.apply(this,arguments)}function E(){return E=i()(a()().mark(function r(){return a()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,_.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return m.stop()}},r)})),E.apply(this,arguments)}function p(r){return M.apply(this,arguments)}function M(){return M=i()(a()().mark(function r(u){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,_.request)("/api/app/container/export",{method:"POST",data:u,responseType:"blob"}));case 1:case"end":return t.stop()}},r)})),M.apply(this,arguments)}function T(r){return j.apply(this,arguments)}function j(){return j=i()(a()().mark(function r(u){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,_.request)("/api/app/container/commit",{method:"POST",data:u}));case 1:case"end":return t.stop()}},r)})),j.apply(this,arguments)}function A(r){return y.apply(this,arguments)}function y(){return y=i()(a()().mark(function r(u){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,_.request)("/api/app/container/upgrade",{method:"POST",data:u}));case 1:case"end":return t.stop()}},r)})),y.apply(this,arguments)}function l(r){return D.apply(this,arguments)}function D(){return D=i()(a()().mark(function r(u){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,_.request)("/api/app/container/copy",{method:"POST",data:u}));case 1:case"end":return t.stop()}},r)})),D.apply(this,arguments)}}}]);
