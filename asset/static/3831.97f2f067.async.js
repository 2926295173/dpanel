"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3831],{43831:function(G,K,n){var Z=n(15009),O=n.n(Z),g=n(99289),b=n.n(g),N=n(5574),S=n.n(N),v=n(67294),R=n(14946),y=n(43425),w=n(48689),p=n(38345),k=n(41482),M=n(42075),W=n(25593),a=n(83062),s=n(60335),_=n(78498),B=n(80821),$=n(10032),F=n(5251),T=n(28230),L=n(46442),x=n(78451),r=n(85893),h=(0,v.forwardRef)(function(d,e){var j;(0,v.useImperativeHandle)(e,function(){return{}});var c=(0,v.useRef)(),f=(0,v.useRef)(),C=(0,v.useState)(),P=S()(C,2),l=P[0],A=P[1];return(0,v.useEffect)(function(){var m,i;A(d.containerInfo),!((m=c.current)===null||m===void 0)&&m.reloadAndRest&&((i=c.current)===null||i===void 0||i.reloadAndRest())},[d.containerInfo]),(0,r.jsxs)(p.Z,{ghost:d.ghost,children:[(0,r.jsx)($.Z,{ref:f}),(0,r.jsx)(k.Z,{scroll:{x:"max-content"},rowKey:"key",actionRef:c,pagination:!1,columns:[{title:"\u6240\u5C5E\u7F51\u7EDC",key:"name",dataIndex:"networkName"},{title:"\u5BB9\u5668\u540D\u79F0",key:"containerName",dataIndex:"containerName",width:100,render:function(i,t,u,o,I){return(0,r.jsx)(x.Z,{content:(0,F.fi)(t.containerName,"/")})}},{title:(0,r.jsx)(_.Z,{title:"hostname",help:"\u63D0\u4F9B\u5BB9\u5668\u5185\u90E8\u8BBF\u95EE"}),key:"hostName",render:function(i,t,u){return t.hostName?(0,r.jsx)(M.Z,{direction:"vertical",children:t.hostName.map(function(o){if(o)return(0,r.jsx)(W.Z.Text,{copyable:!0,keyboard:!0,children:o},o)})}):(0,r.jsx)(r.Fragment,{})}},{title:"Ip",key:"ip",render:function(i,t,u,o,I){return(0,r.jsxs)(M.Z,{direction:"vertical",children:[(0,r.jsx)("span",{children:t.networkInfo.IPv4Address}),t.networkInfo.IPv6Address&&(0,r.jsx)("span",{children:t.networkInfo.IPv6Address})]})}},{title:"\u64CD\u4F5C",key:"option",width:50,fixed:"right",render:function(i,t,u,o,I){return(0,r.jsxs)(M.Z,{children:[t.networkName!=""&&(0,r.jsx)(W.Z.Link,{onClick:function(){var E;(E=f.current)===null||E===void 0||E.show(t.networkName)},children:(0,r.jsx)(a.Z,{title:"\u7BA1\u7406",children:(0,r.jsx)(y.Z,{})})}),t.key!="bridge"&&t.key!="none"&&t.key!="host"&&t.networkName!=""&&(0,r.jsx)(B.Z,{type:"link",action:function(){return(0,R.t9)({name:t.networkName,containerName:d.containerInfo.Name})},onSuccess:function(){var E,D;!((E=c.current)===null||E===void 0)&&E.reloadAndRest&&((D=c.current)===null||D===void 0||D.reloadAndRest())},tips:"\u9000\u51FA\u8BE5\u7F51\u7EDC",children:(0,r.jsx)(w.Z,{})})]})}}],request:function(){var m=b()(O()().mark(function i(t,u,o){var I,U;return O()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,s.jV)({md5:d.containerInfo.Name});case 2:return I=D.sent,A(I.data.info),D.next=6,(0,R._3)({name:Object.keys(I.data.info.NetworkSettings.Networks)});case 6:return U=D.sent,D.abrupt("return",{data:U.data.list,success:!0,total:U.data.list.length});case 8:case"end":return D.stop()}},i)}));return function(i,t,u){return m.apply(this,arguments)}}(),toolBarRender:function(){return[(0,r.jsx)(L.Z,{showTriggerButton:!0,onSelect:function(){var i=b()(O()().mark(function t(u){var o,I;return O()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,R.HY)({name:u.Name,containerName:d.containerInfo.Name,ipV4:""});case 2:I=E.sent,!((o=c.current)===null||o===void 0)&&o.reloadAndRest&&c.current.reloadAndRest();case 4:case"end":return E.stop()}},t)}));return function(t){return i.apply(this,arguments)}}()},"joinNetwork"),(0,r.jsx)(T.Z,{onFinish:function(){var t,u;!((t=c.current)===null||t===void 0)&&t.reloadAndRest&&((u=c.current)===null||u===void 0||u.reloadAndRest())}},"create")]},search:!1,expandable:{expandRowByClick:!1,expandedRowKeys:Object.keys((j=l==null?void 0:l.NetworkSettings.Networks)!==null&&j!==void 0?j:{bridge:[]})}})]})});K.Z=h},10032:function(G,K,n){var Z=n(5574),O=n.n(Z),g=n(15009),b=n.n(g),N=n(99289),S=n.n(N),v=n(80821),R=n(14946),y=n(48689),w=n(184),p=n(38345),k=n(60940),M=n(42075),W=n(96074),a=n(26412),s=n(67294),_=n(85893),B=(0,s.forwardRef)(function($,F){(0,s.useImperativeHandle)(F,function(){return{show:function(A){return S()(b()().mark(function m(){var i,t;return b()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,R.IS)({name:A});case 2:i=o.sent,i.data.info.Containers?(t=[],Object.keys(i.data.info.Containers).map(function(I){i.data.info.Containers[I].Id=I,t.push(i.data.info.Containers[I])}),P(t)):P([]),j(i.data.info),r(!0);case 6:case"end":return o.stop()}},m)}))()}}});var T=(0,s.useState)(!1),L=O()(T,2),x=L[0],r=L[1],h=(0,s.useState)(),d=O()(h,2),e=d[0],j=d[1],c=(0,s.useState)(),f=O()(c,2),C=f[0],P=f[1];return(0,_.jsx)(w.a,{title:"\u7F51\u7EDC\u8BE6\u60C5",open:x,onOpenChange:function(A){r(A)},submitter:!1,children:(0,_.jsxs)(p.Z,{ghost:!0,direction:"column",gutter:[10,0],children:[(0,_.jsx)(p.Z,{title:"\u7F51\u7EDC\u5185\u5BB9\u5668",ghost:!0,children:(0,_.jsx)(k.Z,{rowKey:"Id",columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"Name"},{title:"IPV4",dataIndex:"IPv4Address"},{title:"IPV6",dataIndex:"IPv6Address"},{title:"MacAddress",dataIndex:"MacAddress"},{title:"\u64CD\u4F5C",render:function(A,m,i){return(0,_.jsx)(M.Z,{split:(0,_.jsx)(W.Z,{type:"vertical"}),children:(0,_.jsx)(v.Z,{type:"text",action:function(){var u,o;return(0,R.t9)({name:(u=e==null?void 0:e.Id)!==null&&u!==void 0?u:"",containerName:(o=m.Id)!==null&&o!==void 0?o:""})},onSuccess:function(){var u=C==null?void 0:C.filter(function(o){return o.Id!=m.Id});P(u)},children:(0,_.jsx)(y.Z,{})},"delete")})}}],dataSource:C,pagination:!1})}),(0,_.jsx)(p.Z,{ghost:!0,title:"\u57FA\u7840\u4FE1\u606F",children:(0,_.jsxs)(a.Z,{labelStyle:{width:"180px"},column:1,bordered:!0,children:[(0,_.jsx)(a.Z.Item,{label:"\u540D\u79F0",children:e==null?void 0:e.Name}),(0,_.jsx)(a.Z.Item,{label:"Id",children:e==null?void 0:e.Id}),(0,_.jsx)(a.Z.Item,{label:"Driver",children:e==null?void 0:e.Driver}),(0,_.jsx)(a.Z.Item,{label:"Scope",children:e==null?void 0:e.Scope}),(0,_.jsx)(a.Z.Item,{label:"Attachable",children:e!=null&&e.Attachable?"\u662F":"\u5426"}),(0,_.jsx)(a.Z.Item,{label:"Internal",children:e!=null&&e.Internal?"\u662F":"\u5426"}),(e==null?void 0:e.IPAM.Config)&&(e==null?void 0:e.IPAM.Config.map(function(l){return(0,_.jsx)(a.Z.Item,{label:l.Gateway.includes(":")?"IPV6":"IPV4",children:(0,_.jsxs)(a.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:[(0,_.jsx)(a.Z.Item,{label:"Subnet",children:l.Subnet}),(0,_.jsx)(a.Z.Item,{label:"Gateway",children:l.Gateway}),(0,_.jsx)(a.Z.Item,{label:"IP Range ",children:l.IPRange}),(0,_.jsx)(a.Z.Item,{label:"Excluded IPs",children:l.AuxiliaryAddresses&&Object.keys(l.AuxiliaryAddresses).map(function(A){return l.AuxiliaryAddresses[A]+" ,"})})]})})})),(e==null?void 0:e.Options)&&Object.keys(e==null?void 0:e.Options).length>0&&(0,_.jsx)(a.Z.Item,{label:"Options",children:(0,_.jsx)(a.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Options).map(function(l){return(0,_.jsx)(a.Z.Item,{label:l,children:e.Options[l]},l)})})}),(e==null?void 0:e.Labels)&&Object.keys(e==null?void 0:e.Labels).length>0&&(0,_.jsx)(a.Z.Item,{label:"Lables",children:(0,_.jsx)(a.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Labels).map(function(l){return(0,_.jsx)(a.Z.Item,{label:l,children:e.Labels[l]},l)})})})]})})]})})});K.Z=B},46442:function(G,K,n){var Z=n(15009),O=n.n(Z),g=n(99289),b=n.n(g),N=n(5574),S=n.n(N),v=n(67294),R=n(14946),y=n(64789),w=n(41482),p=n(28036),k=n(85265),M=n(42075),W=n(66309),a=n(28230),s=n(85893),_=(0,v.forwardRef)(function(B,$){(0,v.useImperativeHandle)($,function(){return{show:function(){x(!0)}}});var F=(0,v.useState)(!1),T=S()(F,2),L=T[0],x=T[1],r=(0,v.useRef)();return(0,s.jsxs)(s.Fragment,{children:[B.showTriggerButton&&(0,s.jsx)(p.ZP,{onClick:function(){x(!0)},children:"\u52A0\u5165\u7F51\u7EDC"}),(0,s.jsx)(k.Z,{title:"\u9009\u62E9\u7F51\u7EDC",width:800,footer:!1,open:L,onClose:function(){return x(!1)},extra:(0,s.jsx)(M.Z,{children:(0,s.jsx)(a.Z,{onFinish:function(){var d,e;!((d=r.current)===null||d===void 0)&&d.reloadAndRest&&((e=r.current)===null||e===void 0||e.reloadAndRest())}},"create")}),children:(0,s.jsx)(w.Z,{rowKey:"Name",toolBarRender:!1,actionRef:r,columns:[{title:"\u540D\u79F0",dataIndex:"Name",render:function(d,e,j,c,f){return e.Name=="none"||e.Name=="bridge"||e.Name=="host"?(0,s.jsxs)(s.Fragment,{children:[e.Name," ",(0,s.jsx)(W.Z,{color:"blue",children:"System"})]}):(0,s.jsx)(s.Fragment,{children:d})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"Driver",ellipsis:!0,width:100,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",search:!1,width:120,render:function(d,e,j,c,f){return e.IPAM.Config&&e.IPAM.Config[0]&&(0,s.jsxs)(M.Z,{direction:"vertical",children:[e.IPAM.Config[0].Subnet,e.IPAM.Config[0].Gateway]})}},{title:"IPV6",search:!1,render:function(d,e,j,c,f){return e.IPAM.Config&&e.IPAM.Config[1]&&(0,s.jsxs)(M.Z,{direction:"vertical",children:[e.IPAM.Config[1].Subnet,e.IPAM.Config[1].Gateway]})}},{title:"\u64CD\u4F5C",width:100,search:!1,render:function(d,e,j,c,f){return[e.Name!="none"&&e.Name!="bridge"&&e.Name!="host"&&(0,s.jsx)(p.ZP,{type:"link",onClick:function(){B.onSelect(e),x(!1)},children:(0,s.jsx)(y.Z,{})},e.Id)]}}],request:function(){var h=b()(O()().mark(function d(e,j,c){var f;return O()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,R.jR)({name:e.Name});case 2:return f=P.sent,P.abrupt("return",{data:f.data.list,success:!0,total:f.data.list.length});case 4:case"end":return P.stop()}},d)}));return function(d,e,j){return h.apply(this,arguments)}}(),pagination:{pageSize:10}})})]})});K.Z=_}}]);
