"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5947],{41123:function(Y,y,e){e.d(y,{Z:function(){return L}});var s=e(87462),r=e(67294),A={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M555.88 488.24h-92.62v-82.79h92.62zm0-286.24h-92.62v85.59h92.62zm109.45 203.45H572.7v82.79h92.62zm-218.9-101.02h-92.61v84.18h92.6zm109.45 0h-92.61v84.18h92.6zm388.69 140.3c-19.65-14.02-67.36-18.23-102.44-11.22-4.2-33.67-23.85-63.14-57.53-89.8l-19.65-12.62-12.62 19.64c-25.26 39.29-32.28 103.83-5.62 145.92-12.63 7.02-36.48 15.44-67.35 15.44H67.56c-12.63 71.56 8.42 164.16 61.74 227.3C181.22 801.13 259.8 832 360.83 832c220.3 0 384.48-101.02 460.25-286.24 29.47 0 95.42 0 127.7-63.14 1.4-2.8 9.82-18.24 11.22-23.85zm-717.04-39.28h-92.61v82.79h92.6zm109.45 0h-92.61v82.79h92.6zm109.45 0h-92.61v82.79h92.6zM336.98 304.43h-92.61v84.19h92.6z"}}]},name:"docker",theme:"outlined"},_=A,f=e(84089),b=function(k,h){return r.createElement(f.Z,(0,s.Z)({},k,{ref:h,icon:_}))},g=r.forwardRef(b),L=g},24963:function(Y,y,e){var s=e(67294),r=(0,s.createContext)({});y.Z=r},50070:function(Y,y,e){e.r(y),e.d(y,{AppDetailContext:function(){return N},default:function(){return J}});var s=e(15009),r=e.n(s),A=e(99289),_=e.n(A),f=e(5574),b=e.n(f),g=e(24963),L=e(2831),D=e(60335),k=e(41123),h=e(54006),x=e(86738),E=e(25593),i=e(50136),j=e(67294),C=e(85893),N=(0,j.createContext)({});function J(){var R,V=(0,j.useContext)(g.Z),K=V.lang,Q=V.loading,O=(0,h.useParams)(),o=(0,h.useSearchParams)(),p=b()(o,2),v=p[0],n=p[1],t=(R=v.get("tab"))!==null&&R!==void 0?R:"edit",l=(0,j.useState)("edit"),d=b()(l,2),a=d[0],u=d[1],T=(0,h.useNavigate)(),$=(0,j.useState)(1),M=b()($,2),I=M[0],Z=M[1],z=(0,h.useAccess)(),S=[{label:(0,C.jsx)(h.Link,{to:"/app/detail/edit/".concat(O.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,C.jsx)(h.Link,{to:"/app/detail/domain/".concat(O.id,"?tab=domain"),children:"\u57DF\u540D\u7BA1\u7406"}),key:"domain"},{label:(0,C.jsx)(x.Z,{style:{width:500},title:K("notification.title.tip"),description:K("app.detail.createExplorerPlugin"),onConfirm:function(){T("/app/detail/file/".concat(O.id,"?tab=file")),H(S.filter(function(U){return U.key!="fileConfirm"})),u("file")},okText:"Yes",cancelText:"No",children:(0,C.jsx)(E.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"})}),key:"fileConfirm"},{label:(0,C.jsx)(E.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){T("/app/detail/file/".concat(O.id,"?tab=file"))}},{label:(0,C.jsx)(E.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){T("/app/detail/log/".concat(O.id,"?tab=log"))}},{label:(0,C.jsx)(E.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){T("/app/detail/stat/".concat(O.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,C.jsx)(k.Z,{}),disabled:!0}],w=(0,j.useState)(S),G=b()(w,2),q=G[0],H=G[1];(0,j.useEffect)(function(){Q.show(),u(t);var P=function(){var U=_()(r()().mark(function ne(){var ee,W,F,X;return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return W=S,m.next=3,(0,L.aF)();case 3:return F=m.sent,z.canSeeContainerDomain||(W=W.filter(function(c){return c.key!="domain"})),F.data.plugin.explorer.isCreated||(W=W.filter(function(c){return c.key!="file"})),F.data.plugin.explorer.isCreated&&(W=W.filter(function(c){return c.key!="fileConfirm"})),m.next=9,(0,D.jV)({md5:(ee=O.id)!==null&&ee!==void 0?ee:""});case 9:X=m.sent,W.map(function(c){return c.key=="containerName"&&(c.label=X.data.info.Name),(!X.data.info.State.Running||X.data.info.State.Restarting)&&(c.key=="file"||c.key=="fileConfirm"||c.key=="stat")&&(c.disabled=!0),c}),H(W),Q.destroy();case 13:case"end":return m.stop()}},ne)}));return function(){return U.apply(this,arguments)}}();P()},[I]);var B=function(U){U.key!="fileConfirm"&&u(U.key)};return(0,C.jsxs)(N.Provider,{value:{reload:function(){Z(I+1)}},children:[(0,C.jsx)(i.Z,{mode:"horizontal",onClick:B,selectedKeys:[a],items:q}),(0,C.jsx)(h.Outlet,{})]})}},2831:function(Y,y,e){e.d(y,{Ll:function(){return L},aF:function(){return b},d6:function(){return k}});var s=e(15009),r=e.n(s),A=e(99289),_=e.n(A),f=e(54006);function b(){return g.apply(this,arguments)}function g(){return g=_()(r()().mark(function x(){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,f.request)("/api/common/home/info",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},x)})),g.apply(this,arguments)}function L(){return D.apply(this,arguments)}function D(){return D=_()(r()().mark(function x(){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,f.request)("/api/common/home/usage",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},x)})),D.apply(this,arguments)}function k(){return h.apply(this,arguments)}function h(){return h=_()(r()().mark(function x(){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,f.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},x)})),h.apply(this,arguments)}},60335:function(Y,y,e){e.d(y,{IE:function(){return L},IW:function(){return b},KK:function(){return i},LJ:function(){return C},RF:function(){return V},Re:function(){return J},aF:function(){return Q},eE:function(){return x},jV:function(){return k}});var s=e(15009),r=e.n(s),A=e(99289),_=e.n(A),f=e(54006);function b(o){return g.apply(this,arguments)}function g(){return g=_()(r()().mark(function o(p){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,f.request)("/api/app/container/status",{method:"POST",data:p}));case 1:case"end":return n.stop()}},o)})),g.apply(this,arguments)}function L(o){return D.apply(this,arguments)}function D(){return D=_()(r()().mark(function o(p){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,f.request)("/api/app/container/get-list",{data:p,method:"POST"}));case 1:case"end":return n.stop()}},o)})),D.apply(this,arguments)}function k(o){return h.apply(this,arguments)}function h(){return h=_()(r()().mark(function o(p){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,f.request)("/api/app/container/get-detail",{data:p,method:"POST"}));case 1:case"end":return n.stop()}},o)})),h.apply(this,arguments)}function x(o){return E.apply(this,arguments)}function E(){return E=_()(r()().mark(function o(p){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,f.request)("/api/app/container/update",{data:p,method:"POST"}));case 1:case"end":return n.stop()}},o)})),E.apply(this,arguments)}function i(){return j.apply(this,arguments)}function j(){return j=_()(r()().mark(function o(){return r()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,f.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return v.stop()}},o)})),j.apply(this,arguments)}function C(o){return N.apply(this,arguments)}function N(){return N=_()(r()().mark(function o(p){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,f.request)("/api/app/container/export",{method:"POST",data:p,responseType:"blob"}));case 1:case"end":return n.stop()}},o)})),N.apply(this,arguments)}function J(o){return R.apply(this,arguments)}function R(){return R=_()(r()().mark(function o(p){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,f.request)("/api/app/container/commit",{method:"POST",data:p}));case 1:case"end":return n.stop()}},o)})),R.apply(this,arguments)}function V(o){return K.apply(this,arguments)}function K(){return K=_()(r()().mark(function o(p){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,f.request)("/api/app/container/upgrade",{method:"POST",data:p}));case 1:case"end":return n.stop()}},o)})),K.apply(this,arguments)}function Q(o){return O.apply(this,arguments)}function O(){return O=_()(r()().mark(function o(p){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,f.request)("/api/app/container/copy",{method:"POST",data:p}));case 1:case"end":return n.stop()}},o)})),O.apply(this,arguments)}},86738:function(Y,y,e){e.d(y,{Z:function(){return n}});var s=e(67294),r=e(21640),A=e(93967),_=e.n(A),f=e(21770),b=e(98423),g=e(53124),L=e(55241),D=e(86743),k=e(81643),h=e(14726),x=e(33671),E=e(10110),i=e(24457),j=e(66330),C=e(83559);const N=t=>{const{componentCls:l,iconCls:d,antCls:a,zIndexPopup:u,colorText:T,colorWarning:$,marginXXS:M,marginXS:I,fontSize:Z,fontWeightStrong:z,colorTextHeading:S}=t;return{[l]:{zIndex:u,[`&${a}-popover`]:{fontSize:Z},[`${l}-message`]:{marginBottom:I,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${l}-message-icon ${d}`]:{color:$,fontSize:Z,lineHeight:1,marginInlineEnd:I},[`${l}-title`]:{fontWeight:z,color:S,"&:only-child":{fontWeight:"normal"}},[`${l}-description`]:{marginTop:M,color:T}},[`${l}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:I}}}}},J=t=>{const{zIndexPopupBase:l}=t;return{zIndexPopup:l+60}};var R=(0,C.I$)("Popconfirm",t=>N(t),J,{resetStyle:!1}),V=function(t,l){var d={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&l.indexOf(a)<0&&(d[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(t);u<a.length;u++)l.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(t,a[u])&&(d[a[u]]=t[a[u]]);return d};const K=t=>{const{prefixCls:l,okButtonProps:d,cancelButtonProps:a,title:u,description:T,cancelText:$,okText:M,okType:I="primary",icon:Z=s.createElement(r.Z,null),showCancel:z=!0,close:S,onConfirm:w,onCancel:G,onPopupClick:q}=t,{getPrefixCls:H}=s.useContext(g.E_),[B]=(0,E.Z)("Popconfirm",i.Z.Popconfirm),P=(0,k.Z)(u),U=(0,k.Z)(T);return s.createElement("div",{className:`${l}-inner-content`,onClick:q},s.createElement("div",{className:`${l}-message`},Z&&s.createElement("span",{className:`${l}-message-icon`},Z),s.createElement("div",{className:`${l}-message-text`},P&&s.createElement("div",{className:`${l}-title`},P),U&&s.createElement("div",{className:`${l}-description`},U))),s.createElement("div",{className:`${l}-buttons`},z&&s.createElement(h.ZP,Object.assign({onClick:G,size:"small"},a),$||(B==null?void 0:B.cancelText)),s.createElement(D.Z,{buttonProps:Object.assign(Object.assign({size:"small"},(0,x.nx)(I)),d),actionFn:w,close:S,prefixCls:H("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},M||(B==null?void 0:B.okText))))};var O=t=>{const{prefixCls:l,placement:d,className:a,style:u}=t,T=V(t,["prefixCls","placement","className","style"]),{getPrefixCls:$}=s.useContext(g.E_),M=$("popconfirm",l),[I]=R(M);return I(s.createElement(j.ZP,{placement:d,className:_()(M,a),style:u,content:s.createElement(K,Object.assign({prefixCls:M},T))}))},o=function(t,l){var d={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&l.indexOf(a)<0&&(d[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(t);u<a.length;u++)l.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(t,a[u])&&(d[a[u]]=t[a[u]]);return d};const v=s.forwardRef((t,l)=>{var d,a;const{prefixCls:u,placement:T="top",trigger:$="click",okType:M="primary",icon:I=s.createElement(r.Z,null),children:Z,overlayClassName:z,onOpenChange:S,onVisibleChange:w}=t,G=o(t,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:q}=s.useContext(g.E_),[H,B]=(0,f.Z)(!1,{value:(d=t.open)!==null&&d!==void 0?d:t.visible,defaultValue:(a=t.defaultOpen)!==null&&a!==void 0?a:t.defaultVisible}),P=(m,c)=>{B(m,!0),w==null||w(m),S==null||S(m,c)},U=m=>{P(!1,m)},ne=m=>{var c;return(c=t.onConfirm)===null||c===void 0?void 0:c.call(void 0,m)},ee=m=>{var c;P(!1,m),(c=t.onCancel)===null||c===void 0||c.call(void 0,m)},W=(m,c)=>{const{disabled:re=!1}=t;re||P(m,c)},F=q("popconfirm",u),X=_()(F,z),[te]=R(F);return te(s.createElement(L.Z,Object.assign({},(0,b.Z)(G,["title"]),{trigger:$,placement:T,onOpenChange:W,open:H,ref:l,overlayClassName:X,content:s.createElement(K,Object.assign({okType:M,icon:I},t,{prefixCls:F,close:U,onConfirm:ne,onCancel:ee})),"data-popover-inject":!0}),Z))});v._InternalPanelDoNotUseOrYouWillBeFired=O;var n=v}}]);
