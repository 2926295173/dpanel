"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1610],{87740:function(C,d,e){e.d(d,{Z:function(){return D}});var E=e(87462),r=e(67294),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"},_=o,i=e(84089),h=function(O,M){return r.createElement(i.Z,(0,E.Z)({},O,{ref:M,icon:_}))},c=r.forwardRef(h),D=c},1699:function(C,d,e){e.d(d,{u:function(){return O}});var E=e(9783),r=e.n(E),o=e(97857),_=e.n(o),i=e(67294),h=e(82346),c=e(40411),D=e(42075),p=e(85893),O=function(n){var m=(0,h.useAccess)(),l=Array.isArray(n.access)?n.access:[n.access],s,P=n.fallback;return typeof n.children=="function"?(s=n.children(l.reduce(function(b,v){return _()(_()({},b),{},r()({},v,m[v]))},{})),s||(s=P)):l.every(function(b){return m[b]})?s=n.children:s=P,!P&&s&&n.showProTips&&m.canSeeEnableCe&&(s=(0,p.jsx)(c.Z,{offset:n.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:s})),!P&&s&&n.showProRibbonTips&&m.canSeeEnableCe&&(s=(0,p.jsx)(c.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:s})),n.space?(0,p.jsx)(D.Z,_()(_()({},n.space),{},{children:s})):s}},80821:function(C,d,e){e.d(d,{Z:function(){return M}});var E=e(97857),r=e.n(E),o=e(5574),_=e.n(o),i=e(24963),h=e(86738),c=e(28036),D=e(83062),p=e(67294),O=e(85893);function M(n){var m=(0,p.useState)(!1),l=_()(m,2),s=l[0],P=l[1],b=(0,p.useContext)(i.Z),v=b.lang,L=b.message,y=function(){P(!0);var W=n.action();W instanceof Promise?W.then(function(a){if(P(!1),a){typeof n.onSuccess=="function"&&n.onSuccess(a);var u="";n.messageSuccess?typeof n.messageSuccess=="function"?u=n.messageSuccess(a):u=n.messageSuccess.indexOf("notification.")==0?v(n.messageSuccess):n.messageSuccess:u=v("notification.finish"),n.asynced?L.info(u):L.success(u)}}).catch(function(a){P(!1),typeof n.onError=="function"&&n.onError(a)}):P(!1)};return n.confirm?(0,O.jsx)(h.Z,r()(r()({style:{width:500},title:n.confirmTitle?n.confirmTitle:v("notification.title.tip"),description:typeof n.confirm=="string"&&n.confirm.indexOf("notification.")==0?v(n.confirm):n.confirm,onConfirm:y,okText:"Yes",cancelText:"No",onOpenChange:n.confirmOnOpenChange},n.confirmProps),{},{children:(0,O.jsx)(c.ZP,{block:n.block,disabled:n.disabled,icon:!n.children&&s?void 0:n.icon,loading:s,danger:n.danger,type:n.type,children:n.children})})):(0,O.jsx)(D.Z,{title:n.tips,children:(0,O.jsx)(c.ZP,{block:n.block,style:n.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:n.disabled,icon:!n.children&&s?void 0:n.icon,loading:s,onClick:y,danger:n.danger,type:n.type,children:n.children})})}},78451:function(C,d,e){e.d(d,{Z:function(){return o}});var E=e(67294),r=e(85893);function o(_){return(0,r.jsx)("span",{style:{width:_.width?_.width:"auto",wordBreak:"break-word"},children:_.content})}},24963:function(C,d,e){var E=e(67294),r=(0,E.createContext)({});d.Z=r},67108:function(C,d,e){e.r(d),e.d(d,{default:function(){return u}});var E=e(15009),r=e.n(E),o=e(99289),_=e.n(o),i=e(90078),h=e(41482),c=e(62597),D=e(28036),p=e(42075),O=e(96074),M=e(83062),n=e(50136),m=e(82346),l=e(86548),s=e(87740),P=e(67294),b=e(96974),v=e(80821),L=e(67255),y=e(78451),B=e(1699),W=e(20578),a=e(85893);function u(){var T=(0,b.UO)(),t=(0,P.useRef)(),Z=(0,m.useAccess)();return(0,P.useEffect)(function(){var j;(j=t.current)===null||j===void 0||j.reload()},[T]),(0,a.jsx)(i._z,{header:{extra:[(0,a.jsx)(B.u,{access:"canSeeContainerListManageCreate",children:(0,a.jsx)(D.ZP,{type:"primary",children:(0,a.jsx)(m.Link,{to:"/app/create/image",children:"\u521B\u5EFA\u5BB9\u5668"})})},"create")]},children:(0,a.jsx)(h.Z,{scroll:{x:"max-content"},actionRef:t,columns:[{title:"\u540D\u79F0",dataIndex:"siteTitle",width:200},{title:"\u6807\u8BC6",dataIndex:"siteName",width:200},{title:"\u6700\u540E\u9519\u8BEF",dataIndex:"message",search:!1,width:250,render:function(A,f,I,R,g){return(0,a.jsx)(y.Z,{content:f.message})}},{title:"\u5220\u9664\u65E5\u671F",ellipsis:!0,dataIndex:"deletedAt",search:!1,width:180,render:function(A,f,I,R,g){return new Date(f.deletedAt).toLocaleString()}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:80,fixed:"right",render:function(A,f,I,R){return(0,a.jsxs)(p.Z,{split:(0,a.jsx)(O.Z,{type:"vertical"}),children:[(0,a.jsx)(m.Link,{to:"/app/create/image?op=update&id="+f.id,type:"link",children:(0,a.jsx)(M.Z,{title:"\u518D\u6B21\u6784\u5EFA",children:(0,a.jsx)(l.Z,{})})},"rebuild"),f.containerInfo&&f.containerInfo.Info&&f.containerInfo.Info.Name&&(0,a.jsx)(B.u,{access:"canSeeEnableCe",children:function(S){var x=S.canSeeEnableCe;return(0,a.jsx)(v.Z,{disabled:x,action:function(){return(0,W.w5)({id:f.id})},ghost:!0,type:"link",tips:"\u6062\u590D\u5BB9\u5668",onSuccess:function(){var K;!((K=t.current)===null||K===void 0)&&K.reloadAndRest&&t.current.reloadAndRest()},icon:(0,a.jsx)(s.Z,{})})}})]})}}],rowKey:"id",request:function(){var j=_()(r()().mark(function A(f,I,R){var g,S;return r()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,c.cl)({pageSize:f.pageSize,page:(g=f.current)!==null&&g!==void 0?g:1,isDelete:!0,siteTitle:f.siteTitle,siteName:f.siteName});case 2:return S=U.sent,U.abrupt("return",{data:S.data.list,success:!0,total:S.data.total});case 4:case"end":return U.stop()}},A)}));return function(A,f,I){return j.apply(this,arguments)}}(),rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},tableAlertOptionRender:function(A){var f=A.selectedRowKeys;return(0,a.jsx)(p.Z,{size:16,children:(0,a.jsx)(v.Z,{danger:!0,type:"primary",action:function(){return(0,c.xb)({id:f})},onSuccess:function(){var R,g;return!((R=t.current)===null||R===void 0)&&R.reloadAndRest&&((g=t.current)===null||g===void 0||g.reloadAndRest()),!0},onError:function(){var R,g;return!((R=t.current)===null||R===void 0)&&R.reset&&((g=t.current)===null||g===void 0||g.reset()),!0},confirm:"notification.confirm.title",children:"\u6279\u91CF\u5220\u9664"})})},pagination:(0,L.O)(),search:{collapsed:!1},tableExtraRender:function(){return(0,a.jsx)(n.Z,{mode:"horizontal",selectedKeys:["recycle"],items:[{label:(0,a.jsx)(m.Link,{to:"/app/list",replace:!0,children:"\u5BB9\u5668\u5217\u8868"}),key:"all"},{label:(0,a.jsx)(m.Link,{to:"/app/recycle",replace:!0,children:"\u56DE\u6536\u7AD9"}),key:"recycle"}]})}})})}},62597:function(C,d,e){e.d(d,{$G:function(){return h},Ct:function(){return b},Tb:function(){return M},XH:function(){return m},cl:function(){return p},fp:function(){return D},iE:function(){return s},xb:function(){return L},ze:function(){return B}});var E=e(15009),r=e.n(E),o=e(99289),_=e.n(o),i=e(82346);function h(a){return c.apply(this,arguments)}function c(){return c=_()(r()().mark(function a(u){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.request)("/api/app/site/create-by-image",{method:"POST",data:u}));case 1:case"end":return t.stop()}},a)})),c.apply(this,arguments)}var D={EnvValueRuleRequired:1,EnvValueRuleDisabled:2,EnvValueTypeNumber:1024,EnvValueTypeText:2048,EnvValueTypeSelect:4096};function p(a){return O.apply(this,arguments)}function O(){return O=_()(r()().mark(function a(u){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.request)("/api/app/site/get-list",{method:"POST",data:u}));case 1:case"end":return t.stop()}},a)})),O.apply(this,arguments)}function M(a){return n.apply(this,arguments)}function n(){return n=_()(r()().mark(function a(u){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u.download=!1,t.next=3,(0,i.request)("/api/app/log/run",{method:"POST",data:u});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},a)})),n.apply(this,arguments)}function m(a){return l.apply(this,arguments)}function l(){return l=_()(r()().mark(function a(u){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u.download=!0,t.next=3,(0,i.request)("/api/app/log/run",{method:"POST",data:u,responseType:"blob"});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},a)})),l.apply(this,arguments)}function s(a){return P.apply(this,arguments)}function P(){return P=_()(r()().mark(function a(u){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u.id=String(u.id),t.next=3,(0,i.request)("/api/app/site/get-detail",{data:u,method:"POST"});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},a)})),P.apply(this,arguments)}function b(a){return v.apply(this,arguments)}function v(){return v=_()(r()().mark(function a(u){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.request)("/api/app/container/delete",{method:"POST",data:u}));case 1:case"end":return t.stop()}},a)})),v.apply(this,arguments)}function L(a){return y.apply(this,arguments)}function y(){return y=_()(r()().mark(function a(u){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.request)("/api/app/site/delete",{method:"POST",data:u}));case 1:case"end":return t.stop()}},a)})),y.apply(this,arguments)}function B(a){return W.apply(this,arguments)}function W(){return W=_()(r()().mark(function a(u){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.request)("/api/app/container/ignore",{method:"POST",data:u}));case 1:case"end":return t.stop()}},a)})),W.apply(this,arguments)}},20578:function(C,d,e){e.d(d,{ql:function(){return O},w5:function(){return D}});var E=e(15009),r=e.n(E),o=e(99289),_=e.n(o),i=e(82346);function h(){return c.apply(this,arguments)}function c(){return c=_asyncToGenerator(_regeneratorRuntime().mark(function n(){return _regeneratorRuntime().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",request("/api/pro/container/create-host-web-shell",{method:"POST"}));case 1:case"end":return l.stop()}},n)})),c.apply(this,arguments)}function D(n){return p.apply(this,arguments)}function p(){return p=_()(r()().mark(function n(m){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,i.request)("/api/pro/container/recycle-restore",{data:m,method:"POST"});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},n)})),p.apply(this,arguments)}function O(){return M.apply(this,arguments)}function M(){return M=_()(r()().mark(function n(){return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,i.request)("/api/pro/container/check-all-upgrade",{method:"POST"});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},n)})),M.apply(this,arguments)}},67255:function(C,d,e){e.d(d,{O:function(){return E},j:function(){return r}});function E(o){var _=localStorage.getItem("dpanel-pagesize");return _=="all"?!1:{current:o==null?void 0:o.page,showSizeChanger:!0,defaultPageSize:parseInt(_!=null?_:"20"),onChange:function(h,c){localStorage.setItem("dpanel-page-"+location.pathname.split("/").slice(-2).join("-"),"".concat(h))}}}function r(o){var _="dpanel-table-column-".concat(o),i={};if(localStorage.getItem(_)){var h;i=JSON.parse((h=localStorage.getItem(_))!==null&&h!==void 0?h:"{}")}return{defaultValue:i,onChange:function(D){localStorage.setItem("dpanel-table-column-".concat(o),JSON.stringify(D))}}}}}]);
