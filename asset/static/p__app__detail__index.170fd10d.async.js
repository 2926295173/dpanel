"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5947],{55809:function(y,E,e){var h=e(87462),r=e(67294),C=e(44805),_=e(84089),c=function(b,m){return r.createElement(_.Z,(0,h.Z)({},b,{ref:m,icon:C.Z}))},f=r.forwardRef(c);E.Z=f},1699:function(y,E,e){e.d(E,{u:function(){return R}});var h=e(9783),r=e.n(h),C=e(97857),_=e.n(C),c=e(67294),f=e(82346),P=e(40411),b=e(42075),m=e(85893),R=function(o){var s=(0,f.useAccess)(),O=Array.isArray(o.access)?o.access:[o.access],t,D=o.fallback;if(typeof o.children=="function"?(t=o.children(O.reduce(function(d,u){return _()(_()({},d),{},r()({},u,s[u]))},{})),t||(t=D)):O.every(function(d){return s[d]})?t=o.children:t=D,!D&&t&&o.showProTips&&s.canSeeEnableCe){if(s.canSeeEnableHiddenProTips)return null;t=(0,m.jsx)(P.Z,{offset:o.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:t})}if(!D&&t&&o.showProRibbonTips&&s.canSeeEnableCe){if(s.canSeeEnableHiddenProTips)return null;t=(0,m.jsx)(P.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:t})}return o.space?(0,m.jsx)(b.Z,_()(_()({},o.space),{},{children:t})):t}},24963:function(y,E,e){var h=e(67294),r=(0,h.createContext)({});E.Z=r},50070:function(y,E,e){e.r(E),e.d(E,{AppDetailContext:function(){return j},default:function(){return L}});var h=e(15009),r=e.n(h),C=e(99289),_=e.n(C),c=e(5574),f=e.n(c),P=e(1699),b=e(24963),m=e(13822),R=e(36146),M=e(55809),o=e(90078),s=e(82346),O=e(25593),t=e(28036),D=e(50136),d=e(67294),u=e(85893),j=(0,d.createContext)({});function L(){var v,I=(0,d.useContext)(b.Z),T=I.loading,a=(0,s.useParams)(),i=(0,s.useSearchParams)(),l=f()(i,2),n=l[0],ee=l[1],N=(v=n.get("tab"))!==null&&v!==void 0?v:"edit",z=(0,d.useState)("edit"),k=f()(z,2),H=k[0],x=k[1],U=(0,s.useNavigate)(),J=(0,d.useState)(1),Z=f()(J,2),$=Z[0],V=Z[1],w=[{label:(0,u.jsx)(s.Link,{to:"/app/detail/edit/".concat(a.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,u.jsx)(s.Link,{to:"/app/detail/network/".concat(a.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,u.jsx)(O.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){U("/app/detail/file/".concat(a.id,"?tab=file"))}},{label:(0,u.jsx)(O.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){U("/app/detail/log/".concat(a.id,"?tab=log"))}},{label:(0,u.jsx)(O.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){U("/app/detail/stat/".concat(a.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,u.jsx)(M.Z,{}),disabled:!0}],Q=(0,d.useState)(w),F=f()(Q,2),X=F[0],Y=F[1];(0,d.useEffect)(function(){T.show(),x(N);var W=function(){var B=_()(r()().mark(function G(){var K,S,A;return r()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return K=w,p.prev=1,p.next=4,(0,m.jV)({md5:(S=a.id)!==null&&S!==void 0?S:""});case 4:A=p.sent,K.map(function(g){return g.key=="containerName"&&(g.label=A.data.info.Name),(!A.data.info.State.Running||A.data.info.State.Restarting)&&(g.key=="file"||g.key=="stat")&&(g.disabled=!0),g}),Y(K),p.next=13;break;case 9:return p.prev=9,p.t0=p.catch(1),U("/app/list"),p.abrupt("return");case 13:return p.prev=13,T.destroy(),p.finish(13);case 16:case"end":return p.stop()}},G,null,[[1,9,13,16]])}));return function(){return B.apply(this,arguments)}}();W()},[$,a]);var q=function(B){x(B.key)};return(0,u.jsx)(j.Provider,{value:{reload:function(){V($+1)}},children:(0,u.jsxs)(o._z,{header:{extra:[(0,u.jsx)(P.u,{access:"canSeeContainerListManageCreate",children:(0,u.jsx)(s.Link,{to:"/app/create/image",children:(0,u.jsx)(t.ZP,{type:"primary",children:R.Ob.format("container.create")})})},"create")]},children:[(0,u.jsx)(D.Z,{mode:"horizontal",onClick:q,selectedKeys:[H],items:X}),(0,u.jsx)(s.Outlet,{})]})})}},13822:function(y,E,e){e.d(E,{IE:function(){return b},IW:function(){return f},KK:function(){return O},LJ:function(){return D},RF:function(){return L},Re:function(){return u},aF:function(){return I},eE:function(){return o},jV:function(){return R}});var h=e(15009),r=e.n(h),C=e(99289),_=e.n(C),c=e(82346);function f(a){return P.apply(this,arguments)}function P(){return P=_()(r()().mark(function a(i){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/api/app/container/status",{method:"POST",data:i}));case 1:case"end":return n.stop()}},a)})),P.apply(this,arguments)}function b(a){return m.apply(this,arguments)}function m(){return m=_()(r()().mark(function a(i){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/api/app/container/get-list",{data:i,method:"POST"}));case 1:case"end":return n.stop()}},a)})),m.apply(this,arguments)}function R(a){return M.apply(this,arguments)}function M(){return M=_()(r()().mark(function a(i){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/api/app/container/get-detail",{data:i,method:"POST"}));case 1:case"end":return n.stop()}},a)})),M.apply(this,arguments)}function o(a){return s.apply(this,arguments)}function s(){return s=_()(r()().mark(function a(i){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/api/app/container/update",{data:i,method:"POST"}));case 1:case"end":return n.stop()}},a)})),s.apply(this,arguments)}function O(){return t.apply(this,arguments)}function t(){return t=_()(r()().mark(function a(){return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,c.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return l.stop()}},a)})),t.apply(this,arguments)}function D(a){return d.apply(this,arguments)}function d(){return d=_()(r()().mark(function a(i){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/api/app/container/export",{method:"POST",data:i,responseType:"blob"}));case 1:case"end":return n.stop()}},a)})),d.apply(this,arguments)}function u(a){return j.apply(this,arguments)}function j(){return j=_()(r()().mark(function a(i){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/api/app/container/commit",{method:"POST",data:i}));case 1:case"end":return n.stop()}},a)})),j.apply(this,arguments)}function L(a){return v.apply(this,arguments)}function v(){return v=_()(r()().mark(function a(i){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/api/app/container/upgrade",{method:"POST",data:i}));case 1:case"end":return n.stop()}},a)})),v.apply(this,arguments)}function I(a){return T.apply(this,arguments)}function T(){return T=_()(r()().mark(function a(i){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/api/app/container/copy",{method:"POST",data:i}));case 1:case"end":return n.stop()}},a)})),T.apply(this,arguments)}}}]);
