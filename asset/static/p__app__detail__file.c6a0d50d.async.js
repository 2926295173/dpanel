"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5738],{1699:function(B,E,e){e.d(E,{u:function(){return _}});var D=e(9783),f=e.n(D),M=e(97857),r=e.n(M),P=e(67294),u=e(82346),c=e(40411),m=e(42075),o=e(85893),_=function(a){var l=(0,u.useAccess)(),d=Array.isArray(a.access)?a.access:[a.access],n,s=a.fallback;return typeof a.children=="function"?(n=a.children(d.reduce(function(t,h){return r()(r()({},t),{},f()({},h,l[h]))},{})),n||(n=s)):d.every(function(t){return l[t]})?n=a.children:n=s,!s&&n&&a.showProTips&&l.canSeeEnableCe&&(n=(0,o.jsx)(c.Z,{offset:a.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:n})),!s&&n&&a.showProRibbonTips&&l.canSeeEnableCe&&(n=(0,o.jsx)(c.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:n})),a.space?(0,o.jsx)(m.Z,r()(r()({},a.space),{},{children:n})):n}},80821:function(B,E,e){e.d(E,{Z:function(){return o}});var D=e(5574),f=e.n(D),M=e(24963),r=e(86738),P=e(28036),u=e(83062),c=e(67294),m=e(85893);function o(_){var j=(0,c.useState)(!1),a=f()(j,2),l=a[0],d=a[1],n=(0,c.useContext)(M.Z),s=n.lang,t=n.notice,h=n.message,A=function(){d(!0);var b=_.action();b instanceof Promise?b.then(function(v){if(d(!1),v){typeof _.onSuccess=="function"&&_.onSuccess(v);var O="";_.messageSuccess?typeof _.messageSuccess=="function"?O=_.messageSuccess(v):O=_.messageSuccess.indexOf("notification.")==0?s(_.messageSuccess):_.messageSuccess:O=s("notification.finish"),_.asynced?h.info(O):h.success(O)}}).catch(function(v){d(!1),typeof _.onError=="function"&&_.onError(v)}):d(!1)};return _.confirm?(0,m.jsx)(r.Z,{style:{width:500},title:_.confirmTitle?_.confirmTitle:s("notification.title.tip"),description:typeof _.confirm=="string"&&_.confirm.indexOf("notification.")==0?s(_.confirm):_.confirm,onConfirm:A,okText:"Yes",cancelText:"No",onOpenChange:_.confirmOnOpenChange,children:(0,m.jsx)(P.ZP,{block:_.block,disabled:_.disabled,icon:!_.children&&l?void 0:_.icon,loading:l,danger:_.danger,type:_.type,children:_.children})}):(0,m.jsx)(u.Z,{title:_.tips,children:(0,m.jsx)(P.ZP,{block:_.block,style:_.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:_.disabled,icon:!_.children&&l?void 0:_.icon,loading:l,onClick:A,danger:_.danger,type:_.type,children:_.children})})}},88879:function(B,E,e){e.r(E);var D=e(5574),f=e.n(D),M=e(21393),r=e(82346),P=e(67294),u=e(50070),c=e(85893);function m(){var o,_,j=(0,r.useParams)(),a=(0,r.useSearchParams)(),l=f()(a,2),d=l[0],n=l[1],s=(0,P.useContext)(u.AppDetailContext);return(0,P.useEffect)(function(){s.reload()},[]),(0,c.jsx)("div",{children:(0,c.jsx)(M.Z,{md5:(o=j.id)!==null&&o!==void 0?o:"",initPath:(_=d.get("path"))!==null&&_!==void 0?_:""})})}E.default=m},50070:function(B,E,e){e.r(E),e.d(E,{AppDetailContext:function(){return h},default:function(){return A}});var D=e(15009),f=e.n(D),M=e(99289),r=e.n(M),P=e(5574),u=e.n(P),c=e(1699),m=e(24963),o=e(60335),_=e(55809),j=e(90078),a=e(82346),l=e(25593),d=e(28036),n=e(50136),s=e(67294),t=e(85893),h=(0,s.createContext)({});function A(){var U,b=(0,s.useContext)(m.Z),v=b.lang,O=b.loading,z=b.message,C=(0,a.useParams)(),G=(0,a.useSearchParams)(),K=u()(G,2),Y=K[0],_e=K[1],H=(U=Y.get("tab"))!==null&&U!==void 0?U:"edit",J=(0,s.useState)("edit"),x=u()(J,2),Q=x[0],S=x[1],g=(0,a.useNavigate)(),V=(0,s.useState)(1),k=u()(V,2),Z=k[0],X=k[1],F=[{label:(0,t.jsx)(a.Link,{to:"/app/detail/edit/".concat(C.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,t.jsx)(a.Link,{to:"/app/detail/network/".concat(C.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,t.jsx)(l.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){z.info(v("app.detail.createExplorerPlugin")),g("/app/detail/file/".concat(C.id,"?tab=file"))}},{label:(0,t.jsx)(l.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){g("/app/detail/log/".concat(C.id,"?tab=log"))}},{label:(0,t.jsx)(l.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){g("/app/detail/stat/".concat(C.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,t.jsx)(_.Z,{}),disabled:!0}],p=(0,s.useState)(F),N=u()(p,2),w=N[0],q=N[1];(0,s.useEffect)(function(){O.show(),S(H);var T=function(){var L=r()(f()().mark(function $(){var I,y,R;return f()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return I=F,i.prev=1,i.next=4,(0,o.jV)({md5:(y=C.id)!==null&&y!==void 0?y:""});case 4:R=i.sent,I.map(function(W){return W.key=="containerName"&&(W.label=R.data.info.Name),(!R.data.info.State.Running||R.data.info.State.Restarting)&&(W.key=="file"||W.key=="stat")&&(W.disabled=!0),W}),q(I),i.next=13;break;case 9:return i.prev=9,i.t0=i.catch(1),g("/app/list"),i.abrupt("return");case 13:return i.prev=13,O.destroy(),i.finish(13);case 16:case"end":return i.stop()}},$,null,[[1,9,13,16]])}));return function(){return L.apply(this,arguments)}}();T()},[Z,C]);var ee=function(L){S(L.key)};return(0,t.jsx)(h.Provider,{value:{reload:function(){X(Z+1)}},children:(0,t.jsxs)(j._z,{header:{extra:[(0,t.jsx)(c.u,{access:"canSeeContainerListManageCreate",children:(0,t.jsx)(a.Link,{to:"/app/create/image",children:(0,t.jsx)(d.ZP,{type:"primary",children:"\u521B\u5EFA\u5BB9\u5668"})})},"create")]},children:[(0,t.jsx)(n.Z,{mode:"horizontal",onClick:ee,selectedKeys:[Q],items:w}),(0,t.jsx)(a.Outlet,{})]})})}}}]);
