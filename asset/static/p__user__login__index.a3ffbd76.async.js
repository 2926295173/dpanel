"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4037],{12119:function(Y,S,e){e.d(S,{Z:function(){return P}});var o=e(87462),p=e(67294),T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M608 112c-167.9 0-304 136.1-304 304 0 70.3 23.9 135 63.9 186.5l-41.1 41.1-62.3-62.3a8.15 8.15 0 00-11.4 0l-39.8 39.8a8.15 8.15 0 000 11.4l62.3 62.3-44.9 44.9-62.3-62.3a8.15 8.15 0 00-11.4 0l-39.8 39.8a8.15 8.15 0 000 11.4l62.3 62.3-65.3 65.3a8.03 8.03 0 000 11.3l42.3 42.3c3.1 3.1 8.2 3.1 11.3 0l253.6-253.6A304.06 304.06 0 00608 720c167.9 0 304-136.1 304-304S775.9 112 608 112zm161.2 465.2C726.2 620.3 668.9 644 608 644c-60.9 0-118.2-23.7-161.2-66.8-43.1-43-66.8-100.3-66.8-161.2 0-60.9 23.7-118.2 66.8-161.2 43-43.1 100.3-66.8 161.2-66.8 60.9 0 118.2 23.7 161.2 66.8 43.1 43 66.8 100.3 66.8 161.2 0 60.9-23.7 118.2-66.8 161.2z"}}]},name:"key",theme:"outlined"},E=T,h=e(84089),y=function(Z,x){return p.createElement(h.Z,(0,o.Z)({},Z,{ref:x,icon:E}))},v=p.forwardRef(y),P=v},63434:function(Y,S,e){var o=e(1413),p=e(45987),T=e(22270),E=e(84567),h=e(67294),y=e(90789),v=e(35510),P=e(85893),A=["options","fieldProps","proFieldProps","valueEnum"],Z=h.forwardRef(function(i,w){var H=i.options,$=i.fieldProps,X=i.proFieldProps,K=i.valueEnum,G=(0,p.Z)(i,A);return(0,P.jsx)(v.Z,(0,o.Z)({ref:w,valueType:"checkbox",valueEnum:(0,T.h)(K,void 0),fieldProps:(0,o.Z)({options:H},$),lightProps:(0,o.Z)({labelFormatter:function(){return(0,P.jsx)(v.Z,(0,o.Z)({ref:w,valueType:"checkbox",mode:"read",valueEnum:(0,T.h)(K,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,o.Z)({options:H},$),proFieldProps:X},G))}},G.lightProps),proFieldProps:X},G))}),x=h.forwardRef(function(i,w){var H=i.fieldProps,$=i.children;return(0,P.jsx)(E.Z,(0,o.Z)((0,o.Z)({ref:w},H),{},{children:$}))}),b=(0,y.G)(x,{valuePropName:"checked"}),W=b;W.Group=Z,S.Z=W},66139:function(Y,S,e){e.r(S),e.d(S,{default:function(){return ne}});var o=e(15009),p=e.n(o),T=e(99289),E=e.n(T),h=e(5574),y=e.n(h),v=e(68602),P=e(89075),A=e(68262),Z=e(82346),x=e(9361),b=e(38925),W=e(86250),i=e(67294),w=e(29177),H=e(88360),$=e(94149),X=e(12119),K=e(5966),G=e(97462),_=e(63434),re=e(92398),q=e(55241),ae=e(42075),ee=e(25593),a=e(85893);function le(z){var V;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(re.Z,{centered:!0,activeKey:z.loginType,items:[{icon:(0,a.jsx)(w.Z,{}),key:"account",label:"\u8D26\u53F7\u5BC6\u7801\u767B\u5F55"},{icon:(0,a.jsx)(H.Z,{}),key:"register",label:"\u914D\u7F6E\u7BA1\u7406\u5458\u7528\u6237\u540D\u53CA\u5BC6\u7801"}].filter(function(N){return N.key==z.loginType})}),(0,a.jsx)(K.Z,{name:"username",fieldProps:{size:"large",prefix:(0,a.jsx)(w.Z,{className:"prefixIcon"})},placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"}]},"username"),(0,a.jsx)(K.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,a.jsx)($.Z,{className:"prefixIcon"})},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"}]},"password"),z.showTwoFa&&(0,a.jsx)(K.Z,{name:"code",placeholder:"\u8BF7\u8F93\u5165\u53CC\u56E0\u7D20\u9A8C\u8BC1\u7801",rules:[{required:!0}],fieldProps:{maxLength:6,size:"large",prefix:(0,a.jsx)(X.Z,{className:"prefixIcon"})}}),z.loginType=="register"&&(0,a.jsx)(G.Z,{name:["password"],children:function(te){var ie=te.password;return(0,a.jsx)(K.Z.Password,{fieldProps:{size:"large",prefix:(0,a.jsx)($.Z,{className:"prefixIcon"})},placeholder:"\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801",name:"confirmPassword",dependencies:["password"],rules:[{required:!0,message:"\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801\uFF01"},function(oe){var Q=oe.getFieldValue;return{validator:function(n,t){return!t||Q("password")===t?Promise.resolve():Promise.reject(new Error("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4"))}}}]},"confirmPassword")}}),(0,a.jsxs)("div",{style:{marginBlockEnd:24},children:[(0,a.jsx)(_.Z,{noStyle:!0,name:"autoLogin",initialValue:!0,children:"\u4FDD\u6301\u767B\u5F55\u72B6\u6001"}),(0,a.jsx)(q.Z,{content:(0,a.jsxs)(ae.Z,{direction:"vertical",size:[0,30],children:[(0,a.jsxs)("span",{children:["\u5BBF\u4E3B\u673A\u4E2D\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\uFF0C",(0,a.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/install/ctrl",target:"_blank",children:"\u67E5\u770B\u6587\u6863"})]}),(0,a.jsxs)(ee.Z.Text,{copyable:!0,style:{padding:10,background:"#24292f",color:"#ffffff"},children:["docker exec ",(V=z.appName)!==null&&V!==void 0?V:"dpanel"," ./dpanel user:reset -f config.yaml"]}),(0,a.jsx)("span",{})]}),children:(0,a.jsx)(ee.Z.Link,{style:{float:"right"},children:"\u5FD8\u8BB0\u5BC6\u7801?"})})]})]})}var ne=function(){var z=x.Z.useToken(),V=z.token,N=(0,Z.useModel)("@@initialState"),te=N.initialState,ie=N.loading,oe=N.error,Q=N.refresh,se=N.setInitialState,n=(0,i.useState)({loginType:"account",appName:"dpanel"}),t=y()(n,2),r=t[0],s=t[1],c=(0,i.useState)(),g=y()(c,2),f=g[0],j=g[1],D=(0,Z.useAntdConfigSetter)(),I=(0,Z.useAccess)(),R=(0,i.useRef)();return(0,i.useEffect)(function(){window.document.title="DPanel - Docker \u7BA1\u7406\u9762\u677F",(0,v.Nr)().then(function(){var F=E()(p()().mark(function B(m){var u;return p()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:u={loginType:"account"},m.data.showBuildName&&m.data.family!="lite"&&(u.showBuildName=!0),m.data.showRegister&&(u.loginType="register"),m.data.family=="demo"&&(u.showDemo=!0),u.appName=m.data.appName,m.data.theme&&m.data.theme.algorithm&&(localStorage.setItem("dpanel-theme",m.data.theme.algorithm),D(function(d){var J;(J=d.theme)!==null&&J!==void 0||(d.theme={});var k=[];return m.data.theme&&(m.data.theme.algorithm=="dark"?k.push(x.Z.darkAlgorithm):k.push(x.Z.defaultAlgorithm),d.theme.algorithm=k),d})),I.canSeeEnableCe||(0,P.ax)().then(function(d){d.data&&d.data.themeUserConfig&&d.data.themeUserConfig.siteTitle&&(window.document.title=d.data.themeUserConfig.siteTitle),j(d.data)}),s(u);case 8:case"end":return M.stop()}},B)}));return function(B){return F.apply(this,arguments)}}())},[]),(0,a.jsxs)(a.Fragment,{children:[r&&r.showBuildName&&(0,a.jsx)(b.Z,{type:"error",message:"\u60A8\u521B\u5EFA\u7684\u9762\u677F\u5BB9\u5668\u540D\u79F0\u975E\u9ED8\u8BA4\u7684 dpanel\uFF0C\u8BF7\u91CD\u5EFA\u5E76\u901A\u8FC7\u73AF\u5883\u53D8\u91CF -e APP_NAME= \u6307\u5B9A\u65B0\u7684\u5BB9\u5668\u540D\u79F0\u3002",banner:!0}),r&&r.showDemo&&(0,a.jsx)(b.Z,{type:"error",message:"\u5F53\u524D\u4E3A\u6F14\u793A\u7AD9\uFF0C\u7981\u7528 docker \u76F8\u5173\u529F\u80FD\u3002\u5E10\u53F7\u5BC6\u7801\u4E3A admin 123456",banner:!0}),(0,a.jsx)(W.Z,{justify:"center",align:"center",style:{height:"100vh",background:f&&f.themeUserConfig&&f.themeUserConfig.bgImage&&f.themeUserConfig.bgImage.src?"url(".concat(f.themeUserConfig.bgImage.src,")"):"".concat(V.colorBgElevated,"dd")},children:(0,a.jsx)(A.U,{onFinish:function(){var F=E()(p()().mark(function B(m){var u,L;return p()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(r.loginType!="register"){d.next=3;break}return d.next=3,(0,v.AT)({username:m.username,password:m.password,confirmPassword:m.confirmPassword});case 3:return d.prev=3,d.next=6,(0,v.n$)({username:m.username,password:m.password,autoLogin:m.autoLogin,code:m.code});case 6:if(u=d.sent,!u.data.accessToken){d.next=14;break}return localStorage.setItem("token",u.data.accessToken),Q(),window.location.href="/dpanel/ui",d.abrupt("return");case 14:return d.abrupt("return",!1);case 15:d.next=20;break;case 17:d.prev=17,d.t0=d.catch(3),(L=R.current)===null||L===void 0||L.resetFields(["code"]);case 20:case"end":return d.stop()}},B,null,[[3,17]])}));return function(B){return F.apply(this,arguments)}}(),containerStyle:{background:"transparent",height:"auto"},logo:"",title:(0,a.jsx)("a",{href:"https://dpanel.cc",target:"_blank",children:(0,a.jsx)("img",{src:f&&f.themeUserConfig&&f.themeUserConfig.loginLogo?f.themeUserConfig.loginLogo:"/dpanel/static/asset/logo.png",width:"350"})}),subTitle:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("br",{}),(0,a.jsx)("br",{})]}),formRef:R,children:(0,a.jsx)(le,{showTwoFa:!!(f&&f.canSeeEnableTwoFa),loginType:r.loginType,appName:r.appName})})})]})}},89075:function(Y,S,e){e.d(S,{$w:function(){return y},YQ:function(){return P},ax:function(){return Z}});var o=e(15009),p=e.n(o),T=e(99289),E=e.n(T),h=e(82346);function y(){return v.apply(this,arguments)}function v(){return v=E()(p()().mark(function b(){return p()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,h.request)("/api/pro/home/get-machine-id",{method:"POST"}));case 1:case"end":return i.stop()}},b)})),v.apply(this,arguments)}function P(){return A.apply(this,arguments)}function A(){return A=E()(p()().mark(function b(){return p()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,h.request)("/api/pro/home/get-license-info",{method:"POST"}));case 1:case"end":return i.stop()}},b)})),A.apply(this,arguments)}function Z(){return x.apply(this,arguments)}function x(){return x=E()(p()().mark(function b(){return p()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,h.request)("/api/pro/home/login-info",{method:"POST"}));case 1:case"end":return i.stop()}},b)})),x.apply(this,arguments)}},38925:function(Y,S,e){e.d(S,{Z:function(){return se}});var o=e(67294),p=e(89739),T=e(4340),E=e(97937),h=e(21640),y=e(78860),v=e(93967),P=e.n(v),A=e(29372),Z=e(64217),x=e(42550),b=e(96159),W=e(53124),i=e(11568),w=e(14747),H=e(83559);const $=(n,t,r,s,c)=>({background:n,border:`${(0,i.bf)(s.lineWidth)} ${s.lineType} ${t}`,[`${c}-icon`]:{color:r}}),X=n=>{const{componentCls:t,motionDurationSlow:r,marginXS:s,marginSM:c,fontSize:g,fontSizeLG:f,lineHeight:j,borderRadiusLG:D,motionEaseInOutCirc:I,withDescriptionIconSize:R,colorText:F,colorTextHeading:B,withDescriptionPadding:m,defaultPadding:u}=n;return{[t]:Object.assign(Object.assign({},(0,w.Wf)(n)),{position:"relative",display:"flex",alignItems:"center",padding:u,wordWrap:"break-word",borderRadius:D,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:s,lineHeight:0},"&-description":{display:"none",fontSize:g,lineHeight:j},"&-message":{color:B},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${r} ${I}, opacity ${r} ${I},
        padding-top ${r} ${I}, padding-bottom ${r} ${I},
        margin-bottom ${r} ${I}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:m,[`${t}-icon`]:{marginInlineEnd:c,fontSize:R,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:s,color:B,fontSize:f},[`${t}-description`]:{display:"block",color:F}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},K=n=>{const{componentCls:t,colorSuccess:r,colorSuccessBorder:s,colorSuccessBg:c,colorWarning:g,colorWarningBorder:f,colorWarningBg:j,colorError:D,colorErrorBorder:I,colorErrorBg:R,colorInfo:F,colorInfoBorder:B,colorInfoBg:m}=n;return{[t]:{"&-success":$(c,s,r,n,t),"&-info":$(m,B,F,n,t),"&-warning":$(j,f,g,n,t),"&-error":Object.assign(Object.assign({},$(R,I,D,n,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},G=n=>{const{componentCls:t,iconCls:r,motionDurationMid:s,marginXS:c,fontSizeIcon:g,colorIcon:f,colorIconHover:j}=n;return{[t]:{"&-action":{marginInlineStart:c},[`${t}-close-icon`]:{marginInlineStart:c,padding:0,overflow:"hidden",fontSize:g,lineHeight:(0,i.bf)(g),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${r}-close`]:{color:f,transition:`color ${s}`,"&:hover":{color:j}}},"&-close-text":{color:f,transition:`color ${s}`,"&:hover":{color:j}}}}},_=n=>({withDescriptionIconSize:n.fontSizeHeading3,defaultPadding:`${n.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${n.paddingMD}px ${n.paddingContentHorizontalLG}px`});var re=(0,H.I$)("Alert",n=>[X(n),K(n),G(n)],_),q=function(n,t){var r={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.indexOf(s)<0&&(r[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,s=Object.getOwnPropertySymbols(n);c<s.length;c++)t.indexOf(s[c])<0&&Object.prototype.propertyIsEnumerable.call(n,s[c])&&(r[s[c]]=n[s[c]]);return r};const ae={success:p.Z,info:y.Z,error:T.Z,warning:h.Z},ee=n=>{const{icon:t,prefixCls:r,type:s}=n,c=ae[s]||null;return t?(0,b.wm)(t,o.createElement("span",{className:`${r}-icon`},t),()=>({className:P()(`${r}-icon`,t.props.className)})):o.createElement(c,{className:`${r}-icon`})},a=n=>{const{isClosable:t,prefixCls:r,closeIcon:s,handleClose:c,ariaProps:g}=n,f=s===!0||s===void 0?o.createElement(E.Z,null):s;return t?o.createElement("button",Object.assign({type:"button",onClick:c,className:`${r}-close-icon`,tabIndex:0},g),f):null};var ne=o.forwardRef((n,t)=>{const{description:r,prefixCls:s,message:c,banner:g,className:f,rootClassName:j,style:D,onMouseEnter:I,onMouseLeave:R,onClick:F,afterClose:B,showIcon:m,closable:u,closeText:L,closeIcon:M,action:d,id:J}=n,k=q(n,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[ce,pe]=o.useState(!1),de=o.useRef(null);o.useImperativeHandle(t,()=>({nativeElement:de.current}));const{getPrefixCls:ge,direction:ve,alert:l}=o.useContext(W.E_),C=ge("alert",s),[he,ye,Ee]=re(C),Ce=O=>{var U;pe(!0),(U=n.onClose)===null||U===void 0||U.call(n,O)},ue=o.useMemo(()=>n.type!==void 0?n.type:g?"warning":"info",[n.type,g]),Pe=o.useMemo(()=>typeof u=="object"&&u.closeIcon||L?!0:typeof u=="boolean"?u:M!==!1&&M!==null&&M!==void 0?!0:!!(l!=null&&l.closable),[L,M,u,l==null?void 0:l.closable]),me=g&&m===void 0?!0:m,xe=P()(C,`${C}-${ue}`,{[`${C}-with-description`]:!!r,[`${C}-no-icon`]:!me,[`${C}-banner`]:!!g,[`${C}-rtl`]:ve==="rtl"},l==null?void 0:l.className,f,j,Ee,ye),je=(0,Z.Z)(k,{aria:!0,data:!0}),Ie=o.useMemo(()=>{var O,U;return typeof u=="object"&&u.closeIcon?u.closeIcon:L||(M!==void 0?M:typeof(l==null?void 0:l.closable)=="object"&&(!((O=l==null?void 0:l.closable)===null||O===void 0)&&O.closeIcon)?(U=l==null?void 0:l.closable)===null||U===void 0?void 0:U.closeIcon:l==null?void 0:l.closeIcon)},[M,u,L,l==null?void 0:l.closeIcon]),Oe=o.useMemo(()=>{const O=u!=null?u:l==null?void 0:l.closable;if(typeof O=="object"){const{closeIcon:U}=O;return q(O,["closeIcon"])}return{}},[u,l==null?void 0:l.closable]);return he(o.createElement(A.ZP,{visible:!ce,motionName:`${C}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:O=>({maxHeight:O.offsetHeight}),onLeaveEnd:B},(O,U)=>{let{className:fe,style:Se}=O;return o.createElement("div",Object.assign({id:J,ref:(0,x.sQ)(de,U),"data-show":!ce,className:P()(xe,fe),style:Object.assign(Object.assign(Object.assign({},l==null?void 0:l.style),D),Se),onMouseEnter:I,onMouseLeave:R,onClick:F,role:"alert"},je),me?o.createElement(ee,{description:r,icon:n.icon,prefixCls:C,type:ue}):null,o.createElement("div",{className:`${C}-content`},c?o.createElement("div",{className:`${C}-message`},c):null,r?o.createElement("div",{className:`${C}-description`},r):null),d?o.createElement("div",{className:`${C}-action`},d):null,o.createElement(a,{isClosable:Pe,prefixCls:C,closeIcon:Ie,handleClose:Ce,ariaProps:Oe}))}))}),z=e(15671),V=e(43144),N=e(53640),te=e(60136),oe=function(n){function t(){var r;return(0,z.Z)(this,t),r=(0,N.Z)(this,t,arguments),r.state={error:void 0,info:{componentStack:""}},r}return(0,te.Z)(t,n),(0,V.Z)(t,[{key:"componentDidCatch",value:function(s,c){this.setState({error:s,info:c})}},{key:"render",value:function(){const{message:s,description:c,id:g,children:f}=this.props,{error:j,info:D}=this.state,I=(D==null?void 0:D.componentStack)||null,R=typeof s=="undefined"?(j||"").toString():s,F=typeof c=="undefined"?I:c;return j?o.createElement(ne,{id:g,type:"error",message:R,description:o.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},F)}):f}}])}(o.Component);const Q=ne;Q.ErrorBoundary=oe;var se=Q},53640:function(Y,S,e){e.d(S,{Z:function(){return E}});var o=e(61120),p=e(78814),T=e(82963);function E(h,y,v){return y=(0,o.Z)(y),(0,T.Z)(h,(0,p.Z)()?Reflect.construct(y,v||[],(0,o.Z)(h).constructor):y.apply(h,v))}}}]);
