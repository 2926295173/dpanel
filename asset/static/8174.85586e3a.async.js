"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8174],{28307:function(p,C,e){var D=e(15009),n=e.n(D),B=e(99289),d=e.n(B),v=e(5574),j=e.n(v),T=e(38345),i=e(97269),O=e(62370),M=e(5966),o=e(64317),_=e(28036),b=e(85265),u=e(42075),c=e(67294),g=e(3393),l=e(97961),m=e(92754),E=e(82346),t=e(96042),F=e(3616),r=e(85893),U=(0,c.forwardRef)(function(a,y){var Z=(0,c.useState)(!1),W=j()(Z,2),P=W[0],h=W[1],A=(0,c.useRef)(),I=(0,c.useRef)(),V=(0,c.useState)(!1),H=j()(V,2),w=H[0],N=H[1];return(0,c.useImperativeHandle)(y,function(){return{upgradeImage:function(s){var f;return h(!0),(f=A.current)===null||f===void 0||f.setFieldValue("imageUrl",s),(0,g.Gb)({tag:s,type:"pull"})},setImageName:function(s){var f;h(!0),(f=A.current)===null||f===void 0||f.setFieldValue("imageUrl",s)}}}),[(0,r.jsx)(_.ZP,{type:a.buttonType?a.buttonType:"default",onClick:function(){var s,f;a.onClick&&a.onClick(),h(!0),(s=A.current)===null||s===void 0||s.resetFields(),(f=I.current)===null||f===void 0||f.setStart("")},children:"\u62C9\u53D6\u955C\u50CF"},"remoteBtn"),(0,r.jsxs)(b.Z,{forceRender:!0,open:P,title:"\u62C9\u53D6\u8FDC\u7A0B\u955C\u50CF",width:F.R_,onClose:function(){var s;h(!1),(s=I.current)===null||s===void 0||s.close()},footer:!1,children:[(0,r.jsx)(T.Z,{children:(0,r.jsxs)(u.Z,{direction:"vertical",size:"middle",children:[(0,r.jsxs)("div",{children:["1\u3001\u955C\u50CF\u540D\u79F0\u4E2D\u4E0D\u5305\u542B\u4ED3\u5E93\u5730\u5740\u65F6\uFF0C \u9ED8\u8BA4\u4ECE ",(0,r.jsx)("a",{href:"https://hub.docker.com/",target:"_blank",children:"docker hub"})," \u4E2D\u4E0B\u8F7D\uFF0C \u4F60\u53EF\u4EE5",(0,r.jsx)("a",{href:"https://hub.docker.com/search?q=",target:"_blank",children:"\u3010\u67E5\u627E\u3011"})," \u9700\u8981\u7684\u955C\u50CF"]}),(0,r.jsx)("div",{children:"2\u3001\u62C9\u53D6\u975E docker hub \u955C\u50CF\u65F6\uFF0C\u8BF7\u586B\u5199\u5B8C\u6574\u7684\u955C\u50CF\u5730\u5740\u3002"}),(0,r.jsxs)("div",{children:["3\u3001\u76EE\u6807\u4ED3\u5E93\u6709\u6743\u9650\u9A8C\u8BC1\u65F6\uFF0C\u8BF7",(0,r.jsx)(E.Link,{to:"/image/registry",children:"\u3010\u6DFB\u52A0\u3011"}),"\u8BE5\u4ED3\u5E93\uFF0C\u5E76\u914D\u7F6E\u7528\u6237\u540D\u548C\u5BC6\u7801\u6743\u9650"]}),(0,r.jsxs)("div",{children:["4\u3001\u65E0\u6CD5\u6B63\u5E38\u62C9\u53D6\u955C\u50CF\u65F6\u8BF7\u5728 ",(0,r.jsx)(E.Link,{to:"/image/registry",children:"\u3010\u4ED3\u5E93\u7BA1\u7406\u3011"}),"\u4E2D\u914D\u7F6E\u955C\u50CF\u7684\u52A0\u901F\u5730\u5740"]})]})}),(0,r.jsx)(T.Z,{title:"\u62C9\u53D6\u955C\u50CF",headerBordered:!0,children:(0,r.jsxs)(i.A,{formRef:A,submitter:!1,isKeyPressSubmit:!0,onFinish:function(){var R=d()(n()().mark(function s(f){var L,S,k,$,x,G;return n()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return x=(L=f.imageUrl)!==null&&L!==void 0?L:"",f.registry&&(x=f.registry.serverAddress+"/"+x),N(!0),(S=I.current)===null||S===void 0||S.setStart(x),K.next=6,(0,g.Gb)({tag:x,type:"pull",platform:(k=f.platform)!==null&&k!==void 0?k:""}).finally(function(){N(!1)});case 6:return G=K.sent,($=I.current)===null||$===void 0||$.setFinish(),h(!1),a.onFinish&&a.onFinish(G.data.tag),K.abrupt("return",!0);case 11:case"end":return K.stop()}},s)}));return function(s){return R.apply(this,arguments)}}(),children:[(0,r.jsxs)(u.Z.Compact,{children:[(0,r.jsx)(O.Z,{name:"registry",children:(0,r.jsx)(t.Z,{width:"150px"})}),(0,r.jsx)(M.Z,{disabled:w,width:270,name:"imageUrl",placeholder:"\u8BF7\u8F93\u5165\u955C\u50CF\u5730\u5740",required:!0,rules:[{required:!0}]}),(0,r.jsx)(o.Z,{name:"platform",style:{width:100},placeholder:"\u9ED8\u8BA4\u5F53\u524D\u67B6\u6784",options:l.ii.map(function(R){return{label:R.name,value:R.name}})}),(0,r.jsx)(_.ZP,{loading:w,onClick:d()(n()().mark(function R(){var s;return n()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:(s=A.current)===null||s===void 0||s.submit();case 1:case"end":return L.stop()}},R)})),children:"\u62C9\u53D6\u955C\u50CF"}),(0,r.jsx)(_.ZP,{danger:!0,onClick:function(){var s;(s=I.current)===null||s===void 0||s.close()},children:"\u4E2D\u6B62\u6267\u884C"})]}),(0,r.jsx)(O.Z,{label:"\u62C9\u53D6\u8FDB\u5EA6",children:(0,r.jsx)(m.Z,{ref:I})})]})})]},"remoteDrawer")]});C.Z=U},80821:function(p,C,e){e.d(C,{Z:function(){return o}});var D=e(97857),n=e.n(D),B=e(5574),d=e.n(B),v=e(24963),j=e(86738),T=e(28036),i=e(83062),O=e(67294),M=e(85893);function o(_){var b=(0,O.useState)(!1),u=d()(b,2),c=u[0],g=u[1],l=(0,O.useContext)(v.Z),m=l.lang,E=l.message,t=function(){g(!0);var r=_.action();r instanceof Promise?r.then(function(U){if(g(!1),U){typeof _.onSuccess=="function"&&_.onSuccess(U);var a="";_.messageSuccess?typeof _.messageSuccess=="function"?a=_.messageSuccess(U):a=_.messageSuccess.indexOf("notification.")==0?m(_.messageSuccess):_.messageSuccess:a=m("notification.finish"),_.asynced?E.info(a):E.success(a)}}).catch(function(U){g(!1),typeof _.onError=="function"&&_.onError(U)}):g(!1)};return _.confirm?(0,M.jsx)(j.Z,n()(n()({style:{width:500},title:_.confirmTitle?_.confirmTitle:m("notification.title.tip"),description:typeof _.confirm=="string"&&_.confirm.indexOf("notification.")==0?m(_.confirm):_.confirm,onConfirm:t,okText:"Yes",cancelText:"No",onOpenChange:_.confirmOnOpenChange},_.confirmProps),{},{children:(0,M.jsx)(T.ZP,{block:_.block,disabled:_.disabled,icon:!_.children&&c?void 0:_.icon,loading:c,danger:_.danger,type:_.type,children:_.children})})):(0,M.jsx)(i.Z,{title:_.tips,children:(0,M.jsx)(T.ZP,{block:_.block,style:_.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:_.disabled,icon:!_.children&&c?void 0:_.icon,loading:c,onClick:t,danger:_.danger,type:_.type,children:_.children})})}},81366:function(p,C,e){var D=e(97857),n=e.n(D),B=e(19632),d=e.n(B),v=e(5574),j=e.n(v),T=e(27254),i=e(42075),O=e(85418),M=e(25593),o=e(28036),_=e(67294),b=e(31112),u=e(85893),c={title:"ROOT",path:"/"},g=(0,_.forwardRef)(function(l,m){var E=(0,_.useContext)(b.Z),t=E.showPath,F=E.redirectPath,r=(0,_.useState)([c]),U=j()(r,2),a=U[0],y=U[1];(0,_.useImperativeHandle)(m,function(){return{addHistory:function(P,h){h=="/"?y([c]):y([].concat(d()(a),[{title:P,path:h}]))},initHistory:function(P,h){y([n()(n()({},c),{},{children:h})].concat(d()(P)))}}});var Z=function(P){t?t(a[P].title,a[P].path):l.showPath&&l.showPath(a[P].title,a[P].path);var h=a.filter(function(A,I){return I<=P});y(d()(h))};return(0,u.jsxs)(i.Z,{children:[(0,u.jsx)(i.Z.Compact,{children:a.map(function(W,P){return W.children?(0,u.jsxs)(O.Z.Button,{menu:{items:W.children.map(function(h,A){return{key:A,label:(0,u.jsx)(M.Z.Link,{onClick:function(){F(h)},children:h},A)}})},type:"dashed",onClick:function(A){Z(P)},children:[(0,u.jsx)(T.Z,{})," ",W.title]},P):(0,u.jsx)(o.ZP,{icon:(0,u.jsx)(T.Z,{}),type:"dashed",onClick:function(){Z(P)},children:W.title},P)})}),a.length>=2&&(0,u.jsx)(M.Z.Text,{copyable:{text:a[a.length-1].path}})]})});C.Z=g},31112:function(p,C,e){var D=e(67294),n=(0,D.createContext)({});C.Z=n},68536:function(p,C,e){e.d(C,{Z:function(){return M}});var D=e(24963),n=e(93613),B=e(36693),d=e(2741),v=e(25593),j=e(42075),T=e(67294),i=e(85893),O=0;function M(o){var _=(0,T.useContext)(D.Z),b=_.message;return o.isDir?(0,i.jsx)(v.Z.Link,{onClick:function(){o.onClick&&o.onClick()},children:(0,i.jsxs)(j.Z,{children:[(0,i.jsx)(n.Z,{}),o.showName]})}):o.isLink?(0,i.jsx)(v.Z.Link,{onClick:function(){o.onClick&&o.onClick()},children:(0,i.jsxs)(j.Z,{children:[(0,i.jsx)(B.Z,{}),o.showName]})}):(0,i.jsx)(v.Z.Text,{onClick:function(){if(O++,O==2){O=0,o.onClick&&o.onClick();return}setTimeout(function(){O==1&&b.info("\u53CC\u51FB\u67E5\u770B\u6587\u4EF6\u5185\u5BB9"),O=0},400)},style:{cursor:"pointer"},children:(0,i.jsxs)(j.Z,{children:[(0,i.jsx)(d.Z,{}),o.showName]})})}},3616:function(p,C,e){e.d(C,{Ed:function(){return d},FK:function(){return n},R_:function(){return D},ob:function(){return B}});var D=window.innerWidth<=1024?"90vw":"65vw",n="90vw",B="60vw",d="50vh"},24963:function(p,C,e){var D=e(67294),n=(0,D.createContext)({});C.Z=n},97961:function(p,C,e){e.d(C,{GH:function(){return o},MF:function(){return c},_2:function(){return b},fN:function(){return T},ii:function(){return j},vC:function(){return O}});var D=e(15009),n=e.n(D),B=e(99289),d=e.n(B),v=e(82346),j=[{name:"amd64",arch:"amd64",search:["amd64","x86_64","86_64"]},{name:"arm64",arch:"arm64",search:["arm64","arrch64"]},{name:"i386",arch:"386",search:[]},{name:"arm/v6",arch:"arm",search:[]},{name:"arm/v7",arch:"arm",search:[]},{name:"arm/v8",arch:"arm64",search:[]},{name:"ppc64le",arch:"ppc64le",search:[]},{name:"riscv64",arch:"riscv64",search:[]}];function T(l){return i.apply(this,arguments)}function i(){return i=d()(n()().mark(function l(m){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/app/image/create-by-dockerfile",{method:"POST",data:m}));case 1:case"end":return t.stop()}},l)})),i.apply(this,arguments)}function O(l){return M.apply(this,arguments)}function M(){return M=d()(n()().mark(function l(m){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/app/image/import-by-container-tar",{method:"POST",data:m}));case 1:case"end":return t.stop()}},l)})),M.apply(this,arguments)}function o(l){return _.apply(this,arguments)}function _(){return _=d()(n()().mark(function l(m){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/api/app/image/import-by-image-tar",{method:"POST",data:m}));case 1:case"end":return t.stop()}},l)})),_.apply(this,arguments)}function b(l){return u.apply(this,arguments)}function u(){return u=d()(n()().mark(function l(m){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,v.request)("/api/common/attach/delete",{method:"POST",data:m});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},l)})),u.apply(this,arguments)}function c(){return g.apply(this,arguments)}function g(){return g=d()(n()().mark(function l(){return n()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,v.request)("/api/app/image/get-template-list",{method:"POST"}));case 1:case"end":return E.stop()}},l)})),g.apply(this,arguments)}}}]);
