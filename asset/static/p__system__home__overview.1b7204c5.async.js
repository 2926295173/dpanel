"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8566],{1699:function(Q,I,n){n.d(I,{u:function(){return b}});var O=n(9783),s=n.n(O),L=n(97857),_=n.n(L),g=n(67294),M=n(82346),D=n(40411),S=n(42075),j=n(85893),b=function(t){var f=(0,M.useAccess)(),m=Array.isArray(t.access)?t.access:[t.access],o,e=t.fallback;return typeof t.children=="function"?(o=t.children(m.reduce(function(R,W){return _()(_()({},R),{},s()({},W,f[W]))},{})),o||(o=e)):m.every(function(R){return f[R]})?o=t.children:o=e,!e&&o&&t.showProTips&&f.canSeeEnableCe&&(o=(0,j.jsx)(D.Z,{offset:t.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:o})),!e&&o&&t.showProRibbonTips&&f.canSeeEnableCe&&(o=(0,j.jsx)(D.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:o})),t.space?(0,j.jsx)(S.Z,_()(_()({},t.space),{},{children:o})):o}},80821:function(Q,I,n){n.d(I,{Z:function(){return p}});var O=n(97857),s=n.n(O),L=n(5574),_=n.n(L),g=n(24963),M=n(86738),D=n(28036),S=n(83062),j=n(67294),b=n(85893);function p(t){var f=(0,j.useState)(!1),m=_()(f,2),o=m[0],e=m[1],R=(0,j.useContext)(g.Z),W=R.lang,X=R.message,K=function(){e(!0);var H=t.action();H instanceof Promise?H.then(function(E){if(e(!1),E){typeof t.onSuccess=="function"&&t.onSuccess(E);var l="";t.messageSuccess?typeof t.messageSuccess=="function"?l=t.messageSuccess(E):l=t.messageSuccess.indexOf("notification.")==0?W(t.messageSuccess):t.messageSuccess:l=W("notification.finish"),t.asynced?X.info(l):X.success(l)}}).catch(function(E){e(!1),typeof t.onError=="function"&&t.onError(E)}):e(!1)};return t.confirm?(0,b.jsx)(M.Z,s()(s()({style:{width:500},title:t.confirmTitle?t.confirmTitle:W("notification.title.tip"),description:typeof t.confirm=="string"&&t.confirm.indexOf("notification.")==0?W(t.confirm):t.confirm,onConfirm:K,okText:"Yes",cancelText:"No",onOpenChange:t.confirmOnOpenChange},t.confirmProps),{},{children:(0,b.jsx)(D.ZP,{block:t.block,disabled:t.disabled,icon:!t.children&&o?void 0:t.icon,loading:o,danger:t.danger,type:t.type,children:t.children})})):(0,b.jsx)(S.Z,{title:t.tips,children:(0,b.jsx)(D.ZP,{block:t.block,style:t.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:t.disabled,icon:!t.children&&o?void 0:t.icon,loading:o,onClick:K,danger:t.danger,type:t.type,children:t.children})})}},27619:function(Q,I,n){n.d(I,{Z:function(){return p}});var O=n(97857),s=n.n(O),L=n(19632),_=n.n(L),g=n(5574),M=n.n(g),D=n(64183),S=n(82346),j=n(67294),b=n(85893);function p(t){var f,m=(0,j.useState)("academy"),o=M()(m,2),e=o[0],R=o[1],W=Math.max.apply(Math,_()(t.data.map(function(H){var E;return(E=H[t.yField])!==null&&E!==void 0?E:0}))),X=(0,S.useModel)("@@initialState"),K=X.initialState,N={xField:t.xField,yField:t.yField,height:200,axis:{y:{line:!0},x:{line:!0,grid:{visable:!0},labelAutoRotate:!0}},style:{opacity:.4},tooltip:{channel:"y",valueFormatter:t.yLabelFormatter},scale:{y:{domainMin:(f=t.yDomainMin)!==null&&f!==void 0?f:0,domainMax:t.yDomainMax?t.yDomainMax:t.yDomainMaxCallback?t.yDomainMaxCallback(W):W}},data:t.data};return t.yLabelFormatter&&(N.axis.y.labelFormatter=t.yLabelFormatter),t.colorField&&(N.colorField=t.colorField),(0,j.useEffect)(function(){var H=window.matchMedia("(prefers-color-scheme: dark)");(K==null?void 0:K.theme.algorithm)=="dark"||H.matches?R("classicDark"):R("academy")},[K]),(0,b.jsx)(D.Z,s()({theme:e},N))}},3616:function(Q,I,n){n.d(I,{Ed:function(){return _},FK:function(){return s},R_:function(){return O},ob:function(){return L}});var O=window.innerWidth<=1024?"90vw":"65vw",s="90vw",L="60vw",_="50vh"},24963:function(Q,I,n){var O=n(67294),s=(0,O.createContext)({});I.Z=s},52756:function(Q,I,n){n.r(I),n.d(I,{default:function(){return b},getLang:function(){return j}});var O=n(82346),s=n(31418),L=n(26058),_=n(85137),g=n(24963),M=n(65913),D=n(67294),S=n(85893);function j(p,t){return(0,O.getIntl)((0,O.getLocale)()).formatMessage({id:p},t)}function b(){var p=(0,D.useRef)(),t=(0,O.useIntl)(),f=function(l){for(var c=arguments.length,a=new Array(c>1?c-1:0),y=1;y<c;y++)a[y-1]=arguments[y];o.notification[l]({message:t.formatMessage({id:"notification.title."+l}),description:a.join(" "),placement:"topRight"})},m=function(l){for(var c=arguments.length,a=new Array(c>1?c-1:0),y=1;y<c;y++)a[y-1]=arguments[y];o.message[l](a.join(" "))},o=s.Z.useApp(),e=(0,O.useModel)("@@initialState"),R=e.initialState,W=e.loading,X=e.error,K=e.refresh,N=e.setInitialState,H=(0,O.useModel)("subscriber");return R!=null&&R.user.username&&H.addDataHandler("user:permission:".concat(R==null?void 0:R.user.username),function(E){K()}),(0,S.jsx)(L.Z,{children:(0,S.jsx)(g.Z.Provider,{value:{notice:{success:function(){for(var l=arguments.length,c=new Array(l),a=0;a<l;a++)c[a]=arguments[a];f.apply(void 0,["success"].concat(c))},error:function(){for(var l=arguments.length,c=new Array(l),a=0;a<l;a++)c[a]=arguments[a];f.apply(void 0,["error"].concat(c))},warning:function(){for(var l=arguments.length,c=new Array(l),a=0;a<l;a++)c[a]=arguments[a];f.apply(void 0,["warning"].concat(c))},info:function(){for(var l=arguments.length,c=new Array(l),a=0;a<l;a++)c[a]=arguments[a];f.apply(void 0,["info"].concat(c))},destroy:function(){o.notification.destroy()}},message:{success:function(){for(var l=arguments.length,c=new Array(l),a=0;a<l;a++)c[a]=arguments[a];m.apply(void 0,["success"].concat(c))},error:function(){for(var l=arguments.length,c=new Array(l),a=0;a<l;a++)c[a]=arguments[a];m.apply(void 0,["error"].concat(c))},warning:function(){for(var l=arguments.length,c=new Array(l),a=0;a<l;a++)c[a]=arguments[a];m.apply(void 0,["warning"].concat(c))},info:function(){for(var l=arguments.length,c=new Array(l),a=0;a<l;a++)c[a]=arguments[a];m.apply(void 0,["info"].concat(c))},loading:function(){for(var l=arguments.length,c=new Array(l),a=0;a<l;a++)c[a]=arguments[a];m.apply(void 0,["loading"].concat(c))},destroy:function(){o.message.destroy()}},loading:{show:function(){p.current&&p.current.show()},destroy:function(){p.current&&p.current.destroy()}},lang:function(l,c){return t.formatMessage({id:l},c)}},children:(0,S.jsxs)(M.Z,{ref:p,children:[(0,S.jsx)(O.Outlet,{}),(0,S.jsx)(_.Z.BackTop,{duration:10,style:{bottom:100}})]})},W?"1":"2")})}},65913:function(Q,I,n){var O=n(5574),s=n.n(O),L=n(74330),_=n(67294),g=n(85893),M=(0,_.forwardRef)(function(D,S){(0,_.useImperativeHandle)(S,function(){return{show:function(){t(!0)},destroy:function(){t(!1)}}});var j=(0,_.useState)(!1),b=s()(j,2),p=b[0],t=b[1];return(0,g.jsx)(L.Z,{spinning:p,size:"default",children:D.children})});I.Z=M},62115:function(Q,I,n){n.r(I),n.d(I,{default:function(){return qe}});var O=n(15009),s=n.n(O),L=n(99289),_=n.n(L),g=n(5574),M=n.n(g),D=n(19632),S=n.n(D),j=n(1699),b=n(80821),p=n(27619),t=n(97857),f=n.n(t),m=n(28413),o=n(67294),e=n(85893),R=(0,o.forwardRef)(function(F,te){(0,o.useImperativeHandle)(te,function(){return{zoomIn:function(){G<=0||G-5<=0?ne(1):ne(G-5)},zoomOut:function(){G>F.data.length||G+5>F.data.length?ne(F.data.length):ne(G+5)}}});var ae=(0,o.useState)(20),ee=M()(ae,2),G=ee[0],ne=ee[1],oe={colorField:"value",valueField:"value",scale:{color:{range:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"]}},legend:!1},ue=function(){return F.data.length<=G?F.data:F.data.slice(0,G)};return(0,o.useEffect)(function(){},[]),F.data?(0,e.jsx)(m.Z,f()(f()({},oe),{},{height:500,data:{name:"root",children:ue()}})):(0,e.jsx)(e.Fragment,{})}),W=R,X=n(55241),K=n(71230),N=n(15746),H=n(38703),E=(0,o.forwardRef)(function(F,te){return(0,o.useImperativeHandle)(te,function(){return{}}),(0,e.jsxs)(X.Z,{placement:"left",children:[(0,e.jsx)(K.Z,{justify:"center",children:(0,e.jsx)(N.Z,{children:(0,e.jsx)(H.Z,{percent:F.showPercent,type:"dashboard",format:function(ee,G){return"".concat(ee,"%")},size:150,status:F.showPercent>=100?"exception":"normal"})})}),(0,e.jsx)(K.Z,{justify:"center",children:(0,e.jsxs)(N.Z,{style:{marginTop:"10px"},children:[F.showLabel,": ",F.showUse," / ",F.showTotal]})})]})}),l=E,c=n(3616),a=n(52756),y=n(24963),U=n(87662),i=n(2831),ze=n(18148),Ie=n(89075),ke=n(20578),B=n(5251),Ge=n(45605),Ve=n(1210),de=n(12122),Ne=n(35598),He=n(15668),Z=n(38345),Te=n(184),$=n(88273),J=n(82346),ie=n(42075),_e=n(28036),k=n(26412),me=n(83062),Ye=n(40411),Ce=n(25593),Se=n(60940),Qe=n(86250),Xe=n(96074),Je=n(93162);function qe(){var F,te,ae,ee,G,ne,oe,ue,re,fe,he,ve,ge,pe,Ee,je,Pe,De,ye,Oe,en=function(h,d){switch(d.type){case"update":var A=new Date().toLocaleTimeString(),v=0,x=0,le=0,ce=0,V=0,C=0;d.payload.map(function(z){v+=z.cpu,x+=z.memory.in,le+=z.networkIO.in,ce+=z.networkIO.out,V+=z.blockIO.in,C+=z.blockIO.out});var q={list:d.payload,cpu:v,memory:x,network:[].concat(S()(h.network.slice(0,20)),[{date:A,usage:ce,type:"\u4E0A\u884C",source:{usage:ce}},{date:A,type:"\u4E0B\u884C",usage:le,source:{usage:le}}]),io:[].concat(S()(h.io.slice(0,20)),[{date:A,usage:C,type:"\u8BFB\u53D6",source:{usage:C}},{date:A,type:"\u5199\u5165",usage:V,source:{usage:V}}])};return q}},se=(0,J.useAccess)(),Me=(0,o.useRef)(),nn=(0,o.useState)(),Ue=M()(nn,2),be=Ue[0],tn=Ue[1],an=(0,o.useState)(),Ae=M()(an,2),Y=Ae[0],rn=Ae[1],sn=(0,o.useState)(),Re=M()(sn,2),r=Re[0],on=Re[1],un=(0,o.useState)(),Le=M()(un,2),T=Le[0],ln=Le[1],dn=(0,o.useState)(),Be=M()(dn,2),u=Be[0],cn=Be[1],_n=(0,o.useState)(),Fe=M()(_n,2),xe=Fe[0],mn=Fe[1],fn=(0,o.useReducer)(en,{cpu:0,memory:0,network:[],io:[],list:[]}),We=M()(fn,2),w=We[0],Ze=We[1],hn=(0,o.useContext)(y.Z),$e=hn.loading,we=(0,J.useModel)("subscriber");we.addDataHandler("container:stat",function(P){Ze({type:"update",payload:P.data})});var Ke=function(){var P=_()(s()().mark(function h(){var d,A,v,x,le;return s()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return $e.show(),V.next=3,(0,i.aF)().finally(function(){$e.destroy()});case 3:return d=V.sent,on(d.data),V.next=7,(0,i.Ll)();case 7:return A=V.sent,cn(A.data),v={total:0,container:0,volume:0,image:0,cache:0,item:[],updatedAt:""},x=A.data.diskUsage,x.usage.Containers&&x.usage.Containers.map(function(C){var q,z;v.container+=C.SizeRootFs+((q=C.SizeRw)!==null&&q!==void 0?q:0),v.item.push({name:C.Names[0],value:parseFloat(((C.SizeRootFs+((z=C.SizeRw)!==null&&z!==void 0?z:0))/1024/1024).toFixed(2))})}),x.usage.Volumes&&x.usage.Volumes.map(function(C){v.volume+=C.UsageData.Size,v.item.push({name:C.Name,value:parseFloat((C.UsageData.Size/1024/1024).toFixed(2))})}),x.usage.Images&&x.usage.Images.map(function(C){var q,z;v.image+=C.Size-((q=C.Sharedsize)!==null&&q!==void 0?q:0),v.item.push({name:C.RepoTags&&C.RepoTags.length>0?C.RepoTags[0]:C.Id,value:parseFloat(((C.Size-((z=C.Sharedsize)!==null&&z!==void 0?z:0))/1024/1024).toFixed(2))})}),x.usage.BuildCache&&x.usage.BuildCache.map(function(C){v.cache+=C.Size}),!x.usage.Containers&&!x.usage.Images&&!x.usage.Volumes?v.item.push({name:"\u6B63\u5728\u83B7\u53D6\u8BA1\u7B97,\u4E2A\u522B\u7CFB\u7EDF\u4F1A\u6BD4\u8F83\u8017\u65F6.",value:100}):v.updatedAt=new Date(x.updatedAt).toLocaleString(),v.total=x.usage.LayersSize,ln(v),V.next=20,(0,U.Cz)({follow:!0});case 20:le=V.sent,Ze({type:"update",payload:[]});case 22:case"end":return V.stop()}},h)}));return function(){return P.apply(this,arguments)}}();return(0,o.useEffect)(function(){return Ke(),!se.canSeeEnableCe&&(0,Ie.YQ)().then(function(P){tn(P.data)}),!se.canSeeEnableCe&&(0,ke.q)().then(function(P){rn(P.data)}),(0,i.u5)().then(function(P){mn(P.data)}),function(){we.progress.close("container:stat")}},[]),(0,e.jsxs)(Z.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,e.jsxs)(Z.Z,{bordered:!0,split:"vertical",wrap:!0,children:[(0,e.jsx)(Z.Z,{style:{height:"570px",overflow:"hidden"},colSpan:{xs:24,sm:24,md:24,lg:9,xl:9},headerBordered:!0,title:(0,e.jsx)(Ge.Z,{}),subTitle:"\u57FA\u7840\u4FE1\u606F",extra:(0,e.jsx)(ie.Z,{children:se.canSeeEnableCe?se.canSeeEnableInDPanel&&(0,e.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/manual/pro",target:"_blank",children:(0,a.getLang)("system.home.buyProTitle")},"proLink"):be&&be.expireTime?(0,e.jsxs)("span",{children:["\u8FC7\u671F\u65F6\u95F4: ",new Date(be.expireTime).toLocaleString()]},"expireTime"):(0,e.jsx)(_e.ZP,{type:"link",onClick:_()(s()().mark(function P(){var h,d;return s()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,Ie.$w)();case 2:h=v.sent,d=new Blob([h.data.code],{type:"text/plain"}),(0,Je.saveAs)(d,"dpanel.code");case 5:case"end":return v.stop()}},P)})),children:"\u6388\u6743\u7801"},"downloadCode")}),children:(0,e.jsxs)(k.Z,{column:1,labelStyle:{width:100,justifyContent:"flex-end"},children:[(0,e.jsx)(k.Z.Item,{label:"\u9762\u677F\u4FE1\u606F",children:(0,e.jsxs)(ie.Z,{direction:"horizontal",wrap:!0,children:[r==null?void 0:r.dpanel.version," - ",r==null?void 0:r.dpanel.env," - ",r==null?void 0:r.dpanel.family,se.canSeeEnableInDPanel&&(0,e.jsx)(me.Z,{title:"\u5347\u7EA7\u65E5\u5FD7",children:(0,e.jsx)("a",{target:"_blank",href:"https://github.com/donknap/dpanel/releases",children:(0,e.jsx)(Ve.Z,{})})}),xe&&xe.newVersion!=""&&(0,e.jsx)(J.Link,{to:"/system/upgrade",children:(0,e.jsx)(Ye.Z,{count:xe.newVersion,size:"small"})})]})}),(0,e.jsxs)(k.Z.Item,{label:"Docker Host",children:[r==null?void 0:r.info.Name," ",(0,e.jsx)(e.Fragment,{children:(r==null?void 0:r.info.ID)==""&&(0,e.jsx)(J.Link,{to:"/system/env",state:{item:{name:"local",title:"\u672C\u5730"},t:(0,B.Fs)()},children:"\u914D\u7F6E\u9ED8\u8BA4 Docker \u5BA2\u6237\u7AEF"})})]}),(0,e.jsx)(k.Z.Item,{label:"Docker \u7248\u672C",children:"".concat(r==null?void 0:r.info.OperatingSystem," - ").concat(r==null?void 0:r.info.ServerVersion," - ").concat(r==null?void 0:r.sdkVersion)}),(0,e.jsx)(k.Z.Item,{label:"\u6587\u4EF6\u5B58\u50A8\u9A71\u52A8",children:"".concat(r==null?void 0:r.info.Driver)}),(0,e.jsx)(k.Z.Item,{label:"\u65E5\u5FD7\u9A71\u52A8",children:"".concat(r==null?void 0:r.info.LoggingDriver)}),(0,e.jsx)(k.Z.Item,{label:"\u7CFB\u7EDF\u67B6\u6784",children:"".concat(r==null?void 0:r.info.KernelVersion," - ").concat(r==null?void 0:r.info.Architecture)}),(0,e.jsxs)(k.Z.Item,{label:"Cpu",children:[r==null?void 0:r.info.NCPU," \u6838"]}),(0,e.jsx)(k.Z.Item,{label:"Memory",children:(0,B.FI)((F=r==null?void 0:r.info.MemTotal)!==null&&F!==void 0?F:0)}),(0,e.jsx)(k.Z.Item,{label:"\u6839\u76EE\u5F55",children:r==null?void 0:r.info.DockerRootDir}),(0,e.jsx)(k.Z.Item,{label:"\u5B58\u50A8\u5377\u63D2\u4EF6",children:(0,e.jsx)(ie.Z,{children:r==null?void 0:r.info.Plugins.Volume})}),(0,e.jsx)(k.Z.Item,{label:"\u7F51\u7EDC\u63D2\u4EF6",children:(0,e.jsx)(ie.Z,{wrap:!0,children:r==null?void 0:r.info.Plugins.Network})}),(0,e.jsx)(k.Z.Item,{label:"\u7CFB\u7EDF\u65F6\u95F4",children:new Date((te=r==null?void 0:r.info.SystemTime)!==null&&te!==void 0?te:"").toLocaleString()})]})}),(0,e.jsxs)(Z.Z,{headerBordered:!0,colSpan:{xs:24,sm:24,md:24,lg:15,xl:15},title:(0,e.jsx)(de.Z,{}),subTitle:"\u5BB9\u5668\u8FD0\u884C\u7EDF\u8BA1",split:"horizontal",extra:(0,e.jsx)(Te.a,{drawerProps:{width:c.R_},title:"\u5BB9\u5668\u72B6\u6001\u6570\u636E",submitter:!1,trigger:(0,e.jsx)(Ce.Z.Link,{children:"\u8BE6\u60C5\u6570\u636E"}),children:(0,e.jsx)(Se.Z,{pagination:!1,dataSource:w.list,rowKey:"name",columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"name"},{title:"Cpu",dataIndex:"cpu",sorter:function(h,d){return h.cpu-d.cpu},render:function(h,d,A){return"".concat(d.cpu.toFixed(2),"%")}},{title:"\u5185\u5B58",dataIndex:"memory",sorter:function(h,d){return h.memory.in-d.memory.in},render:function(h,d,A){var v,x;return"".concat((0,B.FI)((v=d==null?void 0:d.memory.in)!==null&&v!==void 0?v:0)," / ").concat((0,B.FI)((x=d==null?void 0:d.memory.out)!==null&&x!==void 0?x:0))}},{title:"\u7F51\u7EDC I/O",dataIndex:"networkIO",render:function(h,d,A){return"".concat((0,B.FI)(d.networkIO.in)," / ").concat((0,B.FI)(d.networkIO.out))}},{title:"\u78C1\u76D8 I/O",dataIndex:"blockIO",render:function(h,d,A){return"".concat((0,B.FI)(d.blockIO.in)," / ").concat((0,B.FI)(d.blockIO.out))}}]})}),children:[(0,e.jsx)(Z.Z,{children:(0,e.jsxs)(Qe.Z,{gap:50,align:"center",justify:"space-evenly",children:[(0,e.jsx)(l,{showPercent:parseFloat((((ae=w==null?void 0:w.cpu)!==null&&ae!==void 0?ae:0)/((ee=r==null?void 0:r.info.NCPU)!==null&&ee!==void 0?ee:0)).toFixed(2)),showLabel:"Cpu",showUse:"".concat(((G=w==null?void 0:w.cpu)!==null&&G!==void 0?G:0).toFixed(2)),showTotal:"".concat((ne=r==null?void 0:r.info.NCPU)!==null&&ne!==void 0?ne:0," \u6838")}),(0,e.jsx)(l,{showPercent:parseFloat((((oe=w==null?void 0:w.memory)!==null&&oe!==void 0?oe:0)/((ue=r==null?void 0:r.info.MemTotal)!==null&&ue!==void 0?ue:0)*100).toFixed(2)),showLabel:"\u5185\u5B58",showUse:(0,B.FI)((re=w==null?void 0:w.memory)!==null&&re!==void 0?re:0),showTotal:"".concat((0,B.FI)((fe=r==null?void 0:r.info.MemTotal)!==null&&fe!==void 0?fe:0))})]})}),(0,e.jsxs)(Z.Z,{split:"vertical",wrap:!0,children:[(0,e.jsx)(Z.Z,{colSpan:12,title:(0,e.jsx)(de.Z,{}),subTitle:"\u7F51\u7EDC",headerBordered:!0,children:(0,e.jsx)(p.Z,{yField:"usage",xField:"date",colorField:"type",data:w.network,yLabelFormatter:function(h){return(0,B.FI)(parseFloat(h))},yDomainMaxCallback:function(h){return h*1.5}})}),(0,e.jsx)(Z.Z,{colSpan:12,title:(0,e.jsx)(de.Z,{}),subTitle:"\u78C1\u76D8",headerBordered:!0,children:(0,e.jsx)(p.Z,{yField:"usage",xField:"date",colorField:"type",data:w.io,yLabelFormatter:function(h){return(0,B.FI)(parseFloat(h))},yDomainMaxCallback:function(h){return h*1.5}})})]})]})]}),(0,e.jsxs)(Z.Z,{bordered:!0,headerBordered:!0,title:(0,e.jsx)(de.Z,{}),subTitle:"\u7528\u91CF\u7EDF\u8BA1",wrap:!0,extra:(0,e.jsxs)(ie.Z,{children:[(0,e.jsx)(_e.ZP,{icon:(0,e.jsx)(Ne.Z,{}),onClick:function(){var h;(h=Me.current)===null||h===void 0||h.zoomIn()},shape:"circle"}),(0,e.jsx)(_e.ZP,{icon:(0,e.jsx)(He.Z,{}),onClick:function(){var h;(h=Me.current)===null||h===void 0||h.zoomOut()},shape:"circle"}),(0,e.jsx)(Xe.Z,{type:"vertical"}),(0,e.jsx)("span",{children:T&&T.updatedAt?"\u6570\u636E\u6700\u540E\u66F4\u65B0: ".concat(T.updatedAt):""},"lastUpdate")]},"size"),children:[(0,e.jsx)(Z.Z,{colSpan:{xs:24,sm:24,md:24,lg:24,xl:12,xxl:12},ghost:!0,children:(T==null?void 0:T.item)&&(T==null?void 0:T.item.length)>0&&(0,e.jsx)(W,{ref:Me,data:(he=T==null?void 0:T.item)!==null&&he!==void 0?he:[]})}),(0,e.jsxs)(Z.Z,{colSpan:{xs:24,sm:8,md:8,lg:8,xl:4,xxl:4},split:"horizontal",ghost:!0,children:[(0,e.jsx)($.Z,{statistic:{title:"\u5BB9\u5668",value:(0,B.FI)((ve=T==null?void 0:T.container)!==null&&ve!==void 0?ve:0),description:"\u955C\u50CF\u53CA\u5199\u5165\u6570\u636E"}}),(0,e.jsx)($.Z,{statistic:{title:"\u955C\u50CF",value:(0,B.FI)((ge=T==null?void 0:T.image)!==null&&ge!==void 0?ge:0),description:"\u5305\u542B\u4E2D\u95F4\u955C\u50CF"}}),(0,e.jsx)($.Z,{statistic:{title:"\u5B58\u50A8",value:(0,B.FI)((pe=T==null?void 0:T.volume)!==null&&pe!==void 0?pe:0),description:"\u53EA\u7EDF\u8BA1\u5B58\u50A8\u5377"}}),(0,e.jsx)($.Z,{statistic:{title:"\u6784\u5EFA\u7F13\u5B58",value:(0,B.FI)((Ee=T==null?void 0:T.cache)!==null&&Ee!==void 0?Ee:0),description:(0,e.jsx)(j.u,{access:"canSeeHomeOverviewClear",children:(0,e.jsx)(b.Z,{action:function(){return(0,ze.c5)()},type:"link",onSuccess:function(){Ke()},ghost:!0,children:"\u6E05\u9664"})})}})]}),(0,e.jsxs)(Z.Z,{colSpan:{xs:24,sm:16,md:16,lg:16,xl:8,xxl:8},ghost:!0,split:"horizontal",children:[(0,e.jsx)(Z.Z,{ghost:!0,children:(0,e.jsxs)($.Z.Group,{children:[(0,e.jsx)($.Z,{statistic:{title:"\u5BB9\u5668",value:(je=r==null?void 0:r.info.Containers)!==null&&je!==void 0?je:0,description:(0,e.jsx)(J.Link,{to:"/app/list",children:"\u67E5\u770B"})}}),!se.canSeeEnableCe&&(0,e.jsx)($.Z,{statistic:{title:"\u65B0\u7248\u672C",status:"processing",valueRender:function(h){var d,A,v;return(0,e.jsx)(me.Z,{title:"\u5FFD\u7565:  ".concat((d=Y==null?void 0:Y.ignore)!==null&&d!==void 0?d:0," \u5931\u8D25: ").concat((A=Y==null?void 0:Y.failed)!==null&&A!==void 0?A:0," \u672C\u5730:").concat((v=Y==null?void 0:Y.local)!==null&&v!==void 0?v:0),children:Y==null?void 0:Y.upgrade})}}}),(0,e.jsx)($.Z,{statistic:{title:"\u9884\u8B66",status:"error",valueRender:function(h){var d,A,v,x=0;return u&&u.total&&u.total.containerRunning.stop&&(x+=u.total.containerRunning.stop),u&&u.total&&u.total.containerRunning.pause&&(x+=u.total.containerRunning.pause),u&&u.total&&u.total.containerRunning.unhealthy&&(x+=u.total.containerRunning.unhealthy),(0,e.jsx)(me.Z,{title:"\u505C\u6B62\uFF1A".concat((d=u==null?void 0:u.total.containerRunning.stop)!==null&&d!==void 0?d:0,"\uFF0C\u6682\u505C\uFF1A").concat((A=u==null?void 0:u.total.containerRunning.pause)!==null&&A!==void 0?A:0,"\uFF0C\u4E0D\u5065\u5EB7\uFF1A").concat((v=u==null?void 0:u.total.containerRunning.unhealthy)!==null&&v!==void 0?v:0),children:x})}}}),(0,e.jsx)($.Z,{statistic:{title:"\u56DE\u6536\u7AD9",value:(Pe=u==null?void 0:u.total.containerTask)!==null&&Pe!==void 0?Pe:0,description:(0,e.jsx)(J.Link,{to:"/app/list/recycle",children:"\u67E5\u770B"})}})]})}),(0,e.jsxs)(Z.Z,{ghost:!0,children:[(0,e.jsx)($.Z,{statistic:{title:"\u955C\u50CF",value:"".concat((De=(u==null?void 0:u.diskUsage.usage.Images)&&(u==null?void 0:u.diskUsage.usage.Images.length))!==null&&De!==void 0?De:0),description:(0,e.jsx)(J.Link,{to:"/image/list",children:"\u67E5\u770B"})},chartPlacement:"left"}),(0,e.jsx)($.Z,{statistic:{title:"\u4EFB\u52A1",value:(ye=u==null?void 0:u.total.imageTask)!==null&&ye!==void 0?ye:0,description:(0,e.jsx)(J.Link,{to:"/image/list/recycle",children:"\u67E5\u770B"})},chartPlacement:"left"})]}),(0,e.jsxs)(Z.Z,{ghost:!0,children:[(0,e.jsx)($.Z,{statistic:{title:"\u7F51\u7EDC",value:u==null?void 0:u.total.network,description:(0,e.jsx)(J.Link,{to:"/docker/network",children:"\u67E5\u770B"})},chartPlacement:"left"}),(0,e.jsx)($.Z,{statistic:{title:"\u7AEF\u53E3\u6620\u5C04",value:u==null?void 0:u.total.port,description:(0,e.jsx)(Te.a,{drawerProps:{width:c.R_},submitter:!1,title:"\u67E5\u770B\u6620\u5C04\u7AEF\u53E3",trigger:(0,e.jsx)(Ce.Z.Link,{children:"\u67E5\u770B"}),children:(0,e.jsx)(Se.Z,{pagination:!1,dataSource:u==null?void 0:u.port,rowKey:"name",columns:[{title:"\u4E3B\u673A\u7AEF\u53E3",dataIndex:["port","host"],sorter:function(h,d){return parseInt(h.port.host)-parseInt(d.port.host)},render:function(h,d,A){return d.port.host!="0"?"".concat(d.port.hostIp,":").concat(d.port.host):"-"}},{title:"\u5BB9\u5668\u7AEF\u53E3",dataIndex:["port","dest"]},{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"name",render:function(h,d,A){return(0,B.fi)(d.name,"/")}}]})})},chartPlacement:"left"})]}),(0,e.jsxs)(Z.Z,{ghost:!0,children:[(0,e.jsx)($.Z,{statistic:{title:"\u5B58\u50A8\u5377",value:(Oe=(u==null?void 0:u.diskUsage.usage.Volumes)&&(u==null?void 0:u.diskUsage.usage.Volumes.length))!==null&&Oe!==void 0?Oe:0,description:(0,e.jsx)(J.Link,{to:"/docker/volume",children:"\u67E5\u770B"})},chartPlacement:"left"}),(0,e.jsx)($.Z,{statistic:{title:"\u5907\u4EFD",value:u==null?void 0:u.total.backup,description:(0,e.jsx)(J.Link,{to:"/app/backup",children:"\u67E5\u770B"})},chartPlacement:"left"})]})]})]})]})}},2831:function(Q,I,n){n.d(I,{Ll:function(){return b},aF:function(){return M},d6:function(){return t},u5:function(){return S}});var O=n(15009),s=n.n(O),L=n(99289),_=n.n(L),g=n(82346);function M(){return D.apply(this,arguments)}function D(){return D=_()(s()().mark(function m(){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.request)("/api/common/home/info",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},m)})),D.apply(this,arguments)}function S(){return j.apply(this,arguments)}function j(){return j=_()(s()().mark(function m(){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},m)})),j.apply(this,arguments)}function b(){return p.apply(this,arguments)}function p(){return p=_()(s()().mark(function m(){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.request)("/api/common/home/usage",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},m)})),p.apply(this,arguments)}function t(){return f.apply(this,arguments)}function f(){return f=_()(s()().mark(function m(){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},m)})),f.apply(this,arguments)}},18148:function(Q,I,n){n.d(I,{$q:function(){return m},Fj:function(){return H},KG:function(){return M},KX:function(){return l},T8:function(){return t},Xn:function(){return b},ao:function(){return e},c5:function(){return K},c7:function(){return W}});var O=n(15009),s=n.n(O),L=n(99289),_=n.n(L),g=n(82346);function M(a){return D.apply(this,arguments)}function D(){return D=_()(s()().mark(function a(y){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,g.request)("/api/app/image/get-list",{method:"POST",data:y}));case 1:case"end":return i.stop()}},a)})),D.apply(this,arguments)}function S(a){return j.apply(this,arguments)}function j(){return j=_asyncToGenerator(_regeneratorRuntime().mark(function a(y){return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,request("/api/app/log/image-build",{method:"POST",data:y});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},a)})),j.apply(this,arguments)}function b(a){return p.apply(this,arguments)}function p(){return p=_()(s()().mark(function a(y){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,g.request)("/api/app/image/get-list-build",{method:"POST",data:y}));case 1:case"end":return i.stop()}},a)})),p.apply(this,arguments)}function t(a){return f.apply(this,arguments)}function f(){return f=_()(s()().mark(function a(y){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,g.request)("/api/app/image/get-build-task",{method:"POST",data:y});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},a)})),f.apply(this,arguments)}function m(a){return o.apply(this,arguments)}function o(){return o=_()(s()().mark(function a(y){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,g.request)("/api/app/image/delete-build-task",{method:"POST",data:y});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},a)})),o.apply(this,arguments)}function e(a){return R.apply(this,arguments)}function R(){return R=_()(s()().mark(function a(y){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,g.request)("/api/app/image/image-delete",{method:"POST",data:y});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},a)})),R.apply(this,arguments)}function W(){return X.apply(this,arguments)}function X(){return X=_()(s()().mark(function a(){return s()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,g.request)("/api/app/image/image-prune",{method:"POST"});case 2:return U.abrupt("return",U.sent);case 3:case"end":return U.stop()}},a)})),X.apply(this,arguments)}function K(){return N.apply(this,arguments)}function N(){return N=_()(s()().mark(function a(){return s()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,g.request)("/api/app/image/build-prune",{method:"POST"});case 2:return U.abrupt("return",U.sent);case 3:case"end":return U.stop()}},a)})),N.apply(this,arguments)}function H(a){return E.apply(this,arguments)}function E(){return E=_()(s()().mark(function a(y){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,g.request)("/api/app/image/update-title",{method:"POST",data:y});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},a)})),E.apply(this,arguments)}function l(a){return c.apply(this,arguments)}function c(){return c=_()(s()().mark(function a(y){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,g.request)("/api/app/image/tag-sync",{method:"POST",data:y}));case 1:case"end":return i.stop()}},a)})),c.apply(this,arguments)}},89075:function(Q,I,n){n.d(I,{$w:function(){return M},YQ:function(){return S},ax:function(){return b}});var O=n(15009),s=n.n(O),L=n(99289),_=n.n(L),g=n(82346);function M(){return D.apply(this,arguments)}function D(){return D=_()(s()().mark(function t(){return s()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,g.request)("/api/pro/home/get-machine-id",{method:"POST"}));case 1:case"end":return m.stop()}},t)})),D.apply(this,arguments)}function S(){return j.apply(this,arguments)}function j(){return j=_()(s()().mark(function t(){return s()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,g.request)("/api/pro/home/get-license-info",{method:"POST"}));case 1:case"end":return m.stop()}},t)})),j.apply(this,arguments)}function b(){return p.apply(this,arguments)}function p(){return p=_()(s()().mark(function t(){return s()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,g.request)("/api/pro/home/login-info",{method:"POST"}));case 1:case"end":return m.stop()}},t)})),p.apply(this,arguments)}},20578:function(Q,I,n){n.d(I,{q:function(){return S},w:function(){return M}});var O=n(15009),s=n.n(O),L=n(99289),_=n.n(L),g=n(82346);function M(b){return D.apply(this,arguments)}function D(){return D=_()(s()().mark(function b(p){return s()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,g.request)("/api/pro/container/recycle-restore",{data:p,method:"POST"});case 2:return f.abrupt("return",f.sent);case 3:case"end":return f.stop()}},b)})),D.apply(this,arguments)}function S(){return j.apply(this,arguments)}function j(){return j=_()(s()().mark(function b(){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,g.request)("/api/pro/container/check-all-upgrade",{method:"POST"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},b)})),j.apply(this,arguments)}}}]);
