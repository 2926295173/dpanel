"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5738],{55809:function(A,f,e){var M=e(87462),r=e(67294),v=e(44805),_=e(84089),l=function(O,m){return r.createElement(_.Z,(0,M.Z)({},O,{ref:m,icon:v.Z}))},E=r.forwardRef(l);f.Z=E},1699:function(A,f,e){e.d(f,{u:function(){return C}});var M=e(9783),r=e.n(M),v=e(97857),_=e.n(v),l=e(67294),E=e(82346),P=e(40411),O=e(42075),m=e(85893),C=function(u){var t=(0,E.useAccess)(),h=Array.isArray(u.access)?u.access:[u.access],s,D=u.fallback;if(typeof u.children=="function"?(s=u.children(h.reduce(function(d,i){return _()(_()({},d),{},r()({},i,t[i]))},{})),s||(s=D)):h.every(function(d){return t[d]})?s=u.children:s=D,!D&&s&&u.showProTips&&t.canSeeEnableCe){if(t.canSeeEnableHiddenProTips)return null;s=(0,m.jsx)(P.Z,{offset:u.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:s})}if(!D&&s&&u.showProRibbonTips&&t.canSeeEnableCe){if(t.canSeeEnableHiddenProTips)return null;s=(0,m.jsx)(P.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:s})}return u.space?(0,m.jsx)(O.Z,_()(_()({},u.space),{},{children:s})):s}},88879:function(A,f,e){e.r(f);var M=e(5574),r=e.n(M),v=e(57221),_=e(82346),l=e(67294),E=e(50070),P=e(38345),O=e(85893);function m(){var C,j=(0,_.useParams)(),u=(0,l.useContext)(E.AppDetailContext),t=(0,_.useSearchParams)(),h=r()(t,2),s=h[0],D=h[1];return(0,l.useEffect)(function(){u.reload(),D([])},[]),(0,O.jsx)(P.Z,{children:(0,O.jsx)(v.Z,{name:(C=j.id)!==null&&C!==void 0?C:"",apiPrefix:"container",workDir:""})})}f.default=m},50070:function(A,f,e){e.r(f),e.d(f,{AppDetailContext:function(){return T},default:function(){return y}});var M=e(15009),r=e.n(M),v=e(99289),_=e.n(v),l=e(5574),E=e.n(l),P=e(1699),O=e(24963),m=e(13822),C=e(36146),j=e(55809),u=e(90078),t=e(82346),h=e(25593),s=e(28036),D=e(50136),d=e(67294),i=e(85893),T=(0,d.createContext)({});function y(){var b,I=(0,d.useContext)(O.Z),W=I.loading,a=(0,t.useParams)(),o=(0,t.useSearchParams)(),c=E()(o,2),n=c[0],ee=c[1],z=(b=n.get("tab"))!==null&&b!==void 0?b:"edit",H=(0,d.useState)("edit"),k=E()(H,2),w=k[0],x=k[1],g=(0,t.useNavigate)(),J=(0,d.useState)(1),Z=E()(J,2),$=Z[0],V=Z[1],F=[{label:(0,i.jsx)(t.Link,{to:"/app/detail/edit/".concat(a.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,i.jsx)(t.Link,{to:"/app/detail/network/".concat(a.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,i.jsx)(h.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){g("/app/detail/file/".concat(a.id,"?tab=file"))}},{label:(0,i.jsx)(h.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){g("/app/detail/log/".concat(a.id,"?tab=log"))}},{label:(0,i.jsx)(h.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){g("/app/detail/stat/".concat(a.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,i.jsx)(j.Z,{}),disabled:!0}],Q=(0,d.useState)(F),G=E()(Q,2),X=G[0],Y=G[1];(0,d.useEffect)(function(){W.show(),x(z);var R=function(){var B=_()(r()().mark(function N(){var K,S,L;return r()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return K=F,p.prev=1,p.next=4,(0,m.jV)({md5:(S=a.id)!==null&&S!==void 0?S:""});case 4:L=p.sent,K.map(function(U){return U.key=="containerName"&&(U.label=L.data.info.Name),(!L.data.info.State.Running||L.data.info.State.Restarting)&&(U.key=="file"||U.key=="stat")&&(U.disabled=!0),U}),Y(K),p.next=13;break;case 9:return p.prev=9,p.t0=p.catch(1),g("/app/list"),p.abrupt("return");case 13:return p.prev=13,W.destroy(),p.finish(13);case 16:case"end":return p.stop()}},N,null,[[1,9,13,16]])}));return function(){return B.apply(this,arguments)}}();R()},[$,a]);var q=function(B){x(B.key)};return(0,i.jsx)(T.Provider,{value:{reload:function(){V($+1)}},children:(0,i.jsxs)(u._z,{header:{extra:[(0,i.jsx)(P.u,{access:"canSeeContainerListManageCreate",children:(0,i.jsx)(t.Link,{to:"/app/create/image",children:(0,i.jsx)(s.ZP,{type:"primary",children:C.Ob.format("container.create")})})},"create")]},children:[(0,i.jsx)(D.Z,{mode:"horizontal",onClick:q,selectedKeys:[w],items:X}),(0,i.jsx)(t.Outlet,{})]})})}},13822:function(A,f,e){e.d(f,{IE:function(){return O},IW:function(){return E},KK:function(){return h},LJ:function(){return D},RF:function(){return y},Re:function(){return i},aF:function(){return I},eE:function(){return u},jV:function(){return C}});var M=e(15009),r=e.n(M),v=e(99289),_=e.n(v),l=e(82346);function E(a){return P.apply(this,arguments)}function P(){return P=_()(r()().mark(function a(o){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/status",{method:"POST",data:o}));case 1:case"end":return n.stop()}},a)})),P.apply(this,arguments)}function O(a){return m.apply(this,arguments)}function m(){return m=_()(r()().mark(function a(o){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/get-list",{data:o,method:"POST"}));case 1:case"end":return n.stop()}},a)})),m.apply(this,arguments)}function C(a){return j.apply(this,arguments)}function j(){return j=_()(r()().mark(function a(o){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/get-detail",{data:o,method:"POST"}));case 1:case"end":return n.stop()}},a)})),j.apply(this,arguments)}function u(a){return t.apply(this,arguments)}function t(){return t=_()(r()().mark(function a(o){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/update",{data:o,method:"POST"}));case 1:case"end":return n.stop()}},a)})),t.apply(this,arguments)}function h(){return s.apply(this,arguments)}function s(){return s=_()(r()().mark(function a(){return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,l.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return c.stop()}},a)})),s.apply(this,arguments)}function D(a){return d.apply(this,arguments)}function d(){return d=_()(r()().mark(function a(o){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/export",{method:"POST",data:o,responseType:"blob"}));case 1:case"end":return n.stop()}},a)})),d.apply(this,arguments)}function i(a){return T.apply(this,arguments)}function T(){return T=_()(r()().mark(function a(o){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/commit",{method:"POST",data:o}));case 1:case"end":return n.stop()}},a)})),T.apply(this,arguments)}function y(a){return b.apply(this,arguments)}function b(){return b=_()(r()().mark(function a(o){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/upgrade",{method:"POST",data:o}));case 1:case"end":return n.stop()}},a)})),b.apply(this,arguments)}function I(a){return W.apply(this,arguments)}function W(){return W=_()(r()().mark(function a(o){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/copy",{method:"POST",data:o}));case 1:case"end":return n.stop()}},a)})),W.apply(this,arguments)}}}]);
