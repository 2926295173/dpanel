"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2902],{78498:function(A,c,e){e.d(c,{Z:function(){return m}});var f=e(25035),a=e(42075),p=e(83062),s=e(67294),u=e(85893);function m(E){return(0,u.jsxs)(a.Z,{children:[E.title,(0,u.jsx)(p.Z,{title:E.help,children:(0,u.jsx)(f.Z,{})})]})}},78451:function(A,c,e){e.d(c,{Z:function(){return p}});var f=e(67294),a=e(85893);function p(s){return(0,a.jsx)("span",{style:{width:s.width?s.width:"auto",wordBreak:"break-word"},children:s.content})}},50070:function(A,c,e){e.r(c),e.d(c,{AppDetailContext:function(){return B},default:function(){return b}});var f=e(15009),a=e.n(f),p=e(99289),s=e.n(p),u=e(5574),m=e.n(u),E=e(1699),T=e(24963),P=e(60335),g=e(55809),O=e(90078),l=e(82346),h=e(25593),W=e(28036),D=e(50136),d=e(67294),_=e(85893),B=(0,d.createContext)({});function b(){var U,C=(0,d.useContext)(T.Z),L=C.lang,M=C.loading,t=C.message,r=(0,l.useParams)(),i=(0,l.useSearchParams)(),n=m()(i,2),G=n[0],ne=n[1],V=(U=G.get("tab"))!==null&&U!==void 0?U:"edit",z=(0,d.useState)("edit"),k=m()(z,2),H=k[0],x=k[1],y=(0,l.useNavigate)(),J=(0,d.useState)(1),Z=m()(J,2),$=Z[0],Q=Z[1],w=[{label:(0,_.jsx)(l.Link,{to:"/app/detail/edit/".concat(r.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,_.jsx)(l.Link,{to:"/app/detail/network/".concat(r.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,_.jsx)(h.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){t.info(L("app.detail.createExplorerPlugin")),y("/app/detail/file/".concat(r.id,"?tab=file"))}},{label:(0,_.jsx)(h.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){y("/app/detail/log/".concat(r.id,"?tab=log"))}},{label:(0,_.jsx)(h.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){y("/app/detail/stat/".concat(r.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,_.jsx)(g.Z,{}),disabled:!0}],X=(0,d.useState)(w),F=m()(X,2),Y=F[0],q=F[1];(0,d.useEffect)(function(){M.show(),x(V);var v=function(){var R=s()(a()().mark(function N(){var K,S,I;return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return K=w,o.prev=1,o.next=4,(0,P.jV)({md5:(S=r.id)!==null&&S!==void 0?S:""});case 4:I=o.sent,K.map(function(j){return j.key=="containerName"&&(j.label=I.data.info.Name),(!I.data.info.State.Running||I.data.info.State.Restarting)&&(j.key=="file"||j.key=="stat")&&(j.disabled=!0),j}),q(K),o.next=13;break;case 9:return o.prev=9,o.t0=o.catch(1),y("/app/list"),o.abrupt("return");case 13:return o.prev=13,M.destroy(),o.finish(13);case 16:case"end":return o.stop()}},N,null,[[1,9,13,16]])}));return function(){return R.apply(this,arguments)}}();v()},[$,r]);var ee=function(R){x(R.key)};return(0,_.jsx)(B.Provider,{value:{reload:function(){Q($+1)}},children:(0,_.jsxs)(O._z,{header:{extra:[(0,_.jsx)(E.u,{access:"canSeeContainerListManageCreate",children:(0,_.jsx)(l.Link,{to:"/app/create/image",children:(0,_.jsx)(W.ZP,{type:"primary",children:"\u521B\u5EFA\u5BB9\u5668"})})},"create")]},children:[(0,_.jsx)(D.Z,{mode:"horizontal",onClick:ee,selectedKeys:[H],items:Y}),(0,_.jsx)(l.Outlet,{})]})})}},77812:function(A,c,e){e.r(c),e.d(c,{default:function(){return P}});var f=e(5574),a=e.n(f),p=e(67294),s=e(60335),u=e(82346),m=e(50070),E=e(43831),T=e(85893);function P(){var g=(0,u.useParams)(),O=(0,p.useState)(),l=a()(O,2),h=l[0],W=l[1],D=(0,p.useContext)(m.AppDetailContext);return(0,p.useEffect)(function(){var d;(0,s.jV)({md5:(d=g.id)!==null&&d!==void 0?d:""}).then(function(_){W(_.data.info)}),D.reload()},[]),h&&(0,T.jsx)(E.Z,{containerInfo:h})}},60335:function(A,c,e){e.d(c,{IE:function(){return T},IW:function(){return m},KK:function(){return W},LJ:function(){return d},RF:function(){return U},Re:function(){return B},aF:function(){return L},eE:function(){return l},jV:function(){return g}});var f=e(15009),a=e.n(f),p=e(99289),s=e.n(p),u=e(82346);function m(t){return E.apply(this,arguments)}function E(){return E=s()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/app/container/status",{method:"POST",data:r}));case 1:case"end":return n.stop()}},t)})),E.apply(this,arguments)}function T(t){return P.apply(this,arguments)}function P(){return P=s()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/app/container/get-list",{data:r,method:"POST"}));case 1:case"end":return n.stop()}},t)})),P.apply(this,arguments)}function g(t){return O.apply(this,arguments)}function O(){return O=s()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/app/container/get-detail",{data:r,method:"POST"}));case 1:case"end":return n.stop()}},t)})),O.apply(this,arguments)}function l(t){return h.apply(this,arguments)}function h(){return h=s()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/app/container/update",{data:r,method:"POST"}));case 1:case"end":return n.stop()}},t)})),h.apply(this,arguments)}function W(){return D.apply(this,arguments)}function D(){return D=s()(a()().mark(function t(){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,u.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return i.stop()}},t)})),D.apply(this,arguments)}function d(t){return _.apply(this,arguments)}function _(){return _=s()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/app/container/export",{method:"POST",data:r,responseType:"blob"}));case 1:case"end":return n.stop()}},t)})),_.apply(this,arguments)}function B(t){return b.apply(this,arguments)}function b(){return b=s()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/app/container/commit",{method:"POST",data:r}));case 1:case"end":return n.stop()}},t)})),b.apply(this,arguments)}function U(t){return C.apply(this,arguments)}function C(){return C=s()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/app/container/upgrade",{method:"POST",data:r}));case 1:case"end":return n.stop()}},t)})),C.apply(this,arguments)}function L(t){return M.apply(this,arguments)}function M(){return M=s()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/app/container/copy",{method:"POST",data:r}));case 1:case"end":return n.stop()}},t)})),M.apply(this,arguments)}}}]);
