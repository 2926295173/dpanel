"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5947],{55809:function(A,f,e){var P=e(87462),a=e(67294),D=e(44805),i=e(84089),o=function(C,m){return a.createElement(i.Z,(0,P.Z)({},C,{ref:m,icon:D.Z}))},h=a.forwardRef(o);f.Z=h},1699:function(A,f,e){e.d(f,{u:function(){return W}});var P=e(9783),a=e.n(P),D=e(97857),i=e.n(D),o=e(67294),h=e(82346),O=e(40411),C=e(42075),m=e(85893),W=function(t){var l=(0,h.useAccess)(),M=Array.isArray(t.access)?t.access:[t.access],s,d=t.fallback;if(typeof t.children=="function"?(s=t.children(M.reduce(function(_,b){return i()(i()({},_),{},a()({},b,l[b]))},{})),s||(s=d)):M.every(function(_){return l[_]})?s=t.children:s=d,!d&&s&&t.showProTips&&l.canSeeEnableCe){if(l.canSeeEnableHiddenProTips)return null;s=(0,m.jsx)(O.Z,{offset:t.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:s})}if(!d&&s&&t.showProRibbonTips&&l.canSeeEnableCe){if(l.canSeeEnableHiddenProTips)return null;s=(0,m.jsx)(O.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:s})}return t.space?(0,m.jsx)(C.Z,i()(i()({},t.space),{},{children:s})):s}},24963:function(A,f,e){var P=e(67294),a=(0,P.createContext)({});f.Z=a},50070:function(A,f,e){e.r(f),e.d(f,{AppDetailContext:function(){return b},default:function(){return g}});var P=e(15009),a=e.n(P),D=e(99289),i=e.n(D),o=e(5574),h=e.n(o),O=e(1699),C=e(24963),m=e(13822),W=e(55809),v=e(90078),t=e(82346),l=e(25593),M=e(28036),s=e(50136),d=e(67294),_=e(85893),b=(0,d.createContext)({});function g(){var y,R=(0,d.useContext)(C.Z),U=R.loading,E=(0,t.useParams)(),r=(0,t.useSearchParams)(),u=h()(r,2),c=u[0],n=u[1],N=(y=c.get("tab"))!==null&&y!==void 0?y:"edit",z=(0,d.useState)("edit"),S=h()(z,2),H=S[0],x=S[1],L=(0,t.useNavigate)(),J=(0,d.useState)(1),Z=h()(J,2),$=Z[0],V=Z[1],w=[{label:(0,_.jsx)(t.Link,{to:"/app/detail/edit/".concat(E.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,_.jsx)(t.Link,{to:"/app/detail/network/".concat(E.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,_.jsx)(l.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){L("/app/detail/file/".concat(E.id,"?tab=file"))}},{label:(0,_.jsx)(l.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){L("/app/detail/log/".concat(E.id,"?tab=log"))}},{label:(0,_.jsx)(l.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){L("/app/detail/stat/".concat(E.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,_.jsx)(W.Z,{}),disabled:!0}],Q=(0,d.useState)(w),F=h()(Q,2),X=F[0],Y=F[1];(0,d.useEffect)(function(){U.show(),x(N);var j=function(){var I=i()(a()().mark(function G(){var K,k,B;return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return K=w,p.prev=1,p.next=4,(0,m.jV)({md5:(k=E.id)!==null&&k!==void 0?k:""});case 4:B=p.sent,K.map(function(T){return T.key=="containerName"&&(T.label=B.data.info.Name),(!B.data.info.State.Running||B.data.info.State.Restarting)&&(T.key=="file"||T.key=="stat")&&(T.disabled=!0),T}),Y(K),p.next=13;break;case 9:return p.prev=9,p.t0=p.catch(1),L("/app/list"),p.abrupt("return");case 13:return p.prev=13,U.destroy(),p.finish(13);case 16:case"end":return p.stop()}},G,null,[[1,9,13,16]])}));return function(){return I.apply(this,arguments)}}();j()},[$,E]);var q=function(I){x(I.key)};return(0,_.jsx)(b.Provider,{value:{reload:function(){V($+1)}},children:(0,_.jsxs)(v._z,{header:{extra:[(0,_.jsx)(O.u,{access:"canSeeContainerListManageCreate",children:(0,_.jsx)(t.Link,{to:"/app/create/image",children:(0,_.jsx)(M.ZP,{type:"primary",children:"\u521B\u5EFA\u5BB9\u5668"})})},"create")]},children:[(0,_.jsx)(s.Z,{mode:"horizontal",onClick:q,selectedKeys:[H],items:X}),(0,_.jsx)(t.Outlet,{})]})})}},13822:function(A,f,e){e.d(f,{IE:function(){return C},IW:function(){return h},KK:function(){return M},LJ:function(){return d},RF:function(){return y},Re:function(){return b},aF:function(){return U},eE:function(){return t},jV:function(){return W}});var P=e(15009),a=e.n(P),D=e(99289),i=e.n(D),o=e(82346);function h(r){return O.apply(this,arguments)}function O(){return O=i()(a()().mark(function r(u){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/container/status",{method:"POST",data:u}));case 1:case"end":return n.stop()}},r)})),O.apply(this,arguments)}function C(r){return m.apply(this,arguments)}function m(){return m=i()(a()().mark(function r(u){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/container/get-list",{data:u,method:"POST"}));case 1:case"end":return n.stop()}},r)})),m.apply(this,arguments)}function W(r){return v.apply(this,arguments)}function v(){return v=i()(a()().mark(function r(u){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/container/get-detail",{data:u,method:"POST"}));case 1:case"end":return n.stop()}},r)})),v.apply(this,arguments)}function t(r){return l.apply(this,arguments)}function l(){return l=i()(a()().mark(function r(u){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/container/update",{data:u,method:"POST"}));case 1:case"end":return n.stop()}},r)})),l.apply(this,arguments)}function M(){return s.apply(this,arguments)}function s(){return s=i()(a()().mark(function r(){return a()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,o.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return c.stop()}},r)})),s.apply(this,arguments)}function d(r){return _.apply(this,arguments)}function _(){return _=i()(a()().mark(function r(u){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/container/export",{method:"POST",data:u,responseType:"blob"}));case 1:case"end":return n.stop()}},r)})),_.apply(this,arguments)}function b(r){return g.apply(this,arguments)}function g(){return g=i()(a()().mark(function r(u){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/container/commit",{method:"POST",data:u}));case 1:case"end":return n.stop()}},r)})),g.apply(this,arguments)}function y(r){return R.apply(this,arguments)}function R(){return R=i()(a()().mark(function r(u){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/container/upgrade",{method:"POST",data:u}));case 1:case"end":return n.stop()}},r)})),R.apply(this,arguments)}function U(r){return E.apply(this,arguments)}function E(){return E=i()(a()().mark(function r(u){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/container/copy",{method:"POST",data:u}));case 1:case"end":return n.stop()}},r)})),E.apply(this,arguments)}}}]);
