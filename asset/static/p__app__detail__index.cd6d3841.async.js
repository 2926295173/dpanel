"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5947],{55809:function(g,p,e){var o=e(87462),a=e(67294),f=e(44805),u=e(84089),i=function(D,s){return a.createElement(u.Z,(0,o.Z)({},D,{ref:s,icon:f.Z}))},m=a.forwardRef(i);p.Z=m},12044:function(g,p,e){e.d(p,{j:function(){return f}});var o=e(34155),a=typeof o!="undefined"&&o.versions!=null&&o.versions.node!=null,f=function(){return typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.matchMedia!="undefined"&&!a}},1699:function(g,p,e){e.d(p,{u:function(){return E}});var o=e(97857),a=e.n(o),f=e(67294),u=e(82346),i=e(42075),m=e(85893),E=function(s){var C=(0,u.useAccess)(),h=Array.isArray(s.access)?s.access:[s.access];return s.space?(0,m.jsx)(i.Z,a()(a()({},s.space),{},{children:h.every(function(c){return C[c]})?s.children:s.fallback})):(0,m.jsx)(m.Fragment,{children:h.every(function(c){return C[c]})?s.children:s.fallback})}},24963:function(g,p,e){var o=e(67294),a=(0,o.createContext)({});p.Z=a},50070:function(g,p,e){e.r(p),e.d(p,{AppDetailContext:function(){return A},default:function(){return y}});var o=e(15009),a=e.n(o),f=e(99289),u=e.n(f),i=e(5574),m=e.n(i),E=e(1699),D=e(24963),s=e(60335),C=e(55809),h=e(90078),c=e(82346),O=e(25593),B=e(28036),T=e(50136),P=e(67294),_=e(85893),A=(0,P.createContext)({});function y(){var W,v=(0,P.useContext)(D.Z),L=v.lang,M=v.loading,r=v.message,t=(0,c.useParams)(),l=(0,c.useSearchParams)(),n=m()(l,2),G=n[0],ne=n[1],z=(W=G.get("tab"))!==null&&W!==void 0?W:"edit",V=(0,P.useState)("edit"),S=m()(V,2),J=S[0],w=S[1],R=(0,c.useNavigate)(),H=(0,P.useState)(1),x=m()(H,2),Z=x[0],Q=x[1],$=[{label:(0,_.jsx)(c.Link,{to:"/app/detail/edit/".concat(t.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,_.jsx)(c.Link,{to:"/app/detail/network/".concat(t.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,_.jsx)(O.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){r.info(L("app.detail.createExplorerPlugin")),R("/app/detail/file/".concat(t.id,"?tab=file"))}},{label:(0,_.jsx)(O.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){R("/app/detail/log/".concat(t.id,"?tab=log"))}},{label:(0,_.jsx)(O.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){R("/app/detail/stat/".concat(t.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,_.jsx)(C.Z,{}),disabled:!0}],X=(0,P.useState)($),F=m()(X,2),Y=F[0],q=F[1];(0,P.useEffect)(function(){M.show(),w(z);var b=function(){var I=u()(a()().mark(function N(){var K,k,U;return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return K=$,d.prev=1,d.next=4,(0,s.jV)({md5:(k=t.id)!==null&&k!==void 0?k:""});case 4:U=d.sent,K.map(function(j){return j.key=="containerName"&&(j.label=U.data.info.Name),(!U.data.info.State.Running||U.data.info.State.Restarting)&&(j.key=="file"||j.key=="stat")&&(j.disabled=!0),j}),q(K),d.next=13;break;case 9:return d.prev=9,d.t0=d.catch(1),R("/app/list"),d.abrupt("return");case 13:return d.prev=13,M.destroy(),d.finish(13);case 16:case"end":return d.stop()}},N,null,[[1,9,13,16]])}));return function(){return I.apply(this,arguments)}}();b()},[Z,t]);var ee=function(I){w(I.key)};return(0,_.jsx)(A.Provider,{value:{reload:function(){Q(Z+1)}},children:(0,_.jsxs)(h._z,{header:{extra:[(0,_.jsx)(E.u,{access:"canSeeContainerListManageCreate",children:(0,_.jsx)(c.Link,{to:"/app/create/image",children:(0,_.jsx)(B.ZP,{type:"primary",children:"\u521B\u5EFA\u5BB9\u5668"})})},"create")]},children:[(0,_.jsx)(T.Z,{mode:"horizontal",onClick:ee,selectedKeys:[J],items:Y}),(0,_.jsx)(c.Outlet,{})]})})}},60335:function(g,p,e){e.d(p,{IE:function(){return D},IW:function(){return m},KK:function(){return B},LJ:function(){return P},RF:function(){return W},Re:function(){return A},aF:function(){return L},eE:function(){return c},jV:function(){return C}});var o=e(15009),a=e.n(o),f=e(99289),u=e.n(f),i=e(82346);function m(r){return E.apply(this,arguments)}function E(){return E=u()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/container/status",{method:"POST",data:t}));case 1:case"end":return n.stop()}},r)})),E.apply(this,arguments)}function D(r){return s.apply(this,arguments)}function s(){return s=u()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/container/get-list",{data:t,method:"POST"}));case 1:case"end":return n.stop()}},r)})),s.apply(this,arguments)}function C(r){return h.apply(this,arguments)}function h(){return h=u()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/container/get-detail",{data:t,method:"POST"}));case 1:case"end":return n.stop()}},r)})),h.apply(this,arguments)}function c(r){return O.apply(this,arguments)}function O(){return O=u()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/container/update",{data:t,method:"POST"}));case 1:case"end":return n.stop()}},r)})),O.apply(this,arguments)}function B(){return T.apply(this,arguments)}function T(){return T=u()(a()().mark(function r(){return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,i.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return l.stop()}},r)})),T.apply(this,arguments)}function P(r){return _.apply(this,arguments)}function _(){return _=u()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/container/export",{method:"POST",data:t,responseType:"blob"}));case 1:case"end":return n.stop()}},r)})),_.apply(this,arguments)}function A(r){return y.apply(this,arguments)}function y(){return y=u()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/container/commit",{method:"POST",data:t}));case 1:case"end":return n.stop()}},r)})),y.apply(this,arguments)}function W(r){return v.apply(this,arguments)}function v(){return v=u()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/container/upgrade",{method:"POST",data:t}));case 1:case"end":return n.stop()}},r)})),v.apply(this,arguments)}function L(r){return M.apply(this,arguments)}function M(){return M=u()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/container/copy",{method:"POST",data:t}));case 1:case"end":return n.stop()}},r)})),M.apply(this,arguments)}}}]);
