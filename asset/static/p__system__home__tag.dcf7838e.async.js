"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2440],{91806:function(B,v,e){e.d(v,{Z:function(){return f}});var M=e(87462),s=e(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V687h97.9c11.6 32.8 32 62.3 59.1 84.7 34.5 28.5 78.2 44.3 123 44.3s88.5-15.7 123-44.3c27.1-22.4 47.5-51.9 59.1-84.7H792v-63H643.6l-5.2 24.7C626.4 708.5 573.2 752 512 752s-114.4-43.5-126.5-103.3l-5.2-24.7H232V136h560v752zM320 341h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 160h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"container",theme:"outlined"},_=D,u=e(84089),m=function(g,p){return s.createElement(u.Z,(0,M.Z)({},g,{ref:p,icon:_}))},E=s.forwardRef(m),f=E},33862:function(B,v,e){e.d(v,{Z:function(){return f}});var M=e(87462),s=e(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"}}]},name:"environment",theme:"outlined"},_=D,u=e(84089),m=function(g,p){return s.createElement(u.Z,(0,M.Z)({},g,{ref:p,icon:_}))},E=s.forwardRef(m),f=E},96788:function(B,v,e){e.r(v),e.d(v,{default:function(){return me}});var M=e(97857),s=e.n(M),D=e(15009),_=e.n(D),u=e(99289),m=e.n(u),E=e(5574),f=e.n(E),O=e(1699),g=e(91218),p=e(3905),b=e(90127),j=e(80821),i=e(29453),C=e(90098),r=e(13822),T=e(89075),ne=e(5251),ae=e(40666),te=e(58638),re=e(74842),se=e(87784),_e=e(43425),oe=e(74453),K=e(38345),V=e(82346),S=e(42075),Z=e(83622),le=e(86250),Y=e(32983),ie=e(83062),ue=e(71230),y=e(15746),ce=e(68997),x=e(25593),de=e(85418),I=e(67294),J=e(36146),n=e(85893);function me(){var Ee=(0,I.useState)([]),X=f()(Ee,2),H=X[0],pe=X[1],he=(0,I.useState)(1),Q=f()(he,2),U=Q[0],$=Q[1],k=(0,V.useAccess)(),G=(0,I.useRef)(),w=(0,I.useRef)(),q=(0,I.useRef)(),L=new J.Uo("system.home.tag");(0,I.useEffect)(function(){ve()},[U]);function ve(){return z.apply(this,arguments)}function z(){return z=m()(_()().mark(function N(){return _()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(c.t0=k.canSeeEnableHomeTag,!c.t0){c.next=4;break}return c.next=4,(0,T.ax)();case 4:k.canSeeEnableHomeTag&&(0,i.e1)().then(function(){var P=m()(_()().mark(function W(a){var R;return _()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,(0,r.IE)();case 3:R=l.sent,l.next=8;break;case 6:l.prev=6,l.t0=l.catch(0);case 8:a.data.list&&pe(a.data.list.filter(function(o){return o.enableShowGroup}).map(function(o){return!o.item||o.item.length==0||(o.item=o.item.map(function(t){if(!R)return t;var h=R.data.list&&R.data.list.find(function(fe){var F;return fe.Names.includes((F=t.name)!==null&&F!==void 0?F:"")});if(h){var d;t.containerState=h.State,t.containerComposeName=(d=h.Labels&&h.Labels["com.docker.compose.project"])!==null&&d!==void 0?d:""}return t})),o}));case 9:case"end":return l.stop()}},W,null,[[0,6]])}));return function(W){return P.apply(this,arguments)}}());case 5:case"end":return c.stop()}},N)})),z.apply(this,arguments)}return(0,n.jsx)(oe._z,{extra:(0,n.jsxs)(S.Z,{children:[(0,n.jsx)(O.u,{access:"canSeeEnableHomeTag",children:(0,n.jsx)(b.Z,{ref:G,defaultEnableShowGroup:!0,trigger:(0,n.jsx)(Z.ZP,{type:"primary",children:L.format("createButton")}),onFinish:function(){$(U+1)}})}),(0,n.jsx)(p.Z,{ref:w}),(0,n.jsx)(g.Z,{ref:q})]}),children:(0,n.jsx)(O.u,{access:"canSeeEnableHomeTag",showProRibbonTips:!0,children:function(ee){var c=ee.canSeeEnableHomeTag;return(0,n.jsxs)(K.Z,{direction:"column",children:[(!c||!H||H.length==0)&&(0,n.jsx)(le.Z,{justify:"center",style:{height:"58vh"},vertical:!0,children:(0,n.jsx)(Y.Z,{image:Y.Z.PRESENTED_IMAGE_SIMPLE,description:(0,n.jsxs)(n.Fragment,{children:[L.format("emptyTip")," ",(0,n.jsx)(V.Link,{to:"/app/list",children:J.Ob.format("container.list")})]})})}),c&&H.map(function(P,W){return(0,n.jsx)(K.Z,{title:(0,n.jsx)(ae.Z,{}),subTitle:P.tag,direction:"row",gutter:[15,15],headerBordered:!0,bodyStyle:{paddingTop:20,marginBottom:10},ghost:!0,wrap:!0,children:P.item.map(function(a,R){var A,l;return a.url&&a.title&&(0,n.jsx)(K.Z,{bordered:!0,hoverable:!0,colSpan:{xs:24,sm:12,md:12,lg:12,xl:8,xxl:6},bodyStyle:{height:80},children:(0,n.jsx)(ie.Z,{title:a.description,children:(0,n.jsxs)(ue.Z,{align:"middle",gutter:[10,0],children:[(0,n.jsx)(y.Z,{span:5,children:(0,n.jsx)(ce.Z,{shape:"square",src:(A=a.icon)!==null&&A!==void 0?A:"",gap:10,size:"large",children:(0,ne.fi)((l=a.name)!==null&&l!==void 0?l:a.title,"/").substring(0,1)})}),(0,n.jsxs)(y.Z,{span:a.containerState?14:17,children:[(0,n.jsx)(x.Z.Title,{level:5,children:(0,n.jsx)("a",{target:"_blank",href:a.url,children:(0,n.jsxs)(S.Z,{children:[a.title&&a.title.substring(0,13),(0,n.jsx)(te.Z,{})]})})}),(0,n.jsx)(x.Z.Text,{ellipsis:!0,children:a.description})]}),(0,n.jsx)(y.Z,{span:a.containerState?5:2,children:(0,n.jsxs)(S.Z,{children:[a.containerState&&(0,n.jsx)(j.Z,{action:m()(_()().mark(function o(){var t;return _()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!a.containerComposeName){d.next=2;break}return d.abrupt("return",(0,C.GG)({id:a.containerComposeName,op:a.containerState=="running"?"stop":"start"}));case 2:return d.abrupt("return",(0,r.IW)({md5:(t=a.name)!==null&&t!==void 0?t:"",operate:a.containerState=="running"?"stop":"start"}));case 3:case"end":return d.stop()}},o)})),onSuccess:function(){$(U+1)},buttonProps:{type:"link",icon:(0,n.jsx)("div",{style:a.containerState=="running"?{color:"red"}:void 0,children:a.containerState&&a.containerState!="running"?(0,n.jsx)(re.Z,{}):(0,n.jsx)(se.Z,{})})}}),(0,n.jsx)(de.Z,{trigger:["click"],menu:{items:[{label:a.containerState&&(0,n.jsx)(Z.ZP,{onClick:function(){if(a.containerComposeName){var t;(t=q.current)===null||t===void 0||t.show(a.containerComposeName)}else{var h;(h=w.current)===null||h===void 0||h.show(a.name)}},type:"link",children:L.format("itemDetailButton")}),key:"detail"},{label:(0,n.jsx)(Z.ZP,{onClick:function(){var t;!((t=G.current)===null||t===void 0)&&t.edit&&G.current.edit(s()({tag:P.tag,tagColor:P.tagColor,enableShowGroup:P.enableShowGroup},a))},type:"link",children:L.format("itemEditButton")}),key:"1"},{label:(0,n.jsx)(j.Z,{action:function(){var t;return(0,i.rn)({name:(t=a.name)!==null&&t!==void 0?t:"",tag:P.tag})},onSuccess:function(){$(U+1)},buttonProps:{type:"link"},children:L.format("itemDelete")}),key:"2"}]},children:(0,n.jsx)(x.Z.Link,{children:(0,n.jsx)(_e.Z,{})})})]})})]})})},R)})},"group-".concat(W))})]})}})})}},89075:function(B,v,e){e.d(v,{$w:function(){return m},E1:function(){return b},YQ:function(){return f},ax:function(){return g}});var M=e(15009),s=e.n(M),D=e(99289),_=e.n(D),u=e(82346);function m(){return E.apply(this,arguments)}function E(){return E=_()(s()().mark(function i(){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("/api/pro/home/get-machine-id",{method:"POST"}));case 1:case"end":return r.stop()}},i)})),E.apply(this,arguments)}function f(){return O.apply(this,arguments)}function O(){return O=_()(s()().mark(function i(){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("/api/pro/home/get-license-info",{method:"POST"}));case 1:case"end":return r.stop()}},i)})),O.apply(this,arguments)}function g(){return p.apply(this,arguments)}function p(){return p=_()(s()().mark(function i(){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("/api/pro/home/login-info",{method:"POST"}));case 1:case"end":return r.stop()}},i)})),p.apply(this,arguments)}function b(i){return j.apply(this,arguments)}function j(){return j=_()(s()().mark(function i(C){return s()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",(0,u.request)("/api/pro/home/upload-license-file",{method:"POST",data:C}));case 1:case"end":return T.stop()}},i)})),j.apply(this,arguments)}}}]);
