"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[236],{1699:function(y,M,n){n.d(M,{u:function(){return O}});var D=n(9783),P=n.n(D),u=n(97857),m=n.n(u),A=n(67294),h=n(82346),x=n(42075),j=n(85893),O=function(i){var b=(0,h.useAccess)(),R=Array.isArray(i.access)?i.access:[i.access],I;return typeof i.children=="function"?I=i.children(R.reduce(function(l,c){return m()(m()({},l),{},P()({},c,b[c]))},{})):R.every(function(l){return b[l]})?I=i.children:I=i.fallback,i.space?(0,j.jsx)(x.Z,m()(m()({},i.space),{},{children:I})):I}},10032:function(y,M,n){var D=n(5574),P=n.n(D),u=n(15009),m=n.n(u),A=n(99289),h=n.n(A),x=n(80821),j=n(14946),O=n(48689),L=n(184),i=n(38345),b=n(60940),R=n(42075),I=n(96074),l=n(26412),c=n(67294),r=n(85893),N=(0,c.forwardRef)(function(F,T){(0,c.useImperativeHandle)(T,function(){return{show:function(S){return h()(m()().mark(function Z(){var C,W;return m()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,j.IS)({name:S});case 2:C=E.sent,C.data.info.Containers?(W=[],Object.keys(C.data.info.Containers).map(function(w){C.data.info.Containers[w].Id=w,W.push(C.data.info.Containers[w])}),U(W)):U([]),t(C.data.info),g(!0);case 6:case"end":return E.stop()}},Z)}))()}}});var a=(0,c.useState)(!1),K=P()(a,2),v=K[0],g=K[1],B=(0,c.useState)(),f=P()(B,2),e=f[0],t=f[1],d=(0,c.useState)(),o=P()(d,2),s=o[0],U=o[1];return(0,r.jsx)(L.a,{title:"\u7F51\u7EDC\u8BE6\u60C5",open:v,onOpenChange:function(S){g(S)},submitter:!1,children:(0,r.jsxs)(i.Z,{ghost:!0,direction:"column",gutter:[10,0],children:[(0,r.jsx)(i.Z,{title:"\u7F51\u7EDC\u5185\u5BB9\u5668",ghost:!0,children:(0,r.jsx)(b.Z,{rowKey:"Id",columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"Name"},{title:"IPV4",dataIndex:"IPv4Address"},{title:"IPV6",dataIndex:"IPv6Address"},{title:"MacAddress",dataIndex:"MacAddress"},{title:"\u64CD\u4F5C",render:function(S,Z,C){return(0,r.jsx)(R.Z,{split:(0,r.jsx)(I.Z,{type:"vertical"}),children:(0,r.jsx)(x.Z,{type:"text",action:function(){var p,E;return(0,j.t9)({name:(p=e==null?void 0:e.Id)!==null&&p!==void 0?p:"",containerName:(E=Z.Id)!==null&&E!==void 0?E:""})},onSuccess:function(){var p=s==null?void 0:s.filter(function(E){return E.Id!=Z.Id});U(p)},children:(0,r.jsx)(O.Z,{})},"delete")})}}],dataSource:s,pagination:!1})}),(0,r.jsx)(i.Z,{ghost:!0,title:"\u57FA\u7840\u4FE1\u606F",children:(0,r.jsxs)(l.Z,{labelStyle:{width:"180px"},column:1,bordered:!0,children:[(0,r.jsx)(l.Z.Item,{label:"\u540D\u79F0",children:e==null?void 0:e.Name}),(0,r.jsx)(l.Z.Item,{label:"Id",children:e==null?void 0:e.Id}),(0,r.jsx)(l.Z.Item,{label:"Driver",children:e==null?void 0:e.Driver}),(0,r.jsx)(l.Z.Item,{label:"Scope",children:e==null?void 0:e.Scope}),(0,r.jsx)(l.Z.Item,{label:"Attachable",children:e!=null&&e.Attachable?"\u662F":"\u5426"}),(0,r.jsx)(l.Z.Item,{label:"Internal",children:e!=null&&e.Internal?"\u662F":"\u5426"}),(e==null?void 0:e.IPAM.Config)&&(e==null?void 0:e.IPAM.Config[0])&&(0,r.jsx)(l.Z.Item,{label:"IPV4",children:(0,r.jsxs)(l.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:[(0,r.jsx)(l.Z.Item,{label:"Subnet",children:e==null?void 0:e.IPAM.Config[0].Subnet}),(0,r.jsx)(l.Z.Item,{label:"Gateway",children:e==null?void 0:e.IPAM.Config[0].Gateway}),(0,r.jsx)(l.Z.Item,{label:"IP Range ",children:e==null?void 0:e.IPAM.Config[0].IPRange}),(0,r.jsx)(l.Z.Item,{label:"Excluded IPs",children:(e==null?void 0:e.IPAM.Config[0].AuxiliaryAddresses)&&Object.keys(e==null?void 0:e.IPAM.Config[0].AuxiliaryAddresses).map(function(_){return(e==null?void 0:e.IPAM.Config[0].AuxiliaryAddresses[_])+" ,"})})]})}),(e==null?void 0:e.IPAM.Config)&&(e==null?void 0:e.IPAM.Config[1])&&(0,r.jsx)(l.Z.Item,{label:"IPV6",children:(0,r.jsxs)(l.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:[(0,r.jsx)(l.Z.Item,{label:"Subnet",children:e==null?void 0:e.IPAM.Config[1].Subnet}),(0,r.jsx)(l.Z.Item,{label:"Gateway",children:e==null?void 0:e.IPAM.Config[1].Gateway}),(0,r.jsx)(l.Z.Item,{label:"IP Range ",children:e==null?void 0:e.IPAM.Config[1].IPRange}),(0,r.jsx)(l.Z.Item,{label:"Excluded IPs",children:(e==null?void 0:e.IPAM.Config[1].AuxiliaryAddresses)&&Object.keys(e==null?void 0:e.IPAM.Config[1].AuxiliaryAddresses).map(function(_){return(e==null?void 0:e.IPAM.Config[1].AuxiliaryAddresses[_])+" ,"})})]})}),(e==null?void 0:e.Options)&&Object.keys(e==null?void 0:e.Options).length>0&&(0,r.jsx)(l.Z.Item,{label:"Options",children:(0,r.jsx)(l.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Options).map(function(_){return(0,r.jsx)(l.Z.Item,{label:_,children:e.Options[_]},_)})})}),(e==null?void 0:e.Labels)&&Object.keys(e==null?void 0:e.Labels).length>0&&(0,r.jsx)(l.Z.Item,{label:"Lables",children:(0,r.jsx)(l.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Labels).map(function(_){return(0,r.jsx)(l.Z.Item,{label:_,children:e.Labels[_]},_)})})})]})})]})})});M.Z=N},6005:function(y,M,n){n.r(M),n.d(M,{default:function(){return K}});var D=n(15009),P=n.n(D),u=n(99289),m=n.n(u),A=n(1699),h=n(80821),x=n(28230),j=n(10032),O=n(14946),L=n(67255),i=n(43425),b=n(90078),R=n(78099),I=n(82346),l=n(66309),c=n(42075),r=n(96074),N=n(28036),F=n(83062),T=n(67294),a=n(85893);function K(){var v=(0,T.useRef)(),g=(0,T.useRef)(),B=(0,I.useAccess)();return(0,a.jsxs)(b._z,{header:{extra:[(0,a.jsx)(A.u,{access:"canSeeDockerNetworkManage",children:(0,a.jsx)(x.Z,{onFinish:function(){var e,t;!((e=v.current)===null||e===void 0)&&e.reloadAndRest&&((t=v.current)===null||t===void 0||t.reloadAndRest())}},"create")},"create")]},children:[(0,a.jsx)(j.Z,{ref:g}),(0,a.jsx)(R.Z,{scroll:{x:"max-content"},rowKey:"Name",columns:[{title:"\u540D\u79F0",ellipsis:!0,dataIndex:"Name",render:function(e,t,d,o,s){return t.Name=="none"||t.Name=="bridge"||t.Name=="host"?(0,a.jsxs)(a.Fragment,{children:[t.Name," ",(0,a.jsx)(l.Z,{color:"blue",children:"System"})]}):(0,a.jsx)(a.Fragment,{children:e})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",ellipsis:!0,width:150,search:!1,render:function(e,t,d,o,s){return t.IPAM.Config&&t.IPAM.Config[0]?(0,a.jsxs)(c.Z,{direction:"vertical",children:[(0,a.jsx)("div",{children:t.IPAM.Config&&t.IPAM.Config[0].Subnet}),(0,a.jsx)("div",{children:t.IPAM.Config&&t.IPAM.Config[0].Gateway})]}):"-"}},{title:"IPV6",ellipsis:!0,width:150,search:!1,render:function(e,t,d,o,s){return t.IPAM.Config&&t.IPAM.Config[1]?(0,a.jsxs)(c.Z,{direction:"vertical",children:[(0,a.jsx)("div",{children:t.IPAM.Config&&t.IPAM.Config[1].Subnet}),(0,a.jsx)("div",{children:t.IPAM.Config&&t.IPAM.Config[1].Gateway})]}):"-"}},{title:"\u521B\u5EFA\u65F6\u95F4",ellipsis:!0,width:180,search:!1,dataIndex:"Created",render:function(e,t,d,o,s){return new Date(t.Created).toLocaleString()}},{title:"\u64CD\u4F5C",width:100,search:!1,fixed:"right",hidden:!B.canSeeDockerNetworkManage,render:function(e,t,d,o,s){return(0,a.jsx)(c.Z,{split:(0,a.jsx)(r.Z,{type:"vertical"}),children:(0,a.jsx)(N.ZP,{type:"link",onClick:function(){var _;(_=g.current)===null||_===void 0||_.show(t.Name)},children:(0,a.jsx)(F.Z,{title:"\u7BA1\u7406",children:(0,a.jsx)(i.Z,{})})})})}}],request:function(){var f=m()(P()().mark(function e(t,d,o){var s;return P()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,O.jR)({name:t.Name});case 2:return s=_.sent,_.abrupt("return",{data:s.data.list,success:!0,total:s.data.list.length});case 4:case"end":return _.stop()}},e)}));return function(e,t,d){return f.apply(this,arguments)}}(),rowSelection:B.canSeeDockerNetworkManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,actionRef:v,tableAlertOptionRender:function(e){var t=e.selectedRowKeys;return(0,a.jsxs)(c.Z,{size:16,children:[(0,a.jsx)(h.Z,{danger:!0,type:"primary",action:function(){return(0,O._x)({name:t})},onSuccess:function(){var o,s;return!((o=v.current)===null||o===void 0)&&o.reloadAndRest&&((s=v.current)===null||s===void 0||s.reloadAndRest()),!0},onError:function(){var o,s;return!((o=v.current)===null||o===void 0)&&o.reset&&((s=v.current)===null||s===void 0||s.reset()),!0},confirm:"notification.confirm.title",children:"\u6279\u91CF\u5220\u9664"},"delete"),(0,a.jsx)(h.Z,{action:function(){return(0,O.CI)()},onSuccess:function(){var o,s;return!((o=v.current)===null||o===void 0)&&o.reloadAndRest&&((s=v.current)===null||s===void 0||s.reloadAndRest()),!0},onError:function(){var o,s;return!((o=v.current)===null||o===void 0)&&o.reset&&((s=v.current)===null||s===void 0||s.reset()),!0},confirm:"notification.confirm.title",children:"\u6E05\u7406\u672A\u4F7F\u7528\u7F51\u7EDC"},"clearNotUse")]})},pagination:(0,L.O)()})]})}},67255:function(y,M,n){n.d(M,{O:function(){return D},j:function(){return P}});function D(){var u=localStorage.getItem("dpanel-pagesize");return u=="all"?!1:{showSizeChanger:!0,defaultPageSize:parseInt(u!=null?u:"20")}}function P(u){var m="dpanel-table-column-".concat(u),A={};if(localStorage.getItem(m)){var h;A=JSON.parse((h=localStorage.getItem(m))!==null&&h!==void 0?h:"{}")}return{defaultValue:A,onChange:function(j){localStorage.setItem("dpanel-table-column-".concat(u),JSON.stringify(j))}}}}}]);
