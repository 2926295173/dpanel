"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7549],{80821:function(I,E,e){e.d(E,{Z:function(){return p}});var P=e(97857),r=e.n(P),U=e(5574),d=e.n(U),j=e(24963),C=e(86738),D=e(83062),v=e(28036),o=e(67294),l=e(85893);function p(_){var W=(0,o.useState)(!1),u=d()(W,2),M=u[0],i=u[1],s=(0,o.useContext)(j.Z),c=s.lang,h=s.message,t=function(){i(!0);var b=_.action();b instanceof Promise?b.then(function(O){if(i(!1),O){typeof _.onSuccess=="function"&&_.onSuccess(O);var n="";_.messageSuccess?typeof _.messageSuccess=="function"?n=_.messageSuccess(O):n=_.messageSuccess.indexOf("notification.")==0?c(_.messageSuccess):_.messageSuccess:n=c("notification.finish"),_.asynced?h.info(n):h.success(n)}}).catch(function(O){i(!1),typeof _.onError=="function"&&_.onError(O)}):i(!1)};return _.confirm?(0,l.jsx)(C.Z,r()(r()({style:{width:500},title:_.confirmTitle?_.confirmTitle:c("notification.title.tip"),description:typeof _.confirm=="string"&&_.confirm.indexOf("notification.")==0?c(_.confirm):_.confirm,onConfirm:t,okText:"Yes",cancelText:"No",onOpenChange:_.confirmOnOpenChange},_.confirmProps),{},{children:(0,l.jsx)(D.Z,{title:_.tips,children:(0,l.jsx)(v.ZP,{block:_.block,disabled:_.disabled,icon:!_.children&&M?void 0:_.icon,loading:M,danger:_.danger,type:_.type,children:_.children})})})):(0,l.jsx)(D.Z,{title:_.tips,children:(0,l.jsx)(v.ZP,{block:_.block,style:_.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:_.disabled,icon:!_.children&&M?void 0:_.icon,loading:M,onClick:t,danger:_.danger,type:_.type,children:_.children})})}},81366:function(I,E,e){var P=e(97857),r=e.n(P),U=e(19632),d=e.n(U),j=e(5574),C=e.n(j),D=e(27254),v=e(42075),o=e(85418),l=e(25593),p=e(28036),_=e(67294),W=e(31112),u=e(85893),M={title:"/",path:"/"},i=(0,_.forwardRef)(function(s,c){var h=(0,_.useContext)(W.Z),t=h.showPath,$=h.redirectPath,b=(0,_.useState)([M]),O=C()(b,2),n=O[0],K=O[1];(0,_.useImperativeHandle)(c,function(){return{addHistory:function(f,g){g=="/"?K([M]):K([].concat(d()(n),[{title:f,path:g}]))},initHistory:function(f,g){K([r()(r()({},M),{},{children:g})].concat(d()(f)))}}});var L=function(f){t?t(n[f].title,n[f].path):s.showPath&&s.showPath(n[f].title,n[f].path);var g=n.filter(function(x,B){return B<=f});K(d()(g))};return(0,u.jsxs)(v.Z,{children:[(0,u.jsx)(v.Z.Compact,{children:n.map(function(A,f){return A.children?(0,u.jsxs)(o.Z.Button,{menu:{items:A.children.map(function(g,x){return{key:x,label:(0,u.jsx)(l.Z.Link,{onClick:function(){$(g)},children:g},x)}})},type:"dashed",onClick:function(x){L(f)},children:[(0,u.jsx)(D.Z,{})," ",A.title]},f):(0,u.jsx)(p.ZP,{icon:(0,u.jsx)(D.Z,{}),type:"dashed",onClick:function(){L(f)},children:A.title},f)})}),n.length>=2&&(0,u.jsx)(l.Z.Text,{copyable:{text:n[n.length-1].path}})]})});E.Z=i},31112:function(I,E,e){var P=e(67294),r=(0,P.createContext)({});E.Z=r},68536:function(I,E,e){e.d(E,{Z:function(){return p}});var P=e(24963),r=e(36146),U=e(93613),d=e(36693),j=e(2741),C=e(25593),D=e(42075),v=e(67294),o=e(85893),l=0;function p(_){var W=(0,v.useContext)(P.Z),u=W.message,M=new r.Uo("components.explorer");return _.isDir?(0,o.jsx)(C.Z.Link,{onClick:function(){_.onClick&&_.onClick()},children:(0,o.jsxs)(D.Z,{children:[(0,o.jsx)(U.Z,{}),_.showName]})}):_.isLink?(0,o.jsx)(C.Z.Link,{onClick:function(){_.onClick&&_.onClick()},children:(0,o.jsxs)(D.Z,{children:[(0,o.jsx)(d.Z,{}),_.showName]})}):(0,o.jsx)(C.Z.Text,{onClick:function(){if(l++,l==2){l=0,_.onClick&&_.onClick();return}setTimeout(function(){l==1&&u.info(M.format("fileNameMessageViewDetail")),l=0},400)},style:{cursor:"pointer"},children:(0,o.jsxs)(D.Z,{children:[(0,o.jsx)(j.Z,{}),_.showName]})})}},47248:function(I,E,e){var P=e(15009),r=e.n(P),U=e(99289),d=e.n(U),j=e(5574),C=e.n(j),D=e(38345),v=e(97269),o=e(62370),l=e(5966),p=e(64317),_=e(28036),W=e(85265),u=e(25593),M=e(42075),i=e(67294),s=e(3393),c=e(97961),h=e(92754),t=e(82346),$=e(2205),b=e(3616),O=e(36146),n=e(85893),K=(0,i.forwardRef)(function(L,A){var f=(0,i.useState)(!1),g=C()(f,2),x=g[0],B=g[1],k=(0,i.useRef)(),Z=(0,i.useRef)(),J=(0,i.useState)(!1),G=C()(J,2),V=G[0],Y=G[1],T=new O.Uo("components.imagePull");return(0,i.useImperativeHandle)(A,function(){return{upgradeImage:function(a){var m;return B(!0),(m=k.current)===null||m===void 0||m.setFieldValue("imageUrl",a),(0,s.Gb)({tag:a,type:"pull"})},setImageName:function(a){var m;B(!0),(m=k.current)===null||m===void 0||m.setFieldValue("imageUrl",a)}}}),[(0,n.jsx)(_.ZP,{type:L.buttonType?L.buttonType:"default",onClick:function(){var a,m;B(!0),(a=k.current)===null||a===void 0||a.resetFields(),(m=Z.current)===null||m===void 0||m.setStart("")},children:T.format("triggerButton")},"remoteBtn"),(0,n.jsxs)(W.Z,{forceRender:!0,open:x,title:T.format("drawerTitle"),width:b.R_,onClose:function(){var a;B(!1),(a=Z.current)===null||a===void 0||a.close()},footer:!1,children:[(0,n.jsx)(D.Z,{children:(0,n.jsx)(u.Z.Text,{children:(0,n.jsxs)("ul",{style:{lineHeight:"30px"},children:[(0,n.jsxs)("li",{children:[T.format("tip.1")," ",(0,n.jsx)("a",{href:"https://hub.docker.com/",target:"_blank",children:O.FD.format("help")})]}),(0,n.jsxs)("li",{children:[T.format("tip.2")," ",(0,n.jsx)("a",{href:"https://hub.docker.com/search?q=",target:"_blank",children:O.FD.format("help")})]}),(0,n.jsxs)("li",{children:[T.format("tip.3")," "]}),(0,n.jsxs)("li",{children:[T.format("tip.4")," ",(0,n.jsx)(t.Link,{to:"/image/registry",children:O.Ob.format("image.registry.create")})]}),(0,n.jsxs)("li",{children:[T.format("tip.5")," ",(0,n.jsx)(t.Link,{to:"/image/registry",children:O.Ob.format("image.registry")})]})]})})}),(0,n.jsx)(D.Z,{title:T.format("triggerButton"),headerBordered:!0,children:(0,n.jsxs)(v.A,{formRef:k,submitter:!1,isKeyPressSubmit:!0,onFinish:function(){var R=d()(r()().mark(function a(m){var y,H,w,N,F,z;return r()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return F=(y=m.imageUrl)!==null&&y!==void 0?y:"",m.registry&&(F=m.registry.serverAddress+"/"+F),Y(!0),(H=Z.current)===null||H===void 0||H.setStart(F),S.next=6,(0,s.Gb)({tag:F,type:"pull",platform:(w=m.platform)!==null&&w!==void 0?w:""}).finally(function(){Y(!1)});case 6:return z=S.sent,(N=Z.current)===null||N===void 0||N.setFinish(),B(!1),L.onFinish&&L.onFinish(z.data.tag),S.abrupt("return",!0);case 11:case"end":return S.stop()}},a)}));return function(a){return R.apply(this,arguments)}}(),children:[(0,n.jsxs)(M.Z.Compact,{children:[(0,n.jsx)(o.Z,{name:"registry",children:(0,n.jsx)($.Z,{width:"150px"})}),(0,n.jsx)(l.Z,{disabled:V,width:270,name:"imageUrl",placeholder:T.format("imageUrlEmpty"),required:!0,rules:[{required:!0}]}),(0,n.jsx)(p.Z,{name:"platform",style:{width:100},placeholder:T.format("imagePlatformEmpty"),options:c.ii.map(function(R){return{label:R.name,value:R.name}})}),(0,n.jsx)(_.ZP,{loading:V,onClick:d()(r()().mark(function R(){var a;return r()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:(a=k.current)===null||a===void 0||a.submit();case 1:case"end":return y.stop()}},R)})),children:T.format("triggerButton")}),(0,n.jsx)(_.ZP,{danger:!0,onClick:function(){var a;(a=Z.current)===null||a===void 0||a.close()},children:O.FD.format("listManageKill")})]}),(0,n.jsx)(o.Z,{label:T.format("progressTitle"),children:(0,n.jsx)(h.Z,{ref:Z})})]})})]},"remoteDrawer")]});E.Z=K},3616:function(I,E,e){e.d(E,{Ed:function(){return d},FK:function(){return r},R_:function(){return P},ob:function(){return U}});var P=window.innerWidth<=1024?"90vw":"65vw",r="90vw",U="60vw",d="50vh"},24963:function(I,E,e){var P=e(67294),r=(0,P.createContext)({});E.Z=r},97961:function(I,E,e){e.d(E,{GH:function(){return p},_2:function(){return W},fN:function(){return D},ii:function(){return C},vC:function(){return o}});var P=e(15009),r=e.n(P),U=e(99289),d=e.n(U),j=e(82346),C=[{name:"amd64",arch:"amd64",search:["amd64","x86_64","86_64"]},{name:"arm64",arch:"arm64",search:["arm64","arrch64"]},{name:"i386",arch:"386",search:[]},{name:"arm/v6",arch:"arm",search:[]},{name:"arm/v7",arch:"arm",search:[]},{name:"arm/v8",arch:"arm64",search:[]},{name:"ppc64le",arch:"ppc64le",search:[]},{name:"riscv64",arch:"riscv64",search:[]}];function D(s){return v.apply(this,arguments)}function v(){return v=d()(r()().mark(function s(c){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,j.request)("/api/app/image/create-by-dockerfile",{method:"POST",data:c}));case 1:case"end":return t.stop()}},s)})),v.apply(this,arguments)}function o(s){return l.apply(this,arguments)}function l(){return l=d()(r()().mark(function s(c){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,j.request)("/api/app/image/import-by-container-tar",{method:"POST",data:c}));case 1:case"end":return t.stop()}},s)})),l.apply(this,arguments)}function p(s){return _.apply(this,arguments)}function _(){return _=d()(r()().mark(function s(c){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,j.request)("/api/app/image/import-by-image-tar",{method:"POST",data:c}));case 1:case"end":return t.stop()}},s)})),_.apply(this,arguments)}function W(s){return u.apply(this,arguments)}function u(){return u=d()(r()().mark(function s(c){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,j.request)("/api/common/attach/delete",{method:"POST",data:c});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},s)})),u.apply(this,arguments)}function M(){return i.apply(this,arguments)}function i(){return i=_asyncToGenerator(_regeneratorRuntime().mark(function s(){return _regeneratorRuntime().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",request("/api/app/image/get-template-list",{method:"POST"}));case 1:case"end":return h.stop()}},s)})),i.apply(this,arguments)}}}]);
