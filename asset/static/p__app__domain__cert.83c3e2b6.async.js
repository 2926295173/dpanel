(self.webpackChunk=self.webpackChunk||[]).push([[1355],{23430:function(K,M,e){"use strict";e.d(M,{Z:function(){return s}});var m=e(87462),f=e(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},h=O,E=e(84089),A=function(D,n){return f.createElement(E.Z,(0,m.Z)({},D,{ref:n,icon:h}))},p=f.forwardRef(A),s=p},88484:function(K,M,e){"use strict";e.d(M,{Z:function(){return s}});var m=e(87462),f=e(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},h=O,E=e(84089),A=function(D,n){return f.createElement(E.Z,(0,m.Z)({},D,{ref:n,icon:h}))},p=f.forwardRef(A),s=p},89497:function(K,M,e){"use strict";e.r(M),e.d(M,{default:function(){return S}});var m=e(15009),f=e.n(m),O=e(99289),h=e.n(O),E=e(74026),A=e(77865),p=e(80821),s=e(66554),j=e(5251),D=e(67255),n=e(86548),t=e(23430),v=e(90078),a=e(41482),l=e(82346),y=e(50136),L=e(42075),B=e(66309),w=e(96074),T=e(25593),P=e(83062),I=e(67294),W=e(93162),z=e.n(W),g=e(1699),r=e(85893);function S(){var C=(0,I.useRef)(),$=(0,I.useRef)(),Z=(0,I.useRef)(),F=(0,l.useAccess)();return(0,r.jsx)(v._z,{extra:[(0,r.jsx)(g.u,{access:"canSeeContainerDomainManage",children:(0,r.jsx)(E.Z,{ref:Z,onFinish:function(){var _,o;!((_=C.current)===null||_===void 0)&&_.reloadAndRest&&((o=C.current)===null||o===void 0||o.reloadAndRest())}},"cert")},"cert"),(0,r.jsx)(g.u,{access:"canSeeContainerDomainManage",children:(0,r.jsx)(A.Z,{ref:$},"dns")},"dns")],children:(0,r.jsx)(a.Z,{actionRef:C,scroll:{x:"max-content"},tableExtraRender:function(){return(0,r.jsx)(y.Z,{mode:"horizontal",selectedKeys:["cert"],items:[{label:(0,r.jsx)(l.Link,{to:"/app/domain/list",replace:!0,children:"\u57DF\u540D\u7BA1\u7406"}),key:"domain"},{label:(0,r.jsx)(l.Link,{to:"/app/domain/cert",replace:!0,children:"\u8BC1\u4E66\u7BA1\u7406"}),key:"cert"}]})},rowKey:"mainDomain",columns:[{title:"\u57DF\u540D",render:function(_,o,U,c,i){return(0,r.jsx)(L.Z,{wrap:!0,children:o.domain.map(function(d,u){return(0,r.jsx)(B.Z,{color:u==0?"blue":"",children:d},d)})})}},{title:"\u72B6\u6001",search:!1,width:100,render:function(_,o,U,c,i){return o.inUse&&(0,r.jsx)(B.Z,{color:"cyan",children:"\u4F7F\u7528\u4E2D"},"use-".concat(U))}},{title:"CA",dataIndex:"CA",search:!1,width:200},{title:"\u521B\u5EFA\u65F6\u95F4",search:!1,width:180,render:function(_,o,U,c,i){return(0,j.NF)(o.createdAt)}},{title:"\u7EED\u7B7E\u65F6\u95F4",search:!1,width:180,render:function(_,o,U,c,i){return(0,j.NF)(o.renewAt)}},{title:"\u64CD\u4F5C",width:100,search:!1,fixed:"right",hidden:!F.canSeeContainerDomainManage,render:function(_,o,U,c,i){return(0,r.jsxs)(L.Z,{split:(0,r.jsx)(w.Z,{type:"vertical"}),children:[(0,r.jsx)(T.Z.Link,{onClick:function(){var u;return(u=Z.current)===null||u===void 0||u.edit(o),!0},children:(0,r.jsx)(P.Z,{title:"\u7F16\u8F91\u8BC1\u4E66",children:(0,r.jsx)(n.Z,{})})}),(0,r.jsx)(T.Z.Link,{onClick:h()(f()().mark(function d(){var u,b;return f()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,(0,s.ll)({name:o.mainDomain});case 2:u=x.sent,b=new Blob([u],{type:"application/zip"}),(0,W.saveAs)(b,"cert-"+o.mainDomain+".zip");case 5:case"end":return x.stop()}},d)})),children:(0,r.jsx)(P.Z,{title:"\u4E0B\u8F7D",children:(0,r.jsx)(t.Z,{})})},"2")]})}}],request:h()(f()().mark(function R(){var _,o;return f()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,s.dZ)();case 2:return _=c.sent,c.next=5,(0,s.i7)();case 5:return o=c.sent,c.abrupt("return",{data:_.data.list&&_.data.list.map(function(i){var d=!1;return o&&o.data&&o.data.list.map(function(u){u.setting.certName==i.mainDomain&&(d=!0)}),i.inUse=d,i}),success:!0,total:_.data.list.length});case 7:case"end":return c.stop()}},R)})),pagination:(0,D.O)(),tableAlertOptionRender:function(_){var o=_.selectedRowKeys,U=_.selectedRows;return(0,r.jsx)(L.Z,{size:16,children:(0,r.jsx)(p.Z,{danger:!0,type:"primary",confirm:"notification.confirm.title",action:h()(f()().mark(function c(){var i;return f()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,s.KK)({name:o});case 2:return i=u.sent,u.abrupt("return",i);case 4:case"end":return u.stop()}},c)})),onSuccess:function(){var i,d;return!((i=C.current)===null||i===void 0)&&i.reloadAndRest&&((d=C.current)===null||d===void 0||d.reloadAndRest()),!0},onError:function(){var i,d;return!((i=C.current)===null||i===void 0)&&i.reset&&((d=C.current)===null||d===void 0||d.reset()),!0},children:"\u6279\u91CF\u5220\u9664"})})},rowSelection:F.canSeeContainerDomainManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0})})}},93162:function(K,M,e){var m,f,O;(function(h,E){f=[],m=E,O=typeof m=="function"?m.apply(M,f):m,O!==void 0&&(K.exports=O)})(this,function(){"use strict";function h(n,t){return typeof t=="undefined"?t={autoBom:!1}:typeof t!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n}function E(n,t,v){var a=new XMLHttpRequest;a.open("GET",n),a.responseType="blob",a.onload=function(){D(a.response,t,v)},a.onerror=function(){console.error("could not download file")},a.send()}function A(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch(v){}return 200<=t.status&&299>=t.status}function p(n){try{n.dispatchEvent(new MouseEvent("click"))}catch(v){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof e.g=="object"&&e.g.global===e.g?e.g:void 0,j=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),D=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!j?function(n,t,v){var a=s.URL||s.webkitURL,l=document.createElement("a");t=t||n.name||"download",l.download=t,l.rel="noopener",typeof n=="string"?(l.href=n,l.origin===location.origin?p(l):A(l.href)?E(n,t,v):p(l,l.target="_blank")):(l.href=a.createObjectURL(n),setTimeout(function(){a.revokeObjectURL(l.href)},4e4),setTimeout(function(){p(l)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,v){if(t=t||n.name||"download",typeof n!="string")navigator.msSaveOrOpenBlob(h(n,v),t);else if(A(n))E(n,t,v);else{var a=document.createElement("a");a.href=n,a.target="_blank",setTimeout(function(){p(a)})}}:function(n,t,v,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),typeof n=="string")return E(n,t,v);var l=n.type==="application/octet-stream",y=/constructor/i.test(s.HTMLElement)||s.safari,L=/CriOS\/[\d]+/.test(navigator.userAgent);if((L||l&&y||j)&&typeof FileReader!="undefined"){var B=new FileReader;B.onloadend=function(){var P=B.result;P=L?P:P.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=P:location=P,a=null},B.readAsDataURL(n)}else{var w=s.URL||s.webkitURL,T=w.createObjectURL(n);a?a.location=T:location.href=T,a=null,setTimeout(function(){w.revokeObjectURL(T)},4e4)}});s.saveAs=D.saveAs=D,K.exports=D})}}]);
