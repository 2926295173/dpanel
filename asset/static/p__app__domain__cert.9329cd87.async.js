(self.webpackChunk=self.webpackChunk||[]).push([[1355],{23430:function(I,L,e){"use strict";e.d(L,{Z:function(){return l}});var h=e(87462),f=e(67294),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},p=P,D=e(84089),U=function(O,n){return f.createElement(D.Z,(0,h.Z)({},O,{ref:n,icon:p}))},M=f.forwardRef(U),l=M},89497:function(I,L,e){"use strict";e.r(L),e.d(L,{default:function(){return Z}});var h=e(15009),f=e.n(h),P=e(99289),p=e.n(P),D=e(74026),U=e(77865),M=e(80821),l=e(66554),T=e(5251),O=e(86548),n=e(23430),t=e(74453),_=e(82346),a=e(50136),d=e(42075),K=e(66309),W=e(96074),B=e(25593),w=e(83062),C=e(67294),R=e(93162),H=e.n(R),x=e(1699),E=e(36146),S=e(98510),s=e(85893);function Z(){var j=(0,C.useRef)(),$=(0,C.useRef)(),b=(0,C.useRef)(),F=(0,_.useAccess)();return(0,s.jsx)(t._z,{extra:[(0,s.jsx)(x.u,{access:"canSeeContainerDomainManage",children:(0,s.jsx)(D.Z,{ref:b,onFinish:function(){var i,r;!((i=j.current)===null||i===void 0)&&i.reloadAndRest&&((r=j.current)===null||r===void 0||r.reloadAndRest())}},"cert")},"cert"),(0,s.jsx)(x.u,{access:"canSeeContainerDomainManage",children:(0,s.jsx)(U.Z,{ref:$},"dns")},"dns")],children:(0,s.jsx)(S.C,{actionRef:j,tableExtraRender:function(){return(0,s.jsx)(a.Z,{mode:"horizontal",selectedKeys:["cert"],items:[{label:(0,s.jsx)(_.Link,{to:"/app/domain/list",replace:!0,children:E.Ob.format("container.domain.list")}),key:"domain"},{label:(0,s.jsx)(_.Link,{to:"/app/domain/cert",replace:!0,children:E.Ob.format("container.domain.cert")}),key:"cert"}]})},rowKey:"mainDomain",columns:[{title:E.FD.format("listDomain"),render:function(i,r,A,u,m){return(0,s.jsx)(d.Z,{wrap:!0,children:r.domain.map(function(c,o){return(0,s.jsx)(K.Z,{color:o==0?"blue":"",children:c},c)})})}},{title:E.FD.format("listStatus"),search:!1,width:100,render:function(i,r,A,u,m){return r.inUse&&(0,s.jsx)(K.Z,{color:"cyan",children:E.FD.format("listInUse")},"use-".concat(A))}},{title:"CA",dataIndex:"CA",search:!1,width:200},{title:E.FD.format("listCreatedAt"),search:!1,width:180,render:function(i,r,A,u,m){return(0,T.NF)(r.createdAt)},sorter:function(i,r){return i.createdAt!=""&&r.createdAt!=""?new Date(i.createdAt).toISOString().localeCompare(new Date(r.createdAt).toISOString()):-1}},{title:E.FD.format("listUpdatedAt"),search:!1,width:180,render:function(i,r,A,u,m){return(0,T.NF)(r.renewAt)}},{title:E.FD.format("listManage"),width:100,search:!1,fixed:"right",hidden:!F.canSeeContainerDomainManage,render:function(i,r,A,u,m){return(0,s.jsxs)(d.Z,{split:(0,s.jsx)(W.Z,{type:"vertical"}),children:[(0,s.jsx)(B.Z.Link,{onClick:function(){var o;return(o=b.current)===null||o===void 0||o.edit(r),!0},children:(0,s.jsx)(w.Z,{title:E.FD.format("listManageEdit"),children:(0,s.jsx)(O.Z,{})})}),(0,s.jsx)(B.Z.Link,{onClick:p()(f()().mark(function c(){var o,y;return f()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,l.ll)({name:r.mainDomain});case 2:o=g.sent,y=new Blob([o],{type:"application/zip"}),(0,R.saveAs)(y,"cert-"+r.mainDomain+".zip");case 5:case"end":return g.stop()}},c)})),children:(0,s.jsx)(w.Z,{title:E.FD.format("listManageDownload"),children:(0,s.jsx)(n.Z,{})})},"2")]})}}],request:p()(f()().mark(function v(){var i,r;return f()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,l.dZ)();case 2:return i=u.sent,u.next=5,(0,l.i7)();case 5:return r=u.sent,u.abrupt("return",{data:i.data.list&&i.data.list.map(function(m){var c=!1;return r&&r.data&&r.data.list.map(function(o){o.setting.certName==m.mainDomain&&(c=!0)}),m.inUse=c,m}),success:!0,total:i.data.list.length});case 7:case"end":return u.stop()}},v)})),quickToolbarRender:function(i){var r=i.selectedRows,A=i.finish,u=i.loading;return[(0,s.jsx)(M.Z,{buttonProps:{danger:!0,type:"primary"},confirmProps:{showCommonConfirm:!0},action:p()(f()().mark(function m(){return f()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return u(),o.abrupt("return",(0,l.KK)({name:r.map(function(y){return y.mainDomain})}).finally(function(){A(!0)}));case 2:case"end":return o.stop()}},m)})),onSuccess:function(){var c,o;return!((c=j.current)===null||c===void 0)&&c.reloadAndRest&&((o=j.current)===null||o===void 0||o.reloadAndRest()),!0},onError:function(){var c,o;return!((c=j.current)===null||c===void 0)&&c.reset&&((o=j.current)===null||o===void 0||o.reset()),!0},children:E.FD.format("listManageDeleteBatch")},"batchDelete")]},rowSelection:F.canSeeContainerDomainManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0})})}},93162:function(I,L,e){var h,f,P;(function(p,D){f=[],h=D,P=typeof h=="function"?h.apply(L,f):h,P!==void 0&&(I.exports=P)})(this,function(){"use strict";function p(n,t){return typeof t=="undefined"?t={autoBom:!1}:typeof t!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n}function D(n,t,_){var a=new XMLHttpRequest;a.open("GET",n),a.responseType="blob",a.onload=function(){O(a.response,t,_)},a.onerror=function(){console.error("could not download file")},a.send()}function U(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch(_){}return 200<=t.status&&299>=t.status}function M(n){try{n.dispatchEvent(new MouseEvent("click"))}catch(_){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof e.g=="object"&&e.g.global===e.g?e.g:void 0,T=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),O=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!T?function(n,t,_){var a=l.URL||l.webkitURL,d=document.createElement("a");t=t||n.name||"download",d.download=t,d.rel="noopener",typeof n=="string"?(d.href=n,d.origin===location.origin?M(d):U(d.href)?D(n,t,_):M(d,d.target="_blank")):(d.href=a.createObjectURL(n),setTimeout(function(){a.revokeObjectURL(d.href)},4e4),setTimeout(function(){M(d)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,_){if(t=t||n.name||"download",typeof n!="string")navigator.msSaveOrOpenBlob(p(n,_),t);else if(U(n))D(n,t,_);else{var a=document.createElement("a");a.href=n,a.target="_blank",setTimeout(function(){M(a)})}}:function(n,t,_,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),typeof n=="string")return D(n,t,_);var d=n.type==="application/octet-stream",K=/constructor/i.test(l.HTMLElement)||l.safari,W=/CriOS\/[\d]+/.test(navigator.userAgent);if((W||d&&K||T)&&typeof FileReader!="undefined"){var B=new FileReader;B.onloadend=function(){var R=B.result;R=W?R:R.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=R:location=R,a=null},B.readAsDataURL(n)}else{var w=l.URL||l.webkitURL,C=w.createObjectURL(n);a?a.location=C:location.href=C,a=null,setTimeout(function(){w.revokeObjectURL(C)},4e4)}});l.saveAs=O.saveAs=O,I.exports=O})}}]);
