"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5529],{44349:function(A,b,a){var T=a(97857),n=a.n(T),j=a(17186),d=a(5966),m=a(86250),P=a(67294),p=a(85893),M=(0,P.forwardRef)(function(s,l){var h=(0,P.useRef)();(0,P.useImperativeHandle)(l,function(){return{addItem:function(t,u){var o,e=(o=h.current)===null||o===void 0?void 0:o.getList(),y=!1;if(e==null||e.map(function(W){if(W.name==t){y=!0;return}}),!y){var O;(O=h.current)===null||O===void 0||O.add({name:t,value:u})}},clear:function(){var t;(t=h.current)===null||t===void 0||(t=t.getList())===null||t===void 0||t.map(function(u,o){var e;(e=h.current)===null||e===void 0||e.remove(o)})}}});var g={};return s.hideCopyButton===!0&&(g.copyIconProps=!1),s.hideDeleteButton===!0&&(g.deleteIconProps=!1),(0,p.jsx)(j.u,n()(n()({initialValue:s.initialValue,label:s.label,name:s.name,actionRef:h,creatorButtonProps:s.showAddButton?{creatorButtonText:"\u6DFB\u52A0"+(s.label?s.label:s.name)}:!1,min:s.min?s.min:0},g),{},{children:function(t,u,o){return(0,p.jsx)(m.Z,{justify:s.justify,gap:s.gap,children:s.items.map(function(e){return e.render?(0,p.jsx)("div",{children:e.render&&e.render(t,u,o)},"".concat(s.name,"-").concat(e.name,"-").concat(t.key)):(0,p.jsx)(d.Z,{width:e.width,name:e.name,label:e.label,required:e.required,rules:[{required:e.required}],disabled:e.disabled,placeholder:e.placeholder},"".concat(s.name,"-").concat(e.name,"-").concat(t.key))})})}}))});b.Z=M},80271:function(A,b,a){var T=a(15009),n=a.n(T),j=a(99289),d=a.n(j),m=a(5574),P=a.n(m),p=a(184),M=a(78099),s=a(83062),l=a(67294),h=a(3393),g=a(68536),f=a(5251),t=a(81366),u=a(85893),o=(0,l.forwardRef)(function(e,y){(0,l.useImperativeHandle)(y,function(){return{show:function(){}}});var O=(0,l.useState)(""),W=P()(O,2),I=W[0],L=W[1],U=(0,l.useState)(!1),w=P()(U,2),C=w[0],_=w[1],c=(0,l.useRef)(),i=(0,l.useRef)(),r=function(D,E){L(E)};return(0,u.jsx)(p.a,{open:C,submitter:!1,title:"\u955C\u50CF\u6587\u4EF6\u67E5\u770B",onOpenChange:function(D){_(D),L(D?"/":"")},trigger:(0,u.jsx)(s.Z,{title:"\u67E5\u770B\u955C\u50CF\u6587\u4EF6",children:e.trigger}),children:(0,u.jsx)(M.Z,{headerTitle:(0,u.jsx)(t.Z,{ref:i,showPath:r}),scroll:{x:"max-content"},search:!1,rowKey:"showName",pagination:{pageSize:500,position:["topRight","bottomRight"]},actionRef:c,request:d()(n()().mark(function R(){var D;return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(I!=""){v.next=2;break}return v.abrupt("return",{data:[],total:0,success:!0});case 2:return v.next=4,(0,h.cD)({md5:e.imageId,path:I});case 4:return D=v.sent,v.abrupt("return",{data:D.data.info,total:D.data.info.length,success:!0});case 6:case"end":return v.stop()}},R)})),columns:[{title:"\u540D\u79F0",dataIndex:"showName",key:"name",render:function(B,E,v,K,S){var B;return E.isDir?B=(0,u.jsx)(g.Z,{isDir:!0,onClick:function(){return r(E.showName,E.name)},showName:E.showName}):E.linkName?B=(0,u.jsx)(g.Z,{isLink:!0,showName:"".concat(E.showName)}):B=(0,u.jsx)(g.Z,{showName:E.showName}),B}},{title:"\u6743\u9650",dataIndex:"mode",key:"mode"},{title:"\u7528\u6237",dataIndex:"owner"},{title:"\u7528\u6237\u7EC4",dataIndex:"group"},{title:"\u5927\u5C0F",dataIndex:"size",key:"size"},{title:"\u4FEE\u6539\u65F6\u95F4",dataIndex:"modTime",key:"modTime",render:function(D,E,v,K,S){return(0,f.NF)(E.modTime)},sorter:function(D,E){return new Date(D.modTime).getTime()-new Date(E.modTime).getTime()}}],cardProps:{ghost:!0}},"".concat(e.imageId,"-").concat(I))})});b.Z=o},96042:function(A,b,a){a.d(b,{Z:function(){return s}});var T=a(97857),n=a.n(T),j=a(5574),d=a.n(j),m=a(75870),P=a(34041),p=a(67294),M=a(85893);function s(l){var h=(0,p.useState)([]),g=d()(h,2),f=g[0],t=g[1];(0,p.useEffect)(function(){(0,m.Ot)().then(function(o){o&&t(o.data.list)})},[]);var u={};return l.multiple&&(u.mode="multiple"),l.top&&(u.placement="topLeft"),(0,M.jsx)(P.Z,n()({popupMatchSelectWidth:!l.width,style:l.width?{width:l.width}:{},onChange:function(e){if(Array.isArray(e)){var y=e.map(function(O){return f[O]});l.onChangeList&&l.onChangeList(y)}else l.onChange&&l.onChange(f[e])},placeholder:"\u9009\u62E9\u955C\u50CF\u4ED3\u5E93\uFF0C\u9ED8\u8BA4\u4E3A\u5F53\u524D\u4ED3\u5E93",options:f.map(function(o,e){return{value:e,label:o.title+"("+o.serverAddress+")"}}),allowClear:!0},u))}},18148:function(A,b,a){a.d(b,{$q:function(){return t},Fj:function(){return L},KG:function(){return P},KX:function(){return w},T8:function(){return g},Xn:function(){return l},ao:function(){return o},c5:function(){return W},c7:function(){return y}});var T=a(15009),n=a.n(T),j=a(99289),d=a.n(j),m=a(82346);function P(_){return p.apply(this,arguments)}function p(){return p=d()(n()().mark(function _(c){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/app/image/get-list",{method:"POST",data:c}));case 1:case"end":return r.stop()}},_)})),p.apply(this,arguments)}function M(_){return s.apply(this,arguments)}function s(){return s=_asyncToGenerator(_regeneratorRuntime().mark(function _(c){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,request("/api/app/log/image-build",{method:"POST",data:c});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},_)})),s.apply(this,arguments)}function l(_){return h.apply(this,arguments)}function h(){return h=d()(n()().mark(function _(c){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/app/image/get-list-build",{method:"POST",data:c}));case 1:case"end":return r.stop()}},_)})),h.apply(this,arguments)}function g(_){return f.apply(this,arguments)}function f(){return f=d()(n()().mark(function _(c){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,m.request)("/api/app/image/get-build-task",{method:"POST",data:c});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},_)})),f.apply(this,arguments)}function t(_){return u.apply(this,arguments)}function u(){return u=d()(n()().mark(function _(c){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,m.request)("/api/app/image/delete-build-task",{method:"POST",data:c});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},_)})),u.apply(this,arguments)}function o(_){return e.apply(this,arguments)}function e(){return e=d()(n()().mark(function _(c){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,m.request)("/api/app/image/image-delete",{method:"POST",data:c});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},_)})),e.apply(this,arguments)}function y(){return O.apply(this,arguments)}function O(){return O=d()(n()().mark(function _(){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,m.request)("/api/app/image/image-prune",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},_)})),O.apply(this,arguments)}function W(){return I.apply(this,arguments)}function I(){return I=d()(n()().mark(function _(){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,m.request)("/api/app/image/build-prune",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},_)})),I.apply(this,arguments)}function L(_){return U.apply(this,arguments)}function U(){return U=d()(n()().mark(function _(c){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,m.request)("/api/app/image/update-title",{method:"POST",data:c});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},_)})),U.apply(this,arguments)}function w(_){return C.apply(this,arguments)}function C(){return C=d()(n()().mark(function _(c){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/app/image/tag-sync",{method:"POST",data:c}));case 1:case"end":return r.stop()}},_)})),C.apply(this,arguments)}},75870:function(A,b,a){a.d(b,{Ot:function(){return P},ZH:function(){return M},ix:function(){return l},t1:function(){return g}});var T=a(15009),n=a.n(T),j=a(99289),d=a.n(j),m=a(82346);function P(t){return p.apply(this,arguments)}function p(){return p=d()(n()().mark(function t(u){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/common/registry/get-list",{method:"POST",data:u}));case 1:case"end":return e.stop()}},t)})),p.apply(this,arguments)}function M(t){return s.apply(this,arguments)}function s(){return s=d()(n()().mark(function t(u){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/common/registry/create",{method:"POST",data:u}));case 1:case"end":return e.stop()}},t)})),s.apply(this,arguments)}function l(t){return h.apply(this,arguments)}function h(){return h=d()(n()().mark(function t(u){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/common/registry/delete",{method:"POST",data:u}));case 1:case"end":return e.stop()}},t)})),h.apply(this,arguments)}function g(t){return f.apply(this,arguments)}function f(){return f=d()(n()().mark(function t(u){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/common/registry/get-detail",{method:"POST",data:u}));case 1:case"end":return e.stop()}},t)})),f.apply(this,arguments)}}}]);
