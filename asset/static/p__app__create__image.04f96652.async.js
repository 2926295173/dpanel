"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3985],{85060:function(pe,Y,n){n.d(Y,{Z:function(){return f}});var R=n(87462),m=n(67294),X={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"},B=X,T=n(84089),P=function(V,l){return m.createElement(T.Z,(0,R.Z)({},V,{ref:l,icon:B}))},y=m.forwardRef(P),f=y},63434:function(pe,Y,n){var R=n(1413),m=n(45987),X=n(22270),B=n(84567),T=n(67294),P=n(90789),y=n(35510),f=n(85893),O=["options","fieldProps","proFieldProps","valueEnum"],V=T.forwardRef(function(Z,ue){var d=Z.options,t=Z.fieldProps,ne=Z.proFieldProps,oe=Z.valueEnum,M=(0,m.Z)(Z,O);return(0,f.jsx)(y.Z,(0,R.Z)({ref:ue,valueType:"checkbox",valueEnum:(0,X.h)(oe,void 0),fieldProps:(0,R.Z)({options:d},t),lightProps:(0,R.Z)({labelFormatter:function(){return(0,f.jsx)(y.Z,(0,R.Z)({ref:ue,valueType:"checkbox",mode:"read",valueEnum:(0,X.h)(oe,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,R.Z)({options:d},t),proFieldProps:ne},M))}},M.lightProps),proFieldProps:ne},M))}),l=T.forwardRef(function(Z,ue){var d=Z.fieldProps,t=Z.children;return(0,f.jsx)(B.Z,(0,R.Z)((0,R.Z)({ref:ue},d),{},{children:t}))}),w=(0,P.G)(l,{valuePropName:"checked"}),b=w;b.Group=V,Y.Z=b},52688:function(pe,Y,n){var R=n(1413),m=n(45987),X=n(67294),B=n(35510),T=n(85893),P=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],y=X.forwardRef(function(f,O){var V=f.fieldProps,l=f.unCheckedChildren,w=f.checkedChildren,b=f.proFieldProps,Z=(0,m.Z)(f,P);return(0,T.jsx)(B.Z,(0,R.Z)({valueType:"switch",fieldProps:(0,R.Z)({unCheckedChildren:l,checkedChildren:w},V),ref:O,valuePropName:"checked",proFieldProps:b,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},Z))});Y.Z=y},90672:function(pe,Y,n){var R=n(1413),m=n(45987),X=n(67294),B=n(35510),T=n(85893),P=["fieldProps","proFieldProps"],y=function(O,V){var l=O.fieldProps,w=O.proFieldProps,b=(0,m.Z)(O,P);return(0,T.jsx)(B.Z,(0,R.Z)({ref:V,valueType:"textarea",fieldProps:l,proFieldProps:w},b))};Y.Z=X.forwardRef(y)},91058:function(pe,Y,n){var R=n(19632),m=n.n(R),X=n(97857),B=n.n(X),T=n(5574),P=n.n(T),y=n(89035),f=n(64317),O=n(5966),V=n(38345),l=n(17186),w=n(24739),b=n(42075),Z=n(28036),ue=n(85576),d=n(67294),t=n(95089),ne=n(12491),oe=n(62597),M=n(79245),se=n(3616),E=n(85893),ie="docker-image",ce=(0,d.forwardRef)(function(H,de){var i=(0,d.useState)(ie),r=P()(i,2),D=r[0],x=r[1],A=(0,d.useRef)(),be=(0,d.useState)(""),fe=P()(be,2),Pe=fe[0],we=fe[1],Ze=function(){D!="code"?x("code"):x(ie)};(0,d.useImperativeHandle)(de,function(){return{addEnvItem:function(N,J){var q,ae=(q=A.current)===null||q===void 0?void 0:q.getList(),ve=!1;if(ae==null||ae.map(function(ge){if(ge.name==N){ve=!0;return}}),!ve){var me;(me=A.current)===null||me===void 0||me.add({name:N,value:J})}},clear:function(){var N;(N=A.current)===null||N===void 0||(N=N.getList())===null||N===void 0||N.map(function(J,q){var ae;(ae=A.current)===null||ae===void 0||ae.remove(q)})}}});function Me(L){try{var N,J;L==""&&(L=e());for(var q=(N=(J=A.current)===null||J===void 0||(J=J.getList())===null||J===void 0?void 0:J.length)!==null&&N!==void 0?N:0,ae=q;ae>=0;ae--){var ve;(ve=A.current)===null||ve===void 0||ve.remove(ae)}var me=L.split(`
`),ge=0;me.map(function(Fe){var Ae,Se=Fe.split("=");Se.length<2||((Ae=A.current)===null||Ae===void 0||Ae.add({name:Se[0],value:Se.slice(1).join("=")},ge),ge++)})}catch(Fe){console.log(Fe)}}function e(){if(A&&A.current&&A.current.getList){var L,N=(L=A.current)===null||L===void 0?void 0:L.getList();if(N){var J=[];return N.map(function(q){J.push("".concat(q.name,"=").concat(q.value))}),J.join(`
`)}else return""}else return""}function Ee(L){var N,J,q,ae,ve={},me={help:L&&L.label?L.label:"",name:"value",label:"\u53D8\u91CF\u503C",rules:[{required:H.requireValue?!0:(0,M.y)((N=L.rule)===null||N===void 0?void 0:N.kind,oe.fp.EnvValueRuleRequired)}],disabled:H.showDisableValue||(0,M.y)((J=L.rule)===null||J===void 0?void 0:J.kind,oe.fp.EnvValueRuleDisabled)};if((0,M.y)((q=L.rule)===null||q===void 0?void 0:q.kind,oe.fp.EnvValueTypeSelect)){var ge;return(0,E.jsx)(f.Z,B()(B()({fieldProps:ve},me),{},{width:H.showInDrawer?"sm":"md",options:((ge=L.rule)===null||ge===void 0?void 0:ge.option)&&L.rule.option.map(function(Fe){return{label:Fe.name,value:Fe.value}}),initialValue:L.value}))}else return(0,M.y)((ae=L.rule)===null||ae===void 0?void 0:ae.kind,oe.fp.EnvValueTypeNumber)?(0,E.jsx)(O.Z,B()(B()({fieldProps:ve},me),{},{width:H.showInDrawer?"sm":"md",rules:[].concat(m()(me.rules),[{pattern:new RegExp("^[0-9]*$")}]),help:me.help+",\u6570\u503C\u7C7B\u578B"})):(0,E.jsx)(O.Z,B()(B()({fieldProps:ve},me),{},{width:H.showInDrawer?"sm":"md"}))}return(0,E.jsxs)(V.Z,{ghost:H.showCardGhost,title:H.label?H.label:null,headerBordered:!0,extra:(H.showCodeMode||H.showImportButton)&&(0,E.jsxs)(b.Z,{children:[H.showImportButton&&(0,E.jsx)("div",{style:{marginBottom:"-25px"},children:(0,E.jsx)(ne.Z,{title:"\u5BFC\u5165 env \u6587\u4EF6",onImport:function(N){return Me(N),!0},onLoad:function(N){if(N.indexOf("=")<0)throw new Error("\u5BFC\u5165env\u6587\u4EF6\u9519\u8BEF");return!0}})}),H.showCodeMode?(0,E.jsx)(Z.ZP,{icon:(0,E.jsx)(y.Z,{}),type:D=="code"?"primary":"default",onClick:Ze,children:"\u4EE3\u7801\u6A21\u5F0F"},"code"):""]}),children:[(0,E.jsx)(l.u,{name:H.name?H.name:"environment",actionRef:A,creatorButtonProps:H.showAddButton?{creatorButtonText:"\u6DFB\u52A0\u5BB9\u5668\u73AF\u5883\u53D8\u91CF"}:!1,copyIconProps:!1,deleteIconProps:H.showDeleteButton,min:100,label:H.listLabel,children:function(N,J,q){var ae=q.getCurrentRowData();return(0,E.jsxs)(w.UW,{style:{marginBottom:"5px"},children:[(0,E.jsx)(O.Z,{width:H.showInDrawer?"sm":"md",name:"name",label:"\u53D8\u91CF\u540D",required:!0,rules:[{required:!0}],disabled:H.showDisableName,placeholder:"\u8F93\u5165\u53D8\u91CF\u540D\u79F0"}),Ee(ae)]})}}),H.showCodeMode&&(0,E.jsx)(ue.Z,{width:se.ob,open:D=="code",onCancel:function(){return x("docker-image")},onOk:function(){Me(Pe),x("docker-image")},children:(0,E.jsx)(t.ZP,{onChange:function(N){return we(N)},value:e(),height:se.Ed,theme:"dark"})})]})});Y.Z=ce},92067:function(pe,Y,n){n.d(Y,{Z:function(){return b}});var R=n(15009),m=n.n(R),X=n(99289),B=n.n(X),T=n(13822),P=n(64789),y=n(41482),f=n(42075),O=n(28036),V=n(37413),l=n(5251),w=n(85893);function b(Z){return(0,w.jsx)(y.Z,{columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"name",render:function(d,t,ne,oe){return(0,w.jsx)(f.Z,{direction:"vertical",style:{textAlign:"left"},children:t==null?void 0:t.Names.map(function(M){return(0,l.fi)(M,"/")})},t.Id)}},{title:"\u7AEF\u53E3",dataIndex:"ports",search:!1,render:function(d,t,ne,oe){var M=[],se=[];return t!=null&&t.Ports&&t.Ports.map(function(E,ie){E.PublicPort?M.push(E):se.push(E)}),(0,w.jsx)(V.Z,{publicPort:M,privatePort:se,domain:[]})}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",ellipsis:!0,width:100,render:function(d,t,ne,oe){return[(0,w.jsx)(O.ZP,{type:"link",onClick:B()(m()().mark(function M(){var se;return m()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,(0,T.jV)({md5:t.Id});case 2:se=ie.sent,Z.onSelect&&Z.onSelect(se.data.info);case 4:case"end":return ie.stop()}},M)})),children:(0,w.jsx)(P.Z,{})},t.Id)]}}],rowKey:"Id",request:function(){var ue=B()(m()().mark(function d(t,ne,oe){var M;return m()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,T.IE)({siteTitle:t.name});case 2:return M=E.sent,E.abrupt("return",{data:M.data.list,success:!0,total:M.data.list.length});case 4:case"end":return E.stop()}},d)}));return function(d,t,ne){return ue.apply(this,arguments)}}(),pagination:{pageSize:9}})}},52255:function(pe,Y,n){n.d(Y,{Z:function(){return X}});var R=n(67294),m=n(85893);function X(B){return(0,m.jsx)("div",{style:{display:B.show?"block":"none"},children:B.children})}},12491:function(pe,Y,n){n.d(Y,{Z:function(){return f}});var R=n(24963),m=n(88484),X=n(62370),B=n(31418),T=n(28036),P=n(67294),y=n(85893);function f(O){var V=(0,P.useContext)(R.Z),l=V.message,w=V.notice,b=V.lang,Z=(0,P.useRef)(null),ue=B.Z.useApp(),d=function(){Z.current&&(Z.current.click(),Z.current.onchange=function(ne){if(!ne||!ne.target)return"";var oe=new FileReader;oe.onload=function(se){var E,ie,ce=(E=se.target)===null||E===void 0?void 0:E.result;if(O.onLoad)try{O.onLoad&&O.onLoad(ce)}catch(H){w.error(H);return}typeof O.onImport=="function"&&(l.success("\u6210\u529F\u5BFC\u5165 ".concat(O.title)),O.onImport(ce)),(ie=Z.current)!==null&&ie!==void 0&&ie.value&&(Z.current.value="")};var M=ne.target;if(M.files)try{oe.readAsText(M.files[0])}catch(se){w.error("\u5BFC\u5165\u6587\u4EF6\u5FC5\u987B\u662F\u6587\u672C\u7C7B\u578B")}})};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(X.Z,{children:(0,y.jsx)(T.ZP,{icon:(0,y.jsx)(m.Z,{}),block:!0,onClick:d,children:O.title})}),(0,y.jsx)("input",{style:{display:"none"},type:"file",ref:Z,name:"importFileInput"})]})}},46442:function(pe,Y,n){var R=n(15009),m=n.n(R),X=n(99289),B=n.n(X),T=n(5574),P=n.n(T),y=n(67294),f=n(14946),O=n(64789),V=n(41482),l=n(28036),w=n(85265),b=n(42075),Z=n(66309),ue=n(28230),d=n(3616),t=n(85893),ne=(0,y.forwardRef)(function(oe,M){(0,y.useImperativeHandle)(M,function(){return{show:function(){ce(!0)}}});var se=(0,y.useState)(!1),E=P()(se,2),ie=E[0],ce=E[1],H=(0,y.useRef)();return(0,t.jsxs)(t.Fragment,{children:[oe.showTriggerButton&&(0,t.jsx)(l.ZP,{onClick:function(){ce(!0)},children:"\u52A0\u5165\u7F51\u7EDC"}),(0,t.jsx)(w.Z,{title:"\u9009\u62E9\u7F51\u7EDC",width:d.R_,footer:!1,open:ie,onClose:function(){return ce(!1)},extra:(0,t.jsx)(b.Z,{children:(0,t.jsx)(ue.Z,{onFinish:function(){var i,r;!((i=H.current)===null||i===void 0)&&i.reloadAndRest&&((r=H.current)===null||r===void 0||r.reloadAndRest())}},"create")}),children:(0,t.jsx)(V.Z,{rowKey:"Name",actionRef:H,columns:[{title:"\u540D\u79F0",dataIndex:"Name",render:function(i,r,D,x,A){return r.Name=="none"||r.Name=="bridge"||r.Name=="host"?(0,t.jsxs)(t.Fragment,{children:[r.Name," ",(0,t.jsx)(Z.Z,{color:"blue",children:"System"})]}):(0,t.jsx)(t.Fragment,{children:i})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"Driver",ellipsis:!0,width:100,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",search:!1,width:120,render:function(i,r,D,x,A){return r.IPAM.Config&&r.IPAM.Config[0]&&(0,t.jsxs)(b.Z,{direction:"vertical",children:[r.IPAM.Config[0].Subnet,r.IPAM.Config[0].Gateway]})}},{title:"IPV6",search:!1,render:function(i,r,D,x,A){return r.IPAM.Config&&r.IPAM.Config[1]&&(0,t.jsxs)(b.Z,{direction:"vertical",children:[r.IPAM.Config[1].Subnet,r.IPAM.Config[1].Gateway]})}},{title:"\u64CD\u4F5C",width:100,search:!1,render:function(i,r,D,x,A){return[r.Name!="none"&&r.Name!="bridge"&&r.Name!="host"&&(0,t.jsx)(l.ZP,{type:"link",onClick:function(){oe.onSelect(r),ce(!1)},children:(0,t.jsx)(O.Z,{})},r.Id)]}}],request:function(){var de=B()(m()().mark(function i(r,D,x){var A;return m()().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return fe.next=2,(0,f.jR)({name:r.Name});case 2:return A=fe.sent,fe.abrupt("return",{data:A.data.list,success:!0,total:A.data.list.length});case 4:case"end":return fe.stop()}},i)}));return function(i,r,D){return de.apply(this,arguments)}}(),pagination:{pageSize:10}})})]})});Y.Z=ne},35880:function(pe,Y,n){var R=n(67294),m=(0,R.createContext)({});Y.Z=m},57841:function(pe,Y,n){n.r(Y),n.d(Y,{default:function(){return xn}});var R=n(15009),m=n.n(R),X=n(99289),B=n.n(X),T=n(5574),P=n.n(T),y=n(90078),f=n(38345),O=n(97269),V=n(2236),l=n(5966),w=n(24739),b=n(97462),Z=n(30291),ue=n(92398),d=n(40056),t=n(67294),ne=n(35880),oe=n(41482),M=n(62370),se=n(85265),E=n(42075),ie=n(96074),ce=n(28036),H=n(83062),de=n(3393),i=n(18148),r=n(5251),D=n(64789),x=n(85060),A=n(28307),be=n(78451),fe=n(99861),Pe=n(80821),we=n(1699),Ze=n(80271),Me=n(3616),e=n(85893);function Ee(h){var Q=(0,t.useState)(!1),U=P()(Q,2),z=U[0],g=U[1],I=(0,t.useRef)(),v=(0,t.useContext)(ne.Z),_=v.createFormRef,S=v.volumeListRef,$=v.createEnvRef,c=v.domainRef,o=(0,t.useRef)(),j=function(){var p=B()(m()().mark(function F(s){var C,k,ee,G,Be,Ie,te,K,a,re,u,_e;return m()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,(0,de.YU)({md5:s});case 2:return G=W.sent,h.redeploy||(K=(Be=_.current)===null||Be===void 0?void 0:Be.getFieldsValue(),(Ie=_.current)===null||Ie===void 0||Ie.resetFields(),(te=_.current)===null||te===void 0||te.setFieldsValue({siteName:K.siteName,siteTitle:K.siteTitle,useBridgeNetwork:K.useBridgeNetwork})),G.data.info.Config.Env&&G.data.info.Config.Env.map(function(Ce){var Oe,he=Ce.split("=");(Oe=$.current)===null||Oe===void 0||Oe.addEnvItem(he[0],he.slice(1).join("="))}),(C=_.current)===null||C===void 0||C.setFieldValue("imageName",s),(k=_.current)===null||k===void 0||k.setFieldValue("workDir",G.data.info.Config.WorkingDir),(ee=c.current)===null||ee===void 0||ee.setExposePort(G.data.info.Config.ExposedPorts),h.redeploy||(G.data.info.Config.Volumes?(u=[],Object.keys(G.data.info.Config.Volumes).map(function(Ce,Oe){u.push(Ce)}),(re=S.current)===null||re===void 0||re.setDefaultDestPath(u)):(_e=S.current)===null||_e===void 0||_e.setDefaultDestPath([]),(a=_.current)===null||a===void 0||a.setFieldsValue({workDir:{value:"",useDefault:!0,default:G.data.info.Config.WorkingDir},user:{value:"",useDefault:!0,default:G.data.info.Config.User},command:{value:"",useDefault:!0,default:G.data.info.Config.Cmd&&G.data.info.Config.Cmd.join(" ")},entrypoint:{value:"",useDefault:!0,default:G.data.info.Config.Entrypoint&&G.data.info.Config.Entrypoint.join(" ")}})),W.abrupt("return",!0);case 10:case"end":return W.stop()}},F)}));return function(s){return p.apply(this,arguments)}}();return(0,t.useEffect)(function(){h.fromImageId&&j(h.fromImageId)},[h.fromImageId]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(se.Z,{open:z,width:Me.R_,title:"\u9009\u62E9\u955C\u50CF",footer:!1,onClose:function(){return g(!1)},children:(0,e.jsx)(oe.Z,{scroll:{x:"max-content"},columns:[{title:"Id",dataIndex:"Id",search:!1,width:80,render:function(F,s,C,k,ee){return(0,e.jsx)(be.Z,{content:s.Id.slice(7,19)})}},{title:"\u955C\u50CF\u540D\u79F0",dataIndex:"tag",width:200,render:function(F,s,C,k){return(0,e.jsx)(be.Z,{content:s.RepoTags[0]})}},{title:"\u521B\u5EFA\u65E5\u671F",dataIndex:"Created",search:!1,width:100,render:function(F,s,C,k){return(0,e.jsx)("div",{children:(0,r.ZM)(s.Created*1e3)},s.Id)},sorter:function(F,s){return F.Created-s.Created}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:50,render:function(F,s,C,k){return(0,e.jsx)(E.Z,{split:(0,e.jsx)(ie.Z,{type:"vertical"}),children:(0,e.jsx)(Pe.Z,{icon:(0,e.jsx)(D.Z,{}),tips:"\u4F7F\u7528\u955C\u50CF",action:function(){return j(s.RepoTags[0])},type:"link",onSuccess:function(){g(!1)}},"addImage")})}}],request:function(){var p=B()(m()().mark(function F(s,C,k){var ee,G,Be,Ie,te;return m()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return h.redeploy&&(G=(ee=_.current)===null||ee===void 0?void 0:ee.getFieldValue("imageName"),s.tag=G?G.split(":")[0]:s.tag),a.next=3,(0,i.KG)({});case 3:return Be=a.sent,Ie=0,te=[],Be.data.list&&(te=Be.data.list.flatMap(function(re){return re.RepoTags.map(function(u){return{Key:Ie++,Id:re.Id,Created:re.Created,RepoTags:[u]}})})),a.abrupt("return",{data:te,success:!0,total:te.length});case 8:case"end":return a.stop()}},F)}));return function(F,s,C){return p.apply(this,arguments)}}(),formRef:I,rowKey:"Key",pagination:{pageSize:8}})},"imageTableList"),(0,e.jsxs)(E.Z.Compact,{children:[(0,e.jsx)(l.Z,{width:"lg",label:"\u955C\u50CF",tooltip:h.redeploy?"\u66F4\u65B0\u5BB9\u5668\u65F6,\u53EA\u53EF\u4EE5\u9009\u62E9\u8BE5\u955C\u50CF\u4E0B\u7684\u4E0D\u540Ctag.\u4E5F\u53EF\u4EE5\u5F3A\u5236\u66F4\u65B0\u5DF2\u90E8\u7F72tag,\u66F4\u6B21\u90E8\u7F72":"\u65B0\u5EFA\u5BB9\u5668\u65F6,\u53EF\u4EE5\u4F7F\u7528\u672C\u5730\u955C\u50CF,\u4E5F\u53EF\u4EE5\u4E0B\u8F7D\u5168\u65B0\u7684\u955C\u50CF\u6216\u662F\u66F4\u65B0\u672C\u5730\u955C\u50CF\u7684tag",name:"imageName",disabled:!0,placeholder:"\u8BF7\u9009\u62E9\u955C\u50CF\uFF0C\u5982\u679C\u662F\u8FDC\u7A0B\u955C\u50CF\u8BF7\u5148\u4E0B\u8F7D",rules:[{required:!0}],required:!0}),(0,e.jsx)(M.Z,{label:" ",children:(0,e.jsx)(ce.ZP,{type:"primary",onClick:function(){return g(!0)},children:"\u9009\u62E9\u955C\u50CF"},"showBtn")}),(0,e.jsx)(b.Z,{name:["imageName"],children:function(F){var s=F.imageName;if(s)return(0,e.jsx)(M.Z,{label:" ",children:(0,e.jsx)(fe.Z,{finishAutoHide:!0,image:s?[s]:[],trigger:(0,e.jsx)(H.Z,{title:"\u91CD\u65B0\u62C9\u53D6\u5F53\u524D\u955C\u50CF",children:(0,e.jsx)(ce.ZP,{icon:(0,e.jsx)(x.Z,{}),children:"\u66F4\u65B0\u5F53\u524D\u955C\u50CF"})})})})}}),(0,e.jsx)(M.Z,{label:" ",children:(0,e.jsx)(A.Z,{onClick:function(){g(!1)},ref:o,onFinish:function(F){j(F)}},"remote")}),(0,e.jsx)(M.Z,{label:" ",children:(0,e.jsx)(b.Z,{name:["imageName"],children:function(F){var s=F.imageName;if(s)return(0,e.jsx)(we.u,{access:"canSeeEnableCe",showProTips:!0,children:function(k){var ee=k.canSeeEnableCe;return(0,e.jsx)(Ze.Z,{imageId:s,trigger:(0,e.jsx)(ce.ZP,{disabled:ee,children:"\u955C\u50CF\u6587\u4EF6"})})}})}})})]})]})}var L=n(13822),N=n(51042),J=n(63434),q=n(17186),ae=n(25593),ve=n(92067),me=(0,t.forwardRef)(function(h,Q){var U=(0,t.useState)(!1),z=P()(U,2),g=z[0],I=z[1],v=(0,t.useRef)(),_=function(c){var o=(0,t.useState)([]),j=P()(o,2),p=j[0],F=j[1];return(0,t.useEffect)(function(){(0,L.jV)({md5:c.name}).then(function(s){var C;return F((C=s.data.info.Config.Env)!==null&&C!==void 0?C:[]),!0})},[]),(0,e.jsxs)(f.Z,{bordered:!0,extra:c.action,style:{marginBottom:10},children:[(0,e.jsx)(f.Z,{title:"\u5173\u8054\u4FE1\u606F",children:(0,e.jsxs)(w.UW,{children:[(0,e.jsx)(l.Z,{label:"\u5BB9\u5668\u540D\u79F0",name:"name",width:"md",readonly:!0}),(0,e.jsx)(l.Z,{label:"\u8BBF\u95EEHostName",name:"alise",width:"md",readonly:!0,tooltip:"\u901A\u8FC7\u914D\u7F6E\u6B64\u540D\u79F0\uFF0C\u5728\u5BB9\u5668\u5185\u90E8\u8FDB\u884C\u8BF7\u6C42\u8BBF\u95EE",hidden:!0}),(0,e.jsx)(M.Z,{label:"\u8BBF\u95EEHostName",tooltip:"\u901A\u8FC7\u914D\u7F6E\u6B64\u540D\u79F0\uFF0C\u5728\u5BB9\u5668\u5185\u90E8\u8FDB\u884C\u8BF7\u6C42\u8BBF\u95EE",children:(0,e.jsx)(ae.Z.Text,{copyable:!0,children:c.record.alise})}),(0,e.jsx)(J.Z,{label:"\u5173\u8054\u5B58\u50A8",name:"volume"})]})}),(0,e.jsx)(f.Z,{title:"\u73AF\u5883\u53D8\u91CF",children:(0,e.jsx)(E.Z,{direction:"vertical",children:p&&p.map(function(s,C){return(0,e.jsx)(ae.Z.Text,{copyable:{icon:(0,e.jsx)(N.Z,{}),onCopy:function(){var ee=s.split("=");h.onAddEnv(ee[0],ee[1])},tooltips:["add env","success"]},code:!0,ellipsis:{tooltip:s},style:{width:300},children:s},C)})},"linkEnv")})]})},S=function(c){var o,j,p=!1,F=(o=(j=v.current)===null||j===void 0?void 0:j.getList())!==null&&o!==void 0?o:[];if(F.map(function(C){C.name==c.name&&(p=!0)}),!p){var s;(s=v.current)===null||s===void 0||s.add(c)}};return(0,t.useImperativeHandle)(Q,function(){return{setDefaultLink:function(c){c&&c.map(function(o){o.name!=""&&S(o)})}}}),(0,e.jsxs)(f.Z,{title:"\u5173\u8054\u5BB9\u5668",headerBordered:!0,children:[(0,e.jsx)(q.u,{name:"links",actionRef:v,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5173\u8054"},actionGuard:{beforeAddRow:function(c,o){return I(!0),!1}},copyIconProps:!1,min:0,itemRender:function(c,o){return(0,e.jsx)(_,{action:c.action,name:o.record.name,record:o.record})}}),(0,e.jsx)(se.Z,{title:"\u9009\u62E9\u5BB9\u5668",width:Me.R_,footer:!1,open:g,onClose:function(){return I(!1)},children:(0,e.jsx)(ve.Z,{onSelect:function(c){S({name:(0,r.fi)(c.Name,"/"),alise:"".concat(c.Config.Hostname,".").concat(c.Config.Domainname),volume:!1}),I(!1)}})})]})}),ge=me,Fe=n(91058),Ae=n(64317),Se=(0,t.forwardRef)(function(h,Q){var U=(0,t.useRef)(),z=(0,t.useContext)(ne.Z),g=z.createFormRef,I=(0,t.useState)(),v=P()(I,2),_=v[0],S=v[1];(0,t.useImperativeHandle)(Q,function(){return{setDefaultDestPath:function(o){var j,p,F=(j=(p=U.current)===null||p===void 0?void 0:p.getList())!==null&&j!==void 0?j:[];o.length!=0&&o.filter(function(s){return s!=""}).map(function(s){var C=!1;if(F.map(function(ee){if(ee.dest==s){C=!0;return}}),!C){var k;(k=U.current)===null||k===void 0||k.add({dest:s,permission:"write",inImage:!0})}})},addUserVolumeItem:function(o,j){var p,F=(p=U.current)===null||p===void 0?void 0:p.getList(),s=!1;if(F==null||F.map(function(k){if(k.dest==j){s=!0;return}}),!s){var C;(C=U.current)===null||C===void 0||C.add({host:o,dest:j})}}}});var $=function(){var c=B()(m()().mark(function o(j){var p,F;return m()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!_){C.next=2;break}return C.abrupt("return");case 2:if(j){C.next=4;break}return C.abrupt("return");case 4:return C.next=6,(0,de.cD)({md5:j});case 6:p=C.sent,F={title:"/",value:"/",children:[]},p.data.list.map(function(k){var ee=F;k.split("/").map(function(G,Be,Ie){var te;if(G){var K=(te=ee.children)===null||te===void 0?void 0:te.find(function(a){return a.title===G});K||(K={title:G,value:Ie.join("/"),children:[]},ee.children?ee.children.push(K):ee.children=[K]),ee=K}})}),F.children&&S(F.children);case 10:case"end":return C.stop()}},o)}));return function(j){return c.apply(this,arguments)}}();return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(f.Z,{title:"\u81EA\u5B9A\u4E49\u6302\u8F7D\u6216\u662F\u5B58\u50A8\u5377",tooltip:"\u6302\u8F7D\u53EF\u4EE5\u662F\u5BBF\u4E3B\u673A\u7684\u76EE\u5F55\u6216\u662F\u6587\u4EF6\uFF0C\u4E5F\u53EF\u4EE5\u6307\u5B9A\u5B58\u50A8\u5377\u540D\uFF08\u81EA\u52A8\u65B0\u5EFA\uFF09\u3002",headerBordered:!0,direction:"column",children:(0,e.jsx)(q.u,{actionRef:U,name:"volumes",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u6620\u5C04\u76EE\u5F55"},copyIconProps:!1,min:0,children:function(o,j,p){var F=p.getCurrentRowData();return(0,e.jsxs)(w.UW,{children:[(0,e.jsxs)(E.Z.Compact,{children:[(0,e.jsx)(l.Z,{label:"\u5BBF\u4E3B\u673A\u6587\u4EF6\u3001\u76EE\u5F55\u6216\u5B58\u50A8\u5377",name:"host",width:h.showInDrawer?"sm":"md"}),(0,e.jsx)(Ae.Z,{label:" ",valueEnum:{write:"\u8BFB\u5199",readonly:"\u53EA\u8BFB"},initialValue:"write",name:"permission"})]}),(0,e.jsx)(E.Z.Compact,{children:(0,e.jsx)(l.Z,{label:"\u5BB9\u5668\u5185\u8DEF\u5F84",name:"dest",width:h.showInDrawer?"sm":"md",required:!0,rules:[{required:!0}],disabled:h.disabledUserVolumeDest||F.inImage})})]})}})})})}),ze=Se,Xe=n(2831),xe=n(52688),He=n(86125),Je=n(71230),$e=n(15746),Qe=n(44349);function qe(h){var Q,U=(0,t.useState)(),z=P()(U,2),g=z[0],I=z[1];return(0,t.useEffect)(function(){(0,Xe.aF)().then(function(v){return I(v.data.info)})},[]),(0,e.jsxs)(f.Z,{children:[(0,e.jsx)(l.Z,{label:"\u5171\u4EAB\u5185\u5B58\u5927\u5C0F - /dev/shm",name:"shmsize",initialValue:"64M",tooltip:"0 \u4E3A\u4F7F\u7528\u9ED8\u8BA464M\uFF0C\u914D\u7F6E\u65F6\u8BF7\u9644\u52A0\u5355\u4F4D\uFF0C\u4F8B\u5982\uFF1A1G"}),(0,e.jsx)(M.Z,{label:"\u6700\u5927Cpu\u914D\u989D",name:"cpus",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(He.Z,{step:.1,max:g==null?void 0:g.NCPU,marks:{0:"0",.5:"0.5\u6838",1:"1\u6838",1.5:"1.5\u6838",2:"2\u6838",4:"4\u6838",6:"6\u6838",8:"8\u6838"}})}),(0,e.jsx)(M.Z,{label:"\u6700\u5927\u5185\u5B58\u914D\u989D",name:"memory",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(He.Z,{step:256,max:Math.round(((Q=g==null?void 0:g.MemTotal)!==null&&Q!==void 0?Q:0)/1024/1024),marks:{0:"0",1024:"1G",2048:"2G",3072:"3G",4096:"4G"}})}),(0,e.jsx)(Ae.Z,{label:"\u65E5\u5FD7\u7C7B\u578B",name:["log","driver"],tooltip:"\u9ED8\u8BA4\u4F7F\u7528 json-file \u9A71\u52A8\u7531 docker \u7EDF\u4E00\u7BA1\u7406\u3002\u91C7\u7528 journal \u65F6\u65E5\u5FD7\u5C06\u6765\u5BBF\u4E3B\u673A\u7BA1\u7406",initialValue:"json-file",valueEnum:{"json-file":"json-file",journald:"journal (\u5BBF\u4E3B\u9700\u8981\u5B89\u88C5journal\u670D\u52A1)"}}),(0,e.jsx)(b.Z,{name:["log"],children:function(_){var S=_.log;if(S.driver=="json-file")return(0,e.jsxs)(w.UW,{children:[(0,e.jsx)(l.Z,{label:"\u65E5\u5FD7\u5207\u5272\u5927\u5C0F",name:["log","maxSize"],placeholder:"\u4F8B\u5982\uFF1A10k,5M",tooltip:"\u9ED8\u8BA4 Docker \u5E76\u4E0D\u4F1A\u81EA\u52A8\u5207\u5272\u65E5\u5FD7"}),(0,e.jsx)(l.Z,{tooltip:"\u9ED8\u8BA4 Docker \u5E76\u4E0D\u4F1A\u81EA\u52A8\u6E05\u7406\u65E5\u5FD7\u6587\u4EF6",label:"\u4FDD\u7559\u65E5\u5FD7\u6587\u4EF6\u6570",name:["log","maxFile"],placeholder:"\u4F8B\u5982\uFF1A10"})]})}}),(0,e.jsx)(Qe.Z,{name:"device",label:"\u5173\u8054\u8BBE\u5907",hideCopyButton:!0,showAddButton:!0,items:[{label:"\u5BBF\u4E3B\u673A\u8DEF\u5F84",name:"host",width:"md",placeholder:"\u4F8B\u5982\uFF1A/dev/tty0"},{label:"\u5BB9\u5668\u5185\u8DEF\u5F84",name:"dest",width:"md",placeholder:"\u4F8B\u5982\uFF1A/dev/tty0"}]}),(0,e.jsxs)(Je.Z,{children:[(0,e.jsx)($e.Z,{span:4,children:(0,e.jsx)(xe.Z,{label:"\u4F7F\u7528 Gpu",name:["gpus","enable"]})}),(0,e.jsx)($e.Z,{span:20,children:(0,e.jsx)(b.Z,{name:["gpus"],children:function(_){var S=_.gpus;if(S&&S.enable)return(0,e.jsx)(Ae.Z,{mode:"tags",label:"\u8BBE\u5907\u5217\u8868",name:["gpus","device"],placeholder:"\u914D\u7F6E\u4F7F\u7528\u8BBE\u5907id\u6216\u662Fuuid\uFF0C\u4E0D\u586B\u6240\u4E3A\u6240\u6709\u8BBE\u5907"})}})})]}),(0,e.jsx)(b.Z,{name:["gpus"],children:function(_){var S=_.gpus;if(S&&S.enable)return(0,e.jsx)(Ae.Z,{label:"\u8BA1\u7B97\u80FD\u529B",name:["gpus","capabilities"],mode:"multiple",fieldProps:{allowClear:!0},options:[{label:"compute - \u8BA1\u7B97\u80FD\u529B",value:"compute"},{label:"compat32 - \u517C\u5BB932\u4F4D",value:"compat32"},{label:"graphics - \u56FE\u5F62\u5904\u7406\u80FD\u529B",value:"graphics"},{label:"utility - \u76D1\u63A7\u548C\u7BA1\u7406\u80FD\u529B",value:"utility"},{label:"video - \u89C6\u9891\u5904\u7406\u80FD\u529B",value:"video"},{label:"display - \u663E\u793A\u56FE\u5F62\u754C\u9762\u80FD\u529B",value:"display"}]})}})]})}function en(){return(0,e.jsx)(f.Z,{title:"\u5BB9\u5668\u6807\u7B7E",children:(0,e.jsx)(q.u,{name:"label",label:"",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BB9\u5668\u6807\u7B7E"},copyIconProps:!1,min:0,children:(0,e.jsxs)(w.UW,{children:[(0,e.jsx)(l.Z,{width:"md",name:"name",label:"\u540D\u79F0",placeholder:""}),(0,e.jsx)(l.Z,{width:"md",name:"value",label:"\u503C",placeholder:""})]})})})}var nn=n(44771),tn=n(86615),jn="default",Bn="user";function un(h){return(0,e.jsx)(M.Z,{label:h.label,tooltip:h.tooltip,children:(0,e.jsxs)(E.Z.Compact,{block:!0,children:[(0,e.jsx)(tn.Z.Group,{radioType:"button",name:[h.name,"useDefault"],options:[{label:"\u4F7F\u7528\u9ED8\u8BA4",value:!0},{label:"\u81EA\u5B9A\u4E49",value:!1}]}),(0,e.jsx)(b.Z,{name:[h.name],children:function(U){return U[h.name]&&U[h.name].useDefault?(0,e.jsx)(l.Z,{name:[h.name,"default"],disabled:!0,placeholder:"\u672A\u8BBE\u7F6E"}):(0,e.jsx)(l.Z,{name:[h.name,"value"]})}})]})})}var Ue=un,Le=n(24963);function an(){var h=(0,t.useContext)(Le.Z),Q=h.message,U=h.lang;return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(f.Z,{children:[(0,e.jsx)(nn.Z,{label:"\u91CD\u542F\u7B56\u7565"}),(0,e.jsxs)(w.UW,{children:[(0,e.jsx)(xe.Z,{fieldProps:{onChange:function(g){g&&Q.warning(U("app.create.privilegedNotice"))}},name:"privileged",tooltip:"--privileged",label:"\u8D4B\u4E88\u5BB9\u5668Root\u6743\u9650",initialValue:!1}),(0,e.jsx)(xe.Z,{name:"autoRemove",tooltip:"--rm",label:"\u505C\u6B62\u540E\u81EA\u52A8\u5220\u9664",initialValue:!1}),(0,e.jsx)(xe.Z,{fieldProps:{onChange:function(g){g&&Q.warning(U("app.create.hostPidNotice"))}},tooltip:"--pid host",name:"hostPid",label:"\u5173\u8054\u5BBF\u4E3B\u673APid",initialValue:!1})]}),(0,e.jsx)(Ue,{label:"\u5DE5\u4F5C\u76EE\u5F55",tooltip:"\u9ED8\u8BA4\u4F7F\u7528\u955C\u50CF\u4E2D\u6307\u5B9A\u7684\u5DE5\u4F5C\u76EE\u5F55",name:"workDir"}),(0,e.jsx)(Ue,{label:"User",tooltip:"\u5728\u5BB9\u5668\u4E2D\u8FD0\u884C\u547D\u4EE4\u7684\u7528\u6237",name:"user"}),(0,e.jsx)(Ue,{label:"Command",tooltip:"\u542F\u52A8\u5BB9\u5668\u65F6\u8FD0\u884C\u7684\u547D\u4EE4\uFF0C\u4EE5\u7A7A\u683C\u5206\u9694",name:"command"}),(0,e.jsx)(Ue,{label:"Entrypoint",tooltip:"\u65E0\u6CD5\u8986\u76D6\u955C\u50CF\u4E2D\u5DF2\u7ECF\u6307\u5B9A\u7684 Entrypoint \u547D\u4EE4",name:"entrypoint"})]})})}var rn=n(91845),Ge=n(62597),Ne=n(82346),on=n(61768),ln=n(46442),sn=(0,t.forwardRef)(function(h,Q){var U=(0,t.useRef)(),z=(0,t.useRef)();(0,t.useImperativeHandle)(Q,function(){return{}});var g=function(v){var _,S,$=!1,c=(_=(S=U.current)===null||S===void 0?void 0:S.getList())!==null&&_!==void 0?_:[];if(c.map(function(j){j.name==v.name&&($=!0)}),!$){var o;(o=U.current)===null||o===void 0||o.add(v)}};return(0,e.jsxs)(f.Z,{title:"\u5173\u8054\u7F51\u7EDC",headerBordered:!0,extra:(0,e.jsx)(E.Z,{children:h.showUseBridgeNetwork&&(0,e.jsx)(xe.Z,{name:"useBridgeNetwork",fieldProps:{checkedChildren:"\u5173\u8054 Bridge \u7F51\u7EDC",unCheckedChildren:"\u5173\u8054 Bridge \u7F51\u7EDC"}},"useBridgeNetwork")}),children:[(0,e.jsx)(q.u,{name:"network",actionRef:U,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u7F51\u7EDC"},actionGuard:{beforeAddRow:function(v,_){var S;return(S=z.current)===null||S===void 0||S.show(),!1}},copyIconProps:!1,min:0,itemRender:function(v,_){if(_.record.name!="bridge")return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(w.UW,{children:[(0,e.jsx)(l.Z,{label:"\u7F51\u7EDC\u540D\u79F0",name:"name",width:"md",disabled:!0,fieldProps:{value:_.record.name}}),(0,e.jsx)(on.Z,{label:"\u522B\u540D",name:"alise",tooltip:"\u540C\u4E00\u7F51\u7EDC\u4E2D\u7684\u5BB9\u5668\u53EF\u4EE5\u4F7F\u7528 hostname, domainname, \u81EA\u5B9A\u4E49\u522B\u540D\u8FDB\u884C\u8BF7\u6C42\u5173\u8054",children:(0,e.jsx)(l.Z,{width:"md",placeholder:"\u6307\u5B9A\u5F53\u524D\u5BB9\u5668\u5728\u8BE5\u7F51\u7EDC\u4E2D\u7684\u522B\u540D"})}),(0,e.jsx)(l.Z,{label:"\u6307\u5B9AIpV4",name:"ipV4",width:"md",disabled:_.record.name=="bridge",fieldProps:{addonAfter:_.record.subnet}}),_.record.subnetV6&&(0,e.jsx)(l.Z,{label:"\u6307\u5B9AIpV6",name:"ipV6",width:"md",disabled:_.record.name=="bridge",fieldProps:{addonAfter:_.record.subnetV6}}),(0,e.jsx)(M.Z,{label:" ",children:v.action})]})})}}),(0,e.jsx)(ln.Z,{ref:z,onSelect:function(v){g({name:v.Name,alise:[""],subnet:v.IPAM.Config[0].Subnet,subnetV6:v.IPAM.Config[1]&&v.IPAM.Config[1].Subnet})}})]})}),dn=sn,cn=(0,t.forwardRef)(function(h,Q){var U=(0,t.useState)(""),z=P()(U,2),g=z[0],I=z[1],v=(0,t.useRef)(),_=(0,t.useContext)(ne.Z),S=_.createFormRef;return(0,t.useImperativeHandle)(Q,function(){return{setExposePort:function(c){if(c){var o,j,p=(o=(j=v.current)===null||j===void 0?void 0:j.getList())!==null&&o!==void 0?o:[];Object.keys(c).map(function(F){var s=!1;if(p.map(function(k){k.dest==F&&(s=!0)}),!s){var C;(C=v.current)===null||C===void 0||C.add({host:"",dest:F})}})}},setHostname:function(c){I(c)},addPortItem:function(c,o){var j,p=(j=v.current)===null||j===void 0?void 0:j.getList(),F=!1;if(p==null||p.map(function(C){if(C.host==c){F=!0;return}}),!F){var s;(s=v.current)===null||s===void 0||s.add({host:String(c),dest:String(o)})}}}}),(0,e.jsx)(f.Z,{title:"\u7ED1\u5B9A\u7AEF\u53E3",tooltip:"\u8BBF\u95EE\u7AEF\u53E3\u7559\u7A7A\u65F6\u968F\u673A\u751F\u6210\u7AEF\u53E3\uFF0C\u5168\u90E8\u5220\u9664\u5219\u8868\u793A\u4E0D\u66B4\u9732\u7AEF\u53E3",headerBordered:!0,extra:(0,e.jsxs)(E.Z,{children:[h.showBindHost&&(0,e.jsx)(xe.Z,{name:"useHostNetwork",fieldProps:{checkedChildren:"\u7ED1\u5B9AHost\u7F51\u7EDC",unCheckedChildren:"\u7ED1\u5B9AHost\u7F51\u7EDC",onChange:function(c){if(c){var o;(o=S.current)===null||o===void 0||o.setFieldsValue({bindIpV6:!1,publishAllPorts:!1})}}}}),h.showBindIpV6&&(0,e.jsx)(b.Z,{name:["siteName","useHostNetwork"],children:function(c){var o=c.useHostNetwork;return(0,e.jsx)(xe.Z,{name:"publishAllPorts",fieldProps:{checkedChildren:"\u7ED1\u5B9A\u5168\u90E8\u7AEF\u53E3",unCheckedChildren:"\u7ED1\u5B9A\u5168\u90E8\u7AEF\u53E3"},disabled:o},"publishAllPorts")}}),h.showBindIpV6&&(0,e.jsx)(b.Z,{name:["siteName","useHostNetwork"],children:function(c){var o=c.useHostNetwork;return(0,e.jsx)(xe.Z,{name:"bindIpV6",fieldProps:{checkedChildren:"IpV6",unCheckedChildren:"IpV6"},disabled:o},"bindIpV6")}})]}),children:(0,e.jsx)(b.Z,{name:["useHostNetwork","bindIpV6","publishAllPorts"],children:function(c){var o=c.useHostNetwork,j=c.bindIpV6,p=c.publishAllPorts;if(!o&&!p)return(0,e.jsx)(q.u,{name:"ports",actionRef:v,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BF9\u5916\u90E8\u8BBF\u95EE"},min:0,copyIconProps:!1,children:(0,e.jsxs)(w.UW,{children:[(0,e.jsx)(l.Z,{width:h.showInDrawer?"sm":"md",name:"host",label:"\u5916\u90E8\u8BBF\u95EE\u7AEF\u53E3",tooltip:"\u5BF9\u5916\u8BBF\u95EE\u53EF\u4EE5\u901A\u8FC7\u6DFB\u52A0\u8BBF\u95EE\u7AEF\u53E3\u6216\u662F\u521B\u5EFA\u5B8C\u6210\u540E\u5BF9\u5BB9\u5668\u7ED1\u5B9A\u57DF\u540D",placeholder:"\u7559\u7A7A\u5C06\u4F7F\u7528\u968F\u673A\u7AEF\u53E3\uFF0C\u7ED1\u5B9AIpV6\u5FC5\u586B",required:j,rules:[{required:j}]}),(0,e.jsx)(l.Z,{label:"\u5BB9\u5668\u5185\u7AEF\u53E3",width:h.showInDrawer?"sm":"md",name:"dest",placeholder:"\u6784\u5EFA\u65F6 Expose \u6307\u5B9A\u7684\u7AEF\u53E3",required:!0,rules:[{required:!0}]})]})})}})})}),mn=cn,Re=n(52255);function fn(){var h=(0,t.useRef)(),Q=function(g){var I,v,_=!1,S=(I=(v=h.current)===null||v===void 0?void 0:v.getList())!==null&&I!==void 0?I:[];if(S.map(function(c){c.name==g.name&&(_=!0)}),!_){var $;($=h.current)===null||$===void 0||$.add(g)}},U=function(g){var I,v,_=!1,S=(I=(v=h.current)===null||v===void 0?void 0:v.getList())!==null&&I!==void 0?I:[];S.map(function($,c){if($.name==g){var o;(o=h.current)===null||o===void 0||o.remove(c)}})};return(0,e.jsx)(f.Z,{title:"\u5173\u8054\u5BBF\u4E3B\u673A\u7F51\u7EDC\u5185\u4E3B\u673A",tooltip:"\u5BB9\u5668\u5185\u5982\u679C\u9700\u8981\u8BF7\u6C42\u5BBF\u4E3B\u673A\u6240\u5728\u7684\u7F51\u7EDC\u4E2D\u7684\u4E3B\u673A\uFF0C\u53EF\u4EE5\u901A\u8FC7\u6B64\u914D\u7F6E\u5C06Ip\u6CE8\u5165\u5230\u5BB9\u5668\u4E2D",extra:(0,e.jsx)(E.Z,{children:(0,e.jsx)(xe.Z,{name:"enableBindHost",fieldProps:{checkedChildren:"\u7ED1\u5B9A\u5BBF\u4E3B\u673AIp",unCheckedChildren:"\u7ED1\u5B9A\u5BBF\u4E3B\u673AIp",onChange:function(g){g?Q({name:"host.dpanel.local",value:"host-gateway"}):U("host.dpanel.local")}}})}),children:(0,e.jsx)(q.u,{name:"extraHosts",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BBF\u4E3B\u673A\u7F51\u7EDC\u5173\u8054"},actionRef:h,copyIconProps:!1,min:0,children:(0,e.jsxs)(w.UW,{children:[(0,e.jsx)(l.Z,{width:"md",name:"name",label:"Hostname",placeholder:""}),(0,e.jsx)(l.Z,{width:"md",name:"value",label:"ip",placeholder:""})]})})})}var We=n(90672),vn=(0,t.forwardRef)(function(h,Q){return(0,t.useImperativeHandle)(Q,function(){return{}}),(0,e.jsxs)(f.Z,{title:"\u7F51\u7EDC\u914D\u7F6E",children:[(0,e.jsxs)(w.UW,{children:[(0,e.jsx)(l.Z,{label:"\u914D\u7F6E ipV4 \u5730\u5740",name:["ipV4","address"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u5730\u5740\uFF0C\u4F8B\u5982 192.168.1.5",placeholder:"192.168.1.5"}),(0,e.jsx)(b.Z,{name:["ipV4"],children:function(z){var g=z.ipV4;return(0,e.jsx)(l.Z,{label:"\u914D\u7F6E ipV4 \u5B50\u7F51",name:["ipV4","subnet"],width:"md",required:g&&g.address,tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u6240\u5728\u7684\u5B50\u7F51\uFF0C\u4F8B\u5982 192.168.1.0/24",placeholder:"192.168.1.0/24",rules:[{required:g&&g.address}]})}}),(0,e.jsx)(l.Z,{label:"\u914D\u7F6E ipV4 \u7F51\u5173",name:["ipV4","gateway"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u7684\u7F51\u5173\uFF0C\u4F8B\u5982 192.168.1.1",placeholder:"192.168.1.1"}),(0,e.jsx)(xe.Z,{label:"\u81EA\u5B9A\u4E49ipV6",name:"enableIpV6Address"})]}),(0,e.jsx)(b.Z,{name:["enableIpV6Address"],children:function(z){var g=z.enableIpV6Address;if(g)return(0,e.jsxs)(w.UW,{children:[(0,e.jsx)(l.Z,{label:"\u914D\u7F6E ipV6 \u5730\u5740",name:["ipV6","address"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipV6\u5730\u5740\uFF0C\u4F8B\u5982 2001:db8::5",placeholder:"2001:db8::5"}),(0,e.jsx)(b.Z,{name:["ipV6"],children:function(v){var _=v.ipV6;return(0,e.jsx)(l.Z,{label:"\u914D\u7F6E ipV6 \u5B50\u7F51",name:["ipV6","subnet"],width:"md",required:_&&_.address,tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u6240\u5728\u7684\u5B50\u7F51\uFF0C\u4F8B\u5982 2001:db8::/48",placeholder:"2001:db8::/48",rules:[{required:_&&_.address}]})}}),(0,e.jsx)(l.Z,{label:"\u914D\u7F6E ipV6 \u7F51\u5173",name:["ipV6","gateway"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipV6\u7684\u7F51\u5173\uFF0C\u4F8B\u5982 2001:db8::1",placeholder:"2001:db8::1"})]})}}),(0,e.jsx)(We.Z,{label:"DNS\u914D\u7F6E",name:"dns",placeholder:"\u8BF7\u6307\u5B9Adns\u5730\u5740\uFF0C\u4F8B\u5982\uFF1A8.8.8.8\uFF0C\u4E00\u884C\u6DFB\u4E00\u6761dns\u5730\u5740"})]})}),hn=vn,Ve=n(31199),pn=n(86250);function En(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(f.Z,{title:"\u9644\u52A0\u6267\u884C\u811A\u672C",headerBordered:!0,subTitle:"",children:(0,e.jsx)(We.Z,{label:"\u5BB9\u5668\u521B\u5EFA\u540E\u6267\u884C\u811A\u672C",name:["hook","containerCreate"],placeholder:"\u5BB9\u5668\u5728\u521B\u5EFA\u540E\u6267\u884C\u7684\u811A\u672C\uFF0C\u6B64\u811A\u672C\u5E76\u4E0D\u4F1A\u5F71\u54CD entrypoint \u53CA command\u3002\u4F8B\u5982\uFF1Als -al && touch abc.txt && apt update"})}),(0,e.jsxs)(f.Z,{title:"\u5065\u5EB7\u68C0\u67E5",headerBordered:!0,children:[(0,e.jsxs)(pn.Z,{gap:20,justify:"start",children:[(0,e.jsx)(Ve.Z,{label:"\u91CD\u590D\u95F4\u9694\u65F6\u95F4\uFF08\u79D2\uFF09",name:["healthcheck","interval"],initialValue:30}),(0,e.jsx)(Ve.Z,{label:"\u8D85\u65F6\u5931\u8D25\u65F6\u95F4\uFF08\u79D2\uFF09",name:["healthcheck","timeout"],initialValue:10}),(0,e.jsx)(Ve.Z,{label:"\u5931\u8D25\u91CD\u590D\u6B21\u6570",name:["healthcheck","retries"],initialValue:3}),(0,e.jsx)(Ae.Z,{width:"sm",label:"\u811A\u672C\u6267\u884C\u73AF\u5883",initialValue:"CMD",name:["healthcheck","shellType"],valueEnum:{CMD:"\u5728 Docker \u73AF\u5883\u6267\u884C","CMD-SHELL":"\u5728\u5BB9\u5668\u5185\u6267\u884C"}})]}),(0,e.jsx)(We.Z,{label:"\u6267\u884C\u811A\u672C",name:["healthcheck","cmd"],placeholder:"\u914D\u7F6E\u5BB9\u5668\u5065\u5EB7\u68C0\u67E5\u811A\u672C\uFF0C\u4F8B\u5982\uFF1Acurl -f http://localhost:8080/ || exit 1"})]})]})}var _n=n(74763),Ye=n(2487),Cn=[{name:"ALL"},{name:"AUDIT_CONTROL"},{name:"AUDIT_WRITE",default:!0},{name:"BLOCK_SUSPEND"},{name:"CHOWN",default:!0},{name:"DAC_OVERRIDE",default:!0},{name:"DAC_READ_SEARCH"},{name:"FOWNER",default:!0},{name:"FSETID",default:!0},{name:"IPC_LOCK"},{name:"IPC_OWNER"},{name:"KILL",default:!0},{name:"LEASE"},{name:"LINUX_IMMUTABLE"},{name:"MAC_ADMIN"},{name:"MAC_OVERRIDE"},{name:"MKNOD",default:!0},{name:"NET_ADMIN"},{name:"NET_BIND_SERVICE",default:!0},{name:"NET_BROADCAST"},{name:"NET_RAW",default:!0},{name:"SETFCAP",default:!0},{name:"SETGID",default:!0},{name:"SETPCAP",default:!0},{name:"SETUID",default:!0},{name:"SYSLOG"},{name:"SYS_ADMIN"},{name:"SYS_BOOT"},{name:"SYS_CHROOT",default:!0},{name:"SYS_MODULE"},{name:"SYS_NICE"},{name:"SYS_PACCT"},{name:"SYS_PTRACE"},{name:"SYS_RAWIO"},{name:"SYS_RESOURCE"},{name:"SYS_TIME"},{name:"SYS_TTY_CONFIG"}],gn=(0,t.forwardRef)(function(h,Q){var U=(0,t.useContext)(Le.Z),z=U.lang,g=(0,t.useState)(null),I=P()(g,2),v=I[0],_=I[1],S=(0,t.useContext)(ne.Z),$=S.createFormRef;return(0,t.useImperativeHandle)(Q,function(){return{}}),(0,e.jsx)(f.Z,{children:(0,e.jsx)(Ye.Z,{grid:{gutter:10,xs:3,sm:3,md:4,lg:4,xl:4,xxl:6},dataSource:Cn,renderItem:function(o,j){var p;return(0,e.jsx)(Ye.Z.Item,{children:(0,e.jsx)(xe.Z,{fieldProps:{onChange:function(s){o.name=="ALL"&&_(s)}},disabled:o.name!="ALL"&&((0,_n.k)(v)?(p=$.current)===null||p===void 0?void 0:p.getFieldValue(["capAdd","ALL"]):v),initialValue:o.default,name:["capAdd",o.name],tooltip:z("app.create.cap."+o.name.toLocaleLowerCase()),label:o.name})},j)}})})}),Fn=gn;function xn(){var h,Q=(0,t.useContext)(Le.Z),U=Q.loading,z=Q.notice,g=(0,t.useContext)(ne.Z),I=g.createFormRef,v=g.volumeListRef,_=g.domainRef,S=g.createEnvRef,$=g.createLinkRef,c=(0,Ne.useSearchParams)(),o=P()(c,2),j=o[0],p=o[1],F=(0,Ne.useNavigate)(),s=(0,t.useState)("basic"),C=P()(s,2),k=C[0],ee=C[1],G=j.get("id"),Be=(h=j.get("imageId"))!==null&&h!==void 0?h:"",Ie=(0,Ne.useLocation)();return(0,t.useEffect)(function(){if(G)U.show(),(0,Ge.iE)({id:G}).then(function(){var a=B()(m()().mark(function re(u){var _e,De,W,Ce,Oe,he,Te,ke;return m()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(W={info:{}},!u.data.env.imageName){je.next=11;break}return je.prev=2,je.next=5,(0,de.YU)({md5:u.data.env.imageName});case 5:Ce=je.sent,W=Ce.data,je.next=11;break;case 9:je.prev=9,je.t0=je.catch(2);case 11:u.data.env.ports&&u.data.env.ports.map(function(le){return le.host=="0"&&(le.host=""),le}),Oe=u.data.env.bindIpV6,u.data.containerInfo&&u.data.containerInfo.Info.NetworkSettings&&u.data.containerInfo.Info.NetworkSettings.Networks&&Object.keys(u.data.containerInfo.Info.NetworkSettings.Networks).map(function(le){if(u.data.env.network&&(u.data.env.network=u.data.env.network.map(function(Ke){return le==Ke.name&&u.data.containerInfo&&(Ke.subnet=u.data.containerInfo.Info.NetworkSettings.Networks[le].IPAddress+"/"+u.data.containerInfo.Info.NetworkSettings.Networks[le].IPPrefixLen),Ke})),u.data.containerInfo&&u.data.containerInfo.Info.NetworkSettings.Networks[le].IPv6Gateway!=""&&le==u.data.siteName&&(Oe=!0),le=="bridge"){var ye;(ye=I.current)===null||ye===void 0||ye.setFieldValue("useBridgeNetwork",!0)}}),u.data.env.extraHosts&&u.data.env.extraHosts.map(function(le){if(le.value=="host-gateway"){var ye;(ye=I.current)===null||ye===void 0||ye.setFieldValue("enableBindHost",!0)}}),he=u.data.env.ports,u.data.env.ports&&(he=u.data.env.ports.map(function(le){return le.host=le.host!=""?(le.hostIp?le.hostIp+":":"")+le.host:"",le})),(_e=I.current)===null||_e===void 0||_e.setFieldsValue({siteTitle:u.data.siteTitle,siteName:u.data.siteName,imageName:u.data.env.imageName,privileged:u.data.env.privileged,bindIpV6:u.data.env.useHostNetwork?!1:Oe,useHostNetwork:u.data.env.useHostNetwork,publishAllPorts:u.data.env.useHostNetwork?!1:u.data.env.publishAllPorts,workDir:{value:u.data.env.workDir,useDefault:!u.data.env.workDir,default:W&&W.info.Config&&W.info.Config.WorkingDir},user:{value:u.data.env.user,useDefault:!u.data.env.user,default:W&&W.info.Config&&W.info.Config.User},command:{value:u.data.env.command,useDefault:!u.data.env.command,default:W&&W.info.Config&&W.info.Config.Cmd&&W.info.Config.Cmd.join(" ")},entrypoint:{value:u.data.env.entrypoint,useDefault:!u.data.env.entrypoint,default:W&&W.info.Config&&W.info.Config.Entrypoint&&W.info.Config.Entrypoint.join(" ")},shmsize:(De=u.data.env.shmsize)!==null&&De!==void 0?De:"64M",cpus:u.data.env.cpus,memory:u.data.env.memory,environment:u.data.env.environment,label:u.data.env.label,volumes:u.data.env.volumes,ports:he,links:u.data.env.links,network:u.data.env.network,restart:u.data.env.restart,extraHosts:u.data.env.extraHosts,autoRemove:u.data.env.autoRemove,log:u.data.env.log,dns:u.data.env.dns&&u.data.env.dns.join(`
`),ipV4:u.data.env.ipV4,ipV6:u.data.env.ipV6,gpus:u.data.env.gpus,device:u.data.env.device,hook:u.data.env.hook,hostPid:u.data.env.hostPid,capAdd:u.data.env.capAdd&&Object.fromEntries(u.data.env.capAdd.map(function(le){return[le,!0]}))}),u.data.env.ipV6&&((Te=I.current)===null||Te===void 0||Te.setFieldValue("enableIpV6Address",!0)),u.data.env.healthcheck&&u.data.env.healthcheck.cmd&&u.data.env.healthcheck.cmd!=""&&((ke=I.current)===null||ke===void 0||ke.setFieldsValue({healthcheck:u.data.env.healthcheck}));case 20:case"end":return je.stop()}},re,null,[[2,9]])}));return function(re){return a.apply(this,arguments)}}()).finally(function(){U.destroy()});else{var te,K;(te=I.current)===null||te===void 0||te.resetFields(),(K=I.current)===null||K===void 0||K.setFieldValue("useBridgeNetwork",!0)}},[j]),(0,e.jsx)(y._z,{children:(0,e.jsx)(f.Z,{direction:"column",gutter:[0,10],children:(0,e.jsxs)(O.A,{submitter:{render:function(K,a){return(0,e.jsx)(V.S,{children:a})}},formRef:I,onFinish:function(){var te=B()(m()().mark(function K(a){var re,u,_e,De,W,Ce;return m()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(Ce={siteTitle:a.siteTitle,siteName:a.siteName,hostname:a.hostname,imageName:a.imageName,environment:a.environment,links:a.links,ports:a.ports,volumes:a.volumes,network:(re=a.network)!==null&&re!==void 0?re:[],privileged:(u=a.privileged)!==null&&u!==void 0?u:!1,autoRemove:(_e=a.autoRemove)!==null&&_e!==void 0?_e:!1,restart:a.restart,cpus:a.cpus,memory:a.memory,shmsize:(De=a.shmsize)!==null&&De!==void 0?De:0,workDir:a.workDir&&!a.workDir.useDefault?a.workDir.value:"",user:a.user&&!a.user.useDefault?a.user.value:"",command:a.command&&!a.command.useDefault?a.command.value:"",entrypoint:a.entrypoint&&!a.entrypoint.useDefault?a.entrypoint.value:"",useHostNetwork:a.useHostNetwork,bindIpV6:a.bindIpV6,log:a.log,dns:a.dns&&a.dns!=""?a.dns.split(`
`):[],label:a.label,publishAllPorts:a.publishAllPorts,extraHosts:a.extraHosts,ipV4:a.ipV4,ipV6:a.ipV6,device:a.device,gpus:a.gpus,hook:a.hook,hostPid:a.hostPid,capAdd:a.capAdd?Object.keys(a.capAdd).map(function(Te){return Te}):[],useBridgeNetwork:(W=a.useBridgeNetwork)!==null&&W!==void 0?W:!0},!(!a.useBridgeNetwork&&!a.useHostNetwork&&(!a.network||a.network.length==0))){he.next=4;break}return z.error("\u4E0D\u52A0\u5165 Bridge \u7F51\u7EDC\u65F6\uFF0C\u5FC5\u987B\u6307\u5B9A\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7F51\u7EDC"),he.abrupt("return",!1);case 4:return a.useBridgeNetwork&&!Ce.network.find(function(Te){return Te.name=="bridge"})&&Ce.network.push({name:"bridge",alise:[],ipV4:""}),a.healthcheck&&a.healthcheck.cmd&&a.healthcheck.cmd!=""&&(Ce.healthcheck=a.healthcheck),G&&(Ce.containerId=G),he.next=9,(0,Ge.$G)(Ce);case 9:return F("/app/list",{state:{page:localStorage.getItem("dpanel-page-app-list")}}),he.abrupt("return",!0);case 11:case"end":return he.stop()}},K)}));return function(K){return te.apply(this,arguments)}}(),children:[(0,e.jsxs)(f.Z,{title:"\u57FA\u7840\u4FE1\u606F",headerBordered:!0,children:[(0,e.jsx)(l.Z,{name:"siteTitle",label:"\u5BB9\u5668\u63CF\u8FF0",fieldProps:{onChange:function(K){var a="";if(K.target.value&&!G){var re,u=(0,rn.N9)(K.target.value.trim(),{toneType:"none",type:"array"});a=u.join(""),(re=I.current)===null||re===void 0||re.setFieldValue("siteName",a)}}},placeholder:"\u8BF7\u8F93\u5165\u5BB9\u5668\u63CF\u8FF0\u540D\u79F0"}),(0,e.jsxs)(w.UW,{children:[(0,e.jsx)(l.Z,{width:"lg",name:"siteName",label:"\u5BB9\u5668\u6807\u8BC6",tooltip:"\u5BB9\u5668\u552F\u4E00\u6807\u8BC6\uFF0C\u7528\u4E8E\u6807\u8BC6\u5BB9\u5668\u548C\u5185\u90E8\u8BBF\u95EE",required:!0,rules:[{required:!0}],placeholder:"\u8BF7\u8F93\u5165\u5BB9\u5668\u6807\u8BC6\u540D\u79F0",disabled:!!G}),(0,e.jsx)(l.Z,{label:"Hostname",name:"hostname",width:"md"})]}),(0,e.jsx)(Ee,{redeploy:!!G,fromImageId:Be})]}),(0,e.jsx)(Z.Z,{offsetTop:50,children:(0,e.jsx)(f.Z,{style:{marginBottom:-20},children:(0,e.jsx)(ue.Z,{activeKey:k,onChange:function(K){ee(K),window.scrollTo(0,450)},items:[{label:"\u57FA\u672C\u914D\u7F6E",key:"basic"},{label:"\u5173\u8054\u914D\u7F6E",key:"link"},{label:"\u8FD0\u884C\u914D\u7F6E",key:"run-command"},{label:"\u8D44\u6E90\u914D\u7F6E",key:"resource"},{label:"Hook",key:"hook"},{label:"\u80FD\u529B\u914D\u7F6E",key:"cap"},{label:"\u5176\u5B83",key:"other"}]})})}),(0,e.jsxs)(Re.Z,{show:k=="basic",children:[(0,e.jsx)(mn,{ref:_,showBindHost:!0,showBindIpV6:!0}),(0,e.jsx)(Fe.Z,{showAddButton:!0,showImportButton:!0,showCodeMode:!0,label:"\u73AF\u5883\u53D8\u91CF",ref:S}),(0,e.jsx)(ze,{showDefault:!0,ref:v}),(0,e.jsx)(b.Z,{name:["siteName","useHostNetwork"],children:function(K){var a=K.siteName,re=K.useHostNetwork;if(!re)return(0,e.jsx)(hn,{})}})]}),(0,e.jsx)(Re.Z,{show:k=="link",children:(0,e.jsx)(b.Z,{name:["siteName","useHostNetwork"],children:function(K){var a=K.siteName,re=K.useHostNetwork;return re?(0,e.jsx)(d.Z,{showIcon:!0,description:"\u7ED1\u5B9A\u5230\u5BBF\u4E3B\u673A\u7F51\u7EDC\u65F6\uFF0C\u65E0\u6CD5\u901A\u8FC7 Docker \u5173\u8054\u5176\u5B83\u5BB9\u5668\u3002\u8BF7\u4F7F\u7528\u5BBF\u4E3B\u673A\u5185\u7F51IP\u6216\u662F127.0.0.1\u4E92\u8054\u5BB9\u5668\u66B4\u9732\u7AEF\u53E3\u3002"}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ge,{onAddEnv:function(_e,De){var W;(W=S.current)===null||W===void 0||W.addEnvItem(_e,De)},ref:$}),(0,e.jsx)(dn,{showUseBridgeNetwork:!0,siteName:a}),(0,e.jsx)(fn,{})]})}})}),(0,e.jsx)(Re.Z,{show:k=="run-command",children:(0,e.jsx)(an,{})}),(0,e.jsx)(Re.Z,{show:k=="resource",children:(0,e.jsx)(qe,{})}),(0,e.jsx)(Re.Z,{show:k=="hook",children:(0,e.jsx)(En,{})}),(0,e.jsx)(Re.Z,{show:k=="other",children:(0,e.jsx)(en,{})}),(0,e.jsx)(Re.Z,{show:k=="cap",children:(0,e.jsx)(Fn,{})})]},"form")})})}},2831:function(pe,Y,n){n.d(Y,{Ll:function(){return V},aF:function(){return P},d6:function(){return w},u5:function(){return f}});var R=n(15009),m=n.n(R),X=n(99289),B=n.n(X),T=n(82346);function P(){return y.apply(this,arguments)}function y(){return y=B()(m()().mark(function Z(){return m()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,T.request)("/api/common/home/info",{method:"POST"});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},Z)})),y.apply(this,arguments)}function f(){return O.apply(this,arguments)}function O(){return O=B()(m()().mark(function Z(){return m()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,T.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},Z)})),O.apply(this,arguments)}function V(){return l.apply(this,arguments)}function l(){return l=B()(m()().mark(function Z(){return m()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,T.request)("/api/common/home/usage",{method:"POST"});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},Z)})),l.apply(this,arguments)}function w(){return b.apply(this,arguments)}function b(){return b=B()(m()().mark(function Z(){return m()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,T.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},Z)})),b.apply(this,arguments)}},79245:function(pe,Y,n){n.d(Y,{m:function(){return X},y:function(){return B}});var R=n(64599),m=n.n(R);function X(T){var P=[];if(!T||T=="")return P;var y=T.matchAll(/\$\{(\w+)[:-?=]*(.*?)\}/g),f=m()(y),O;try{for(f.s();!(O=f.n()).done;){var V=O.value;P.push({name:V[1],value:V[2]?V[2].indexOf("-")==0?V[2].substring(1):V[2]:""})}}catch(l){f.e(l)}finally{f.f()}return P}function B(T,P){return!T||!P?!1:(T&P)!==0}},86250:function(pe,Y,n){n.d(Y,{Z:function(){return de}});var R=n(67294),m=n(93967),X=n.n(m),B=n(98423),T=n(98065),P=n(53124),y=n(83559),f=n(83262);const O=["wrap","nowrap","wrap-reverse"],V=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],l=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],w=(i,r)=>{const D=r.wrap===!0?"wrap":r.wrap;return{[`${i}-wrap-${D}`]:D&&O.includes(D)}},b=(i,r)=>{const D={};return l.forEach(x=>{D[`${i}-align-${x}`]=r.align===x}),D[`${i}-align-stretch`]=!r.align&&!!r.vertical,D},Z=(i,r)=>{const D={};return V.forEach(x=>{D[`${i}-justify-${x}`]=r.justify===x}),D};function ue(i,r){return X()(Object.assign(Object.assign(Object.assign({},w(i,r)),b(i,r)),Z(i,r)))}var d=ue;const t=i=>{const{componentCls:r}=i;return{[r]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},ne=i=>{const{componentCls:r}=i;return{[r]:{"&-gap-small":{gap:i.flexGapSM},"&-gap-middle":{gap:i.flexGap},"&-gap-large":{gap:i.flexGapLG}}}},oe=i=>{const{componentCls:r}=i,D={};return O.forEach(x=>{D[`${r}-wrap-${x}`]={flexWrap:x}}),D},M=i=>{const{componentCls:r}=i,D={};return l.forEach(x=>{D[`${r}-align-${x}`]={alignItems:x}}),D},se=i=>{const{componentCls:r}=i,D={};return V.forEach(x=>{D[`${r}-justify-${x}`]={justifyContent:x}}),D},E=()=>({});var ie=(0,y.I$)("Flex",i=>{const{paddingXS:r,padding:D,paddingLG:x}=i,A=(0,f.IX)(i,{flexGapSM:r,flexGap:D,flexGapLG:x});return[t(A),ne(A),oe(A),M(A),se(A)]},E,{resetStyle:!1}),ce=function(i,r){var D={};for(var x in i)Object.prototype.hasOwnProperty.call(i,x)&&r.indexOf(x)<0&&(D[x]=i[x]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,x=Object.getOwnPropertySymbols(i);A<x.length;A++)r.indexOf(x[A])<0&&Object.prototype.propertyIsEnumerable.call(i,x[A])&&(D[x[A]]=i[x[A]]);return D},de=R.forwardRef((i,r)=>{const{prefixCls:D,rootClassName:x,className:A,style:be,flex:fe,gap:Pe,children:we,vertical:Ze=!1,component:Me="div"}=i,e=ce(i,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:Ee,direction:L,getPrefixCls:N}=R.useContext(P.E_),J=N("flex",D),[q,ae,ve]=ie(J),me=Ze!=null?Ze:Ee==null?void 0:Ee.vertical,ge=X()(A,x,Ee==null?void 0:Ee.className,J,ae,ve,d(J,i),{[`${J}-rtl`]:L==="rtl",[`${J}-gap-${Pe}`]:(0,T.n)(Pe),[`${J}-vertical`]:me}),Fe=Object.assign(Object.assign({},Ee==null?void 0:Ee.style),be);return fe&&(Fe.flex=fe),Pe&&!(0,T.n)(Pe)&&(Fe.gap=Pe),q(R.createElement(Me,Object.assign({ref:r,className:ge,style:Fe},(0,B.Z)(e,["justify","wrap","align"])),we))})}}]);
