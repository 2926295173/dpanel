"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2548],{80821:function(Q,C,n){n.d(C,{Z:function(){return v}});var U=n(5574),r=n.n(U),B=n(24963),h=n(86738),f=n(28036),x=n(83062),u=n(67294),s=n(85893);function v(l){var j=(0,u.useState)(!1),c=r()(j,2),E=c[0],i=c[1],e=(0,u.useContext)(B.Z),R=e.lang,A=e.notice,z=e.message,M=function(){i(!0);var b=l.action();b instanceof Promise?b.then(function(Y){if(i(!1),Y){typeof l.onSuccess=="function"&&l.onSuccess(Y);var L="";l.messageSuccess?typeof l.messageSuccess=="function"?L=l.messageSuccess(Y):L=l.messageSuccess.indexOf("notification.")==0?R(l.messageSuccess):l.messageSuccess:L=R("notification.finish"),l.asynced?z.info(L):z.success(L)}}).catch(function(Y){i(!1),typeof l.onError=="function"&&l.onError(Y)}):i(!1)};return l.confirm?(0,s.jsx)(h.Z,{style:{width:500},title:l.confirmTitle?l.confirmTitle:R("notification.title.tip"),description:typeof l.confirm=="string"&&l.confirm.indexOf("notification.")==0?R(l.confirm):l.confirm,onConfirm:M,okText:"Yes",cancelText:"No",children:(0,s.jsx)(f.ZP,{disabled:l.disabled,icon:l.icon,loading:E,danger:l.danger,type:l.type,children:l.children})}):(0,s.jsx)(x.Z,{title:l.tips,children:(0,s.jsx)(f.ZP,{style:l.ghost?{padding:0,height:"auto"}:{},disabled:l.disabled,icon:l.icon,loading:E,onClick:M,danger:l.danger,type:l.type,children:l.children})})}},27619:function(Q,C,n){n.d(C,{Z:function(){return j}});var U=n(97857),r=n.n(U),B=n(19632),h=n.n(B),f=n(5574),x=n.n(f),u=n(64183),s=n(82346),v=n(67294),l=n(85893);function j(c){var E,i=(0,v.useState)("academy"),e=x()(i,2),R=e[0],A=e[1],z=Math.max.apply(Math,h()(c.data.map(function(p){var a;return(a=p[c.yField])!==null&&a!==void 0?a:0}))),M=(0,s.useModel)("@@initialState"),G=M.initialState,b=M.loading,Y=M.error,L=M.refresh,y=M.setInitialState,T={xField:c.xField,yField:c.yField,height:200,axis:{y:{line:!0},x:{line:!0,grid:{visable:!0},labelAutoRotate:!0}},style:{opacity:.4},tooltip:{channel:"y",valueFormatter:c.yLabelFormatter},scale:{y:{domainMin:(E=c.yDomainMin)!==null&&E!==void 0?E:0,domainMax:c.yDomainMax?c.yDomainMax:c.yDomainMaxCallback?c.yDomainMaxCallback(z):z}},data:c.data};return c.yLabelFormatter&&(T.axis.y.labelFormatter=c.yLabelFormatter),c.colorField&&(T.colorField=c.colorField),(0,v.useEffect)(function(){(G==null?void 0:G.theme.algorithm)=="dark"?A("classicDark"):A("academy")},[G]),(0,l.jsx)(u.Z,r()({theme:R},T))}},71890:function(Q,C,n){var U=n(15009),r=n.n(U),B=n(99289),h=n.n(B),f=n(67294);function x(u){var s=u.reqFunction,v=u.interval,l=u.maxPolling,j=u.pollingStatus,c=u.inPath,E=(0,f.useRef)(null),i=0,e=function A(){E.current=window.setTimeout(h()(r()().mark(function z(){var M;return r()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!(i++>=l)){b.next=3;break}return R(),b.abrupt("return");case 3:if(b.prev=3,!(c&&window.location.href.indexOf(c)==-1)){b.next=7;break}return R(),b.abrupt("return");case 7:return b.next=9,s();case 9:M=b.sent,A(),b.next=17;break;case 13:b.prev=13,b.t0=b.catch(3),R(),console.error("\u8F6E\u8BE2\u53D1\u751F\u9519\u8BEF\uFF1A",b.t0);case 17:case"end":return b.stop()}},z,null,[[3,13]])})),v)},R=function(){console.log("end polling"),E.current&&window.clearTimeout(E.current)};return(0,f.useEffect)(function(){return console.log((j?"start":"waiting")+" polling, max "+l),j&&e(),function(){R()}},[v,l,j]),{endPolling:R}}C.Z=x},24963:function(Q,C,n){var U=n(67294),r=(0,U.createContext)({});C.Z=r},76214:function(Q,C,n){n.r(C),n.d(C,{default:function(){return Ne}});var U=n(15009),r=n.n(U),B=n(99289),h=n.n(B),f=n(5574),x=n.n(f),u=n(19632),s=n.n(u),v=n(80821),l=n(27619),j=n(97857),c=n.n(j),E=n(28413),i=n(67294),e=n(85893),R=(0,i.forwardRef)(function(Z,ne){(0,i.useImperativeHandle)(ne,function(){return{zoomIn:function(){N<=0||N-5<=0?ee(1):ee(N-5)},zoomOut:function(){N>Z.data.length||N+5>Z.data.length?ee(Z.data.length):ee(N+5)}}});var te=(0,i.useState)(20),q=x()(te,2),N=q[0],ee=q[1],ue={colorField:"value",valueField:"value",scale:{color:{range:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"]}},legend:!1},se=function(){return Z.data.length<=N?Z.data:Z.data.slice(0,N)};return(0,i.useEffect)(function(){},[]),Z.data?(0,e.jsx)(E.Z,c()(c()({},ue),{},{height:500,data:{name:"root",children:se()}})):(0,e.jsx)(e.Fragment,{})}),A=R,z=n(55241),M=n(71230),G=n(15746),b=n(38703),Y=(0,i.forwardRef)(function(Z,ne){return(0,i.useImperativeHandle)(ne,function(){return{}}),(0,e.jsxs)(z.Z,{placement:"left",children:[(0,e.jsx)(M.Z,{justify:"center",children:(0,e.jsx)(G.Z,{children:(0,e.jsx)(b.Z,{percent:Z.showPercent,type:"dashboard",format:function(q,N){return"".concat(q,"%")},size:150,status:Z.showPercent>=100?"exception":"normal"})})}),(0,e.jsx)(M.Z,{justify:"center",children:(0,e.jsxs)(G.Z,{style:{marginTop:"10px"},children:[Z.showLabel,": ",Z.showUse," / ",Z.showTotal]})})]})}),L=Y,y=n(71890),T=n(24963),p=n(62597),a=n(87662),I=n(2831),o=n(18148),Te=n(89075),w=n(5251),$e=n(45605),we=n(23430),We=n(1210),le=n(12122),ke=n(35598),Ke=n(15668),$=n(38345),De=n(184),k=n(88273),X=n(82346),ie=n(42075),de=n(28036),H=n(26412),Ie=n(83062),ze=n(40411),Oe=n(25593),Se=n(63490),Ge=n(86250),He=n(96074),xe=n(93162);function Ne(){var Z,ne,te,q,N,ee,ue,se,ae,ce,me,_e,pe,he,fe,ve,ge,je,ye,Ee,Ve=function(m,_){switch(_.type){case"update":var F=new Date().toLocaleTimeString(),P=0,g=0,re=0,oe=0,V=0,S=0;_.payload.map(function(K){P+=K.cpu,g+=K.memory.in,re+=K.networkIO.in,oe+=K.networkIO.out,V+=K.blockIO.in,S+=K.blockIO.out});var J={list:_.payload,cpu:P,memory:g,network:[].concat(s()(m.network),[{date:F,usage:oe,type:"\u4E0A\u884C",source:{usage:oe}},{date:F,type:"\u4E0B\u884C",usage:re,source:{usage:re}}]),io:[].concat(s()(m.io),[{date:F,usage:S,type:"\u8BFB\u53D6",source:{usage:S}},{date:F,type:"\u5199\u5165",usage:V,source:{usage:V}}])};return J}},Me=(0,X.useAccess)(),Pe=(0,i.useRef)(),Ye=(0,i.useState)(),Ce=x()(Ye,2),be=Ce[0],Xe=Ce[1],Qe=(0,i.useState)(),Fe=x()(Qe,2),t=Fe[0],Je=Fe[1],qe=(0,i.useState)(),Ue=x()(qe,2),O=Ue[0],en=Ue[1],nn=(0,i.useState)(),Re=x()(nn,2),d=Re[0],tn=Re[1],an=(0,i.useReducer)(Ve,{cpu:0,memory:0,network:[],io:[],list:[]}),Be=x()(an,2),W=Be[0],Le=Be[1],rn=(0,i.useContext)(T.Z),Ze=rn.loading,un=(0,y.Z)({reqFunction:function(){var D=h()(r()().mark(function _(){var F;return r()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,a.Cz)();case 2:F=g.sent,Le({type:"update",payload:F.data.list});case 4:case"end":return g.stop()}},_)}));function m(){return D.apply(this,arguments)}return m}(),interval:1e3,maxPolling:999,pollingStatus:!!t,inPath:"/home"}),Ae=function(){var D=h()(r()().mark(function m(){var _,F,P,g,re;return r()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return Ze.show(),V.next=3,(0,I.Ll)();case 3:return _=V.sent,tn(_.data),V.next=7,(0,I.aF)().finally(function(){Ze.destroy()});case 7:return F=V.sent,Je(F.data),P={total:0,container:0,volume:0,image:0,cache:0,item:[],updatedAt:""},g=_.data.diskUsage,g.usage.Containers&&g.usage.Containers.map(function(S){var J,K;P.container+=S.SizeRootFs+((J=S.SizeRw)!==null&&J!==void 0?J:0),P.item.push({name:S.Names[0],value:parseFloat(((S.SizeRootFs+((K=S.SizeRw)!==null&&K!==void 0?K:0))/1024/1024).toFixed(2))})}),g.usage.Volumes&&g.usage.Volumes.map(function(S){P.volume+=S.UsageData.Size,P.item.push({name:S.Name,value:parseFloat((S.UsageData.Size/1024/1024).toFixed(2))})}),g.usage.Images&&g.usage.Images.map(function(S){var J,K;P.image+=S.Size-((J=S.Sharedsize)!==null&&J!==void 0?J:0),P.item.push({name:S.RepoTags&&S.RepoTags.length>0?S.RepoTags[0]:S.Id,value:parseFloat(((S.Size-((K=S.Sharedsize)!==null&&K!==void 0?K:0))/1024/1024).toFixed(2))})}),g.usage.BuildCache&&g.usage.BuildCache.map(function(S){P.cache+=S.Size}),!g.usage.Containers&&!g.usage.Images&&!g.usage.Volumes?P.item.push({name:"\u6B63\u5728\u83B7\u53D6\u8BA1\u7B97,\u4E2A\u522B\u7CFB\u7EDF\u4F1A\u6BD4\u8F83\u8017\u65F6.",value:100}):P.updatedAt=new Date(g.updatedAt).toLocaleString(),P.total=g.usage.LayersSize,en(P),V.next=20,(0,a.Cz)();case 20:re=V.sent,Le({type:"update",payload:re.data.list});case 22:case"end":return V.stop()}},m)}));return function(){return D.apply(this,arguments)}}();return(0,i.useEffect)(function(){Ae(),Me.canSeePe&&(0,Te.YQ)().then(function(D){Xe(D.data)})},[]),(0,e.jsxs)($.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,e.jsxs)($.Z,{bordered:!0,split:"vertical",children:[(0,e.jsx)($.Z,{style:{height:"570px"},colSpan:"40%",headerBordered:!0,title:(0,e.jsx)($e.Z,{}),subTitle:"\u57FA\u7840\u4FE1\u606F",extra:(0,e.jsxs)(ie.Z,{children:[(0,e.jsx)(v.Z,{type:"link",icon:(0,e.jsx)(we.Z,{}),action:function(){var m;return(0,p.XH)({md5:(m=t==null?void 0:t.dpanel.containerInfo.Id)!==null&&m!==void 0?m:"dpanel",lineTotal:-1,showTime:!1})},onSuccess:function(m){var _=new Blob([m],{type:"text/plain"});(0,xe.saveAs)(_,"dpanel-debug.log")},children:"\u65E5\u5FD7"}),Me.canSeePe?be&&be.expireTime?(0,e.jsxs)("span",{children:["\u8FC7\u671F\u65F6\u95F4: ",new Date(be.expireTime).toLocaleString()]},"expireTime"):(0,e.jsx)(de.ZP,{type:"link",onClick:h()(r()().mark(function D(){var m,_;return r()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,Te.$w)();case 2:m=P.sent,_=new Blob([m.data.code],{type:"text/plain"}),(0,xe.saveAs)(_,"dpanel.code");case 5:case"end":return P.stop()}},D)})),children:"\u6388\u6743\u7801"},"downloadCode"):(0,e.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/manual/pro",target:"_blank",children:"Pro \u7248"},"proLink")]}),children:(0,e.jsxs)(H.Z,{column:1,labelStyle:{width:100,justifyContent:"flex-end"},children:[(0,e.jsx)(H.Z.Item,{label:"\u9762\u677F\u4FE1\u606F",children:(0,e.jsxs)(ie.Z,{direction:"horizontal",children:["DPanel - ",t==null?void 0:t.dpanel.version," - ",t==null?void 0:t.dpanel.env," - ",t==null?void 0:t.dpanel.family,(0,e.jsx)(Ie.Z,{title:"\u5347\u7EA7\u65E5\u5FD7",children:(0,e.jsx)("a",{target:"_blank",href:"https://github.com/donknap/dpanel/releases",children:(0,e.jsx)(We.Z,{})})}),(t==null?void 0:t.dpanel.newVersion)&&t.dpanel.newVersion!=""&&(0,e.jsx)(X.Link,{to:"/system/upgrade",children:(0,e.jsx)(ze.Z,{count:t==null?void 0:t.dpanel.newVersion,size:"small"})})]})}),(0,e.jsxs)(H.Z.Item,{label:"Docker Host",children:[t==null?void 0:t.info.Name," ",(0,e.jsx)(e.Fragment,{children:(t==null?void 0:t.info.ID)==""&&(0,e.jsx)(X.Link,{to:"/system/env?id=local",children:"\u914D\u7F6E\u9ED8\u8BA4 Docker \u5BA2\u6237\u7AEF"})})]}),(0,e.jsx)(H.Z.Item,{label:"Docker \u7248\u672C",children:"".concat(t==null?void 0:t.info.OperatingSystem," - ").concat(t==null?void 0:t.info.ServerVersion," - ").concat(t==null?void 0:t.sdkVersion)}),(0,e.jsx)(H.Z.Item,{label:"\u6587\u4EF6\u5B58\u50A8\u9A71\u52A8",children:"".concat(t==null?void 0:t.info.Driver)}),(0,e.jsx)(H.Z.Item,{label:"\u65E5\u5FD7\u9A71\u52A8",children:"".concat(t==null?void 0:t.info.LoggingDriver)}),(0,e.jsx)(H.Z.Item,{label:"\u7CFB\u7EDF\u67B6\u6784",children:"".concat(t==null?void 0:t.info.KernelVersion," - ").concat(t==null?void 0:t.info.Architecture)}),(0,e.jsxs)(H.Z.Item,{label:"Cpu",children:[t==null?void 0:t.info.NCPU," \u6838"]}),(0,e.jsx)(H.Z.Item,{label:"Memory",children:(0,w.FI)((Z=t==null?void 0:t.info.MemTotal)!==null&&Z!==void 0?Z:0)}),(0,e.jsx)(H.Z.Item,{label:"\u6839\u76EE\u5F55",children:t==null?void 0:t.info.DockerRootDir}),(0,e.jsx)(H.Z.Item,{label:"\u5B58\u50A8\u5377\u63D2\u4EF6",children:(0,e.jsx)(ie.Z,{children:t==null?void 0:t.info.Plugins.Volume})}),(0,e.jsx)(H.Z.Item,{label:"\u7F51\u7EDC\u63D2\u4EF6",children:(0,e.jsx)(ie.Z,{children:t==null?void 0:t.info.Plugins.Network})}),(0,e.jsx)(H.Z.Item,{label:"\u7CFB\u7EDF\u65F6\u95F4",children:new Date((ne=t==null?void 0:t.info.SystemTime)!==null&&ne!==void 0?ne:"").toLocaleString()})]})}),(0,e.jsxs)($.Z,{headerBordered:!0,title:(0,e.jsx)(le.Z,{}),subTitle:"\u5BB9\u5668\u8FD0\u884C\u7EDF\u8BA1",split:"horizontal",extra:(0,e.jsx)(De.a,{title:"\u5BB9\u5668\u72B6\u6001\u6570\u636E",submitter:!1,trigger:(0,e.jsx)(Oe.Z.Link,{children:"\u8BE6\u60C5\u6570\u636E"}),children:(0,e.jsx)(Se.Z,{pagination:!1,dataSource:W.list,rowKey:"name",columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"name"},{title:"Cpu",dataIndex:"cpu",sorter:function(m,_){return m.cpu-_.cpu},render:function(m,_,F){return"".concat(_.cpu.toFixed(2),"%")}},{title:"\u5185\u5B58",dataIndex:"memory",sorter:function(m,_){return m.memory.in-_.memory.in},render:function(m,_,F){var P,g;return"".concat((0,w.FI)((P=_==null?void 0:_.memory.in)!==null&&P!==void 0?P:0)," / ").concat((0,w.FI)((g=_==null?void 0:_.memory.out)!==null&&g!==void 0?g:0))}},{title:"\u7F51\u7EDC I/O",dataIndex:"networkIO",render:function(m,_,F){return"".concat((0,w.FI)(_.networkIO.in)," / ").concat((0,w.FI)(_.networkIO.out))}},{title:"\u78C1\u76D8 I/O",dataIndex:"blockIO",render:function(m,_,F){return"".concat((0,w.FI)(_.blockIO.in)," / ").concat((0,w.FI)(_.blockIO.out))}}]})}),children:[(0,e.jsx)($.Z,{children:(0,e.jsxs)(Ge.Z,{gap:50,align:"center",justify:"space-evenly",children:[(0,e.jsx)(L,{showPercent:parseFloat(((te=W==null?void 0:W.cpu)!==null&&te!==void 0?te:0).toFixed(2)),showLabel:"Cpu",showUse:"".concat((((q=W==null?void 0:W.cpu)!==null&&q!==void 0?q:0)/100*((N=t==null?void 0:t.info.NCPU)!==null&&N!==void 0?N:0)).toFixed(2)),showTotal:"".concat((ee=t==null?void 0:t.info.NCPU)!==null&&ee!==void 0?ee:0," \u6838")}),(0,e.jsx)(L,{showPercent:parseFloat((((ue=W==null?void 0:W.memory)!==null&&ue!==void 0?ue:0)/((se=t==null?void 0:t.info.MemTotal)!==null&&se!==void 0?se:0)*100).toFixed(2)),showLabel:"\u5185\u5B58",showUse:(0,w.FI)((ae=W==null?void 0:W.memory)!==null&&ae!==void 0?ae:0),showTotal:"".concat((0,w.FI)((ce=t==null?void 0:t.info.MemTotal)!==null&&ce!==void 0?ce:0))})]})}),(0,e.jsxs)($.Z,{split:"vertical",wrap:!0,children:[(0,e.jsx)($.Z,{colSpan:12,title:(0,e.jsx)(le.Z,{}),subTitle:"\u7F51\u7EDC",headerBordered:!0,children:(0,e.jsx)(l.Z,{yField:"usage",xField:"date",colorField:"type",data:W.network,yLabelFormatter:function(m){return(0,w.FI)(parseFloat(m))},yDomainMaxCallback:function(m){return m*1.5}})}),(0,e.jsx)($.Z,{colSpan:12,title:(0,e.jsx)(le.Z,{}),subTitle:"\u78C1\u76D8",headerBordered:!0,children:(0,e.jsx)(l.Z,{yField:"usage",xField:"date",colorField:"type",data:W.io,yLabelFormatter:function(m){return(0,w.FI)(parseFloat(m))},yDomainMaxCallback:function(m){return m*1.5}})})]})]})]}),(0,e.jsxs)($.Z,{bordered:!0,headerBordered:!0,title:(0,e.jsx)(le.Z,{}),subTitle:"\u7528\u91CF\u7EDF\u8BA1",extra:(0,e.jsxs)(ie.Z,{children:[(0,e.jsx)(de.ZP,{icon:(0,e.jsx)(ke.Z,{}),onClick:function(){var m;(m=Pe.current)===null||m===void 0||m.zoomIn()},shape:"circle"}),(0,e.jsx)(de.ZP,{icon:(0,e.jsx)(Ke.Z,{}),onClick:function(){var m;(m=Pe.current)===null||m===void 0||m.zoomOut()},shape:"circle"}),(0,e.jsx)(He.Z,{type:"vertical"}),(0,e.jsx)("span",{children:O&&O.updatedAt?"\u6570\u636E\u6700\u540E\u66F4\u65B0: ".concat(O.updatedAt):""},"lastUpdate")]},"size"),children:[(0,e.jsx)($.Z,{colSpan:"50%",ghost:!0,children:(O==null?void 0:O.item)&&(O==null?void 0:O.item.length)>0&&(0,e.jsx)(A,{ref:Pe,data:(me=O==null?void 0:O.item)!==null&&me!==void 0?me:[]})}),(0,e.jsxs)($.Z,{split:"horizontal",ghost:!0,children:[(0,e.jsx)(k.Z,{statistic:{title:"\u5BB9\u5668",value:(0,w.FI)((_e=O==null?void 0:O.container)!==null&&_e!==void 0?_e:0),description:"\u5BB9\u5668\u5360\u7528\u53CA\u8FD0\u884C\u5199\u5165\u6570\u636E"}}),(0,e.jsx)(k.Z,{statistic:{title:"\u955C\u50CF",value:(0,w.FI)((pe=O==null?void 0:O.image)!==null&&pe!==void 0?pe:0),description:"\u5305\u542B\u4E2D\u95F4\u955C\u50CF"}}),(0,e.jsx)(k.Z,{statistic:{title:"\u5B58\u50A8",value:(0,w.FI)((he=O==null?void 0:O.volume)!==null&&he!==void 0?he:0),description:"\u53EA\u5305\u542B\u5B58\u50A8\u5377,\u4E0D\u5305\u542B\u6302\u8F7D\u76EE\u5F55"}}),(0,e.jsx)(k.Z,{statistic:{title:"\u6784\u5EFA\u7F13\u5B58",value:(0,w.FI)((fe=O==null?void 0:O.cache)!==null&&fe!==void 0?fe:0),description:(0,e.jsx)(v.Z,{action:function(){return(0,o.c5)()},type:"link",onSuccess:function(){Ae()},ghost:!0,children:"\u6E05\u9664"})}})]}),(0,e.jsxs)($.Z,{ghost:!0,split:"horizontal",children:[(0,e.jsx)($.Z,{ghost:!0,children:(0,e.jsxs)(k.Z.Group,{children:[(0,e.jsx)(k.Z,{statistic:{title:"\u5BB9\u5668",value:(ve=t==null?void 0:t.info.Containers)!==null&&ve!==void 0?ve:0,description:(0,e.jsx)(X.Link,{to:"/app/list",children:"\u67E5\u770B"})}}),(0,e.jsx)(k.Z,{statistic:{title:"\u9884\u8B66",status:"error",valueRender:function(m){var _,F,P,g=0;return d&&d.total&&d.total.containerRunning.stop&&(g+=d.total.containerRunning.stop),d&&d.total&&d.total.containerRunning.pause&&(g+=d.total.containerRunning.pause),d&&d.total&&d.total.containerRunning.unhealthy&&(g+=d.total.containerRunning.unhealthy),(0,e.jsx)(Ie.Z,{title:"\u505C\u6B62\uFF1A".concat((_=d==null?void 0:d.total.containerRunning.stop)!==null&&_!==void 0?_:0,"\uFF0C\u6682\u505C\uFF1A").concat((F=d==null?void 0:d.total.containerRunning.pause)!==null&&F!==void 0?F:0,"\uFF0C\u4E0D\u5065\u5EB7\uFF1A").concat((P=d==null?void 0:d.total.containerRunning.unhealthy)!==null&&P!==void 0?P:0),children:g})}}}),(0,e.jsx)(k.Z,{statistic:{title:"\u56DE\u6536\u7AD9",value:(ge=d==null?void 0:d.total.containerTask)!==null&&ge!==void 0?ge:0,description:(0,e.jsx)(X.Link,{to:"/app/list/recycle",children:"\u67E5\u770B"})}})]})}),(0,e.jsxs)($.Z,{ghost:!0,children:[(0,e.jsx)(k.Z,{statistic:{title:"\u955C\u50CF",value:"".concat((je=(d==null?void 0:d.diskUsage.usage.Images)&&(d==null?void 0:d.diskUsage.usage.Images.length))!==null&&je!==void 0?je:0),description:(0,e.jsx)(X.Link,{to:"/image/list",children:"\u67E5\u770B"})},chartPlacement:"left"}),(0,e.jsx)(k.Z,{statistic:{title:"\u4EFB\u52A1",value:(ye=d==null?void 0:d.total.imageTask)!==null&&ye!==void 0?ye:0,description:(0,e.jsx)(X.Link,{to:"/image/list/build",children:"\u67E5\u770B"})},chartPlacement:"left"})]}),(0,e.jsxs)($.Z,{ghost:!0,children:[(0,e.jsx)(k.Z,{statistic:{title:"\u7F51\u7EDC",value:d==null?void 0:d.total.network,description:(0,e.jsx)(X.Link,{to:"/docker/network",children:"\u67E5\u770B"})},chartPlacement:"left"}),(0,e.jsx)(k.Z,{statistic:{title:"\u7AEF\u53E3\u6620\u5C04",value:d==null?void 0:d.total.port,description:(0,e.jsx)(De.a,{submitter:!1,title:"\u67E5\u770B\u6620\u5C04\u7AEF\u53E3",trigger:(0,e.jsx)(Oe.Z.Link,{children:"\u67E5\u770B"}),children:(0,e.jsx)(Se.Z,{pagination:!1,dataSource:d==null?void 0:d.port,rowKey:"name",columns:[{title:"\u4E3B\u673A\u7AEF\u53E3",dataIndex:["port","host"],sorter:function(m,_){return parseInt(m.port.host)-parseInt(_.port.host)},render:function(m,_,F){return"".concat(_.port.hostIp,":").concat(_.port.host)}},{title:"\u5BB9\u5668\u7AEF\u53E3",dataIndex:["port","dest"]},{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"name"}]})})},chartPlacement:"left"})]}),(0,e.jsxs)($.Z,{ghost:!0,children:[(0,e.jsx)(k.Z,{statistic:{title:"\u5B58\u50A8\u5377",value:(Ee=(d==null?void 0:d.diskUsage.usage.Volumes)&&(d==null?void 0:d.diskUsage.usage.Volumes.length))!==null&&Ee!==void 0?Ee:0,description:(0,e.jsx)(X.Link,{to:"/docker/volume",children:"\u67E5\u770B"})},chartPlacement:"left"}),(0,e.jsx)(k.Z,{statistic:{title:"\u5907\u4EFD",value:d==null?void 0:d.total.backup,description:(0,e.jsx)(X.Link,{to:"/app/backup",children:"\u67E5\u770B"})},chartPlacement:"left"})]})]})]})]})}},62597:function(Q,C,n){n.d(C,{$G:function(){return x},Ct:function(){return R},Tb:function(){return l},XH:function(){return c},cl:function(){return s},iE:function(){return i},lK:function(){return G},xb:function(){return z},ze:function(){return Y}});var U=n(15009),r=n.n(U),B=n(99289),h=n.n(B),f=n(82346);function x(y){return u.apply(this,arguments)}function u(){return u=h()(r()().mark(function y(T){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,f.request)("/api/app/site/create-by-image",{method:"POST",data:T}));case 1:case"end":return a.stop()}},y)})),u.apply(this,arguments)}function s(y){return v.apply(this,arguments)}function v(){return v=h()(r()().mark(function y(T){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,f.request)("/api/app/site/get-list",{method:"POST",data:T}));case 1:case"end":return a.stop()}},y)})),v.apply(this,arguments)}function l(y){return j.apply(this,arguments)}function j(){return j=h()(r()().mark(function y(T){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return T.download=!1,a.next=3,(0,f.request)("/api/app/log/run",{method:"POST",data:T});case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},y)})),j.apply(this,arguments)}function c(y){return E.apply(this,arguments)}function E(){return E=h()(r()().mark(function y(T){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return T.download=!0,a.next=3,(0,f.request)("/api/app/log/run",{method:"POST",data:T,responseType:"blob"});case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},y)})),E.apply(this,arguments)}function i(y){return e.apply(this,arguments)}function e(){return e=h()(r()().mark(function y(T){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,f.request)("/api/app/site/get-detail",{data:T,method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},y)})),e.apply(this,arguments)}function R(y){return A.apply(this,arguments)}function A(){return A=h()(r()().mark(function y(T){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,f.request)("/api/app/container/delete",{method:"POST",data:T}));case 1:case"end":return a.stop()}},y)})),A.apply(this,arguments)}function z(y){return M.apply(this,arguments)}function M(){return M=h()(r()().mark(function y(T){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,f.request)("/api/app/site/delete",{method:"POST",data:T}));case 1:case"end":return a.stop()}},y)})),M.apply(this,arguments)}function G(y){return b.apply(this,arguments)}function b(){return b=h()(r()().mark(function y(T){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,f.request)("/api/app/site/update-title",{method:"POST",data:T});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},y)})),b.apply(this,arguments)}function Y(y){return L.apply(this,arguments)}function L(){return L=h()(r()().mark(function y(T){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,f.request)("/api/app/container/ignore",{method:"POST",data:T}));case 1:case"end":return a.stop()}},y)})),L.apply(this,arguments)}},2831:function(Q,C,n){n.d(C,{Ll:function(){return s},aF:function(){return x},d6:function(){return l}});var U=n(15009),r=n.n(U),B=n(99289),h=n.n(B),f=n(82346);function x(){return u.apply(this,arguments)}function u(){return u=h()(r()().mark(function c(){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,f.request)("/api/common/home/info",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},c)})),u.apply(this,arguments)}function s(){return v.apply(this,arguments)}function v(){return v=h()(r()().mark(function c(){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,f.request)("/api/common/home/usage",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},c)})),v.apply(this,arguments)}function l(){return j.apply(this,arguments)}function j(){return j=h()(r()().mark(function c(){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,f.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},c)})),j.apply(this,arguments)}},18148:function(Q,C,n){n.d(C,{$q:function(){return i},Fj:function(){return Y},KG:function(){return x},KX:function(){return y},T8:function(){return c},Xn:function(){return l},ao:function(){return R},c5:function(){return G},c7:function(){return z}});var U=n(15009),r=n.n(U),B=n(99289),h=n.n(B),f=n(82346);function x(p){return u.apply(this,arguments)}function u(){return u=h()(r()().mark(function p(a){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,f.request)("/api/app/image/get-list",{method:"POST",data:a}));case 1:case"end":return o.stop()}},p)})),u.apply(this,arguments)}function s(p){return v.apply(this,arguments)}function v(){return v=_asyncToGenerator(_regeneratorRuntime().mark(function p(a){return _regeneratorRuntime().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,request("/api/app/log/image-build",{method:"POST",data:a});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},p)})),v.apply(this,arguments)}function l(p){return j.apply(this,arguments)}function j(){return j=h()(r()().mark(function p(a){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,f.request)("/api/app/image/get-list-build",{method:"POST",data:a}));case 1:case"end":return o.stop()}},p)})),j.apply(this,arguments)}function c(p){return E.apply(this,arguments)}function E(){return E=h()(r()().mark(function p(a){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,f.request)("/api/app/image/get-build-task",{method:"POST",data:a});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},p)})),E.apply(this,arguments)}function i(p){return e.apply(this,arguments)}function e(){return e=h()(r()().mark(function p(a){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,f.request)("/api/app/image/delete-build-task",{method:"POST",data:a});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},p)})),e.apply(this,arguments)}function R(p){return A.apply(this,arguments)}function A(){return A=h()(r()().mark(function p(a){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,f.request)("/api/app/image/image-delete",{method:"POST",data:a});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},p)})),A.apply(this,arguments)}function z(){return M.apply(this,arguments)}function M(){return M=h()(r()().mark(function p(){return r()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,f.request)("/api/app/image/image-prune",{method:"POST"});case 2:return I.abrupt("return",I.sent);case 3:case"end":return I.stop()}},p)})),M.apply(this,arguments)}function G(){return b.apply(this,arguments)}function b(){return b=h()(r()().mark(function p(){return r()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,f.request)("/api/app/image/build-prune",{method:"POST"});case 2:return I.abrupt("return",I.sent);case 3:case"end":return I.stop()}},p)})),b.apply(this,arguments)}function Y(p){return L.apply(this,arguments)}function L(){return L=h()(r()().mark(function p(a){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,f.request)("/api/app/image/update-title",{method:"POST",data:a});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},p)})),L.apply(this,arguments)}function y(p){return T.apply(this,arguments)}function T(){return T=h()(r()().mark(function p(a){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,f.request)("/api/app/image/tag-sync",{method:"POST",data:a}));case 1:case"end":return o.stop()}},p)})),T.apply(this,arguments)}},89075:function(Q,C,n){n.d(C,{$w:function(){return x},YQ:function(){return s},ax:function(){return l}});var U=n(15009),r=n.n(U),B=n(99289),h=n.n(B),f=n(82346);function x(){return u.apply(this,arguments)}function u(){return u=h()(r()().mark(function c(){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,f.request)("/api/pro/home/get-machine-id",{method:"POST"}));case 1:case"end":return i.stop()}},c)})),u.apply(this,arguments)}function s(){return v.apply(this,arguments)}function v(){return v=h()(r()().mark(function c(){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,f.request)("/api/pro/home/get-license-info",{method:"POST"}));case 1:case"end":return i.stop()}},c)})),v.apply(this,arguments)}function l(){return j.apply(this,arguments)}function j(){return j=h()(r()().mark(function c(){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,f.request)("/api/pro/home/login-info",{method:"POST"}));case 1:case"end":return i.stop()}},c)})),j.apply(this,arguments)}},5251:function(Q,C,n){n.d(C,{FI:function(){return r},NF:function(){return h},ZM:function(){return B},fi:function(){return f}});function U(u){return u.trim()}function r(u){var s="";u<.1*1024?s=u.toFixed(2)+"B":u<.1*1024*1024?s=(u/1024).toFixed(2)+"KB":u<1*1024*1024*1024?s=(u/(1024*1024)).toFixed(2)+"MB":s=(u/(1024*1024*1024)).toFixed(2)+"GB";var v=s+"",l=v.indexOf("."),j=v.substring(l+1,l+3);return j=="00"?v.substring(0,l)+v.substr(l+3,2):s}function B(u){if(u){var s=new Date(u),v=s.getFullYear()+"-",l=(s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1)+"-",j=(s.getDate()<10?"0"+s.getDate():s.getDate())+" ",c=(s.getHours()<10?"0"+s.getHours():s.getHours())+":",E=(s.getMinutes()<10?"0"+s.getMinutes():s.getMinutes())+":",i=s.getSeconds()<10?"0"+s.getSeconds():s.getSeconds();return v+l+j+c+E+i}}function h(u){if(!u||u=="")return"-";var s=new Date(u),v=s.getUTCFullYear(),l=String(s.getUTCMonth()+1).padStart(2,"0"),j=String(s.getUTCDate()).padStart(2,"0"),c=String(s.getUTCHours()).padStart(2,"0"),E=String(s.getUTCMinutes()).padStart(2,"0"),i=String(s.getUTCSeconds()).padStart(2,"0");return"".concat(v,"-").concat(l,"-").concat(j," ").concat(c,":").concat(E,":").concat(i)}function f(u,s){if(!u||u.length===0)return"";if(s.length===0)return u;for(;u.startsWith(s);)u=u.slice(s.length);return u}function x(u,s){if(!u||u.length===0)return"";if(s.length===0)return u;for(;u.endsWith(s);)u=u.slice(0,u.length-s.length);return u}}}]);
