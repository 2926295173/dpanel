"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3805],{54964:function(h,i,n){n.d(i,{a:function(){return l}});var E=n(78267),P=n.n(E),c=n(75458),v=n.n(c),_=n(67294),f=n(12320),D=n.n(f),M=n(89629),r=n(85893),l={convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,cursorStyle:"block",cursorBlink:!0,theme:{foreground:"#bfbfbf",cursor:"gray",selectionForeground:"#ffffff"}},a=new f.Terminal(l),s=new c.SearchAddon,d=new E.FitAddon,O=(0,_.forwardRef)(function(e,u){return(0,_.useEffect)(function(){window.addEventListener("resize",function(){e.showInModal||d.fit()}),e.style&&e.style.fontSize&&(a.options.fontSize=e.style.fontSize),a.loadAddon(d),a.loadAddon(s),a.open(document.getElementById("terminal-container")),d.fit()},[]),(0,_.useImperativeHandle)(u,function(){return{write:function(o){a.write(o)},clear:function(){a.clear()},getTerminal:function(){return a},findNext:function(o){s.findNext(o)},findPrev:function(o){s.findPrevious(o)},fit:function(){d.fit()},onData:function(o){a.onData(o)}}}),(0,r.jsx)("div",{id:"terminal-container",style:{width:e.width?e.width:"100%",height:e.height?e.height:"500px"}})});i.Z=O},33345:function(h,i,n){n.r(i),n.d(i,{default:function(){return M}});var E=n(5574),P=n.n(E),c=n(54964),v=n(52626),_=n(54006),f=n(67294),D=n(85893);function M(){var r=(0,f.useRef)(),l=(0,_.useParams)(),a=(0,_.useSearchParams)(),s=P()(a,2),d=s[0],O=s[1],e=new WebSocket((0,v.R)("/console/"+l.id+"?"+d.toString()));return(0,f.useEffect)(function(){e.addEventListener("message",function(u){var t=JSON.parse(u.data),o=t.type;if(o=="console:"+l.id){var m;(m=r.current)===null||m===void 0||m.write(t.data)}}),r!=null&&r.current&&r.current.onData(function(u){var t={content:{command:u},type:"console"};e.send(JSON.stringify(t))})},[]),(0,D.jsx)(c.Z,{ref:r,height:"100vh"})}}}]);
