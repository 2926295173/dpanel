"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7863],{53102:function(j,u,e){e.d(u,{Z:function(){return m}});var E=e(67294),c=e(85893);function m(r){var d=function(a){if(r.check&&r.check(a)){a.preventDefault();return}if(a.target&&a.target.className&&a.target.className.indexOf(r.targetClassName)!==-1){a.preventDefault();return}};return(0,E.useEffect)(function(){return window.addEventListener("wheel",d,{passive:!1}),function(){window.removeEventListener("wheel",d)}},[]),(0,c.jsx)(c.Fragment,{children:r.children})}},53260:function(j,u,e){e.r(u),e.d(u,{default:function(){return g}});var E=e(97857),c=e.n(E),m=e(5574),r=e.n(m),d=e(93362),h=e(90581),a=e(49610),R=e(53102),T=e(77273),W=e(52756),U=e(87662),A=e(43425),L=e(90078),B=e(38345),I=e(42075),v=e(28036),K=e(86250),P=e(32983),i=e(67294),t=e(85893);function g(){var l=(0,i.useRef)(),x=(0,i.useState)(),D=r()(x,2),_=D[0],S=D[1],O=(0,i.useRef)(),p=(0,i.useState)(1),M=r()(p,2),C=M[0],y=M[1];return(0,i.useEffect)(function(){(0,U.K3)().then(function(s){S(s.data),setTimeout(function(){var n;(n=l.current)===null||n===void 0||n.start("/console/host/".concat(s.data.name),{})},500)})},[C]),(0,t.jsx)(L._z,{extra:(0,t.jsxs)(I.Z,{children:[_&&(0,t.jsx)(d.Z,{apiPrefix:"host",name:_.name,title:_.title,trigger:(0,t.jsx)(v.ZP,{type:"primary",children:"\u6587\u4EF6\u7BA1\u7406"})}),(0,t.jsx)(h.Z,{onChangeShell:function(n){var o,f;return _&&((o=l.current)===null||o===void 0||o.close(),(f=l.current)===null||f===void 0||f.start("/console/host/".concat(_.name),{cmd:n})),!1},onBatchCommandFinish:function(n){l.current&&l.current.run(n)},onOpenNewWindow:function(n){return _?"/console/host/".concat(_.name)+"?".concat(Object.keys(n).map(function(o){return"".concat(o,"=").concat(encodeURIComponent(n[o]))}).join("&")):""},onPreviewTheme:function(n){var o;(o=l.current)===null||o===void 0||o.option({theme:n})}})]}),children:(0,t.jsxs)(B.Z,{children:[(!_||!_.enableSSH)&&(0,t.jsx)(K.Z,{justify:"center",style:{height:"58vh"},vertical:!0,children:(0,t.jsx)(P.Z,{image:P.Z.PRESENTED_IMAGE_SIMPLE,description:(0,t.jsxs)(t.Fragment,{children:[(0,W.getLang)("notification.homeWsHostConsoleSshNotSetting")," ",(0,t.jsx)(v.ZP,{icon:(0,t.jsx)(A.Z,{}),type:"link",onClick:function(){var n;_&&((n=O.current)===null||n===void 0||n.edit(c()(c()({},_),{enableSSH:!0})))}})]})})}),_&&_.enableSSH&&(0,t.jsx)(R.Z,{check:function(n){return!!(n&&n.target&&n.target.parentNode.parentNode.className&&n.target.parentNode.parentNode.className.indexOf("xterm")!==-1)},children:(0,t.jsx)(a.Z,{height:"70vh",ref:l})}),(0,t.jsx)(T.Z,{onFinish:function(){y(C+1)},ref:O})]})})}}}]);
