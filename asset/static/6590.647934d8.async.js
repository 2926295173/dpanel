"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6590],{44349:function(B,b,r){var j=r(97857),a=r.n(j),y=r(17186),l=r(5966),o=r(86250),D=r(67294),h=r(85893),T=(0,D.forwardRef)(function(_,E){var u=(0,D.useRef)();(0,D.useImperativeHandle)(E,function(){return{addItem:function(t,d){var m,e=(m=u.current)===null||m===void 0?void 0:m.getList(),P=!1;if(e==null||e.map(function(U){if(U.name==t){P=!0;return}}),!P){var c;(c=u.current)===null||c===void 0||c.add({name:t,value:d})}},clear:function(){var t;(t=u.current)===null||t===void 0||(t=t.getList())===null||t===void 0||t.map(function(d,m){var e;(e=u.current)===null||e===void 0||e.remove(m)})}}});var g={};return _.hideCopyButton===!0&&(g.copyIconProps=!1),_.hideDeleteButton===!0&&(g.deleteIconProps=!1),(0,h.jsx)(y.u,a()(a()({initialValue:_.initialValue,label:_.label,name:_.name,actionRef:u,creatorButtonProps:_.showAddButton?{creatorButtonText:_.label?_.label:_.name}:!1,min:_.min?_.min:0},g),{},{children:function(t,d,m){return(0,h.jsx)(o.Z,{justify:_.justify,gap:_.gap,children:_.items.map(function(e){return e.render?(0,h.jsx)("div",{children:e.render&&e.render(t,d,m)},"".concat(_.name,"-").concat(e.name,"-").concat(t.key)):(0,h.jsx)(l.Z,{width:e.width,name:e.name,label:e.label,required:e.required,rules:[{required:e.required}],disabled:e.disabled,placeholder:e.placeholder},"".concat(_.name,"-").concat(e.name,"-").concat(t.key))})})}}))});b.Z=T},80271:function(B,b,r){var j=r(15009),a=r.n(j),y=r(99289),l=r.n(y),o=r(5574),D=r.n(o),h=r(184),T=r(78099),_=r(83062),E=r(67294),u=r(3393),g=r(68536),f=r(5251),t=r(81366),d=r(3616),m=r(36146),e=r(85893),P=(0,E.forwardRef)(function(c,U){(0,E.useImperativeHandle)(U,function(){return{show:function(){}}});var L=(0,E.useState)(""),A=D()(L,2),I=A[0],s=A[1],p=(0,E.useState)(!1),i=D()(p,2),n=i[0],Z=i[1],x=(0,E.useRef)(),G=(0,E.useRef)(),w=function(v,O){s(O)},W=new m.Uo("components.explorer"),S=new m.Uo("image");return(0,e.jsx)(h.a,{drawerProps:{width:d.R_},open:n,submitter:!1,title:S.format("fileTitle"),onOpenChange:function(v){Z(v),s(v?"/":"")},trigger:(0,e.jsx)(_.Z,{title:S.format("fileTitle"),children:c.trigger}),children:(0,e.jsx)(T.Z,{headerTitle:(0,e.jsx)(t.Z,{ref:G,showPath:w}),scroll:{x:"max-content"},search:!1,rowKey:"name",pagination:{pageSize:500,position:["topRight","bottomRight"]},actionRef:x,request:l()(a()().mark(function R(){var v;return a()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(I!=""){M.next=2;break}return M.abrupt("return",{data:[],total:0,success:!0});case 2:return M.next=4,(0,u.cD)({md5:c.imageId,path:I});case 4:return v=M.sent,M.abrupt("return",{data:v.data.info,total:v.data.info.length,success:!0});case 6:case"end":return M.stop()}},R)})),columns:[{title:W.format("listName"),dataIndex:"showName",key:"name",render:function(C,O,M,k,$){var C,K=O.name.replace(I,"");return O.isDir?C=(0,e.jsx)(g.Z,{isDir:!0,onClick:function(){return w(K,O.path)},showName:K}):O.isSymlink?C=(0,e.jsx)(g.Z,{isLink:!0,showName:K}):C=(0,e.jsx)(g.Z,{showName:K}),C}},{title:W.format("listModStr"),dataIndex:"modStr",key:"modStr"},{title:W.format("listUser"),dataIndex:"user"},{title:W.format("listGroup"),dataIndex:"group"},{title:W.format("listSize"),dataIndex:"size",key:"size",render:function(v,O,M,k,$){return(0,f.FI)(O.size)}},{title:W.format("listModTime"),dataIndex:"modTime",key:"modTime",render:function(v,O,M,k,$){return(0,f.NF)(O.modTime)},sorter:function(v,O){return new Date(v.modTime).getTime()-new Date(O.modTime).getTime()}}],cardProps:{ghost:!0}},"".concat(c.imageId,"-").concat(I))})});b.Z=P},2205:function(B,b,r){r.d(b,{Z:function(){return E}});var j=r(97857),a=r.n(j),y=r(5574),l=r.n(y),o=r(75870),D=r(36146),h=r(34041),T=r(67294),_=r(85893);function E(u){var g=(0,T.useState)([]),f=l()(g,2),t=f[0],d=f[1],m=new D.Uo("components.selectRegistry");(0,T.useEffect)(function(){(0,o.Ot)().then(function(P){P&&d(P.data.list)})},[]);var e={};return u.multiple&&(e.mode="multiple"),u.top&&(e.placement="topLeft"),(0,_.jsx)(h.Z,a()({popupMatchSelectWidth:!u.width,style:u.width?{width:u.width}:{},onChange:function(c){if(Array.isArray(c)){var U=c.map(function(L){return t[L]});u.onChangeList&&u.onChangeList(U)}else u.onChange&&u.onChange(t[c])},placeholder:m.format("nameEmpty"),options:t.map(function(P,c){return{value:c,label:P.title+"("+P.serverAddress+")"}}),allowClear:!0},e))}},18148:function(B,b,r){r.d(b,{$q:function(){return g},Fj:function(){return U},KG:function(){return D},KX:function(){return A},T8:function(){return E},Xn:function(){return T},ao:function(){return t},c5:function(){return P},c7:function(){return m}});var j=r(15009),a=r.n(j),y=r(99289),l=r.n(y),o=r(82346);function D(s){return h.apply(this,arguments)}function h(){return h=l()(a()().mark(function s(p){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/image/get-list",{method:"POST",data:p}));case 1:case"end":return n.stop()}},s)})),h.apply(this,arguments)}function T(s){return _.apply(this,arguments)}function _(){return _=l()(a()().mark(function s(p){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/image/get-list-build",{method:"POST",data:p}));case 1:case"end":return n.stop()}},s)})),_.apply(this,arguments)}function E(s){return u.apply(this,arguments)}function u(){return u=l()(a()().mark(function s(p){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,o.request)("/api/app/image/get-build-task",{method:"POST",data:p});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},s)})),u.apply(this,arguments)}function g(s){return f.apply(this,arguments)}function f(){return f=l()(a()().mark(function s(p){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,o.request)("/api/app/image/delete-build-task",{method:"POST",data:p});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},s)})),f.apply(this,arguments)}function t(s){return d.apply(this,arguments)}function d(){return d=l()(a()().mark(function s(p){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,o.request)("/api/app/image/image-delete",{method:"POST",data:p});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},s)})),d.apply(this,arguments)}function m(){return e.apply(this,arguments)}function e(){return e=l()(a()().mark(function s(){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,o.request)("/api/app/image/image-prune",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},s)})),e.apply(this,arguments)}function P(){return c.apply(this,arguments)}function c(){return c=l()(a()().mark(function s(){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,o.request)("/api/app/image/build-prune",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},s)})),c.apply(this,arguments)}function U(s){return L.apply(this,arguments)}function L(){return L=l()(a()().mark(function s(p){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,o.request)("/api/app/image/update-title",{method:"POST",data:p});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},s)})),L.apply(this,arguments)}function A(s){return I.apply(this,arguments)}function I(){return I=l()(a()().mark(function s(p){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/app/image/tag-sync",{method:"POST",data:p}));case 1:case"end":return n.stop()}},s)})),I.apply(this,arguments)}},75870:function(B,b,r){r.d(b,{Ot:function(){return D},ZH:function(){return T},ix:function(){return E},t1:function(){return g}});var j=r(15009),a=r.n(j),y=r(99289),l=r.n(y),o=r(82346);function D(t){return h.apply(this,arguments)}function h(){return h=l()(a()().mark(function t(d){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/common/registry/get-list",{method:"POST",data:d}));case 1:case"end":return e.stop()}},t)})),h.apply(this,arguments)}function T(t){return _.apply(this,arguments)}function _(){return _=l()(a()().mark(function t(d){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/common/registry/create",{method:"POST",data:d}));case 1:case"end":return e.stop()}},t)})),_.apply(this,arguments)}function E(t){return u.apply(this,arguments)}function u(){return u=l()(a()().mark(function t(d){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/common/registry/delete",{method:"POST",data:d}));case 1:case"end":return e.stop()}},t)})),u.apply(this,arguments)}function g(t){return f.apply(this,arguments)}function f(){return f=l()(a()().mark(function t(d){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/common/registry/get-detail",{method:"POST",data:d}));case 1:case"end":return e.stop()}},t)})),f.apply(this,arguments)}}}]);
