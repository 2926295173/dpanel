"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5529],{44349:function(A,T,n){var j=n(97857),a=n.n(j),M=n(17186),d=n(5966),m=n(86250),P=n(67294),p=n(85893),y=(0,P.forwardRef)(function(s,l){var h=(0,P.useRef)();(0,P.useImperativeHandle)(l,function(){return{addItem:function(t,o){var u,e=(u=h.current)===null||u===void 0?void 0:u.getList(),b=!1;if(e==null||e.map(function(C){if(C.name==t){b=!0;return}}),!b){var O;(O=h.current)===null||O===void 0||O.add({name:t,value:o})}},clear:function(){var t;(t=h.current)===null||t===void 0||(t=t.getList())===null||t===void 0||t.map(function(o,u){var e;(e=h.current)===null||e===void 0||e.remove(u)})}}});var g={};return s.hideCopyButton===!0&&(g.copyIconProps=!1),s.hideDeleteButton===!0&&(g.deleteIconProps=!1),(0,p.jsx)(M.u,a()(a()({initialValue:s.initialValue,label:s.label,name:s.name,actionRef:h,creatorButtonProps:s.showAddButton?{creatorButtonText:"\u6DFB\u52A0"+(s.label?s.label:s.name)}:!1,min:s.min?s.min:0},g),{},{children:function(t,o,u){return(0,p.jsx)(m.Z,{justify:s.justify,gap:s.gap,children:s.items.map(function(e){return e.render?(0,p.jsx)("div",{children:e.render&&e.render(t,o,u)},"".concat(s.name,"-").concat(e.name,"-").concat(t.key)):(0,p.jsx)(d.Z,{width:e.width,name:e.name,label:e.label,required:e.required,rules:[{required:e.required}],disabled:e.disabled,placeholder:e.placeholder},"".concat(s.name,"-").concat(e.name,"-").concat(t.key))})})}}))});T.Z=y},80271:function(A,T,n){var j=n(15009),a=n.n(j),M=n(99289),d=n.n(M),m=n(5574),P=n.n(m),p=n(184),y=n(41482),s=n(83062),l=n(67294),h=n(3393),g=n(68536),f=n(5251),t=n(81366),o=n(3616),u=n(85893),e=(0,l.forwardRef)(function(b,O){(0,l.useImperativeHandle)(O,function(){return{show:function(){}}});var C=(0,l.useState)(""),W=P()(C,2),L=W[0],R=W[1],w=(0,l.useState)(!1),U=P()(w,2),_=U[0],c=U[1],i=(0,l.useRef)(),r=(0,l.useRef)(),S=function(D,E){R(E)};return(0,u.jsx)(p.a,{drawerProps:{width:o.R_},open:_,submitter:!1,title:"\u955C\u50CF\u6587\u4EF6\u67E5\u770B",onOpenChange:function(D){c(D),R(D?"/":"")},trigger:(0,u.jsx)(s.Z,{title:"\u67E5\u770B\u955C\u50CF\u6587\u4EF6",children:b.trigger}),children:(0,u.jsx)(y.Z,{headerTitle:(0,u.jsx)(t.Z,{ref:r,showPath:S}),scroll:{x:"max-content"},search:!1,rowKey:"showName",pagination:{pageSize:500,position:["topRight","bottomRight"]},actionRef:i,request:d()(a()().mark(function I(){var D;return a()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(L!=""){v.next=2;break}return v.abrupt("return",{data:[],total:0,success:!0});case 2:return v.next=4,(0,h.cD)({md5:b.imageId,path:L});case 4:return D=v.sent,v.abrupt("return",{data:D.data.info,total:D.data.info.length,success:!0});case 6:case"end":return v.stop()}},I)})),columns:[{title:"\u540D\u79F0",dataIndex:"showName",key:"name",render:function(B,E,v,k,$){var B,K=E.name.replace(L,"");return E.isDir?B=(0,u.jsx)(g.Z,{isDir:!0,onClick:function(){return S(K,E.path)},showName:K}):E.isSymlink?B=(0,u.jsx)(g.Z,{isLink:!0,showName:K}):B=(0,u.jsx)(g.Z,{showName:K}),B}},{title:"\u6743\u9650",dataIndex:"modStr",key:"modStr"},{title:"\u7528\u6237",dataIndex:"user"},{title:"\u7528\u6237\u7EC4",dataIndex:"group"},{title:"\u5927\u5C0F",dataIndex:"size",key:"size",render:function(D,E,v,k,$){return(0,f.FI)(E.size)}},{title:"\u4FEE\u6539\u65F6\u95F4",dataIndex:"modTime",key:"modTime",render:function(D,E,v,k,$){return(0,f.NF)(E.modTime)},sorter:function(D,E){return new Date(D.modTime).getTime()-new Date(E.modTime).getTime()}}],cardProps:{ghost:!0}},"".concat(b.imageId,"-").concat(L))})});T.Z=e},96042:function(A,T,n){n.d(T,{Z:function(){return s}});var j=n(97857),a=n.n(j),M=n(5574),d=n.n(M),m=n(75870),P=n(34041),p=n(67294),y=n(85893);function s(l){var h=(0,p.useState)([]),g=d()(h,2),f=g[0],t=g[1];(0,p.useEffect)(function(){(0,m.Ot)().then(function(u){u&&t(u.data.list)})},[]);var o={};return l.multiple&&(o.mode="multiple"),l.top&&(o.placement="topLeft"),(0,y.jsx)(P.Z,a()({popupMatchSelectWidth:!l.width,style:l.width?{width:l.width}:{},onChange:function(e){if(Array.isArray(e)){var b=e.map(function(O){return f[O]});l.onChangeList&&l.onChangeList(b)}else l.onChange&&l.onChange(f[e])},placeholder:"\u9009\u62E9\u955C\u50CF\u4ED3\u5E93\uFF0C\u9ED8\u8BA4\u4E3A\u5F53\u524D\u4ED3\u5E93",options:f.map(function(u,e){return{value:e,label:u.title+"("+u.serverAddress+")"}}),allowClear:!0},o))}},18148:function(A,T,n){n.d(T,{$q:function(){return t},Fj:function(){return L},KG:function(){return P},KX:function(){return w},T8:function(){return g},Xn:function(){return l},ao:function(){return u},c5:function(){return C},c7:function(){return b}});var j=n(15009),a=n.n(j),M=n(99289),d=n.n(M),m=n(82346);function P(_){return p.apply(this,arguments)}function p(){return p=d()(a()().mark(function _(c){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/app/image/get-list",{method:"POST",data:c}));case 1:case"end":return r.stop()}},_)})),p.apply(this,arguments)}function y(_){return s.apply(this,arguments)}function s(){return s=_asyncToGenerator(_regeneratorRuntime().mark(function _(c){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,request("/api/app/log/image-build",{method:"POST",data:c});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},_)})),s.apply(this,arguments)}function l(_){return h.apply(this,arguments)}function h(){return h=d()(a()().mark(function _(c){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/app/image/get-list-build",{method:"POST",data:c}));case 1:case"end":return r.stop()}},_)})),h.apply(this,arguments)}function g(_){return f.apply(this,arguments)}function f(){return f=d()(a()().mark(function _(c){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,m.request)("/api/app/image/get-build-task",{method:"POST",data:c});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},_)})),f.apply(this,arguments)}function t(_){return o.apply(this,arguments)}function o(){return o=d()(a()().mark(function _(c){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,m.request)("/api/app/image/delete-build-task",{method:"POST",data:c});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},_)})),o.apply(this,arguments)}function u(_){return e.apply(this,arguments)}function e(){return e=d()(a()().mark(function _(c){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,m.request)("/api/app/image/image-delete",{method:"POST",data:c});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},_)})),e.apply(this,arguments)}function b(){return O.apply(this,arguments)}function O(){return O=d()(a()().mark(function _(){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,m.request)("/api/app/image/image-prune",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},_)})),O.apply(this,arguments)}function C(){return W.apply(this,arguments)}function W(){return W=d()(a()().mark(function _(){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,m.request)("/api/app/image/build-prune",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},_)})),W.apply(this,arguments)}function L(_){return R.apply(this,arguments)}function R(){return R=d()(a()().mark(function _(c){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,m.request)("/api/app/image/update-title",{method:"POST",data:c});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},_)})),R.apply(this,arguments)}function w(_){return U.apply(this,arguments)}function U(){return U=d()(a()().mark(function _(c){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/app/image/tag-sync",{method:"POST",data:c}));case 1:case"end":return r.stop()}},_)})),U.apply(this,arguments)}},75870:function(A,T,n){n.d(T,{Ot:function(){return P},ZH:function(){return y},ix:function(){return l},t1:function(){return g}});var j=n(15009),a=n.n(j),M=n(99289),d=n.n(M),m=n(82346);function P(t){return p.apply(this,arguments)}function p(){return p=d()(a()().mark(function t(o){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/common/registry/get-list",{method:"POST",data:o}));case 1:case"end":return e.stop()}},t)})),p.apply(this,arguments)}function y(t){return s.apply(this,arguments)}function s(){return s=d()(a()().mark(function t(o){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/common/registry/create",{method:"POST",data:o}));case 1:case"end":return e.stop()}},t)})),s.apply(this,arguments)}function l(t){return h.apply(this,arguments)}function h(){return h=d()(a()().mark(function t(o){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/common/registry/delete",{method:"POST",data:o}));case 1:case"end":return e.stop()}},t)})),h.apply(this,arguments)}function g(t){return f.apply(this,arguments)}function f(){return f=d()(a()().mark(function t(o){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/common/registry/get-detail",{method:"POST",data:o}));case 1:case"end":return e.stop()}},t)})),f.apply(this,arguments)}}}]);
