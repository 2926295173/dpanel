"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5947],{55809:function(y,m,e){var o=e(87462),a=e(67294),P=e(44805),u=e(84089),l=function(D,E){return a.createElement(u.Z,(0,o.Z)({},D,{ref:E,icon:P.Z}))},h=a.forwardRef(l);m.Z=h},12044:function(y,m,e){e.d(m,{j:function(){return P}});var o=e(34155),a=typeof o!="undefined"&&o.versions!=null&&o.versions.node!=null,P=function(){return typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.matchMedia!="undefined"&&!a}},1699:function(y,m,e){e.d(m,{u:function(){return W}});var o=e(9783),a=e.n(o),P=e(97857),u=e.n(P),l=e(67294),h=e(82346),O=e(40411),D=e(42075),E=e(85893),W=function(_){var f=(0,h.useAccess)(),M=Array.isArray(_.access)?_.access:[_.access],i,d=_.fallback;return typeof _.children=="function"?(i=_.children(M.reduce(function(s,v){return u()(u()({},s),{},a()({},v,f[v]))},{})),i||(i=d)):M.every(function(s){return f[s]})?i=_.children:i=d,!d&&i&&_.showProTips&&f.canSeeEnableCe&&(i=(0,E.jsx)(O.Z,{offset:_.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:i})),!d&&i&&_.showProRibbonTips&&f.canSeeEnableCe&&(i=(0,E.jsx)(O.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:i})),_.space?(0,E.jsx)(D.Z,u()(u()({},_.space),{},{children:i})):i}},24963:function(y,m,e){var o=e(67294),a=(0,o.createContext)({});m.Z=a},50070:function(y,m,e){e.r(m),e.d(m,{AppDetailContext:function(){return v},default:function(){return R}});var o=e(15009),a=e.n(o),P=e(99289),u=e.n(P),l=e(5574),h=e.n(l),O=e(1699),D=e(24963),E=e(60335),W=e(55809),b=e(90078),_=e(82346),f=e(25593),M=e(28036),i=e(50136),d=e(67294),s=e(85893),v=(0,d.createContext)({});function R(){var A,C=(0,d.useContext)(D.Z),L=C.lang,j=C.loading,r=C.message,t=(0,_.useParams)(),c=(0,_.useSearchParams)(),n=h()(c,2),G=n[0],ne=n[1],z=(A=G.get("tab"))!==null&&A!==void 0?A:"edit",J=(0,d.useState)("edit"),S=h()(J,2),V=S[0],w=S[1],U=(0,_.useNavigate)(),H=(0,d.useState)(1),x=h()(H,2),Z=x[0],Q=x[1],$=[{label:(0,s.jsx)(_.Link,{to:"/app/detail/edit/".concat(t.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,s.jsx)(_.Link,{to:"/app/detail/network/".concat(t.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,s.jsx)(f.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){r.info(L("app.detail.createExplorerPlugin")),U("/app/detail/file/".concat(t.id,"?tab=file"))}},{label:(0,s.jsx)(f.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){U("/app/detail/log/".concat(t.id,"?tab=log"))}},{label:(0,s.jsx)(f.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){U("/app/detail/stat/".concat(t.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,s.jsx)(W.Z,{}),disabled:!0}],X=(0,d.useState)($),F=h()(X,2),Y=F[0],q=F[1];(0,d.useEffect)(function(){j.show(),w(z);var T=function(){var I=u()(a()().mark(function N(){var K,k,B;return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return K=$,p.prev=1,p.next=4,(0,E.jV)({md5:(k=t.id)!==null&&k!==void 0?k:""});case 4:B=p.sent,K.map(function(g){return g.key=="containerName"&&(g.label=B.data.info.Name),(!B.data.info.State.Running||B.data.info.State.Restarting)&&(g.key=="file"||g.key=="stat")&&(g.disabled=!0),g}),q(K),p.next=13;break;case 9:return p.prev=9,p.t0=p.catch(1),U("/app/list"),p.abrupt("return");case 13:return p.prev=13,j.destroy(),p.finish(13);case 16:case"end":return p.stop()}},N,null,[[1,9,13,16]])}));return function(){return I.apply(this,arguments)}}();T()},[Z,t]);var ee=function(I){w(I.key)};return(0,s.jsx)(v.Provider,{value:{reload:function(){Q(Z+1)}},children:(0,s.jsxs)(b._z,{header:{extra:[(0,s.jsx)(O.u,{access:"canSeeContainerListManageCreate",children:(0,s.jsx)(_.Link,{to:"/app/create/image",children:(0,s.jsx)(M.ZP,{type:"primary",children:"\u521B\u5EFA\u5BB9\u5668"})})},"create")]},children:[(0,s.jsx)(i.Z,{mode:"horizontal",onClick:ee,selectedKeys:[V],items:Y}),(0,s.jsx)(_.Outlet,{})]})})}},60335:function(y,m,e){e.d(m,{IE:function(){return D},IW:function(){return h},KK:function(){return M},LJ:function(){return d},RF:function(){return A},Re:function(){return v},aF:function(){return L},eE:function(){return _},jV:function(){return W}});var o=e(15009),a=e.n(o),P=e(99289),u=e.n(P),l=e(82346);function h(r){return O.apply(this,arguments)}function O(){return O=u()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/status",{method:"POST",data:t}));case 1:case"end":return n.stop()}},r)})),O.apply(this,arguments)}function D(r){return E.apply(this,arguments)}function E(){return E=u()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/get-list",{data:t,method:"POST"}));case 1:case"end":return n.stop()}},r)})),E.apply(this,arguments)}function W(r){return b.apply(this,arguments)}function b(){return b=u()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/get-detail",{data:t,method:"POST"}));case 1:case"end":return n.stop()}},r)})),b.apply(this,arguments)}function _(r){return f.apply(this,arguments)}function f(){return f=u()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/update",{data:t,method:"POST"}));case 1:case"end":return n.stop()}},r)})),f.apply(this,arguments)}function M(){return i.apply(this,arguments)}function i(){return i=u()(a()().mark(function r(){return a()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,l.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return c.stop()}},r)})),i.apply(this,arguments)}function d(r){return s.apply(this,arguments)}function s(){return s=u()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/export",{method:"POST",data:t,responseType:"blob"}));case 1:case"end":return n.stop()}},r)})),s.apply(this,arguments)}function v(r){return R.apply(this,arguments)}function R(){return R=u()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/commit",{method:"POST",data:t}));case 1:case"end":return n.stop()}},r)})),R.apply(this,arguments)}function A(r){return C.apply(this,arguments)}function C(){return C=u()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/upgrade",{method:"POST",data:t}));case 1:case"end":return n.stop()}},r)})),C.apply(this,arguments)}function L(r){return j.apply(this,arguments)}function j(){return j=u()(a()().mark(function r(t){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/app/container/copy",{method:"POST",data:t}));case 1:case"end":return n.stop()}},r)})),j.apply(this,arguments)}}}]);
