(self.webpackChunk=self.webpackChunk||[]).push([[8878],{16596:function(p,u,e){"use strict";e.d(u,{Z:function(){return s}});var l=e(87462),a=e(67294),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},f=E,d=e(84089),r=function(n,o){return a.createElement(d.Z,(0,l.Z)({},n,{ref:o,icon:f}))},v=a.forwardRef(r),s=v},55809:function(p,u,e){"use strict";var l=e(87462),a=e(67294),E=e(44805),f=e(84089),d=function(s,m){return a.createElement(f.Z,(0,l.Z)({},s,{ref:m,icon:E.Z}))},r=a.forwardRef(d);u.Z=r},35995:function(p,u,e){"use strict";e.d(u,{Z:function(){return s}});var l=e(87462),a=e(67294),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M508 624a112 112 0 00112-112c0-3.28-.15-6.53-.43-9.74L498.26 623.57c3.21.28 6.45.43 9.74.43zm370.72-458.44L836 122.88a8 8 0 00-11.31 0L715.37 232.23Q624.91 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.7 119.43 136.55 191.45L112.56 835a8 8 0 000 11.31L155.25 889a8 8 0 0011.31 0l712.16-712.12a8 8 0 000-11.32zM332 512a176 176 0 01258.88-155.28l-48.62 48.62a112.08 112.08 0 00-140.92 140.92l-48.62 48.62A175.09 175.09 0 01332 512z"}},{tag:"path",attrs:{d:"M942.2 486.2Q889.4 375 816.51 304.85L672.37 449A176.08 176.08 0 01445 676.37L322.74 798.63Q407.82 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5z"}}]},name:"eye-invisible",theme:"filled"},f=E,d=e(84089),r=function(n,o){return a.createElement(d.Z,(0,l.Z)({},n,{ref:o,icon:f}))},v=a.forwardRef(r),s=v},95591:function(p,u,e){"use strict";e.d(u,{Z:function(){return s}});var l=e(87462),a=e(67294),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},f=E,d=e(84089),r=function(n,o){return a.createElement(d.Z,(0,l.Z)({},n,{ref:o,icon:f}))},v=a.forwardRef(r),s=v},31574:function(p,u,e){"use strict";var l=e(87462),a=e(67294),E=e(97211),f=e(84089),d=function(s,m){return a.createElement(f.Z,(0,l.Z)({},s,{ref:m,icon:E.Z}))},r=a.forwardRef(d);u.Z=r},36693:function(p,u,e){"use strict";var l=e(87462),a=e(67294),E=e(80111),f=e(84089),d=function(s,m){return a.createElement(f.Z,(0,l.Z)({},s,{ref:m,icon:E.Z}))},r=a.forwardRef(d);u.Z=r},74842:function(p,u,e){"use strict";e.d(u,{Z:function(){return s}});var l=e(87462),a=e(67294),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},f=E,d=e(84089),r=function(n,o){return a.createElement(d.Z,(0,l.Z)({},n,{ref:o,icon:f}))},v=a.forwardRef(r),s=v},60219:function(p,u,e){"use strict";e.d(u,{Z:function(){return s}});var l=e(87462),a=e(67294),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},f=E,d=e(84089),r=function(n,o){return a.createElement(d.Z,(0,l.Z)({},n,{ref:o,icon:f}))},v=a.forwardRef(r),s=v},85577:function(p,u,e){"use strict";var l=e(87462),a=e(67294),E=e(11721),f=e(84089),d=function(s,m){return a.createElement(f.Z,(0,l.Z)({},s,{ref:m,icon:E.Z}))},r=a.forwardRef(d);u.Z=r},60433:function(p,u,e){"use strict";var l=e(87462),a=e(67294),E=e(69782),f=e(84089),d=function(s,m){return a.createElement(f.Z,(0,l.Z)({},s,{ref:m,icon:E.Z}))},r=a.forwardRef(d);u.Z=r},52688:function(p,u,e){"use strict";var l=e(1413),a=e(45987),E=e(67294),f=e(35510),d=e(85893),r=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],v=E.forwardRef(function(s,m){var n=s.fieldProps,o=s.unCheckedChildren,t=s.checkedChildren,P=s.proFieldProps,i=(0,a.Z)(s,r);return(0,d.jsx)(f.Z,(0,l.Z)({valueType:"switch",fieldProps:(0,l.Z)({unCheckedChildren:o,checkedChildren:t},n),ref:m,valuePropName:"checked",proFieldProps:P,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},i))});u.Z=v},5966:function(p,u,e){"use strict";var l=e(97685),a=e(1413),E=e(45987),f=e(21770),d=e(72723),r=e(55241),v=e(97435),s=e(67294),m=e(35510),n=e(85893),o=["fieldProps","proFieldProps"],t=["fieldProps","proFieldProps"],P="text",i=function(M){var c=M.fieldProps,C=M.proFieldProps,R=(0,E.Z)(M,o);return(0,n.jsx)(m.Z,(0,a.Z)({valueType:P,fieldProps:c,filedConfig:{valueType:P},proFieldProps:C},R))},_=function(M){var c=(0,f.Z)(M.open||!1,{value:M.open,onChange:M.onOpenChange}),C=(0,l.Z)(c,2),R=C[0],T=C[1];return(0,n.jsx)(d.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(L){var h,W=L.getFieldValue(M.name||[]);return(0,n.jsx)(r.Z,(0,a.Z)((0,a.Z)({getPopupContainer:function(g){return g&&g.parentNode?g.parentNode:g},onOpenChange:function(g){return T(g)},content:(0,n.jsxs)("div",{style:{padding:"4px 0"},children:[(h=M.statusRender)===null||h===void 0?void 0:h.call(M,W),M.strengthText?(0,n.jsx)("div",{style:{marginTop:10},children:(0,n.jsx)("span",{children:M.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},M.popoverProps),{},{open:R,children:M.children}))}})},D=function(M){var c=M.fieldProps,C=M.proFieldProps,R=(0,E.Z)(M,t),T=(0,s.useState)(!1),x=(0,l.Z)(T,2),L=x[0],h=x[1];return c!=null&&c.statusRender&&R.name?(0,n.jsx)(_,{name:R.name,statusRender:c==null?void 0:c.statusRender,popoverProps:c==null?void 0:c.popoverProps,strengthText:c==null?void 0:c.strengthText,open:L,onOpenChange:h,children:(0,n.jsx)("div",{children:(0,n.jsx)(m.Z,(0,a.Z)({valueType:"password",fieldProps:(0,a.Z)((0,a.Z)({},(0,v.Z)(c,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(U){var g;c==null||(g=c.onBlur)===null||g===void 0||g.call(c,U),h(!1)},onClick:function(U){var g;c==null||(g=c.onClick)===null||g===void 0||g.call(c,U),h(!0)}}),proFieldProps:C,filedConfig:{valueType:P}},R))})}):(0,n.jsx)(m.Z,(0,a.Z)({valueType:"password",fieldProps:c,proFieldProps:C,filedConfig:{valueType:P}},R))},O=i;O.Password=D,O.displayName="ProFormComponent",u.Z=O},1699:function(p,u,e){"use strict";e.d(u,{u:function(){return n}});var l=e(9783),a=e.n(l),E=e(97857),f=e.n(E),d=e(67294),r=e(82346),v=e(40411),s=e(42075),m=e(85893),n=function(t){var P=(0,r.useAccess)(),i=Array.isArray(t.access)?t.access:[t.access],_,D=t.fallback;return typeof t.children=="function"?(_=t.children(i.reduce(function(O,A){return f()(f()({},O),{},a()({},A,P[A]))},{})),_||(_=D)):i.every(function(O){return P[O]})?_=t.children:_=D,!D&&_&&t.showProTips&&P.canSeeEnableCe&&(_=(0,m.jsx)(v.Z,{offset:t.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:_})),!D&&_&&t.showProRibbonTips&&P.canSeeEnableCe&&(_=(0,m.jsx)(v.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:_})),t.space?(0,m.jsx)(s.Z,f()(f()({},t.space),{},{children:_})):_}},80821:function(p,u,e){"use strict";e.d(u,{Z:function(){return m}});var l=e(5574),a=e.n(l),E=e(24963),f=e(86738),d=e(28036),r=e(83062),v=e(67294),s=e(85893);function m(n){var o=(0,v.useState)(!1),t=a()(o,2),P=t[0],i=t[1],_=(0,v.useContext)(E.Z),D=_.lang,O=_.notice,A=_.message,M=function(){i(!0);var C=n.action();C instanceof Promise?C.then(function(R){if(i(!1),R){typeof n.onSuccess=="function"&&n.onSuccess(R);var T="";n.messageSuccess?typeof n.messageSuccess=="function"?T=n.messageSuccess(R):T=n.messageSuccess.indexOf("notification.")==0?D(n.messageSuccess):n.messageSuccess:T=D("notification.finish"),n.asynced?A.info(T):A.success(T)}}).catch(function(R){i(!1),typeof n.onError=="function"&&n.onError(R)}):i(!1)};return n.confirm?(0,s.jsx)(f.Z,{style:{width:500},title:n.confirmTitle?n.confirmTitle:D("notification.title.tip"),description:typeof n.confirm=="string"&&n.confirm.indexOf("notification.")==0?D(n.confirm):n.confirm,onConfirm:M,okText:"Yes",cancelText:"No",onOpenChange:n.confirmOnOpenChange,children:(0,s.jsx)(d.ZP,{block:n.block,disabled:n.disabled,icon:!n.children&&P?void 0:n.icon,loading:P,danger:n.danger,type:n.type,children:n.children})}):(0,s.jsx)(r.Z,{title:n.tips,children:(0,s.jsx)(d.ZP,{block:n.block,style:n.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:n.disabled,icon:!n.children&&P?void 0:n.icon,loading:P,onClick:M,danger:n.danger,type:n.type,children:n.children})})}},24963:function(p,u,e){"use strict";var l=e(67294),a=(0,l.createContext)({});u.Z=a},29798:function(p,u,e){"use strict";e.r(u),e.d(u,{default:function(){return D}});var l=e(5574),a=e.n(l),E=e(60335),f=e(38345),d=e(82346),r=e(67294),v=e(24963),s=e(50070),m=e(37767),n=e(52031),o=e(14189),t=e(72409),P=e(14245),i=e(1699),_=e(85893);function D(){var O=(0,r.useContext)(v.Z),A=O.message,M=O.notice,c=O.loading,C=O.lang,R=(0,r.useContext)(s.AppDetailContext),T=(0,d.useParams)(),x=(0,r.useState)(),L=a()(x,2),h=L[0],W=L[1],U=(0,r.useState)(1),g=a()(U,2),F=g[0],V=g[1],S=(0,d.useNavigate)();return(0,r.useEffect)(function(){var y;c.show(),R.reload(),(0,E.jV)({md5:(y=T.id)!==null&&y!==void 0?y:""}).then(function(B){B.data&&(B.data.info.HostConfig.NetworkMode=="host"&&B.data.info.Config.ExposedPorts&&Object.keys(B.data.info.Config.ExposedPorts).map(function(j){B.data.info.NetworkSettings.Ports[j]=[{HostIp:"0.0.0.0",HostPort:j.substring(0,j.indexOf("/"))}]}),W(B.data))}).finally(function(){c.destroy()})},[F]),(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(f.Z,{direction:"column",gutter:[0,10],children:[(h==null?void 0:h.info)&&(0,_.jsx)(o.Z,{data:h.info}),(h==null?void 0:h.info)&&(0,_.jsx)(i.u,{access:["canSeeContainerListManage","canSeeContainerListManageOp"],children:(0,_.jsx)(t.Z,{data:h,checkContainerUpgrade:function(){S("/app/list")}})}),h&&(0,_.jsx)(m.Z,{data:h}),h&&(0,_.jsx)(n.Z,{data:h==null?void 0:h.info}),h&&(0,_.jsx)(P.Z,{data:h.info})]})})}},50070:function(p,u,e){"use strict";e.r(u),e.d(u,{AppDetailContext:function(){return A},default:function(){return M}});var l=e(15009),a=e.n(l),E=e(99289),f=e.n(E),d=e(5574),r=e.n(d),v=e(1699),s=e(24963),m=e(60335),n=e(55809),o=e(90078),t=e(82346),P=e(25593),i=e(28036),_=e(50136),D=e(67294),O=e(85893),A=(0,D.createContext)({});function M(){var c,C=(0,D.useContext)(s.Z),R=C.lang,T=C.loading,x=C.message,L=(0,t.useParams)(),h=(0,t.useSearchParams)(),W=r()(h,2),U=W[0],g=W[1],F=(c=U.get("tab"))!==null&&c!==void 0?c:"edit",V=(0,D.useState)("edit"),S=r()(V,2),y=S[0],B=S[1],j=(0,t.useNavigate)(),X=(0,D.useState)(1),k=r()(X,2),$=k[0],J=k[1],G=[{label:(0,O.jsx)(t.Link,{to:"/app/detail/edit/".concat(L.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,O.jsx)(t.Link,{to:"/app/detail/network/".concat(L.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,O.jsx)(P.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){x.info(R("app.detail.createExplorerPlugin")),j("/app/detail/file/".concat(L.id,"?tab=file"))}},{label:(0,O.jsx)(P.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){j("/app/detail/log/".concat(L.id,"?tab=log"))}},{label:(0,O.jsx)(P.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){j("/app/detail/stat/".concat(L.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,O.jsx)(n.Z,{}),disabled:!0}],w=(0,D.useState)(G),Q=r()(w,2),q=Q[0],ee=Q[1];(0,D.useEffect)(function(){T.show(),B(F);var K=function(){var H=f()(a()().mark(function Y(){var z,N,b;return a()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return z=G,I.prev=1,I.next=4,(0,m.jV)({md5:(N=L.id)!==null&&N!==void 0?N:""});case 4:b=I.sent,z.map(function(Z){return Z.key=="containerName"&&(Z.label=b.data.info.Name),(!b.data.info.State.Running||b.data.info.State.Restarting)&&(Z.key=="file"||Z.key=="stat")&&(Z.disabled=!0),Z}),ee(z),I.next=13;break;case 9:return I.prev=9,I.t0=I.catch(1),j("/app/list"),I.abrupt("return");case 13:return I.prev=13,T.destroy(),I.finish(13);case 16:case"end":return I.stop()}},Y,null,[[1,9,13,16]])}));return function(){return H.apply(this,arguments)}}();K()},[$,L]);var ne=function(H){B(H.key)};return(0,O.jsx)(A.Provider,{value:{reload:function(){J($+1)}},children:(0,O.jsxs)(o._z,{header:{extra:[(0,O.jsx)(v.u,{access:"canSeeContainerListManageCreate",children:(0,O.jsx)(t.Link,{to:"/app/create/image",children:(0,O.jsx)(i.ZP,{type:"primary",children:"\u521B\u5EFA\u5BB9\u5668"})})},"create")]},children:[(0,O.jsx)(_.Z,{mode:"horizontal",onClick:ne,selectedKeys:[y],items:q}),(0,O.jsx)(t.Outlet,{})]})})}},93162:function(p,u,e){var l,a,E;(function(f,d){a=[],l=d,E=typeof l=="function"?l.apply(u,a):l,E!==void 0&&(p.exports=E)})(this,function(){"use strict";function f(o,t){return typeof t=="undefined"?t={autoBom:!1}:typeof t!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}function d(o,t,P){var i=new XMLHttpRequest;i.open("GET",o),i.responseType="blob",i.onload=function(){n(i.response,t,P)},i.onerror=function(){console.error("could not download file")},i.send()}function r(o){var t=new XMLHttpRequest;t.open("HEAD",o,!1);try{t.send()}catch(P){}return 200<=t.status&&299>=t.status}function v(o){try{o.dispatchEvent(new MouseEvent("click"))}catch(P){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(t)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof e.g=="object"&&e.g.global===e.g?e.g:void 0,m=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),n=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!m?function(o,t,P){var i=s.URL||s.webkitURL,_=document.createElement("a");t=t||o.name||"download",_.download=t,_.rel="noopener",typeof o=="string"?(_.href=o,_.origin===location.origin?v(_):r(_.href)?d(o,t,P):v(_,_.target="_blank")):(_.href=i.createObjectURL(o),setTimeout(function(){i.revokeObjectURL(_.href)},4e4),setTimeout(function(){v(_)},0))}:"msSaveOrOpenBlob"in navigator?function(o,t,P){if(t=t||o.name||"download",typeof o!="string")navigator.msSaveOrOpenBlob(f(o,P),t);else if(r(o))d(o,t,P);else{var i=document.createElement("a");i.href=o,i.target="_blank",setTimeout(function(){v(i)})}}:function(o,t,P,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),typeof o=="string")return d(o,t,P);var _=o.type==="application/octet-stream",D=/constructor/i.test(s.HTMLElement)||s.safari,O=/CriOS\/[\d]+/.test(navigator.userAgent);if((O||_&&D||m)&&typeof FileReader!="undefined"){var A=new FileReader;A.onloadend=function(){var C=A.result;C=O?C:C.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=C:location=C,i=null},A.readAsDataURL(o)}else{var M=s.URL||s.webkitURL,c=M.createObjectURL(o);i?i.location=c:location.href=c,i=null,setTimeout(function(){M.revokeObjectURL(c)},4e4)}});s.saveAs=n.saveAs=n,p.exports=n})}}]);
