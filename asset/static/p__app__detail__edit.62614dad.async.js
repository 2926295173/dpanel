"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8878],{99861:function(ne,L,e){var K=e(15009),u=e.n(K),A=e(64599),o=e.n(A),f=e(99289),D=e.n(f),m=e(5574),x=e.n(m),v=e(42119),g=e(83062),E=e(67294),j=e(92754),I=e(3393),i=e(184),R=e(38345),b=e(85893),T=(0,E.forwardRef)(function(M,B){(0,E.useImperativeHandle)(B,function(){return{start:function(){return O(!0),r()},finish:function(){O(!1)}}});var p=(0,E.useState)(0),C=x()(p,2),F=C[0],s=C[1],W=(0,E.useRef)(),z=(0,E.useState)(!1),c=x()(z,2),P=c[0],O=c[1],r=function(){var Z=D()(u()().mark(function $(){var N,H,k,ae,w,y,ce;return u()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:H=0,k=o()(M.image),U.prev=2,k.s();case 4:if((ae=k.n()).done){U.next=14;break}return y=ae.value,s(H),(w=W.current)===null||w===void 0||w.setStart(y),U.next=10,(0,I.Gb)({tag:y,type:"pull"});case 10:ce=U.sent,H++;case 12:U.next=4;break;case 14:U.next=19;break;case 16:U.prev=16,U.t0=U.catch(2),k.e(U.t0);case 19:return U.prev=19,k.f(),U.finish(19);case 22:(N=W.current)===null||N===void 0||N.setFinish(),s(H);case 24:case"end":return U.stop()}},$,null,[[2,16,19,22]])}));return function(){return Z.apply(this,arguments)}}();return(0,b.jsxs)(i.a,{trigger:M.trigger,width:800,open:P,submitter:!1,title:"\u4E00\u952E\u62C9\u53D6\u955C\u50CF",onOpenChange:function(){var Z=D()(u()().mark(function $(N){return u()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:O(N),N&&M.trigger&&r();case 2:case"end":return k.stop()}},$)}));return function($){return Z.apply(this,arguments)}}(),drawerProps:{forceRender:!0},children:[(0,b.jsx)(R.Z,{children:(0,b.jsx)(v.Z,{current:F,items:M.image.map(function(Z,$){return{title:(0,b.jsx)(g.Z,{title:Z,children:Z.length>15?Z.substring(0,6)+" ... "+Z.substring(Z.length-6):Z}),key:$}})})}),(0,b.jsx)(R.Z,{children:(0,b.jsx)(j.Z,{ref:W})})]})});L.Z=T},75516:function(ne,L,e){e.d(L,{Z:function(){return E}});var K=e(89035),u=e(37476),A=e(38345),o=e(97462),f=e(62370),D=e(28036),m=e(63490),x=e(78045),v=e(57165),g=e(85893);function E(j){return(0,g.jsx)(u.Y,{trigger:(0,g.jsx)(D.ZP,{type:"dashed",icon:(0,g.jsx)(K.Z,{}),children:"Console"}),submitter:!1,children:(0,g.jsxs)(A.Z,{children:[(0,g.jsx)(o.Z,{name:["entryCmd"],children:function(i){var R=i.entryCmd,b=R?"/bin/"+R:"/bin/sh";return(0,g.jsx)(m.Z,{columns:[{title:"\u5BB9\u5668\u540D\u79F0",key:"name",dataIndex:"name",ellipsis:!0},{title:"\u5DE5\u4F5C\u76EE\u5F55",key:"workDir",dataIndex:"workDir"},{title:"\u72B6\u6001",key:"status",dataIndex:"status",width:150},{title:"\u64CD\u4F5C",key:"status",width:150,render:function(M,B,p){return(0,g.jsx)(v.Z,{container:j.container.Id,query:{cmd:encodeURIComponent(b),workDir:encodeURIComponent(j.workDir?j.workDir:j.container.Config.WorkingDir)}})}}],dataSource:[{key:1,name:j.container.Id,status:j.container.State.Status,workDir:j.workDir?j.workDir:j.container.Config.WorkingDir}],rowKey:"key",pagination:!1})}}),(0,g.jsx)(f.Z,{name:"entryCmd",label:"Shell\u73AF\u5883\uFF08\u4EC5\u505A\u9ED8\u8BA4\u73AF\u5883\uFF0C\u767B\u5F55\u540E\u53EF\u5207\u6362\u81F3\u5176\u4ED6\u73AF\u5883\uFF09",style:{marginTop:15},initialValue:"sh",children:(0,g.jsxs)(x.ZP.Group,{children:[(0,g.jsx)(x.ZP,{value:"bash",children:"/bin/bash"}),(0,g.jsx)(x.ZP,{value:"sh",children:"/bin/sh"})]})})]})})}},92754:function(ne,L,e){var K=e(5574),u=e.n(K),A=e(67294),o=e(63713),f=e(38703),D=e(85893),m=(0,A.forwardRef)(function(x,v){var g=(0,A.useState)(""),E=u()(g,2),j=E[0],I=E[1];(0,A.useImperativeHandle)(v,function(){return{setFinish:function(){M({finish:{downloading:100,extracting:100}})},setStart:function(p){p&&I(p),M({start:{downloading:0,extracting:0}})}}});var i=(0,o.useModel)("subscriber");i.addDataHandler("image:pull:"+j,function(B){M(B.data)});var R=(0,A.useState)(),b=u()(R,2),T=b[0],M=b[1];return(0,A.useEffect)(function(){M({start:{downloading:0,extracting:0}})},[]),(0,D.jsx)(D.Fragment,{children:T&&Object.keys(T).map(function(B){return(0,D.jsx)(f.Z,{percent:T[B].downloading,success:{percent:T[B].extracting}},B)})})});L.Z=m},19440:function(ne,L,e){e.r(L),e.d(L,{default:function(){return Ae}});var K=e(15009),u=e.n(K),A=e(99289),o=e.n(A),f=e(5574),D=e.n(f),m=e(80821),x=e(62597),v=e(60335),g=e(43425),E=e(74842),j=e(87784),I=e(33160),i=e(30159),R=e(58638),b=e(60219),T=e(86548),M=e(57132),B=e(50888),p=e(16596),C=e(60433),F=e(38345),s=e(97269),W=e(62370),z=e(24739),c=e(5966),P=e(63713),O=e(42075),r=e(96074),Z=e(25593),$=e(84567),N=e(65233),H=e(28036),k=e(85418),ae=e(40411),w=e(26412),y=e(67294),ce=e(93162),me=e(75516),U=e(28031),Oe=e(85576),Fe=e(63490),J=e(37476),_e=e(2831),a=e(85893);function pe(le){var xe=Oe.Z.useModal(),Be=D()(xe,2),oe=Be[0],he=Be[1],be=(0,y.useState)(),ge=D()(be,2),Re=ge[0],Ee=ge[1],n=(0,y.useRef)(),je="";return(0,y.useEffect)(function(){var re,Y;(0,_e.aF)().then(function(V){Ee(V.data.dpanel.containerInfo)}),je=(re=localStorage.getItem("backupPath"))!==null&&re!==void 0?re:"",(Y=n.current)===null||Y===void 0||Y.setFieldValue("backupPath",je)},[]),(0,a.jsxs)(a.Fragment,{children:[he,(0,a.jsx)(J.Y,{modalProps:{forceRender:!0},formRef:n,title:"\u5907\u4EFD\u5BB9\u5668\u5B58\u50A8\u5377",trigger:(0,a.jsxs)(H.ZP,{children:[(0,a.jsx)(b.Z,{})," \u5907\u4EFD\u5B58\u50A8\u76EE\u5F55"]}),onFinish:function(){var re=o()(u()().mark(function Y(V){var ee,te;return u()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return V.backupPath&&localStorage.setItem("backupPath",V.backupPath),ee={containerMd5:le.container.Id,backupPath:V.backupPath},G.next=4,(0,U.vp)(ee);case 4:return te=G.sent,oe.info({title:"\u6B63\u5728\u5907\u4EFD\u5B58\u50A8\u4E2D",content:(0,a.jsx)(F.Z,{ghost:!0,style:{paddingTop:30},children:(0,a.jsx)(Fe.Z,{columns:[{title:"\u5907\u4EFD\u6587\u4EF6",key:"backup",dataIndex:"backup",width:300,render:function(Ie,ue,Te){return(0,a.jsx)(Z.Z.Paragraph,{ellipsis:{rows:5,expandable:!0},children:ue.backupTar})}},{title:"\u5907\u4EFD\u76EE\u5F55",key:"pathList",dataIndex:"pathList",render:function(Ie,ue,Te){return ue.pathList.map(function(Ce,de){return(0,a.jsx)("div",{children:Ce},de)})}}],dataSource:[{key:1,backupTar:te.data.backupTar,pathList:te.data.pathList}],rowKey:"key",pagination:!1})}),closable:!0,width:800}),G.abrupt("return",!0);case 7:case"end":return G.stop()}},Y)}));return function(Y){return re.apply(this,arguments)}}(),children:(0,a.jsx)(c.Z,{label:"\u6307\u5B9A\u5BBF\u4E3B\u673A\u76EE\u5F55",tooltip:"\u8BF7\u586B\u5199\u5BBF\u4E3B\u673A\u76EE\u5F55\uFF0C\u4E0D\u5B58\u65F6\u4F1A\u65B0\u5EFA",name:"backupPath",placeholder:"/home/backup",initialValue:"/home/backup"})})]})}var fe=e(24963),ie=e(50070),ye=e(99861),X=e(3393),q=e(94359),Me=e(37767),Ze=e(52031);function Ae(){var le=(0,y.useContext)(fe.Z),xe=le.message,Be=le.notice,oe=le.loading,he=le.lang,be=(0,y.useContext)(ie.AppDetailContext),ge=(0,P.useParams)(),Re=(0,y.useState)(),Ee=D()(Re,2),n=Ee[0],je=Ee[1],re=(0,y.useState)(1),Y=D()(re,2),V=Y[0],ee=Y[1],te=(0,P.useNavigate)(),Pe=(0,y.useRef)(),G=(0,y.useRef)(),De=(0,y.useRef)(),Ie=(0,y.useRef)(),ue=(0,y.useRef)(),Te=(0,y.useState)(0),Ce=D()(Te,2),de=Ce[0],Q=Ce[1];return(0,y.useEffect)(function(){var d;oe.show(),be.reload(),(0,v.jV)({md5:(d=ge.id)!==null&&d!==void 0?d:""}).then(function(t){if(t.data){var _;if(t.data.info.HostConfig.NetworkMode=="host"&&t.data.info.Config.ExposedPorts&&Object.keys(t.data.info.Config.ExposedPorts).map(function(l){t.data.info.NetworkSettings.Ports[l]=[{HostIp:"0.0.0.0",HostPort:l.substring(0,l.indexOf("/"))}]}),je(t.data),t.data.ignore){if(t.data.ignore.indexOf("".concat(t.data.info.Name,"@*"))>-1){Q(-2);return}if(t.data.ignore.indexOf("".concat(t.data.info.Name,"@").concat(t.data.info.Image))>-1){Q(-2);return}}(0,X.ZQ)({tag:(_=t.data.info.Config.Image)!==null&&_!==void 0?_:"",md5:t.data.info.Image,cacheTime:3600}).then(function(l){l.data.digestLocal&&l.data.digestLocal.length>0?Q(l.data.upgrade?1:2):Q(-2)}).catch(function(l){Q(-1)})}}).finally(function(){oe.destroy()})},[V]),(0,a.jsxs)(a.Fragment,{children:[n&&(0,a.jsx)(ye.Z,{image:[n.info.Config.Image],ref:ue}),(0,a.jsxs)(F.Z,{direction:"column",gutter:[0,10],children:[(0,a.jsx)(F.Z,{title:(0,a.jsx)(g.Z,{}),subTitle:(0,a.jsxs)(O.Z,{children:["\u72B6\u6001\u7BA1\u7406 - ",n&&(0,a.jsx)(q.Z,{status:n.info.State.Status,message:{content:n.info.State.Status,placement:"top"}})]}),children:(0,a.jsxs)(O.Z,{wrap:!0,children:[(0,a.jsx)(m.Z,{icon:(0,a.jsx)(E.Z,{}),action:function(){var t;return(0,v.IW)({md5:(t=n==null?void 0:n.info.Id)!==null&&t!==void 0?t:"",operate:"start"})},onSuccess:function(){return ee(V+1)},disabled:n&&n.info.State.Running||n&&n.info.State.Paused,children:"\u542F\u52A8"}),(0,a.jsx)(m.Z,{action:function(){var t;return(0,v.IW)({md5:(t=n==null?void 0:n.info.Id)!==null&&t!==void 0?t:"",operate:"stop"})},icon:(0,a.jsx)(j.Z,{}),onSuccess:function(){return ee(V+1)},disabled:n&&n.info.State.Dead,children:"\u505C\u6B62"}),(0,a.jsx)(m.Z,{action:function(){var t;return(0,v.IW)({md5:(t=n==null?void 0:n.info.Id)!==null&&t!==void 0?t:"",operate:"restart"})},onSuccess:function(){return ee(V+1)},icon:(0,a.jsx)(I.Z,{}),children:"\u91CD\u542F"}),(0,a.jsx)(m.Z,{action:function(){var t;return(0,v.IW)({md5:(t=n==null?void 0:n.info.Id)!==null&&t!==void 0?t:"",operate:"pause"})},onSuccess:function(){return ee(V+1)},icon:(0,a.jsx)(i.Z,{}),disabled:n&&n.info&&!n.info.State.Running,children:"\u6682\u505C"}),(0,a.jsx)(m.Z,{action:function(){var t;return(0,v.IW)({md5:(t=n==null?void 0:n.info.Id)!==null&&t!==void 0?t:"",operate:"unpause"})},onSuccess:function(){return ee(V+1)},icon:(0,a.jsx)(E.Z,{}),disabled:n&&n.info&&!n.info.State.Paused,children:"\u6062\u590D"}),(0,a.jsx)(r.Z,{type:"vertical"}),n&&(0,a.jsx)(me.Z,{container:n.info}),(0,a.jsx)(r.Z,{type:"vertical"}),n&&(!n.info.Config.Labels||!n.info.Config.Labels["com.docker.compose.project"])&&(0,a.jsx)(m.Z,{action:function(){var t,_,l,S,h;return(0,x.Ct)({md5:(t=n==null?void 0:n.info.Id)!==null&&t!==void 0?t:"",deleteImage:(_=(l=Pe.current)===null||l===void 0?void 0:l.getFieldValue("deleteImage"))!==null&&_!==void 0?_:!1,deleteVolume:(S=(h=Pe.current)===null||h===void 0?void 0:h.getFieldValue("deleteVolume"))!==null&&S!==void 0?S:!1})},danger:!0,type:"primary",icon:(0,a.jsx)(j.Z,{}),onSuccess:function(){return te("/app/list")},confirm:(0,a.jsxs)(O.Z,{style:{width:200},direction:"vertical",children:[(0,a.jsx)(Z.Z.Text,{children:he("notification.confirm.title")}),(0,a.jsxs)(s.A,{formRef:Pe,layout:"inline",submitter:!1,children:[(0,a.jsx)(W.Z,{name:"deleteVolume",valuePropName:"checked",children:(0,a.jsx)($.Z,{children:"\u5220\u9664\u5B58\u50A8\uFF1F"})}),(0,a.jsx)(W.Z,{name:"deleteImage",valuePropName:"checked",children:(0,a.jsx)($.Z,{children:"\u5220\u9664\u955C\u50CF\uFF1F"})})]})]}),children:"\u5220\u9664"})]})}),(0,a.jsx)(F.Z,{title:(0,a.jsx)(g.Z,{}),subTitle:"\u5BB9\u5668\u7BA1\u7406",children:(0,a.jsxs)(O.Z,{wrap:!0,children:[(0,a.jsx)(m.Z,{icon:(0,a.jsx)(R.Z,{}),action:function(){var t;return(0,v.LJ)({md5:(t=n==null?void 0:n.info.Id)!==null&&t!==void 0?t:""})},confirm:"\u5BFC\u51FA\u5BB9\u5668 Tar \u5305\u4E0D\u5305\u542B\u6302\u8F7D\u76EE\u5F55\u7684\u6570\u636E\uFF0C\u786E\u5B9A\u5417\uFF1F",onSuccess:function(t){var _=new Blob([t],{type:"application/tar"});(0,ce.saveAs)(_,(n==null?void 0:n.info.Id)+".tar")},children:"\u5BFC\u51FA\u5BB9\u5668"}),(0,a.jsx)(m.Z,{icon:(0,a.jsx)(b.Z,{}),action:o()(u()().mark(function d(){var t,_,l;return u()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,v.Re)({md5:(t=n==null?void 0:n.info.Id)!==null&&t!==void 0?t:"",name:(_=(l=G.current)===null||l===void 0?void 0:l.getFieldValue("saveImageName"))!==null&&_!==void 0?_:n==null?void 0:n.info.Name});case 2:case"end":return h.stop()}},d)})),confirmTitle:"\u5C06\u5F53\u524D\u5BB9\u5668\u4FDD\u5B58\u4E3A\u955C\u50CF",confirm:(0,a.jsx)(O.Z,{style:{width:400,marginTop:"10px",paddingRight:"10px"},direction:"vertical",children:(0,a.jsx)(s.A,{formRef:G,submitter:!1,children:(0,a.jsx)(W.Z,{name:"saveImageName",children:(0,a.jsx)(N.Z,{addonBefore:"\u955C\u50CF\u540D\u79F0"})})})}),children:"\u53E6\u5B58\u4E3A\u955C\u50CF"}),n&&(0,a.jsx)(pe,{container:n.info}),(0,a.jsx)(m.Z,{icon:(0,a.jsx)(b.Z,{}),action:o()(u()().mark(function d(){var t,_,l;return u()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,v.Re)({md5:(t=n==null?void 0:n.info.Id)!==null&&t!==void 0?t:"",name:(_=(l=G.current)===null||l===void 0?void 0:l.getFieldValue("saveImageName"))!==null&&_!==void 0?_:n==null?void 0:n.info.Name});case 2:case"end":return h.stop()}},d)})),confirmTitle:"\u5FEB\u7167\u5F53\u524D\u7684\u5BB9\u5668",confirm:(0,a.jsx)(O.Z,{style:{width:400,marginTop:"10px",paddingRight:"10px"},direction:"vertical",children:(0,a.jsxs)(s.A,{formRef:G,submitter:!1,children:[(0,a.jsxs)(z.UW,{children:[(0,a.jsx)(W.Z,{valuePropName:"checked",name:"containerParams",initialValue:!0,children:(0,a.jsx)($.Z,{children:"\u521B\u5EFA\u914D\u7F6E"})}),(0,a.jsx)(W.Z,{name:"containerImage",valuePropName:"checked",children:(0,a.jsx)($.Z,{children:"\u5BB9\u5668\u955C\u50CF"})}),(0,a.jsx)(W.Z,{name:"containerVolume",valuePropName:"checked",initialValue:!0,children:(0,a.jsx)($.Z,{children:"\u6302\u8F7D\u76EE\u5F55"})})]}),(0,a.jsx)(c.Z,{label:"\u5907\u4EFD\u8DEF\u5F84",placeholder:"\u6307\u5B9A\u5BBF\u4E3B\u673A\u7684\u8DEF\u5F84"})]})}),children:"\u5BB9\u5668\u5FEB\u7167"}),(0,a.jsx)(r.Z,{type:"vertical"}),(0,a.jsx)(P.Link,{to:"/app/create/image?containerId=".concat(n==null?void 0:n.info.Id,"&op=update"),children:(0,a.jsx)(H.ZP,{type:"primary",icon:(0,a.jsx)(T.Z,{}),children:"\u7F16\u8F91\u5BB9\u5668"})}),(0,a.jsx)(m.Z,{icon:(0,a.jsx)(M.Z,{}),action:o()(u()().mark(function d(){var t,_,l;return u()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,v.aF)({md5:(t=n==null?void 0:n.info.Id)!==null&&t!==void 0?t:"",copyName:(_=(l=De.current)===null||l===void 0?void 0:l.getFieldValue("copyName"))!==null&&_!==void 0?_:""});case 2:return h.abrupt("return",h.sent);case 3:case"end":return h.stop()}},d)})),confirm:(0,a.jsxs)(O.Z,{style:{width:400,paddingRight:"10px"},direction:"vertical",children:[(0,a.jsx)(Z.Z.Text,{children:"\u590D\u5236\u51FA\u7684\u5BB9\u5668\u4E0E\u5F53\u524D\u5BB9\u5668\u5177\u6709\u76F8\u540C\u7684\u914D\u7F6E\uFF0C\u8BF7\u4E8C\u6B21\u7F16\u8F91\u540E\u542F\u52A8\u5BB9\u5668\u3002\u786E\u5B9A\u5417\uFF1F"}),(0,a.jsx)(s.A,{formRef:De,submitter:!1,children:(0,a.jsx)(W.Z,{name:"copyName",children:(0,a.jsx)(N.Z,{addonBefore:"\u590D\u5236\u5BB9\u5668\u540D\u79F0"})})})]}),onSuccess:function(t){te("/app/list")},children:"\u590D\u5236\u5BB9\u5668"}),(0,a.jsx)(k.Z,{placement:"bottomLeft",menu:{items:[{key:"1",label:(0,a.jsx)(m.Z,{action:o()(u()().mark(function d(){var t,_,l;return u()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,x.ze)({md5:(t=n==null?void 0:n.info.Name)!==null&&t!==void 0?t:"",imageId:""});case 2:return Q(0),h.next=5,(0,X.ZQ)({tag:(_=n==null?void 0:n.info.Config.Image)!==null&&_!==void 0?_:"",md5:(l=n==null?void 0:n.info.Image)!==null&&l!==void 0?l:"",cacheTime:0}).then(function(ve){ve.data.digestLocal&&ve.data.digestLocal.length>0?Q(ve.data.upgrade?1:2):Q(-2)}).catch(function(ve){Q(-1)});case 5:return h.abrupt("return",h.sent);case 6:case"end":return h.stop()}},d)})),type:"link",children:"\u81EA\u52A8\u68C0\u6D4B"})},{key:"2",label:(0,a.jsx)(m.Z,{action:o()(u()().mark(function d(){var t,_;return u()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,x.ze)({md5:(t=n==null?void 0:n.info.Name)!==null&&t!==void 0?t:"",imageId:(_=n==null?void 0:n.info.Image)!==null&&_!==void 0?_:""});case 2:return S.abrupt("return",S.sent);case 3:case"end":return S.stop()}},d)})),type:"link",children:"\u5FFD\u7565\u672C\u6B21"})},{key:"3",label:(0,a.jsx)(m.Z,{action:o()(u()().mark(function d(){var t;return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,x.ze)({md5:(t=n==null?void 0:n.info.Name)!==null&&t!==void 0?t:"",imageId:"*"});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},d)})),type:"link",children:"\u6C38\u4E45\u5FFD\u7565"})}]},children:(0,a.jsx)(ae.Z,{count:he("app.detail.checkImageUpgrade."+de),color:he("app.detail.checkImageUpgradeColor."+de),children:(0,a.jsx)(m.Z,{disabled:de===0,icon:de===0?(0,a.jsx)(B.Z,{}):(0,a.jsx)(p.Z,{}),action:o()(u()().mark(function d(){var t,_,l,S,h;return u()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,(t=ue.current)===null||t===void 0?void 0:t.start();case 2:return oe.show(),(_=ue.current)===null||_===void 0||_.finish(),se.next=6,(0,v.RF)({md5:(l=n==null?void 0:n.info.Id)!==null&&l!==void 0?l:"",imageTag:"",enableBak:(S=(h=Ie.current)===null||h===void 0?void 0:h.getFieldValue("enableBak"))!==null&&S!==void 0?S:!0});case 6:return se.abrupt("return",se.sent);case 7:case"end":return se.stop()}},d)})),confirm:(0,a.jsxs)(O.Z,{style:{width:280,paddingRight:"10px"},direction:"vertical",children:[(0,a.jsx)(Z.Z.Text,{children:"\u66F4\u65B0\u5BB9\u5668\u524D\u8BF7\u786E\u4FDD\u8FDC\u7A0B Docker \u7248\u672C\u4E0E\u9762\u677F\u73AF\u5883\u4E00\u81F4\u3002\u6B64\u64CD\u4F5C\u5C06\u4F1A\u91CD\u65B0\u62C9\u53D6\u955C\u50CF\u5E76\u91CD\u5EFA\u5BB9\u5668\u3002\u786E\u5B9A\u5417\uFF1F"}),(0,a.jsx)(s.A,{formRef:Ie,submitter:!1,layout:"inline",children:(0,a.jsx)(W.Z,{name:"enableBak",initialValue:!0,valuePropName:"checked",children:(0,a.jsx)($.Z,{children:"\u5907\u4EFD\u65E7\u5BB9\u5668\uFF1F"})})})]}),onSuccess:function(t){oe.destroy(),te("/app/list")},children:"\u5FEB\u901F\u5347\u7EA7\u5BB9\u5668"})})}),(0,a.jsx)(r.Z,{type:"vertical"})]})}),n&&(0,a.jsx)(Me.Z,{data:n}),(0,a.jsx)(Ze.Z,{data:n==null?void 0:n.info}),(0,a.jsx)(F.Z,{title:(0,a.jsx)(C.Z,{}),subTitle:"\u955C\u50CF\u8BE6\u60C5",children:(0,a.jsxs)(w.Z,{labelStyle:{width:"200px"},column:1,bordered:!0,children:[(0,a.jsx)(w.Z.Item,{label:"Image Tag",children:(0,a.jsx)(P.Link,{target:"_blank",to:"/image/detail/"+(n==null?void 0:n.info.Image),children:n==null?void 0:n.info.Config.Image})}),(0,a.jsx)(w.Z.Item,{label:"Image",children:n==null?void 0:n.info.Image}),(0,a.jsx)(w.Z.Item,{label:"CMD",children:(n==null?void 0:n.info.Config.Cmd)&&(n==null?void 0:n.info.Config.Cmd.join(" "))}),(0,a.jsx)(w.Z.Item,{label:"ENTRYPOINT",children:n==null?void 0:n.info.Config.Entrypoint}),(0,a.jsx)(w.Z.Item,{label:"Labels",children:(0,a.jsx)(w.Z,{column:1,bordered:!0,children:n&&Object.keys(n.info.Config.Labels).map(function(d){return(0,a.jsx)(w.Z.Item,{label:d,children:(0,a.jsx)(Z.Z.Text,{style:{width:"400px"},ellipsis:{tooltip:n.info.Config.Labels[d]},children:n.info.Config.Labels[d]})},d)})})})]})})]})]})}},50070:function(ne,L,e){e.r(L),e.d(L,{AppDetailContext:function(){return R},default:function(){return b}});var K=e(15009),u=e.n(K),A=e(99289),o=e.n(A),f=e(5574),D=e.n(f),m=e(24963),x=e(60335),v=e(55809),g=e(63713),E=e(25593),j=e(50136),I=e(67294),i=e(85893),R=(0,I.createContext)({});function b(){var T,M=(0,I.useContext)(m.Z),B=M.lang,p=M.loading,C=M.message,F=(0,g.useParams)(),s=(0,g.useSearchParams)(),W=D()(s,2),z=W[0],c=W[1],P=(T=z.get("tab"))!==null&&T!==void 0?T:"edit",O=(0,I.useState)("edit"),r=D()(O,2),Z=r[0],$=r[1],N=(0,g.useNavigate)(),H=(0,I.useState)(1),k=D()(H,2),ae=k[0],w=k[1],y=[{label:(0,i.jsx)(g.Link,{to:"/app/detail/edit/".concat(F.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,i.jsx)(g.Link,{to:"/app/detail/network/".concat(F.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,i.jsx)(E.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){C.info(B("app.detail.createExplorerPlugin")),N("/app/detail/file/".concat(F.id,"?tab=file"))}},{label:(0,i.jsx)(E.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){N("/app/detail/log/".concat(F.id,"?tab=log"))}},{label:(0,i.jsx)(E.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){N("/app/detail/stat/".concat(F.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,i.jsx)(v.Z,{}),disabled:!0}],ce=(0,I.useState)(y),me=D()(ce,2),U=me[0],Oe=me[1];(0,I.useEffect)(function(){p.show(),$(P);var J=function(){var _e=o()(u()().mark(function a(){var pe,fe,ie;return u()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return fe=y,X.next=3,(0,x.jV)({md5:(pe=F.id)!==null&&pe!==void 0?pe:""});case 3:ie=X.sent,fe.map(function(q){return q.key=="containerName"&&(q.label=ie.data.info.Name),(!ie.data.info.State.Running||ie.data.info.State.Restarting)&&(q.key=="file"||q.key=="stat")&&(q.disabled=!0),q}),Oe(fe),p.destroy();case 7:case"end":return X.stop()}},a)}));return function(){return _e.apply(this,arguments)}}();J()},[ae]);var Fe=function(_e){$(_e.key)};return(0,i.jsxs)(R.Provider,{value:{reload:function(){w(ae+1)}},children:[(0,i.jsx)(j.Z,{mode:"horizontal",onClick:Fe,selectedKeys:[Z],items:U}),(0,i.jsx)(g.Outlet,{})]})}},28031:function(ne,L,e){e.d(L,{C4:function(){return M},LK:function(){return b},OQ:function(){return p},V9:function(){return D},Yx:function(){return j},ZU:function(){return g},_U:function(){return x},gb:function(){return i},lE:function(){return W},vp:function(){return F}});var K=e(15009),u=e.n(K),A=e(99289),o=e.n(A),f=e(63713);function D(c){return m.apply(this,arguments)}function m(){return m=o()(u()().mark(function c(P){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.request)("/api/app/explorer/get-path-list",{data:P,method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},c)})),m.apply(this,arguments)}function x(c){return v.apply(this,arguments)}function v(){return v=o()(u()().mark(function c(P){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.request)("/api/app/explorer/export",{data:P,method:"POST",responseType:"blob"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},c)})),v.apply(this,arguments)}function g(c){return E.apply(this,arguments)}function E(){return E=o()(u()().mark(function c(P){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.request)("/api/app/explorer/import",{data:P,method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},c)})),E.apply(this,arguments)}function j(c){return I.apply(this,arguments)}function I(){return I=o()(u()().mark(function c(P){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.request)("/api/app/explorer/delete",{data:P,method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},c)})),I.apply(this,arguments)}function i(c){return R.apply(this,arguments)}function R(){return R=o()(u()().mark(function c(P){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.request)("/api/app/explorer/unzip",{data:P,method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},c)})),R.apply(this,arguments)}function b(c){return T.apply(this,arguments)}function T(){return T=o()(u()().mark(function c(P){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.request)("/api/app/explorer/get-content",{data:P,method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},c)})),T.apply(this,arguments)}function M(c){return B.apply(this,arguments)}function B(){return B=o()(u()().mark(function c(P){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.request)("/api/app/explorer/import-file-content",{data:P,method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},c)})),B.apply(this,arguments)}function p(c){return C.apply(this,arguments)}function C(){return C=o()(u()().mark(function c(P){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.request)("/api/app/explorer/chmod",{data:P,method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},c)})),C.apply(this,arguments)}function F(c){return s.apply(this,arguments)}function s(){return s=o()(u()().mark(function c(P){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.request)("/api/app/volume/backup",{data:P,method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},c)})),s.apply(this,arguments)}function W(c){return z.apply(this,arguments)}function z(){return z=o()(u()().mark(function c(P){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.request)("/api/app/explorer/get-passwd",{data:P,method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},c)})),z.apply(this,arguments)}},2831:function(ne,L,e){e.d(L,{Ll:function(){return x},aF:function(){return D},d6:function(){return g}});var K=e(15009),u=e.n(K),A=e(99289),o=e.n(A),f=e(63713);function D(){return m.apply(this,arguments)}function m(){return m=o()(u()().mark(function j(){return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,f.request)("/api/common/home/info",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},j)})),m.apply(this,arguments)}function x(){return v.apply(this,arguments)}function v(){return v=o()(u()().mark(function j(){return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,f.request)("/api/common/home/usage",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},j)})),v.apply(this,arguments)}function g(){return E.apply(this,arguments)}function E(){return E=o()(u()().mark(function j(){return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,f.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},j)})),E.apply(this,arguments)}},3393:function(ne,L,e){e.d(L,{Gb:function(){return x},Pn:function(){return j},Rb:function(){return i},YU:function(){return D},ZQ:function(){return M},_U:function(){return g},cd:function(){return b}});var K=e(15009),u=e.n(K),A=e(99289),o=e.n(A),f=e(63713);function D(p){return m.apply(this,arguments)}function m(){return m=o()(u()().mark(function p(C){return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,f.request)("/api/app/image/get-detail",{method:"POST",data:C}));case 1:case"end":return s.stop()}},p)})),m.apply(this,arguments)}function x(p){return v.apply(this,arguments)}function v(){return v=o()(u()().mark(function p(C){return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,f.request)("/api/app/image/tag-remote",{method:"POST",data:C}));case 1:case"end":return s.stop()}},p)})),v.apply(this,arguments)}function g(p){return E.apply(this,arguments)}function E(){return E=o()(u()().mark(function p(C){return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,f.request)("/api/app/image/tag-add",{method:"POST",data:C}));case 1:case"end":return s.stop()}},p)})),E.apply(this,arguments)}function j(p){return I.apply(this,arguments)}function I(){return I=o()(u()().mark(function p(C){return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,f.request)("/api/app/image/tag-delete",{method:"POST",data:C}));case 1:case"end":return s.stop()}},p)})),I.apply(this,arguments)}function i(p){return R.apply(this,arguments)}function R(){return R=o()(u()().mark(function p(C){return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,f.request)("/api/app/image/export",{method:"POST",data:C,responseType:"blob"}));case 1:case"end":return s.stop()}},p)})),R.apply(this,arguments)}function b(p){return T.apply(this,arguments)}function T(){return T=o()(u()().mark(function p(C){return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,f.request)("/api/pro/image/get-remote-tag",{method:"POST",data:C}));case 1:case"end":return s.stop()}},p)})),T.apply(this,arguments)}function M(p){return B.apply(this,arguments)}function B(){return B=o()(u()().mark(function p(C){return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,f.request)("/api/app/image/check-upgrade",{method:"POST",data:C}));case 1:case"end":return s.stop()}},p)})),B.apply(this,arguments)}}}]);
