"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4037],{12119:function(Y,b,e){e.d(b,{Z:function(){return j}});var r=e(87462),f=e(67294),T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M608 112c-167.9 0-304 136.1-304 304 0 70.3 23.9 135 63.9 186.5l-41.1 41.1-62.3-62.3a8.15 8.15 0 00-11.4 0l-39.8 39.8a8.15 8.15 0 000 11.4l62.3 62.3-44.9 44.9-62.3-62.3a8.15 8.15 0 00-11.4 0l-39.8 39.8a8.15 8.15 0 000 11.4l62.3 62.3-65.3 65.3a8.03 8.03 0 000 11.3l42.3 42.3c3.1 3.1 8.2 3.1 11.3 0l253.6-253.6A304.06 304.06 0 00608 720c167.9 0 304-136.1 304-304S775.9 112 608 112zm161.2 465.2C726.2 620.3 668.9 644 608 644c-60.9 0-118.2-23.7-161.2-66.8-43.1-43-66.8-100.3-66.8-161.2 0-60.9 23.7-118.2 66.8-161.2 43-43.1 100.3-66.8 161.2-66.8 60.9 0 118.2 23.7 161.2 66.8 43.1 43 66.8 100.3 66.8 161.2 0 60.9-23.7 118.2-66.8 161.2z"}}]},name:"key",theme:"outlined"},C=T,y=e(84089),E=function(N,I){return f.createElement(y.Z,(0,r.Z)({},N,{ref:I,icon:C}))},h=f.forwardRef(E),j=h},63434:function(Y,b,e){var r=e(1413),f=e(45987),T=e(22270),C=e(84567),y=e(67294),E=e(90789),h=e(35510),j=e(85893),A=["options","fieldProps","proFieldProps","valueEnum"],N=y.forwardRef(function(c,Z){var K=c.options,M=c.fieldProps,H=c.proFieldProps,V=c.valueEnum,R=(0,f.Z)(c,A);return(0,j.jsx)(h.Z,(0,r.Z)({ref:Z,valueType:"checkbox",valueEnum:(0,T.h)(V,void 0),fieldProps:(0,r.Z)({options:K},M),lightProps:(0,r.Z)({labelFormatter:function(){return(0,j.jsx)(h.Z,(0,r.Z)({ref:Z,valueType:"checkbox",mode:"read",valueEnum:(0,T.h)(V,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,r.Z)({options:K},M),proFieldProps:H},R))}},R.lightProps),proFieldProps:H},R))}),I=y.forwardRef(function(c,Z){var K=c.fieldProps,M=c.children;return(0,j.jsx)(C.Z,(0,r.Z)((0,r.Z)({ref:Z},K),{},{children:M}))}),$=(0,E.G)(I,{valuePropName:"checked"}),w=$;w.Group=N,b.Z=w},66139:function(Y,b,e){e.r(b),e.d(b,{default:function(){return q}});var r=e(15009),f=e.n(r),T=e(99289),C=e.n(T),y=e(5574),E=e.n(y),h=e(68602),j=e(89075),A=e(68262),N=e(82346),I=e(9361),$=e(38925),w=e(86250),c=e(25593),Z=e(67294),K=e(29177),M=e(88360),H=e(94149),V=e(12119),R=e(5966),k=e(97462),te=e(63434),_=e(92398),re=e(55241),oe=e(42075),o=e(85893);function se(z){var G;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(_.Z,{centered:!0,activeKey:z.loginType,items:[{icon:(0,o.jsx)(K.Z,{}),key:"account",label:"\u8D26\u53F7\u5BC6\u7801\u767B\u5F55"},{icon:(0,o.jsx)(M.Z,{}),key:"register",label:"\u914D\u7F6E\u7BA1\u7406\u5458\u7528\u6237\u540D\u53CA\u5BC6\u7801"}].filter(function(L){return L.key==z.loginType})}),(0,o.jsx)(R.Z,{name:"username",fieldProps:{size:"large",prefix:(0,o.jsx)(K.Z,{className:"prefixIcon"})},placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"}]},"username"),(0,o.jsx)(R.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,o.jsx)(H.Z,{className:"prefixIcon"})},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"}]},"password"),z.showTwoFa&&(0,o.jsx)(R.Z,{name:"code",placeholder:"\u8BF7\u8F93\u5165\u53CC\u56E0\u7D20\u9A8C\u8BC1\u7801",rules:[{required:!0}],fieldProps:{maxLength:6,size:"large",prefix:(0,o.jsx)(V.Z,{className:"prefixIcon"})}}),z.loginType=="register"&&(0,o.jsx)(k.Z,{name:["password"],children:function(ee){var le=ee.password;return(0,o.jsx)(R.Z.Password,{fieldProps:{size:"large",prefix:(0,o.jsx)(H.Z,{className:"prefixIcon"})},placeholder:"\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801",name:"confirmPassword",dependencies:["password"],rules:[{required:!0,message:"\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801\uFF01"},function(ne){var X=ne.getFieldValue;return{validator:function(n,t){return!t||X("password")===t?Promise.resolve():Promise.reject(new Error("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4"))}}}]},"confirmPassword")}}),(0,o.jsxs)("div",{style:{marginBlockEnd:24},children:[(0,o.jsx)(te.Z,{noStyle:!0,name:"autoLogin",initialValue:!0,children:"\u4FDD\u6301\u767B\u5F55\u72B6\u6001"}),(0,o.jsx)(re.Z,{content:(0,o.jsxs)(oe.Z,{direction:"vertical",size:[0,30],children:[(0,o.jsxs)("span",{children:["\u5BBF\u4E3B\u673A\u4E2D\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\uFF0C",(0,o.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/install/ctrl",target:"_blank",children:"\u67E5\u770B\u6587\u6863"})]}),(0,o.jsxs)(c.Z.Text,{copyable:!0,style:{padding:10,background:"#24292f",color:"#ffffff"},children:["docker exec ",(G=z.appName)!==null&&G!==void 0?G:"dpanel"," ./dpanel user:reset -f config.yaml"]}),(0,o.jsx)("span",{})]}),children:(0,o.jsx)(c.Z.Link,{style:{float:"right"},children:"\u5FD8\u8BB0\u5BC6\u7801?"})})]})]})}var q=function(){var z=I.Z.useToken(),G=z.token,L=(0,N.useModel)("@@initialState"),ee=L.initialState,le=L.loading,ne=L.error,X=L.refresh,ae=L.setInitialState,n=(0,Z.useState)({loginType:"account",appName:"dpanel"}),t=E()(n,2),a=t[0],s=t[1],d=(0,Z.useState)(),g=E()(d,2),m=g[0],O=g[1],F=(0,N.useAntdConfigSetter)(),P=(0,Z.useRef)();return(0,Z.useEffect)(function(){window.document.title="DPanel - Docker \u7BA1\u7406\u9762\u677F",(0,h.Nr)().then(function(){var D=C()(f()().mark(function B(u){var v;return f()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:v={loginType:"account"},u.data.showBuildName&&u.data.family!="lite"&&(v.showBuildName=!0),u.data.showRegister&&(v.loginType="register"),u.data.family=="demo"&&(v.showDemo=!0),v.appName=u.data.appName,u.data.theme&&u.data.theme.algorithm&&(localStorage.setItem("dpanel-theme",u.data.theme.algorithm),F(function(l){var Q;(Q=l.theme)!==null&&Q!==void 0||(l.theme={});var J=[];return u.data.theme&&(u.data.theme.algorithm=="dark"?J.push(I.Z.darkAlgorithm):J.push(I.Z.defaultAlgorithm),l.theme.algorithm=J),l})),u.data.feature.indexOf("pe")!=-1&&(0,j.ax)().then(function(l){l.data&&l.data.themeUserConfig&&l.data.themeUserConfig.siteTitle&&(window.document.title=l.data.themeUserConfig.siteTitle),O(l.data)}),s(v);case 8:case"end":return U.stop()}},B)}));return function(B){return D.apply(this,arguments)}}())},[]),(0,o.jsxs)(o.Fragment,{children:[a&&a.showBuildName&&(0,o.jsx)($.Z,{type:"error",message:"\u60A8\u521B\u5EFA\u7684\u9762\u677F\u5BB9\u5668\u540D\u79F0\u975E\u9ED8\u8BA4\u7684 dpanel\uFF0C\u8BF7\u91CD\u5EFA\u5E76\u901A\u8FC7\u73AF\u5883\u53D8\u91CF -e APP_NAME= \u6307\u5B9A\u65B0\u7684\u5BB9\u5668\u540D\u79F0\u3002",banner:!0}),a&&a.showDemo&&(0,o.jsx)($.Z,{type:"error",message:"\u5F53\u524D\u4E3A\u6F14\u793A\u7AD9\uFF0C\u7981\u7528 docker \u76F8\u5173\u529F\u80FD\u3002\u5E10\u53F7\u5BC6\u7801\u4E3A admin 123456",banner:!0}),(0,o.jsx)(w.Z,{justify:"center",align:"center",style:{height:"100vh",background:m&&m.themeUserConfig&&m.themeUserConfig.bgImage&&m.themeUserConfig.bgImage.src?"url(".concat(m.themeUserConfig.bgImage.src,")"):"".concat(G.colorBgElevated,"dd")},children:(0,o.jsxs)(A.U,{onFinish:function(){var D=C()(f()().mark(function B(u){var v,p;return f()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(a.loginType!="register"){l.next=3;break}return l.next=3,(0,h.AT)({username:u.username,password:u.password,confirmPassword:u.confirmPassword});case 3:return l.prev=3,l.next=6,(0,h.n$)({username:u.username,password:u.password,autoLogin:u.autoLogin,code:u.code});case 6:if(v=l.sent,!v.data.accessToken){l.next=14;break}return localStorage.setItem("token",v.data.accessToken),X(),window.location.href="/dpanel/ui",l.abrupt("return");case 14:return l.abrupt("return",!1);case 15:l.next=20;break;case 17:l.prev=17,l.t0=l.catch(3),(p=P.current)===null||p===void 0||p.resetFields(["code"]);case 20:case"end":return l.stop()}},B,null,[[3,17]])}));return function(B){return D.apply(this,arguments)}}(),containerStyle:{background:"transparent",height:"auto"},logo:"",title:(0,o.jsx)("a",{href:"https://dpanel.cc",target:"_blank",children:(0,o.jsx)("img",{src:m&&m.themeUserConfig&&m.themeUserConfig.loginLogo?m.themeUserConfig.loginLogo:"/dpanel/static/asset/logo.png",width:"350"})}),subTitle:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("br",{}),(0,o.jsx)("br",{})]}),formRef:P,children:[(0,o.jsx)(se,{showTwoFa:!!(m&&m.canSeeEnableTwoFa),loginType:a.loginType,appName:a.appName}),(0,o.jsxs)(c.Z.Paragraph,{style:{marginBottom:10,color:"#999999"},children:["\u767B\u5F55\u5373\u8868\u793A\u540C\u610F ",(0,o.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/manual/license?id=%e8%ae%b8%e5%8f%af%e5%8d%8f%e8%ae%ae",target:"_blank",children:"\u300ADPanel \u8BB8\u53EF\u534F\u8BAE\u300B"})," \u5426\u5219\u8BF7\u52FF\u4F7F\u7528"]})]})})]})}},89075:function(Y,b,e){e.d(b,{$w:function(){return E},YQ:function(){return j},ax:function(){return N}});var r=e(15009),f=e.n(r),T=e(99289),C=e.n(T),y=e(82346);function E(){return h.apply(this,arguments)}function h(){return h=C()(f()().mark(function $(){return f()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,y.request)("/api/pro/home/get-machine-id",{method:"POST"}));case 1:case"end":return c.stop()}},$)})),h.apply(this,arguments)}function j(){return A.apply(this,arguments)}function A(){return A=C()(f()().mark(function $(){return f()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,y.request)("/api/pro/home/get-license-info",{method:"POST"}));case 1:case"end":return c.stop()}},$)})),A.apply(this,arguments)}function N(){return I.apply(this,arguments)}function I(){return I=C()(f()().mark(function $(){return f()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,y.request)("/api/pro/home/login-info",{method:"POST"}));case 1:case"end":return c.stop()}},$)})),I.apply(this,arguments)}},38925:function(Y,b,e){e.d(b,{Z:function(){return ae}});var r=e(67294),f=e(89739),T=e(4340),C=e(97937),y=e(21640),E=e(78860),h=e(93967),j=e.n(h),A=e(29372),N=e(64217),I=e(42550),$=e(96159),w=e(53124),c=e(11568),Z=e(14747),K=e(83559);const M=(n,t,a,s,d)=>({background:n,border:`${(0,c.bf)(s.lineWidth)} ${s.lineType} ${t}`,[`${d}-icon`]:{color:a}}),H=n=>{const{componentCls:t,motionDurationSlow:a,marginXS:s,marginSM:d,fontSize:g,fontSizeLG:m,lineHeight:O,borderRadiusLG:F,motionEaseInOutCirc:P,withDescriptionIconSize:D,colorText:B,colorTextHeading:u,withDescriptionPadding:v,defaultPadding:p}=n;return{[t]:Object.assign(Object.assign({},(0,Z.Wf)(n)),{position:"relative",display:"flex",alignItems:"center",padding:p,wordWrap:"break-word",borderRadius:F,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:s,lineHeight:0},"&-description":{display:"none",fontSize:g,lineHeight:O},"&-message":{color:u},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${a} ${P}, opacity ${a} ${P},
        padding-top ${a} ${P}, padding-bottom ${a} ${P},
        margin-bottom ${a} ${P}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:v,[`${t}-icon`]:{marginInlineEnd:d,fontSize:D,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:s,color:u,fontSize:m},[`${t}-description`]:{display:"block",color:B}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},V=n=>{const{componentCls:t,colorSuccess:a,colorSuccessBorder:s,colorSuccessBg:d,colorWarning:g,colorWarningBorder:m,colorWarningBg:O,colorError:F,colorErrorBorder:P,colorErrorBg:D,colorInfo:B,colorInfoBorder:u,colorInfoBg:v}=n;return{[t]:{"&-success":M(d,s,a,n,t),"&-info":M(v,u,B,n,t),"&-warning":M(O,m,g,n,t),"&-error":Object.assign(Object.assign({},M(D,P,F,n,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},R=n=>{const{componentCls:t,iconCls:a,motionDurationMid:s,marginXS:d,fontSizeIcon:g,colorIcon:m,colorIconHover:O}=n;return{[t]:{"&-action":{marginInlineStart:d},[`${t}-close-icon`]:{marginInlineStart:d,padding:0,overflow:"hidden",fontSize:g,lineHeight:(0,c.bf)(g),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${a}-close`]:{color:m,transition:`color ${s}`,"&:hover":{color:O}}},"&-close-text":{color:m,transition:`color ${s}`,"&:hover":{color:O}}}}},k=n=>({withDescriptionIconSize:n.fontSizeHeading3,defaultPadding:`${n.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${n.paddingMD}px ${n.paddingContentHorizontalLG}px`});var te=(0,K.I$)("Alert",n=>[H(n),V(n),R(n)],k),_=function(n,t){var a={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.indexOf(s)<0&&(a[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,s=Object.getOwnPropertySymbols(n);d<s.length;d++)t.indexOf(s[d])<0&&Object.prototype.propertyIsEnumerable.call(n,s[d])&&(a[s[d]]=n[s[d]]);return a};const re={success:f.Z,info:E.Z,error:T.Z,warning:y.Z},oe=n=>{const{icon:t,prefixCls:a,type:s}=n,d=re[s]||null;return t?(0,$.wm)(t,r.createElement("span",{className:`${a}-icon`},t),()=>({className:j()(`${a}-icon`,t.props.className)})):r.createElement(d,{className:`${a}-icon`})},o=n=>{const{isClosable:t,prefixCls:a,closeIcon:s,handleClose:d,ariaProps:g}=n,m=s===!0||s===void 0?r.createElement(C.Z,null):s;return t?r.createElement("button",Object.assign({type:"button",onClick:d,className:`${a}-close-icon`,tabIndex:0},g),m):null};var q=r.forwardRef((n,t)=>{const{description:a,prefixCls:s,message:d,banner:g,className:m,rootClassName:O,style:F,onMouseEnter:P,onMouseLeave:D,onClick:B,afterClose:u,showIcon:v,closable:p,closeText:U,closeIcon:l,action:Q,id:J}=n,fe=_(n,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[ie,pe]=r.useState(!1),ce=r.useRef(null);r.useImperativeHandle(t,()=>({nativeElement:ce.current}));const{getPrefixCls:ge,direction:he,alert:i}=r.useContext(w.E_),x=ge("alert",s),[ve,ye,Ee]=te(x),Ce=S=>{var W;pe(!0),(W=n.onClose)===null||W===void 0||W.call(n,S)},de=r.useMemo(()=>n.type!==void 0?n.type:g?"warning":"info",[n.type,g]),Pe=r.useMemo(()=>typeof p=="object"&&p.closeIcon||U?!0:typeof p=="boolean"?p:l!==!1&&l!==null&&l!==void 0?!0:!!(i!=null&&i.closable),[U,l,p,i==null?void 0:i.closable]),ue=g&&v===void 0?!0:v,xe=j()(x,`${x}-${de}`,{[`${x}-with-description`]:!!a,[`${x}-no-icon`]:!ue,[`${x}-banner`]:!!g,[`${x}-rtl`]:he==="rtl"},i==null?void 0:i.className,m,O,Ee,ye),je=(0,N.Z)(fe,{aria:!0,data:!0}),Ie=r.useMemo(()=>{var S,W;return typeof p=="object"&&p.closeIcon?p.closeIcon:U||(l!==void 0?l:typeof(i==null?void 0:i.closable)=="object"&&(!((S=i==null?void 0:i.closable)===null||S===void 0)&&S.closeIcon)?(W=i==null?void 0:i.closable)===null||W===void 0?void 0:W.closeIcon:i==null?void 0:i.closeIcon)},[l,p,U,i==null?void 0:i.closeIcon]),Oe=r.useMemo(()=>{const S=p!=null?p:i==null?void 0:i.closable;if(typeof S=="object"){const{closeIcon:W}=S;return _(S,["closeIcon"])}return{}},[p,i==null?void 0:i.closable]);return ve(r.createElement(A.ZP,{visible:!ie,motionName:`${x}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:S=>({maxHeight:S.offsetHeight}),onLeaveEnd:u},(S,W)=>{let{className:me,style:Be}=S;return r.createElement("div",Object.assign({id:J,ref:(0,I.sQ)(ce,W),"data-show":!ie,className:j()(xe,me),style:Object.assign(Object.assign(Object.assign({},i==null?void 0:i.style),F),Be),onMouseEnter:P,onMouseLeave:D,onClick:B,role:"alert"},je),ue?r.createElement(oe,{description:a,icon:n.icon,prefixCls:x,type:de}):null,r.createElement("div",{className:`${x}-content`},d?r.createElement("div",{className:`${x}-message`},d):null,a?r.createElement("div",{className:`${x}-description`},a):null),Q?r.createElement("div",{className:`${x}-action`},Q):null,r.createElement(o,{isClosable:Pe,prefixCls:x,closeIcon:Ie,handleClose:Ce,ariaProps:Oe}))}))}),z=e(15671),G=e(43144),L=e(53640),ee=e(60136),ne=function(n){function t(){var a;return(0,z.Z)(this,t),a=(0,L.Z)(this,t,arguments),a.state={error:void 0,info:{componentStack:""}},a}return(0,ee.Z)(t,n),(0,G.Z)(t,[{key:"componentDidCatch",value:function(s,d){this.setState({error:s,info:d})}},{key:"render",value:function(){const{message:s,description:d,id:g,children:m}=this.props,{error:O,info:F}=this.state,P=(F==null?void 0:F.componentStack)||null,D=typeof s=="undefined"?(O||"").toString():s,B=typeof d=="undefined"?P:d;return O?r.createElement(q,{id:g,type:"error",message:D,description:r.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},B)}):m}}])}(r.Component);const X=q;X.ErrorBoundary=ne;var ae=X},53640:function(Y,b,e){e.d(b,{Z:function(){return C}});var r=e(61120),f=e(78814),T=e(82963);function C(y,E,h){return E=(0,r.Z)(E),(0,T.Z)(y,(0,f.Z)()?Reflect.construct(E,h||[],(0,r.Z)(y).constructor):E.apply(y,h))}}}]);
