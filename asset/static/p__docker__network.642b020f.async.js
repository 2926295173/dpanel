"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[236],{10032:function(N,P,n){var j=n(5574),f=n.n(j),u=n(15009),h=n.n(u),M=n(99289),I=n.n(M),p=n(80821),A=n(14946),O=n(48689),T=n(184),C=n(38345),K=n(60940),L=n(42075),B=n(96074),a=n(26412),m=n(67294),t=n(85893),y=(0,m.forwardRef)(function(F,R){(0,m.useImperativeHandle)(R,function(){return{show:function(W){return I()(h()().mark(function Z(){var E,g;return h()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,A.IS)({name:W});case 2:E=v.sent,E.data.info.Containers?(g=[],Object.keys(E.data.info.Containers).map(function(w){E.data.info.Containers[w].Id=w,g.push(E.data.info.Containers[w])}),b(g)):b([]),r(E.data.info),x(!0);case 6:case"end":return v.stop()}},Z)}))()}}});var o=(0,m.useState)(!1),U=f()(o,2),_=U[0],x=U[1],S=(0,m.useState)(),c=f()(S,2),e=c[0],r=c[1],d=(0,m.useState)(),i=f()(d,2),l=i[0],b=i[1];return(0,t.jsx)(T.a,{title:"\u7F51\u7EDC\u8BE6\u60C5",open:_,onOpenChange:function(W){x(W)},submitter:!1,children:(0,t.jsxs)(C.Z,{ghost:!0,direction:"column",gutter:[10,0],children:[(0,t.jsx)(C.Z,{title:"\u7F51\u7EDC\u5185\u5BB9\u5668",ghost:!0,children:(0,t.jsx)(K.Z,{rowKey:"Id",columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"Name"},{title:"IPV4",dataIndex:"IPv4Address"},{title:"IPV6",dataIndex:"IPv6Address"},{title:"MacAddress",dataIndex:"MacAddress"},{title:"\u64CD\u4F5C",render:function(W,Z,E){return(0,t.jsx)(L.Z,{split:(0,t.jsx)(B.Z,{type:"vertical"}),children:(0,t.jsx)(p.Z,{type:"text",action:function(){var D,v;return(0,A.t9)({name:(D=e==null?void 0:e.Id)!==null&&D!==void 0?D:"",containerName:(v=Z.Id)!==null&&v!==void 0?v:""})},onSuccess:function(){var D=l==null?void 0:l.filter(function(v){return v.Id!=Z.Id});b(D)},children:(0,t.jsx)(O.Z,{})},"delete")})}}],dataSource:l,pagination:!1})}),(0,t.jsx)(C.Z,{ghost:!0,title:"\u57FA\u7840\u4FE1\u606F",children:(0,t.jsxs)(a.Z,{labelStyle:{width:"180px"},column:1,bordered:!0,children:[(0,t.jsx)(a.Z.Item,{label:"\u540D\u79F0",children:e==null?void 0:e.Name}),(0,t.jsx)(a.Z.Item,{label:"Id",children:e==null?void 0:e.Id}),(0,t.jsx)(a.Z.Item,{label:"Driver",children:e==null?void 0:e.Driver}),(0,t.jsx)(a.Z.Item,{label:"Scope",children:e==null?void 0:e.Scope}),(0,t.jsx)(a.Z.Item,{label:"Attachable",children:e!=null&&e.Attachable?"\u662F":"\u5426"}),(0,t.jsx)(a.Z.Item,{label:"Internal",children:e!=null&&e.Internal?"\u662F":"\u5426"}),(e==null?void 0:e.IPAM.Config)&&(e==null?void 0:e.IPAM.Config[0])&&(0,t.jsx)(a.Z.Item,{label:"IPV4",children:(0,t.jsxs)(a.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:[(0,t.jsx)(a.Z.Item,{label:"Subnet",children:e==null?void 0:e.IPAM.Config[0].Subnet}),(0,t.jsx)(a.Z.Item,{label:"Gateway",children:e==null?void 0:e.IPAM.Config[0].Gateway}),(0,t.jsx)(a.Z.Item,{label:"IP Range ",children:e==null?void 0:e.IPAM.Config[0].IPRange}),(0,t.jsx)(a.Z.Item,{label:"Excluded IPs",children:(e==null?void 0:e.IPAM.Config[0].AuxiliaryAddresses)&&Object.keys(e==null?void 0:e.IPAM.Config[0].AuxiliaryAddresses).map(function(s){return(e==null?void 0:e.IPAM.Config[0].AuxiliaryAddresses[s])+" ,"})})]})}),(e==null?void 0:e.IPAM.Config)&&(e==null?void 0:e.IPAM.Config[1])&&(0,t.jsx)(a.Z.Item,{label:"IPV6",children:(0,t.jsxs)(a.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:[(0,t.jsx)(a.Z.Item,{label:"Subnet",children:e==null?void 0:e.IPAM.Config[1].Subnet}),(0,t.jsx)(a.Z.Item,{label:"Gateway",children:e==null?void 0:e.IPAM.Config[1].Gateway}),(0,t.jsx)(a.Z.Item,{label:"IP Range ",children:e==null?void 0:e.IPAM.Config[1].IPRange}),(0,t.jsx)(a.Z.Item,{label:"Excluded IPs",children:(e==null?void 0:e.IPAM.Config[1].AuxiliaryAddresses)&&Object.keys(e==null?void 0:e.IPAM.Config[1].AuxiliaryAddresses).map(function(s){return(e==null?void 0:e.IPAM.Config[1].AuxiliaryAddresses[s])+" ,"})})]})}),(e==null?void 0:e.Options)&&Object.keys(e==null?void 0:e.Options).length>0&&(0,t.jsx)(a.Z.Item,{label:"Options",children:(0,t.jsx)(a.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Options).map(function(s){return(0,t.jsx)(a.Z.Item,{label:s,children:e.Options[s]},s)})})}),(e==null?void 0:e.Labels)&&Object.keys(e==null?void 0:e.Labels).length>0&&(0,t.jsx)(a.Z.Item,{label:"Lables",children:(0,t.jsx)(a.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Labels).map(function(s){return(0,t.jsx)(a.Z.Item,{label:s,children:e.Labels[s]},s)})})})]})})]})})});P.Z=y},6005:function(N,P,n){n.r(P),n.d(P,{default:function(){return U}});var j=n(15009),f=n.n(j),u=n(99289),h=n.n(u),M=n(1699),I=n(80821),p=n(28230),A=n(10032),O=n(14946),T=n(67255),C=n(43425),K=n(90078),L=n(78099),B=n(82346),a=n(66309),m=n(42075),t=n(96074),y=n(28036),F=n(83062),R=n(67294),o=n(85893);function U(){var _=(0,R.useRef)(),x=(0,R.useRef)(),S=(0,B.useAccess)();return(0,o.jsxs)(K._z,{header:{extra:[(0,o.jsx)(M.u,{access:"canSeeDockerNetworkManage",children:(0,o.jsx)(p.Z,{onFinish:function(){var e,r;!((e=_.current)===null||e===void 0)&&e.reloadAndRest&&((r=_.current)===null||r===void 0||r.reloadAndRest())}},"create")},"create")]},children:[(0,o.jsx)(A.Z,{ref:x}),(0,o.jsx)(L.Z,{scroll:{x:"max-content"},rowKey:"Name",columns:[{title:"\u540D\u79F0",ellipsis:!0,dataIndex:"Name",render:function(e,r,d,i,l){return r.Name=="none"||r.Name=="bridge"||r.Name=="host"?(0,o.jsxs)(o.Fragment,{children:[r.Name," ",(0,o.jsx)(a.Z,{color:"blue",children:"System"})]}):(0,o.jsx)(o.Fragment,{children:e})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",ellipsis:!0,width:150,search:!1,render:function(e,r,d,i,l){return r.IPAM.Config&&r.IPAM.Config[0]?(0,o.jsxs)(m.Z,{direction:"vertical",children:[(0,o.jsx)("div",{children:r.IPAM.Config&&r.IPAM.Config[0].Subnet}),(0,o.jsx)("div",{children:r.IPAM.Config&&r.IPAM.Config[0].Gateway})]}):"-"}},{title:"IPV6",ellipsis:!0,width:150,search:!1,render:function(e,r,d,i,l){return r.IPAM.Config&&r.IPAM.Config[1]?(0,o.jsxs)(m.Z,{direction:"vertical",children:[(0,o.jsx)("div",{children:r.IPAM.Config&&r.IPAM.Config[1].Subnet}),(0,o.jsx)("div",{children:r.IPAM.Config&&r.IPAM.Config[1].Gateway})]}):"-"}},{title:"\u521B\u5EFA\u65F6\u95F4",ellipsis:!0,width:180,search:!1,dataIndex:"Created",render:function(e,r,d,i,l){return new Date(r.Created).toLocaleString()}},{title:"\u64CD\u4F5C",width:100,search:!1,fixed:"right",hidden:!S.canSeeDockerNetworkManage,render:function(e,r,d,i,l){return(0,o.jsx)(m.Z,{split:(0,o.jsx)(t.Z,{type:"vertical"}),children:(0,o.jsx)(y.ZP,{type:"link",onClick:function(){var s;(s=x.current)===null||s===void 0||s.show(r.Name)},children:(0,o.jsx)(F.Z,{title:"\u7BA1\u7406",children:(0,o.jsx)(C.Z,{})})})})}}],request:function(){var c=h()(f()().mark(function e(r,d,i){var l;return f()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,O.jR)({name:r.Name});case 2:return l=s.sent,s.abrupt("return",{data:l.data.list,success:!0,total:l.data.list.length});case 4:case"end":return s.stop()}},e)}));return function(e,r,d){return c.apply(this,arguments)}}(),rowSelection:S.canSeeDockerNetworkManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,actionRef:_,tableAlertOptionRender:function(e){var r=e.selectedRowKeys;return(0,o.jsxs)(m.Z,{size:16,children:[(0,o.jsx)(I.Z,{danger:!0,type:"primary",action:function(){return(0,O._x)({name:r})},onSuccess:function(){var i,l;return!((i=_.current)===null||i===void 0)&&i.reloadAndRest&&((l=_.current)===null||l===void 0||l.reloadAndRest()),!0},onError:function(){var i,l;return!((i=_.current)===null||i===void 0)&&i.reset&&((l=_.current)===null||l===void 0||l.reset()),!0},confirm:"notification.confirm.title",children:"\u6279\u91CF\u5220\u9664"},"delete"),(0,o.jsx)(I.Z,{action:function(){return(0,O.CI)()},onSuccess:function(){var i,l;return!((i=_.current)===null||i===void 0)&&i.reloadAndRest&&((l=_.current)===null||l===void 0||l.reloadAndRest()),!0},onError:function(){var i,l;return!((i=_.current)===null||i===void 0)&&i.reset&&((l=_.current)===null||l===void 0||l.reset()),!0},confirm:"notification.confirm.title",children:"\u6E05\u7406\u672A\u4F7F\u7528\u7F51\u7EDC"},"clearNotUse")]})},pagination:(0,T.O)()})]})}},67255:function(N,P,n){n.d(P,{O:function(){return j},j:function(){return f}});function j(){var u=localStorage.getItem("dpanel-pagesize");return u=="all"?!1:{showSizeChanger:!0,defaultPageSize:parseInt(u!=null?u:"20")}}function f(u){var h="dpanel-table-column-".concat(u),M={};if(localStorage.getItem(h)){var I;M=JSON.parse((I=localStorage.getItem(h))!==null&&I!==void 0?I:"{}")}return{defaultValue:M,onChange:function(A){localStorage.setItem("dpanel-table-column-".concat(u),JSON.stringify(A))}}}}}]);
