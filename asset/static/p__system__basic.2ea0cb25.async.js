"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1050],{31199:function(N,E,e){var c=e(1413),s=e(45987),g=e(67294),P=e(61856),D=e(85893),O=["fieldProps","min","proFieldProps","max"],R=function(o,C){var y=o.fieldProps,B=o.min,I=o.proFieldProps,w=o.max,L=(0,s.Z)(o,O);return(0,D.jsx)(P.Z,(0,c.Z)({valueType:"digit",fieldProps:(0,c.Z)({min:B,max:w},y),ref:C,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:I},L))},A=g.forwardRef(R);E.Z=A},5966:function(N,E,e){var c=e(97685),s=e(1413),g=e(45987),P=e(21770),D=e(72723),O=e(55241),R=e(97435),A=e(67294),Z=e(61856),o=e(85893),C=["fieldProps","proFieldProps"],y=["fieldProps","proFieldProps"],B="text",I=function(t){var r=t.fieldProps,f=t.proFieldProps,v=(0,g.Z)(t,C);return(0,o.jsx)(Z.Z,(0,s.Z)({valueType:B,fieldProps:r,filedConfig:{valueType:B},proFieldProps:f},v))},w=function(t){var r=(0,P.Z)(t.open||!1,{value:t.open,onChange:t.onOpenChange}),f=(0,c.Z)(r,2),v=f[0],S=f[1];return(0,o.jsx)(D.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function($){var m,n=$.getFieldValue(t.name||[]);return(0,o.jsx)(O.Z,(0,s.Z)((0,s.Z)({getPopupContainer:function(l){return l&&l.parentNode?l.parentNode:l},onOpenChange:function(l){return S(l)},content:(0,o.jsxs)("div",{style:{padding:"4px 0"},children:[(m=t.statusRender)===null||m===void 0?void 0:m.call(t,n),t.strengthText?(0,o.jsx)("div",{style:{marginTop:10},children:(0,o.jsx)("span",{children:t.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},t.popoverProps),{},{open:v,children:t.children}))}})},L=function(t){var r=t.fieldProps,f=t.proFieldProps,v=(0,g.Z)(t,y),S=(0,A.useState)(!1),W=(0,c.Z)(S,2),$=W[0],m=W[1];return r!=null&&r.statusRender&&v.name?(0,o.jsx)(w,{name:v.name,statusRender:r==null?void 0:r.statusRender,popoverProps:r==null?void 0:r.popoverProps,strengthText:r==null?void 0:r.strengthText,open:$,onOpenChange:m,children:(0,o.jsx)("div",{children:(0,o.jsx)(Z.Z,(0,s.Z)({valueType:"password",fieldProps:(0,s.Z)((0,s.Z)({},(0,R.Z)(r,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(x){var l;r==null||(l=r.onBlur)===null||l===void 0||l.call(r,x),m(!1)},onClick:function(x){var l;r==null||(l=r.onClick)===null||l===void 0||l.call(r,x),m(!0)}}),proFieldProps:f,filedConfig:{valueType:B}},v))})}):(0,o.jsx)(Z.Z,(0,s.Z)({valueType:"password",fieldProps:r,proFieldProps:f,filedConfig:{valueType:B}},v))},U=I;U.Password=L,U.displayName="ProFormComponent",E.Z=U},12044:function(N,E,e){e.d(E,{j:function(){return g}});var c=e(34155),s=typeof c!="undefined"&&c.versions!=null&&c.versions.node!=null,g=function(){return typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.matchMedia!="undefined"&&!s}},55433:function(N,E,e){e.r(E),e.d(E,{default:function(){return x}});var c=e(15009),s=e.n(c),g=e(99289),P=e.n(g),D=e(87662),O=e(93246),R=e(87547),A=e(86548),Z=e(97937),o=e(87462),C=e(67294),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M956.9 845.1L896.4 632V168c0-17.7-14.3-32-32-32h-704c-17.7 0-32 14.3-32 32v464L67.9 845.1C60.4 866 75.8 888 98 888h828.8c22.2 0 37.6-22 30.1-42.9zM200.4 208h624v395h-624V208zm228.3 608l8.1-37h150.3l8.1 37H428.7zm224 0l-19.1-86.7c-.8-3.7-4.1-6.3-7.8-6.3H398.2c-3.8 0-7 2.6-7.8 6.3L371.3 816H151l42.3-149h638.2l42.3 149H652.7z"}}]},name:"laptop",theme:"outlined"},B=y,I=e(84089),w=function(j,M){return C.createElement(I.Z,(0,o.Z)({},j,{ref:M,icon:B}))},L=C.forwardRef(w),U=L,V=e(90078),t=e(38345),r=e(97269),f=e(97462),v=e(5966),S=e(31199),W=e(54006),$=e(31418),m=e(14726),n=e(85893);function x(){var l=$.Z.useApp(),j=(0,C.useRef)(),M=(0,C.useRef)(),K=(0,W.useModel)("@@initialState"),b=K.initialState,G=K.loading,J=K.error,H=K.refresh,Q=K.setInitialState,z=function(){var F=P()(s()().mark(function p(){var u,i,a,T;return s()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,D.pe)({groupName:"setting",name:"server"});case 2:a=d.sent,(u=M.current)===null||u===void 0||u.setFieldsValue({serverIp:(i=a.data.setting.value.serverIp)!==null&&i!==void 0?i:""}),a.data.setting.value.requestTimeout&&((T=M.current)===null||T===void 0||T.setFieldsValue({requestTimeout:a.data.setting.value.requestTimeout}));case 5:case"end":return d.stop()}},p)}));return function(){return F.apply(this,arguments)}}();return(0,n.jsx)(V._z,{children:(0,n.jsxs)(t.Z,{direction:"column",gutter:[0,10],children:[(0,n.jsx)(t.Z,{bordered:!0,headerBordered:!0,title:(0,n.jsx)(R.Z,{}),subTitle:"\u7BA1\u7406\u5458",children:(0,n.jsxs)(r.A,{formRef:j,onFinish:function(){var F=P()(s()().mark(function p(u){var i,a;return s()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,D.Jn)({username:u.username,password:u.password,newPassword:u.newPassword});case 2:return a=h.sent,(i=j.current)===null||i===void 0||i.resetFields(),(0,O.$h)(l,"\u4FEE\u6539\u7BA1\u7406\u5458\u7528\u6237\u540D\u548C\u5BC6\u7801\u6210\u529F"),localStorage.removeItem("token"),H(),h.abrupt("return",!0);case 8:case"end":return h.stop()}},p)}));return function(p){return F.apply(this,arguments)}}(),children:[(0,n.jsx)(f.Z,{name:["enableUsername"],children:function(p){var u=p.enableUsername;return(0,n.jsx)(v.Z,{label:"\u7528\u6237\u540D",name:"username",style:{width:"80%"},initialValue:b==null?void 0:b.currentUser.username,disabled:!u,addonAfter:[(0,n.jsx)(m.ZP,{type:"link",hidden:!!u,icon:(0,n.jsx)(A.Z,{}),onClick:function(){var a;(a=j.current)===null||a===void 0||a.setFieldValue("enableUsername",!0)}},"editBtn"),(0,n.jsx)(m.ZP,{type:"link",hidden:!u,icon:(0,n.jsx)(Z.Z,{}),onClick:function(){var a;(a=j.current)===null||a===void 0||a.setFieldValue("enableUsername",!1)}},"closeBtn")]},"username")}}),(0,n.jsx)(v.Z.Password,{label:"\u5F53\u524D\u5BC6\u7801",name:"password",placeholder:"\u8F93\u5165\u7BA1\u7406\u5458\u5F53\u524D\u5BC6\u7801",rules:[{required:!0}]},"password"),(0,n.jsx)(v.Z.Password,{label:"\u65B0\u5BC6\u7801",name:"newPassword"},"newPasword"),(0,n.jsx)(f.Z,{name:["newPassword"],children:function(p){var u=p.newPassword;return console.log(u),(0,n.jsx)(v.Z.Password,{label:"\u786E\u8BA4\u65B0\u5BC6\u7801",name:"newPassword2",dependencies:["newPassword"],rules:[{required:typeof u!="undefined"&&u!=""},function(i){var a=i.getFieldValue;return{validator:function(h,d){return!d||a("newPassword")===d?Promise.resolve():Promise.reject(new Error("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4"))}}}]},"newPasword2")}})]})}),(0,n.jsx)(t.Z,{bordered:!0,headerBordered:!0,title:(0,n.jsx)(U,{}),subTitle:"\u670D\u52A1\u5668\u914D\u7F6E",children:(0,n.jsxs)(r.A,{formRef:M,onInit:P()(s()().mark(function F(){return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return z(),u.abrupt("return",!0);case 2:case"end":return u.stop()}},F)})),onFinish:function(){var F=P()(s()().mark(function p(u){var i,a,T;return s()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return a={groupName:"setting",name:"server",value:{serverIp:u.serverIp}},u.requestTimeout&&(a.value.requestTimeout=u.requestTimeout),d.next=4,(0,D.KU)(a);case 4:return T=d.sent,(i=M.current)===null||i===void 0||i.resetFields(),z(),(0,O.$h)(l,"\u4FEE\u6539\u670D\u52A1\u5668\u914D\u7F6E\u6210\u529F"),d.abrupt("return",!0);case 9:case"end":return d.stop()}},p)}));return function(p){return F.apply(this,arguments)}}(),children:[(0,n.jsx)(v.Z,{tooltip:"\u8BBE\u7F6E\u5BBF\u4E3B\u673A\u7684Ip\u6216\u662F\u57DF\u540D\uFF0C\u7528\u4E8E\u901A\u8FC7\u7AEF\u53E3\u7684\u5F62\u5F0F\u8BBF\u95EE\u5BB9\u5668\u3002\u652F\u6301IpV4\u53CAIpV6",label:"\u670D\u52A1\u5668Ip\u6216\u57DF\u540D",name:"serverIp",placeholder:"\u4F8B\u5982:192.168.1.25\u30012001:db8:1::2\u3001example.com"}),(0,n.jsx)(S.Z,{tooltip:"\u83B7\u53D6docker\u6570\u636E\u65F6\u6709\u4E9B\u63A5\u53E3\u8FC7\u4E8E\u8017\u65F6\uFF0C\u6839\u636E\u81EA\u5DF1\u7684\u5B9E\u9645\u60C5\u51B5\uFF0C\u8C03\u6574\u8BF7\u6C42\u8D85\u65F6\u65F6\u95F4",label:"docker api \u8BF7\u6C42\u8D85\u65F6\u65F6\u95F4",name:"requestTimeout",placeholder:"\u5355\u4F4D\u4E3A\u79D2\uFF0C\u9ED8\u8BA4\u4E3A 5 \u79D2",min:1,max:100})]})})]})})}}}]);
