"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3985],{99861:function(Se,ne,u){var fe=u(15009),b=u.n(fe),Ie=u(64599),W=u.n(Ie),be=u(99289),U=u.n(be),Pe=u(5574),Z=u.n(Pe),ye=u(42119),J=u(67294),x=u(92754),k=u(3393),we=u(184),Be=u(38345),Q=u(85893),f=(0,J.forwardRef)(function(X,Ce){(0,J.useImperativeHandle)(Ce,function(){return{start:function(){le(!0)}}});var ae=(0,J.useState)(0),he=Z()(ae,2),M=he[0],ge=he[1],G=(0,J.useRef)(),pe=(0,J.useState)(!1),Fe=Z()(pe,2),re=Fe[0],le=Fe[1];return(0,Q.jsxs)(we.a,{trigger:X.trigger,width:800,open:re,submitter:!1,title:"\u4E00\u952E\u62C9\u53D6\u955C\u50CF",onOpenChange:function(){var _=U()(b()().mark(function ie(De){var se,oe,q,Ae,de,Ee,e;return b()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(le(De),!De){I.next=26;break}oe=0,q=W()(X.image),I.prev=4,q.s();case 6:if((Ae=q.n()).done){I.next=16;break}return Ee=Ae.value,ge(oe),(de=G.current)===null||de===void 0||de.setStart(Ee),I.next=12,(0,k.Gb)({tag:Ee,type:"pull"});case 12:e=I.sent,oe++;case 14:I.next=6;break;case 16:I.next=21;break;case 18:I.prev=18,I.t0=I.catch(4),q.e(I.t0);case 21:return I.prev=21,q.f(),I.finish(21);case 24:(se=G.current)===null||se===void 0||se.setFinish(),ge(oe);case 26:case"end":return I.stop()}},ie,null,[[4,18,21,24]])}));return function(ie){return _.apply(this,arguments)}}(),children:[(0,Q.jsx)(Be.Z,{children:(0,Q.jsx)(ye.Z,{current:M,items:X.image.map(function(_,ie){return{title:_,key:ie}})})}),(0,Q.jsx)(Be.Z,{children:(0,Q.jsx)(x.Z,{ref:G})})]})});ne.Z=f},35880:function(Se,ne,u){var fe=u(67294),b=(0,fe.createContext)({});ne.Z=b},58012:function(Se,ne,u){u.r(ne),u.d(ne,{default:function(){return Eu}});var fe=u(15009),b=u.n(fe),Ie=u(99289),W=u.n(Ie),be=u(5574),U=u.n(be),Pe=u(90078),Z=u(38345),ye=u(97269),J=u(2236),x=u(5966),k=u(97462),we=u(64218),Be=u(92398),Q=u(38925),f=u(67294),X=u(35880),Ce=u(10641),ae=u(62370),he=u(85576),M=u(42075),ge=u(96074),G=u(25593),pe=u(83062),Fe=u(71230),re=u(15746),le=u(14726),_=u(3393),ie=u(18148),De=u(5251),se=u(64789),oe=u(75162),q=u(23430),Ae=u(28307),de=u(78451),Ee=u(99861),e=u(85893);function He(l){var j=(0,f.useState)(!1),F=U()(j,2),s=F[0],c=F[1],m=(0,f.useRef)(),a=(0,f.useContext)(X.Z),i=a.createFormRef,h=a.volumeListRef,v=a.createEnvRef,r=a.domainRef,o=(0,f.useRef)(),B=function(){var p=W()(b()().mark(function E(d){var C,P,R,g,V,S,y,me,H,O,ue,N;return b()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c(!1),n.next=3,(0,_.YU)({md5:d});case 3:g=n.sent,l.redeploy||(me=(V=i.current)===null||V===void 0?void 0:V.getFieldsValue(),(S=i.current)===null||S===void 0||S.resetFields(),(y=i.current)===null||y===void 0||y.setFieldsValue({siteName:me.siteName,siteTitle:me.siteTitle})),g.data.info.Config.Env&&g.data.info.Config.Env.map(function(t){var T,L=t.split("=");(T=v.current)===null||T===void 0||T.addEnvItem(L[0],L.slice(1).join("="))}),(C=i.current)===null||C===void 0||C.setFieldValue("imageName",d),(P=i.current)===null||P===void 0||P.setFieldValue("workDir",g.data.info.Config.WorkingDir),(R=r.current)===null||R===void 0||R.setExposePort(g.data.info.Config.ExposedPorts),l.redeploy||(g.data.info.Config.Volumes?(ue=[],Object.keys(g.data.info.Config.Volumes).map(function(t,T){ue.push(t)}),(O=h.current)===null||O===void 0||O.setDefaultDestPath(ue)):(N=h.current)===null||N===void 0||N.setDefaultDestPath([]),(H=i.current)===null||H===void 0||H.setFieldsValue({workDir:{value:"",useDefault:!0,default:g.data.info.Config.WorkingDir},user:{value:"",useDefault:!0,default:g.data.info.Config.User},command:{value:"",useDefault:!0,default:g.data.info.Config.Cmd&&g.data.info.Config.Cmd.join(" ")},entrypoint:{value:"",useDefault:!0,default:g.data.info.Config.Entrypoint&&g.data.info.Config.Entrypoint.join(" ")}}));case 10:case"end":return n.stop()}},E)}));return function(d){return p.apply(this,arguments)}}();return(0,f.useEffect)(function(){l.fromImageId&&B(l.fromImageId)},[l.fromImageId]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(he.Z,{open:s,width:1024,title:"\u9009\u62E9\u955C\u50CF",footer:!1,onCancel:function(){return c(!1)},children:(0,e.jsx)(Ce.Z,{scroll:{x:"max-content"},columns:[{title:"Id",dataIndex:"Id",search:!1,width:200,render:function(E,d,C,P,R){return(0,e.jsx)(de.Z,{content:d.Id})}},{title:"\u955C\u50CF\u540D\u79F0",dataIndex:"tag",width:200,render:function(E,d,C,P){return(0,e.jsx)(de.Z,{content:d.RepoTags[0]})}},{title:"\u521B\u5EFA\u65E5\u671F",dataIndex:"Created",ellipsis:!0,search:!1,width:"180px",render:function(E,d,C,P){return(0,e.jsx)("div",{children:(0,De.ZM)(d.Created*1e3)},d.Id)},sorter:function(E,d){return E.Created-d.Created}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:80,render:function(E,d,C,P){return(0,e.jsxs)(M.Z,{split:(0,e.jsx)(ge.Z,{type:"vertical"}),children:[(0,e.jsx)(G.Z.Link,{onClick:W()(b()().mark(function R(){return b()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.abrupt("return",B(d.RepoTags[0]));case 1:case"end":return V.stop()}},R)})),children:(0,e.jsx)(pe.Z,{title:"\u4F7F\u7528\u955C\u50CF",children:(0,e.jsx)(se.Z,{})})},"addImage"),(0,e.jsx)(G.Z.Link,{onClick:W()(b()().mark(function R(){var g;return b()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:d.RepoTags[0]&&((g=o.current)===null||g===void 0||g.setImageName(d.RepoTags[0]));case 1:case"end":return S.stop()}},R)})),children:(0,e.jsx)(pe.Z,{title:"\u66F4\u65B0\u955C\u50CF",children:(0,e.jsx)(oe.Z,{})})},"updateImage")]})}}],request:function(){var p=W()(b()().mark(function E(d,C,P){var R,g,V,S,y;return b()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return l.redeploy&&(g=(R=i.current)===null||R===void 0?void 0:R.getFieldValue("imageName"),d.tag=g?g.split(":")[0]:d.tag),H.next=3,(0,ie.KG)({tag:d.tag});case 3:return V=H.sent,S=0,y=[],V.data.list&&(y=V.data.list.flatMap(function(O){return O.RepoTags.map(function(ue){return{Key:S++,Id:O.Id,Created:O.Created,RepoTags:[ue]}})})),H.abrupt("return",{data:y,success:!0,total:y.length});case 8:case"end":return H.stop()}},E)}));return function(E,d,C){return p.apply(this,arguments)}}(),toolBarRender:function(){return[(0,e.jsx)(Ae.Z,{onClick:function(){c(!1)},buttonType:"primary",ref:o,onFinish:function(d){B(d)}},"remote")]},formRef:m,rowKey:"Key",pagination:{pageSize:5}})},"imageTableList"),(0,e.jsxs)(Fe.Z,{children:[(0,e.jsx)(re.Z,{span:14,children:(0,e.jsx)(x.Z,{label:"\u955C\u50CF",tooltip:l.redeploy?"\u66F4\u65B0\u5BB9\u5668\u65F6,\u53EA\u53EF\u4EE5\u9009\u62E9\u8BE5\u955C\u50CF\u4E0B\u7684\u4E0D\u540Ctag.\u4E5F\u53EF\u4EE5\u5F3A\u5236\u66F4\u65B0\u5DF2\u90E8\u7F72tag,\u66F4\u6B21\u90E8\u7F72":"\u65B0\u5EFA\u5BB9\u5668\u65F6,\u53EF\u4EE5\u4F7F\u7528\u672C\u5730\u955C\u50CF,\u4E5F\u53EF\u4EE5\u4E0B\u8F7D\u5168\u65B0\u7684\u955C\u50CF\u6216\u662F\u66F4\u65B0\u672C\u5730\u955C\u50CF\u7684tag",name:"imageName",disabled:!0,placeholder:"\u8BF7\u9009\u62E9\u955C\u50CF\uFF0C\u5982\u679C\u662F\u8FDC\u7A0B\u955C\u50CF\u8BF7\u5148\u4E0B\u8F7D",rules:[{required:!0}],required:!0})}),(0,e.jsx)(re.Z,{children:(0,e.jsx)(ae.Z,{label:" ",children:(0,e.jsxs)(M.Z,{children:[(0,e.jsx)(le.ZP,{type:"primary",onClick:function(){return c(!0)},children:l.redeploy?"\u66F4\u65B0\u955C\u50CF":"\u9009\u62E9\u955C\u50CF"},"showBtn"),(0,e.jsx)(k.Z,{name:["imageName"],children:function(E){var d=E.imageName;if(l.redeploy)return(0,e.jsx)(Ee.Z,{image:[d],trigger:(0,e.jsx)(pe.Z,{title:"\u5FEB\u901F\u91CD\u65B0\u62C9\u53D6\u955C\u50CF\uFF0C\u66F4\u65B0\u5BB9\u5668",children:(0,e.jsx)(le.ZP,{icon:(0,e.jsx)(q.Z,{}),children:"\u66F4\u65B0\u6216\u662F\u62C9\u53D6\u5F53\u524D\u955C\u50CF"})})})}})]})})})]})]})}var I=u(60335),Ke=u(24969),$=u(24739),Ge=u(63434),ce=u(17186),ze=u(27496),Ye=u(66309);function Je(l){return(0,e.jsx)(Ce.Z,{columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"names",render:function(F,s,c,m){return(0,e.jsx)(M.Z,{direction:"vertical",style:{textAlign:"left"},children:s==null?void 0:s.Names.map(function(a){return a})},s.Id)}},{title:"\u7AEF\u53E3",dataIndex:"ports",search:!1,render:function(F,s,c,m){return s!=null&&s.Ports?(0,e.jsx)(M.Z,{direction:"vertical",style:{textAlign:"left"},children:s==null?void 0:s.Ports.map(function(a,i){return(0,e.jsx)(Ye.Z,{color:"#2db7f5",icon:a.PublicPort?(0,e.jsx)(ze.Z,{}):"",children:"".concat(a.PublicPort?a.IP+":"+a.PublicPort+"->":"").concat(a.PrivatePort,"/").concat(a.Type)},i)})},s.Id):(0,e.jsx)(e.Fragment,{})}},{title:"\u8FD0\u884C\u5BB9\u5668",search:!1,render:function(F,s,c,m){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(G.Z.Text,{ellipsis:{tooltip:s.Image},children:s.Image},s.Id)})}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",ellipsis:!0,width:100,render:function(F,s,c,m){return[(0,e.jsx)(le.ZP,{type:"link",onClick:function(){(0,I.jV)({md5:s.Id}).then(function(i){return l.onSelect&&l.onSelect(i.data.info),!0})},children:(0,e.jsx)(se.Z,{})},s.Id)]}}],rowKey:"Id",request:function(){var j=W()(b()().mark(function F(s,c,m){return b()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",new Promise(function(h,v){(0,I.IE)({tag:s.names}).then(function(r){var o={data:r.data.list,success:!0,total:r.data.list.length};h(o)})}));case 1:case"end":return i.stop()}},F)}));return function(F,s,c){return j.apply(this,arguments)}}(),pagination:{pageSize:5}})}var Qe=(0,f.forwardRef)(function(l,j){var F=(0,f.useState)(!1),s=U()(F,2),c=s[0],m=s[1],a=(0,f.useRef)(),i=function(r){var o=(0,f.useState)([]),B=U()(o,2),p=B[0],E=B[1];return(0,f.useEffect)(function(){(0,I.jV)({md5:r.name}).then(function(d){var C;return E((C=d.data.info.Config.Env)!==null&&C!==void 0?C:[]),!0})},[]),(0,e.jsxs)(Z.Z,{bordered:!0,extra:r.action,style:{marginBottom:10},children:[(0,e.jsx)(Z.Z,{title:"\u5173\u8054\u4FE1\u606F",children:(0,e.jsxs)($.UW,{children:[(0,e.jsx)(x.Z,{label:"\u5BB9\u5668\u540D\u79F0",name:"name",width:"md",readonly:!0}),(0,e.jsx)(x.Z,{label:"\u8BBF\u95EEHostName",name:"alise",width:"md",tooltip:"\u901A\u8FC7\u914D\u7F6E\u6B64\u540D\u79F0\uFF0C\u5728\u5BB9\u5668\u5185\u90E8\u8FDB\u884C\u8BF7\u6C42\u8BBF\u95EE"}),(0,e.jsx)(Ge.Z,{label:"\u5173\u8054\u5B58\u50A8",name:"volume"})]})}),(0,e.jsx)(Z.Z,{title:"\u73AF\u5883\u53D8\u91CF",children:(0,e.jsx)(M.Z,{direction:"vertical",children:p&&p.map(function(d,C){return(0,e.jsx)(G.Z.Text,{copyable:{icon:(0,e.jsx)(Ke.Z,{}),onCopy:function(){var R=d.split("=");l.onAddEnv(R[0],R[1])},tooltips:["add env","success"]},code:!0,ellipsis:{tooltip:d},style:{width:300},children:d},C)})},"linkEnv")})]})},h=function(r){var o,B,p=!1,E=(o=(B=a.current)===null||B===void 0?void 0:B.getList())!==null&&o!==void 0?o:[];if(E.map(function(C){C.name==r.name&&(p=!0)}),!p){var d;(d=a.current)===null||d===void 0||d.add(r)}};return(0,f.useImperativeHandle)(j,function(){return{setDefaultLink:function(r){r&&r.map(function(o){o.name!=""&&h(o)})}}}),(0,e.jsxs)(Z.Z,{title:"\u5173\u8054\u5BB9\u5668",headerBordered:!0,children:[(0,e.jsx)(ce.u,{name:"links",actionRef:a,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5173\u8054"},actionGuard:{beforeAddRow:function(r,o){return m(!0),!1}},copyIconProps:!1,min:0,itemRender:function(r,o){return(0,e.jsx)(i,{action:r.action,name:o.record.name})}}),(0,e.jsx)(he.Z,{title:"\u9009\u62E9\u5BB9\u5668",width:1024,footer:!1,open:c,onCancel:function(){return m(!1)},children:(0,e.jsx)(Je,{onSelect:function(r){h({name:r.Name,alise:r.Config.Hostname,volume:!1}),m(!1)}})})]})}),Xe=Qe,_e=u(91058),Oe=u(86615),xe=u(64317),qe=(0,f.forwardRef)(function(l,j){var F=(0,f.useRef)(),s=(0,f.useRef)();return(0,f.useImperativeHandle)(j,function(){return{setDefaultDestPath:function(m){var a,i,h=(a=(i=F.current)===null||i===void 0?void 0:i.getList())!==null&&a!==void 0?a:[];m.length!=0&&m.filter(function(v){return v!=""}).map(function(v){var r=!1;if(h.map(function(B){if(B.dest==v){r=!0;return}}),!r){var o;(o=F.current)===null||o===void 0||o.add({dest:v,permission:"write",inImage:!0,edit:!1})}})},addUserVolumeItem:function(m,a){var i,h=(i=s.current)===null||i===void 0?void 0:i.getList(),v=!1;if(h==null||h.map(function(o){if(o.dest==a){v=!0;return}}),!v){var r;(r=s.current)===null||r===void 0||r.add({host:m,dest:a})}}}}),(0,e.jsxs)(e.Fragment,{children:[l.showDefault&&(0,e.jsx)(Z.Z,{title:"\u9ED8\u8BA4\u5B58\u50A8\uFF08Volume\uFF09",subTitle:"\u9ED8\u8BA4\u5B58\u50A8\u4E0E\u7AD9\u70B9\u6807\u8BC6\u4FDD\u6301\u4E00\u81F4",headerBordered:!0,children:(0,e.jsx)(ce.u,{name:"volumesDefault",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u76EE\u5F55\u5230\u9ED8\u8BA4\u5B58\u50A8"},actionRef:F,copyIconProps:!1,min:0,children:function(m,a,i){var h=i.getCurrentRowData();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(x.Z,{width:"lg",name:"dest",label:"\u5BB9\u5668\u5185\u8DEF\u5F84",required:!0,rules:[{required:!0}],disabled:h.inImage}),(0,e.jsx)(Oe.Z.Group,{hidden:!0,name:"inImage",label:"\u955C\u50CF\u5185\u6302\u8F7D",valueEnum:{1:"\u662F",0:"\u5426"}})]})}})}),(0,e.jsx)(Z.Z,{title:"\u81EA\u5B9A\u4E49\u6302\u8F7D\u6216\u662F\u5B58\u50A8\u5377",tooltip:"\u6302\u8F7D\u53EF\u4EE5\u662F\u5BBF\u4E3B\u673A\u7684\u76EE\u5F55\u6216\u662F\u6587\u4EF6\uFF0C\u4E5F\u53EF\u4EE5\u6307\u5B9A\u5B58\u50A8\u5377\u540D\uFF08\u81EA\u52A8\u65B0\u5EFA\uFF09\u3002",headerBordered:!0,direction:"column",children:(0,e.jsx)(ce.u,{actionRef:s,name:"volumes",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u6620\u5C04\u76EE\u5F55"},copyIconProps:!1,min:0,children:(0,e.jsxs)($.UW,{children:[(0,e.jsxs)(M.Z.Compact,{children:[(0,e.jsx)(x.Z,{label:"\u5BBF\u4E3B\u673A\u6587\u4EF6\u3001\u76EE\u5F55\u6216\u5B58\u50A8\u5377",name:"host",width:l.showInDrawer?"sm":"md",required:!0,rules:[{required:!0}]}),(0,e.jsx)(xe.Z,{label:" ",valueEnum:{write:"\u8BFB\u5199",readonly:"\u53EA\u8BFB"},initialValue:"write",name:"permission"})]}),(0,e.jsx)(x.Z,{label:"\u5BB9\u5668\u5185\u8DEF\u5F84",name:"dest",width:l.showInDrawer?"sm":"md",required:!0,rules:[{required:!0}],disabled:l.disabledUserVolumeDest})]})})})]})}),eu=qe,uu=u(2831),z=u(52688),Le=u(86125),tu=u(44349);function nu(l){var j,F=(0,f.useState)(),s=U()(F,2),c=s[0],m=s[1];return(0,f.useEffect)(function(){(0,uu.aF)().then(function(a){return m(a.data.info)})},[]),(0,e.jsxs)(Z.Z,{children:[(0,e.jsx)(x.Z,{label:"\u5171\u4EAB\u5185\u5B58\u5927\u5C0F - /dev/shm",name:"shmsize",initialValue:"64M",tooltip:"0 \u4E3A\u4F7F\u7528\u9ED8\u8BA464M"}),(0,e.jsx)(ae.Z,{label:"\u6700\u5927Cpu\u914D\u989D",name:"cpus",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(Le.Z,{step:.1,max:c==null?void 0:c.NCPU,marks:{0:"0",.5:"0.5\u6838",1:"1\u6838",1.5:"1.5\u6838",2:"2\u6838",4:"4\u6838",6:"6\u6838",8:"8\u6838"}})}),(0,e.jsx)(ae.Z,{label:"\u6700\u5927\u5185\u5B58\u914D\u989D",name:"memory",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(Le.Z,{step:256,max:Math.round(((j=c==null?void 0:c.MemTotal)!==null&&j!==void 0?j:0)/1024/1024),marks:{0:"0",1024:"1G",2048:"2G",3072:"3G",4096:"4G"}})}),(0,e.jsx)(xe.Z,{label:"\u65E5\u5FD7\u7C7B\u578B",name:["log","driver"],tooltip:"\u9ED8\u8BA4\u4F7F\u7528 json-file \u9A71\u52A8\u7531 docker \u7EDF\u4E00\u7BA1\u7406\u3002\u91C7\u7528 journal \u65F6\u65E5\u5FD7\u5C06\u6765\u5BBF\u4E3B\u673A\u7BA1\u7406",initialValue:"json-file",valueEnum:{"json-file":"json-file",journald:"journal (\u5BBF\u4E3B\u9700\u8981\u5B89\u88C5journal\u670D\u52A1)"}}),(0,e.jsx)(k.Z,{name:["log"],children:function(i){var h=i.log;if(h.driver=="json-file")return(0,e.jsxs)($.UW,{children:[(0,e.jsx)(x.Z,{label:"\u65E5\u5FD7\u5207\u5272\u5C3A\u5BF8",name:["log","maxSize"],placeholder:"\u4F8B\u5982\uFF1A10k,5M",tooltip:"\u9ED8\u8BA4 Docker \u5E76\u4E0D\u4F1A\u81EA\u52A8\u5207\u5272\u65E5\u5FD7"}),(0,e.jsx)(x.Z,{tooltip:"\u9ED8\u8BA4 Docker \u5E76\u4E0D\u4F1A\u81EA\u52A8\u6E05\u7406\u65E5\u5FD7\u6587\u4EF6",label:"\u4FDD\u7559\u65E5\u5FD7\u6587\u4EF6\u6570",name:["log","maxFile"],placeholder:"\u4F8B\u5982\uFF1A10"})]})}}),(0,e.jsx)(tu.Z,{name:"device",label:"\u5173\u8054\u8BBE\u5907",hideCopyButton:!0,showAddButton:!0,items:[{label:"\u5BBF\u4E3B\u673A\u8DEF\u5F84",name:"host",width:"md",placeholder:"\u4F8B\u5982\uFF1A/dev/tty0"},{label:"\u5BB9\u5668\u5185\u8DEF\u5F84",name:"dest",width:"md",placeholder:"\u4F8B\u5982\uFF1A/dev/tty0"}]}),(0,e.jsxs)(Fe.Z,{children:[(0,e.jsx)(re.Z,{span:4,children:(0,e.jsx)(z.Z,{label:"\u4F7F\u7528 Gpu",name:["gpus","enable"]})}),(0,e.jsx)(re.Z,{span:20,children:(0,e.jsx)(k.Z,{name:["gpus"],children:function(i){var h=i.gpus;if(h&&h.enable)return(0,e.jsx)(xe.Z,{mode:"tags",label:"\u8BBE\u5907\u5217\u8868",name:["gpus","device"],placeholder:"\u914D\u7F6E\u4F7F\u7528\u8BBE\u5907id\u6216\u662Fuuid\uFF0C\u4E0D\u586B\u6240\u4E3A\u6240\u6709\u8BBE\u5907"})}})})]}),(0,e.jsx)(k.Z,{name:["gpus"],children:function(i){var h=i.gpus;if(h&&h.enable)return(0,e.jsx)(xe.Z,{label:"\u8BA1\u7B97\u80FD\u529B",name:["gpus","capabilities"],mode:"multiple",fieldProps:{allowClear:!0},options:[{label:"compute - \u8BA1\u7B97\u80FD\u529B",value:"compute"},{label:"compat32 - \u517C\u5BB932\u4F4D",value:"compat32"},{label:"graphics - \u56FE\u5F62\u5904\u7406\u80FD\u529B",value:"graphics"},{label:"utility - \u76D1\u63A7\u548C\u7BA1\u7406\u80FD\u529B",value:"utility"},{label:"video - \u89C6\u9891\u5904\u7406\u80FD\u529B",value:"video"},{label:"display - \u663E\u793A\u56FE\u5F62\u754C\u9762\u80FD\u529B",value:"display"}]})}})]})}function au(){return(0,e.jsx)(Z.Z,{title:"\u5BB9\u5668\u6807\u7B7E",children:(0,e.jsx)(ce.u,{name:"label",label:"",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BB9\u5668\u6807\u7B7E"},copyIconProps:!1,min:0,children:(0,e.jsxs)($.UW,{children:[(0,e.jsx)(x.Z,{width:"md",name:"name",label:"\u540D\u79F0",placeholder:""}),(0,e.jsx)(x.Z,{width:"md",name:"value",label:"\u503C",placeholder:""})]})})})}var ru=u(44771),xu="default",ju="user";function lu(l){return(0,e.jsx)(ae.Z,{label:l.label,tooltip:l.tooltip,children:(0,e.jsxs)(M.Z.Compact,{block:!0,children:[(0,e.jsx)(Oe.Z.Group,{radioType:"button",name:[l.name,"useDefault"],options:[{label:"\u4F7F\u7528\u9ED8\u8BA4",value:!0},{label:"\u81EA\u5B9A\u4E49",value:!1}]}),(0,e.jsx)(k.Z,{name:[l.name],children:function(F){return F[l.name]&&F[l.name].useDefault?(0,e.jsx)(x.Z,{name:[l.name,"default"],disabled:!0,placeholder:"\u672A\u8BBE\u7F6E"}):(0,e.jsx)(x.Z,{name:[l.name,"value"]})}})]})})}var Ze=lu;function iu(){return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(Z.Z,{children:[(0,e.jsx)(ru.Z,{label:"\u91CD\u542F\u7B56\u7565"}),(0,e.jsxs)($.UW,{children:[(0,e.jsx)(z.Z,{name:"privileged",label:"\u8D4B\u4E88\u5BB9\u5668Root\u6743\u9650",initialValue:!1}),(0,e.jsx)(z.Z,{name:"autoRemove",label:"\u505C\u6B62\u540E\u81EA\u52A8\u5220\u9664",initialValue:!1})]}),(0,e.jsx)(Ze,{label:"\u5DE5\u4F5C\u76EE\u5F55",tooltip:"\u9ED8\u8BA4\u4F7F\u7528\u955C\u50CF\u4E2D\u6307\u5B9A\u7684\u5DE5\u4F5C\u76EE\u5F55",name:"workDir"}),(0,e.jsx)(Ze,{label:"User",tooltip:"\u5728\u5BB9\u5668\u4E2D\u8FD0\u884C\u547D\u4EE4\u7684\u7528\u6237",name:"user"}),(0,e.jsx)(Ze,{label:"Command",tooltip:"\u542F\u52A8\u5BB9\u5668\u65F6\u8FD0\u884C\u7684\u547D\u4EE4\uFF0C\u4EE5\u7A7A\u683C\u5206\u9694",name:"command"}),(0,e.jsx)(Ze,{label:"Entrypoint",tooltip:"\u65E0\u6CD5\u8986\u76D6\u955C\u50CF\u4E2D\u5DF2\u7ECF\u6307\u5B9A\u7684 Entrypoint \u547D\u4EE4",name:"entrypoint"})]})})}var su=u(91845),Me=u(62597),Ue=u(54006),ou=u(4798),du=(0,f.forwardRef)(function(l,j){var F=(0,f.useState)(""),s=U()(F,2),c=s[0],m=s[1],a=(0,f.useRef)(),i=(0,f.useContext)(X.Z),h=i.createFormRef;return(0,f.useImperativeHandle)(j,function(){return{setExposePort:function(r){if(r){var o,B,p=(o=(B=a.current)===null||B===void 0?void 0:B.getList())!==null&&o!==void 0?o:[];Object.keys(r).map(function(E){var d=!1;if(p.map(function(P){P.dest==E&&(d=!0)}),!d){var C;(C=a.current)===null||C===void 0||C.add({host:"",dest:E})}})}},setHostname:function(r){m(r)},addPortItem:function(r,o){var B,p=(B=a.current)===null||B===void 0?void 0:B.getList(),E=!1;if(p==null||p.map(function(C){if(C.host==r){E=!0;return}}),!E){var d;(d=a.current)===null||d===void 0||d.add({host:String(r),dest:String(o)})}}}}),(0,e.jsx)(Z.Z,{title:"\u7ED1\u5B9A\u7AEF\u53E3",tooltip:"\u8BBF\u95EE\u7AEF\u53E3\u7559\u7A7A\u65F6\u968F\u673A\u751F\u6210\u7AEF\u53E3\uFF0C\u5168\u90E8\u5220\u9664\u5219\u8868\u793A\u4E0D\u66B4\u9732\u7AEF\u53E3",headerBordered:!0,extra:(0,e.jsxs)(M.Z,{children:[l.showBindHost&&(0,e.jsx)(z.Z,{name:"useHostNetwork",fieldProps:{checkedChildren:"\u7ED1\u5B9AHost\u7F51\u7EDC",unCheckedChildren:"\u7ED1\u5B9AHost\u7F51\u7EDC",onChange:function(r){if(r){var o;(o=h.current)===null||o===void 0||o.setFieldsValue({bindIpV6:!1,publishAllPorts:!1})}}}}),l.showBindIpV6&&(0,e.jsx)(k.Z,{name:["siteName","useHostNetwork"],children:function(r){var o=r.useHostNetwork;return(0,e.jsx)(z.Z,{name:"publishAllPorts",fieldProps:{checkedChildren:"\u7ED1\u5B9A\u5168\u90E8\u7AEF\u53E3",unCheckedChildren:"\u7ED1\u5B9A\u5168\u90E8\u7AEF\u53E3"},disabled:o},"publishAllPorts")}}),l.showBindIpV6&&(0,e.jsx)(k.Z,{name:["siteName","useHostNetwork"],children:function(r){var o=r.useHostNetwork;return(0,e.jsx)(z.Z,{name:"bindIpV6",fieldProps:{checkedChildren:"IpV6",unCheckedChildren:"IpV6"},disabled:o},"bindIpV6")}})]}),children:(0,e.jsx)(k.Z,{name:["useHostNetwork","bindIpV6","publishAllPorts"],children:function(r){var o=r.useHostNetwork,B=r.bindIpV6,p=r.publishAllPorts;if(!o&&!p)return(0,e.jsx)(ce.u,{name:"ports",actionRef:a,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BF9\u5916\u90E8\u8BBF\u95EE"},min:0,copyIconProps:!1,children:(0,e.jsxs)($.UW,{children:[(0,e.jsx)(x.Z,{width:l.showInDrawer?"sm":"md",name:"host",label:"\u5916\u90E8\u8BBF\u95EE\u7AEF\u53E3",tooltip:"\u5BF9\u5916\u8BBF\u95EE\u53EF\u4EE5\u901A\u8FC7\u6DFB\u52A0\u8BBF\u95EE\u7AEF\u53E3\u6216\u662F\u521B\u5EFA\u5B8C\u6210\u540E\u5BF9\u5BB9\u5668\u7ED1\u5B9A\u57DF\u540D",placeholder:"\u7559\u7A7A\u5C06\u4F7F\u7528\u968F\u673A\u7AEF\u53E3\uFF0C\u7ED1\u5B9AIpV6\u5FC5\u586B",required:B,rules:[{required:B}]}),(0,e.jsx)(x.Z,{label:"\u5BB9\u5668\u5185\u7AEF\u53E3",width:l.showInDrawer?"sm":"md",name:"dest",placeholder:"\u6784\u5EFA\u65F6 Expose \u6307\u5B9A\u7684\u7AEF\u53E3",required:!0,rules:[{required:!0}]})]})})}})})}),cu=du;function ee(l){return(0,e.jsx)("div",{style:{display:l.show?"block":"none"},children:l.children})}function mu(){var l=(0,f.useRef)(),j=function(c){var m,a,i=!1,h=(m=(a=l.current)===null||a===void 0?void 0:a.getList())!==null&&m!==void 0?m:[];if(h.map(function(r){r.name==c.name&&(i=!0)}),!i){var v;(v=l.current)===null||v===void 0||v.add(c)}},F=function(c){var m,a,i=!1,h=(m=(a=l.current)===null||a===void 0?void 0:a.getList())!==null&&m!==void 0?m:[];h.map(function(v,r){if(v.name==c){var o;(o=l.current)===null||o===void 0||o.remove(r)}})};return(0,e.jsx)(Z.Z,{title:"\u5173\u8054\u5BBF\u4E3B\u7F51\u7EDC\u4E3B\u673A",tooltip:"\u5BB9\u5668\u5185\u5982\u679C\u9700\u8981\u8BF7\u6C42\u5BBF\u4E3B\u673A\u6240\u5728\u7684\u7F51\u7EDC\u4E2D\u7684\u4E3B\u673A\uFF0C\u53EF\u4EE5\u901A\u8FC7\u6B64\u914D\u7F6E\u5C06Ip\u6CE8\u5165\u5230\u5BB9\u5668\u4E2D",extra:(0,e.jsx)(M.Z,{children:(0,e.jsx)(z.Z,{name:"enableBindHost",fieldProps:{checkedChildren:"\u7ED1\u5B9A\u5BBF\u4E3B\u673AIp",unCheckedChildren:"\u7ED1\u5B9A\u5BBF\u4E3B\u673AIp",onChange:function(c){c?j({name:"host.dpanel.local",value:"host-gateway"}):F("host.dpanel.local")}}})}),children:(0,e.jsx)(ce.u,{name:"extraHosts",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BBF\u4E3B\u673A\u7F51\u7EDC\u5173\u8054"},actionRef:l,copyIconProps:!1,min:0,children:(0,e.jsxs)($.UW,{children:[(0,e.jsx)(x.Z,{width:"md",name:"name",label:"Hostname",placeholder:""}),(0,e.jsx)(x.Z,{width:"md",name:"value",label:"ip",placeholder:""})]})})})}var Re=u(90672),vu=(0,f.forwardRef)(function(l,j){return(0,f.useImperativeHandle)(j,function(){return{}}),(0,e.jsxs)(Z.Z,{title:"\u7F51\u7EDC\u914D\u7F6E",children:[(0,e.jsxs)($.UW,{children:[(0,e.jsx)(x.Z,{label:"\u914D\u7F6E ipV4 \u5730\u5740",name:["ipV4","address"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u5730\u5740\uFF0C\u4F8B\u5982 192.168.1.5",placeholder:"192.168.1.5"}),(0,e.jsx)(k.Z,{name:["ipV4"],children:function(s){var c=s.ipV4;return(0,e.jsx)(x.Z,{label:"\u914D\u7F6E ipV4 \u5B50\u7F51",name:["ipV4","subnet"],width:"md",required:c&&c.address,tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u6240\u5728\u7684\u5B50\u7F51\uFF0C\u4F8B\u5982 192.168.1.0/24",placeholder:"192.168.1.0/24",rules:[{required:c&&c.address}]})}}),(0,e.jsx)(x.Z,{label:"\u914D\u7F6E ipV4 \u7F51\u5173",name:["ipV4","gateway"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u7684\u7F51\u5173\uFF0C\u4F8B\u5982 192.168.1.1",placeholder:"192.168.1.1"}),(0,e.jsx)(z.Z,{label:"\u81EA\u5B9A\u4E49ipV6",name:"enableIpV6Address"})]}),(0,e.jsx)(k.Z,{name:["enableIpV6Address"],children:function(s){var c=s.enableIpV6Address;if(c)return(0,e.jsxs)($.UW,{children:[(0,e.jsx)(x.Z,{label:"\u914D\u7F6E ipV6 \u5730\u5740",name:["ipV6","address"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipV6\u5730\u5740\uFF0C\u4F8B\u5982 2001:db8::5",placeholder:"2001:db8::5"}),(0,e.jsx)(k.Z,{name:["ipV6"],children:function(a){var i=a.ipV6;return(0,e.jsx)(x.Z,{label:"\u914D\u7F6E ipV6 \u5B50\u7F51",name:["ipV6","subnet"],width:"md",required:i&&i.address,tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u6240\u5728\u7684\u5B50\u7F51\uFF0C\u4F8B\u5982 2001:db8::/48",placeholder:"2001:db8::/48",rules:[{required:i&&i.address}]})}}),(0,e.jsx)(x.Z,{label:"\u914D\u7F6E ipV6 \u7F51\u5173",name:["ipV6","gateway"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipV6\u7684\u7F51\u5173\uFF0C\u4F8B\u5982 2001:db8::1",placeholder:"2001:db8::1"})]})}}),(0,e.jsx)(Re.Z,{label:"DNS\u914D\u7F6E",name:"dns",placeholder:"\u8BF7\u6307\u5B9Adns\u5730\u5740\uFF0C\u4F8B\u5982\uFF1A8.8.8.8\uFF0C\u4E00\u884C\u6DFB\u4E00\u6761dns\u5730\u5740"})]})}),fu=vu,hu=u(24963),ke=u(31199),pu=u(86250);function Fu(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Z.Z,{title:"\u9644\u52A0\u6267\u884C\u811A\u672C",headerBordered:!0,subTitle:"",children:(0,e.jsx)(Re.Z,{label:"\u5BB9\u5668\u521B\u5EFA\u540E\u6267\u884C\u811A\u672C",name:["hook","containerCreate"],placeholder:"\u5BB9\u5668\u5728\u521B\u5EFA\u540E\u6267\u884C\u7684\u811A\u672C\uFF0C\u6B64\u811A\u672C\u5E76\u4E0D\u4F1A\u5F71\u54CD entrypoint \u53CA command\u3002\u4F8B\u5982\uFF1Als -al && touch abc.txt && apt update"})}),(0,e.jsxs)(Z.Z,{title:"\u5065\u5EB7\u68C0\u67E5",headerBordered:!0,children:[(0,e.jsxs)(pu.Z,{gap:20,justify:"start",children:[(0,e.jsx)(ke.Z,{label:"\u91CD\u590D\u95F4\u9694\u65F6\u95F4\uFF08\u79D2\uFF09",name:["healthcheck","interval"],initialValue:30}),(0,e.jsx)(ke.Z,{label:"\u8D85\u65F6\u5931\u8D25\u65F6\u95F4\uFF08\u79D2\uFF09",name:["healthcheck","timeout"],initialValue:10}),(0,e.jsx)(ke.Z,{label:"\u5931\u8D25\u91CD\u590D\u6B21\u6570",name:["healthcheck","retries"],initialValue:3}),(0,e.jsx)(xe.Z,{width:"sm",label:"\u811A\u672C\u6267\u884C\u73AF\u5883",initialValue:"CMD",name:["healthcheck","shellType"],valueEnum:{CMD:"\u5728 Docker \u73AF\u5883\u6267\u884C","CMD-SHELL":"\u5728\u5BB9\u5668\u5185\u6267\u884C"}})]}),(0,e.jsx)(Re.Z,{label:"\u6267\u884C\u811A\u672C",name:["healthcheck","cmd"],placeholder:"\u914D\u7F6E\u5BB9\u5668\u5065\u5EB7\u68C0\u67E5\u811A\u672C\uFF0C\u4F8B\u5982\uFF1Acurl -f http://localhost:8080/ || exit 1"})]})]})}var je="update",We="copy",Ve="new";function Eu(){var l,j,F,s=(0,f.useContext)(hu.Z),c=s.loading,m=(0,f.useContext)(X.Z),a=m.createFormRef,i=m.volumeListRef,h=m.domainRef,v=m.createEnvRef,r=m.createLinkRef,o=(0,f.useState)(Ve),B=U()(o,2),p=B[0],E=B[1],d=(0,Ue.useSearchParams)(),C=U()(d,2),P=C[0],R=C[1],g=(0,Ue.useNavigate)(),V=(0,f.useState)("basic"),S=U()(V,2),y=S[0],me=S[1],H=parseInt((l=P.get("id"))!==null&&l!==void 0?l:""),O=(j=P.get("containerId"))!==null&&j!==void 0?j:"",ue=(F=P.get("imageId"))!==null&&F!==void 0?F:"";return(0,f.useEffect)(function(){if(O||H)c.show(),(0,Me.iE)({md5:O,id:H}).then(function(){var w=W()(b()().mark(function n(t){var T,L,D,Y,K,Te,Ne,$e;return b()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(D={info:{},layer:[]},P.get("op")==We?E(We):E(je),t.data.env.network&&t.data.env.network.map(function(A){return!A.alise&&A.name!="bridge"&&(A.alise=[t.data.siteName+".pod.dpanel.local"]),A}),t.data.env.ports&&t.data.env.ports.map(function(A){return A.host=="0"&&(A.host=""),A}),Y=t.data.env.bindIpV6,t.data.containerInfo.Info&&t.data.containerInfo.Info.NetworkSettings.Networks&&Object.keys(t.data.containerInfo.Info.NetworkSettings.Networks).map(function(A){t.data.env.network&&(t.data.env.network=t.data.env.network.map(function(te){return A==te.name&&(te.subnet=t.data.containerInfo.Info.NetworkSettings.Networks[A].IPAddress+"/"+t.data.containerInfo.Info.NetworkSettings.Networks[A].IPPrefixLen),te})),t.data.containerInfo.Info.NetworkSettings.Networks[A].IPv6Gateway!=""&&(Y=!0)}),t.data.env.extraHosts&&t.data.env.extraHosts.map(function(A){if(A.value=="host-gateway"){var te;(te=a.current)===null||te===void 0||te.setFieldValue("enableBindHost",!0)}}),K=t.data.env.ports,t.data.env.ports&&(K=t.data.env.ports.map(function(A){return A.host=(A.hostIp?A.hostIp+":":"")+A.host,A})),(T=a.current)===null||T===void 0||T.setFieldsValue({imageName:t.data.env.imageName,privileged:t.data.env.privileged,bindIpV6:t.data.env.useHostNetwork?!1:Y,useHostNetwork:t.data.env.useHostNetwork,publishAllPorts:t.data.env.useHostNetwork?!1:t.data.env.publishAllPorts,workDir:{value:t.data.env.workDir,useDefault:!t.data.env.workDir,default:D&&D.info.Config&&D.info.Config.WorkingDir},user:{value:t.data.env.user,useDefault:!t.data.env.user,default:D&&D.info.Config&&D.info.Config.User},command:{value:t.data.env.command,useDefault:!t.data.env.command,default:D&&D.info.Config&&D.info.Config.Cmd&&D.info.Config.Cmd.join(" ")},entrypoint:{value:t.data.env.entrypoint,useDefault:!t.data.env.entrypoint,default:D&&D.info.Config&&D.info.Config.Entrypoint&&D.info.Config.Entrypoint.join(" ")},shmsize:(L=t.data.env.shmsize)!==null&&L!==void 0?L:"64M",cpus:t.data.env.cpus,memory:t.data.env.memory,environment:t.data.env.environment,label:t.data.env.label,volumesDefault:t.data.env.volumesDefault,volumes:t.data.env.volumes,ports:K,links:t.data.env.links,network:t.data.env.network,restart:t.data.env.restart,extraHosts:t.data.env.extraHosts,autoRemove:t.data.env.autoRemove,log:t.data.env.log,dns:t.data.env.dns&&t.data.env.dns.join(`
`),ipV4:t.data.env.ipV4,ipV6:t.data.env.ipV6,gpus:t.data.env.gpus,device:t.data.env.device,hook:t.data.env.hook}),t.data.env.healthcheck&&t.data.env.healthcheck.cmd&&t.data.env.healthcheck.cmd!=""&&((Te=a.current)===null||Te===void 0||Te.setFieldsValue({healthcheck:t.data.env.healthcheck})),P.get("op")==je&&((Ne=a.current)===null||Ne===void 0||Ne.setFieldsValue({siteTitle:t.data.siteTitle,siteName:t.data.siteName})),!t.data.env.imageName){ve.next=17;break}return ve.next=15,(0,_.YU)({md5:t.data.env.imageName});case 15:$e=ve.sent,D=$e.data;case 17:case"end":return ve.stop()}},n)}));return function(n){return w.apply(this,arguments)}}()).finally(function(){c.destroy()});else{var N;E(Ve),(N=a.current)===null||N===void 0||N.resetFields()}},[P]),(0,e.jsx)(Pe._z,{children:(0,e.jsx)(Z.Z,{direction:"column",gutter:[0,10],children:(0,e.jsxs)(ye.A,{submitter:{render:function(w,n){return(0,e.jsx)(J.S,{children:n})}},formRef:a,onFinish:function(){var N=W()(b()().mark(function w(n){var t,T,L,D;return b()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return console.log(n),D={siteTitle:n.siteTitle,siteName:n.siteName,imageName:n.imageName,environment:n.environment,links:n.links,ports:n.ports,volumes:n.volumes,volumesDefault:n.volumesDefault,network:n.network,privileged:(t=n.privileged)!==null&&t!==void 0?t:!1,autoRemove:(T=n.autoRemove)!==null&&T!==void 0?T:!1,restart:n.restart,cpus:n.cpus,memory:n.memory,shmsize:(L=n.shmsize)!==null&&L!==void 0?L:0,workDir:n.workDir&&!n.workDir.useDefault?n.workDir.value:"",user:n.user&&!n.user.useDefault?n.user.value:"",command:n.command&&!n.command.useDefault?n.command.value:"",entrypoint:n.entrypoint&&!n.entrypoint.useDefault?n.entrypoint.value:"",useHostNetwork:n.useHostNetwork,bindIpV6:n.bindIpV6,log:n.log,dns:n.dns&&n.dns!=""?n.dns.split(`
`):[],label:n.label,publishAllPorts:n.publishAllPorts,extraHosts:n.extraHosts,ipV4:n.ipV4,ipV6:n.ipV6,device:n.device,gpus:n.gpus,hook:n.hook},n.healthcheck&&n.healthcheck.cmd&&n.healthcheck.cmd!=""&&(D.healthcheck=n.healthcheck),O&&p==je&&(D.containerId=O),K.next=6,(0,Me.$G)(D);case 6:return g("/app/list"),K.abrupt("return",!0);case 8:case"end":return K.stop()}},w)}));return function(w){return N.apply(this,arguments)}}(),children:[(0,e.jsxs)(Z.Z,{title:"\u57FA\u7840\u4FE1\u606F",headerBordered:!0,children:[(0,e.jsx)(x.Z,{name:"siteTitle",label:"\u7AD9\u70B9\u540D\u79F0",required:!0,rules:[{required:!0}],fieldProps:{onChange:function(w){var n="";if(w.target.value&&p!=je){var t,T=(0,su.N9)(w.target.value.trim(),{toneType:"none",type:"array"});n=T.join(""),(t=a.current)===null||t===void 0||t.setFieldValue("siteName",n)}}},placeholder:"\u8BF7\u8F93\u5165\u7AD9\u70B9\u540D\u79F0"}),(0,e.jsx)(x.Z,{name:"siteName",label:"\u7AD9\u70B9\u6807\u8BC6",tooltip:"\u7AD9\u70B9\u552F\u4E00\u6807\u8BC6\uFF0C\u7528\u4E8E\u6807\u8BC6\u7AD9\u70B9\u548C\u5185\u90E8\u8BBF\u95EE",required:!0,disabled:p==je,rules:[{required:!0}],placeholder:"\u8BF7\u8F93\u5165\u7AD9\u70B9\u540D\u79F0"}),(0,e.jsx)(He,{redeploy:p!=Ve,fromImageId:ue})]}),(0,e.jsx)(we.Z,{offsetTop:50,children:(0,e.jsx)(Z.Z,{style:{marginBottom:-20},children:(0,e.jsx)(Be.Z,{activeKey:y,onChange:function(w){me(w),window.scrollTo(0,450)},items:[{label:"\u57FA\u672C\u914D\u7F6E",key:"basic"},{label:"\u5173\u8054\u914D\u7F6E",key:"link"},{label:"\u5B58\u50A8\u914D\u7F6E",key:"storage"},{label:"\u8FD0\u884C\u914D\u7F6E",key:"run-command"},{label:"\u8D44\u6E90\u914D\u7F6E",key:"resource"},{label:"Hook",key:"hook"},{label:"\u5176\u5B83",key:"other"}]})})}),(0,e.jsxs)(ee,{show:y=="basic",children:[(0,e.jsx)(cu,{ref:h,showBindHost:!0,showBindIpV6:!0}),(0,e.jsx)(_e.Z,{showAddButton:!0,showImportButton:!0,showCodeMode:!0,label:"\u73AF\u5883\u53D8\u91CF",ref:v}),(0,e.jsx)(k.Z,{name:["siteName","useHostNetwork"],children:function(w){var n=w.siteName,t=w.useHostNetwork;if(!t)return(0,e.jsx)(fu,{})}})]}),(0,e.jsx)(ee,{show:y=="link",children:(0,e.jsx)(k.Z,{name:["siteName","useHostNetwork"],children:function(w){var n=w.siteName,t=w.useHostNetwork;return t?(0,e.jsx)(Q.Z,{showIcon:!0,description:"\u7ED1\u5B9A\u5230\u5BBF\u4E3B\u673A\u7F51\u7EDC\u65F6\uFF0C\u65E0\u6CD5\u901A\u8FC7 Docker \u5173\u8054\u5176\u5B83\u5BB9\u5668\u3002\u8BF7\u4F7F\u7528\u5BBF\u4E3B\u673A\u5185\u7F51IP\u6216\u662F127.0.0.1\u4E92\u8054\u5BB9\u5668\u66B4\u9732\u7AEF\u53E3\u3002"}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Xe,{onAddEnv:function(L,D){var Y;(Y=v.current)===null||Y===void 0||Y.addEnvItem(L,D)},ref:r}),(0,e.jsx)(ou.Z,{siteName:n}),(0,e.jsx)(mu,{})]})}})}),(0,e.jsx)(ee,{show:y=="storage",children:(0,e.jsx)(eu,{showDefault:!0,ref:i})}),(0,e.jsx)(ee,{show:y=="run-command",children:(0,e.jsx)(iu,{})}),(0,e.jsx)(ee,{show:y=="resource",children:(0,e.jsx)(nu,{})}),(0,e.jsx)(ee,{show:y=="hook",children:(0,e.jsx)(Fu,{})}),(0,e.jsx)(ee,{show:y=="other",children:(0,e.jsx)(au,{})})]},"form")})})}}}]);
