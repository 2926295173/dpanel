"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8878],{29158:function(Y,C,n){n.d(C,{Z:function(){return P}});var I=n(87462),r=n(67294),S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"},l=S,o=n(84089),j=function(i,m){return r.createElement(o.Z,(0,I.Z)({},i,{ref:m,icon:l}))},f=r.forwardRef(j),P=f},30159:function(Y,C,n){n.d(C,{Z:function(){return P}});var I=n(87462),r=n(67294),S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"}}]},name:"pause-circle",theme:"outlined"},l=S,o=n(84089),j=function(i,m){return r.createElement(o.Z,(0,I.Z)({},i,{ref:m,icon:l}))},f=r.forwardRef(j),P=f},74842:function(Y,C,n){n.d(C,{Z:function(){return P}});var I=n(87462),r=n(67294),S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},l=S,o=n(84089),j=function(i,m){return r.createElement(o.Z,(0,I.Z)({},i,{ref:m,icon:l}))},f=r.forwardRef(j),P=f},16664:function(Y,C,n){n.d(C,{Z:function(){return P}});var I=n(87462),r=n(67294),S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"},l=S,o=n(84089),j=function(i,m){return r.createElement(o.Z,(0,I.Z)({},i,{ref:m,icon:l}))},f=r.forwardRef(j),P=f},75516:function(Y,C,n){n.d(C,{Z:function(){return b}});var I=n(89035),r=n(37476),S=n(38345),l=n(97462),o=n(62370),j=n(54006),f=n(14726),P=n(63490),B=n(78045),i=n(67294),m=n(85893);function b(x){return(0,m.jsx)(r.Y,{trigger:(0,m.jsx)(f.ZP,{type:"dashed",icon:(0,m.jsx)(I.Z,{}),children:"Console"}),submitter:!1,children:(0,m.jsxs)(S.Z,{children:[(0,m.jsx)(l.Z,{name:["entryCmd"],children:function(c){var T,O=c.entryCmd,g=O?"/bin/"+O:"/bin/sh";return(0,m.jsx)(P.Z,{columns:[{title:"\u5BB9\u5668\u540D\u79F0",key:"name",dataIndex:"name",ellipsis:!0},{title:"\u5DE5\u4F5C\u76EE\u5F55",key:"workDir",dataIndex:"workDir"},{title:"\u72B6\u6001",key:"status",dataIndex:"status",width:150},{title:"\u64CD\u4F5C",key:"status",width:150,render:function(R,d,$){return(0,m.jsx)(j.Link,{to:"/console/".concat(x.container.Id,"?cmd=").concat(encodeURIComponent(g),"&workDir=").concat(encodeURIComponent(x.container.Config.WorkingDir?x.container.Config.WorkingDir:"/")),target:"_blank",children:"\u767B\u5F55"})}}],dataSource:[{key:1,name:x.container.Id,status:x.container.State.Status,workDir:(T=x.container.Config.WorkingDir)!==null&&T!==void 0?T:"/"}],rowKey:"key",pagination:!1})}}),(0,m.jsx)(o.Z,{name:"entryCmd",label:"Shell\u73AF\u5883\uFF08\u4EC5\u505A\u9ED8\u8BA4\u73AF\u5883\uFF0C\u767B\u5F55\u540E\u53EF\u5207\u6362\u81F3\u5176\u4ED6\u73AF\u5883\uFF09",style:{marginTop:15},initialValue:"sh",children:(0,m.jsxs)(B.ZP.Group,{children:[(0,m.jsx)(B.ZP,{value:"bash",children:"/bin/bash"}),(0,m.jsx)(B.ZP,{value:"sh",children:"/bin/sh"})]})})]})})}},80821:function(Y,C,n){n.d(C,{Z:function(){return B}});var I=n(5574),r=n.n(I),S=n(24963),l=n(86738),o=n(14726),j=n(83062),f=n(67294),P=n(85893);function B(i){var m=(0,f.useState)(!1),b=r()(m,2),x=b[0],J=b[1],c=(0,f.useContext)(S.Z),T=c.lang,O=c.notice,g=c.message,F=function(){J(!0),i.action().then(function(d){if(J(!1),typeof i.onSuccess=="function"&&i.onSuccess(d),i.messageSuccess){var $="";typeof i.messageSuccess=="function"?$=i.messageSuccess(d):$=i.messageSuccess,$.indexOf(".")>-1&&($=T($)),i.asynced?g.info($):g.success($)}}).catch(function(d){J(!1),typeof i.onError=="function"&&i.onError(d)})};return i.confirm?(0,P.jsx)(l.Z,{style:{width:500},title:T("notification.title.tip"),description:i.confirm,onConfirm:F,okText:"Yes",cancelText:"No",children:(0,P.jsx)(o.ZP,{disabled:i.disabled,icon:i.icon,loading:x,danger:i.danger,type:i.type,children:i.children})}):(0,P.jsx)(j.Z,{title:i.tips,children:(0,P.jsx)(o.ZP,{disabled:i.disabled,icon:i.icon,loading:x,onClick:F,danger:i.danger,type:i.type,children:i.children})})}},78498:function(Y,C,n){n.d(C,{Z:function(){return j}});var I=n(25035),r=n(42075),S=n(83062),l=n(67294),o=n(85893);function j(f){return(0,o.jsxs)(r.Z,{children:[f.title,(0,o.jsx)(S.Z,{title:f.help,children:(0,o.jsx)(I.Z,{})})]})}},24963:function(Y,C,n){var I=n(67294),r=(0,I.createContext)({});C.Z=r},54198:function(Y,C,n){n.r(C),n.d(C,{default:function(){return tn}});var I=n(15009),r=n.n(I),S=n(99289),l=n.n(S),o=n(5574),j=n.n(o),f=n(14946),P=n(29158),B=n(48689),i=n(38345),m=n(10641),b=n(42075),x=n(60922),J=n(83062),c=n(67294),T=n(80821),O=n(60335),g=n(64599),F=n.n(g),R=n(87462),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 680h-54V540H546v-92h238c8.8 0 16-7.2 16-16V168c0-8.8-7.2-16-16-16H240c-8.8 0-16 7.2-16 16v264c0 8.8 7.2 16 16 16h238v92H190v140h-54c-4.4 0-8 3.6-8 8v176c0 4.4 3.6 8 8 8h176c4.4 0 8-3.6 8-8V688c0-4.4-3.6-8-8-8h-54v-72h220v72h-54c-4.4 0-8 3.6-8 8v176c0 4.4 3.6 8 8 8h176c4.4 0 8-3.6 8-8V688c0-4.4-3.6-8-8-8h-54v-72h220v72h-54c-4.4 0-8 3.6-8 8v176c0 4.4 3.6 8 8 8h176c4.4 0 8-3.6 8-8V688c0-4.4-3.6-8-8-8zM256 805.3c0 1.5-1.2 2.7-2.7 2.7h-58.7c-1.5 0-2.7-1.2-2.7-2.7v-58.7c0-1.5 1.2-2.7 2.7-2.7h58.7c1.5 0 2.7 1.2 2.7 2.7v58.7zm288 0c0 1.5-1.2 2.7-2.7 2.7h-58.7c-1.5 0-2.7-1.2-2.7-2.7v-58.7c0-1.5 1.2-2.7 2.7-2.7h58.7c1.5 0 2.7 1.2 2.7 2.7v58.7zM288 384V216h448v168H288zm544 421.3c0 1.5-1.2 2.7-2.7 2.7h-58.7c-1.5 0-2.7-1.2-2.7-2.7v-58.7c0-1.5 1.2-2.7 2.7-2.7h58.7c1.5 0 2.7 1.2 2.7 2.7v58.7zM360 300a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"cluster",theme:"outlined"},$=d,te=n(84089),oe=function(y,D){return c.createElement(te.Z,(0,R.Z)({},y,{ref:D,icon:$}))},ue=c.forwardRef(oe),v=ue,Z=n(184),_=n(14726),a=n(4798),t=n(85893);function je(L){var y=(0,c.useRef)();return[(0,t.jsx)(Z.a,{trigger:(0,t.jsx)(_.ZP,{type:"primary",icon:(0,t.jsx)(v,{}),children:"\u52A0\u5165\u5DF2\u6709\u7F51\u7EDC"},"button"),width:800,formRef:y,title:"\u914D\u7F6E\u7F51\u7EDC",onFinish:function(){var D=l()(r()().mark(function A(h){var G,M,U,w,W;return r()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!h.network){p.next=19;break}M=F()(h.network),p.prev=2,M.s();case 4:if((U=M.n()).done){p.next=11;break}return w=U.value,p.next=8,(0,f.HY)({name:w.name,containerName:L.containerName,containerAlise:w.alise,ipV4:w.ipV4});case 8:W=p.sent;case 9:p.next=4;break;case 11:p.next=16;break;case 13:p.prev=13,p.t0=p.catch(2),M.e(p.t0);case 16:return p.prev=16,M.f(),p.finish(16);case 19:return!((G=y.current)===null||G===void 0)&&G.resetFields&&y.current.resetFields(),L.onSuccess&&L.onSuccess(),p.abrupt("return",!0);case 22:case"end":return p.stop()}},A,null,[[2,13,16,19]])}));return function(A){return D.apply(this,arguments)}}(),children:(0,t.jsx)(a.Z,{siteName:L.containerName})},"form")]}var fe=n(78498);function xe(L){var y=(0,c.useRef)();return(0,t.jsx)(i.Z,{title:(0,t.jsx)(P.Z,{}),subTitle:"\u5BB9\u5668\u5173\u8054\u4FE1\u606F",ghost:!0,extra:(0,t.jsx)(je,{onSuccess:function(){var A,h;!((A=y.current)===null||A===void 0)&&A.reloadAndRest&&((h=y.current)===null||h===void 0||h.reloadAndRest())},containerName:L.containerName}),children:(0,t.jsx)(m.Z,{scroll:{x:"max-content"},rowKey:"key",actionRef:y,pagination:!1,options:!1,columns:[{title:"\u6240\u5C5E\u7F51\u7EDC",key:"name",dataIndex:"networkName",width:300},{title:"\u5BB9\u5668\u540D\u79F0",key:"containerName",dataIndex:"containerName"},{title:(0,t.jsx)(fe.Z,{title:"hostname",help:"\u63D0\u4F9B\u5BB9\u5668\u5185\u90E8\u8BBF\u95EE"}),key:"hostName",render:function(A,h,G){return h.hostName?(0,t.jsx)(b.Z,{direction:"vertical",children:h.hostName.map(function(M){if(M)return(0,t.jsx)(x.Z.Text,{copyable:!0,keyboard:!0,children:M},M)})}):(0,t.jsx)(t.Fragment,{})}},{title:"Ip",key:"ip",render:function(A,h,G,M,U){return(0,t.jsxs)(b.Z,{direction:"vertical",children:[(0,t.jsx)("span",{children:h.networkInfo.IPv4Address}),h.networkInfo.IPv6Address&&(0,t.jsx)("span",{children:h.networkInfo.IPv6Address})]})}},{title:"\u64CD\u4F5C",key:"option",width:100,render:function(A,h,G,M,U){return(0,t.jsx)(b.Z,{children:h.key!="bridge"&&h.key!="none"&&h.key!="host"&&h.networkName!=""&&(0,t.jsx)(J.Z,{title:"\u9000\u51FA\u7F51\u7EDC",children:(0,t.jsx)(T.Z,{confirm:"\u786E\u8BA4\u9000\u51FA\u8BE5\u7F51\u7EDC\uFF1F",type:"link",action:function(){var W;return(0,f.t9)({name:h.networkName,containerName:(W=L.containerName)!==null&&W!==void 0?W:""})},messageSuccess:"\u9000\u51FA\u6210\u529F",onSuccess:function(){var W,e;!((W=y.current)===null||W===void 0)&&W.reloadAndRest&&((e=y.current)===null||e===void 0||e.reloadAndRest())},children:(0,t.jsx)(B.Z,{})})})})}}],request:function(){var D=l()(r()().mark(function A(h,G,M){var U,w;return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,O.jV)({md5:L.containerName});case 2:return U=e.sent,e.next=5,(0,f._3)({name:Object.keys(U.data.info.NetworkSettings.Networks)});case 5:return w=e.sent,e.abrupt("return",{data:w.data.list,success:!0,total:w.data.list.length});case 7:case"end":return e.stop()}},A)}));return function(A,h,G){return D.apply(this,arguments)}}(),search:!1,expandable:{defaultExpandAllRows:!0,expandRowByClick:!1,defaultExpandedRowKeys:["bridge"]}})})}var Ce=n(44771);function de(L){return(0,t.jsx)(x.Z.Text,{copyable:!0,children:L.title})}var Oe=n(62597),Ie=n(43425),he=n(74842),pe=n(87784),Pe=n(33160),Ze=n(30159),ye=n(58638),Fe=n(86548),De=n(57132),Se=n(45605),Be={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-600 72h560v208H232V136zm560 480H232V408h560v208zm0 272H232V680h560v208zM496 208H312c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 544h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H312c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm328 244a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"hdd",theme:"outlined"},be=Be,Te=function(y,D){return c.createElement(te.Z,(0,R.Z)({},y,{ref:D,icon:be}))},Le=c.forwardRef(Te),Ae=Le,Me=n(32319),Re=n(16664),ke=n(97269),ae=n(54006),ce=n(96074),me=n(84567),E=n(26412),Ue=n(66309),We=n(93162),Ne=n(87662),_e=n(75516),we=n(28031),He=n(551),$e=function(y,D){return c.createElement(te.Z,(0,R.Z)({},y,{ref:D,icon:He.Z}))},Ke=c.forwardRef($e),Ve=Ke,ze=n(85576),Ge=n(63490),Ye=n(37476),Je=n(86615),Qe=n(97462),Xe=n(5966),qe=n(2831);function en(L){var y=ze.Z.useModal(),D=j()(y,2),A=D[0],h=D[1],G=(0,c.useState)(),M=j()(G,2),U=M[0],w=M[1],W=(0,c.useRef)(),e="";return(0,c.useEffect)(function(){var p,Q;(0,qe.a)().then(function(K){w(K.data.dpanel.containerInfo)}),e=(p=localStorage.getItem("backupPath"))!==null&&p!==void 0?p:"",(Q=W.current)===null||Q===void 0||Q.setFieldValue("backupPath",e)},[]),(0,t.jsxs)(t.Fragment,{children:[h,(0,t.jsxs)(Ye.Y,{modalProps:{forceRender:!0},formRef:W,title:"\u5907\u4EFD\u5BB9\u5668\u5B58\u50A8\u5377",trigger:(0,t.jsxs)(_.ZP,{children:[(0,t.jsx)(Ve,{})," \u5907\u4EFD\u5B58\u50A8"]}),onFinish:function(){var p=l()(r()().mark(function Q(K){var V,X;return r()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return K.backupPath&&localStorage.setItem("backupPath",K.backupPath),V={containerMd5:L.container.Id,backupTargetType:K.backupTargetType,backupPath:K.backupPath},K.backupTargetType=="dpanel"&&U&&U.Mounts&&U.Mounts.map(function(ne){ne.Destination=="/dpanel"&&(V.backupPath=ne.Type=="volume"?ne.Name:V.backupPath=ne.Source)}),q.next=5,(0,we.vp)(V);case 5:return X=q.sent,A.info({title:"\u6B63\u5728\u5907\u4EFD\u5B58\u50A8\u4E2D",content:(0,t.jsx)(i.Z,{ghost:!0,style:{paddingTop:30},children:(0,t.jsx)(Ge.Z,{columns:[{title:"\u5907\u4EFD\u6587\u4EF6",key:"backup",dataIndex:"backup",width:300,render:function(ie,z,se){return(0,t.jsx)(x.Z.Paragraph,{ellipsis:{rows:5,expandable:!0},children:z.backupTar})}},{title:"\u5907\u4EFD\u76EE\u5F55",key:"pathList",dataIndex:"pathList",render:function(ie,z,se){return z.pathList.map(function(ve,le){return(0,t.jsx)("div",{children:ve},le)})}}],dataSource:[{key:1,backupTar:X.data.backupTar,pathList:X.data.pathList}],rowKey:"key",pagination:!1})}),closable:!0,width:800}),q.abrupt("return",!0);case 8:case"end":return q.stop()}},Q)}));return function(Q){return p.apply(this,arguments)}}(),children:[(0,t.jsx)(Je.Z.Group,{label:"\u5907\u4EFD\u76EE\u6807\u4F4D\u7F6E",name:"backupTargetType",initialValue:"dpanel",fieldProps:{defaultValue:"dpanel"},options:[{label:"DPanel \u5907\u4EFD\u76EE\u5F55\u4E2D",value:"dpanel"},{label:"\u5BBF\u4E3B\u673A\u76EE\u5F55\u4E2D",value:"host"}]}),(0,t.jsx)(Qe.Z,{name:["backupTargetType"],children:function(Q){var K=Q.backupTargetType;return K=="host"?(0,t.jsx)(Xe.Z,{label:"\u6307\u5B9A\u5BBF\u4E3B\u673A\u76EE\u5F55",tooltip:"\u8BF7\u586B\u5199\u5BBF\u4E3B\u673A\u76EE\u5F55\uFF0C\u4E0D\u5B58\u65F6\u4F1A\u65B0\u5EFA",name:"backupPath",placeholder:"/home/backup",initialValue:"/home/backup"}):(0,t.jsxs)(t.Fragment,{children:["\u5907\u4EFD\u4F4D\u4E8E DPanel \u5BB9\u5668\u4E2D\u7684 /dpanel/backup \u8DEF\u5F84 ",(0,t.jsx)(ae.Link,{target:"_blank",to:"/app/detail/file/".concat(U==null?void 0:U.Id,"?tab=file&path=").concat(encodeURIComponent("/dpanel/backup")),children:"\u67E5\u770B"})]})}})]})]})}var ge=n(78451),nn=n(24963);function tn(){var L,y,D,A=(0,c.useContext)(nn.Z),h=A.message,G=A.notice,M=A.loading,U=(0,ae.useParams)(),w=(0,c.useState)(),W=j()(w,2),e=W[0],p=W[1],Q=(0,c.useState)(1),K=j()(Q,2),V=K[0],X=K[1],Ee=(0,ae.useNavigate)(),q=(0,c.useRef)(),ne=(0,c.useState)({deleteImage:!1,deleteVolume:!1,deleteLink:!1}),ie=j()(ne,2),z=ie[0],se=ie[1],ve=(0,c.useState)(""),le=j()(ve,2),an=le[0],rn=le[1];return(0,c.useEffect)(function(){var s;M.show(),(0,O.jV)({md5:(s=U.id)!==null&&s!==void 0?s:""}).then(function(u){var N;u.data&&(u.data.info.HostConfig.NetworkMode=="host"&&u.data.info.Config.ExposedPorts&&Object.keys(u.data.info.Config.ExposedPorts).map(function(k){u.data.info.NetworkSettings.Ports[k]=[{HostIp:"0.0.0.0",HostPort:k.substring(0,k.indexOf("/"))}]}),p(u.data.info)),(N=q.current)===null||N===void 0||N.setFieldValue("restart",u.data.info.HostConfig.RestartPolicy.Name)}).finally(function(){M.destroy()}),(0,Ne.pe)({groupName:"setting",name:"server"}).then(function(u){u.data.setting.value.serverIp&&rn(u.data.setting.value.serverIp)})},[V]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(i.Z,{direction:"column",gutter:[0,10],children:[(0,t.jsx)(i.Z,{title:(0,t.jsx)(Ie.Z,{}),subTitle:"\u5E38\u7528\u64CD\u4F5C",ghost:!0,children:(0,t.jsxs)(b.Z,{wrap:!0,children:[(0,t.jsx)(T.Z,{icon:(0,t.jsx)(he.Z,{}),action:function(){var u;return(0,O.IW)({md5:(u=e==null?void 0:e.Id)!==null&&u!==void 0?u:"",operate:"start"})},messageSuccess:"\u542F\u52A8\u6210\u529F",onSuccess:function(){return X(V+1)},disabled:e&&e.State.Running||e&&e.State.Paused,children:"\u542F\u52A8"}),(0,t.jsx)(T.Z,{action:function(){var u;return(0,O.IW)({md5:(u=e==null?void 0:e.Id)!==null&&u!==void 0?u:"",operate:"stop"})},messageSuccess:"\u505C\u6B62\u6210\u529F",icon:(0,t.jsx)(pe.Z,{}),onSuccess:function(){return X(V+1)},disabled:e&&e.State.Dead,children:"\u505C\u6B62"}),(0,t.jsx)(T.Z,{action:function(){var u;return(0,O.IW)({md5:(u=e==null?void 0:e.Id)!==null&&u!==void 0?u:"",operate:"restart"})},messageSuccess:"\u91CD\u542F\u6210\u529F",onSuccess:function(){return X(V+1)},icon:(0,t.jsx)(Pe.Z,{}),children:"\u91CD\u542F"}),(0,t.jsx)(T.Z,{action:function(){var u;return(0,O.IW)({md5:(u=e==null?void 0:e.Id)!==null&&u!==void 0?u:"",operate:"pause"})},messageSuccess:"\u6682\u505C\u6210\u529F",onSuccess:function(){return X(V+1)},icon:(0,t.jsx)(Ze.Z,{}),disabled:e&&!e.State.Running,children:"\u6682\u505C"}),(0,t.jsx)(T.Z,{action:function(){var u;return(0,O.IW)({md5:(u=e==null?void 0:e.Id)!==null&&u!==void 0?u:"",operate:"unpause"})},messageSuccess:"\u542F\u52A8\u6210\u529F",onSuccess:function(){return X(V+1)},icon:(0,t.jsx)(he.Z,{}),disabled:e&&!e.State.Paused,children:"\u6062\u590D"}),(0,t.jsx)(ce.Z,{type:"vertical"}),(0,t.jsx)(_e.Z,{container:e}),(0,t.jsx)(ce.Z,{type:"vertical"}),(0,t.jsx)(T.Z,{action:function(){var u;return(0,Oe.Ct)({md5:(u=e==null?void 0:e.Id)!==null&&u!==void 0?u:"",deleteImage:z.deleteImage,deleteVolume:z.deleteVolume})},messageSuccess:"\u5220\u9664\u6210\u529F",danger:!0,type:"primary",icon:(0,t.jsx)(pe.Z,{}),onSuccess:function(){return Ee("/app/list")},confirm:(0,t.jsxs)(b.Z,{style:{width:280},direction:"vertical",children:[(0,t.jsx)(x.Z.Text,{children:"\u5220\u9664\u5BB9\u5668\u540E\u65E0\u6CD5\u6062\u590D,\u786E\u8BA4\u5417\uFF1F"}),(0,t.jsx)(me.Z,{name:"deleteVolume",onChange:function(u){return se({deleteImage:z.deleteImage,deleteVolume:u.target.checked,deleteLink:z.deleteLink})},children:"\u5220\u9664\u5B58\u50A8\uFF1F"}),(0,t.jsx)(me.Z,{name:"deleteImage",onChange:function(u){return se({deleteImage:u.target.checked,deleteVolume:z.deleteVolume,deleteLink:z.deleteLink})},children:"\u5220\u9664\u955C\u50CF\uFF1F"}),(0,t.jsx)(me.Z,{name:"deleteLink",onChange:function(u){return se({deleteImage:z.deleteVolume,deleteVolume:z.deleteVolume,deleteLink:u.target.checked})},children:"\u5220\u9664\u5173\u8054\u5BB9\u5668\uFF1F"})]}),children:"\u5220\u9664"}),(0,t.jsx)(T.Z,{icon:(0,t.jsx)(ye.Z,{}),action:function(){var u;return(0,O.LJ)({md5:(u=e==null?void 0:e.Id)!==null&&u!==void 0?u:""})},onSuccess:function(u){var N=new Blob([u],{type:"application/tar"});(0,We.saveAs)(N,(e==null?void 0:e.Id)+".tar")},messageSuccess:"\u5BFC\u51FA\u6210\u529F",children:"\u5BFC\u51FA"}),(0,t.jsx)(en,{container:e}),(0,t.jsx)(ce.Z,{type:"vertical"}),(0,t.jsx)(ae.Link,{to:"/app/create/image?containerId=".concat(e==null?void 0:e.Id,"&op=update"),children:(0,t.jsx)(_.ZP,{type:"primary",icon:(0,t.jsx)(Fe.Z,{}),children:"\u66F4\u65B0\u5BB9\u5668"})}),(0,t.jsx)(ae.Link,{to:"/app/create/image?containerId=".concat(e==null?void 0:e.Id,"&op=copy"),children:(0,t.jsx)(_.ZP,{icon:(0,t.jsx)(De.Z,{}),children:"\u590D\u5236"})})]})}),(0,t.jsx)(i.Z,{title:(0,t.jsx)(Se.Z,{}),subTitle:"\u5BB9\u5668\u72B6\u6001",ghost:!0,children:(0,t.jsxs)(E.Z,{column:1,bordered:!0,children:[(0,t.jsx)(E.Z.Item,{label:"ID",children:(0,t.jsx)(de,{title:e==null?void 0:e.Id})}),(0,t.jsx)(E.Z.Item,{label:"\u5BB9\u5668\u540D\u79F0",children:(0,t.jsx)(x.Z.Text,{editable:{tooltip:"\u4FEE\u6539\u5BB9\u5668\u540D\u79F0",onChange:function(){var s=l()(r()().mark(function N(k){var H;return r()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(e!=null&&e.Id){re.next=2;break}return re.abrupt("return");case 2:return re.next=4,(0,O.eE)({md5:e.Id,name:k});case 4:H=re.sent,X(V+1),h.success("\u4FEE\u6539\u5BB9\u5668\u540D\u79F0");case 7:case"end":return re.stop()}},N)}));function u(N){return s.apply(this,arguments)}return u}()},children:e&&e.Name})}),(0,t.jsx)(E.Z.Item,{label:(0,t.jsx)(fe.Z,{title:"\u7F51\u7EDC",help:"\u9ED8\u8BA4\u7F51\u7EDC\u53EA\u652F\u6301\u901A\u8FC7ip\u8BBF\u95EE,ip\u4F1A\u968F\u7740\u5BB9\u5668\u542F\u52A8\u505C\u6B62\u6539\u53D8.\u5982\u679C\u9700\u8981\u5728\u5BB9\u5668\u5185\u4E92\u8054,\u8BF7\u901A\u8FC7\u3010\u7F16\u8F91\u7AD9\u70B9\u3011-\u3010\u6DFB\u52A0\u5173\u8054\u3011"}),children:(e==null?void 0:e.State.Running)&&(0,t.jsxs)(E.Z,{column:1,bordered:!0,children:[e.NetworkSettings.Networks&&Object.keys(e.NetworkSettings.Networks).map(function(s,u){return(0,t.jsx)(E.Z.Item,{label:s,children:s=="host"?" Host \u7F51\u7EDC\uFF0C\u4E0E\u5BBF\u4E3B\u673A\u5171\u7528\u540C\u4E00\u7F51\u7EDC":(0,t.jsxs)(b.Z,{direction:"vertical",children:[(0,t.jsx)(de,{title:e==null?void 0:e.NetworkSettings.Networks[s].IPAddress}),e==null?void 0:e.NetworkSettings.Networks[s].Gateway,e==null?void 0:e.NetworkSettings.Networks[s].MacAddress]})},"1")}),e.HostConfig.ExtraHosts&&(0,t.jsx)(E.Z.Item,{label:"\u5BBF\u4E3B\u673A\u7F51\u7EDC",children:(0,t.jsx)(b.Z,{direction:"vertical",children:e.HostConfig.ExtraHosts.map(function(s){if(s.indexOf(":")>-1){var u=s.split(":");return(0,t.jsxs)(b.Z,{children:[(0,t.jsx)(de,{title:u[0]})," - ",u[1]]})}})})},"1")]})}),(0,t.jsx)(E.Z.Item,{label:"\u72B6\u6001",children:e==null?void 0:e.State.Status}),(0,t.jsx)(E.Z.Item,{label:"\u521B\u5EFA\u65F6\u95F4",children:new Date((L=e==null?void 0:e.Created)!==null&&L!==void 0?L:"").toLocaleString()}),(0,t.jsx)(E.Z.Item,{label:"\u542F\u52A8\u65F6\u95F4",children:new Date((y=e==null?void 0:e.State.StartedAt)!==null&&y!==void 0?y:"").toLocaleString()}),(0,t.jsx)(E.Z.Item,{label:"\u91CD\u542F\u7B56\u7565",children:(0,t.jsx)(ke.A,{onFinish:function(){var s=l()(r()().mark(function u(N){var k;return r()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(e!=null&&e.Id){ee.next=2;break}return ee.abrupt("return");case 2:return ee.next=4,(0,O.eE)({md5:e.Id,restart:N.restart});case 4:return k=ee.sent,h.success("\u4FEE\u6539\u91CD\u542F\u7B56\u7565\u6210\u529F"),ee.abrupt("return");case 7:case"end":return ee.stop()}},u)}));return function(u){return s.apply(this,arguments)}}(),formRef:q,children:(0,t.jsx)(Ce.Z,{defaultValue:e==null?void 0:e.HostConfig.RestartPolicy.Name})})})]})}),e&&e.Mounts&&e.Mounts.length>0&&(0,t.jsx)(i.Z,{title:(0,t.jsx)(Ae,{}),subTitle:"\u6301\u4E45\u5B58\u50A8\u8BE6\u60C5",ghost:!0,children:(0,t.jsx)(E.Z,{column:1,bordered:!0,children:e==null?void 0:e.Mounts.map(function(s,u){return(0,t.jsx)(E.Z.Item,{labelStyle:{width:"30%"},label:s.Type=="volume"?(0,t.jsx)(ge.Z,{content:s.Name}):s.Source,children:(0,t.jsxs)(ae.Link,{target:"_blank",to:"/app/detail/file/".concat(e.Id,"?tab=file&path=").concat(encodeURIComponent(s.Destination)),children:[s.Destination," ",(0,t.jsx)(Me.Z,{})]})},u)})})}),(0,t.jsx)(i.Z,{title:(0,t.jsx)(Re.Z,{}),subTitle:"\u955C\u50CF\u8BE6\u60C5",ghost:!0,children:(0,t.jsxs)(E.Z,{labelStyle:{width:"200px"},column:1,bordered:!0,children:[(0,t.jsx)(E.Z.Item,{label:"Image Tag",children:(0,t.jsx)(ae.Link,{target:"_blank",to:"/image/detail/"+(e==null?void 0:e.Image),children:e==null?void 0:e.Config.Image})}),(0,t.jsx)(E.Z.Item,{label:"Image",children:e==null?void 0:e.Image}),(0,t.jsx)(E.Z.Item,{label:"Port",children:(0,t.jsx)(b.Z,{direction:"vertical",children:(e==null?void 0:e.NetworkSettings.Ports)&&Object.keys(e.NetworkSettings.Ports).map(function(s){var u,N=(u=e==null?void 0:e.NetworkSettings.Ports[s])!==null&&u!==void 0?u:[{HostPort:null,HostIp:""}];return N.map(function(k){var H=an;return H!=""&&H.indexOf(":")>-1&&(H="[".concat(H,"]")),H==""&&k.HostIp=="::"&&(H="[::1]"),H==""&&k.HostIp=="0.0.0.0"&&(H="127.0.0.1"),H==""&&(H=k.HostIp),(0,t.jsxs)(b.Z.Compact,{children:[(0,t.jsxs)(Ue.Z,{color:k.HostPort?"success":"",children:[k.HostPort?"".concat(k.HostIp,":").concat(k.HostPort," ->"):"",s]},s),k.HostPort?(0,t.jsx)("a",{href:"http://".concat(H,":").concat(k.HostPort),target:"_blank",children:(0,t.jsx)(P.Z,{})}):""]})})})})}),(0,t.jsx)(E.Z.Item,{label:"CMD",children:(e==null?void 0:e.Config.Cmd)&&(e==null?void 0:e.Config.Cmd.join(" "))}),(0,t.jsx)(E.Z.Item,{label:"ENTRYPOINT",children:e==null?void 0:e.Config.Entrypoint}),(0,t.jsx)(E.Z.Item,{label:"ENV",children:(0,t.jsx)(E.Z,{column:1,bordered:!0,children:(e==null?void 0:e.Config.Env)&&e.Config.Env.map(function(s,u){var N=s.split("=");return(0,t.jsx)(E.Z.Item,{label:N[0],children:(0,t.jsx)(ge.Z,{content:N[1]})},u)})})}),(0,t.jsx)(E.Z.Item,{label:"Labels",children:(0,t.jsx)(E.Z,{column:1,bordered:!0,children:e&&Object.keys(e.Config.Labels).map(function(s){return(0,t.jsx)(E.Z.Item,{label:s,children:(0,t.jsx)(x.Z.Text,{style:{width:"400px"},ellipsis:{tooltip:e.Config.Labels[s]},children:e.Config.Labels[s]})},s)})})})]})}),(e==null?void 0:e.Name)&&(0,t.jsx)(xe,{containerName:(D=e==null?void 0:e.Name)!==null&&D!==void 0?D:""})]})})}},28031:function(Y,C,n){n.d(C,{C4:function(){return g},LK:function(){return T},OQ:function(){return R},V9:function(){return j},Yx:function(){return b},ZU:function(){return i},_U:function(){return P},gb:function(){return J},lE:function(){return oe},vp:function(){return $}});var I=n(15009),r=n.n(I),S=n(99289),l=n.n(S),o=n(54006);function j(v){return f.apply(this,arguments)}function f(){return f=l()(r()().mark(function v(Z){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,o.request)("/api/app/explorer/get-path-list",{data:Z,method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},v)})),f.apply(this,arguments)}function P(v){return B.apply(this,arguments)}function B(){return B=l()(r()().mark(function v(Z){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,o.request)("/api/app/explorer/export",{data:Z,method:"POST",responseType:"blob"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},v)})),B.apply(this,arguments)}function i(v){return m.apply(this,arguments)}function m(){return m=l()(r()().mark(function v(Z){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,o.request)("/api/app/explorer/import",{data:Z,method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},v)})),m.apply(this,arguments)}function b(v){return x.apply(this,arguments)}function x(){return x=l()(r()().mark(function v(Z){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,o.request)("/api/app/explorer/delete",{data:Z,method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},v)})),x.apply(this,arguments)}function J(v){return c.apply(this,arguments)}function c(){return c=l()(r()().mark(function v(Z){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,o.request)("/api/app/explorer/unzip",{data:Z,method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},v)})),c.apply(this,arguments)}function T(v){return O.apply(this,arguments)}function O(){return O=l()(r()().mark(function v(Z){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,o.request)("/api/app/explorer/get-content",{data:Z,method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},v)})),O.apply(this,arguments)}function g(v){return F.apply(this,arguments)}function F(){return F=l()(r()().mark(function v(Z){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,o.request)("/api/app/explorer/import-file-content",{data:Z,method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},v)})),F.apply(this,arguments)}function R(v){return d.apply(this,arguments)}function d(){return d=l()(r()().mark(function v(Z){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,o.request)("/api/app/explorer/chmod",{data:Z,method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},v)})),d.apply(this,arguments)}function $(v){return te.apply(this,arguments)}function te(){return te=l()(r()().mark(function v(Z){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,o.request)("/api/app/volume/backup",{data:Z,method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},v)})),te.apply(this,arguments)}function oe(v){return ue.apply(this,arguments)}function ue(){return ue=l()(r()().mark(function v(Z){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,o.request)("/api/app/explorer/get-passwd",{data:Z,method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},v)})),ue.apply(this,arguments)}},60335:function(Y,C,n){n.d(C,{IE:function(){return P},IW:function(){return j},KK:function(){return J},LJ:function(){return T},eE:function(){return b},jV:function(){return i}});var I=n(15009),r=n.n(I),S=n(99289),l=n.n(S),o=n(54006);function j(g){return f.apply(this,arguments)}function f(){return f=l()(r()().mark(function g(F){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,o.request)("/api/app/container/status",{method:"POST",data:F}));case 1:case"end":return d.stop()}},g)})),f.apply(this,arguments)}function P(g){return B.apply(this,arguments)}function B(){return B=l()(r()().mark(function g(F){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,o.request)("/api/app/container/get-list",{data:F,method:"POST"}));case 1:case"end":return d.stop()}},g)})),B.apply(this,arguments)}function i(g){return m.apply(this,arguments)}function m(){return m=l()(r()().mark(function g(F){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,o.request)("/api/app/container/get-detail",{data:F,method:"POST"}));case 1:case"end":return d.stop()}},g)})),m.apply(this,arguments)}function b(g){return x.apply(this,arguments)}function x(){return x=l()(r()().mark(function g(F){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,o.request)("/api/app/container/update",{data:F,method:"POST"}));case 1:case"end":return d.stop()}},g)})),x.apply(this,arguments)}function J(){return c.apply(this,arguments)}function c(){return c=l()(r()().mark(function g(){return r()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",(0,o.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return R.stop()}},g)})),c.apply(this,arguments)}function T(g){return O.apply(this,arguments)}function O(){return O=l()(r()().mark(function g(F){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,o.request)("/api/app/container/export",{method:"POST",data:F,responseType:"blob"}));case 1:case"end":return d.stop()}},g)})),O.apply(this,arguments)}}}]);
