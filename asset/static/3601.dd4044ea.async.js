"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3601],{43425:function(N,W,t){var x=t(87462),f=t(67294),b=t(34689),m=t(84089),R=function(j,L){return f.createElement(m.Z,(0,x.Z)({},j,{ref:L,icon:b.Z}))},I=f.forwardRef(R);W.Z=I},184:function(N,W,t){t.d(W,{a:function(){return Ce}});var x=t(4942),f=t(74165),b=t(15861),m=t(1413),R=t(97685),I=t(45987),k=t(12044),j=t(51812),L=t(48171),oe=t(73177),ie=t(21532),le=t(85265),ae=t(93967),se=t.n(ae),ue=t(55917),de=t(21770),ve=t(80334),a=t(67294),ce=t(73935),fe=t(89671),me=t(98082),he=function(p){return(0,x.Z)({},p.componentCls,{"&-sidebar-dragger":{width:"5px",cursor:"ew-resize",padding:"4px 0 0",borderTop:"1px solid transparent",position:"absolute",top:0,left:0,bottom:0,zIndex:100,backgroundColor:"transparent","&-min-disabled":{cursor:"w-resize"},"&-max-disabled":{cursor:"e-resize"}}})};function pe(d){return(0,me.Xj)("DrawerForm",function(p){var C=(0,m.Z)((0,m.Z)({},p),{},{componentCls:".".concat(d)});return[he(C)]})}var h=t(85893),ge=["children","trigger","onVisibleChange","drawerProps","onFinish","submitTimeout","title","width","resize","onOpenChange","visible","open"];function Ce(d){var p,C,xe=d.children,P=d.trigger,S=d.onVisibleChange,l=d.drawerProps,U=d.onFinish,M=d.submitTimeout,Re=d.title,z=d.width,v=d.resize,D=d.onOpenChange,E=d.visible,J=d.open,u=(0,I.Z)(d,ge);(0,ve.ET)(!u.footer||!(l!=null&&l.footer),"DrawerForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002");var o=a.useMemo(function(){var i,e,n,r={onResize:function(){},maxWidth:(0,k.j)()?window.innerWidth*.8:void 0,minWidth:300};return typeof v=="boolean"?v?r:{}:(0,j.Y)({onResize:(i=v==null?void 0:v.onResize)!==null&&i!==void 0?i:r.onResize,maxWidth:(e=v==null?void 0:v.maxWidth)!==null&&e!==void 0?e:r.maxWidth,minWidth:(n=v==null?void 0:v.minWidth)!==null&&n!==void 0?n:r.minWidth})},[v]),$=(0,a.useContext)(ie.ZP.ConfigContext),Y=$.getPrefixCls("pro-form-drawer"),Q=pe(Y),Ze=Q.wrapSSR,q=Q.hashId,A=function(e){return"".concat(Y,"-").concat(e," ").concat(q)},We=(0,a.useState)([]),be=(0,R.Z)(We,2),Pe=be[1],Se=(0,a.useState)(!1),_=(0,R.Z)(Se,2),B=_[0],K=_[1],Me=(0,a.useState)(!1),ee=(0,R.Z)(Me,2),V=ee[0],H=ee[1],$e=(0,a.useState)(z||(v?o==null?void 0:o.minWidth:800)),ne=(0,R.Z)($e,2),G=ne[0],F=ne[1],we=(0,de.Z)(!!E,{value:J||E,onChange:D||S}),re=(0,R.Z)(we,2),w=re[0],Z=re[1],T=(0,a.useRef)(null),Oe=(0,a.useCallback)(function(i){T.current===null&&i&&Pe([]),T.current=i},[]),O=(0,a.useRef)(),ye=(0,a.useCallback)(function(){var i,e,n,r=(i=(e=(n=u.formRef)===null||n===void 0?void 0:n.current)!==null&&e!==void 0?e:u.form)!==null&&i!==void 0?i:O.current;r&&l!==null&&l!==void 0&&l.destroyOnClose&&r.resetFields()},[l==null?void 0:l.destroyOnClose,u.form,u.formRef]);(0,a.useEffect)(function(){w&&(J||E)&&(D==null||D(!0),S==null||S(!0)),V&&F(o==null?void 0:o.minWidth)},[E,w,V]),(0,a.useImperativeHandle)(u.formRef,function(){return O.current},[O.current]);var ze=(0,a.useMemo)(function(){return P?a.cloneElement(P,(0,m.Z)((0,m.Z)({key:"trigger"},P.props),{},{onClick:function(){var i=(0,b.Z)((0,f.Z)().mark(function n(r){var c,s;return(0,f.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:Z(!w),H(!Object.keys(o)),(c=P.props)===null||c===void 0||(s=c.onClick)===null||s===void 0||s.call(c,r);case 3:case"end":return g.stop()}},n)}));function e(n){return i.apply(this,arguments)}return e}()})):null},[Z,P,w,H,V]),De=(0,a.useMemo)(function(){var i,e,n,r;return u.submitter===!1?!1:(0,ue.Z)({searchConfig:{submitText:(i=(e=$.locale)===null||e===void 0||(e=e.Modal)===null||e===void 0?void 0:e.okText)!==null&&i!==void 0?i:"\u786E\u8BA4",resetText:(n=(r=$.locale)===null||r===void 0||(r=r.Modal)===null||r===void 0?void 0:r.cancelText)!==null&&n!==void 0?n:"\u53D6\u6D88"},resetButtonProps:{preventDefault:!0,disabled:M?B:void 0,onClick:function(s){var y;Z(!1),l==null||(y=l.onClose)===null||y===void 0||y.call(l,s)}}},u.submitter)},[u.submitter,(p=$.locale)===null||p===void 0||(p=p.Modal)===null||p===void 0?void 0:p.okText,(C=$.locale)===null||C===void 0||(C=C.Modal)===null||C===void 0?void 0:C.cancelText,M,B,Z,l]),Ee=(0,a.useCallback)(function(i,e){return(0,h.jsxs)(h.Fragment,{children:[i,T.current&&e?(0,h.jsx)(a.Fragment,{children:(0,ce.createPortal)(e,T.current)},"submitter"):e]})},[]),Fe=(0,L.J)(function(){var i=(0,b.Z)((0,f.Z)().mark(function e(n){var r,c,s;return(0,f.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return r=U==null?void 0:U(n),M&&r instanceof Promise&&(K(!0),c=setTimeout(function(){return K(!1)},M),r.finally(function(){clearTimeout(c),K(!1)})),g.next=4,r;case 4:return s=g.sent,s&&Z(!1),g.abrupt("return",s);case 7:case"end":return g.stop()}},e)}));return function(e){return i.apply(this,arguments)}}()),Te=(0,oe.X)(w,S),X=(0,a.useCallback)(function(i){var e,n,r=(document.body.offsetWidth||1e3)-(i.clientX-document.body.offsetLeft),c=(e=o==null?void 0:o.minWidth)!==null&&e!==void 0?e:z||800,s=(n=o==null?void 0:o.maxWidth)!==null&&n!==void 0?n:window.innerWidth*.8;if(r<c){F(c);return}if(r>s){F(s);return}F(r)},[o==null?void 0:o.maxWidth,o==null?void 0:o.minWidth,z]),te=(0,a.useCallback)(function(){document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",te)},[X]);return Ze((0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(le.Z,(0,m.Z)((0,m.Z)((0,m.Z)({title:Re,width:G},l),Te),{},{afterOpenChange:function(e){var n;e||ye(),l==null||(n=l.afterOpenChange)===null||n===void 0||n.call(l,e)},onClose:function(e){var n;M&&B||(Z(!1),l==null||(n=l.onClose)===null||n===void 0||n.call(l,e))},footer:u.submitter!==!1&&(0,h.jsx)("div",{ref:Oe,style:{display:"flex",justifyContent:"flex-end"}}),children:[v?(0,h.jsx)("div",{className:se()(A("sidebar-dragger"),q,(0,x.Z)((0,x.Z)({},A("sidebar-dragger-min-disabled"),G===(o==null?void 0:o.minWidth)),A("sidebar-dragger-max-disabled"),G===(o==null?void 0:o.maxWidth))),onMouseDown:function(e){var n;o==null||(n=o.onResize)===null||n===void 0||n.call(o),e.stopPropagation(),e.preventDefault(),document.addEventListener("mousemove",X),document.addEventListener("mouseup",te),H(!0)}}):null,(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(fe.I,(0,m.Z)((0,m.Z)({formComponentType:"DrawerForm",layout:"vertical"},u),{},{formRef:O,onInit:function(e,n){var r;u.formRef&&(u.formRef.current=n),u==null||(r=u.onInit)===null||r===void 0||r.call(u,e,n),O.current=n},submitter:De,onFinish:function(){var i=(0,b.Z)((0,f.Z)().mark(function e(n){var r;return(0,f.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fe(n);case 2:return r=s.sent,s.abrupt("return",r);case 4:case"end":return s.stop()}},e)}));return function(e){return i.apply(this,arguments)}}(),contentRender:Ee,children:xe}))})]})),ze]}))}},24739:function(N,W,t){t.d(W,{UW:function(){return f}});var x=t(97269),f=x.A.Group}}]);
