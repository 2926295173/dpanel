!(function(){var oe=Object.defineProperty,le=Object.defineProperties;var _e=Object.getOwnPropertyDescriptors;var q=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable;var ee=(I,g,n)=>g in I?oe(I,g,{enumerable:!0,configurable:!0,writable:!0,value:n}):I[g]=n,te=(I,g)=>{for(var n in g||(g={}))ue.call(g,n)&&ee(I,n,g[n]);if(q)for(var n of q(g))ce.call(g,n)&&ee(I,n,g[n]);return I},ne=(I,g)=>le(I,_e(g));(self.webpackChunk=self.webpackChunk||[]).push([[5658],{1699:function(I,g,n){"use strict";n.d(g,{u:function(){return r}});var A=n(9783),h=n.n(A),C=n(97857),u=n.n(C),f=n(67294),d=n(82346),E=n(40411),M=n(42075),t=n(85893),r=function(e){var a=(0,d.useAccess)(),s=Array.isArray(e.access)?e.access:[e.access],i,c=e.fallback;if(typeof e.children=="function"?(i=e.children(s.reduce(function(_,p){return u()(u()({},_),{},h()({},p,a[p]))},{})),i||(i=c)):s.every(function(_){return a[_]})?i=e.children:i=c,!c&&i&&e.showProTips&&a.canSeeEnableCe){if(a.canSeeEnableHiddenProTips)return null;i=(0,t.jsx)(E.Z,{offset:e.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:i})}if(!c&&i&&e.showProRibbonTips&&a.canSeeEnableCe){if(a.canSeeEnableHiddenProTips)return null;i=(0,t.jsx)(E.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:i})}return e.space?(0,t.jsx)(M.Z,u()(u()({},e.space),{},{children:i})):i}},74026:function(I,g,n){"use strict";var A=n(15009),h=n.n(A),C=n(99289),u=n.n(C),f=n(5574),d=n.n(f),E=n(66554),M=n(184),t=n(86615),r=n(97462),o=n(90672),e=n(64317),a=n(5966),s=n(62370),i=n(52688),c=n(28036),_=n(42075),p=n(71230),v=n(15746),O=n(67294),S=n(12491),w=n(35887),T=n(77865),R=n(82346),b=n(3616),L=n(36146),P=n(85893),V=(0,O.forwardRef)(function(W,$){var x=(0,O.useState)(!1),m=d()(x,2),D=m[0],y=m[1],l=(0,O.useRef)(),Y=(0,O.useRef)(),z=(0,O.useState)([]),N=d()(z,2),H=N[0],J=N[1],re=(0,R.useModel)("subscriber"),se=(0,O.useState)(),X=d()(se,2),ie=X[0],Q=X[1],U=new L.Uo("components.appDomain");return re.addDataHandler("domain:apply",function(k){var B;(B=Y.current)===null||B===void 0||B.write(k.data)}),(0,O.useImperativeHandle)($,function(){return{edit:function(B){var j,F;Q(B),(j=l.current)===null||j===void 0||j.resetFields(),(F=l.current)===null||F===void 0||F.setFieldsValue({type:B.CA=="import"?"upload":"apply",domain:B.domain,dnsApi:B.dnsApi,sslKeyContent:B.sslKeyContent,sslCrtContent:B.sslCrtContent}),y(!0)}}}),(0,O.useEffect)(function(){(0,E.q2)().then(function(k){J(k.data.setting.map(function(B){return{label:B.title,value:B.serverName}}))})},[]),(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)(M.a,{title:U.format("certTitle"),drawerProps:{forceRender:!0,width:b.R_},trigger:(0,P.jsx)(c.ZP,{type:"primary",children:U.format("certTitle")}),formRef:l,onFinish:function(){var k=u()(h()().mark(function B(j){var F,Z,K,ae;return h()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if((F=Y.current)===null||F===void 0||F.clear(),j.type!="upload"){G.next=7;break}return G.next=4,(0,E.ui)({type:j.type,sslKeyContent:j.sslKeyContent,sslCrtContent:j.sslCrtContent});case 4:Z=G.sent,G.next=11;break;case 7:return localStorage.setItem("email",(K=j.email)!==null&&K!==void 0?K:""),G.next=10,(0,E.Pf)({type:j.type,domain:j.domain,email:j.email,certServer:j.certServer,autoUpgrade:j.autoUpgrade,renew:j.renew,debug:j.debug,dnsApi:j.dnsApi});case 10:ae=G.sent;case 11:return W.onFinish&&W.onFinish(),G.abrupt("return",!0);case 13:case"end":return G.stop()}},B)}));return function(B){return k.apply(this,arguments)}}(),onOpenChange:function(B){var j,F;if(!B){var Z;Q(void 0),(Z=l.current)===null||Z===void 0||Z.resetFields()}if(W.domain&&W.domain.length>0){var K;(K=l.current)===null||K===void 0||K.setFieldValue("domain",W.domain)}(j=l.current)===null||j===void 0||j.setFieldsValue({email:(F=localStorage.getItem("email"))!==null&&F!==void 0?F:""}),y(B)},open:D,children:[(0,P.jsx)(t.Z.Group,{label:U.format("certFormType"),name:"type",initialValue:"apply",disabled:!!ie,options:U.option("certFormTypeOption",["upload","apply"])}),(0,P.jsx)(r.Z,{name:["type"],children:function(B){var j=B.type;return j=="upload"?[(0,P.jsx)(o.Z,{fieldProps:{rows:10},label:U.format("certFormSslCrtContent"),name:"sslCrtContent",tooltip:U.format("certFormSslCrtContentTip"),placeholder:"-----BEGIN CERTIFICATE-----",required:!0},"sslCrt"),(0,P.jsx)(S.Z,{title:U.format("certFormImportCrt"),onImport:function(Z){var K;return(K=l.current)===null||K===void 0||K.setFieldValue("sslCrtContent",Z),!0},onLoad:function(Z){if(Z.indexOf("BEGIN CERTIFICATE")<0)throw new Error(L.FD.format("commonFileIncorrectFormat",{name:".crt"}));return!0}},"importCrt"),(0,P.jsx)(o.Z,{fieldProps:{rows:10},label:U.format("certFormSslKeyContent"),name:"sslKeyContent",tooltip:U.format("certFormSslKeyContentTip"),placeholder:"-----BEGIN PRIVATE KEY-----",required:!0},"sslKey"),(0,P.jsx)(S.Z,{title:U.format("certFormImportKey"),onImport:function(Z){var K;return(K=l.current)===null||K===void 0||K.setFieldValue("sslKeyContent",Z),!0},onLoad:function(Z){if(Z.indexOf("PRIVATE KEY")<0)throw new Error(L.FD.format("commonFileIncorrectFormat",{name:".key"}));return!0}},"importKey")]:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(e.Z,{mode:"tags",name:"domain",label:U.format("certFormDomain"),placeholder:U.format("certFormDomainEmpty"),required:!0,rules:[{required:!0}]},"domain"),(0,P.jsx)(a.Z,{label:U.format("certFormEmail"),name:"email",required:!0,rules:[{required:!0}]}),(0,P.jsxs)(_.Z.Compact,{children:[(0,P.jsx)(e.Z,{label:U.format("certFormDnsApi"),tooltip:U.format("certFormDnsApiTip"),name:"dnsApi",width:"lg",required:!0,rules:[{required:!0}],options:H}),(0,P.jsx)(s.Z,{label:" ",children:(0,P.jsx)(T.Z,{onFinish:function(Z){J(Z.map(function(K){return{label:K.title,value:K.serverName}}))}},"dns")})]}),(0,P.jsx)(e.Z,{label:U.format("certFormCertServer"),name:"certServer",tooltip:U.format("certFormCertServerTip"),initialValue:"letsencrypt",options:[{value:"letsencrypt",label:"Let's Encrypt"},{value:"zerossl",label:"ZeroSSL"}]}),(0,P.jsxs)(p.Z,{gutter:[20,10],children:[(0,P.jsx)(v.Z,{children:(0,P.jsx)(i.Z,{label:U.format("certFormAutoUpgrade"),name:"autoUpgrade",initialValue:!0})}),(0,P.jsx)(v.Z,{children:(0,P.jsx)(i.Z,{tooltip:U.format("certFormRenewTip"),label:U.format("certFormRenew"),name:"renew",initialValue:!1})}),(0,P.jsx)(v.Z,{children:(0,P.jsx)(i.Z,{tooltip:U.format("certFormDebugTip"),label:"Debug",name:"debug",initialValue:!1})}),(0,P.jsx)(v.Z,{})]}),(0,P.jsx)(w.Z,{height:"200px",style:{fontSize:12},ref:Y})]})}})]})})});g.Z=V},77865:function(I,g,n){"use strict";var A=n(15009),h=n.n(A),C=n(99289),u=n.n(C),f=n(5574),d=n.n(f),E=n(184),M=n(86615),t=n(97462),r=n(5966),o=n(28036),e=n(67294),a=n(44349),s=n(52255),i=n(66554),c=n(3616),_=n(36146),p=n(85893),v=new _.Uo("components.appDomain"),O=[{value:"dns_cf",label:"CloudFlare",fields:[{name:"CF_Token"}],help:"https://dash.cloudflare.com/profile/api-tokens"},{value:"dns_dp",label:"DNSPod",fields:[{name:"DP_Id"},{name:"DP_Key"}],help:"https://console.dnspod.cn/account/token/token"},{value:"dns_tencent",label:v.format("dnsApiOption.dns_tencent"),fields:[{name:"Tencent_SecretId"},{name:"Tencent_SecretKey"}],help:"https://console.cloud.tencent.com/cam/capi"},{label:v.format("dnsApiOption.dns_ali"),value:"dns_ali",fields:[{name:"Ali_Key"},{name:"Ali_Secret"}],help:"https://ram.console.aliyun.com/users"},{label:v.format("dnsApiOption.dns_huaweicloud"),value:"dns_huaweicloud",fields:[{name:"HUAWEICLOUD_Username"},{name:"HUAWEICLOUD_Password"},{name:"HUAWEICLOUD_DomainName"}],help:"https://support.huaweicloud.com/api-iam/iam_01_0006.html"},{label:"GoDaddy",value:"dns_gd",fields:[{name:"GD_Key"},{name:"GD_Secret"}],help:"https://developer.godaddy.com/keys/"},{label:v.format("dnsApiOption.user"),value:"user",help:"https://github.com/acmesh-official/acme.sh/wiki/dnsapi"}],S=(0,e.forwardRef)(function(w,T){(0,e.useImperativeHandle)(T,function(){return{show:function(){P(!0)}}});var R=(0,e.useState)(!1),b=d()(R,2),L=b[0],P=b[1],V=(0,e.useRef)();return(0,p.jsxs)(E.a,{drawerProps:{width:c.R_},title:v.format("dnsApiTitle"),trigger:(0,p.jsx)(o.ZP,{children:v.format("dnsApiTitle")}),formRef:V,open:L,onFinish:function(){var W=u()(h()().mark(function $(x){var m,D;return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,i.q2)({account:Object.keys((m=x.account)!==null&&m!==void 0?m:{}).map(function(Y){var z;return{title:(z=O.find(function(N){return N.value==Y}))===null||z===void 0?void 0:z.label,serverName:Y,env:Object.keys(x.account[Y]).map(function(N){return{name:N,value:x.account[Y][N]}})}}),user:x.user});case 2:return D=l.sent,w.onFinish&&w.onFinish(D.data.setting),l.abrupt("return",!0);case 5:case"end":return l.stop()}},$)}));return function($){return W.apply(this,arguments)}}(),onOpenChange:function(){var W=u()(h()().mark(function $(x){var m,D,y,l;return h()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(P(x),!x){z.next=9;break}return(m=V.current)===null||m===void 0||m.resetFields(),z.next=5,(0,i.q2)();case 5:y=z.sent,l=[],y.data.setting&&y.data.setting.map(function(N){O.find(function(H){return H.value==N.serverName})?N.env&&N.env.map(function(H){var J;(J=V.current)===null||J===void 0||J.setFieldValue(["account",N.serverName,H.name],H.value)}):N.env&&l.push(N)}),(D=V.current)===null||D===void 0||D.setFieldValue("user",l);case 9:case"end":return z.stop()}},$)}));return function($){return W.apply(this,arguments)}}(),children:[(0,p.jsx)(M.Z.Group,{label:v.format("dnsApiServerNameSelect"),name:"serverNameSelect",radioType:"button",initialValue:"dns_dp",options:O.map(function(W){return{label:W.label,value:W.value}})}),(0,p.jsx)(t.Z,{name:["serverNameSelect"],children:function($){var x,m=$.serverNameSelect,D=(x=O.find(function(y){return y.value===m}))===null||x===void 0?void 0:x.help;return(0,p.jsxs)("div",{style:{marginBottom:20},children:[v.format("dnsApiServerNameTip"),": ",(0,p.jsx)("a",{href:D,target:"_blank",children:D})]})}}),(0,p.jsx)(t.Z,{name:["serverNameSelect"],children:function($){var x=$.serverNameSelect;return(0,p.jsxs)(p.Fragment,{children:[O.map(function(m){if(m.fields)return(0,p.jsx)(s.Z,{show:x==m.value,children:m.fields.map(function(D,y){return(0,p.jsx)(r.Z,{label:D.name,name:["account",m.value,D.name]},"".concat(m.value,"-").concat(y,"-").concat(D.name))})},m.value)}),(0,p.jsx)(s.Z,{show:x=="user",children:(0,p.jsx)(a.Z,{gap:20,name:"user",label:v.format("dnsApiUser"),showAddButton:!0,hideCopyButton:!0,items:[{name:"serverName",label:v.format("dnsApiUserServerName")},{name:"env",render:function(D,y,l){return(0,p.jsx)(a.Z,{gap:20,name:"env",label:v.format("dnsApiUserEnv"),showAddButton:!0,hideCopyButton:!0,items:[{name:"name",label:v.format("dnsApiUserEnvName")},{name:"value",label:v.format("dnsApiUserEnvValue")}]},"env")}}]})},"user")]})}})]})});g.Z=S},52255:function(I,g,n){"use strict";n.d(g,{Z:function(){return C}});var A=n(67294),h=n(85893);function C(u){return(0,h.jsx)("div",{style:{display:u.show?"block":"none"},children:u.children})}},80821:function(I,g,n){"use strict";n.d(g,{Z:function(){return o}});var A=n(97857),h=n.n(A),C=n(5574),u=n.n(C),f=n(24963),d=n(86738),E=n(83062),M=n(28036),t=n(67294),r=n(85893);function o(e){var a=(0,t.useState)(!1),s=u()(a,2),i=s[0],c=s[1],_=(0,t.useContext)(f.Z),p=_.lang,v=_.message,O=function(){c(!0);var w=e.action();w instanceof Promise?w.then(function(T){if(c(!1),T){typeof e.onSuccess=="function"&&e.onSuccess(T);var R="";e.messageSuccess?typeof e.messageSuccess=="function"?R=e.messageSuccess(T):R=e.messageSuccess.indexOf("notification.")==0?p(e.messageSuccess):e.messageSuccess:R=p("notification.finish"),e.asynced?v.info(R):v.success(R)}}).catch(function(T){c(!1),typeof e.onError=="function"&&e.onError(T)}):c(!1)};return e.confirm?(0,r.jsx)(d.Z,h()(h()({style:{width:500},title:e.confirmTitle?e.confirmTitle:p("notification.title.tip"),description:typeof e.confirm=="string"&&e.confirm.indexOf("notification.")==0?p(e.confirm):e.confirm,onConfirm:O,okText:"Yes",cancelText:"No",onOpenChange:e.confirmOnOpenChange},e.confirmProps),{},{children:(0,r.jsx)(E.Z,{title:e.tips,children:(0,r.jsx)(M.ZP,{block:e.block,disabled:e.disabled,icon:!e.children&&i?void 0:e.icon,loading:i,danger:e.danger,type:e.type,children:e.children})})})):(0,r.jsx)(E.Z,{title:e.tips,children:(0,r.jsx)(M.ZP,{block:e.block,style:e.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:e.disabled,icon:!e.children&&i?void 0:e.icon,loading:i,onClick:O,danger:e.danger,type:e.type,children:e.children})})}},44349:function(I,g,n){"use strict";var A=n(97857),h=n.n(A),C=n(17186),u=n(5966),f=n(86250),d=n(67294),E=n(85893),M=(0,d.forwardRef)(function(t,r){var o=(0,d.useRef)();(0,d.useImperativeHandle)(r,function(){return{addItem:function(s,i){var c,_=(c=o.current)===null||c===void 0?void 0:c.getList(),p=!1;if(_==null||_.map(function(O){if(O.name==s){p=!0;return}}),!p){var v;(v=o.current)===null||v===void 0||v.add({name:s,value:i})}},clear:function(){var s;(s=o.current)===null||s===void 0||(s=s.getList())===null||s===void 0||s.map(function(i,c){var _;(_=o.current)===null||_===void 0||_.remove(c)})}}});var e={};return t.hideCopyButton===!0&&(e.copyIconProps=!1),t.hideDeleteButton===!0&&(e.deleteIconProps=!1),(0,E.jsx)(C.u,h()(h()({initialValue:t.initialValue,label:t.label,name:t.name,actionRef:o,creatorButtonProps:t.showAddButton?{creatorButtonText:t.label?t.label:t.name}:!1,min:t.min?t.min:0},e),{},{children:function(s,i,c){return(0,E.jsx)(f.Z,{justify:t.justify,gap:t.gap,children:t.items.map(function(_){return _.render?(0,E.jsx)("div",{children:_.render&&_.render(s,i,c)},"".concat(t.name,"-").concat(_.name,"-").concat(s.key)):(0,E.jsx)(u.Z,{width:_.width,name:_.name,label:_.label,required:_.required,rules:[{required:_.required}],disabled:_.disabled,placeholder:_.placeholder},"".concat(t.name,"-").concat(_.name,"-").concat(s.key))})})}}))});g.Z=M},12491:function(I,g,n){"use strict";n.d(g,{Z:function(){return t}});var A=n(24963),h=n(36146),C=n(88484),u=n(62370),f=n(31418),d=n(28036),E=n(67294),M=n(85893);function t(r){var o=(0,E.useContext)(A.Z),e=o.message,a=o.notice,s=(0,E.useRef)(null),i=f.Z.useApp(),c=function(){s.current&&(s.current.click(),s.current.onchange=function(p){if(!p||!p.target)return"";var v=new FileReader;v.onload=function(w){var T,R,b=(T=w.target)===null||T===void 0?void 0:T.result;if(r.onLoad)try{r.onLoad&&r.onLoad(b)}catch(L){a.error(L);return}typeof r.onImport=="function"&&(e.success(h.FD.format("finish")),r.onImport(b)),(R=s.current)!==null&&R!==void 0&&R.value&&(s.current.value="")};var O=p.target;if(O.files&&O.files[0]){var S=O.files[0];if(S.type!=""&&!S.type.includes("text/")){a.error(h.FD.format("commonContentIncorrectFormat",{name:O.files[0].name}));return}try{v.readAsText(O.files[0])}catch(w){a.error(h.FD.format("commonContentIncorrectFormat",{name:O.files[0].name}))}}})};return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(u.Z,{children:(0,M.jsx)(d.ZP,{icon:(0,M.jsx)(C.Z,{}),block:!0,onClick:c,children:r.title})}),(0,M.jsx)("input",{style:{display:"none"},type:"file",ref:s,name:"importFileInput"})]})}},35887:function(I,g,n){"use strict";var A=n(5574),h=n.n(A),C=n(12323),u=n(78267),f=n.n(u),d=n(75458),E=n.n(d),M=n(67294),t=n(4244),r=n.n(t),o=n(24078),e=n(85893),a,s,i,c=(0,M.forwardRef)(function(_,p){var v,O=(0,M.useState)(!0),S=h()(O,2),w=S[0],T=S[1];return(0,M.useEffect)(function(){return a=new t.Terminal(C.X),s=new d.SearchAddon,i=new u.FitAddon,window.addEventListener("resize",function(){_.showInModal||i.fit()}),_.style&&_.style.fontSize&&(a.options.fontSize=_.style.fontSize),a.loadAddon(i),a.loadAddon(s),a.open(document.getElementById(_.id?_.id:"terminal-container")),_.showInModal||i.fit(),function(){a.reset(),T(!0)}},[]),(0,M.useImperativeHandle)(p,function(){return{write:function(b){w&&(i.fit(),T(!1)),a.write(b)},clear:function(){a.clear()},getTerminal:function(){return a},findNext:function(b){s.findNext(b)},findPrev:function(b){s.findPrevious(b)},fit:function(){i.fit()},onData:function(b){return a.onData(b)}}}),(0,e.jsx)("div",{id:_.id?_.id:"terminal-container",style:{width:_.width?_.width:"100%",height:_.height?_.height:"500px",marginTop:(v=_.style)===null||v===void 0?void 0:v.marginTop}})});g.Z=c},3616:function(I,g,n){"use strict";n.d(g,{Ed:function(){return u},FK:function(){return h},R_:function(){return A},ob:function(){return C}});var A=window.innerWidth<=1024?"90vw":"65vw",h="90vw",C="60vw",u="50vh"},12323:function(I,g,n){"use strict";n.d(g,{X:function(){return A},n:function(){return h}});var A={convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,lineHeight:1,cursorStyle:"block",cursorInactiveStyle:"outline",cursorBlink:!0,letterSpacing:0,theme:{foreground:"#bfbfbf",cursor:"gray",selectionForeground:"#ffffff"}},h=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"]},24963:function(I,g,n){"use strict";var A=n(67294),h=(0,A.createContext)({});g.Z=h},66554:function(I,g,n){"use strict";n.d(g,{Fj:function(){return M},KK:function(){return V},Pf:function(){return c},Ss:function(){return w},dZ:function(){return L},dj:function(){return e},hZ:function(){return O},i7:function(){return d},lQ:function(){return s},ll:function(){return $},q2:function(){return R},ui:function(){return p}});var A=n(15009),h=n.n(A),C=n(99289),u=n.n(C),f=n(82346);function d(m){return E.apply(this,arguments)}function E(){return E=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-domain/get-list",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),E.apply(this,arguments)}function M(m){return t.apply(this,arguments)}function t(){return t=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-domain/create",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),t.apply(this,arguments)}function r(m){return o.apply(this,arguments)}function o(){return o=_asyncToGenerator(_regeneratorRuntime().mark(function m(D){return _regeneratorRuntime().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",request("/api/app/site-domain/update",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),o.apply(this,arguments)}function e(m){return a.apply(this,arguments)}function a(){return a=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-domain/delete",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),a.apply(this,arguments)}function s(m){return i.apply(this,arguments)}function i(){return i=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-domain/get-detail",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),i.apply(this,arguments)}function c(m){return _.apply(this,arguments)}function _(){return _=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-cert/apply",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),_.apply(this,arguments)}function p(m){return v.apply(this,arguments)}function v(){return v=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-cert/import",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),v.apply(this,arguments)}function O(){return S.apply(this,arguments)}function S(){return S=u()(h()().mark(function m(){return h()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",(0,f.request)("/api/app/site-domain/restart-nginx",{method:"POST"}));case 1:case"end":return y.stop()}},m)})),S.apply(this,arguments)}function w(m){return T.apply(this,arguments)}function T(){return T=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-domain/update-vhost",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),T.apply(this,arguments)}function R(m){return b.apply(this,arguments)}function b(){return b=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-cert/dns-api",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),b.apply(this,arguments)}function L(m){return P.apply(this,arguments)}function P(){return P=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-cert/get-list",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),P.apply(this,arguments)}function V(m){return W.apply(this,arguments)}function W(){return W=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-cert/delete",{method:"POST",data:D}));case 1:case"end":return l.stop()}},m)})),W.apply(this,arguments)}function $(m){return x.apply(this,arguments)}function x(){return x=u()(h()().mark(function m(D){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/site-cert/download",{method:"POST",data:D,responseType:"blob"}));case 1:case"end":return l.stop()}},m)})),x.apply(this,arguments)}},67255:function(I,g,n){"use strict";n.d(g,{O:function(){return A},j:function(){return h}});function A(C){var u=localStorage.getItem("dpanel-pagesize");return u=="all"?!1:{defaultCurrent:C==null?void 0:C.page,showSizeChanger:!0,defaultPageSize:parseInt(u!=null?u:"20"),onChange:function(d,E){localStorage.setItem("dpanel-page-"+location.pathname.split("/").slice(-2).join("-"),"".concat(d))}}}function h(C){var u="dpanel-table-column-".concat(C),f={};if(localStorage.getItem(u)){var d;f=JSON.parse((d=localStorage.getItem(u))!==null&&d!==void 0?d:"{}")}return{defaultValue:f,onChange:function(M){localStorage.setItem("dpanel-table-column-".concat(C),JSON.stringify(M))}}}},75458:function(I){(function(g,n){I.exports=n()})(self,()=>(()=>{"use strict";var g={345:(C,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.runAndSubscribe=u.forwardEvent=u.EventEmitter=void 0,u.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=f=>(this._listeners.push(f),{dispose:()=>{if(!this._disposed){for(let d=0;d<this._listeners.length;d++)if(this._listeners[d]===f)return void this._listeners.splice(d,1)}}})),this._event}fire(f,d){const E=[];for(let M=0;M<this._listeners.length;M++)E.push(this._listeners[M]);for(let M=0;M<E.length;M++)E[M].call(void 0,f,d)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},u.forwardEvent=function(f,d){return f(E=>d.fire(E))},u.runAndSubscribe=function(f,d){return d(void 0),f(E=>d(E))}},859:(C,u)=>{function f(d){for(const E of d)E.dispose();d.length=0}Object.defineProperty(u,"__esModule",{value:!0}),u.getDisposeArrayDisposable=u.disposeArray=u.toDisposable=u.MutableDisposable=u.Disposable=void 0,u.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const d of this._disposables)d.dispose();this._disposables.length=0}register(d){return this._disposables.push(d),d}unregister(d){const E=this._disposables.indexOf(d);E!==-1&&this._disposables.splice(E,1)}},u.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(d){var E;this._isDisposed||d===this._value||((E=this._value)==null||E.dispose(),this._value=d)}clear(){this.value=void 0}dispose(){var d;this._isDisposed=!0,(d=this._value)==null||d.dispose(),this._value=void 0}},u.toDisposable=function(d){return{dispose:d}},u.disposeArray=f,u.getDisposeArrayDisposable=function(d){return{dispose:()=>f(d)}}}},n={};function A(C){var u=n[C];if(u!==void 0)return u.exports;var f=n[C]={exports:{}};return g[C](f,f.exports,A),f.exports}var h={};return(()=>{var C=h;Object.defineProperty(C,"__esModule",{value:!0}),C.SearchAddon=void 0;const u=A(345),f=A(859),d=" ~!@#$%^&*()+`-=[]{}|\\;:\"',./<>?";class E extends f.Disposable{constructor(t){var r;super(),this._highlightedLines=new Set,this._highlightDecorations=[],this._selectedDecoration=this.register(new f.MutableDisposable),this._linesCacheTimeoutId=0,this._linesCacheDisposables=new f.MutableDisposable,this._onDidChangeResults=this.register(new u.EventEmitter),this.onDidChangeResults=this._onDidChangeResults.event,this._highlightLimit=(r=t==null?void 0:t.highlightLimit)!=null?r:1e3}activate(t){this._terminal=t,this.register(this._terminal.onWriteParsed(()=>this._updateMatches())),this.register(this._terminal.onResize(()=>this._updateMatches())),this.register((0,f.toDisposable)(()=>this.clearDecorations()))}_updateMatches(){var t;this._highlightTimeout&&window.clearTimeout(this._highlightTimeout),this._cachedSearchTerm&&((t=this._lastSearchOptions)!=null&&t.decorations)&&(this._highlightTimeout=setTimeout(()=>{const r=this._cachedSearchTerm;this._cachedSearchTerm=void 0,this.findPrevious(r,ne(te({},this._lastSearchOptions),{incremental:!0,noScroll:!0}))},200))}clearDecorations(t){this._selectedDecoration.clear(),(0,f.disposeArray)(this._highlightDecorations),this._highlightDecorations=[],this._highlightedLines.clear(),t||(this._cachedSearchTerm=void 0)}clearActiveDecoration(){this._selectedDecoration.clear()}findNext(t,r){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const o=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,r);this._lastSearchOptions=r,r!=null&&r.decorations&&(this._cachedSearchTerm===void 0||t!==this._cachedSearchTerm||o)&&this._highlightAllMatches(t,r);const e=this._findNextAndSelect(t,r);return this._fireResults(r),this._cachedSearchTerm=t,e}_highlightAllMatches(t,r){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!t||t.length===0)return void this.clearDecorations();r=r||{},this.clearDecorations(!0);const o=[];let e,a=this._find(t,0,0,r);for(;a&&((e==null?void 0:e.row)!==a.row||(e==null?void 0:e.col)!==a.col)&&!(o.length>=this._highlightLimit);)e=a,o.push(e),a=this._find(t,e.col+e.term.length>=this._terminal.cols?e.row+1:e.row,e.col+e.term.length>=this._terminal.cols?0:e.col+1,r);for(const s of o){const i=this._createResultDecoration(s,r.decorations);i&&(this._highlightedLines.add(i.marker.line),this._highlightDecorations.push({decoration:i,match:s,dispose(){i.dispose()}}))}}_find(t,r,o,e){var i;if(!this._terminal||!t||t.length===0)return(i=this._terminal)==null||i.clearSelection(),void this.clearDecorations();if(o>this._terminal.cols)throw new Error(`Invalid col: ${o} to search in terminal of ${this._terminal.cols} cols`);let a;this._initLinesCache();const s={startRow:r,startCol:o};if(a=this._findInLine(t,s,e),!a)for(let c=r+1;c<this._terminal.buffer.active.baseY+this._terminal.rows&&(s.startRow=c,s.startCol=0,a=this._findInLine(t,s,e),!a);c++);return a}_findNextAndSelect(t,r){var c;if(!this._terminal||!t||t.length===0)return(c=this._terminal)==null||c.clearSelection(),this.clearDecorations(),!1;const o=this._terminal.getSelectionPosition();this._terminal.clearSelection();let e=0,a=0;o&&(this._cachedSearchTerm===t?(e=o.end.x,a=o.end.y):(e=o.start.x,a=o.start.y)),this._initLinesCache();const s={startRow:a,startCol:e};let i=this._findInLine(t,s,r);if(!i)for(let _=a+1;_<this._terminal.buffer.active.baseY+this._terminal.rows&&(s.startRow=_,s.startCol=0,i=this._findInLine(t,s,r),!i);_++);if(!i&&a!==0)for(let _=0;_<a&&(s.startRow=_,s.startCol=0,i=this._findInLine(t,s,r),!i);_++);return!i&&o&&(s.startRow=o.start.y,s.startCol=0,i=this._findInLine(t,s,r)),this._selectResult(i,r==null?void 0:r.decorations,r==null?void 0:r.noScroll)}findPrevious(t,r){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const o=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,r);this._lastSearchOptions=r,r!=null&&r.decorations&&(this._cachedSearchTerm===void 0||t!==this._cachedSearchTerm||o)&&this._highlightAllMatches(t,r);const e=this._findPreviousAndSelect(t,r);return this._fireResults(r),this._cachedSearchTerm=t,e}_didOptionsChange(t,r){return!!r&&(t.caseSensitive!==r.caseSensitive||t.regex!==r.regex||t.wholeWord!==r.wholeWord)}_fireResults(t){if(t!=null&&t.decorations){let r=-1;if(this._selectedDecoration.value){const o=this._selectedDecoration.value.match;for(let e=0;e<this._highlightDecorations.length;e++){const a=this._highlightDecorations[e].match;if(a.row===o.row&&a.col===o.col&&a.size===o.size){r=e;break}}}this._onDidChangeResults.fire({resultIndex:r,resultCount:this._highlightDecorations.length})}}_findPreviousAndSelect(t,r){var _;if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!this._terminal||!t||t.length===0)return(_=this._terminal)==null||_.clearSelection(),this.clearDecorations(),!1;const o=this._terminal.getSelectionPosition();this._terminal.clearSelection();let e=this._terminal.buffer.active.baseY+this._terminal.rows-1,a=this._terminal.cols;const s=!0;this._initLinesCache();const i={startRow:e,startCol:a};let c;if(o&&(i.startRow=e=o.start.y,i.startCol=a=o.start.x,this._cachedSearchTerm!==t&&(c=this._findInLine(t,i,r,!1),c||(i.startRow=e=o.end.y,i.startCol=a=o.end.x))),c||(c=this._findInLine(t,i,r,s)),!c){i.startCol=Math.max(i.startCol,this._terminal.cols);for(let p=e-1;p>=0&&(i.startRow=p,c=this._findInLine(t,i,r,s),!c);p--);}if(!c&&e!==this._terminal.buffer.active.baseY+this._terminal.rows-1)for(let p=this._terminal.buffer.active.baseY+this._terminal.rows-1;p>=e&&(i.startRow=p,c=this._findInLine(t,i,r,s),!c);p--);return this._selectResult(c,r==null?void 0:r.decorations,r==null?void 0:r.noScroll)}_initLinesCache(){const t=this._terminal;this._linesCache||(this._linesCache=new Array(t.buffer.active.length),this._linesCacheDisposables.value=(0,f.getDisposeArrayDisposable)([t.onLineFeed(()=>this._destroyLinesCache()),t.onCursorMove(()=>this._destroyLinesCache()),t.onResize(()=>this._destroyLinesCache())])),window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=window.setTimeout(()=>this._destroyLinesCache(),15e3)}_destroyLinesCache(){this._linesCache=void 0,this._linesCacheDisposables.clear(),this._linesCacheTimeoutId&&(window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=0)}_isWholeWord(t,r,o){return(t===0||d.includes(r[t-1]))&&(t+o.length===r.length||d.includes(r[t+o.length]))}_findInLine(t,r,o={},e=!1){var R;const a=this._terminal,s=r.startRow,i=r.startCol,c=a.buffer.active.getLine(s);if(c!=null&&c.isWrapped)return e?void(r.startCol+=a.cols):(r.startRow--,r.startCol+=a.cols,this._findInLine(t,r,o));let _=(R=this._linesCache)==null?void 0:R[s];_||(_=this._translateBufferLineToStringWithWrap(s,!0),this._linesCache&&(this._linesCache[s]=_));const[p,v]=_,O=this._bufferColsToStringOffset(s,i),S=o.caseSensitive?t:t.toLowerCase(),w=o.caseSensitive?p:p.toLowerCase();let T=-1;if(o.regex){const b=RegExp(S,"g");let L;if(e)for(;L=b.exec(w.slice(0,O));)T=b.lastIndex-L[0].length,t=L[0],b.lastIndex-=t.length-1;else L=b.exec(w.slice(O)),L&&L[0].length>0&&(T=O+(b.lastIndex-L[0].length),t=L[0])}else e?O-S.length>=0&&(T=w.lastIndexOf(S,O-S.length)):T=w.indexOf(S,O);if(T>=0){if(o.wholeWord&&!this._isWholeWord(T,w,t))return;let b=0;for(;b<v.length-1&&T>=v[b+1];)b++;let L=b;for(;L<v.length-1&&T+t.length>=v[L+1];)L++;const P=T-v[b],V=T+t.length-v[L],W=this._stringLengthToBufferSize(s+b,P);return{term:t,col:W,row:s+b,size:this._stringLengthToBufferSize(s+L,V)-W+a.cols*(L-b)}}}_stringLengthToBufferSize(t,r){const o=this._terminal.buffer.active.getLine(t);if(!o)return 0;for(let e=0;e<r;e++){const a=o.getCell(e);if(!a)break;const s=a.getChars();s.length>1&&(r-=s.length-1);const i=o.getCell(e+1);i&&i.getWidth()===0&&r++}return r}_bufferColsToStringOffset(t,r){const o=this._terminal;let e=t,a=0,s=o.buffer.active.getLine(e);for(;r>0&&s;){for(let i=0;i<r&&i<o.cols;i++){const c=s.getCell(i);if(!c)break;c.getWidth()&&(a+=c.getCode()===0?1:c.getChars().length)}if(e++,s=o.buffer.active.getLine(e),s&&!s.isWrapped)break;r-=o.cols}return a}_translateBufferLineToStringWithWrap(t,r){var i;const o=this._terminal,e=[],a=[0];let s=o.buffer.active.getLine(t);for(;s;){const c=o.buffer.active.getLine(t+1),_=!!c&&c.isWrapped;let p=s.translateToString(!_&&r);if(_&&c){const v=s.getCell(s.length-1);v&&v.getCode()===0&&v.getWidth()===1&&((i=c.getCell(0))==null?void 0:i.getWidth())===2&&(p=p.slice(0,-1))}if(e.push(p),!_)break;a.push(a[a.length-1]+p.length),t++,s=c}return[e.join(""),a]}_selectResult(t,r,o){const e=this._terminal;if(this._selectedDecoration.clear(),!t)return e.clearSelection(),!1;if(e.select(t.col,t.row,t.size),r){const a=e.registerMarker(-e.buffer.active.baseY-e.buffer.active.cursorY+t.row);if(a){const s=e.registerDecoration({marker:a,x:t.col,width:t.size,backgroundColor:r.activeMatchBackground,layer:"top",overviewRulerOptions:{color:r.activeMatchColorOverviewRuler}});if(s){const i=[];i.push(a),i.push(s.onRender(c=>this._applyStyles(c,r.activeMatchBorder,!0))),i.push(s.onDispose(()=>(0,f.disposeArray)(i))),this._selectedDecoration.value={decoration:s,match:t,dispose(){s.dispose()}}}}}if(!o&&(t.row>=e.buffer.active.viewportY+e.rows||t.row<e.buffer.active.viewportY)){let a=t.row-e.buffer.active.viewportY;a-=Math.floor(e.rows/2),e.scrollLines(a)}return!0}_applyStyles(t,r,o){t.classList.contains("xterm-find-result-decoration")||(t.classList.add("xterm-find-result-decoration"),r&&(t.style.outline=`1px solid ${r}`)),o&&t.classList.add("xterm-find-active-result-decoration")}_createResultDecoration(t,r){const o=this._terminal,e=o.registerMarker(-o.buffer.active.baseY-o.buffer.active.cursorY+t.row);if(!e)return;const a=o.registerDecoration({marker:e,x:t.col,width:t.size,backgroundColor:r.matchBackground,overviewRulerOptions:this._highlightedLines.has(e.line)?void 0:{color:r.matchOverviewRuler,position:"center"}});if(a){const s=[];s.push(e),s.push(a.onRender(i=>this._applyStyles(i,r.matchBorder,!1))),s.push(a.onDispose(()=>(0,f.disposeArray)(s)))}return a}}C.SearchAddon=E})(),h})())}}]);
}());