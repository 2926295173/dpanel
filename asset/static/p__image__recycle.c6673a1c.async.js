"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4202],{1883:function(A,d,e){var f=e(87462),l=e(67294),o=e(3936),i=e(84089),r=function(O,v){return l.createElement(i.Z,(0,f.Z)({},O,{ref:v,icon:o.Z}))},m=l.forwardRef(r);d.Z=m},80821:function(A,d,e){e.d(d,{Z:function(){return c}});var f=e(97857),l=e.n(f),o=e(5574),i=e.n(o),r=e(24963),m=e(36146),g=e(86738),O=e(83062),v=e(28036),L=e(67294),M=e(85893);function c(t){var C=(0,L.useState)(!1),a=i()(C,2),I=a[0],P=a[1],U=(0,L.useContext)(r.Z),T=U.message,h=new m.Uo,K=function(){P(!0);var y=t.action();y instanceof Promise?y.then(function(_){if(P(!1),_){typeof t.onSuccess=="function"&&t.onSuccess(_);var n="";t.messageSuccess?typeof t.messageSuccess=="function"?n=t.messageSuccess(_):n=t.messageSuccess.indexOf("notification.")==0?h.format(t.messageSuccess):t.messageSuccess:n=h.format("notification.finish"),t.asynced?T.info(n):T.success(n)}}).catch(function(_){P(!1),typeof t.onError=="function"&&t.onError(_)}):P(!1)};return t.confirm?(0,M.jsx)(g.Z,l()(l()({style:{width:500},title:t.confirmTitle?t.confirmTitle:h.format("notification.title.tip"),description:typeof t.confirm=="string"&&t.confirm.indexOf("notification.")==0?h.format(t.confirm):t.confirm,onConfirm:K,okText:"Yes",cancelText:"No",onOpenChange:t.confirmOnOpenChange},t.confirmProps),{},{children:(0,M.jsx)(O.Z,{title:t.tips,children:(0,M.jsx)(v.ZP,{block:t.block,disabled:t.disabled,icon:!t.children&&I?void 0:t.icon,loading:I,danger:t.danger,type:t.type,children:t.children})})})):(0,M.jsx)(O.Z,{title:t.tips,children:(0,M.jsx)(v.ZP,{block:t.block,style:t.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:t.disabled,icon:!t.children&&I?void 0:t.icon,loading:I,onClick:K,danger:t.danger,type:t.type,children:t.children})})}},94359:function(A,d,e){e.d(d,{Z:function(){return I}});var f=e(5574),l=e.n(f),o=e(3089),i=e(98165),r=e(18429),m=e(8751),g=e(66212),O=e(14313),v=e(30159),L=e(87740),M=e(50888),c=e(66309),t=e(83062),C=e(36146),a=e(85893);function I(P){var U,T,h=new C.Uo("components.containerStatus"),K=P.status.split("."),Z=l()(K,2),y=Z[0],_=Z[1],n="";n=h.format(P.status,(U=P.statusValue)!==null&&U!==void 0?U:{});var u=(0,a.jsx)(a.Fragment,{});return _=="0"&&(u=(0,a.jsx)(c.Z,{icon:(0,a.jsx)(o.Z,{}),color:"default",children:n})),_=="10"&&(u=(0,a.jsx)(c.Z,{icon:(0,a.jsx)(i.Z,{spin:!0}),color:"processing",children:n})),_=="20"&&(u=(0,a.jsx)(c.Z,{icon:(0,a.jsx)(r.Z,{}),color:"error",children:n})),_=="30"&&(u=(0,a.jsx)(c.Z,{icon:(0,a.jsx)(m.Z,{}),color:"success",children:n})),_=="new"&&(u=(0,a.jsx)(c.Z,{icon:(0,a.jsx)(g.Z,{}),children:n})),(_=="running"||_=="healthy"||_=="active"||_=="ready")&&(u=(0,a.jsx)(c.Z,{icon:(0,a.jsx)(O.Z,{}),color:"success",children:n})),(_=="paused"||_=="pause"||_=="rollback_paused")&&(u=(0,a.jsx)(c.Z,{icon:(0,a.jsx)(v.Z,{}),children:n})),(_=="waiting"||_=="starting"||_=="accepted")&&(u=(0,a.jsx)(c.Z,{icon:(0,a.jsx)(L.Z,{}),children:n})),["deploying","pending","allocated","accepted","assigned","preparing","updating","rollback_started"].includes(_)&&(u=(0,a.jsx)(c.Z,{icon:(0,a.jsx)(M.Z,{}),color:"processing",children:n})),(_=="error"||_=="down"||_=="failed")&&(u=(0,a.jsx)(c.Z,{icon:(0,a.jsx)(r.Z,{}),color:"error",children:n})),["complete","completed","rollback_completed"].includes(_)&&(u=(0,a.jsx)(c.Z,{icon:(0,a.jsx)(m.Z,{}),color:"success",children:n})),["exited","dead","removing","restarting","unhealthy","created","drain","unreachable","shutdown","rejected","remove","orphaned"].includes(_)&&(u=(0,a.jsx)(c.Z,{icon:(0,a.jsx)(r.Z,{}),color:"warning",children:n})),(0,a.jsx)(t.Z,{placement:"top",title:(T=P.tip)!==null&&T!==void 0?T:"",children:u})}},78451:function(A,d,e){e.d(d,{Z:function(){return o}});var f=e(67294),l=e(85893);function o(i){var r;return(0,l.jsx)("span",{style:{width:i.width?i.width:"auto",wordBreak:"break-word"},children:(r=i.content)!==null&&r!==void 0?r:i.children})}},3616:function(A,d,e){e.d(d,{Ed:function(){return i},FK:function(){return l},R_:function(){return f},ob:function(){return o}});var f=window.innerWidth<=1024?"90vw":"65vw",l="90vw",o="60vw",i="50vh"},24963:function(A,d,e){var f=e(67294),l=(0,f.createContext)({});d.Z=l},52548:function(A,d,e){e.r(d),e.d(d,{default:function(){return u}});var f=e(15009),l=e.n(f),o=e(99289),i=e.n(o),r=e(90078),m=e(78099),g=e(28036),O=e(42075),v=e(66309),L=e(96074),M=e(83062),c=e(25593),t=e(50136),C=e(82346),a=e(18148),I=e(94359),P=e(86548),U=e(1883),T=e(80821),h=e(67294),K=e(67255),Z=e(78451),y=e(74344),_=e(36146),n=e(85893);function u(){var b=(0,h.useRef)(),$=(0,h.useRef)(),p=new _.Uo("image");return(0,n.jsxs)(r._z,{header:{extra:[(0,n.jsx)(g.ZP,{type:"primary",children:(0,n.jsx)(C.Link,{to:"/image/create",children:_.Ob.format("image.create")})},"create"),(0,n.jsx)(g.ZP,{children:_.Ob.format("image.pull")},"pull")]},children:[(0,n.jsx)(m.Z,{scroll:{x:"max-content"},actionRef:b,rowKey:"id",columns:[{title:_.FD.format("listTitle"),render:function(j,s,x,D){return(0,n.jsx)(O.Z,{direction:"vertical",style:{textAlign:"left"},children:s.title},s.id)}},{title:_.FD.format("listImageName"),dataIndex:"tag",search:!1,render:function(j,s,x,D){return s.imageInfo?s.imageInfo.info.Id==""?(0,n.jsx)(v.Z,{children:"none"},"none"):(0,n.jsx)(O.Z,{direction:"vertical",style:{textAlign:"left"},children:s.imageInfo.info.RepoTags.map(function(E,R){return(0,n.jsx)(v.Z,{color:"#2db7f5",children:E},R)})},s.id):(0,n.jsx)(v.Z,{color:"#2db7f5",children:s.tag},s.id)}},{title:"Id",search:!1,copyable:!0,width:300,render:function(j,s,x,D,E){return(0,n.jsx)(Z.Z,{content:s.imageInfo&&s.imageInfo.info.Id})}},{title:_.FD.format("listStatus"),width:150,ellipsis:!0,search:!1,render:function(j,s,x,D){return[(0,n.jsx)("div",{children:(0,n.jsx)(I.Z,{status:"status.".concat(s.status)},s.id)},s.id)]}},{title:_.FD.format("listManage"),valueType:"option",key:"option",width:100,fixed:"right",render:function(j,s,x,D){return(0,n.jsxs)(O.Z,{split:(0,n.jsx)(L.Z,{type:"vertical"}),children:[(0,n.jsx)(C.Link,{to:"/image/create?id="+s.id,type:"link",children:(0,n.jsx)(M.Z,{title:_.FD.format("listManageEdit"),children:(0,n.jsx)(P.Z,{})})},"rebuild"),(0,n.jsx)(c.Z.Link,{onClick:function(){var R;(R=$.current)===null||R===void 0||R.show(s.message)},children:(0,n.jsx)(M.Z,{title:_.FD.format("listManageLog"),children:(0,n.jsx)(U.Z,{})})},"logs")]})}}],request:function(){var W=i()(l()().mark(function j(s,x,D){var E,R,S;return l()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,(0,a.Xn)({page:(E=s.current)!==null&&E!==void 0?E:1,pageSize:(R=s.pageSize)!==null&&R!==void 0?R:10});case 2:return S=B.sent,B.abrupt("return",{data:S.data.list,success:!0,total:S.data.total});case 4:case"end":return B.stop()}},j)}));return function(j,s,x){return W.apply(this,arguments)}}(),pagination:(0,K.O)(),search:{collapsed:!1},rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},tableAlertOptionRender:function(j){var s=j.selectedRowKeys;return(0,n.jsx)(O.Z,{size:16,children:(0,n.jsx)(T.Z,{danger:!0,type:"primary",action:function(){return(0,a.$q)({id:s})},onSuccess:function(){var D,E;return!((D=b.current)===null||D===void 0)&&D.reloadAndRest&&((E=b.current)===null||E===void 0||E.reloadAndRest()),!0},onError:function(){var D,E;return!((D=b.current)===null||D===void 0)&&D.reset&&((E=b.current)===null||E===void 0||E.reset()),!0},confirm:"notification.confirm.title",children:_.FD.format("listManageDeleteBatch")})})},tableExtraRender:function(){return(0,n.jsx)(t.Z,{mode:"horizontal",selectedKeys:["build"],items:[{label:(0,n.jsx)(C.Link,{to:"/image/list",replace:!0,children:p.format("title")}),key:"all"},{label:(0,n.jsx)(C.Link,{to:"/image/list/recycle",replace:!0,children:p.format("taskTitle")}),key:"build"}]})}}),(0,n.jsx)(y.Z,{ref:$})]})}},67255:function(A,d,e){e.d(d,{O:function(){return f},j:function(){return l}});function f(o){var i=localStorage.getItem("dpanel-pagesize");return i=="all"?!1:{defaultCurrent:o==null?void 0:o.page,showSizeChanger:!0,defaultPageSize:parseInt(i!=null?i:"20"),onChange:function(m,g){localStorage.setItem("dpanel-page-"+location.pathname.split("/").slice(-2).join("-"),"".concat(m))}}}function l(o){var i="dpanel-table-column-".concat(o),r={};if(localStorage.getItem(i)){var m;r=JSON.parse((m=localStorage.getItem(i))!==null&&m!==void 0?m:"{}")}return{defaultValue:r,onChange:function(O){localStorage.setItem("dpanel-table-column-".concat(o),JSON.stringify(O))}}}}}]);
