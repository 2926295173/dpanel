"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[992],{60933:function(Q,O,e){e.r(O),e.d(O,{default:function(){return T}});var l=e(15009),c=e.n(l),M=e(99289),y=e.n(M),h=e(5574),B=e.n(h),b=e(2831),P=e(89035),S=e(90078),I=e(38345),$=e(38925),A=e(25593),F=e(67294),r=e(85893);function T(){var i=(0,F.useState)([]),x=B()(i,2),J=x[0],Y=x[1];(0,F.useEffect)(function(){q({})},[]);var q=function(){var z=y()(c()().mark(function k(G){var d,W,V,X,Z;return c()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,b.d6)();case 2:d=U.sent,W="",d.data.info.Mounts.map(function(_){_.Type=="volume"&&(W=_.Name)}),V=Object.keys(d.data.info.HostConfig.PortBindings).map(function(_){return d.data.info.HostConfig.PortBindings[_].map(function(ee){return"-p ".concat(ee.HostPort,":").concat(String(parseInt(_)))})}),X=!1,Z=d.data.info.HostConfig.Binds.map(function(_){return _.indexOf(":/dpanel")>-1&&(X=!0),"-v ".concat(_)}),X||(W="",d.data.info.Mounts.map(function(_){_.Type=="volume"&&(W=_.Name)}),Z.push("-v "+W+":/dpanel")),Y(["sudo docker stop ".concat(d.data.info.Name," && sudo docker rm ").concat(d.data.info.Name),"sudo docker pull ".concat(d.data.info.Config.Image),"sudo docker run -it -d --name ".concat(d.data.info.Name," --restart=always ").concat(V.join(" ")," ").concat(Z.join(" ")," ").concat(d.data.info.Config.Image)+(d.data.info.NetworkSettings.Networks["dpanel-local"]?" && docker network connect dpanel-local ".concat(d.data.info.Name):"")]);case 10:case"end":return U.stop()}},k)}));return function(G){return z.apply(this,arguments)}}();return(0,r.jsx)(S._z,{children:(0,r.jsxs)(I.Z,{direction:"column",children:[(0,r.jsx)($.Z,{message:"\u8BF7\u52A1\u5FC5\u4ED4\u7EC6\u9605\u8BFB",showIcon:!0,description:(0,r.jsxs)("ol",{style:{marginLeft:"-20px"},children:[(0,r.jsx)("li",{children:"\u66F4\u65B0\u9762\u677F\u65F6\uFF0C\u9700\u8981\u5728\u5BBF\u4E3B\u673A\u4E0A\u6267\u884C\u66F4\u65B0\u811A\u672C\u3002"}),(0,r.jsx)("li",{children:"\u66F4\u65B0\u811A\u672C\u652F\u6301\u66F4\u65B0\u548C\u65B0\u88C5\u9762\u677F\u5BB9\u5668\uFF0C\u66F4\u65B0\u65F6\u8BF7\u6307\u5B9A\u5F53\u524D\u9762\u677F\u5BB9\u5668\u7684\u540D\u79F0"}),(0,r.jsx)("li",{children:"\u66F4\u65B0\u8FC7\u7A0B\u4E2D\u4F1A\u5220\u9664\u3001\u91CD\u5EFA\u9762\u677F\u5BB9\u5668\u3002\u5BFC\u81F4\u7AD9\u70B9\u65E0\u6CD5\u8BBF\u95EE\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\u3002\uFF08Lite \u7248\u65E0\u5F71\u54CD\uFF09"}),(0,r.jsx)("li",{children:(0,r.jsx)(A.Z.Text,{type:"danger",children:"\u8BF7\u4FDD\u6301\u9762\u677F\u5BB9\u5668\u4E2D\u7684 /dpanel \u76EE\u5F55\u4E3A\u4E4B\u524D\u5B58\u50A8\u5377\u6216\u662F\u6302\u8F7D\u76EE\u5F55\uFF0C\u5426\u5219\u6570\u636E\u5C06\u4F1A\u4E22\u5931"})})]}),type:"warning",style:{marginBottom:"20px"}}),(0,r.jsxs)(I.Z,{ghost:!0,style:{paddingBottom:50},direction:"column",gutter:[10,50],children:[(0,r.jsx)(I.Z,{bordered:!0,headerBordered:!0,title:(0,r.jsx)(P.Z,{}),bodyStyle:{padding:"10px",background:"#24292f"},subTitle:(0,r.jsxs)(r.Fragment,{children:["\u4E00\u952E\u66F4\u65B0\u811A\u672C\uFF0C",(0,r.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/install/shell",target:"_blank",children:"\u67E5\u770B\u6587\u6863"})]}),children:(0,r.jsx)(A.Z.Text,{copyable:!0,style:{color:"#ffffff"},children:"sudo curl -sSL https://dpanel.cc/quick.sh -o quick.sh && sudo bash quick.sh"})}),(0,r.jsx)(I.Z,{bordered:!0,headerBordered:!0,title:(0,r.jsx)(P.Z,{}),bodyStyle:{padding:"10px",background:"#24292f"},subTitle:(0,r.jsxs)(r.Fragment,{children:["\u624B\u52A8\u66F4\u65B0\u811A\u672C\uFF0C",(0,r.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/manual/setting/upgrade",target:"_blank",children:"\u67E5\u770B\u6587\u6863"})]}),children:J.map(function(z){return(0,r.jsx)(A.Z.Paragraph,{copyable:!0,style:{color:"#ffffff"},children:z})})})]})]})})}},2831:function(Q,O,e){e.d(O,{Ll:function(){return I},aF:function(){return B},d6:function(){return A},u5:function(){return P}});var l=e(15009),c=e.n(l),M=e(99289),y=e.n(M),h=e(82346);function B(){return b.apply(this,arguments)}function b(){return b=y()(c()().mark(function r(){return c()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,h.request)("/api/common/home/info",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},r)})),b.apply(this,arguments)}function P(){return S.apply(this,arguments)}function S(){return S=y()(c()().mark(function r(){return c()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,h.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},r)})),S.apply(this,arguments)}function I(){return $.apply(this,arguments)}function $(){return $=y()(c()().mark(function r(){return c()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,h.request)("/api/common/home/usage",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},r)})),$.apply(this,arguments)}function A(){return F.apply(this,arguments)}function F(){return F=y()(c()().mark(function r(){return c()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,h.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},r)})),F.apply(this,arguments)}},38925:function(Q,O,e){e.d(O,{Z:function(){return ce}});var l=e(67294),c=e(89739),M=e(4340),y=e(97937),h=e(21640),B=e(78860),b=e(93967),P=e.n(b),S=e(29372),I=e(64217),$=e(42550),A=e(96159),F=e(53124),r=e(11568),T=e(14747),i=e(83559);const x=(n,o,a,t,u)=>({background:n,border:`${(0,r.bf)(t.lineWidth)} ${t.lineType} ${o}`,[`${u}-icon`]:{color:a}}),J=n=>{const{componentCls:o,motionDurationSlow:a,marginXS:t,marginSM:u,fontSize:m,fontSizeLG:E,lineHeight:v,borderRadiusLG:D,motionEaseInOutCirc:C,withDescriptionIconSize:R,colorText:L,colorTextHeading:K,withDescriptionPadding:H,defaultPadding:p}=n;return{[o]:Object.assign(Object.assign({},(0,T.Wf)(n)),{position:"relative",display:"flex",alignItems:"center",padding:p,wordWrap:"break-word",borderRadius:D,[`&${o}-rtl`]:{direction:"rtl"},[`${o}-content`]:{flex:1,minWidth:0},[`${o}-icon`]:{marginInlineEnd:t,lineHeight:0},"&-description":{display:"none",fontSize:m,lineHeight:v},"&-message":{color:K},[`&${o}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${a} ${C}, opacity ${a} ${C},
        padding-top ${a} ${C}, padding-bottom ${a} ${C},
        margin-bottom ${a} ${C}`},[`&${o}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${o}-with-description`]:{alignItems:"flex-start",padding:H,[`${o}-icon`]:{marginInlineEnd:u,fontSize:R,lineHeight:0},[`${o}-message`]:{display:"block",marginBottom:t,color:K,fontSize:E},[`${o}-description`]:{display:"block",color:L}},[`${o}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Y=n=>{const{componentCls:o,colorSuccess:a,colorSuccessBorder:t,colorSuccessBg:u,colorWarning:m,colorWarningBorder:E,colorWarningBg:v,colorError:D,colorErrorBorder:C,colorErrorBg:R,colorInfo:L,colorInfoBorder:K,colorInfoBg:H}=n;return{[o]:{"&-success":x(u,t,a,n,o),"&-info":x(H,K,L,n,o),"&-warning":x(v,E,m,n,o),"&-error":Object.assign(Object.assign({},x(R,C,D,n,o)),{[`${o}-description > pre`]:{margin:0,padding:0}})}}},q=n=>{const{componentCls:o,iconCls:a,motionDurationMid:t,marginXS:u,fontSizeIcon:m,colorIcon:E,colorIconHover:v}=n;return{[o]:{"&-action":{marginInlineStart:u},[`${o}-close-icon`]:{marginInlineStart:u,padding:0,overflow:"hidden",fontSize:m,lineHeight:(0,r.bf)(m),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${a}-close`]:{color:E,transition:`color ${t}`,"&:hover":{color:v}}},"&-close-text":{color:E,transition:`color ${t}`,"&:hover":{color:v}}}}},z=n=>({withDescriptionIconSize:n.fontSizeHeading3,defaultPadding:`${n.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${n.paddingMD}px ${n.paddingContentHorizontalLG}px`});var k=(0,i.I$)("Alert",n=>[J(n),Y(n),q(n)],z),G=function(n,o){var a={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&o.indexOf(t)<0&&(a[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,t=Object.getOwnPropertySymbols(n);u<t.length;u++)o.indexOf(t[u])<0&&Object.prototype.propertyIsEnumerable.call(n,t[u])&&(a[t[u]]=n[t[u]]);return a};const d={success:c.Z,info:B.Z,error:M.Z,warning:h.Z},W=n=>{const{icon:o,prefixCls:a,type:t}=n,u=d[t]||null;return o?(0,A.wm)(o,l.createElement("span",{className:`${a}-icon`},o),()=>({className:P()(`${a}-icon`,o.props.className)})):l.createElement(u,{className:`${a}-icon`})},V=n=>{const{isClosable:o,prefixCls:a,closeIcon:t,handleClose:u,ariaProps:m}=n,E=t===!0||t===void 0?l.createElement(y.Z,null):t;return o?l.createElement("button",Object.assign({type:"button",onClick:u,className:`${a}-close-icon`,tabIndex:0},m),E):null};var Z=l.forwardRef((n,o)=>{const{description:a,prefixCls:t,message:u,banner:m,className:E,rootClassName:v,style:D,onMouseEnter:C,onMouseLeave:R,onClick:L,afterClose:K,showIcon:H,closable:p,closeText:w,closeIcon:N,action:te,id:de}=n,me=G(n,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[re,pe]=l.useState(!1),se=l.useRef(null);l.useImperativeHandle(o,()=>({nativeElement:se.current}));const{getPrefixCls:fe,direction:_e,alert:s}=l.useContext(F.E_),f=fe("alert",t),[ge,he,Ee]=k(f),ve=g=>{var j;pe(!0),(j=n.onClose)===null||j===void 0||j.call(n,g)},ae=l.useMemo(()=>n.type!==void 0?n.type:m?"warning":"info",[n.type,m]),Ce=l.useMemo(()=>typeof p=="object"&&p.closeIcon||w?!0:typeof p=="boolean"?p:N!==!1&&N!==null&&N!==void 0?!0:!!(s!=null&&s.closable),[w,N,p,s==null?void 0:s.closable]),le=m&&H===void 0?!0:H,ye=P()(f,`${f}-${ae}`,{[`${f}-with-description`]:!!a,[`${f}-no-icon`]:!le,[`${f}-banner`]:!!m,[`${f}-rtl`]:_e==="rtl"},s==null?void 0:s.className,E,v,Ee,he),Be=(0,I.Z)(me,{aria:!0,data:!0}),be=l.useMemo(()=>{var g,j;return typeof p=="object"&&p.closeIcon?p.closeIcon:w||(N!==void 0?N:typeof(s==null?void 0:s.closable)=="object"&&(!((g=s==null?void 0:s.closable)===null||g===void 0)&&g.closeIcon)?(j=s==null?void 0:s.closable)===null||j===void 0?void 0:j.closeIcon:s==null?void 0:s.closeIcon)},[N,p,w,s==null?void 0:s.closeIcon]),je=l.useMemo(()=>{const g=p!=null?p:s==null?void 0:s.closable;if(typeof g=="object"){const{closeIcon:j}=g;return G(g,["closeIcon"])}return{}},[p,s==null?void 0:s.closable]);return ge(l.createElement(S.ZP,{visible:!re,motionName:`${f}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:g=>({maxHeight:g.offsetHeight}),onLeaveEnd:K},(g,j)=>{let{className:ie,style:De}=g;return l.createElement("div",Object.assign({id:de,ref:(0,$.sQ)(se,j),"data-show":!re,className:P()(ye,ie),style:Object.assign(Object.assign(Object.assign({},s==null?void 0:s.style),D),De),onMouseEnter:C,onMouseLeave:R,onClick:L,role:"alert"},Be),le?l.createElement(W,{description:a,icon:n.icon,prefixCls:f,type:ae}):null,l.createElement("div",{className:`${f}-content`},u?l.createElement("div",{className:`${f}-message`},u):null,a?l.createElement("div",{className:`${f}-description`},a):null),te?l.createElement("div",{className:`${f}-action`},te):null,l.createElement(V,{isClosable:Ce,prefixCls:f,closeIcon:be,handleClose:ve,ariaProps:je}))}))}),ne=e(15671),U=e(43144),_=e(53640),ee=e(60136),ue=function(n){function o(){var a;return(0,ne.Z)(this,o),a=(0,_.Z)(this,o,arguments),a.state={error:void 0,info:{componentStack:""}},a}return(0,ee.Z)(o,n),(0,U.Z)(o,[{key:"componentDidCatch",value:function(t,u){this.setState({error:t,info:u})}},{key:"render",value:function(){const{message:t,description:u,id:m,children:E}=this.props,{error:v,info:D}=this.state,C=(D==null?void 0:D.componentStack)||null,R=typeof t=="undefined"?(v||"").toString():t,L=typeof u=="undefined"?C:u;return v?l.createElement(Z,{id:m,type:"error",message:R,description:l.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},L)}):E}}])}(l.Component);const oe=Z;oe.ErrorBoundary=ue;var ce=oe},53640:function(Q,O,e){e.d(O,{Z:function(){return y}});var l=e(61120),c=e(78814),M=e(82963);function y(h,B,b){return B=(0,l.Z)(B),(0,M.Z)(h,(0,c.Z)()?Reflect.construct(B,b||[],(0,l.Z)(h).constructor):B.apply(h,b))}}}]);
