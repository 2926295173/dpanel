"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4214],{44349:function(N,I,e){var x=e(97857),a=e.n(x),U=e(15009),s=e.n(U),m=e(99289),l=e.n(m),E=e(74763),P=e(17186),R=e(5966),T=e(86250),f=e(67294),Z=e(85893),W=(0,f.forwardRef)(function(i,O){var p=(0,f.useRef)();(0,f.useImperativeHandle)(O,function(){return{addItem:function(b){function r(L,D,v){return b.apply(this,arguments)}return r.toString=function(){return b.toString()},r}(function(b,r,L){var D,v=(D=p.current)===null||D===void 0?void 0:D.getList(),C;if(v==null||v.forEach(function(_,g){_[b]==r[b]&&(C=g)}),!(0,E.k)(C)&&L){var k;(k=p.current)===null||k===void 0||k.remove(C),C=void 0}if(!C){var K;(K=p.current)===null||K===void 0||K.add(r)}}),removeItemByKey:function(r,L){return l()(s()().mark(function D(){var v,C;return s()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return C=(v=p.current)===null||v===void 0?void 0:v.getList(),C==null||C.forEach(function(_,g){if(_[r]==L){var y;(y=p.current)===null||y===void 0||y.remove(g);return}}),K.abrupt("return");case 3:case"end":return K.stop()}},D)}))()},clear:function(r){if(!r){var L;r=(L=p.current)===null||L===void 0||(L=L.getList())===null||L===void 0?void 0:L.map(function(v,C){return C})}if(r){var D;(D=p.current)===null||D===void 0||D.remove(r)}},getList:function(){var r;return(r=p.current)===null||r===void 0?void 0:r.getList()}}});var d={};return i.hideCopyButton===!0&&(d.copyIconProps=!1),i.hideDeleteButton===!0&&(d.deleteIconProps=!1),(0,Z.jsx)(P.u,a()(a()({initialValue:i.initialValue,label:i.label,name:i.name,actionRef:p,creatorButtonProps:i.showAddButton?{creatorButtonText:i.label?i.label:i.showAddButtonLabel?i.showAddButtonLabel:i.name}:!1,min:i.min?i.min:0},d),{},{children:function(r,L,D){return(0,Z.jsx)(T.Z,{justify:i.justify,gap:i.gap,children:i.items.map(function(v){return v.render?(0,Z.jsx)("div",{children:v.render&&v.render(r,L,D)},"".concat(i.name,"-").concat(v.name,"-").concat(r.key)):(0,Z.jsx)(R.Z,{width:v.width,name:v.name,label:v.label,required:v.required,rules:[{required:v.required}],disabled:v.disabled,placeholder:v.placeholder},"".concat(i.name,"-").concat(v.name,"-").concat(r.key))})})}}))});I.Z=W},78451:function(N,I,e){e.d(I,{Z:function(){return U}});var x=e(67294),a=e(85893);function U(s){var m;return(0,a.jsx)("span",{style:{width:s.width?s.width:"auto",wordBreak:"break-word"},children:(m=s.content)!==null&&m!==void 0?m:s.children})}},51100:function(N,I,e){e.d(I,{Z:function(){return m}});var x=e(4813),a=e(91604),U=e(1677),s=e(85893);function m(l){return l.showDragger?(0,s.jsx)(a.Z,{max:l.max?l.max:1,title:l.title,label:l.label,required:l.required,rules:[{required:l.required}],fieldProps:{multiple:!!(l.max&&l.max>1),name:"file",accept:l.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(P){return new Promise(function(R){var T;(0,x._)({path:(T=P.response.data.path)!==null&&T!==void 0?T:""}).then(function(f){R(!0)})})},onChange:function(P){P.file.status=="done"&&l.onFinish&&l.onFinish(P.fileList)}},name:l.name}):(0,s.jsx)(U.Z,{max:l.max?l.max:1,title:l.title,label:l.label,required:l.required,rules:[{required:l.required}],fieldProps:{multiple:!!(l.max&&l.max>1),name:"file",accept:l.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(P){return new Promise(function(R){var T;(0,x._)({path:(T=P.response.data.path)!==null&&T!==void 0?T:""}).then(function(f){R(!0)})})},onChange:function(P){P.file.status=="done"&&l.onFinish&&l.onFinish(P.fileList)}},name:l.name})}},3616:function(N,I,e){e.d(I,{Ed:function(){return s},FK:function(){return a},R_:function(){return x},ob:function(){return U}});var x=window.innerWidth<=1024?"90vw":"65vw",a="90vw",U="60vw",s="50vh"},65913:function(N,I,e){var x=e(5574),a=e.n(x),U=e(74330),s=e(67294),m=e(85893),l=(0,s.forwardRef)(function(E,P){(0,s.useImperativeHandle)(P,function(){return{show:function(){Z(!0)},destroy:function(){Z(!1)}}});var R=(0,s.useState)(!1),T=a()(R,2),f=T[0],Z=T[1];return(0,m.jsx)(U.Z,{spinning:f,size:"default",children:E.children})});I.Z=l},17550:function(N,I,e){e.r(I),e.d(I,{default:function(){return Re}});var x=e(19632),a=e.n(x),U=e(15009),s=e.n(U),m=e(99289),l=e.n(m),E=e(5574),P=e.n(E),R=e(74453),T=e(97269),f=e(62370),Z=e(37476),W=e(5966),i=e(42075),O=e(25593),p=e(66309),d=e(84567),b=e(83622),r=e(67294),L=e(82346),D=e(73813),v=e(5251),C=e(80821),k=e(58638),K=e(1912),_=e(52645),g=e(2205),y=e(67255),t=e(78914),J=e(1699),me=e(184),re=e(44349),oe=e(51100),A=e(36146),ue=e(3616),ne=e(57546),n=e(85893),fe=(0,r.forwardRef)(function(ie,w){(0,r.useImperativeHandle)(w,function(){return{}});var te=(0,r.useRef)(),H=new A.Uo("components.image");return(0,n.jsxs)(me.a,{drawerProps:{width:ue.R_},title:H.format("importTitle"),trigger:(0,n.jsx)(b.ZP,{icon:(0,n.jsx)(ne.Z,{}),children:H.format("importTitle")},"create"),formRef:te,onFinish:function(){var de=l()(s()().mark(function le(X){var Q,q;return s()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,(0,D.GH)({localUrl:X.imageTarUpload?X.imageTarUpload.map(function(ae){return ae.response.data.path}):[],remoteUrl:X.remoteUrl?X.remoteUrl.map(function(ae){return ae.url}):[]});case 2:return q=G.sent,!((Q=te.current)===null||Q===void 0)&&Q.resetFields&&te.current.resetFields(),ie.onFinish&&ie.onFinish(),G.abrupt("return",!0);case 6:case"end":return G.stop()}},le)}));return function(le){return de.apply(this,arguments)}}(),children:[(0,n.jsx)(oe.Z,{label:H.format("importLocal"),showDragger:!0,max:10,title:H.format("importLocalTip"),name:"imageTarUpload",accept:".tar"}),(0,n.jsx)(re.Z,{label:H.format("importRemote"),name:"remoteUrl",showAddButton:!0,hideCopyButton:!0,min:1,items:[{width:"lg",name:"url",placeholder:H.format("importRemoteEmpty")}]})]})}),he=fe,ge=e(47248),ve=e(96486),je=e.n(ve),Y=e(55375),Pe=e(98510),Ee=e(68297),be=e(97841);function Re(){var ie=(0,L.useAccess)(),w=(0,r.useRef)(),te=(0,r.useState)({force:!1}),H=P()(te,2),de=H[0],le=H[1],X=(0,r.useRef)(),Q=(0,r.useRef)(),q=(0,r.useRef)(),$=new A.Uo("image"),G=(0,r.useRef)(),ae=(0,r.useRef)(),Te=(0,r.useState)(1),_e=P()(Te,2),ee=_e[0],se=_e[1];return(0,r.useEffect)(function(){var B;!((B=w.current)===null||B===void 0)&&B.reloadAndRest&&w.current.reloadAndRest().then(function(){var M,o;!((M=w.current)===null||M===void 0)&&M.setPageInfo&&w.current.setPageInfo({current:(0,y.G$)(Y.CM,(o=w.current)===null||o===void 0?void 0:o.pageInfo)})})},[ee]),(0,n.jsxs)(R._z,{header:{extra:[(0,n.jsx)(J.u,{access:"canSeeImageListPull",children:(0,n.jsx)(ge.Z,{onFinish:function(){se(ee+1)}},"remote")},"remote"),(0,n.jsx)(J.u,{access:"canSeeImageListManageCreate",children:(0,n.jsx)(he,{onFinish:function(){se(ee+1)}})},"import")]},children:[(0,n.jsx)(t.Z,{ref:Q,onClose:function(){se(ee+1)}}),(0,n.jsx)(Pe.C,{rowKey:"Id",onChange:function(M,o,S){!je().isArray(S)&&(0,y.LX)(Y.CM,S.columnKey,S.order),(0,y.MJ)(Y.CM,M.current)},columns:[{title:"Id",dataIndex:"title",search:!1,render:function(M,o,S,V,h){var u=o.Id.substring(7,19);return o.Title&&(u=o.Title),(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(O.Z.Link,{copyable:!0,onClick:function(){var j;!((j=Q.current)===null||j===void 0)&&j.show&&Q.current.show(o.Id)},children:u},"title-".concat(S)),o.Containers==0&&(0,n.jsx)(p.Z,{color:"warning",children:A.FD.format("listNotUse")},"use-".concat(S))]})}},{title:A.FD.format("listTitle"),dataIndex:"tag",render:function(M,o,S,V){return(0,n.jsx)(i.Z,{direction:"vertical",style:{textAlign:"left"},children:o.RepoTags.map(function(h,u){return(0,n.jsx)(i.Z,{children:(0,n.jsx)(p.Z,{color:"#2db7f5",children:(0,n.jsx)(O.Z.Text,{copyable:!0,title:h,style:{color:"#ffffff"},children:h},"tag-"+u)},"tag-".concat(u))},u)})},o.Id)}},{title:"Digest",search:!1,tooltip:A.FD.format("listDigestTip"),render:function(M,o,S,V,h){return(0,n.jsx)(i.Z,{direction:"vertical",style:{textAlign:"left"},children:o.RepoTags&&o.RepoTags.map(function(u,c){var j,F=(j=o.RepoDigests)===null||j===void 0?void 0:j.find(function(z){var ce=z.split("@"),pe=P()(ce,2),Oe=pe[0],De=pe[1];return u.includes(Oe)});return(0,n.jsx)("span",{children:F?F.substring(F.indexOf("@")+8).substring(0,12):(0,n.jsx)(p.Z,{color:"warning",children:new A.Uo("components.appDetail").format("checkImageUpgradeOption.-3")})},c)})})}},{title:A.FD.format("listArch"),width:80,search:!1,render:function(M,o,S,V,h){if(o.Labels&&o.Labels["com.dpanel.image.arch"])return(0,n.jsx)(p.Z,{children:o.Labels["com.dpanel.image.arch"]},"arch"+o.Id)}},{title:A.FD.format("listSize"),dataIndex:"size",ellipsis:!0,width:"120px",search:!1,sorter:function(M,o){return parseFloat(M.Size)-parseFloat(o.Size)},sortDirections:y.h5,defaultSortOrder:(0,y.rj)(Y.CM,"size"),render:function(M,o,S,V){return(0,n.jsx)("div",{children:(0,v.FI)(parseFloat(o.Size))},o.Id)}},{title:A.FD.format("listCreatedAt"),dataIndex:"Created",key:"created",ellipsis:!0,search:!1,width:"180px",render:function(M,o,S,V){return(0,n.jsx)("div",{children:(0,v.ZM)(o.Created*1e3)},o.Id)},sorter:function(M,o){return M.Created-o.Created},sortDirections:y.h5,defaultSortOrder:(0,y.rj)(Y.CM,"created")}],request:function(){var B=l()(s()().mark(function M(o,S,V){var h;return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,D.KG)({tag:o.tag,title:o.title,use:o.use?o.use=="1"?1:2:0});case 2:if(h=c.sent,!(!h||!h.data||!h.data.list)){c.next=5;break}return c.abrupt("return",{data:[],success:!0,total:0});case 5:return h.data.list.map(function(j){var F="";j.RepoTags.map(function(z){h.data.title[z]&&(F=h.data.title[z])}),j.Title=F}),c.abrupt("return",{data:h.data.list,success:!0,total:h.data.list.length});case 7:case"end":return c.stop()}},M)}));return function(M,o,S){return B.apply(this,arguments)}}(),rowSelection:ie.canSeeImageListManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,actionRef:w,quickToolbarRender:function(M){var o=M.selectedRows,S=M.finish,V=M.loading;return(0,n.jsxs)(i.Z,{size:16,children:[(0,n.jsx)(C.Z,{buttonProps:{icon:(0,n.jsx)(k.Z,{})},confirmProps:{onOpenChange:function(u,c){var j;!((j=q.current)===null||j===void 0)&&j.resetFields&&q.current.resetFields()},description:(0,n.jsxs)(i.Z,{style:{width:500,marginTop:"10px",paddingRight:"10px"},direction:"vertical",size:20,children:[(0,n.jsx)(O.Z.Text,{children:(0,n.jsx)("ul",{children:$.prefix("listManageExportTipOption",2).map(function(h,u){return(0,n.jsx)("li",{children:h},u)})})}),(0,n.jsx)(T.A,{layout:"horizontal",formRef:q,submitter:!1,children:(0,n.jsx)(f.Z,{valuePropName:"checked",name:"enableExportToPath",children:(0,n.jsx)(d.Z,{children:$.format("listManageExportOptionToHost")})},"enableExportToPath")})]})},onSuccess:function(){var u;!((u=w.current)===null||u===void 0)&&u.reset&&w.current.reset()},action:function(){var u,c,j=[];return o.map(function(F){j.push.apply(j,a()(F.RepoTags))}),(0,D.Rb)({md5:j,enableExportToPath:(u=(c=q.current)===null||c===void 0?void 0:c.getFieldValue("enableExportToPath"))!==null&&u!==void 0?u:!1})},children:A.FD.format("listManageExport")}),(0,n.jsxs)(Z.Y,{modalProps:{width:ue.ob},formRef:X,title:$.format("listManagePushTip"),trigger:(0,n.jsx)(b.ZP,{icon:(0,n.jsx)(K.Z,{}),children:$.format("listManagePush")}),onFinish:function(){var h=l()(s()().mark(function u(c){var j;return s()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,(0,Ee.fy)({md5:o.map(function(ce){return ce.Id}),registryId:c.registryId,newNamespace:c.newNamespace});case 2:return j=z.sent,se(ee+1),z.abrupt("return",!0);case 5:case"end":return z.stop()}},u)}));return function(u){return h.apply(this,arguments)}}(),children:[(0,n.jsx)(f.Z,{name:"registryId",hidden:!0}),(0,n.jsx)(f.Z,{label:$.format("listManagePushImageRespo"),name:"imageRespo",tooltip:$.format("listManagePushImageRespoTip"),children:(0,n.jsx)(g.Z,{multiple:!0,top:!0,onChangeList:function(u){var c;(c=X.current)===null||c===void 0||c.setFieldValue("registryId",u.map(function(j){return j.id}))}})}),(0,n.jsx)(W.Z,{tooltip:$.format("listManagePushNewNamespaceTip"),label:$.format("listManagePushNewNamespace"),name:"newNamespace"})]}),(0,n.jsx)(J.u,{access:"canSeeImageListManageDelete",children:(0,n.jsx)(C.Z,{buttonProps:{icon:(0,n.jsx)(_.Z,{})},action:l()(s()().mark(function h(){var u,c;return s()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(V(),!((u=G.current)!==null&&u!==void 0&&u.getFieldValue("enableBuildCache"))){F.next=4;break}return F.next=4,(0,be.c5)();case 4:return F.abrupt("return",(0,D.Xz)({enableUnuseTag:(c=G.current)===null||c===void 0?void 0:c.getFieldValue("enableUnuseTag")}).finally(function(){S(!0)}));case 5:case"end":return F.stop()}},h)})),onSuccess:function(){var u;return!((u=w.current)===null||u===void 0)&&u.reloadAndRest&&w.current.reloadAndRest(),!0},onError:function(){return se(ee+1),!0},confirmProps:{onOpenChange:function(u,c){var j;!((j=G.current)===null||j===void 0)&&j.resetFields&&G.current.resetFields()},description:(0,n.jsx)(T.A,{submitter:!1,formRef:G,layout:"inline",children:(0,n.jsxs)(i.Z,{direction:"vertical",style:{width:600},children:[(0,n.jsx)(O.Z.Text,{children:$.format("listManagePruneTip")}),(0,n.jsx)(f.Z,{name:"enableUnuseTag",valuePropName:"checked",children:(0,n.jsxs)(d.Z,{children:[$.format("listManagePruneOption.enableUnuseTag"),"?"]})}),(0,n.jsx)(f.Z,{initialValue:!0,name:"enableBuildCache",valuePropName:"checked",children:(0,n.jsxs)(d.Z,{children:[$.format("listManagePruneOption.enableBuildCache"),"?"]})})]})})},children:A.FD.format("listManagePrune")})},"prune"),(0,n.jsx)(J.u,{access:"canSeeImageListManageDelete",children:(0,n.jsx)(C.Z,{buttonProps:{danger:!0,type:"primary"},action:function(){return V(),(0,D.ao)({md5:o.map(function(u){return u.Id}),force:de.force}).finally(function(){S(!0)})},onSuccess:function(){var u,c;return!((u=w.current)===null||u===void 0)&&u.reloadAndRest&&((c=w.current)===null||c===void 0||c.reloadAndRest()),!0},onError:function(){var u,c;return!((u=w.current)===null||u===void 0)&&u.reloadAndRest&&((c=w.current)===null||c===void 0||c.reloadAndRest()),!0},confirmProps:{description:(0,n.jsx)(T.A,{submitter:!1,formRef:ae,children:(0,n.jsxs)(i.Z,{style:{width:280},direction:"vertical",children:[(0,n.jsx)(O.Z.Text,{children:A.FD.format("confirm.title")}),(0,n.jsxs)(d.Z,{name:"deleteVolume",onChange:function(u){return le({force:u.target.checked})},children:[A.FD.format("listManageDeleteForce"),"?"]})]})})},children:A.FD.format("listManageDeleteBatch")})})]})},columnsState:(0,y.j_)(Y.CM)})]})}},4813:function(N,I,e){e.d(I,{_:function(){return l}});var x=e(15009),a=e.n(x),U=e(99289),s=e.n(U),m=e(82346);function l(P){return E.apply(this,arguments)}function E(){return E=s()(a()().mark(function P(R){return a()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,m.request)("/api/common/attach/delete",{method:"POST",data:R});case 2:return f.abrupt("return",f.sent);case 3:case"end":return f.stop()}},P)})),E.apply(this,arguments)}},97841:function(N,I,e){e.d(I,{Xr:function(){return Z},bJ:function(){return T},c5:function(){return i},hf:function(){return l},l9:function(){return P}});var x=e(15009),a=e.n(x),U=e(99289),s=e.n(U),m=e(82346);function l(p){return E.apply(this,arguments)}function E(){return E=s()(a()().mark(function p(d){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,m.request)("/api/app/image-build/delete",{method:"POST",data:d});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},p)})),E.apply(this,arguments)}function P(p){return R.apply(this,arguments)}function R(){return R=s()(a()().mark(function p(d){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/app/image-build/create",{method:"POST",data:d}));case 1:case"end":return r.stop()}},p)})),R.apply(this,arguments)}function T(p){return f.apply(this,arguments)}function f(){return f=s()(a()().mark(function p(d){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/app/image-build/get-list",{method:"POST",data:d}));case 1:case"end":return r.stop()}},p)})),f.apply(this,arguments)}function Z(p){return W.apply(this,arguments)}function W(){return W=s()(a()().mark(function p(d){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,m.request)("/api/app/image-build/get-detail",{method:"POST",data:d});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},p)})),W.apply(this,arguments)}function i(){return O.apply(this,arguments)}function O(){return O=s()(a()().mark(function p(){return a()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,(0,m.request)("/api/app/image-build/prune",{method:"POST"});case 2:return b.abrupt("return",b.sent);case 3:case"end":return b.stop()}},p)})),O.apply(this,arguments)}},73813:function(N,I,e){e.d(I,{Ck:function(){return l},Fj:function(){return p},GH:function(){return P},KG:function(){return Z},Rb:function(){return L},Xz:function(){return T},YU:function(){return b},ZQ:function(){return v},ao:function(){return i},cD:function(){return k}});var x=e(15009),a=e.n(x),U=e(99289),s=e.n(U),m=e(82346);function l(_){return E.apply(this,arguments)}function E(){return E=s()(a()().mark(function _(g){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.request)("/api/app/image/import-by-container-tar",{method:"POST",data:g}));case 1:case"end":return t.stop()}},_)})),E.apply(this,arguments)}function P(_){return R.apply(this,arguments)}function R(){return R=s()(a()().mark(function _(g){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.request)("/api/app/image/import-by-image-tar",{method:"POST",data:g}));case 1:case"end":return t.stop()}},_)})),R.apply(this,arguments)}function T(_){return f.apply(this,arguments)}function f(){return f=s()(a()().mark(function _(g){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.request)("/api/app/image/prune",{method:"POST"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_)})),f.apply(this,arguments)}function Z(_){return W.apply(this,arguments)}function W(){return W=s()(a()().mark(function _(g){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.request)("/api/app/image/get-list",{method:"POST",data:g}));case 1:case"end":return t.stop()}},_)})),W.apply(this,arguments)}function i(_){return O.apply(this,arguments)}function O(){return O=s()(a()().mark(function _(g){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.request)("/api/app/image/delete",{method:"POST",data:g});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_)})),O.apply(this,arguments)}function p(_){return d.apply(this,arguments)}function d(){return d=s()(a()().mark(function _(g){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.request)("/api/app/image/update-title",{method:"POST",data:g});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_)})),d.apply(this,arguments)}function b(_){return r.apply(this,arguments)}function r(){return r=s()(a()().mark(function _(g){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.request)("/api/app/image/get-detail",{method:"POST",data:g}));case 1:case"end":return t.stop()}},_)})),r.apply(this,arguments)}function L(_){return D.apply(this,arguments)}function D(){return D=s()(a()().mark(function _(g){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!g.enableExportToPath){t.next=2;break}return t.abrupt("return",(0,m.request)("/api/app/image/export",{method:"POST",data:g}));case 2:return t.abrupt("return",new Promise(function(J,me){var re,oe=localStorage.getItem("token"),A=new URLSearchParams;A.append("token",oe||""),g.md5&&g.md5.forEach(function(n){A.append("md5",n)}),A.append("enableExportToPath",String((re=g.enableExportToPath)!==null&&re!==void 0?re:!1));var ue="/api/app/image/export?".concat(A.toString()),ne=document.createElement("iframe");ne.style.display="none",ne.src=ue,document.body.appendChild(ne),J({code:200,data:"success",error:""})}));case 3:case"end":return t.stop()}},_)})),D.apply(this,arguments)}function v(_){return C.apply(this,arguments)}function C(){return C=s()(a()().mark(function _(g){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.request)("/api/app/image/check-upgrade",{method:"POST",data:g}));case 1:case"end":return t.stop()}},_)})),C.apply(this,arguments)}function k(_){return K.apply(this,arguments)}function K(){return K=s()(a()().mark(function _(g){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.request)("/api/pro/image/get-rootfs",{method:"POST",data:g}));case 1:case"end":return t.stop()}},_)})),K.apply(this,arguments)}},75870:function(N,I,e){e.d(I,{Ot:function(){return l},ZH:function(){return P},ix:function(){return T},t1:function(){return Z}});var x=e(15009),a=e.n(x),U=e(99289),s=e.n(U),m=e(82346);function l(i){return E.apply(this,arguments)}function E(){return E=s()(a()().mark(function i(O){return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,m.request)("/api/common/registry/get-list",{method:"POST",data:O}));case 1:case"end":return d.stop()}},i)})),E.apply(this,arguments)}function P(i){return R.apply(this,arguments)}function R(){return R=s()(a()().mark(function i(O){return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,m.request)("/api/common/registry/create",{method:"POST",data:O}));case 1:case"end":return d.stop()}},i)})),R.apply(this,arguments)}function T(i){return f.apply(this,arguments)}function f(){return f=s()(a()().mark(function i(O){return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,m.request)("/api/common/registry/delete",{method:"POST",data:O}));case 1:case"end":return d.stop()}},i)})),f.apply(this,arguments)}function Z(i){return W.apply(this,arguments)}function W(){return W=s()(a()().mark(function i(O){return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,m.request)("/api/common/registry/get-detail",{method:"POST",data:O}));case 1:case"end":return d.stop()}},i)})),W.apply(this,arguments)}}}]);
