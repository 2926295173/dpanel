"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4037],{63434:function(le,z,e){var s=e(1413),f=e(45987),F=e(22270),R=e(84567),L=e(67294),Q=e(90789),Z=e(73552),I=e(85893),j=["options","fieldProps","proFieldProps","valueEnum"],v=L.forwardRef(function(x,K){var B=x.options,S=x.fieldProps,J=x.proFieldProps,p=x.valueEnum,i=(0,f.Z)(x,j);return(0,I.jsx)(Z.Z,(0,s.Z)({ref:K,valueType:"checkbox",valueEnum:(0,F.h)(p,void 0),fieldProps:(0,s.Z)({options:B},S),lightProps:(0,s.Z)({labelFormatter:function(){return(0,I.jsx)(Z.Z,(0,s.Z)({ref:K,valueType:"checkbox",mode:"read",valueEnum:(0,F.h)(p,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,s.Z)({options:B},S),proFieldProps:J},i))}},i.lightProps),proFieldProps:J},i))}),c=L.forwardRef(function(x,K){var B=x.fieldProps,S=x.children;return(0,I.jsx)(R.Z,(0,s.Z)((0,s.Z)({ref:K},B),{},{children:S}))}),g=(0,Q.G)(c,{valuePropName:"checked"}),A=g;A.Group=v,z.Z=A},5966:function(le,z,e){var s=e(97685),f=e(1413),F=e(45987),R=e(21770),L=e(72723),Q=e(55241),Z=e(97435),I=e(67294),j=e(73552),v=e(85893),c=["fieldProps","proFieldProps"],g=["fieldProps","proFieldProps"],A="text",x=function(p){var i=p.fieldProps,D=p.proFieldProps,b=(0,F.Z)(p,c);return(0,v.jsx)(j.Z,(0,f.Z)({valueType:A,fieldProps:i,filedConfig:{valueType:A},proFieldProps:D},b))},K=function(p){var i=(0,R.Z)(p.open||!1,{value:p.open,onChange:p.onOpenChange}),D=(0,s.Z)(i,2),b=D[0],w=D[1];return(0,v.jsx)(L.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(k){var h,q=k.getFieldValue(p.name||[]);return(0,v.jsx)(Q.Z,(0,f.Z)((0,f.Z)({getPopupContainer:function(P){return P&&P.parentNode?P.parentNode:P},onOpenChange:function(P){return w(P)},content:(0,v.jsxs)("div",{style:{padding:"4px 0"},children:[(h=p.statusRender)===null||h===void 0?void 0:h.call(p,q),p.strengthText?(0,v.jsx)("div",{style:{marginTop:10},children:(0,v.jsx)("span",{children:p.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},p.popoverProps),{},{open:b,children:p.children}))}})},B=function(p){var i=p.fieldProps,D=p.proFieldProps,b=(0,F.Z)(p,g),w=(0,I.useState)(!1),_=(0,s.Z)(w,2),k=_[0],h=_[1];return i!=null&&i.statusRender&&b.name?(0,v.jsx)(K,{name:b.name,statusRender:i==null?void 0:i.statusRender,popoverProps:i==null?void 0:i.popoverProps,strengthText:i==null?void 0:i.strengthText,open:k,onOpenChange:h,children:(0,v.jsx)("div",{children:(0,v.jsx)(j.Z,(0,f.Z)({valueType:"password",fieldProps:(0,f.Z)((0,f.Z)({},(0,Z.Z)(i,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(H){var P;i==null||(P=i.onBlur)===null||P===void 0||P.call(i,H),h(!1)},onClick:function(H){var P;i==null||(P=i.onClick)===null||P===void 0||P.call(i,H),h(!0)}}),proFieldProps:D,filedConfig:{valueType:A}},b))})}):(0,v.jsx)(j.Z,(0,f.Z)({valueType:"password",fieldProps:i,proFieldProps:D,filedConfig:{valueType:A}},b))},S=x;S.Password=B,S.displayName="ProFormComponent",z.Z=S},89492:function(le,z,e){e.r(z),e.d(z,{default:function(){return a}});var s=e(15009),f=e.n(s),F=e(99289),R=e.n(F),L=e(5574),Q=e.n(L),Z=e(2831),I=e(31418),j=e(40056),v=e(67294),c=e(85893),g={name:{show:!1,message:"\u60A8\u521B\u5EFA\u7684\u9762\u677F\u5BB9\u5668\u540D\u79F0\u975E\u9ED8\u8BA4\u7684 dpanel \uFF0C\u8BF7\u91CD\u5EFA\u5E76\u901A\u8FC7\u73AF\u5883\u53D8\u91CF APP_NAME \u6307\u5B9A\u65B0\u7684\u540D\u79F0\u3002"}};function A(){var n=I.Z.useApp(),r=(0,v.useState)(""),d=Q()(r,2),m=d[0],E=d[1];return(0,v.useEffect)(function(){(0,Z.a)().then(function(C){!C.data.dpanel.containerInfo.Id&&C.data.dpanel.family!="lite"&&E(g.name.message)})},[]),(0,c.jsx)(c.Fragment,{children:m&&(0,c.jsx)(j.Z,{type:"error",message:m,banner:!0})})}var x=e(54006);function K(n){return B.apply(this,arguments)}function B(){return B=R()(f()().mark(function n(r){return f()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,x.request)("/api/common/user/login",{method:"POST",data:r}));case 1:case"end":return m.stop()}},n)})),B.apply(this,arguments)}var S=e(87547),J=e(87462),p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},i=p,D=e(84089),b=function(r,d){return v.createElement(D.Z,(0,J.Z)({},r,{ref:d,icon:i}))},w=v.forwardRef(b),_=w,k=e(10915),h=e(1413),q=e(45987),H=e(28459),P=e(93967),me=e.n(P),ie=e(97269),ne=e(4942),ve=e(98082),pe=function(r){return(0,ne.Z)((0,ne.Z)({},r.componentCls,{"&-container":{display:"flex",flex:"1",flexDirection:"column",height:"100%",paddingInline:32,paddingBlock:24,overflow:"auto",background:"inherit"},"&-top":{textAlign:"center"},"&-header":{display:"flex",alignItems:"center",justifyContent:"center",height:"44px",lineHeight:"44px",a:{textDecoration:"none"}},"&-title":{position:"relative",insetBlockStart:"2px",color:"@heading-color",fontWeight:"600",fontSize:"33px"},"&-logo":{width:"44px",height:"44px",marginInlineEnd:"16px",verticalAlign:"top",img:{width:"100%"}},"&-desc":{marginBlockStart:"12px",marginBlockEnd:"40px",color:r.colorTextSecondary,fontSize:r.fontSize},"&-main":{minWidth:"328px",maxWidth:"580px",margin:"0 auto","&-other":{marginBlockStart:"24px",lineHeight:"22px",textAlign:"start"}}}),"@media (min-width: @screen-md-min)",(0,ne.Z)({},"".concat(r.componentCls,"-container"),{paddingInline:0,paddingBlockStart:32,paddingBlockEnd:24,backgroundRepeat:"no-repeat",backgroundPosition:"center 110px",backgroundSize:"100%"}))};function fe(n){return(0,ve.Xj)("LoginForm",function(r){var d=(0,h.Z)((0,h.Z)({},r),{},{componentCls:".".concat(n)});return[pe(d)]})}var ye=["logo","message","contentStyle","title","subTitle","actions","children","containerStyle","otherStyle"];function ge(n){var r,d=n.logo,m=n.message,E=n.contentStyle,C=n.title,O=n.subTitle,$=n.actions,G=n.children,V=n.containerStyle,W=n.otherStyle,u=(0,q.Z)(n,ye),N=(0,k.YB)(),X=u.submitter===!1?!1:(0,h.Z)((0,h.Z)({searchConfig:{submitText:N.getMessage("loginForm.submitText","\u767B\u5F55")}},u.submitter),{},{submitButtonProps:(0,h.Z)({size:"large",style:{width:"100%"}},(r=u.submitter)===null||r===void 0?void 0:r.submitButtonProps),render:function(l,y){var se,Ce=y.pop();if(typeof(u==null||(se=u.submitter)===null||se===void 0?void 0:se.render)=="function"){var ee,ae;return u==null||(ee=u.submitter)===null||ee===void 0||(ae=ee.render)===null||ae===void 0?void 0:ae.call(ee,l,y)}return Ce}}),M=(0,v.useContext)(H.ZP.ConfigContext),ce=M.getPrefixCls("pro-form-login"),de=fe(ce),ue=de.wrapSSR,oe=de.hashId,U=function(l){return"".concat(ce,"-").concat(l," ").concat(oe)},re=(0,v.useMemo)(function(){return d?typeof d=="string"?(0,c.jsx)("img",{src:d}):d:null},[d]);return ue((0,c.jsxs)("div",{className:me()(U("container"),oe),style:V,children:[(0,c.jsxs)("div",{className:"".concat(U("top")," ").concat(oe).trim(),children:[C||re?(0,c.jsxs)("div",{className:"".concat(U("header")),children:[re?(0,c.jsx)("span",{className:U("logo"),children:re}):null,C?(0,c.jsx)("span",{className:U("title"),children:C}):null]}):null,O?(0,c.jsx)("div",{className:U("desc"),children:O}):null]}),(0,c.jsxs)("div",{className:U("main"),style:(0,h.Z)({width:328},E),children:[(0,c.jsxs)(ie.A,(0,h.Z)((0,h.Z)({isKeyPressSubmit:!0},u),{},{submitter:X,children:[m,G]})),$?(0,c.jsx)("div",{className:U("main-other"),style:W,children:$}):null]})]}))}var te=e(5966),he=e(63434),t=e(9361),o=e(92398),a=function(){var n=t.Z.useToken(),r=n.token,d=I.Z.useApp(),m=(0,x.useModel)("@@initialState"),E=m.initialState,C=m.loading,O=m.error,$=m.refresh,G=m.setInitialState;return(0,c.jsxs)("div",{children:[(0,c.jsx)(A,{}),(0,c.jsx)(k._Y,{hashed:!1,children:(0,c.jsx)("div",{style:{backgroundColor:r.colorBgContainer,height:"100vh",paddingTop:"200px"},children:(0,c.jsxs)(ge,{onFinish:function(){var V=R()(f()().mark(function W(u){var N;return f()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,K({username:u.username,password:u.password,autoLogin:u.autoLogin});case 2:if(N=M.sent,!N.data.accessToken){M.next=10;break}return localStorage.setItem("token",N.data.accessToken),$(),window.location.href="/dpanel/ui/home",M.abrupt("return");case 10:return M.abrupt("return",!1);case 11:case"end":return M.stop()}},W)}));return function(W){return V.apply(this,arguments)}}(),logo:"",title:"Docker Panel",subTitle:"Docker \u90E8\u7F72&\u7BA1\u7406\u53EF\u89C6\u5316\u9762\u677F",children:[(0,c.jsx)(o.Z,{centered:!0,items:[{key:"account",label:"\u8D26\u53F7\u5BC6\u7801\u767B\u5F55",children:[(0,c.jsx)(te.Z,{name:"username",fieldProps:{size:"large",prefix:(0,c.jsx)(S.Z,{className:"prefixIcon"})},placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"}]},"username"),(0,c.jsx)(te.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,c.jsx)(_,{className:"prefixIcon"})},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"}]},"password")]}]}),(0,c.jsx)("div",{style:{marginBlockEnd:24},children:(0,c.jsx)(he.Z,{noStyle:!0,name:"autoLogin",initialValue:!0,children:"\u4FDD\u6301\u767B\u5F55\u72B6\u6001"})})]})})})]})}},2831:function(le,z,e){e.d(z,{a:function(){return Q},d:function(){return I}});var s=e(15009),f=e.n(s),F=e(99289),R=e.n(F),L=e(54006);function Q(){return Z.apply(this,arguments)}function Z(){return Z=R()(f()().mark(function v(){return f()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,L.request)("/api/common/home/info",{method:"POST"});case 2:return g.abrupt("return",g.sent);case 3:case"end":return g.stop()}},v)})),Z.apply(this,arguments)}function I(){return j.apply(this,arguments)}function j(){return j=R()(f()().mark(function v(){return f()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,L.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return g.abrupt("return",g.sent);case 3:case"end":return g.stop()}},v)})),j.apply(this,arguments)}},40056:function(le,z,e){e.d(z,{Z:function(){return he}});var s=e(67294),f=e(89739),F=e(4340),R=e(97937),L=e(21640),Q=e(78860),Z=e(93967),I=e.n(Z),j=e(29372),v=e(64217),c=e(42550),g=e(96159),A=e(53124),x=e(11568),K=e(14747),B=e(83559);const S=(t,o,a,n,r)=>({background:t,border:`${(0,x.bf)(n.lineWidth)} ${n.lineType} ${o}`,[`${r}-icon`]:{color:a}}),J=t=>{const{componentCls:o,motionDurationSlow:a,marginXS:n,marginSM:r,fontSize:d,fontSizeLG:m,lineHeight:E,borderRadiusLG:C,motionEaseInOutCirc:O,withDescriptionIconSize:$,colorText:G,colorTextHeading:V,withDescriptionPadding:W,defaultPadding:u}=t;return{[o]:Object.assign(Object.assign({},(0,K.Wf)(t)),{position:"relative",display:"flex",alignItems:"center",padding:u,wordWrap:"break-word",borderRadius:C,[`&${o}-rtl`]:{direction:"rtl"},[`${o}-content`]:{flex:1,minWidth:0},[`${o}-icon`]:{marginInlineEnd:n,lineHeight:0},"&-description":{display:"none",fontSize:d,lineHeight:E},"&-message":{color:V},[`&${o}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${a} ${O}, opacity ${a} ${O},
        padding-top ${a} ${O}, padding-bottom ${a} ${O},
        margin-bottom ${a} ${O}`},[`&${o}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${o}-with-description`]:{alignItems:"flex-start",padding:W,[`${o}-icon`]:{marginInlineEnd:r,fontSize:$,lineHeight:0},[`${o}-message`]:{display:"block",marginBottom:n,color:V,fontSize:m},[`${o}-description`]:{display:"block",color:G}},[`${o}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},p=t=>{const{componentCls:o,colorSuccess:a,colorSuccessBorder:n,colorSuccessBg:r,colorWarning:d,colorWarningBorder:m,colorWarningBg:E,colorError:C,colorErrorBorder:O,colorErrorBg:$,colorInfo:G,colorInfoBorder:V,colorInfoBg:W}=t;return{[o]:{"&-success":S(r,n,a,t,o),"&-info":S(W,V,G,t,o),"&-warning":S(E,m,d,t,o),"&-error":Object.assign(Object.assign({},S($,O,C,t,o)),{[`${o}-description > pre`]:{margin:0,padding:0}})}}},i=t=>{const{componentCls:o,iconCls:a,motionDurationMid:n,marginXS:r,fontSizeIcon:d,colorIcon:m,colorIconHover:E}=t;return{[o]:{"&-action":{marginInlineStart:r},[`${o}-close-icon`]:{marginInlineStart:r,padding:0,overflow:"hidden",fontSize:d,lineHeight:(0,x.bf)(d),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${a}-close`]:{color:m,transition:`color ${n}`,"&:hover":{color:E}}},"&-close-text":{color:m,transition:`color ${n}`,"&:hover":{color:E}}}}},D=t=>({withDescriptionIconSize:t.fontSizeHeading3,defaultPadding:`${t.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${t.paddingMD}px ${t.paddingContentHorizontalLG}px`});var b=(0,B.I$)("Alert",t=>[J(t),p(t),i(t)],D),w=function(t,o){var a={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&o.indexOf(n)<0&&(a[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)o.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(a[n[r]]=t[n[r]]);return a};const _={success:f.Z,info:Q.Z,error:F.Z,warning:L.Z},k=t=>{const{icon:o,prefixCls:a,type:n}=t,r=_[n]||null;return o?(0,g.wm)(o,s.createElement("span",{className:`${a}-icon`},o),()=>({className:I()(`${a}-icon`,{[o.props.className]:o.props.className})})):s.createElement(r,{className:`${a}-icon`})},h=t=>{const{isClosable:o,prefixCls:a,closeIcon:n,handleClose:r,ariaProps:d}=t,m=n===!0||n===void 0?s.createElement(R.Z,null):n;return o?s.createElement("button",Object.assign({type:"button",onClick:r,className:`${a}-close-icon`,tabIndex:0},d),m):null};var H=s.forwardRef((t,o)=>{const{description:a,prefixCls:n,message:r,banner:d,className:m,rootClassName:E,style:C,onMouseEnter:O,onMouseLeave:$,onClick:G,afterClose:V,showIcon:W,closable:u,closeText:N,closeIcon:X,action:M,id:ce}=t,de=w(t,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[ue,oe]=s.useState(!1),U=s.useRef(null);s.useImperativeHandle(o,()=>({nativeElement:U.current}));const{getPrefixCls:re,direction:Pe,alert:l}=s.useContext(A.E_),y=re("alert",n),[se,Ce,ee]=b(y),ae=T=>{var Y;oe(!0),(Y=t.onClose)===null||Y===void 0||Y.call(t,T)},xe=s.useMemo(()=>t.type!==void 0?t.type:d?"warning":"info",[t.type,d]),Oe=s.useMemo(()=>typeof u=="object"&&u.closeIcon||N?!0:typeof u=="boolean"?u:X!==!1&&X!==null&&X!==void 0?!0:!!(l!=null&&l.closable),[N,X,u,l==null?void 0:l.closable]),Ee=d&&W===void 0?!0:W,Ie=I()(y,`${y}-${xe}`,{[`${y}-with-description`]:!!a,[`${y}-no-icon`]:!Ee,[`${y}-banner`]:!!d,[`${y}-rtl`]:Pe==="rtl"},l==null?void 0:l.className,m,E,ee,Ce),je=(0,v.Z)(de,{aria:!0,data:!0}),Me=s.useMemo(()=>{var T,Y;return typeof u=="object"&&u.closeIcon?u.closeIcon:N||(X!==void 0?X:typeof(l==null?void 0:l.closable)=="object"&&(!((T=l==null?void 0:l.closable)===null||T===void 0)&&T.closeIcon)?(Y=l==null?void 0:l.closable)===null||Y===void 0?void 0:Y.closeIcon:l==null?void 0:l.closeIcon)},[X,u,N,l==null?void 0:l.closeIcon]),Te=s.useMemo(()=>{const T=u!=null?u:l==null?void 0:l.closable;if(typeof T=="object"){const{closeIcon:Y}=T;return w(T,["closeIcon"])}return{}},[u,l==null?void 0:l.closable]);return se(s.createElement(j.ZP,{visible:!ue,motionName:`${y}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:T=>({maxHeight:T.offsetHeight}),onLeaveEnd:V},(T,Y)=>{let{className:Se,style:Ze}=T;return s.createElement("div",Object.assign({id:ce,ref:(0,c.sQ)(U,Y),"data-show":!ue,className:I()(Ie,Se),style:Object.assign(Object.assign(Object.assign({},l==null?void 0:l.style),C),Ze),onMouseEnter:O,onMouseLeave:$,onClick:G,role:"alert"},je),Ee?s.createElement(k,{description:a,icon:t.icon,prefixCls:y,type:xe}):null,s.createElement("div",{className:`${y}-content`},r?s.createElement("div",{className:`${y}-message`},r):null,a?s.createElement("div",{className:`${y}-description`},a):null),M?s.createElement("div",{className:`${y}-action`},M):null,s.createElement(h,{isClosable:Oe,prefixCls:y,closeIcon:Me,handleClose:ae,ariaProps:Te}))}))}),P=e(15671),me=e(43144),ie=e(61120),ne=e(78814),ve=e(82963);function pe(t,o,a){return o=(0,ie.Z)(o),(0,ve.Z)(t,(0,ne.Z)()?Reflect.construct(o,a||[],(0,ie.Z)(t).constructor):o.apply(t,a))}var fe=e(60136),ge=function(t){function o(){var a;return(0,P.Z)(this,o),a=pe(this,o,arguments),a.state={error:void 0,info:{componentStack:""}},a}return(0,fe.Z)(o,t),(0,me.Z)(o,[{key:"componentDidCatch",value:function(n,r){this.setState({error:n,info:r})}},{key:"render",value:function(){const{message:n,description:r,id:d,children:m}=this.props,{error:E,info:C}=this.state,O=(C==null?void 0:C.componentStack)||null,$=typeof n=="undefined"?(E||"").toString():n,G=typeof r=="undefined"?O:r;return E?s.createElement(H,{id:d,type:"error",message:$,description:s.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},G)}):m}}])}(s.Component);const te=H;te.ErrorBoundary=ge;var he=te}}]);
