"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4819],{99861:function(B,v,r){var T=r(15009),n=r.n(T),O=r(64599),_=r.n(O),u=r(99289),D=r.n(u),h=r(5574),U=r.n(h),E=r(42119),b=r(67294),f=r(92754),M=r(3393),P=r(184),l=r(38345),g=r(85893),C=(0,b.forwardRef)(function(m,d){(0,b.useImperativeHandle)(d,function(){return{start:function(){return Z(!0),G()}}});var o=(0,b.useState)(0),j=U()(o,2),s=j[0],t=j[1],a=(0,b.useRef)(),p=(0,b.useState)(!1),e=U()(p,2),F=e[0],Z=e[1],G=function(){var y=D()(n()().mark(function A(){var K,L,R,x,N,W,I;return n()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:L=0,R=_()(m.image),c.prev=2,R.s();case 4:if((x=R.n()).done){c.next=14;break}return W=x.value,t(L),(N=a.current)===null||N===void 0||N.setStart(W),c.next=10,(0,M.Gb)({tag:W,type:"pull"});case 10:I=c.sent,L++;case 12:c.next=4;break;case 14:c.next=19;break;case 16:c.prev=16,c.t0=c.catch(2),R.e(c.t0);case 19:return c.prev=19,R.f(),c.finish(19);case 22:(K=a.current)===null||K===void 0||K.setFinish(),t(L);case 24:case"end":return c.stop()}},A,null,[[2,16,19,22]])}));return function(){return y.apply(this,arguments)}}();return(0,g.jsxs)(P.a,{trigger:m.trigger,width:800,open:F,submitter:!1,title:"\u4E00\u952E\u62C9\u53D6\u955C\u50CF",onOpenChange:function(){var y=D()(n()().mark(function A(K){return n()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:Z(K),K&&m.trigger&&G();case 2:case"end":return R.stop()}},A)}));return function(A){return y.apply(this,arguments)}}(),children:[(0,g.jsx)(l.Z,{children:(0,g.jsx)(E.Z,{current:s,items:m.image.map(function(y,A){return{title:y,key:A}})})}),(0,g.jsx)(l.Z,{children:(0,g.jsx)(f.Z,{ref:a})})]})});v.Z=C},44771:function(B,v,r){r.d(v,{Z:function(){return u}});var T=r(34041),n=r(25449),O=r(67294),_=r(85893);function u(D){return(0,_.jsx)(n.Z,{label:D.label,name:"restart",initialValue:D.defaultValue?D.defaultValue:"on-failure",children:(0,_.jsx)(T.Z,{options:[{value:"no",label:"\u4E0D\u91CD\u542F"},{value:"on-failure",label:"\u5931\u8D25\u540E\u91CD\u542F\uFF08\u9ED8\u8BA45\u6B21\uFF09"},{value:"unless-stopped",label:"\u672A\u624B\u52A8\u505C\u6B62\u5219\u91CD\u542F"},{value:"always",label:"\u4E00\u76F4\u91CD\u542F"}]})})}},4798:function(B,v,r){var T=r(15009),n=r.n(T),O=r(99289),_=r.n(O),u=r(5574),D=r.n(u),h=r(24963),U=r(14946),E=r(64789),b=r(38345),f=r(17186),M=r(24739),P=r(5966),l=r(62370),g=r(10641),C=r(31418),m=r(25593),d=r(85576),o=r(66309),j=r(42075),s=r(14726),t=r(67294),a=r(85893),p=(0,t.forwardRef)(function(e,F){var Z=(0,t.useContext)(h.Z),G=Z.notice,y=(0,t.useState)(!1),A=D()(y,2),K=A[0],L=A[1],R=(0,t.useRef)(),x=C.Z.useApp();(0,t.useImperativeHandle)(F,function(){return{}});var N=function(I){var i,c,k=!1,S=(i=(c=R.current)===null||c===void 0?void 0:c.getList())!==null&&i!==void 0?i:[];if(S.map(function(w){w.name==I.name&&(k=!0)}),!k){var $;($=R.current)===null||$===void 0||$.add(I)}};return(0,a.jsxs)(b.Z,{title:"\u5173\u8054\u7F51\u7EDC",headerBordered:!0,children:[(0,a.jsx)(f.u,{name:"network",actionRef:R,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u7F51\u7EDC"},actionGuard:{beforeAddRow:function(I,i){return!e.siteName||e.siteName==""||typeof e.siteName=="undefined"?(G.error("\u8BF7\u8F93\u5165\u7AD9\u70B9\u6807\u8BC6"),!1):(L(!0),!1)}},copyIconProps:!1,min:0,itemRender:function(I,i){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(M.UW,{children:[(0,a.jsx)(P.Z,{label:"\u7F51\u7EDC\u540D\u79F0",name:"name",width:"md",disabled:!0,fieldProps:{value:i.record.name}}),(0,a.jsx)(l.Z,{label:"\u8BBF\u95EEHostname",name:"alise",children:i.record.alise!=""&&(0,a.jsx)(m.Z.Text,{code:!0,copyable:!0,children:i.record.alise})}),(0,a.jsx)(l.Z,{label:" ",children:I.action})]}),(0,a.jsx)(M.UW,{children:(0,a.jsx)(P.Z,{label:"\u6307\u5B9AIpV4",name:"ipV4",width:"md",fieldProps:{addonAfter:i.record.subnet}})})]})}}),(0,a.jsx)(d.Z,{title:"\u9009\u62E9\u7F51\u7EDC",width:1024,footer:!1,open:K,onCancel:function(){return L(!1)},children:(0,a.jsx)(g.Z,{rowKey:"Name",toolBarRender:!1,columns:[{title:"\u540D\u79F0",dataIndex:"Name",render:function(I,i,c,k,S){return i.Name=="none"||i.Name=="bridge"||i.Name=="host"?(0,a.jsxs)(a.Fragment,{children:[i.Name," ",(0,a.jsx)(o.Z,{color:"blue",children:"System"})]}):(0,a.jsx)(a.Fragment,{children:I})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4 IPAM Network",search:!1,dataIndex:["IPAM","Config",0,"Subnet"],render:function(I,i,c,k,S){return(0,a.jsxs)(j.Z,{children:[i.IPAM.Config&&i.IPAM.Config[0]&&"".concat(i.IPAM.Config[0].Subnet," - ").concat(i.IPAM.Config[0].Gateway),i.IPAM.Config&&i.IPAM.Config[1]&&"".concat(i.IPAM.Config[1].Subnet," - ").concat(i.IPAM.Config[1].Gateway)]})}},{title:"\u64CD\u4F5C",width:100,search:!1,render:function(I,i,c,k,S){return[(0,a.jsx)(s.ZP,{type:"link",onClick:function(){var w;N({name:i.Name,alise:[((w=e.siteName)!==null&&w!==void 0?w:"")+".pod.dpanel.local"],subnet:i.IPAM.Config[0].Subnet}),L(!1)},children:(0,a.jsx)(E.Z,{})},i.Id)]}}],request:function(){var W=_()(n()().mark(function I(i,c,k){var S;return n()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,U.jR)({name:i.Name});case 2:return S=w.sent,w.abrupt("return",{data:S.data.list,success:!0,total:S.data.list.length});case 4:case"end":return w.stop()}},I)}));return function(I,i,c){return W.apply(this,arguments)}}(),pagination:{pageSize:10}})})]})});v.Z=p},92754:function(B,v,r){var T=r(5574),n=r.n(T),O=r(67294),_=r(54006),u=r(38703),D=r(85893),h=(0,O.forwardRef)(function(U,E){var b=(0,O.useState)(""),f=n()(b,2),M=f[0],P=f[1];(0,O.useImperativeHandle)(E,function(){return{setFinish:function(){d({finish:{downloading:100,extracting:100}})},setStart:function(j){j&&P(j),d({start:{downloading:0,extracting:0}})}}});var l=(0,_.useModel)("subscriber");l.addDataHandler("image:pull:"+M,function(o){d(o.data)});var g=(0,O.useState)(),C=n()(g,2),m=C[0],d=C[1];return(0,O.useEffect)(function(){d({start:{downloading:0,extracting:0}})},[]),(0,D.jsx)(D.Fragment,{children:m&&Object.keys(m).map(function(o){return(0,D.jsx)(u.Z,{percent:m[o].downloading,success:{percent:m[o].extracting}},o)})})});v.Z=h},78451:function(B,v,r){r.d(v,{Z:function(){return O}});var T=r(67294),n=r(85893);function O(_){return(0,n.jsx)("span",{style:{width:_.width?_.width:"auto",wordBreak:"break-word"},children:_.content})}},62597:function(B,v,r){r.d(v,{$G:function(){return D},Ct:function(){return C},Tb:function(){return b},XH:function(){return M},cl:function(){return U},iE:function(){return l},lK:function(){return j},xb:function(){return d}});var T=r(15009),n=r.n(T),O=r(99289),_=r.n(O),u=r(54006);function D(t){return h.apply(this,arguments)}function h(){return h=_()(n()().mark(function t(a){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/app/site/create-by-image",{method:"POST",data:a}));case 1:case"end":return e.stop()}},t)})),h.apply(this,arguments)}function U(t){return E.apply(this,arguments)}function E(){return E=_()(n()().mark(function t(a){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/app/site/get-list",{method:"POST",data:a}));case 1:case"end":return e.stop()}},t)})),E.apply(this,arguments)}function b(t){return f.apply(this,arguments)}function f(){return f=_()(n()().mark(function t(a){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.download=!1,e.next=3,(0,u.request)("/api/app/log/run",{method:"POST",data:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},t)})),f.apply(this,arguments)}function M(t){return P.apply(this,arguments)}function P(){return P=_()(n()().mark(function t(a){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.download=!0,e.next=3,(0,u.request)("/api/app/log/run",{method:"POST",data:a,responseType:"blob"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},t)})),P.apply(this,arguments)}function l(t){return g.apply(this,arguments)}function g(){return g=_()(n()().mark(function t(a){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.request)("/api/app/site/get-detail",{data:a,method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t)})),g.apply(this,arguments)}function C(t){return m.apply(this,arguments)}function m(){return m=_()(n()().mark(function t(a){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/app/container/delete",{method:"POST",data:a}));case 1:case"end":return e.stop()}},t)})),m.apply(this,arguments)}function d(t){return o.apply(this,arguments)}function o(){return o=_()(n()().mark(function t(a){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/app/site/delete",{method:"POST",data:a}));case 1:case"end":return e.stop()}},t)})),o.apply(this,arguments)}function j(t){return s.apply(this,arguments)}function s(){return s=_()(n()().mark(function t(a){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.request)("/api/app/site/update-title",{method:"POST",data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t)})),s.apply(this,arguments)}},2831:function(B,v,r){r.d(v,{Ll:function(){return U},aF:function(){return D},d6:function(){return b}});var T=r(15009),n=r.n(T),O=r(99289),_=r.n(O),u=r(54006);function D(){return h.apply(this,arguments)}function h(){return h=_()(n()().mark(function M(){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,u.request)("/api/common/home/info",{method:"POST"});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},M)})),h.apply(this,arguments)}function U(){return E.apply(this,arguments)}function E(){return E=_()(n()().mark(function M(){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,u.request)("/api/common/home/usage",{method:"POST"});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},M)})),E.apply(this,arguments)}function b(){return f.apply(this,arguments)}function f(){return f=_()(n()().mark(function M(){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,u.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},M)})),f.apply(this,arguments)}},14946:function(B,v,r){r.d(v,{CI:function(){return b},HY:function(){return d},IS:function(){return D},XY:function(){return l},_3:function(){return j},_x:function(){return M},jR:function(){return U},t9:function(){return C}});var T=r(15009),n=r.n(T),O=r(99289),_=r.n(O),u=r(54006);function D(t){return h.apply(this,arguments)}function h(){return h=_()(n()().mark(function t(a){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/app/network/get-detail",{method:"POST",data:a}));case 1:case"end":return e.stop()}},t)})),h.apply(this,arguments)}function U(t){return E.apply(this,arguments)}function E(){return E=_()(n()().mark(function t(a){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/app/network/get-list",{method:"POST",data:a}));case 1:case"end":return e.stop()}},t)})),E.apply(this,arguments)}function b(){return f.apply(this,arguments)}function f(){return f=_()(n()().mark(function t(){return n()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,u.request)("/api/app/network/prune",{method:"POST"});case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},t)})),f.apply(this,arguments)}function M(t){return P.apply(this,arguments)}function P(){return P=_()(n()().mark(function t(a){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.request)("/api/app/network/delete",{method:"POST",data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t)})),P.apply(this,arguments)}function l(t){return g.apply(this,arguments)}function g(){return g=_()(n()().mark(function t(a){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.request)("/api/app/network/create",{method:"POST",data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t)})),g.apply(this,arguments)}function C(t){return m.apply(this,arguments)}function m(){return m=_()(n()().mark(function t(a){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.request)("/api/app/network/disconnect",{method:"POST",data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t)})),m.apply(this,arguments)}function d(t){return o.apply(this,arguments)}function o(){return o=_()(n()().mark(function t(a){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.request)("/api/app/network/connect",{method:"POST",data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t)})),o.apply(this,arguments)}function j(t){return s.apply(this,arguments)}function s(){return s=_()(n()().mark(function t(a){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/app/network/get-container-list",{method:"POST",data:a}));case 1:case"end":return e.stop()}},t)})),s.apply(this,arguments)}},3393:function(B,v,r){r.d(v,{Gb:function(){return U},Pn:function(){return M},Rb:function(){return l},YU:function(){return D},_U:function(){return b},cd:function(){return C}});var T=r(15009),n=r.n(T),O=r(99289),_=r.n(O),u=r(54006);function D(d){return h.apply(this,arguments)}function h(){return h=_()(n()().mark(function d(o){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,u.request)("/api/app/image/get-detail",{method:"POST",data:o}));case 1:case"end":return s.stop()}},d)})),h.apply(this,arguments)}function U(d){return E.apply(this,arguments)}function E(){return E=_()(n()().mark(function d(o){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,u.request)("/api/app/image/tag-remote",{method:"POST",data:o}));case 1:case"end":return s.stop()}},d)})),E.apply(this,arguments)}function b(d){return f.apply(this,arguments)}function f(){return f=_()(n()().mark(function d(o){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,u.request)("/api/app/image/tag-add",{method:"POST",data:o}));case 1:case"end":return s.stop()}},d)})),f.apply(this,arguments)}function M(d){return P.apply(this,arguments)}function P(){return P=_()(n()().mark(function d(o){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,u.request)("/api/app/image/tag-delete",{method:"POST",data:o}));case 1:case"end":return s.stop()}},d)})),P.apply(this,arguments)}function l(d){return g.apply(this,arguments)}function g(){return g=_()(n()().mark(function d(o){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,u.request)("/api/app/image/export",{method:"POST",data:o,responseType:"blob"}));case 1:case"end":return s.stop()}},d)})),g.apply(this,arguments)}function C(d){return m.apply(this,arguments)}function m(){return m=_()(n()().mark(function d(o){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,u.request)("/api/pro/image/get-remote-tag",{method:"POST",data:o}));case 1:case"end":return s.stop()}},d)})),m.apply(this,arguments)}}}]);
