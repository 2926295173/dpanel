"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2902],{1699:function(A,d,e){e.d(d,{u:function(){return E}});var f=e(97857),a=e.n(f),p=e(67294),_=e(82346),s=e(42075),o=e(85893),E=function(i){var D=(0,_.useAccess)(),P=Array.isArray(i.access)?i.access:[i.access];return i.space?(0,o.jsx)(s.Z,a()(a()({},i.space),{},{children:P.every(function(l){return D[l]})?i.children:i.fallback})):(0,o.jsx)(o.Fragment,{children:P.every(function(l){return D[l]})?i.children:i.fallback})}},78498:function(A,d,e){e.d(d,{Z:function(){return o}});var f=e(25035),a=e(42075),p=e(83062),_=e(67294),s=e(85893);function o(E){return(0,s.jsxs)(a.Z,{children:[E.title,(0,s.jsx)(p.Z,{title:E.help,children:(0,s.jsx)(f.Z,{})})]})}},78451:function(A,d,e){e.d(d,{Z:function(){return p}});var f=e(67294),a=e(85893);function p(_){return(0,a.jsx)("span",{style:{width:_.width?_.width:"auto",wordBreak:"break-word"},children:_.content})}},50070:function(A,d,e){e.r(d),e.d(d,{AppDetailContext:function(){return B},default:function(){return b}});var f=e(15009),a=e.n(f),p=e(99289),_=e.n(p),s=e(5574),o=e.n(s),E=e(1699),v=e(24963),i=e(60335),D=e(55809),P=e(90078),l=e(82346),O=e(25593),U=e(28036),M=e(50136),h=e(67294),u=e(85893),B=(0,h.createContext)({});function b(){var g,C=(0,h.useContext)(v.Z),R=C.lang,j=C.loading,t=C.message,r=(0,l.useParams)(),c=(0,l.useSearchParams)(),n=o()(c,2),G=n[0],ne=n[1],V=(g=G.get("tab"))!==null&&g!==void 0?g:"edit",z=(0,h.useState)("edit"),k=o()(z,2),H=k[0],x=k[1],L=(0,l.useNavigate)(),J=(0,h.useState)(1),Z=o()(J,2),$=Z[0],Q=Z[1],F=[{label:(0,u.jsx)(l.Link,{to:"/app/detail/edit/".concat(r.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,u.jsx)(l.Link,{to:"/app/detail/network/".concat(r.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,u.jsx)(O.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){t.info(R("app.detail.createExplorerPlugin")),L("/app/detail/file/".concat(r.id,"?tab=file"))}},{label:(0,u.jsx)(O.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){L("/app/detail/log/".concat(r.id,"?tab=log"))}},{label:(0,u.jsx)(O.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){L("/app/detail/stat/".concat(r.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,u.jsx)(D.Z,{}),disabled:!0}],X=(0,h.useState)(F),w=o()(X,2),Y=w[0],q=w[1];(0,h.useEffect)(function(){j.show(),x(V);var T=function(){var y=_()(a()().mark(function N(){var K,S,I;return a()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return K=F,m.prev=1,m.next=4,(0,i.jV)({md5:(S=r.id)!==null&&S!==void 0?S:""});case 4:I=m.sent,K.map(function(W){return W.key=="containerName"&&(W.label=I.data.info.Name),(!I.data.info.State.Running||I.data.info.State.Restarting)&&(W.key=="file"||W.key=="stat")&&(W.disabled=!0),W}),q(K),m.next=13;break;case 9:return m.prev=9,m.t0=m.catch(1),L("/app/list"),m.abrupt("return");case 13:return m.prev=13,j.destroy(),m.finish(13);case 16:case"end":return m.stop()}},N,null,[[1,9,13,16]])}));return function(){return y.apply(this,arguments)}}();T()},[$,r]);var ee=function(y){x(y.key)};return(0,u.jsx)(B.Provider,{value:{reload:function(){Q($+1)}},children:(0,u.jsxs)(P._z,{header:{extra:[(0,u.jsx)(E.u,{access:"canSeeContainerListManageCreate",children:(0,u.jsx)(l.Link,{to:"/app/create/image",children:(0,u.jsx)(U.ZP,{type:"primary",children:"\u521B\u5EFA\u5BB9\u5668"})})},"create")]},children:[(0,u.jsx)(M.Z,{mode:"horizontal",onClick:ee,selectedKeys:[H],items:Y}),(0,u.jsx)(l.Outlet,{})]})})}},77812:function(A,d,e){e.r(d),e.d(d,{default:function(){return i}});var f=e(5574),a=e.n(f),p=e(67294),_=e(60335),s=e(82346),o=e(50070),E=e(43831),v=e(85893);function i(){var D=(0,s.useParams)(),P=(0,p.useState)(),l=a()(P,2),O=l[0],U=l[1],M=(0,p.useContext)(o.AppDetailContext);return(0,p.useEffect)(function(){var h;(0,_.jV)({md5:(h=D.id)!==null&&h!==void 0?h:""}).then(function(u){U(u.data.info)}),M.reload()},[]),O&&(0,v.jsx)(E.Z,{containerInfo:O})}},60335:function(A,d,e){e.d(d,{IE:function(){return v},IW:function(){return o},KK:function(){return U},LJ:function(){return h},RF:function(){return g},Re:function(){return B},aF:function(){return R},eE:function(){return l},jV:function(){return D}});var f=e(15009),a=e.n(f),p=e(99289),_=e.n(p),s=e(82346);function o(t){return E.apply(this,arguments)}function E(){return E=_()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("/api/app/container/status",{method:"POST",data:r}));case 1:case"end":return n.stop()}},t)})),E.apply(this,arguments)}function v(t){return i.apply(this,arguments)}function i(){return i=_()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("/api/app/container/get-list",{data:r,method:"POST"}));case 1:case"end":return n.stop()}},t)})),i.apply(this,arguments)}function D(t){return P.apply(this,arguments)}function P(){return P=_()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("/api/app/container/get-detail",{data:r,method:"POST"}));case 1:case"end":return n.stop()}},t)})),P.apply(this,arguments)}function l(t){return O.apply(this,arguments)}function O(){return O=_()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("/api/app/container/update",{data:r,method:"POST"}));case 1:case"end":return n.stop()}},t)})),O.apply(this,arguments)}function U(){return M.apply(this,arguments)}function M(){return M=_()(a()().mark(function t(){return a()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,s.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return c.stop()}},t)})),M.apply(this,arguments)}function h(t){return u.apply(this,arguments)}function u(){return u=_()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("/api/app/container/export",{method:"POST",data:r,responseType:"blob"}));case 1:case"end":return n.stop()}},t)})),u.apply(this,arguments)}function B(t){return b.apply(this,arguments)}function b(){return b=_()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("/api/app/container/commit",{method:"POST",data:r}));case 1:case"end":return n.stop()}},t)})),b.apply(this,arguments)}function g(t){return C.apply(this,arguments)}function C(){return C=_()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("/api/app/container/upgrade",{method:"POST",data:r}));case 1:case"end":return n.stop()}},t)})),C.apply(this,arguments)}function R(t){return j.apply(this,arguments)}function j(){return j=_()(a()().mark(function t(r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("/api/app/container/copy",{method:"POST",data:r}));case 1:case"end":return n.stop()}},t)})),j.apply(this,arguments)}}}]);
