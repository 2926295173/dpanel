"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8714],{68714:function(ce,$,e){e.d($,{Z:function(){return C}});var I=e(5574),f=e.n(I),H=e(15009),_=e.n(H),F=e(99289),p=e.n(F),d=e(67294),B=e(37767),U=e(60335),A=e(82346),M=e(58638),W=e(85265),Z=e(96074),m=e(83062),P=e(86250),K=e(52031),r=e(14189),oe=e(72409),fe=e(21393),ae=e(184),ne=e(25593),re=e(95591),D=e(5251),n=e(85893),o=(0,d.forwardRef)(function(s,l){var E,v=(0,d.useState)(!1),c=f()(v,2),i=c[0],R=c[1];return(0,d.useImperativeHandle)(l,function(){return{}}),(0,n.jsx)(ae.a,{submitter:!1,title:(0,D.fi)(s.containerInfo.Name,"/")+" - \u6587\u4EF6\u7BA1\u7406",onOpenChange:function(x){R(x)},trigger:(0,n.jsx)(ne.Z.Link,{children:(0,n.jsx)(re.Z,{})},"file"),children:i&&(0,n.jsx)(fe.Z,{md5:s.containerInfo.Id,initPath:(E=s.containerInfo.Config.WorkingDir)!==null&&E!==void 0?E:"/"})})}),t=o,V=e(43831),se=e(52209),T=(0,d.forwardRef)(function(s,l){(0,d.useImperativeHandle)(l,function(){return{}});var E=(0,d.useState)(!1),v=f()(E,2),c=v[0],i=v[1];return(0,n.jsx)(ae.a,{submitter:!1,title:(0,D.fi)(s.containerInfo.Name,"/")+" - \u7F51\u7EDC\u7BA1\u7406",onOpenChange:function(a){i(a)},open:c,trigger:(0,n.jsx)(ne.Z.Link,{children:(0,n.jsx)(se.Z,{})},"file"),children:(0,n.jsx)(V.Z,{ghost:!0,containerInfo:s.containerInfo})})}),h=T,N=e(81146),k=e(45742),ue=e(62597),ve=(0,d.forwardRef)(function(s,l){(0,d.useImperativeHandle)(l,function(){return{show:function(y){return p()(_()().mark(function O(){var j;return _()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,U.jV)({md5:y});case 2:j=g.sent,j.data&&S(j.data.info),i(!0);case 5:case"end":return g.stop()}},O)}))()}}});var E=(0,d.useState)(!1),v=f()(E,2),c=v[0],i=v[1],R=(0,d.useState)(),a=f()(R,2),x=a[0],S=a[1],Y=(0,d.useRef)();return(0,n.jsxs)(n.Fragment,{children:[s.showTriggerButton&&(0,n.jsx)(ne.Z.Link,{onClick:p()(_()().mark(function X(){return _()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:S(s.containerInfo),i(!0);case 2:case"end":return O.stop()}},X)})),children:(0,n.jsx)(m.Z,{title:"\u8FD0\u884C\u65E5\u5FD7",children:(0,n.jsx)(k.Z,{})})},"log"),(0,n.jsx)(W.Z,{title:"\u5BB9\u5668\u65E5\u5FD7",open:c,forceRender:!0,onClose:function(){i(!1)},afterOpenChange:function(y){if(y)setTimeout(function(){var j,G;(j=Y.current)===null||j===void 0||j.start(),(G=Y.current)===null||G===void 0||G.fit()},1e3);else{var O;(O=Y.current)===null||O===void 0||O.close()}},width:800,children:x&&c&&(0,n.jsx)(N.Z,{ref:Y,showInDrawer:!0,id:"container:log:".concat(x==null?void 0:x.Id),request:function(){var X=p()(_()().mark(function y(O){var j;return _()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,ue.Tb)({id:(j=x.Id)!==null&&j!==void 0?j:"",lineTotal:O.lineTotal,download:O.download,showTime:O.showTime});case 2:case"end":return g.stop()}},y)}));return function(y){return X.apply(this,arguments)}}(),download:function(){var X=p()(_()().mark(function y(O){var j,G,g,de;return _()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,(0,ue.XH)({id:(j=x.Id)!==null&&j!==void 0?j:"",lineTotal:O.lineTotal,showTime:O.showTime});case 2:return g=te.sent,te.next=5,(0,U.jV)({md5:(G=x.Id)!==null&&G!==void 0?G:""});case 5:return de=te.sent,te.abrupt("return",{data:new Blob([g],{type:"text/plain"}),name:de.data.info.Name.replaceAll("/","")+"_"+new Date().toLocaleDateString()+".log"});case 7:case"end":return te.stop()}},y)}));return function(y){return X.apply(this,arguments)}}()})})]})}),z=ve,he=e(65913),le=e(14245),q=e(1699),ie=e(40666),L=e(64789),w=e(38345),u=e(42075),b=e(66309),ee=e(90127),J=e(29453);function ge(s){var l=(0,d.useState)(0),E=f()(l,2),v=E[0],c=E[1],i=(0,d.useState)(),R=f()(i,2),a=R[0],x=R[1];return(0,d.useEffect)(function(){x([]),(0,J.e1)().then(function(S){x(S.data.list)})},[v,s.data.info.Name]),(0,n.jsx)(w.Z,{ghost:!0,title:(0,n.jsx)(ie.Z,{}),subTitle:"\u5BB9\u5668\u6807\u7B7E",extra:(0,n.jsx)(ee.Z,{trigger:(0,n.jsx)(ne.Z.Link,{children:(0,n.jsx)(L.Z,{})}),containerDetail:s.data,onFinish:function(){c(v+1)}}),children:(0,n.jsx)(u.Z,{wrap:!0,children:a&&(a==null?void 0:a.filter(function(S){return S.item&&S.item.find(function(Y){return Y.name==s.data.info.Name})}).map(function(S,Y){return(0,n.jsx)(b.Z,{color:S.tagColor,closable:!0,style:{height:35,display:"flex",borderRadius:20,justifyContent:"center",alignItems:"center"},onClose:p()(_()().mark(function X(){return _()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,J.rn)({name:s.data.info.Name,tag:S.tag});case 2:c(v+1);case 3:case"end":return O.stop()}},X)})),children:(0,n.jsx)("span",{style:{paddingLeft:10,paddingRight:3},children:S.tag})},Y)}))})})}var Ee=(0,d.forwardRef)(function(s,l){var E;(0,d.useImperativeHandle)(l,function(){return{show:function(G){return p()(_()().mark(function g(){return _()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return y(!0),Q.next=3,O(G);case 3:case"end":return Q.stop()}},g)}))()}}});var v=(0,A.useAccess)(),c=(0,d.useRef)(),i=(0,d.useState)(),R=f()(i,2),a=R[0],x=R[1],S=(0,d.useState)(!1),Y=f()(S,2),X=Y[0],y=Y[1],O=function(){var j=p()(_()().mark(function G(g){var de,Q;return _()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return(de=c.current)===null||de===void 0||de.show(),me.next=3,(0,U.jV)({md5:g}).finally(function(){var _e;(_e=c.current)===null||_e===void 0||_e.destroy()});case 3:Q=me.sent,Q.data&&(Q.data.info.HostConfig.NetworkMode=="host"&&Q.data.info.Config.ExposedPorts&&Object.keys(Q.data.info.Config.ExposedPorts).map(function(_e){Q.data.info.NetworkSettings.Ports[_e]=[{HostIp:"0.0.0.0",HostPort:_e.substring(0,_e.indexOf("/"))}]}),x(Q.data));case 5:case"end":return me.stop()}},G)}));return function(g){return j.apply(this,arguments)}}();return(0,n.jsx)(W.Z,{title:"\u5FEB\u6377\u67E5\u770B\u5BB9\u5668 - ".concat((0,D.fi)((E=a==null?void 0:a.info.Name)!==null&&E!==void 0?E:"","/")),open:X,onClose:function(){y(!1),s.onFinish&&s.onFinish()},width:800,extra:(0,n.jsxs)(q.u,{access:"canSeeContainerList",space:{split:(0,n.jsx)(Z.Z,{type:"vertical"})},children:[(a==null?void 0:a.info)&&a.info.State.Running&&(0,n.jsx)(t,{containerInfo:a.info}),(a==null?void 0:a.info)&&v.canSeeContainerListManageOp&&(0,n.jsx)(h,{containerInfo:a.info}),(a==null?void 0:a.info)&&a.info.State.Running&&(0,n.jsx)(z,{containerInfo:a.info,showTriggerButton:!0}),(0,n.jsx)(q.u,{access:"canSeeContainerListManage",children:(0,n.jsx)(m.Z,{title:"\u67E5\u770B\u5B8C\u6574\u4FE1\u606F",children:(0,n.jsx)(A.Link,{to:"/app/detail/edit/"+(a==null?void 0:a.info.Id),children:(0,n.jsx)(M.Z,{})},"detail")})})]}),children:(0,n.jsx)(he.Z,{ref:c,children:(0,n.jsxs)(P.Z,{vertical:!0,gap:20,children:[a&&(0,n.jsx)(q.u,{access:"canSeeContainerList",children:(0,n.jsx)(r.Z,{ghost:!0,data:a==null?void 0:a.info,onFinish:p()(_()().mark(function j(){return _()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,O(a.info.Id);case 2:return g.t0=g.sent,g.abrupt("return",[g.t0]);case 4:case"end":return g.stop()}},j)}))})}),a&&(0,n.jsx)(q.u,{access:["canSeeContainerListManage","canSeeContainerListManageOp"],children:(0,n.jsx)(oe.Z,{ghost:!0,data:a,checkContainerUpgrade:function(){y(!1),s.onUpgradeFinish&&s.onUpgradeFinish()}})}),a&&(0,n.jsx)(ge,{data:a}),a&&(0,n.jsx)(B.Z,{data:a,ghost:!0}),(0,n.jsx)(K.Z,{data:a==null?void 0:a.info,ghost:!0}),a&&(0,n.jsx)(le.Z,{data:a.info,ghost:!0})]})})})}),C=Ee},90127:function(ce,$,e){var I=e(15009),f=e.n(I),H=e(99289),_=e.n(H),F=e(5574),p=e.n(F),d=e(5251),B=e(184),U=e(62370),A=e(5966),M=e(24739),W=e(64317),Z=e(52688),m=e(97462),P=e(38925),K=e(42075),r=e(67294),oe=e(1699),fe=e(80821),ae=e(2808),ne=e(87662),re=e(52756),D=e(29453),n=e(85893),o=(0,r.forwardRef)(function(t,V){var se;(0,r.useImperativeHandle)(V,function(){return{edit:function(s){ge(!0),Ee(s),T.current&&T.current.setFieldsValue({tag:[s.tag],tagColor:s.tagColor,enableShowGroup:s.enableShowGroup})}}});var T=(0,r.useRef)(),h=(0,r.useState)(0),N=p()(h,2),k=N[0],ue=N[1],ve=(0,r.useState)([]),z=p()(ve,2),he=z[0],le=z[1],q=(0,r.useState)(),ie=p()(q,2),L=ie[0],w=ie[1],u=(se=t.containerDetail)===null||se===void 0?void 0:se.info,b=(0,r.useState)(!1),ee=p()(b,2),J=ee[0],ge=ee[1];function Ee(C){T.current&&T.current.setFieldsValue({title:C.title,description:C.description,url:C.url,icon:C.icon,name:C.name})}return(0,r.useEffect)(function(){w([]),(0,D.e1)().then(function(C){w(C.data.list)})},[k]),(0,r.useEffect)(function(){u&&(0,ne.K3)().then(function(C){var s=[];u.NetworkSettings&&u.NetworkSettings.Ports&&Object.keys(u.NetworkSettings.Ports).map(function(l){u.NetworkSettings.Ports[l]&&u.NetworkSettings.Ports[l].map(function(E){E.HostPort&&s.push("http://".concat(C.data.serverUrl,":").concat(E.HostPort))})}),le(s)})},[t.containerDetail]),(0,n.jsxs)(B.a,{drawerProps:{forceRender:!0},open:J,onFinish:function(){var C=_()(f()().mark(function s(l){var E,v,c,i;return f()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c="",l.tagColor&&l.tagColor.toHexString?l.tagColor.cleared||(c=l.tagColor.toHexString()):c=l.tagColor,i=(E=l.enableShowGroup)!==null&&E!==void 0?E:t.defaultEnableShowGroup,a.next=5,(0,D.A9)({enableShowGroup:i,tag:l.tag?l.tag[0]:"",tagColor:c,name:(v=u==null?void 0:u.Name)!==null&&v!==void 0?v:l.name,title:i?l.title:"",description:i?l.description:"",url:i?l.url:"",icon:i?l.icon:""});case 5:return ue(k+1),t.onFinish&&t.onFinish({tag:l.tag,tagColor:l.tagColor,enableShowGroup:i}),a.abrupt("return",!0);case 8:case"end":return a.stop()}},s)}));return function(s){return C.apply(this,arguments)}}(),formRef:T,title:"\u6DFB\u52A0\u5BB9\u5668\u6807\u7B7E",trigger:t.trigger,onOpenChange:function(s){var l;ge(s),!s&&(!((l=T.current)===null||l===void 0)&&l.resetFields)&&T.current.resetFields()},children:[t.defaultEnableShowGroup&&(0,n.jsx)(U.Z,{children:(0,n.jsx)(P.Z,{message:(0,re.getLang)("system.home.tagAddContainerTips")})}),(0,n.jsx)(A.Z,{name:"name",hidden:!0}),(0,n.jsxs)(M.UW,{children:[(0,n.jsx)(W.Z,{width:"lg",label:"\u6807\u7B7E\u6216\u5206\u7EC4",layout:"vertical",required:!0,rules:[{required:!0}],onChange:function(s){var l=L&&L.find(function(S){return s&&s.length>=1&&S.tag==s[0]});if(l){var E,v,c,i=l.item.find(function(S){return S.name==(u==null?void 0:u.Name)});(E=T.current)===null||E===void 0||E.setFieldsValue({tagColor:l.tagColor,enableShowGroup:l.enableShowGroup}),i&&i.name&&Ee({name:(v=u==null?void 0:u.Name)!==null&&v!==void 0?v:"",title:i?i.title:(0,d.fi)((c=u==null?void 0:u.Name)!==null&&c!==void 0?c:"","/"),description:i&&i.description,url:i&&i.url,icon:i&&i.icon})}if(!s||s.length==0){var R,a=(R=T.current)===null||R===void 0?void 0:R.getFieldValue("url");if(!a||a==""){var x;!((x=T.current)===null||x===void 0)&&x.resetFields&&T.current.resetFields()}}},options:L&&L.map(function(C){return{lable:C.tag,value:C.tag}}),name:"tag",mode:"tags",fieldProps:{maxCount:1},placeholder:"\u8BF7\u9009\u62E9\u6216\u662F\u8F93\u5165\u6807\u7B7E\u6216\u662F\u5206\u7EC4"},"tagSelect".concat(k)),!t.defaultEnableShowGroup&&(0,n.jsx)(ae.Z,{label:"\u6807\u7B7E\u80CC\u666F\u989C\u8272",name:"tagColor"})]}),!t.defaultEnableShowGroup&&(0,n.jsx)(oe.u,{access:"canSeeEnableCe",showProRibbonTips:!0,children:function(s){var l=s.canSeeEnableCe;return(0,n.jsx)(Z.Z,{label:"\u4EE5\u5206\u7EC4\u7684\u5F62\u5F0F\u5C55\u793A\u9996\u9875\u5361\u7247",name:"enableShowGroup",disabled:l,fieldProps:{onChange:function(v){if(v){var c,i;Ee({name:(c=u==null?void 0:u.Name)!==null&&c!==void 0?c:"",title:(0,d.fi)((i=u==null?void 0:u.Name)!==null&&i!==void 0?i:"","/")})}}}})}}),(0,n.jsx)(m.Z,{name:["enableShowGroup"],children:function(s){var l=s.enableShowGroup;return(l||t.defaultEnableShowGroup)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(K.Z.Compact,{children:[t.containerDetail&&(0,n.jsx)(W.Z,{label:"\u9009\u62E9\u7AEF\u53E3",width:"sm",name:"selectUrl",options:he.map(function(E){return{label:E,value:E}}),onChange:function(v){var c;!((c=T.current)===null||c===void 0)&&c.setFieldValue&&T.current.setFieldValue("url",v)}}),(0,n.jsx)(A.Z,{label:"\u8BBF\u95EE\u5730\u5740",name:"url",width:"md"}),(0,n.jsx)(U.Z,{label:" ",children:(0,n.jsx)(fe.Z,{action:function(){var v;return(0,D.R3)({url:(v=T.current)===null||v===void 0?void 0:v.getFieldValue("url")})},onSuccess:function(v){var c,i,R;(c=T.current)===null||c===void 0||c.setFieldValue("icon",v.data.icon),(i=T.current)===null||i===void 0||i.setFieldValue("title",v.data.title),(R=T.current)===null||R===void 0||R.setFieldValue("description",v.data.description)},children:"\u83B7\u53D6\u4FE1\u606F"})})]}),(0,n.jsxs)(M.UW,{children:[(0,n.jsx)(A.Z,{label:"\u6807\u9898",name:"title"}),(0,n.jsx)(A.Z,{label:"\u63CF\u8FF0",name:"description"})]}),(0,n.jsx)(M.UW,{children:(0,n.jsx)(A.Z,{width:"lg",placeholder:"\u4EE5 https \u6216\u662F http \u5F00\u5934\uFF0C\u4F18\u5148\u4F7F\u7528\u4E0A\u4F20\u56FE\u7247",label:"\u56FE\u6807\u8FDC\u7A0B\u5730\u5740",name:"icon"})})]})}})]})});$.Z=o},81146:function(ce,$,e){var I=e(15009),f=e.n(I),H=e(99289),_=e.n(H),F=e(97857),p=e.n(F),d=e(67294),B=e(97269),U=e(62370),A=e(5966),M=e(97462),W=e(82346),Z=e(71230),m=e(15746),P=e(34041),K=e(28036),r=e(84567),oe=e(42075),fe=e(54964),ae=e(80821),ne=e(23430),re=e(93162),D=e.n(re),n=e(12320),o=e.n(n),t=e(78267),V=e.n(t),se=e(75458),T=e.n(se),h=e(85893),N=new n.Terminal(p()(p()({},fe.a),{},{fontSize:12})),k=new t.FitAddon,ue=new se.SearchAddon,ve=(0,d.forwardRef)(function(z,he){(0,d.useImperativeHandle)(he,function(){return{fit:function(){N.clear(),k.fit()},start:function(){return _()(f()().mark(function w(){return f()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,ie({lineTotal:500});case 2:case"end":return b.stop()}},w)}))()},close:function(){q.progress.close(z.id)}}});var le=(0,d.useRef)(),q=(0,W.useModel)("subscriber");q.addDataHandler(z.id,function(L){N.write(L.data.replaceAll(`
`,`

`))});var ie=function(){var L=_()(f()().mark(function w(u){return f()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return N.clear(),u.download=!1,ee.next=4,z.request(u);case 4:case"end":return ee.stop()}},w)}));return function(u){return L.apply(this,arguments)}}();return(0,d.useEffect)(function(){return window.addEventListener("resize",function(){k.fit()}),N.loadAddon(k),N.open(document.getElementById("terminal-container-log")),k.fit(),function(){N.clear(),N.reset(),q.progress.close(z.id)}},[]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(B.A,{submitter:!1,layout:"horizontal",onValuesChange:function(w,u){ie({id:z.id,lineTotal:parseInt(u.lineTotal),showTime:u.showTime})},formRef:le,children:(0,h.jsxs)(Z.Z,{gutter:[10,0],children:[(0,h.jsx)(m.Z,{span:8,children:(0,h.jsx)(U.Z,{name:"lineTotal",initialValue:"500",label:"\u83B7\u53D6\u65E5\u5FD7\u6761\u6570",children:(0,h.jsxs)(P.Z,{defaultValue:"500",children:[(0,h.jsx)(P.Z.Option,{value:"100",children:"100\u6761\u65E5\u5FD7\u6570\u636E"}),(0,h.jsx)(P.Z.Option,{value:"200",children:"200\u6761\u65E5\u5FD7\u6570\u636E"}),(0,h.jsx)(P.Z.Option,{value:"500",children:"500\u6761\u65E5\u5FD7\u6570\u636E"}),(0,h.jsx)(P.Z.Option,{value:"1000",children:"1000\u6761\u65E5\u5FD7\u6570\u636E"}),(0,h.jsx)(P.Z.Option,{value:"-1",children:"\u5168\u90E8\uFF08\u4E0B\u8F7D\u53EF\u89C1\uFF09"})]})})}),(0,h.jsx)(m.Z,{children:(0,h.jsx)(K.ZP,{onClick:function(){N.clear()},children:"\u6E05\u5C4F"})}),(0,h.jsx)(m.Z,{children:(0,h.jsx)(U.Z,{name:"showTime",valuePropName:"checked",children:(0,h.jsx)(r.Z,{children:"\u663E\u793A\u65F6\u95F4"})})}),(0,h.jsx)(m.Z,{children:(0,h.jsx)(A.Z,{label:"\u67E5\u627E",name:"keywork"})}),(0,h.jsx)(m.Z,{children:(0,h.jsx)(M.Z,{name:["keywork"],children:function(w){var u=w.keywork;return(0,h.jsxs)(oe.Z,{size:10,children:[(0,h.jsx)(K.ZP,{onClick:function(){ue.findNext(u)},children:"\u4E0B\u4E00\u4E2A"},"next"),(0,h.jsx)(K.ZP,{onClick:function(){ue.findPrevious(u)},children:"\u4E0A\u4E00\u4E2A"},"prev")]})}})}),(0,h.jsx)(m.Z,{children:(0,h.jsx)(ae.Z,{icon:(0,h.jsx)(ne.Z,{}),action:_()(f()().mark(function L(){var w,u,b;return f()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(!z.download){J.next=5;break}return J.next=3,z.download({lineTotal:parseInt((w=le.current)===null||w===void 0?void 0:w.getFieldValue("lineTotal")),showTime:(u=le.current)===null||u===void 0?void 0:u.getFieldValue("showTime")});case 3:b=J.sent,(0,re.saveAs)(b.data,b.name);case 5:case"end":return J.stop()}},L)})),children:"\u4E0B\u8F7D\u65E5\u5FD7"})})]})}),(0,h.jsx)("div",{style:{marginTop:"20px",height:z.showInDrawer?"75vh":"580px"},id:"terminal-container-log"})]})});$.Z=ve},2808:function(ce,$,e){e.d($,{Z:function(){return d}});var I=e(97857),f=e.n(I),H=e(62370),_=e(51663),F=e(67294),p=e(85893);function d(B){return(0,p.jsx)(H.Z,f()(f()({},B),{},{children:(0,p.jsx)(_.Z,{showText:function(A){return A.toHexString()},allowClear:!0,presets:[{label:"\u9884\u8BBE\u989C\u8272",colors:["#1677ff","#722ed1","#13c2c2","#52c41a","#eb2f96","#f5222d","#fa8c16","#fadb14","#fa541c","#2f54eb","#faad14","#a0d911","#000000","#5cdbd3","#b37feb","#b7eb8f","#61affe","#9254de","#36cfc9","#ff9c6e","#ff6f00","#ffc069","#28a745","#6610f2","#6f42c1","#007bff","#17a2b8","#20c997","#00cccc","#ff6666"]}]})}))}},52756:function(ce,$,e){e.r($),e.d($,{default:function(){return A},getLang:function(){return U}});var I=e(82346),f=e(31418),H=e(26058),_=e(85137),F=e(24963),p=e(65913),d=e(67294),B=e(85893);function U(M,W){return(0,I.getIntl)((0,I.getLocale)()).formatMessage({id:M},W)}function A(){var M=(0,d.useRef)(),W=(0,I.useIntl)(),Z=function(n){for(var o=arguments.length,t=new Array(o>1?o-1:0),V=1;V<o;V++)t[V-1]=arguments[V];P.notification[n]({message:W.formatMessage({id:"notification.title."+n}),description:t.join(" "),placement:"topRight"})},m=function(n){for(var o=arguments.length,t=new Array(o>1?o-1:0),V=1;V<o;V++)t[V-1]=arguments[V];P.message[n](t.join(" "))},P=f.Z.useApp(),K=(0,I.useModel)("@@initialState"),r=K.initialState,oe=K.loading,fe=K.error,ae=K.refresh,ne=K.setInitialState,re=(0,I.useModel)("subscriber");return r!=null&&r.user.username&&re.addDataHandler("user:permission:".concat(r==null?void 0:r.user.username),function(D){ae()}),(0,B.jsx)(H.Z,{children:(0,B.jsx)(F.Z.Provider,{value:{notice:{success:function(){for(var n=arguments.length,o=new Array(n),t=0;t<n;t++)o[t]=arguments[t];Z.apply(void 0,["success"].concat(o))},error:function(){for(var n=arguments.length,o=new Array(n),t=0;t<n;t++)o[t]=arguments[t];Z.apply(void 0,["error"].concat(o))},warning:function(){for(var n=arguments.length,o=new Array(n),t=0;t<n;t++)o[t]=arguments[t];Z.apply(void 0,["warning"].concat(o))},info:function(){for(var n=arguments.length,o=new Array(n),t=0;t<n;t++)o[t]=arguments[t];Z.apply(void 0,["info"].concat(o))},destroy:function(){P.notification.destroy()}},message:{success:function(){for(var n=arguments.length,o=new Array(n),t=0;t<n;t++)o[t]=arguments[t];m.apply(void 0,["success"].concat(o))},error:function(){for(var n=arguments.length,o=new Array(n),t=0;t<n;t++)o[t]=arguments[t];m.apply(void 0,["error"].concat(o))},warning:function(){for(var n=arguments.length,o=new Array(n),t=0;t<n;t++)o[t]=arguments[t];m.apply(void 0,["warning"].concat(o))},info:function(){for(var n=arguments.length,o=new Array(n),t=0;t<n;t++)o[t]=arguments[t];m.apply(void 0,["info"].concat(o))},loading:function(){for(var n=arguments.length,o=new Array(n),t=0;t<n;t++)o[t]=arguments[t];m.apply(void 0,["loading"].concat(o))},destroy:function(){P.message.destroy()}},loading:{show:function(){M.current&&M.current.show()},destroy:function(){M.current&&M.current.destroy()}},lang:function(n,o){return W.formatMessage({id:n},o)}},children:(0,B.jsxs)(p.Z,{ref:M,children:[(0,B.jsx)(I.Outlet,{}),(0,B.jsx)(_.Z.BackTop,{duration:10,style:{bottom:100}})]})},oe?"1":"2")})}},65913:function(ce,$,e){var I=e(5574),f=e.n(I),H=e(74330),_=e(67294),F=e(85893),p=(0,_.forwardRef)(function(d,B){(0,_.useImperativeHandle)(B,function(){return{show:function(){W(!0)},destroy:function(){W(!1)}}});var U=(0,_.useState)(!1),A=f()(U,2),M=A[0],W=A[1];return(0,F.jsx)(H.Z,{spinning:M,size:"default",children:d.children})});$.Z=p},29453:function(ce,$,e){e.d($,{A9:function(){return p},R3:function(){return W},e1:function(){return B},rn:function(){return A}});var I=e(15009),f=e.n(I),H=e(99289),_=e.n(H),F=e(82346);function p(m){return d.apply(this,arguments)}function d(){return d=_()(f()().mark(function m(P){return f()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,F.request)("/api/app/tag/create",{method:"POST",data:P});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},m)})),d.apply(this,arguments)}function B(m){return U.apply(this,arguments)}function U(){return U=_()(f()().mark(function m(P){return f()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,F.request)("/api/app/tag/get-list",{method:"POST",data:P});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},m)})),U.apply(this,arguments)}function A(m){return M.apply(this,arguments)}function M(){return M=_()(f()().mark(function m(P){return f()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,F.request)("/api/app/tag/delete",{method:"POST",data:P});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},m)})),M.apply(this,arguments)}function W(m){return Z.apply(this,arguments)}function Z(){return Z=_()(f()().mark(function m(P){return f()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,F.request)("/api/pro/tag/get-url-detail",{method:"POST",data:P});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},m)})),Z.apply(this,arguments)}}}]);
