"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8022],{85060:function(ae,y,e){e.d(y,{Z:function(){return C}});var S=e(87462),o=e(67294),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"},O=z,H=e(84089),$=function(G,T){return o.createElement(H.Z,(0,S.Z)({},G,{ref:T,icon:O}))},W=o.forwardRef($),C=W},91806:function(ae,y,e){e.d(y,{Z:function(){return C}});var S=e(87462),o=e(67294),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V687h97.9c11.6 32.8 32 62.3 59.1 84.7 34.5 28.5 78.2 44.3 123 44.3s88.5-15.7 123-44.3c27.1-22.4 47.5-51.9 59.1-84.7H792v-63H643.6l-5.2 24.7C626.4 708.5 573.2 752 512 752s-114.4-43.5-126.5-103.3l-5.2-24.7H232V136h560v752zM320 341h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 160h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"container",theme:"outlined"},O=z,H=e(84089),$=function(G,T){return o.createElement(H.Z,(0,S.Z)({},G,{ref:T,icon:O}))},W=o.forwardRef($),C=W},33862:function(ae,y,e){e.d(y,{Z:function(){return C}});var S=e(87462),o=e(67294),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"}}]},name:"environment",theme:"outlined"},O=z,H=e(84089),$=function(G,T){return o.createElement(H.Z,(0,S.Z)({},G,{ref:T,icon:O}))},W=o.forwardRef($),C=W},44349:function(ae,y,e){var S=e(97857),o=e.n(S),z=e(15009),O=e.n(z),H=e(99289),$=e.n(H),W=e(74763),C=e(17186),X=e(5966),G=e(86250),T=e(67294),k=e(85893),re=(0,T.forwardRef)(function(f,se){var K=(0,T.useRef)();(0,T.useImperativeHandle)(se,function(){return{addItem:function(x){function c(M,A,_){return x.apply(this,arguments)}return c.toString=function(){return x.toString()},c}(function(x,c,M){var A,_=(A=K.current)===null||A===void 0?void 0:A.getList(),U;if(_==null||_.forEach(function(N,ee){N[x]==c[x]&&(U=ee)}),!(0,W.k)(U)&&M){var Z;(Z=K.current)===null||Z===void 0||Z.remove(U),U=void 0}if(!U){var V;(V=K.current)===null||V===void 0||V.add(c)}}),removeItemByKey:function(c,M){return $()(O()().mark(function A(){var _,U;return O()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return U=(_=K.current)===null||_===void 0?void 0:_.getList(),U==null||U.forEach(function(N,ee){if(N[c]==M){var ne;(ne=K.current)===null||ne===void 0||ne.remove(ee);return}}),V.abrupt("return");case 3:case"end":return V.stop()}},A)}))()},clear:function(c){if(!c){var M;c=(M=K.current)===null||M===void 0||(M=M.getList())===null||M===void 0?void 0:M.map(function(_,U){return U})}if(c){var A;(A=K.current)===null||A===void 0||A.remove(c)}},getList:function(){var c;return(c=K.current)===null||c===void 0?void 0:c.getList()}}});var q={};return f.hideCopyButton===!0&&(q.copyIconProps=!1),f.hideDeleteButton===!0&&(q.deleteIconProps=!1),(0,k.jsx)(C.u,o()(o()({initialValue:f.initialValue,label:f.label,name:f.name,actionRef:K,creatorButtonProps:f.showAddButton?{creatorButtonText:f.label?f.label:f.showAddButtonLabel?f.showAddButtonLabel:f.name}:!1,min:f.min?f.min:0},q),{},{children:function(c,M,A){return(0,k.jsx)(G.Z,{justify:f.justify,gap:f.gap,children:f.items.map(function(_){return _.render?(0,k.jsx)("div",{children:_.render&&_.render(c,M,A)},"".concat(f.name,"-").concat(_.name,"-").concat(c.key)):(0,k.jsx)(X.Z,{width:_.width,name:_.name,label:_.label,required:_.required,rules:[{required:_.required}],disabled:_.disabled,placeholder:_.placeholder},"".concat(f.name,"-").concat(_.name,"-").concat(c.key))})})}}))});y.Z=re},36435:function(ae,y,e){var S=e(15009),o=e.n(S),z=e(64599),O=e.n(z),H=e(99289),$=e.n(H),W=e(9783),C=e.n(W),X=e(5574),G=e.n(X),T=e(67294),k=e(184),re=e(38345),f=e(97269),se=e(97321),K=e(97462),q=e(64317),x=e(5966),c=e(86615),M=e(68602),A=e(83622),_=e(83403),U=e(24963),Z=e(1699),V=e(29177),N=e(1883),ee=e(43425),ne=e(44349),me=e(3616),_e=e(36146),g=e(85893),p=(0,T.forwardRef)(function(B,Pe){var he=(0,T.useState)(!1),Ee=G()(he,2),le=Ee[0],ie=Ee[1],Y=(0,T.useRef)(),Oe=(0,T.useContext)(U.Z),ve=Oe.message,Q=(0,T.useState)([]),fe=G()(Q,2),ue=fe[0],pe=fe[1],L=new _e.Uo("components.permissionButton"),s=C()(C()(C()(C()(C()({},_.W6.CONTAINER,"Id"),_.W6.APPSTORE,"name"),_.W6.COMPOSE,"name"),_.W6.REGISTRY,"serverAddress"),_.W6.DOCKER_ENV,"name"),De=C()(C()(C()(C()(C()({},_.W6.CONTAINER,"name"),_.W6.APPSTORE,"name"),_.W6.COMPOSE,"name"),_.W6.REGISTRY,"title"),_.W6.DOCKER_ENV,"title"),de=s[B.type],J=De[B.type],oe=B.selected.map(function(d){return d[s[B.type]]});return T.useEffect(function(){if(le){if(!B.selected||B.selected.length==0){ve.error(_e.FD.format("title.noDataSelect")),ie(!1);return}(0,M.dP)({permission:{uri:B.type,key:de,value:oe}}).then(function(d){var m;(m=Y.current)===null||m===void 0||m.setFieldValue("list",Object.keys(d.data.list).map(function(E){return{name:E,type:d.data.list[E].type,users:d.data.list[E].users}}))}),(0,M.lE)().then(function(d){var m,E=(m=d.data)===null||m===void 0||(m=m.list)===null||m===void 0?void 0:m.map(function(v){return{label:v.username,value:v.username}});pe(E)})}},[le]),(0,g.jsx)(Z.u,{access:["canSeeEnableEe","canSeeFounder","canSeeManage"],children:(0,g.jsxs)(k.a,{name:"create",title:L.format("drawerTitle"),open:le,onOpenChange:function(m){if(!m){var E;(E=Y.current)===null||E===void 0||E.resetFields()}ie(m)},drawerProps:{forceRender:!0,width:me.R_},formRef:Y,trigger:(0,g.jsx)(A.ZP,{icon:(0,g.jsx)(V.Z,{}),children:L.format("drawerTriggerButton")}),onFinish:function(){var d=$()(o()().mark(function m(E){var v,j,P;return o()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:v=O()(E.list),R.prev=1,v.s();case 3:if((j=v.n()).done){R.next=9;break}return P=j.value,R.next=7,(0,M.Db)({usernames:P.users,permissionType:P.type,permission:{uri:B.type,key:de,showKey:J,value:[P.name]}});case 7:R.next=3;break;case 9:R.next=14;break;case 11:R.prev=11,R.t0=R.catch(1),v.e(R.t0);case 14:return R.prev=14,v.f(),R.finish(14);case 17:ve.success(_e.FD.format("finish")),ie(!1),B.onSuccess();case 20:case"end":return R.stop()}},m,null,[[1,11,14,17]])}));return function(m){return d.apply(this,arguments)}}(),children:[(0,g.jsxs)(re.Z,{ghost:!0,title:(0,g.jsx)(N.Z,{}),subTitle:L.format("batchTitle"),children:[(0,g.jsx)(f.A.Item,{name:"type",style:{marginBottom:0},children:(0,g.jsx)(se.Z.Group,{defaultValue:"admin",onChange:function(m){var E,v,j=(E=Y.current)===null||E===void 0?void 0:E.getFieldValue("list");j.forEach(function(P){P.type=m,P.users=[]}),(v=Y.current)===null||v===void 0||v.setFieldValue("list",j)},children:["admin","restricted","public"].map(function(d){return(0,g.jsx)(se.Z,{style:{width:240},title:L.format("dataTypeOption.".concat(d)),description:L.format("dataTypeDescOption.".concat(d)),value:d},d)})})}),(0,g.jsx)(K.Z,{name:["type"],children:function(m){var E=m.type;if(E==="restricted")return(0,g.jsx)(q.Z,{mode:"multiple",name:"usernames",label:L.format("formUsernames"),onChange:function(j){var P,w,R=(P=Y.current)===null||P===void 0?void 0:P.getFieldValue("list");R.forEach(function(F){F.users=j}),(w=Y.current)===null||w===void 0||w.setFieldValue("list",R)},rules:[{required:!0}],request:$()(o()().mark(function v(){var j,P,w;return o()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(!(ue.length>0)){F.next=2;break}return F.abrupt("return",ue);case 2:return F.next=4,(0,M.lE)();case 4:return P=F.sent,w=(j=P.data)===null||j===void 0||(j=j.list)===null||j===void 0?void 0:j.map(function(ce){return{label:ce.username,value:ce.username}}),pe(w),F.abrupt("return",w);case 8:case"end":return F.stop()}},v)}))})}})]}),(0,g.jsx)(re.Z,{ghost:!0,title:(0,g.jsx)(ee.Z,{}),subTitle:L.format("dataTitle"),children:(0,g.jsx)(ne.Z,{name:"list",hideCopyButton:!0,gap:10,items:[{name:"name",label:L.format("dataName"),render:function(m,E,v){var j=v.getCurrentRowData();return(0,g.jsx)(x.Z,{disabled:!0,label:L.format("dataName"),width:"sm",name:"name"})}},{name:"type",label:L.format("dataType"),render:function(m,E,v){var j=v.getCurrentRowData();return(0,g.jsx)(c.Z.Group,{label:L.format("dataType"),name:"type",radioType:"button",options:["admin","public","restricted"].map(function(P){return{label:L.format("dataTypeOption.".concat(P)),value:P}})})}},{name:"users",label:L.format("dataUsers"),render:function(m,E,v){return(0,g.jsx)(K.Z,{name:["type"],children:function(P){var w=P.type;if(w=="restricted")return(0,g.jsx)(q.Z,{width:"sm",mode:"tags",name:"users",label:L.format("dataUsers"),options:ue})}})}}]})})]})})});y.Z=p},96781:function(ae,y,e){var S=e(67294),o=(0,S.createContext)({});y.Z=o},92922:function(ae,y,e){e.r(y),e.d(y,{default:function(){return De}});var S=e(15009),o=e.n(S),z=e(99289),O=e.n(z),H=e(5574),$=e.n(H),W=e(90098),C=e(33160),X=e(87784),G=e(30159),T=e(74842),k=e(99611),re=e(1883),f=e(95591),se=e(23430),K=e(43425),q=e(74453),x=e(82346),c=e(83062),M=e(25593),A=e(66309),_=e(42075),U=e(96074),Z=e(67294),V=e(94359),N=e(67255),ee=e(96781),ne=e(91218),me=e(1699),_e=e(83403),g=e(36435),p=e(36146),B=e(55375),Pe=e(96486),he=e.n(Pe),Ee=e(37413),le=e(87662),ie=e(5251),Y=e(93162),Oe=e.n(Y),ve=e(82848),Q=e(59683),fe=e(80821),ue=e(83002),pe=e(24905),L=e(2831),s=e(85893);function De(){var de=(0,Z.useContext)(ee.Z),J=de.listTableRef,oe=de.reload,d=(0,Z.useRef)(),m=(0,x.useAccess)(),E=(0,x.useLocation)(),v=new p.Uo("compose"),j=(0,Z.useState)(""),P=$()(j,2),w=P[0],R=P[1],F=(0,Z.useRef)(),ce=(0,Z.useRef)();return(0,Z.useEffect)(function(){(0,le.K3)().then(function(D){var l;R((l=D.data.serverUrl)!==null&&l!==void 0?l:"")})},[]),(0,Z.useEffect)(function(){var D;E.state&&!((D=J.current)===null||D===void 0)&&D.setPageInfo&&J.current.setPageInfo({current:(0,N.G$)(B.q9,J.current.pageInfo)})},[E.state,J.current]),(0,s.jsxs)(q._z,{header:{extra:[(0,s.jsx)(me.u,{access:"canSeeComposeListManageCreate",children:(0,s.jsx)(ve.Z,{onFinish:function(l){var n,u;!((n=d.current)===null||n===void 0)&&n.show&&((u=d.current)===null||u===void 0||u.show(l)),oe()}})},"create")]},children:[(0,s.jsx)(ue.Z,{ref:F},"composeLog"),(0,s.jsx)(ne.Z,{ref:d,onClose:function(){oe()}}),(0,s.jsx)(pe.Z,{ref:ce}),(0,s.jsx)(Q.C,{tableKey:B.q9,contextMenu:function(l){var n=l.selectedRows,u=l.finish,h=l.loading;return{items:[{type:"group",label:p.FD.format("listManageManage"),key:"manage",children:[{access:"canSeeComposeList",label:(0,s.jsx)(Q.C.ContextMenuItem,{buttonProps:{icon:(0,s.jsx)(C.Z,{})},action:O()(o()().mark(function i(){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h(),t.abrupt("return",Promise.all(n.map(function(a){return(0,W.GG)({id:a.id||a.name,op:"restart"})})).finally(function(){u(!0)}));case 2:case"end":return t.stop()}},i)})),children:p.FD.format("listManageRestart")}),key:"restart"},{label:(0,s.jsx)(Q.C.ContextMenuItem,{action:O()(o()().mark(function i(){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h(),t.abrupt("return",Promise.all(n.map(function(a){return(0,W.GG)({id:a.id||a.name,op:"stop"})})).finally(function(){u(!0)}));case 2:case"end":return t.stop()}},i)})),buttonProps:{icon:(0,s.jsx)(X.Z,{})},children:p.FD.format("listManageStop")}),key:"stop"},{label:(0,s.jsx)(Q.C.ContextMenuItem,{action:O()(o()().mark(function i(){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h(),t.abrupt("return",Promise.all(n.map(function(a){return(0,W.GG)({id:a.id||a.name,op:"pause"})})).finally(function(){u(!0)}));case 2:case"end":return t.stop()}},i)})),buttonProps:{icon:(0,s.jsx)(G.Z,{})},children:p.FD.format("listManagePause")}),key:"pause"},{label:(0,s.jsx)(Q.C.ContextMenuItem,{action:O()(o()().mark(function i(){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h(),t.abrupt("return",Promise.all(n.map(function(a){return(0,W.GG)({id:a.id||a.name,op:"unpause"})})).finally(function(){u(!0)}));case 2:case"end":return t.stop()}},i)})),buttonProps:{icon:(0,s.jsx)(T.Z,{})},children:p.FD.format("listManageUnpause")}),key:"unpause"}]},{type:"group",label:p.FD.format("listManage"),key:"operator",children:[{label:(0,s.jsx)(Q.C.ContextMenuItem,{buttonProps:{icon:(0,s.jsx)(k.Z,{}),disabled:n.length>1},action:O()(o()().mark(function i(){var r,t;return o()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:u(!0),n!=null&&n[0]&&((r=d.current)===null||r===void 0||r.show((t=n[0].id)!==null&&t!==void 0?t:n[0].name));case 2:case"end":return I.stop()}},i)})),children:p.FD.format("listManageView")}),key:"view"},{label:(0,s.jsx)(Q.C.ContextMenuItem,{buttonProps:{icon:(0,s.jsx)(re.Z,{}),disabled:n.length>1},action:O()(o()().mark(function i(){var r,t;return o()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(t=n==null?void 0:n[0],t){I.next=3;break}return I.abrupt("return");case 3:(r=F.current)===null||r===void 0||r.show(t),u(!0);case 5:case"end":return I.stop()}},i)})),children:p.FD.format("listManageLog")}),key:"log"},{label:(0,s.jsx)(Q.C.ContextMenuItem,{buttonProps:{icon:(0,s.jsx)(f.Z,{}),disabled:n.length>1},action:O()(o()().mark(function i(){var r,t,a,I,b;return o()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(t=n==null?void 0:n[0],t){te.next=3;break}return te.abrupt("return");case 3:return te.next=5,(0,L.aF)();case 5:a=te.sent,a.data&&(r=a.data.dpanel.containerInfo)!==null&&r!==void 0&&r.Name&&((I=ce.current)===null||I===void 0||I.showContainer((b=a.data.dpanel.containerInfo)===null||b===void 0?void 0:b.Name,"/dpanel/compose/".concat(t.name))),u(!0);case 8:case"end":return te.stop()}},i)})),children:p.FD.format("listManageFilePath")}),key:"file"},{key:"download",label:(0,s.jsx)(Q.C.ContextMenuItem,{buttonProps:{icon:(0,s.jsx)(se.Z,{}),disabled:n.length>1},action:O()(o()().mark(function i(){var r,t,a;return o()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(h(),r=n==null?void 0:n[0],r){b.next=4;break}return b.abrupt("return");case 4:return b.next=6,(0,W.tw)({id:r.id||r.name}).finally(function(){u(!0)});case 6:t=b.sent,a=new Blob([t],{type:"application/zip"}),(0,Y.saveAs)(a,"compose-"+r.name+".zip");case 9:case"end":return b.stop()}},i)})),children:p.FD.format("listManageDownload")})}]}]}},request:function(){var D=O()(o()().mark(function l(n){var u;return o()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,W.pm)({title:n.title,name:n.name});case 2:return u=i.sent,i.abrupt("return",{data:u.data.list.map(function(r){var t=u.data.containerList.filter(function(a){return a.project==r.name});return t&&(r.containerList=t),r}),success:!0,total:u.data.list.length});case 4:case"end":return i.stop()}},l)}));return function(l){return D.apply(this,arguments)}}(),rowKey:function(l){return l.id>0?l.id:l.name},columns:[{key:"name",title:p.FD.format("listTitle"),dataIndex:"name",width:300,render:function(l,n,u,h,i){return(0,s.jsx)(c.Z,{title:"".concat(n.title),placement:"right",children:(0,s.jsx)(M.Z.Link,{onClick:function(){var t;(t=d.current)===null||t===void 0||t.show(n.id||n.name)},children:n.name})})},sorter:function(l,n){return l.name.localeCompare(n.name)},defaultSortOrder:(0,N.rj)(B.q9,"name"),sortDirections:N.h5},{key:"ports",title:p.FD.format("listAccess"),tooltip:p.FD.format("listAccessTip"),width:150,dataIndex:"ports",search:!1,render:function(l,n,u,h){if((0,Pe.isEmpty)(n.containerList))return null;var i=[],r=[];return n.containerList&&n.containerList.forEach(function(t){t.publishers.forEach(function(a){a.publishedPort?i.push({PrivatePort:a.targetPort,Type:a.protocol,IP:a.url,PublicPort:a.publishedPort}):a.publishedPort&&r.push({PrivatePort:a.targetPort,Type:a.protocol,IP:a.url,PublicPort:a.publishedPort})})}),(0,s.jsx)(Ee.Z,{publicPort:i,privatePort:r,domain:[],serverIp:w})}},{title:p.FD.format("listType"),width:150,search:!1,render:function(l,n,u,h,i){var r,t=n.setting&&n.setting.type?n.setting.type:"default";return(0,s.jsx)(c.Z,{placement:"right",title:((r=n.setting.uri)!==null&&r!==void 0?r:[]).join(", "),children:(0,s.jsx)(A.Z,{color:v.format("listTypeColorOption.".concat(t)),children:v.format("listTypeOption.".concat(t))})})}},{title:p.FD.format("listStatus"),dataIndex:"status",search:!1,key:"status",render:function(l,n,u,h,i){return(0,s.jsx)(_.Z,{children:n.setting.status.split(", ").map(function(r,t){var a,I="running",b=r.indexOf("(");return b>-1?I=r.slice(0,b):I=r,(0,s.jsx)(V.Z,{status:"compose.".concat(I),statusValue:{count:r.slice(b+1,r.length-1)},tip:"".concat(r," ").concat((a=n.setting.message)!==null&&a!==void 0?a:"")},t)})})},sorter:function(l,n){return l.setting.status.localeCompare(n.setting.status)},defaultSortOrder:(0,N.rj)(B.q9,"status")},{title:p.FD.format("listUpdatedAt"),dataIndex:"",search:!1,width:180,render:function(l,n,u,h,i){return(0,ie.NF)(n.setting.updatedAt)},sorter:function(l,n){var u,h;return new Date((u=l.setting.updatedAt)!==null&&u!==void 0?u:"").toLocaleString().localeCompare(new Date((h=n.setting.updatedAt)!==null&&h!==void 0?h:"").toLocaleString())},key:"updated",defaultSortOrder:(0,N.rj)(B.q9,"updated")},{title:p.FD.format("listManage"),width:60,valueType:"option",fixed:"right",key:"option",hidden:!m.canSeeComposeListManage,render:function(l,n,u,h,i){return n.setting.type!="dangling"&&(0,s.jsx)(_.Z,{split:(0,s.jsx)(U.Z,{type:"vertical"}),children:(0,s.jsx)(M.Z.Link,{onClick:function(){var t;(t=d.current)===null||t===void 0||t.show(n.id||n.name)},children:(0,s.jsx)(c.Z,{title:p.FD.format("listManageDetail"),children:(0,s.jsx)(K.Z,{})})},"3")})}}],rowSelection:m.canSeeComposeListManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0,getCheckboxProps:function(l){return{disabled:l.setting.type=="dangling"||l.setting.type=="outPath"}}}:void 0,actionRef:J,quickToolbarRender:function(l){var n=l.selectedRows;return(0,s.jsxs)(_.Z,{size:16,children:[(0,s.jsx)(g.Z,{type:_e.W6.COMPOSE,selected:n,onSuccess:function(){return oe(),!0}}),(0,s.jsx)(me.u,{access:"canSeeComposeListManageDelete",children:(0,s.jsx)(fe.Z,{buttonProps:{danger:!0,type:"primary"},confirmProps:{showCommonConfirm:!0},action:function(){return Promise.all(n.map(function(){var h=O()(o()().mark(function i(r){return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,W.j6)({id:r.id||r.name,deleteData:!0,deletePath:!0});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i)}));return function(i){return h.apply(this,arguments)}}()))},onSuccess:function(){var h;return!((h=J.current)===null||h===void 0)&&h.reloadAndRest&&J.current.reloadAndRest(),!0},onError:function(){return oe(),!0},children:p.FD.format("listManageDeleteBatch")})})]})}},"table")]})}}}]);
