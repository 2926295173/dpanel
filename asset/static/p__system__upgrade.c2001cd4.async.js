"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[992],{45605:function(ve,W,e){e.d(W,{Z:function(){return z}});var n=e(87462),x=e(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},Z=D,U=e(84089),V=function(Q,w){return x.createElement(U.Z,(0,n.Z)({},Q,{ref:w,icon:Z}))},_=x.forwardRef(V),z=_},12795:function(ve,W,e){e.d(W,{G:function(){return ee}});var n=e(1413),x=e(4942),D=e(45605),Z=e(28459),U=e(83062),V=e(93967),_=e.n(V),z=e(67294),N=e(98082),Q=function(F){return(0,x.Z)({},F.componentCls,{display:"inline-flex",alignItems:"center",maxWidth:"100%","&-icon":{display:"block",marginInlineStart:"4px",cursor:"pointer","&:hover":{color:F.colorPrimary}},"&-title":{display:"inline-flex",flex:"1"},"&-subtitle ":{marginInlineStart:8,color:F.colorTextSecondary,fontWeight:"normal",fontSize:F.fontSize,whiteSpace:"nowrap"},"&-title-ellipsis":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",wordBreak:"keep-all"}})};function w(i){return(0,N.Xj)("LabelIconTip",function(F){var c=(0,n.Z)((0,n.Z)({},F),{},{componentCls:".".concat(i)});return[Q(c)]})}var g=e(85893),ee=z.memo(function(i){var F=i.label,c=i.tooltip,ne=i.ellipsis,oe=i.subTitle,se=(0,z.useContext)(Z.ZP.ConfigContext),J=se.getPrefixCls,X=J("pro-core-label-tip"),ae=w(X),le=ae.wrapSSR,L=ae.hashId;if(!c&&!oe)return(0,g.jsx)(g.Fragment,{children:F});var te=typeof c=="string"||z.isValidElement(c)?{title:c}:c,me=(te==null?void 0:te.icon)||(0,g.jsx)(D.Z,{});return le((0,g.jsxs)("div",{className:_()(X,L),onMouseDown:function(K){return K.stopPropagation()},onMouseLeave:function(K){return K.stopPropagation()},onMouseMove:function(K){return K.stopPropagation()},children:[(0,g.jsx)("div",{className:_()("".concat(X,"-title"),L,(0,x.Z)({},"".concat(X,"-title-ellipsis"),ne)),children:F}),oe&&(0,g.jsx)("div",{className:"".concat(X,"-subtitle ").concat(L).trim(),children:oe}),c&&(0,g.jsx)(U.Z,(0,n.Z)((0,n.Z)({},te),{},{children:(0,g.jsx)("span",{className:"".concat(X,"-icon ").concat(L).trim(),children:me})}))]}))})},12044:function(ve,W,e){e.d(W,{j:function(){return D}});var n=e(34155),x=typeof n!="undefined"&&n.versions!=null&&n.versions.node!=null,D=function(){return typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.matchMedia!="undefined"&&!x}},60933:function(ve,W,e){e.r(W),e.d(W,{default:function(){return ne}});var n=e(15009),x=e.n(n),D=e(99289),Z=e.n(D),U=e(5574),V=e.n(U),_=e(2831),z=e(90078),N=e(38345),Q=e(9361),w=e(40056),g=e(60922),ee=e(42119),i=e(42075),F=e(67294),c=e(85893);function ne(){var oe=(0,F.useState)([]),se=V()(oe,2),J=se[0],X=se[1],ae=(0,F.useState)(0),le=V()(ae,2),L=le[0],te=le[1],me=Q.Z.useToken(),H=me.token;(0,F.useEffect)(function(){K({})},[]);var K=function(){var he=Z()(x()().mark(function ie(fe){var I,a,v,p,u;return x()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,_.d6)();case 2:I=A.sent,a="",I.data.info.Mounts.map(function(S){S.Type=="volume"&&(a=S.Name)}),v=Object.keys(I.data.info.HostConfig.PortBindings).map(function(S){return I.data.info.HostConfig.PortBindings[S].map(function(t){return"-p ".concat(t.HostPort,":").concat(String(parseInt(S)))})}),p=!1,u=I.data.info.HostConfig.Binds.map(function(S){return S.indexOf(":/dpanel")>-1&&(p=!0),"-v ".concat(S)}),p||(a="",I.data.info.Mounts.map(function(S){S.Type=="volume"&&(a=S.Name)}),u.push("-v "+a+":/dpanel")),X(["docker stop ".concat(I.data.info.Name," && docker rm ").concat(I.data.info.Name),"docker rmi ".concat(I.data.info.Config.Image),"docker pull ".concat(I.data.info.Config.Image),"docker run -it -d --name ".concat(I.data.info.Name," --restart=always ").concat(v.join(" ")," ").concat(u.join(" ")," ").concat(I.data.info.Config.Image)+(I.data.info.NetworkSettings.Networks["dpanel-local"]?" && docker network connect dpanel-local ".concat(I.data.info.Name):"")]);case 10:case"end":return A.stop()}},ie)}));return function(fe){return he.apply(this,arguments)}}();return(0,c.jsx)(z._z,{children:(0,c.jsxs)(N.Z,{direction:"column",children:[(0,c.jsx)(w.Z,{message:"\u8BF7\u52A1\u5FC5\u4ED4\u7EC6\u9605\u8BFB",showIcon:!0,description:(0,c.jsxs)("ol",{style:{marginLeft:"-20px"},children:[(0,c.jsx)("li",{children:"\u66F4\u65B0\u9762\u677F\u65F6\uFF0C\u9700\u8981\u5728\u5BBF\u4E3B\u673A\u4E0A\u6267\u884C\u66F4\u65B0\u547D\u4EE4\u3002"}),(0,c.jsx)("li",{children:"\u66F4\u65B0\u8FC7\u7A0B\u4E2D\u4F1A\u5220\u9664\u3001\u91CD\u5EFA\u9762\u677F\u5BB9\u5668\u3002\u5BFC\u81F4\u7AD9\u70B9\u65E0\u6CD5\u8BBF\u95EE\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\u3002\uFF08Lite \u7248\u65E0\u5F71\u54CD\uFF09"}),(0,c.jsx)("li",{children:(0,c.jsx)(g.Z.Text,{type:"danger",children:"\u8BF7\u7ED1\u5B9A\u6216\u662F\u6302\u8F7D\u5BB9\u5668\u4E2D\u7684 /dpanel \u76EE\u5F55\u4E3A\u4E4B\u524D\u5B58\u50A8\u5377\u6216\u662F\u76EE\u5F55\uFF0C\u5426\u5219\u6570\u636E\u5C06\u4F1A\u4E22\u5931"})}),(0,c.jsx)("li",{children:"\u5982\u679C\u4F60\u4F7F\u7528\u7684\u955C\u50CF\u5305\u542B\u7248\u672C\u53F7\uFF0C\u4F8B\u5982\uFF1Adpanel/dpanel:1.1.0 \u8BF7\u624B\u52A8\u66F4\u6539\u955C\u50CF\u7248\u672C\u53F7"}),(0,c.jsx)("li",{children:"\u66F4\u65B0\u8FC7\u7A0B\u4E2D\u8BF7\u52FF\u5173\u95ED\u5F53\u524D\u9875\u9762\uFF0C\u76F4\u5230\u66F4\u65B0\u5B8C\u6210\u3002"})]}),type:"warning",style:{marginBottom:"20px"}}),(0,c.jsxs)(N.Z,{split:"vertical",children:[(0,c.jsx)(N.Z,{colSpan:"20%",children:(0,c.jsx)(ee.Z,{onChange:function(ie){te(ie)},current:L,direction:"vertical",items:[{title:"\u505C\u6B62\u5BB9\u5668",description:"\u505C\u6B62\u5E76\u5220\u9664 dpanel \u5BB9\u5668"},{title:"\u66F4\u65B0\u955C\u50CF",description:"\u66F4\u65B0\u955C\u50CF\u6216\u662F\u5220\u9664\u955C\u50CF"},{title:"\u91CD\u5EFA\u5BB9\u5668",description:"\u6302\u8F7D\u5B58\u50A8\u91CD\u5EFA\u5BB9\u5668"}]})}),(0,c.jsx)(N.Z,{children:(0,c.jsxs)(g.Z.Paragraph,{style:{marginTop:20,padding:20,height:"200px",backgroundColor:H.colorFillAlter,borderRadius:H.borderRadiusLG,border:"1px dashed ".concat(H.colorBorder)},children:[L==0&&(0,c.jsx)(g.Z.Text,{copyable:!0,style:{fontSize:20,color:H.colorTextSecondary},children:J[0]}),L==1&&(0,c.jsxs)(i.Z,{direction:"vertical",split:"\u6216",children:[(0,c.jsx)(g.Z.Text,{copyable:!0,style:{fontSize:20,color:H.colorTextSecondary},children:J[1]}),(0,c.jsx)(g.Z.Text,{copyable:!0,style:{fontSize:20,color:H.colorTextSecondary},children:J[2]})]}),L==2&&(0,c.jsx)(g.Z.Text,{copyable:!0,style:{fontSize:20,color:H.colorTextSecondary},children:J[3]})]})})]})]})})}},2831:function(ve,W,e){e.d(W,{Ll:function(){return z},aF:function(){return V},d6:function(){return Q}});var n=e(15009),x=e.n(n),D=e(99289),Z=e.n(D),U=e(54006);function V(){return _.apply(this,arguments)}function _(){return _=Z()(x()().mark(function g(){return x()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,U.request)("/api/common/home/info",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},g)})),_.apply(this,arguments)}function z(){return N.apply(this,arguments)}function N(){return N=Z()(x()().mark(function g(){return x()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,U.request)("/api/common/home/usage",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},g)})),N.apply(this,arguments)}function Q(){return w.apply(this,arguments)}function w(){return w=Z()(x()().mark(function g(){return x()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,U.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},g)})),w.apply(this,arguments)}},40056:function(ve,W,e){e.d(W,{Z:function(){return S}});var n=e(67294),x=e(89739),D=e(4340),Z=e(97937),U=e(21640),V=e(78860),_=e(93967),z=e.n(_),N=e(29372),Q=e(64217),w=e(42550),g=e(96159),ee=e(53124),i=e(11568),F=e(14747),c=e(83559);const ne=(t,o,r,s,d)=>({background:t,border:`${(0,i.bf)(s.lineWidth)} ${s.lineType} ${o}`,[`${d}-icon`]:{color:r}}),oe=t=>{const{componentCls:o,motionDurationSlow:r,marginXS:s,marginSM:d,fontSize:h,fontSizeLG:y,lineHeight:P,borderRadiusLG:R,motionEaseInOutCirc:T,withDescriptionIconSize:m,colorText:B,colorTextHeading:M,withDescriptionPadding:G,defaultPadding:E}=t;return{[o]:Object.assign(Object.assign({},(0,F.Wf)(t)),{position:"relative",display:"flex",alignItems:"center",padding:E,wordWrap:"break-word",borderRadius:R,[`&${o}-rtl`]:{direction:"rtl"},[`${o}-content`]:{flex:1,minWidth:0},[`${o}-icon`]:{marginInlineEnd:s,lineHeight:0},"&-description":{display:"none",fontSize:h,lineHeight:P},"&-message":{color:M},[`&${o}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${r} ${T}, opacity ${r} ${T},
        padding-top ${r} ${T}, padding-bottom ${r} ${T},
        margin-bottom ${r} ${T}`},[`&${o}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${o}-with-description`]:{alignItems:"flex-start",padding:G,[`${o}-icon`]:{marginInlineEnd:d,fontSize:m,lineHeight:0},[`${o}-message`]:{display:"block",marginBottom:s,color:M,fontSize:y},[`${o}-description`]:{display:"block",color:B}},[`${o}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},se=t=>{const{componentCls:o,colorSuccess:r,colorSuccessBorder:s,colorSuccessBg:d,colorWarning:h,colorWarningBorder:y,colorWarningBg:P,colorError:R,colorErrorBorder:T,colorErrorBg:m,colorInfo:B,colorInfoBorder:M,colorInfoBg:G}=t;return{[o]:{"&-success":ne(d,s,r,t,o),"&-info":ne(G,M,B,t,o),"&-warning":ne(P,y,h,t,o),"&-error":Object.assign(Object.assign({},ne(m,T,R,t,o)),{[`${o}-description > pre`]:{margin:0,padding:0}})}}},J=t=>{const{componentCls:o,iconCls:r,motionDurationMid:s,marginXS:d,fontSizeIcon:h,colorIcon:y,colorIconHover:P}=t;return{[o]:{"&-action":{marginInlineStart:d},[`${o}-close-icon`]:{marginInlineStart:d,padding:0,overflow:"hidden",fontSize:h,lineHeight:(0,i.bf)(h),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${r}-close`]:{color:y,transition:`color ${s}`,"&:hover":{color:P}}},"&-close-text":{color:y,transition:`color ${s}`,"&:hover":{color:P}}}}},X=t=>({withDescriptionIconSize:t.fontSizeHeading3,defaultPadding:`${t.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${t.paddingMD}px ${t.paddingContentHorizontalLG}px`});var ae=(0,c.I$)("Alert",t=>[oe(t),se(t),J(t)],X),le=function(t,o){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&o.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,s=Object.getOwnPropertySymbols(t);d<s.length;d++)o.indexOf(s[d])<0&&Object.prototype.propertyIsEnumerable.call(t,s[d])&&(r[s[d]]=t[s[d]]);return r};const L={success:x.Z,info:V.Z,error:D.Z,warning:U.Z},te=t=>{const{icon:o,prefixCls:r,type:s}=t,d=L[s]||null;return o?(0,g.wm)(o,n.createElement("span",{className:`${r}-icon`},o),()=>({className:z()(`${r}-icon`,{[o.props.className]:o.props.className})})):n.createElement(d,{className:`${r}-icon`})},me=t=>{const{isClosable:o,prefixCls:r,closeIcon:s,handleClose:d,ariaProps:h}=t,y=s===!0||s===void 0?n.createElement(Z.Z,null):s;return o?n.createElement("button",Object.assign({type:"button",onClick:d,className:`${r}-close-icon`,tabIndex:0},h),y):null};var K=n.forwardRef((t,o)=>{const{description:r,prefixCls:s,message:d,banner:h,className:y,rootClassName:P,style:R,onMouseEnter:T,onMouseLeave:m,onClick:B,afterClose:M,showIcon:G,closable:E,closeText:re,closeIcon:Y,action:pe,id:ce}=t,k=le(t,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[ue,q]=n.useState(!1),$=n.useRef(null);n.useImperativeHandle(o,()=>({nativeElement:$.current}));const{getPrefixCls:Ce,direction:ge,alert:l}=n.useContext(ee.E_),C=Ce("alert",s),[ye,je,Oe]=ae(C),be=f=>{var j;q(!0),(j=t.onClose)===null||j===void 0||j.call(t,f)},Ee=n.useMemo(()=>t.type!==void 0?t.type:h?"warning":"info",[t.type,h]),Se=n.useMemo(()=>typeof E=="object"&&E.closeIcon||re?!0:typeof E=="boolean"?E:Y!==!1&&Y!==null&&Y!==void 0?!0:!!(l!=null&&l.closable),[re,Y,E,l==null?void 0:l.closable]),xe=h&&G===void 0?!0:G,Ie=z()(C,`${C}-${Ee}`,{[`${C}-with-description`]:!!r,[`${C}-no-icon`]:!xe,[`${C}-banner`]:!!h,[`${C}-rtl`]:ge==="rtl"},l==null?void 0:l.className,y,P,Oe,je),Pe=(0,Q.Z)(k,{aria:!0,data:!0}),de=n.useMemo(()=>{var f,j;return typeof E=="object"&&E.closeIcon?E.closeIcon:re||(Y!==void 0?Y:typeof(l==null?void 0:l.closable)=="object"&&(!((f=l==null?void 0:l.closable)===null||f===void 0)&&f.closeIcon)?(j=l==null?void 0:l.closable)===null||j===void 0?void 0:j.closeIcon:l==null?void 0:l.closeIcon)},[Y,E,re,l==null?void 0:l.closeIcon]),b=n.useMemo(()=>{const f=E!=null?E:l==null?void 0:l.closable;if(typeof f=="object"){const{closeIcon:j}=f;return le(f,["closeIcon"])}return{}},[E,l==null?void 0:l.closable]);return ye(n.createElement(N.ZP,{visible:!ue,motionName:`${C}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:f=>({maxHeight:f.offsetHeight}),onLeaveEnd:M},(f,j)=>{let{className:Be,style:Me}=f;return n.createElement("div",Object.assign({id:ce,ref:(0,w.sQ)($,j),"data-show":!ue,className:z()(Ie,Be),style:Object.assign(Object.assign(Object.assign({},l==null?void 0:l.style),R),Me),onMouseEnter:T,onMouseLeave:m,onClick:B,role:"alert"},Pe),xe?n.createElement(te,{description:r,icon:t.icon,prefixCls:C,type:Ee}):null,n.createElement("div",{className:`${C}-content`},d?n.createElement("div",{className:`${C}-message`},d):null,r?n.createElement("div",{className:`${C}-description`},r):null),pe?n.createElement("div",{className:`${C}-action`},pe):null,n.createElement(me,{isClosable:Se,prefixCls:C,closeIcon:de,handleClose:be,ariaProps:b}))}))}),he=e(15671),ie=e(43144),fe=e(61120),I=e(78814),a=e(82963);function v(t,o,r){return o=(0,fe.Z)(o),(0,a.Z)(t,(0,I.Z)()?Reflect.construct(o,r||[],(0,fe.Z)(t).constructor):o.apply(t,r))}var p=e(60136),O=function(t){function o(){var r;return(0,he.Z)(this,o),r=v(this,o,arguments),r.state={error:void 0,info:{componentStack:""}},r}return(0,p.Z)(o,t),(0,ie.Z)(o,[{key:"componentDidCatch",value:function(s,d){this.setState({error:s,info:d})}},{key:"render",value:function(){const{message:s,description:d,id:h,children:y}=this.props,{error:P,info:R}=this.state,T=(R==null?void 0:R.componentStack)||null,m=typeof s=="undefined"?(P||"").toString():s,B=typeof d=="undefined"?T:d;return P?n.createElement(K,{id:h,type:"error",message:m,description:n.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},B)}):y}}])}(n.Component);const A=K;A.ErrorBoundary=O;var S=A},7134:function(ve,W,e){e.d(W,{C:function(){return I}});var n=e(67294),x=e(93967),D=e.n(x),Z=e(9220),U=e(42550),V=e(74443),_=e(53124),z=e(35792),N=e(98675),Q=e(25378),g=n.createContext({}),ee=e(11568),i=e(14747),F=e(83559),c=e(83262);const ne=a=>{const{antCls:v,componentCls:p,iconCls:u,avatarBg:O,avatarColor:A,containerSize:S,containerSizeLG:t,containerSizeSM:o,textFontSize:r,textFontSizeLG:s,textFontSizeSM:d,borderRadius:h,borderRadiusLG:y,borderRadiusSM:P,lineWidth:R,lineType:T}=a,m=(B,M,G)=>({width:B,height:B,borderRadius:"50%",[`&${p}-square`]:{borderRadius:G},[`&${p}-icon`]:{fontSize:M,[`> ${u}`]:{margin:0}}});return{[p]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,i.Wf)(a)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:A,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:O,border:`${(0,ee.bf)(R)} ${T} transparent`,"&-image":{background:"transparent"},[`${v}-image-img`]:{display:"block"}}),m(S,r,h)),{"&-lg":Object.assign({},m(t,s,y)),"&-sm":Object.assign({},m(o,d,P)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},oe=a=>{const{componentCls:v,groupBorderColor:p,groupOverlapping:u,groupSpace:O}=a;return{[`${v}-group`]:{display:"inline-flex",[v]:{borderColor:p},"> *:not(:first-child)":{marginInlineStart:u}},[`${v}-group-popover`]:{[`${v} + ${v}`]:{marginInlineStart:O}}}},se=a=>{const{controlHeight:v,controlHeightLG:p,controlHeightSM:u,fontSize:O,fontSizeLG:A,fontSizeXL:S,fontSizeHeading3:t,marginXS:o,marginXXS:r,colorBorderBg:s}=a;return{containerSize:v,containerSizeLG:p,containerSizeSM:u,textFontSize:Math.round((A+S)/2),textFontSizeLG:t,textFontSizeSM:O,groupSpace:r,groupOverlapping:-o,groupBorderColor:s}};var J=(0,F.I$)("Avatar",a=>{const{colorTextLightSolid:v,colorTextPlaceholder:p}=a,u=(0,c.IX)(a,{avatarBg:p,avatarColor:v});return[ne(u),oe(u)]},se),X=function(a,v){var p={};for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&v.indexOf(u)<0&&(p[u]=a[u]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,u=Object.getOwnPropertySymbols(a);O<u.length;O++)v.indexOf(u[O])<0&&Object.prototype.propertyIsEnumerable.call(a,u[O])&&(p[u[O]]=a[u[O]]);return p};const ae=(a,v)=>{const[p,u]=n.useState(1),[O,A]=n.useState(!1),[S,t]=n.useState(!0),o=n.useRef(null),r=n.useRef(null),s=(0,U.sQ)(v,o),{getPrefixCls:d,avatar:h}=n.useContext(_.E_),y=n.useContext(g),P=()=>{if(!r.current||!o.current)return;const b=r.current.offsetWidth,f=o.current.offsetWidth;if(b!==0&&f!==0){const{gap:j=4}=a;j*2<f&&u(f-j*2<b?(f-j*2)/b:1)}};n.useEffect(()=>{A(!0)},[]),n.useEffect(()=>{t(!0),u(1)},[a.src]),n.useEffect(P,[a.gap]);const R=()=>{const{onError:b}=a;(b==null?void 0:b())!==!1&&t(!1)},{prefixCls:T,shape:m,size:B,src:M,srcSet:G,icon:E,className:re,rootClassName:Y,alt:pe,draggable:ce,children:k,crossOrigin:ue}=a,q=X(a,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),$=(0,N.Z)(b=>{var f,j;return(j=(f=B!=null?B:y==null?void 0:y.size)!==null&&f!==void 0?f:b)!==null&&j!==void 0?j:"default"}),Ce=Object.keys(typeof $=="object"?$||{}:{}).some(b=>["xs","sm","md","lg","xl","xxl"].includes(b)),ge=(0,Q.Z)(Ce),l=n.useMemo(()=>{if(typeof $!="object")return{};const b=V.c4.find(j=>ge[j]),f=$[b];return f?{width:f,height:f,fontSize:f&&(E||k)?f/2:18}:{}},[ge,$]),C=d("avatar",T),ye=(0,z.Z)(C),[je,Oe,be]=J(C,ye),Ee=D()({[`${C}-lg`]:$==="large",[`${C}-sm`]:$==="small"}),Se=n.isValidElement(M),xe=m||(y==null?void 0:y.shape)||"circle",Ie=D()(C,Ee,h==null?void 0:h.className,`${C}-${xe}`,{[`${C}-image`]:Se||M&&S,[`${C}-icon`]:!!E},be,ye,re,Y,Oe),Pe=typeof $=="number"?{width:$,height:$,fontSize:E?$/2:18}:{};let de;if(typeof M=="string"&&S)de=n.createElement("img",{src:M,draggable:ce,srcSet:G,onError:R,alt:pe,crossOrigin:ue});else if(Se)de=M;else if(E)de=E;else if(O||p!==1){const b=`scale(${p})`,f={msTransform:b,WebkitTransform:b,transform:b};de=n.createElement(Z.Z,{onResize:P},n.createElement("span",{className:`${C}-string`,ref:r,style:Object.assign({},f)},k))}else de=n.createElement("span",{className:`${C}-string`,style:{opacity:0},ref:r},k);return delete q.onError,delete q.gap,je(n.createElement("span",Object.assign({},q,{style:Object.assign(Object.assign(Object.assign(Object.assign({},Pe),l),h==null?void 0:h.style),q.style),className:Ie,ref:s}),de))};var L=n.forwardRef(ae),te=e(50344),me=e(96159),H=e(55241);const K=a=>{const{size:v,shape:p}=n.useContext(g),u=n.useMemo(()=>({size:a.size||v,shape:a.shape||p}),[a.size,a.shape,v,p]);return n.createElement(g.Provider,{value:u},a.children)};var ie=a=>{var v,p,u;const{getPrefixCls:O,direction:A}=n.useContext(_.E_),{prefixCls:S,className:t,rootClassName:o,style:r,maxCount:s,maxStyle:d,size:h,shape:y,maxPopoverPlacement:P,maxPopoverTrigger:R,children:T,max:m}=a,B=O("avatar",S),M=`${B}-group`,G=(0,z.Z)(B),[E,re,Y]=J(B,G),pe=D()(M,{[`${M}-rtl`]:A==="rtl"},Y,G,t,o,re),ce=(0,te.Z)(T).map((q,$)=>(0,me.Tm)(q,{key:`avatar-key-${$}`})),k=(m==null?void 0:m.count)||s,ue=ce.length;if(k&&k<ue){const q=ce.slice(0,k),$=ce.slice(k,ue),Ce=(m==null?void 0:m.style)||d,ge=((v=m==null?void 0:m.popover)===null||v===void 0?void 0:v.trigger)||R||"hover",l=((p=m==null?void 0:m.popover)===null||p===void 0?void 0:p.placement)||P||"top",C=Object.assign(Object.assign({content:$},m==null?void 0:m.popover),{overlayClassName:D()(`${M}-popover`,(u=m==null?void 0:m.popover)===null||u===void 0?void 0:u.overlayClassName),placement:l,trigger:ge});return q.push(n.createElement(H.Z,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},C),n.createElement(L,{style:Ce},`+${ue-k}`))),E(n.createElement(K,{shape:y,size:h},n.createElement("div",{className:pe,style:r},q)))}return E(n.createElement(K,{shape:y,size:h},n.createElement("div",{className:pe,style:r},ce)))};const fe=L;fe.Group=ie;var I=fe}}]);
