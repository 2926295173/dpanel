"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8566],{1699:function(ee,O,t){t.d(O,{u:function(){return y}});var U=t(9783),o=t.n(U),Z=t(97857),_=t.n(Z),S=t(67294),D=t(82346),E=t(40411),f=t(42075),I=t(85893),y=function(l){var i=(0,D.useAccess)(),a=Array.isArray(l.access)?l.access:[l.access],x,p=l.fallback;if(typeof l.children=="function"?(x=l.children(a.reduce(function(P,e){return _()(_()({},P),{},o()({},e,i[e]))},{})),x||(x=p)):a.every(function(P){return i[P]})?x=l.children:x=p,!p&&x&&l.showProTips&&i.canSeeEnableCe){if(i.canSeeEnableHiddenProTips)return null;x=(0,I.jsx)(E.Z,{offset:l.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:x})}if(!p&&x&&l.showProRibbonTips&&i.canSeeEnableCe){if(i.canSeeEnableHiddenProTips)return null;x=(0,I.jsx)(E.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:x})}return l.space?(0,I.jsx)(f.Z,_()(_()({},l.space),{},{children:x})):x}},80821:function(ee,O,t){t.d(O,{Z:function(){return i}});var U=t(97857),o=t.n(U),Z=t(5574),_=t.n(Z),S=t(24963),D=t(36146),E=t(86738),f=t(83062),I=t(96074),y=t(83622),b=t(67294),l=t(85893);function i(a){var x=(0,b.useState)(!1),p=_()(x,2),P=p[0],e=p[1],d=(0,b.useContext)(S.Z),le=d.message,re=function(){e(!0);var ye=a.action();ye instanceof Promise?ye.then(function(me){if(e(!1),me){typeof a.onSuccess=="function"&&a.onSuccess(me);var Ee=D.FD.format("finish");le.success(Ee)}}).catch(function(me){e(!1),typeof a.onError=="function"&&a.onError(me)}):e(!1)};if(a.confirmProps){var B,C,fe,ve,oe,k,he,ge=a.confirmProps.description;return a.confirmProps.showCommonConfirm&&(ge=D.FD.format("confirm.title")),a.confirmProps.showCommonDisabled&&(ge=D.FD.format("confirm.disable")),(0,l.jsx)(E.Z,o()(o()({},a.confirmProps),{},{style:{width:500},title:(B=a.confirmProps)!==null&&B!==void 0&&B.title?(C=a.confirmProps)===null||C===void 0?void 0:C.title:D.FD.format("title.tip"),description:ge,onConfirm:re,okText:"Yes",cancelText:"No",children:(0,l.jsxs)(f.Z,{title:a.tips,children:[a.showDivider&&(0,l.jsx)(I.Z,{type:"vertical",style:{marginRight:15}}),(0,l.jsx)(y.ZP,o()(o()({},a.buttonProps),{},{ghost:((fe=a.buttonProps)===null||fe===void 0?void 0:fe.ghost)&&((ve=a.buttonProps)===null||ve===void 0?void 0:ve.type)!=="link",style:(oe=a.buttonProps)!==null&&oe!==void 0&&oe.ghost?o()(o()({},a.buttonProps.style),{},{padding:0,width:"auto"}):o()({},(k=a.buttonProps)===null||k===void 0?void 0:k.style),icon:!a.children&&P||(he=a.buttonProps)===null||he===void 0?void 0:he.icon,loading:P,children:a.children}))]})}))}else{var pe,de,ce,je,De;return(0,l.jsxs)(f.Z,{title:a.tips,children:[a.showDivider&&(0,l.jsx)(I.Z,{type:"vertical",style:{marginRight:15}}),(0,l.jsx)(y.ZP,o()(o()({},a.buttonProps),{},{ghost:((pe=a.buttonProps)===null||pe===void 0?void 0:pe.ghost)&&((de=a.buttonProps)===null||de===void 0?void 0:de.type)!=="link",style:(ce=a.buttonProps)!==null&&ce!==void 0&&ce.ghost?o()(o()({},a.buttonProps.style),{},{padding:0,width:"auto"}):o()({},(je=a.buttonProps)===null||je===void 0?void 0:je.style),icon:!a.children&&P||(De=a.buttonProps)===null||De===void 0?void 0:De.icon,loading:P,onClick:re,children:a.children}))]})}}},27619:function(ee,O,t){t.d(O,{Z:function(){return E}});var U=t(5574),o=t.n(U),Z=t(82346),_=t(67294),S=t(64389),D=t(85893);function E(f){var I=(0,Z.useModel)("@@initialState"),y=I.initialState,b="chart-area-".concat(f.name),l=(0,_.useState)(),i=o()(l,2),a=i[0],x=i[1],p={};f.data.forEach(function(e){e.show===!1?p[e.name]=!1:p[e.name]=!0});var P={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}},valueFormatter:function(d){return f.yValueFormatter?f.yValueFormatter(d):d}},legend:{selected:p},grid:{left:"0",right:"0",bottom:"0",top:"30",containLabel:!0},xAxis:{type:"category",data:f.data[0].data.map(function(e){return e.date}),boundaryGap:!1,axisLabel:{rotate:20}},yAxis:{type:"value",axisLabel:{formatter:f.yLabelFormatter},max:function(d){if(f.yDomainMaxCallback)return f.yDomainMaxCallback(d)}},series:[]};return(0,_.useEffect)(function(){var e="",d=window.matchMedia("(prefers-color-scheme: dark)");(y==null?void 0:y.theme.algorithm)=="dark"||d.matches?e="dark":e="",a&&!a.isDisposed()&&a.dispose();var le=document.getElementById(b),re=S.S1(le,e);re.setOption(P);var B=new ResizeObserver(function(){re.resize()});le&&B.observe(le),x(re)},[y]),(0,_.useEffect)(function(){a&&!a.isDisposed()&&a.setOption({legend:{data:f.data.map(function(e){return e.name})},xAxis:{data:f.data[0].data.map(function(e){return e.date})},series:f.data.map(function(e){return{name:e.name,type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:e.data.map(function(d){return d.value})}})})},[f.data]),(0,D.jsx)("div",{style:{height:200},id:b})}},3616:function(ee,O,t){t.d(O,{Ed:function(){return _},FK:function(){return o},R_:function(){return U},ob:function(){return Z}});var U=window.innerWidth<=1024?"90vw":"65vw",o="90vw",Z="60vw",_="50vh"},24963:function(ee,O,t){var U=t(67294),o=(0,U.createContext)({});O.Z=o},55617:function(ee,O,t){t.r(O),t.d(O,{default:function(){return Ye}});var U=t(15009),o=t.n(U),Z=t(99289),_=t.n(Z),S=t(5574),D=t.n(S),E=t(19632),f=t.n(E),I=t(1699),y=t(80821),b=t(27619),l=t(3616),i=t(5251),a=t(36146),x=t(184),p=t(25593),P=t(60940),e=t(85893),d=new a.Uo("components.containerStat");function le(A){return(0,e.jsx)(x.a,{drawerProps:{width:l.R_},title:d.format("detailTitle"),submitter:!1,trigger:(0,e.jsx)(p.Z.Link,{children:a.FD.format("listManageDetail")}),children:(0,e.jsx)(P.Z,{pagination:!1,dataSource:A.data,rowKey:"name",columns:[{title:a.FD.format("listContainerName"),dataIndex:"name"},{title:"Cpu",dataIndex:"cpu",sorter:function(h,v){return h.cpu-v.cpu},render:function(h,v,K){return"".concat(v.cpu.toFixed(2),"%")}},{title:"Memory",dataIndex:"memory",sorter:function(h,v){return h.memory.in-v.memory.in},render:function(h,v,K){var M,V;return"".concat((0,i.FI)((M=v==null?void 0:v.memory.in)!==null&&M!==void 0?M:0)," / ").concat((0,i.FI)((V=v==null?void 0:v.memory.out)!==null&&V!==void 0?V:0))}},{title:a.FD.format("listNetworkIO"),dataIndex:"networkIO",width:180,render:function(h,v,K){return"".concat((0,i.FI)(v.networkIO.in)," / ").concat((0,i.FI)(v.networkIO.out))}},{title:a.FD.format("listDiskIO"),dataIndex:"blockIO",width:180,render:function(h,v,K){return"".concat((0,i.FI)(v.blockIO.in)," / ").concat((0,i.FI)(v.blockIO.out))}}]})})}var re=t(97857),B=t.n(re),C=t(67294),fe=t(64389),ve={tooltip:{show:!0,formatter:function(j){return j&&j.data&&j.data.tooltipItem?j.data.tooltipItem.map(function(h){return"<div>".concat(h.field,": ").concat(h.content,"</div>")}).join(" "):"".concat(j.data.name,": ").concat((0,i.FI)(j.data.value))}},legend:{selectedMode:"single",top:0,itemGap:5},series:[]},oe={name:"",type:"treemap",left:0,right:0,top:30,bottom:0,roam:!1,label:{show:!0},levels:[{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}}],sort:!0,leafDepth:1,data:[]},k=new a.Uo("components.containerStat"),he=(0,C.forwardRef)(function(A,j){var h=A.data.usage,v=(0,C.useState)(),K=D()(v,2),M=K[0],V=K[1];(0,C.useImperativeHandle)(j,function(){return{}});function ie(){if(!h.Containers||!h.Images){M&&M.setOption({series:[B()(B()({},oe),{},{name:"",data:[{name:k.format("usageEmpty"),value:1}]})]});return}var R=[],T=[];h.Containers&&h.Containers.forEach(function(u){var L,J,X,q=u.SizeRootFs+((L=u.SizeRw)!==null&&L!==void 0?L:0),ae=[];u.Mounts&&u.Mounts.forEach(function(G){var ne=h.Volumes&&h.Volumes.find(function(Ie){return Ie.Name==G.Name});ne&&(q+=ne.UsageData.Size,ae.push({name:k.format("usageVolume",{name:G.Name}),value:ne.UsageData.Size,children:[]}))});var ue={name:(0,i.fi)(u.Names[0],"/"),value:q,tooltipItem:[{field:(0,i.fi)(u.Names[0],"/"),content:(0,i.FI)(q)},{field:k.format("usageContainerRootFs"),content:(0,i.FI)((J=u.SizeRootFs)!==null&&J!==void 0?J:0)},{field:k.format("usageContainerRw"),content:(0,i.FI)((X=u.SizeRw)!==null&&X!==void 0?X:0)}],children:[{name:k.format("usageContainerRootFs"),value:u.SizeRootFs,children:[]},{name:k.format("usageContainerRw"),value:u.SizeRw,children:[]}]};if(ae&&ae.length>0){var _e,se;(_e=ue.children).push.apply(_e,ae),(se=ue.tooltipItem)===null||se===void 0||se.push.apply(se,f()(ae.map(function(G){var ne;return{field:G.name,content:(0,i.FI)((ne=G.value)!==null&&ne!==void 0?ne:0)}})))}T.push(ue)}),R.push(B()(B()({},oe),{},{name:k.format("usageTitleContainer"),data:T})),T=[],h.Images&&h.Images.forEach(function(u){var L,J,X,q;T.push({name:u.RepoTags?u.RepoTags[0]:u.Id.substring(7,19),value:u.Size+((L=u.SharedSize)!==null&&L!==void 0?L:0),tooltipItem:[{field:u.RepoTags?u.RepoTags[0]:u.Id.substring(7,19),content:(0,i.FI)(u.Size+((J=u.SharedSize)!==null&&J!==void 0?J:0))},{field:k.format("usageImageSize"),content:(0,i.FI)((X=u.Size)!==null&&X!==void 0?X:0)},{field:k.format("usageImageSharedSize"),content:(0,i.FI)((q=u.SharedSize)!==null&&q!==void 0?q:0)}],children:[{name:k.format("usageImageSize"),value:u.Size,children:[]},{name:k.format("usageImageSharedSize"),value:u.SharedSize,children:[]}]})}),R.push(B()(B()({},oe),{},{name:k.format("usageTitleImage"),data:T})),T=[],h.Volumes&&h.Volumes.forEach(function(u){T.push({name:u.Name,value:u.UsageData.Size,children:[]})}),R.push(B()(B()({},oe),{},{name:k.format("usageTitleVolume"),data:T})),R&&R.length>0&&M&&M.setOption({series:R,legend:{data:R.map(function(u){return u.name})}})}return(0,C.useEffect)(function(){var R=document.getElementById("docker-disk-usage"),T=fe.S1(R);T.setOption(ve);var u=new ResizeObserver(function(){T&&T.resize()});return R&&u.observe(R),V(T),function(){M&&M.dispose(),V(void 0)}},[]),(0,C.useEffect)(function(){M&&ie()},[M]),(0,e.jsx)("div",{style:{height:450},id:"docker-disk-usage"})}),ge=he,pe=t(55241),de=t(71230),ce=t(15746),je=t(38703),De=(0,C.forwardRef)(function(A,j){return(0,C.useImperativeHandle)(j,function(){return{}}),(0,e.jsxs)(pe.Z,{placement:"left",children:[(0,e.jsx)(de.Z,{justify:"center",children:(0,e.jsx)(ce.Z,{children:(0,e.jsx)(je.Z,{percent:A.showPercent,type:"dashboard",format:function(v,K){return"".concat(v,"%")},size:150,status:A.showPercent>=100?"exception":"normal"})})}),(0,e.jsx)(de.Z,{justify:"center",children:(0,e.jsxs)(ce.Z,{style:{marginTop:"10px"},children:[A.showLabel,": ",A.showUse," / ",A.showTotal]})})]})}),Se=De,ye=t(24963),me=t(87662),Ee=t(2831),Ae=t(97841),Ue=t(89075),Be=t(20578),Ke=t(45605),ze=t(1210),xe=t(12122),F=t(38345),w=t(88273),Q=t(82346),te=t(42075),$e=t(83622),N=t(26412),Pe=t(83062),Ne=t(40411),Ve=t(86250),Ge=t(93162),s=new a.Uo("system.home.overview"),He=function(j,h){switch(h.type){case"update":var v=new Date().toLocaleTimeString(),K=0,M=0,V=0,ie=0,R=0,T=0;h.payload.forEach(function(L){K+=L.cpu,M+=L.memory.in,V+=L.networkIO.in,ie+=L.networkIO.out,R+=L.blockIO.in,T+=L.blockIO.out});var u={list:h.payload,cpu:K,memory:M,network:[{name:s.format("runStatNetworkOut"),data:[].concat(f()(j.network[0].data.slice(-20)),[{date:v,value:ie.toString()}])},{name:s.format("runStatNetworkIn"),data:[].concat(f()(j.network[1].data.slice(-20)),[{date:v,value:V.toString()}])}],io:[{name:s.format("runStatIoOut"),data:[].concat(f()(j.io[0].data.slice(-20)),[{date:v,value:T.toString()}])},{name:s.format("runStatIoIn"),data:[].concat(f()(j.io[1].data.slice(-20)),[{date:v,value:R.toString()}])}]};return u}};function Ye(){var A,j,h,v,K,M,V,ie,R,T,u,L,J,X,q,ae,ue,_e,se,G=(0,Q.useAccess)(),ne=(0,C.useState)(),Ie=D()(ne,2),be=Ie[0],Qe=Ie[1],Je=(0,C.useState)(),Ce=D()(Je,2),H=Ce[0],Xe=Ce[1],qe=(0,C.useState)(),Me=D()(qe,2),r=Me[0],et=Me[1],tt=(0,C.useState)(),Re=D()(tt,2),n=Re[0],at=Re[1],nt=(0,C.useState)(),Le=D()(nt,2),Oe=Le[0],rt=Le[1],ot=(0,C.useReducer)(He,{cpu:0,memory:0,network:[{name:s.format("runStatNetworkOut"),data:[]},{name:s.format("runStatNetworkIn"),data:[]}],io:[{name:s.format("runStatIoOut"),data:[]},{name:s.format("runStatIoIn"),data:[]}],list:[]}),Ze=D()(ot,2),W=Ze[0],ke=Ze[1],it=(0,C.useContext)(ye.Z),Fe=it.loading,We=(0,Q.useModel)("subscriber");We.addDataHandler("container:stat",function(m){ke({type:"update",payload:m.data})});function we(){return Te.apply(this,arguments)}function Te(){return Te=_()(o()().mark(function m(){var c,g,Y;return o()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return Fe.show(),$.next=3,(0,Ee.aF)().finally(function(){Fe.destroy()});case 3:return c=$.sent,et(c.data),$.next=7,(0,Ee.Ll)();case 7:return g=$.sent,at(g.data),$.next=11,(0,me.Cz)({follow:!0});case 11:Y=$.sent,ke({type:"update",payload:[]});case 13:case"end":return $.stop()}},m)})),Te.apply(this,arguments)}return(0,C.useEffect)(function(){return we(),!G.canSeeEnableCe&&(0,Ue.YQ)().then(function(m){Qe(m.data)}),!G.canSeeEnableCe&&(0,Be.q)().then(function(m){Xe(m.data)}),(0,Ee.u5)().then(function(m){rt(m.data)}),function(){We.progress.close("container:stat")}},[]),(0,e.jsxs)(F.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,e.jsxs)(F.Z,{bordered:!0,split:"vertical",wrap:!0,children:[(0,e.jsx)(F.Z,{style:{height:"570px",overflow:"hidden"},colSpan:{xs:24,sm:24,md:24,lg:9,xl:9},headerBordered:!0,title:(0,e.jsx)(Ke.Z,{}),subTitle:s.format("basicInfoTitle"),extra:(0,e.jsx)(te.Z,{children:G.canSeeEnableCe?G.canSeeEnableInDPanel&&(0,e.jsx)("a",{href:"https://dpanel.cc/pro",target:"_blank",children:s.format("basicProBuy")},"proLink"):be&&be.expireTime?(0,e.jsxs)("span",{children:[s.format("basicProExpireTime")," ",new Date(be.expireTime).toLocaleString()]},"expireTime"):(0,e.jsx)($e.ZP,{type:"link",onClick:_()(o()().mark(function m(){var c,g;return o()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,(0,Ue.$w)();case 2:c=z.sent,g=new Blob([c.data.code],{type:"text/plain"}),(0,Ge.saveAs)(g,"dpanel.code");case 5:case"end":return z.stop()}},m)})),children:s.format("basicProCode")},"downloadCode")}),children:(0,e.jsxs)(N.Z,{column:1,styles:{label:{width:100,justifyContent:"flex-end"}},children:[(0,e.jsx)(N.Z.Item,{label:s.format("basicDPanelTitleVersion"),children:(0,e.jsxs)(te.Z,{direction:"horizontal",wrap:!0,children:[r==null?void 0:r.dpanel.version," - ",r==null?void 0:r.dpanel.env," - ",r==null?void 0:r.dpanel.family,G.canSeeEnableInDPanel&&(0,e.jsx)(Pe.Z,{title:s.format("basicDPanelTitleUpgradeInfo"),children:(0,e.jsx)("a",{target:"_blank",href:"https://github.com/donknap/dpanel/releases",children:(0,e.jsx)(ze.Z,{})})}),Oe&&Oe.newVersion!=""&&(0,e.jsx)(Q.Link,{to:"/system/upgrade",children:(0,e.jsx)(Ne.Z,{count:Oe.newVersion,size:"small"})})]})}),(0,e.jsxs)(N.Z.Item,{label:"Docker Host",children:[r==null?void 0:r.info.Name," ",(0,e.jsx)(e.Fragment,{children:(r==null?void 0:r.info.ID)==""&&(0,e.jsx)(Q.Link,{to:"/system/env",state:{name:"local",t:(0,i.Fs)()},children:s.format("basicEnvSettingDefaultEnv")})})]}),(0,e.jsx)(N.Z.Item,{label:s.format("basicDockerTitleVersion"),children:"Server: ".concat(r==null?void 0:r.info.ServerVersion," / Client: ").concat(r==null?void 0:r.clientVersion)}),(0,e.jsx)(N.Z.Item,{label:"Docker SDK",children:"".concat(r==null?void 0:r.sdkVersion)}),(0,e.jsx)(N.Z.Item,{label:s.format("basicDockerTitleFileDriver"),children:"".concat(r==null?void 0:r.info.Driver)}),(0,e.jsx)(N.Z.Item,{label:s.format("basicDockerTitleLogDriver"),children:"".concat(r==null?void 0:r.info.LoggingDriver)}),(0,e.jsx)(N.Z.Item,{label:s.format("basicDockerTitleSystemVersion"),children:"".concat(r==null?void 0:r.info.OperatingSystem," - ").concat(r==null?void 0:r.info.KernelVersion," - ").concat(r==null?void 0:r.info.Architecture)}),(0,e.jsxs)(N.Z.Item,{label:"Cpu / Mem",children:[r==null?void 0:r.info.NCPU," ",a.FD.format("unitCpu")," / ",(0,i.FI)((A=r==null?void 0:r.info.MemTotal)!==null&&A!==void 0?A:0)]}),(0,e.jsx)(N.Z.Item,{label:s.format("basicDockerTitleRootDir"),children:r==null?void 0:r.info.DockerRootDir}),(0,e.jsx)(N.Z.Item,{label:s.format("basicDockerTitlePluginsVolume"),children:(0,e.jsx)(te.Z,{children:r==null?void 0:r.info.Plugins.Volume})}),(0,e.jsx)(N.Z.Item,{label:s.format("basicDockerTitlePluginsNetwork"),children:(0,e.jsx)(te.Z,{wrap:!0,children:r==null?void 0:r.info.Plugins.Network})}),(0,e.jsx)(N.Z.Item,{label:s.format("basicDockerTitleSystemTime"),children:new Date((j=r==null?void 0:r.info.SystemTime)!==null&&j!==void 0?j:"").toLocaleString()})]})}),(0,e.jsxs)(F.Z,{headerBordered:!0,colSpan:{xs:24,sm:24,md:24,lg:15,xl:15},title:(0,e.jsx)(xe.Z,{}),subTitle:s.format("runStatTitle"),split:"horizontal",extra:(0,e.jsx)(te.Z,{children:W.list&&(0,e.jsx)(le,{data:W.list})}),children:[(0,e.jsx)(F.Z,{children:(0,e.jsxs)(Ve.Z,{gap:50,align:"center",justify:"space-evenly",children:[(0,e.jsx)(Se,{showPercent:parseFloat((((h=W==null?void 0:W.cpu)!==null&&h!==void 0?h:0)/((v=r==null?void 0:r.info.NCPU)!==null&&v!==void 0?v:0)).toFixed(2)),showLabel:"Cpu",showUse:"".concat(((K=W==null?void 0:W.cpu)!==null&&K!==void 0?K:0).toFixed(2)),showTotal:"".concat((M=r==null?void 0:r.info.NCPU)!==null&&M!==void 0?M:0," ").concat(a.FD.format("unitCpu"))}),(0,e.jsx)(Se,{showPercent:parseFloat((((V=W==null?void 0:W.memory)!==null&&V!==void 0?V:0)/((ie=r==null?void 0:r.info.MemTotal)!==null&&ie!==void 0?ie:0)*100).toFixed(2)),showLabel:"Memory",showUse:(0,i.FI)((R=W==null?void 0:W.memory)!==null&&R!==void 0?R:0),showTotal:"".concat((0,i.FI)((T=r==null?void 0:r.info.MemTotal)!==null&&T!==void 0?T:0))})]})}),(0,e.jsxs)(F.Z,{split:"vertical",wrap:!0,children:[(0,e.jsx)(F.Z,{colSpan:12,title:(0,e.jsx)(xe.Z,{}),subTitle:s.format("usageNetwork"),headerBordered:!0,children:(0,e.jsx)(b.Z,{data:W.network,yLabelFormatter:function(c){return(0,i.FI)(parseFloat(c))},yValueFormatter:function(c){return(0,i.FI)(parseFloat(c))},yDomainMaxCallback:function(c){return c.max*1.5},name:"network"})}),(0,e.jsx)(F.Z,{colSpan:12,title:(0,e.jsx)(xe.Z,{}),subTitle:s.format("usageDisk"),headerBordered:!0,children:(0,e.jsx)(b.Z,{name:"disk",data:W.io,yLabelFormatter:function(c){return(0,i.FI)(parseFloat(c))},yValueFormatter:function(c){return(0,i.FI)(parseFloat(c))},yDomainMaxCallback:function(c){return c.max*1.5}})})]})]})]}),(0,e.jsxs)(F.Z,{bordered:!0,headerBordered:!0,title:(0,e.jsx)(xe.Z,{}),subTitle:s.format("usageTitle"),wrap:!0,extra:(0,e.jsx)(te.Z,{children:(0,e.jsx)("span",{children:n!=null&&n.diskUsage&&n!==null&&n!==void 0&&n.diskUsage.updatedAt?"".concat(s.format("usageLastUpgradeTime")," ").concat(new Date(n==null?void 0:n.diskUsage.updatedAt).toLocaleString()):""},"lastUpdate")},"size"),children:[(0,e.jsx)(F.Z,{colSpan:{xs:24,sm:24,md:24,lg:24,xl:12,xxl:12},ghost:!0,children:(n==null?void 0:n.diskUsage)&&(0,e.jsx)(ge,{data:n==null?void 0:n.diskUsage})}),(0,e.jsxs)(F.Z,{colSpan:{xs:24,sm:8,md:8,lg:8,xl:4,xxl:4},split:"horizontal",ghost:!0,children:[(0,e.jsx)(w.Z,{statistic:{title:(0,e.jsx)(te.Z,{children:s.format("usageContainer")}),value:n!=null&&n.diskUsage.usage.Containers?(0,i.FI)((u=n.diskUsage.usage.Containers.reduce(function(m,c){var g;return m+c.SizeRootFs+((g=c.SizeRw)!==null&&g!==void 0?g:0)},0))!==null&&u!==void 0?u:0):0,description:s.format("usageDescContainer")}}),(0,e.jsx)(w.Z,{statistic:{title:(0,e.jsx)(te.Z,{children:s.format("usageImage")}),value:n!=null&&n.diskUsage.usage.Images?(0,i.FI)((L=n.diskUsage.usage.Images.reduce(function(m,c){var g;return m+(c.Size+((g=c.SharedSize)!==null&&g!==void 0?g:0))},0))!==null&&L!==void 0?L:0):0,description:s.format("usageDescImage")}}),(0,e.jsx)(w.Z,{statistic:{title:(0,e.jsx)(te.Z,{children:s.format("usageVolume")}),value:n!=null&&n.diskUsage.usage.Volumes?(0,i.FI)((J=n.diskUsage.usage.Volumes.reduce(function(m,c){return m+c.UsageData.Size},0))!==null&&J!==void 0?J:0):0,description:s.format("usageDescVolume")}}),(0,e.jsx)(w.Z,{statistic:{title:s.format("usageBuildCache"),value:n!=null&&n.diskUsage.usage.BuildCache?(0,i.FI)((X=n.diskUsage.usage.BuildCache.reduce(function(m,c){return m+c.Size},0))!==null&&X!==void 0?X:0):0,description:(0,e.jsx)(I.u,{access:"canSeeHomeOverviewClear",children:(0,e.jsx)(y.Z,{action:function(){return(0,Ae.c5)()},buttonProps:{type:"link",ghost:!0},onSuccess:function(){we()},children:a.FD.format("listManageClear")})})}})]}),(0,e.jsxs)(F.Z,{colSpan:{xs:24,sm:16,md:16,lg:16,xl:8,xxl:8},ghost:!0,split:"horizontal",children:[(0,e.jsx)(F.Z,{ghost:!0,children:(0,e.jsxs)(w.Z.Group,{children:[(0,e.jsx)(w.Z,{statistic:{title:s.format("usageContainer"),value:(q=r==null?void 0:r.info.Containers)!==null&&q!==void 0?q:0,description:(0,e.jsx)(Q.Link,{to:"/app/list",children:a.FD.format("listManageDetail")})}}),!G.canSeeEnableCe&&(0,e.jsx)(w.Z,{statistic:{title:s.format("usageContainerNew"),status:"processing",valueRender:function(c){var g,Y,z;return(0,e.jsx)(Pe.Z,{title:"".concat(a.FD.format("title.ignore"),": ").concat((g=H==null?void 0:H.ignore)!==null&&g!==void 0?g:0,` 
                      `).concat(a.FD.format("title.ignore"),": ").concat((Y=H==null?void 0:H.failed)!==null&&Y!==void 0?Y:0,` 
                      `).concat(a.FD.format("title.local"),": ").concat((z=H==null?void 0:H.local)!==null&&z!==void 0?z:0),children:H==null?void 0:H.upgrade})}}}),(0,e.jsx)(w.Z,{statistic:{title:a.FD.format("title.warning"),status:"error",valueRender:function(c){var g,Y,z,$=0;return n&&n.total&&n.total.containerRunning.stop&&($+=n.total.containerRunning.stop),n&&n.total&&n.total.containerRunning.pause&&($+=n.total.containerRunning.pause),n&&n.total&&n.total.containerRunning.unhealthy&&($+=n.total.containerRunning.unhealthy),(0,e.jsx)(Pe.Z,{title:"".concat(new a.Uo("components.containerStatus").format("container.exited"),": ").concat((g=n==null?void 0:n.total.containerRunning.stop)!==null&&g!==void 0?g:0,`
                      `).concat(new a.Uo("components.containerStatus").format("container.paused"),": ").concat((Y=n==null?void 0:n.total.containerRunning.pause)!==null&&Y!==void 0?Y:0,` 
                      `).concat(new a.Uo("components.containerStatus").format("container.unhealthy"),": ").concat((z=n==null?void 0:n.total.containerRunning.unhealthy)!==null&&z!==void 0?z:0),children:$})}}}),(0,e.jsx)(w.Z,{statistic:{title:s.format("usageContainerRecycle"),value:(ae=n==null?void 0:n.total.containerTask)!==null&&ae!==void 0?ae:0,description:(0,e.jsx)(Q.Link,{to:"/app/list/recycle",children:a.FD.format("listManageDetail")})}})]})}),(0,e.jsxs)(F.Z,{ghost:!0,children:[(0,e.jsx)(w.Z,{statistic:{title:s.format("usageImage"),value:"".concat((ue=(n==null?void 0:n.diskUsage.usage.Images)&&(n==null?void 0:n.diskUsage.usage.Images.length))!==null&&ue!==void 0?ue:0),description:(0,e.jsx)(Q.Link,{to:"/image/list",children:a.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(w.Z,{statistic:{title:s.format("usageImageTask"),value:(_e=n==null?void 0:n.total.imageTask)!==null&&_e!==void 0?_e:0,description:(0,e.jsx)(Q.Link,{to:"/image/list/recycle",children:a.FD.format("listManageDetail")})},chartPlacement:"left"})]}),(0,e.jsxs)(F.Z,{ghost:!0,children:[(0,e.jsx)(w.Z,{statistic:{title:s.format("usageNetwork"),value:n==null?void 0:n.total.network,description:(0,e.jsx)(Q.Link,{to:"/docker/network",children:a.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(w.Z,{statistic:{title:s.format("usageNetworkPortBind"),value:n==null?void 0:n.total.port,description:(0,e.jsx)(x.a,{drawerProps:{width:l.R_},submitter:!1,title:s.format("usageNetworkPortBind"),trigger:(0,e.jsx)(p.Z.Link,{children:a.FD.format("listManageDetail")}),children:(0,e.jsx)(P.Z,{pagination:!1,dataSource:n==null?void 0:n.port,rowKey:function(c){return"".concat(c.port.host).concat(c.port.dest)},columns:[{title:s.format("usageNetworkPortBindHost"),dataIndex:["port","host"],sorter:function(c,g){return parseInt(c.port.host)-parseInt(g.port.host)},render:function(c,g,Y){return g.port.host!="0"?"".concat(g.port.hostIp,":").concat(g.port.host):"-"}},{title:s.format("usageNetworkPortBindDest"),dataIndex:["port","dest"]},{title:s.format("usageNetworkPortBindName"),dataIndex:"name",render:function(c,g,Y){return(0,i.fi)(g.name,"/")}}]})})},chartPlacement:"left"})]}),(0,e.jsxs)(F.Z,{ghost:!0,children:[(0,e.jsx)(w.Z,{statistic:{title:s.format("usageVolume"),value:(se=(n==null?void 0:n.diskUsage.usage.Volumes)&&(n==null?void 0:n.diskUsage.usage.Volumes.length))!==null&&se!==void 0?se:0,description:(0,e.jsx)(Q.Link,{to:"/docker/volume",children:a.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(w.Z,{statistic:{title:s.format("usageBackup"),value:n==null?void 0:n.total.backup,description:(0,e.jsx)(Q.Link,{to:"/app/backup",children:a.FD.format("listManageDetail")})},chartPlacement:"left"})]})]})]})]})}},2831:function(ee,O,t){t.d(O,{Ll:function(){return y},aF:function(){return D},u5:function(){return f}});var U=t(15009),o=t.n(U),Z=t(99289),_=t.n(Z),S=t(82346);function D(){return E.apply(this,arguments)}function E(){return E=_()(o()().mark(function l(){return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,S.request)("/api/common/home/info",{method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},l)})),E.apply(this,arguments)}function f(){return I.apply(this,arguments)}function I(){return I=_()(o()().mark(function l(){return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,S.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},l)})),I.apply(this,arguments)}function y(){return b.apply(this,arguments)}function b(){return b=_()(o()().mark(function l(){return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,S.request)("/api/common/home/usage",{method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},l)})),b.apply(this,arguments)}},97841:function(ee,O,t){t.d(O,{Xr:function(){return l},bJ:function(){return y},c5:function(){return a},hf:function(){return D},l9:function(){return f}});var U=t(15009),o=t.n(U),Z=t(99289),_=t.n(Z),S=t(82346);function D(p){return E.apply(this,arguments)}function E(){return E=_()(o()().mark(function p(P){return o()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,S.request)("/api/app/image-build/delete",{method:"POST",data:P});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},p)})),E.apply(this,arguments)}function f(p){return I.apply(this,arguments)}function I(){return I=_()(o()().mark(function p(P){return o()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,S.request)("/api/app/image-build/create",{method:"POST",data:P}));case 1:case"end":return d.stop()}},p)})),I.apply(this,arguments)}function y(p){return b.apply(this,arguments)}function b(){return b=_()(o()().mark(function p(P){return o()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,S.request)("/api/app/image-build/get-list",{method:"POST",data:P}));case 1:case"end":return d.stop()}},p)})),b.apply(this,arguments)}function l(p){return i.apply(this,arguments)}function i(){return i=_()(o()().mark(function p(P){return o()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,S.request)("/api/app/image-build/get-detail",{method:"POST",data:P});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},p)})),i.apply(this,arguments)}function a(){return x.apply(this,arguments)}function x(){return x=_()(o()().mark(function p(){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.request)("/api/app/image-build/prune",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},p)})),x.apply(this,arguments)}},89075:function(ee,O,t){t.d(O,{$w:function(){return D},YQ:function(){return f},ax:function(){return y}});var U=t(15009),o=t.n(U),Z=t(99289),_=t.n(Z),S=t(82346);function D(){return E.apply(this,arguments)}function E(){return E=_()(o()().mark(function l(){return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,S.request)("/api/pro/home/get-machine-id",{method:"POST"}));case 1:case"end":return a.stop()}},l)})),E.apply(this,arguments)}function f(){return I.apply(this,arguments)}function I(){return I=_()(o()().mark(function l(){return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,S.request)("/api/pro/home/get-license-info",{method:"POST"}));case 1:case"end":return a.stop()}},l)})),I.apply(this,arguments)}function y(){return b.apply(this,arguments)}function b(){return b=_()(o()().mark(function l(){return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,S.request)("/api/pro/home/login-info",{method:"POST"}));case 1:case"end":return a.stop()}},l)})),b.apply(this,arguments)}},20578:function(ee,O,t){t.d(O,{q:function(){return D}});var U=t(15009),o=t.n(U),Z=t(99289),_=t.n(Z),S=t(82346);function D(){return E.apply(this,arguments)}function E(){return E=_()(o()().mark(function f(){return o()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,(0,S.request)("/api/pro/container-upgrade/get-all-list",{method:"POST"});case 2:return y.abrupt("return",y.sent);case 3:case"end":return y.stop()}},f)})),E.apply(this,arguments)}}}]);
