"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1102],{64317:function(re,W,e){var f=e(1413),a=e(45987),H=e(22270),P=e(67294),y=e(66758),T=e(73552),w=e(85893),M=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],A=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],F=function(I,b){var $=I.fieldProps,Y=I.children,v=I.params,l=I.proFieldProps,x=I.mode,s=I.valueEnum,t=I.request,J=I.showSearch,m=I.options,j=(0,a.Z)(I,M),V=(0,P.useContext)(y.Z);return(0,w.jsx)(T.Z,(0,f.Z)((0,f.Z)({valueEnum:(0,H.h)(s),request:t,params:v,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,f.Z)({options:m,mode:x,showSearch:J,getPopupContainer:V.getPopupContainer},$),ref:b,proFieldProps:l},j),{},{children:Y}))},_=P.forwardRef(function(D,I){var b=D.fieldProps,$=D.children,Y=D.params,v=D.proFieldProps,l=D.mode,x=D.valueEnum,s=D.request,t=D.options,J=(0,a.Z)(D,A),m=(0,f.Z)({options:t,mode:l||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},b),j=(0,P.useContext)(y.Z);return(0,w.jsx)(T.Z,(0,f.Z)((0,f.Z)({valueEnum:(0,H.h)(x),request:s,params:Y,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,f.Z)({getPopupContainer:j.getPopupContainer},m),ref:I,proFieldProps:v},J),{},{children:$}))}),L=P.forwardRef(F),E=_,g=L;g.SearchSelect=E,g.displayName="ProFormComponent",W.Z=g},52688:function(re,W,e){var f=e(1413),a=e(45987),H=e(67294),P=e(73552),y=e(85893),T=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],w=H.forwardRef(function(M,A){var F=M.fieldProps,_=M.unCheckedChildren,L=M.checkedChildren,E=M.proFieldProps,g=(0,a.Z)(M,T);return(0,y.jsx)(P.Z,(0,f.Z)({valueType:"switch",fieldProps:(0,f.Z)({unCheckedChildren:_,checkedChildren:L},F),ref:A,valuePropName:"checked",proFieldProps:E,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},g))});W.Z=w},90672:function(re,W,e){var f=e(1413),a=e(45987),H=e(67294),P=e(73552),y=e(85893),T=["fieldProps","proFieldProps"],w=function(A,F){var _=A.fieldProps,L=A.proFieldProps,E=(0,a.Z)(A,T);return(0,y.jsx)(P.Z,(0,f.Z)({ref:F,valueType:"textarea",fieldProps:_,proFieldProps:L},E))};W.Z=H.forwardRef(w)},2236:function(re,W,e){e.d(W,{S:function(){return Y}});var f=e(1413),a=e(4942),H=e(71002),P=e(45987),y=e(12044),T=e(28459),w=e(93967),M=e.n(w),A=e(97435),F=e(67294),_=e(73935),L=e(76509),E=e(98082),g=function(l){return(0,a.Z)({},l.componentCls,{position:"fixed",insetInlineEnd:0,bottom:0,zIndex:99,display:"flex",alignItems:"center",width:"100%",paddingInline:24,paddingBlock:0,boxSizing:"border-box",lineHeight:"64px",backgroundColor:(0,E.uK)(l.colorBgElevated,.6),borderBlockStart:"1px solid ".concat(l.colorSplit),"-webkit-backdrop-filter":"blur(8px)",backdropFilter:"blur(8px)",color:l.colorText,transition:"all 0.2s ease 0s","&-left":{flex:1,color:l.colorText},"&-right":{color:l.colorText,"> *":{marginInlineEnd:8,"&:last-child":{marginBlock:0,marginInline:0}}}})};function D(v){return(0,E.Xj)("ProLayoutFooterToolbar",function(l){var x=(0,f.Z)((0,f.Z)({},l),{},{componentCls:".".concat(v)});return[g(x)]})}function I(v,l){var x=l.stylish;return(0,E.Xj)("ProLayoutFooterToolbarStylish",function(s){var t=(0,f.Z)((0,f.Z)({},s),{},{componentCls:".".concat(v)});return x?[(0,a.Z)({},"".concat(t.componentCls),x==null?void 0:x(t))]:[]})}var b=e(85893),$=["children","className","extra","portalDom","style","renderContent"],Y=function(l){var x=l.children,s=l.className,t=l.extra,J=l.portalDom,m=J===void 0?!0:J,j=l.style,V=l.renderContent,r=(0,P.Z)(l,$),ye=(0,F.useContext)(T.ZP.ConfigContext),Ze=ye.getPrefixCls,me=ye.getTargetContainer,De=l.prefixCls||Ze("pro"),Q="".concat(De,"-footer-bar"),Ee=D(Q),ae=Ee.wrapSSR,oe=Ee.hashId,B=(0,F.useContext)(L.X),xe=(0,F.useMemo)(function(){var ue=B.hasSiderMenu,Me=B.isMobile,Se=B.siderWidth;if(ue)return Se?Me?"100%":"calc(100% - ".concat(Se,"px)"):"100%"},[B.collapsed,B.hasSiderMenu,B.isMobile,B.siderWidth]),je=(0,F.useMemo)(function(){return(typeof window=="undefined"?"undefined":(0,H.Z)(window))===void 0||(typeof document=="undefined"?"undefined":(0,H.Z)(document))===void 0?null:(me==null?void 0:me())||document.body},[]),be=I("".concat(Q,".").concat(Q,"-stylish"),{stylish:l.stylish}),Fe=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"".concat(Q,"-left ").concat(oe).trim(),children:t}),(0,b.jsx)("div",{className:"".concat(Q,"-right ").concat(oe).trim(),children:x})]});(0,F.useEffect)(function(){return!B||!(B!=null&&B.setHasFooterToolbar)?function(){}:(B==null||B.setHasFooterToolbar(!0),function(){var ue;B==null||(ue=B.setHasFooterToolbar)===null||ue===void 0||ue.call(B,!1)})},[]);var Oe=(0,b.jsx)("div",(0,f.Z)((0,f.Z)({className:M()(s,oe,Q,(0,a.Z)({},"".concat(Q,"-stylish"),!!l.stylish)),style:(0,f.Z)({width:xe},j)},(0,A.Z)(r,["prefixCls"])),{},{children:V?V((0,f.Z)((0,f.Z)((0,f.Z)({},l),B),{},{leftWidth:xe}),Fe):Fe})),Be=!(0,y.j)()||!m||!je?Oe:(0,_.createPortal)(Oe,je,Q);return be.wrapSSR(ae((0,b.jsx)(F.Fragment,{children:Be},Q)))}},76509:function(re,W,e){e.d(W,{X:function(){return a}});var f=e(67294),a=(0,f.createContext)({})},24963:function(re,W,e){var f=e(67294),a=(0,f.createContext)({});W.Z=a},68548:function(re,W,e){e.r(W),e.d(W,{default:function(){return _e}});var f=e(19632),a=e.n(f),H=e(64599),P=e.n(H),y=e(15009),T=e.n(y),w=e(99289),M=e.n(w),A=e(5574),F=e.n(A),_=e(184),L=e(38345),E=e(5966),g=e(67294),D=e(91058),I=e(85576),b=e(83062),$=e(14726),Y=e(94668),v=e(97857),l=e.n(v),x=e(17186),s=e(24739),t=e(85893),J=(0,g.forwardRef)(function(N,ee){var k=(0,g.useRef)();(0,g.useImperativeHandle)(ee,function(){return{addItem:function(Z,O){var G,o=(G=k.current)===null||G===void 0?void 0:G.getList(),i=!1;if(o==null||o.map(function(R){if(R.name==Z){i=!0;return}}),!i){var X;(X=k.current)===null||X===void 0||X.add({name:Z,value:O})}},clear:function(){var Z;(Z=k.current)===null||Z===void 0||(Z=Z.getList())===null||Z===void 0||Z.map(function(O,G){var o;(o=k.current)===null||o===void 0||o.remove(G)})}}});var q={};return N.hideCopyButton===!0&&(q.copyIconProps=!1),N.hideDeleteButton===!0&&(q.deleteIconProps=!1),(0,t.jsx)(x.u,l()(l()({name:N.name,actionRef:k,creatorButtonProps:N.showAddButton?{creatorButtonText:"\u6DFB\u52A0"+(N.label?N.label:N.name)}:!1,min:0},q),{},{children:function(Z,O,G){return(0,t.jsx)(s.UW,{children:N.items.map(function(o){return o.render?(0,t.jsx)("div",{children:o.render&&o.render(Z,O,G)},"".concat(N.name,"-").concat(o.name,"-").concat(Z.key)):(0,t.jsx)(E.Z,{width:o.width,name:o.name,label:o.label,required:o.required,rules:[{required:o.required}],disabled:o.disabled,placeholder:o.placeholder},"".concat(N.name,"-").concat(o.name,"-").concat(Z.key))})})}}))}),m=J,j=e(92067),V=(0,g.forwardRef)(function(N,ee){var k=(0,g.useState)(!1),q=F()(k,2),te=q[0],Z=q[1],O=(0,g.useState)(),G=F()(O,2),o=G[0],i=G[1];return(0,g.useImperativeHandle)(ee,function(){return{}}),(0,t.jsxs)(L.Z,{title:"\u670D\u52A1\u4F9D\u8D56\u66FF\u6362",subTitle:"\u66FF\u6362\u540ECompose\u4E2D\u7684\u670D\u52A1\u5C06\u4E0D\u4F1A\u521B\u5EFA",headerBordered:!0,children:[(0,t.jsx)(I.Z,{title:"\u9009\u62E9\u5BB9\u5668",width:1024,footer:!1,open:te,onCancel:function(){return Z(!1)},children:(0,t.jsx)(j.Z,{onSelect:function(R){o==null||o.setCurrentRowData({target:R.Name}),Z(!1)}})}),(0,t.jsx)(m,{name:"replace",hideCopyButton:!0,hideDeleteButton:!0,items:[{label:"\u4F9D\u8D56\u670D\u52A1",name:"depend",disabled:!0},{label:"\u66FF\u6362\u670D\u52A1",name:"target",render:function(R,le,se){return(0,t.jsx)(E.Z,{label:"\u66FF\u6362\u5DF2\u6709\u5BB9\u5668",name:"target",placeholder:"\u8BF7\u9009\u62E9\u5DF2\u6709\u5BB9\u5668",addonAfter:(0,t.jsx)(b.Z,{title:"\u9009\u62E9\u66FF\u6362\u7684\u5BB9\u5668",children:(0,t.jsx)($.ZP,{type:"primary",icon:(0,t.jsx)(Y.Z,{}),onClick:function(){i(se),Z(!0)}})},R.key)},R.key)}}]})]})}),r=V,ye=e(10523),Ze=e(82034),me=(0,g.forwardRef)(function(N,ee){var k=(0,g.useState)(!1),q=F()(k,2),te=q[0],Z=q[1],O=(0,g.useRef)();return(0,g.useImperativeHandle)(ee,function(){return{edit:function(o,i){var X,R,le;if(!((X=O.current)===null||X===void 0)&&X.resetFields&&((R=O.current)===null||R===void 0||R.resetFields()),(le=O.current)===null||le===void 0||le.setFieldsValue({name:o.name}),i!=null&&i.containerName){var se;(se=O.current)===null||se===void 0||se.setFieldsValue({containerName:i.containerName})}else{var ie;(ie=O.current)===null||ie===void 0||ie.setFieldsValue({containerName:o.container_name})}if(i!=null&&i.environment){var de;(de=O.current)===null||de===void 0||de.setFieldsValue({environment:i.environment})}else{var U;(U=O.current)===null||U===void 0||U.setFieldsValue({environment:o.environment&&Object.keys(o.environment).map(function(z){return{name:z,value:o.environment&&o.environment[z]?o.environment[z]:""}})})}if(i!=null&&i.ports){var he;(he=O.current)===null||he===void 0||he.setFieldsValue({ports:i.ports})}else{var fe;(fe=O.current)===null||fe===void 0||fe.setFieldsValue({ports:o.ports&&o.ports.map(function(z){return{host:z.published,dest:String(z.target)}})})}if(i!=null&&i.volumes){var pe;(pe=O.current)===null||pe===void 0||pe.setFieldsValue({volumes:i.volumes})}else{var ve;(ve=O.current)===null||ve===void 0||ve.setFieldsValue({volumes:o.volumes&&o.volumes.map(function(z){return{host:z.source,dest:z.target,permission:z.read_only?"read":"write"}})})}if(i!=null&&i.replace){var ge;(ge=O.current)===null||ge===void 0||ge.setFieldsValue({replace:i.replace})}else{var Pe;(Pe=O.current)===null||Pe===void 0||Pe.setFieldsValue({replace:o.depends_on&&Object.keys(o.depends_on).map(function(z){return{depend:z,target:""}})})}Z(!0)}}}),(0,t.jsxs)(_.a,{open:te,onOpenChange:function(o){Z(o)},drawerProps:{forceRender:!0},formRef:O,title:"\u7F16\u8F91\u5BB9\u5668\u670D\u52A1",onFinish:function(){var G=M()(T()().mark(function o(i){return T()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return N.onFinish&&N.onFinish(i),R.abrupt("return",!0);case 2:case"end":return R.stop()}},o)}));return function(o){return G.apply(this,arguments)}}(),children:[(0,t.jsxs)(L.Z,{children:[(0,t.jsx)(E.Z,{label:"\u670D\u52A1\u540D\u79F0",name:"name",disabled:!0}),(0,t.jsx)(E.Z,{label:"\u5BB9\u5668\u540D\u79F0",name:"containerName",tooltip:"\u6307\u5B9A\u5BB9\u5668\u540D\u79F0\u540E\uFF0C\u65E0\u6CD5\u591A\u6B21\u90E8\u7F72\u3002\u4E3A\u7A7A\u65F6\u7531 compose \u81EA\u52A8\u751F\u6210"})]}),(0,t.jsx)(Ze.Z,{showInDrawer:!0}),(0,t.jsx)(D.Z,{showAddButton:!0,showInDrawer:!0,showImportButton:!0}),(0,t.jsx)(ye.Z,{showInDrawer:!0}),(0,t.jsx)(r,{})]},"create")}),De=me,Q=e(89063),Ee=e(24963),ae=e(90098),oe=e(45742),B=e(91806),xe=e(27496),je=e(43425),be=e(97269),Fe=e(2236),Oe=e(62370),Be=e(86615),ue=e(97462),Me=e(90672),Se=e(95213),Le=e(95089),Ae=e(54006),Ue=e(63490),Ie=e(42075),We=e(66309),we=e(96074),Re=e(91845);function _e(){var N=(0,g.useContext)(Ee.Z),ee=N.loading,k=(0,Ae.useNavigate)(),q=(0,g.useState)([]),te=F()(q,2),Z=te[0],O=te[1],G=(0,g.useRef)(),o=(0,g.useRef)(),i=(0,g.useRef)(),X=(0,Ae.useSearchParams)(),R=F()(X,2),le=R[0],se=R[1],ie=(0,g.useState)(),de=F()(ie,2),U=de[0],he=de[1],fe=(0,g.useState)("text"),pe=F()(fe,2),ve=pe[0],ge=pe[1],Pe=(0,g.useState)(""),z=F()(Pe,2),Ke=z[0],Ve=z[1],Ce=function(){var K=M()(T()().mark(function u(n){var p,d;return T()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(n.yaml){c.next=2;break}return c.abrupt("return");case 2:return c.next=4,(0,ae.xC)({yaml:n.yaml});case 4:if(d=c.sent,!(!d||!d.data||!d.data.project)){c.next=7;break}return c.abrupt("return");case 7:(p=i.current)===null||p===void 0||p.setFieldValue("yaml",n.yaml),n.disableSetYaml||Ve(n.yaml),d.data.project&&O(Object.keys(d.data.project.services).map(function(C,ce){var S=d.data.project.services[C];if(n.override&&n.override[C]){var Te=n.override[C];Te.ports&&(S.ports=Te.ports.map(function(ne){return{target:parseInt(ne.dest),published:ne.host}})),Te.replace&&Te.replace.map(function(ne){S.depends_on&&S.depends_on[ne.depend]&&ne.target&&(S.depends_on["".concat(ne.target,":").concat(ne.depend)]=S.depends_on[ne.depend],delete S.depends_on[ne.depend])})}return S.name=C,S}));case 10:case"end":return c.stop()}},u)}));return function(n){return K.apply(this,arguments)}}(),Ne=function(u){var n=u.matchAll(/\$\{(\w+)[:-]?(.*)\}/g),p=P()(n),d;try{for(p.s();!(d=p.n()).done;){var h,c=d.value;(h=G.current)===null||h===void 0||h.addEnvItem(c[1],c[2]?c[2].indexOf("-")==0?c[2].substring(1):c[2]:"")}}catch(C){p.e(C)}finally{p.f()}};return(0,g.useEffect)(function(){var K=le.get("id");K&&(ee.show(),(0,ae.YZ)({id:parseInt(K)}).then(function(u){var n;if(he(u.data.detail),ge(u.data.detail.setting.type),u.data.detail.setting.type==""&&(u.data.detail.setting.type="text"),(n=i.current)===null||n===void 0||n.setFieldsValue({name:u.data.detail.name,title:u.data.detail.title,type:u.data.detail.setting.type,yaml:u.data.detail.yaml,override:u.data.detail.setting.override}),u.data.detail.setting.type=="remoteUrl"){var p;(p=i.current)===null||p===void 0||p.setFieldValue("remoteUrl",u.data.detail.setting.uri[0])}else if(u.data.detail.setting.type=="serverPath"){var d;(d=i.current)===null||d===void 0||d.setFieldValue("serverPath",u.data.detail.setting.uri[0])}else if(u.data.detail.setting.type=="storagePath"){var h;(h=i.current)===null||h===void 0||h.setFieldValue("storagePath","/dpanel/compose/"+u.data.detail.setting.uri[0])}Ce({yaml:u.data.detail.yaml,override:u.data.detail.setting.override})}).finally(function(){ee.destroy()}))},[]),(0,t.jsx)(be.A,{submitter:{render:function(u,n){return(0,t.jsx)(Fe.S,{children:n})}},formRef:i,onFinish:function(){var K=M()(T()().mark(function u(n){var p,d,h;return T()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return p={type:n.type,name:n.name,title:n.title,override:n.override},U!=null&&U.id&&(p.id=U.id),n.type=="text"?p.yaml=n.yaml:n.type=="remoteUrl"?p.remoteUrl=n.remoteUrl:n.type=="serverPath"&&(p.serverPath=n.serverPath),C.next=5,(0,ae.im)(p);case 5:if(d=C.sent,!d.data.id){C.next=10;break}return(h=i.current)===null||h===void 0||h.resetFields(),k("/compose/deploy/"+d.data.id),C.abrupt("return",!0);case 10:return C.abrupt("return",!1);case 11:case"end":return C.stop()}},u)}));return function(u){return K.apply(this,arguments)}}(),children:(0,t.jsxs)(L.Z,{split:"vertical",children:[(0,t.jsxs)(L.Z,{split:"horizontal",colSpan:"55%",children:[(0,t.jsxs)(L.Z,{title:(0,t.jsx)(oe.Z,{}),subTitle:"\u57FA\u7840\u4FE1\u606F",children:[(0,t.jsx)(E.Z,{label:"\u7AD9\u70B9\u540D\u79F0",name:"title",fieldProps:{onChange:function(u){var n="";if(u.target.value&&!U){var p,d=(0,Re.N9)(u.target.value.trim(),{toneType:"none",type:"array"});n=d.join(""),(p=i.current)===null||p===void 0||p.setFieldValue("name",n)}}}}),(0,t.jsx)(E.Z,{label:"\u7AD9\u70B9\u6807\u8BC6",name:"name",required:!0,rules:[{required:!0}],disabled:!!U,placeholder:"\u6807\u8BC6Compose\u521B\u5EFA\u7684\u5BB9\u5668\u7EC4\uFF0C\u53EA\u5141\u8BB8\u4E3A\u82F1\u6587\u6216\u662F\u6570\u5B57"}),(0,t.jsx)(Oe.Z,{name:"override"}),(0,t.jsx)(Be.Z.Group,{label:"Yaml \u6765\u6E90",name:"type",initialValue:"text",fieldProps:{defaultValue:"text",onChange:function(){}},options:[{label:"yaml",value:"text",disabled:(U==null?void 0:U.setting.type)=="storagePath"},{label:"\u8FDC\u7A0B\u5730\u5740",value:"remoteUrl",disabled:(U==null?void 0:U.setting.type)=="storagePath"},{label:"\u9762\u677F\u5BB9\u5668\u5185\u8DEF\u5F84",value:"serverPath",disabled:(U==null?void 0:U.setting.type)=="storagePath"},{label:"\u81EA\u52A8\u53D1\u73B0",value:"storagePath"}]}),(0,t.jsx)(ue.Z,{name:["type"],children:function(u){var n=u.type;if(n=="text")return(0,t.jsx)(Q.Z,{title:"\u5BFC\u5165\u672C\u5730 compose \u6587\u4EF6",onImport:function(d){return Ce({yaml:d}),!0},onLoad:function(d){if(d.indexOf("services:")<0)throw new Error("\u5BFC\u5165\u7684compose\u6587\u4EF6\u9519\u8BEF");return!0}});if(n=="remoteUrl")return(0,t.jsx)(E.Z,{label:"",required:!0,rules:[{required:!0}],name:"remoteUrl",placeholder:"\u8BF7\u8F93\u5165\u8FDC\u7A0B docker-compose.yaml \u94FE\u63A5",fieldProps:{onBlur:function(){var p=M()(T()().mark(function h(c){var C;return T()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(c.target.value){S.next=2;break}return S.abrupt("return");case 2:return ee.show(),S.next=5,(0,ae.MG)({uri:c.target.value});case 5:C=S.sent,ee.destroy(),C&&C.data&&C.data.content&&Ce({yaml:C.data.content});case 8:case"end":return S.stop()}},h)}));function d(h){return p.apply(this,arguments)}return d}()}});if(n=="serverPath")return(0,t.jsx)(E.Z,{label:"",required:!0,rules:[{required:!0}],name:"serverPath",placeholder:"\u8BF7\u6307\u5B9A\u9762\u677F\u5BB9\u5668\u5185\u7684\u76EE\u5F55\uFF0C\u5BBF\u4E3B\u673A\u76EE\u5F55\u9700\u8981\u5148\u6302\u8F7D\u5230\u9762\u677F\u5BB9\u5668\u4E2D",initialValue:"",fieldProps:{onBlur:function(){var p=M()(T()().mark(function h(c){var C;return T()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(c.target.value){S.next=2;break}return S.abrupt("return");case 2:return S.next=4,(0,ae.MG)({uri:c.target.value});case 4:C=S.sent,C&&C.data&&C.data.content&&Ce({yaml:C.data.content});case 6:case"end":return S.stop()}},h)}));function d(h){return p.apply(this,arguments)}return d}()}});if(n=="storagePath")return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(E.Z,{name:"storagePath",required:!0,disabled:!0,placeholder:"\u6302\u8F7D /dpanel/compose \u76EE\u5F55\u540E\uFF0C\u81EA\u52A8\u53D1\u73B0\u3002",rules:[{required:!0,message:"\u6302\u8F7D /dpanel/compose \u76EE\u5F55\u540E\uFF0C\u81EA\u52A8\u53D1\u73B0\u3002"}]})})}})]}),(0,t.jsx)(De,{ref:o,onFinish:function(u){var n,p,d=(n=i.current)===null||n===void 0?void 0:n.getFieldValue("override");d||(d={}),d[u.name]=u,O(a()(Z.map(function(h){return h.name==u.name&&(u.ports&&(h.ports=u.ports.map(function(c){return{target:parseInt(c.dest),published:c.host}})),u.replace&&u.replace.map(function(c){h.depends_on&&h.depends_on[c.depend]&&c.target&&(h.depends_on["".concat(c.target,":").concat(c.depend)]=h.depends_on[c.depend],delete h.depends_on[c.depend])})),h}))),(p=i.current)===null||p===void 0||p.setFieldValue("override",d)}}),(0,t.jsx)(L.Z,{title:(0,t.jsx)(B.Z,{}),subTitle:"\u670D\u52A1\u5217\u8868",children:(0,t.jsx)(Ue.Z,{dataSource:Z,rowKey:"name",pagination:!1,columns:[{title:"\u540D\u79F0",dataIndex:"name"},{title:"\u955C\u50CF",dataIndex:"image"},{title:"\u7AEF\u53E3",dataIndex:"ports",render:function(u,n,p){return n.ports&&n.ports.map(function(d,h){return(0,t.jsx)(Ie.Z,{size:"large",wrap:!0,children:(0,t.jsxs)(We.Z,{color:"#2db7f5",icon:d.published?(0,t.jsx)(xe.Z,{}):"",style:{marginBottom:5},children:[d.published," : ",d.target]})},"space".concat(h))})}},{title:"\u4F9D\u8D56",dataIndex:"dependsOn",width:150,render:function(u,n,p){if(n.depends_on)return(0,t.jsx)(Ie.Z,{wrap:!0,children:Object.keys(n.depends_on).map(function(d){var h=d;return n.external_links&&n.external_links.map(function(c){c.indexOf(":"+d)>-1&&(h=c)}),h})})}},{title:"\u64CD\u4F5C",width:80,render:function(u,n,p){return(0,t.jsx)(Ie.Z,{split:(0,t.jsx)(we.Z,{type:"vertical"}),children:(0,t.jsx)($.ZP,{type:"link",onClick:function(){var h,c=(h=i.current)===null||h===void 0?void 0:h.getFieldValue("override");if(c&&c[n.name]){var C;(C=o.current)===null||C===void 0||C.edit(n,c[n.name])}else{var ce;(ce=o.current)===null||ce===void 0||ce.edit(n)}return!1},children:(0,t.jsx)(b.Z,{title:"\u7F16\u8F91\u670D\u52A1",children:(0,t.jsx)(je.Z,{})})},"manage")})}}]})})]}),(0,t.jsxs)(L.Z,{title:(0,t.jsx)(oe.Z,{}),subTitle:"compose.yaml",children:[(0,t.jsx)(Me.Z,{name:"yaml",hidden:!0}),(0,t.jsx)(Le.ZP,{theme:"dark",minHeight:"550px",onChange:function(u,n){var p;(p=i.current)===null||p===void 0||p.setFieldValue("yaml",u)},onBlur:function(){var u;Ce({yaml:(u=i.current)===null||u===void 0?void 0:u.getFieldValue("yaml"),disableSetYaml:!0})},readOnly:ve!="text",value:Ke,extensions:[Se.RI.yaml()]})]})]})},"create")}},90098:function(re,W,e){e.d(W,{GG:function(){return $},MG:function(){return x},Oh:function(){return g},U_:function(){return v},YZ:function(){return F},ik:function(){return L},im:function(){return T},mg:function(){return I},pm:function(){return M},xC:function(){return t}});var f=e(15009),a=e.n(f),H=e(99289),P=e.n(H),y=e(54006);function T(m){return w.apply(this,arguments)}function w(){return w=P()(a()().mark(function m(j){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,y.request)("/api/app/compose/create",{method:"POST",data:j}));case 1:case"end":return r.stop()}},m)})),w.apply(this,arguments)}function M(m){return A.apply(this,arguments)}function A(){return A=P()(a()().mark(function m(j){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,y.request)("/api/app/compose/get-list",{method:"POST",data:j}));case 1:case"end":return r.stop()}},m)})),A.apply(this,arguments)}function F(m){return _.apply(this,arguments)}function _(){return _=P()(a()().mark(function m(j){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,y.request)("/api/app/compose/get-detail",{method:"POST",data:j}));case 1:case"end":return r.stop()}},m)})),_.apply(this,arguments)}function L(m){return E.apply(this,arguments)}function E(){return E=P()(a()().mark(function m(j){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,y.request)("/api/app/compose/delete",{method:"POST",data:j}));case 1:case"end":return r.stop()}},m)})),E.apply(this,arguments)}function g(m){return D.apply(this,arguments)}function D(){return D=P()(a()().mark(function m(j){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,y.request)("/api/app/compose/container-deploy",{method:"POST",data:j}));case 1:case"end":return r.stop()}},m)})),D.apply(this,arguments)}function I(m){return b.apply(this,arguments)}function b(){return b=P()(a()().mark(function m(j){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,y.request)("/api/app/compose/container-destroy",{method:"POST",data:j}));case 1:case"end":return r.stop()}},m)})),b.apply(this,arguments)}function $(m){return Y.apply(this,arguments)}function Y(){return Y=P()(a()().mark(function m(j){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,y.request)("/api/app/compose/container-ctrl",{method:"POST",data:j}));case 1:case"end":return r.stop()}},m)})),Y.apply(this,arguments)}function v(m){return l.apply(this,arguments)}function l(){return l=P()(a()().mark(function m(j){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,y.request)("/api/app/compose/container-process-kill",{method:"POST",data:j}));case 1:case"end":return r.stop()}},m)})),l.apply(this,arguments)}function x(m){return s.apply(this,arguments)}function s(){return s=P()(a()().mark(function m(j){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,y.request)("/api/app/compose/get-from-uri",{method:"POST",data:j}));case 1:case"end":return r.stop()}},m)})),s.apply(this,arguments)}function t(m){return J.apply(this,arguments)}function J(){return J=P()(a()().mark(function m(j){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,y.request)("/api/app/compose/parse",{method:"POST",data:j}));case 1:case"end":return r.stop()}},m)})),J.apply(this,arguments)}},60335:function(re,W,e){e.d(W,{IE:function(){return M},IW:function(){return T},KK:function(){return g},LJ:function(){return I},Re:function(){return $},eE:function(){return L},jV:function(){return F}});var f=e(15009),a=e.n(f),H=e(99289),P=e.n(H),y=e(54006);function T(v){return w.apply(this,arguments)}function w(){return w=P()(a()().mark(function v(l){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,y.request)("/api/app/container/status",{method:"POST",data:l}));case 1:case"end":return s.stop()}},v)})),w.apply(this,arguments)}function M(v){return A.apply(this,arguments)}function A(){return A=P()(a()().mark(function v(l){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,y.request)("/api/app/container/get-list",{data:l,method:"POST"}));case 1:case"end":return s.stop()}},v)})),A.apply(this,arguments)}function F(v){return _.apply(this,arguments)}function _(){return _=P()(a()().mark(function v(l){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,y.request)("/api/app/container/get-detail",{data:l,method:"POST"}));case 1:case"end":return s.stop()}},v)})),_.apply(this,arguments)}function L(v){return E.apply(this,arguments)}function E(){return E=P()(a()().mark(function v(l){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,y.request)("/api/app/container/update",{data:l,method:"POST"}));case 1:case"end":return s.stop()}},v)})),E.apply(this,arguments)}function g(){return D.apply(this,arguments)}function D(){return D=P()(a()().mark(function v(){return a()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,y.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return x.stop()}},v)})),D.apply(this,arguments)}function I(v){return b.apply(this,arguments)}function b(){return b=P()(a()().mark(function v(l){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,y.request)("/api/app/container/export",{method:"POST",data:l,responseType:"blob"}));case 1:case"end":return s.stop()}},v)})),b.apply(this,arguments)}function $(v){return Y.apply(this,arguments)}function Y(){return Y=P()(a()().mark(function v(l){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,y.request)("/api/app/container/commit",{method:"POST",data:l}));case 1:case"end":return s.stop()}},v)})),Y.apply(this,arguments)}}}]);
