"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8566],{1699:function(se,U,t){t.d(U,{u:function(){return x}});var R=t(9783),l=t.n(R),Z=t(97857),c=t.n(Z),y=t(67294),O=t(82346),E=t(40411),v=t(42075),D=t(85893),x=function(n){var i=(0,O.useAccess)(),s=Array.isArray(n.access)?n.access:[n.access],_,u=n.fallback;if(typeof n.children=="function"?(_=n.children(s.reduce(function($,e){return c()(c()({},$),{},l()({},e,i[e]))},{})),_||(_=u)):s.every(function($){return i[$]})?_=n.children:_=u,!u&&_&&n.showProTips&&i.canSeeEnableCe){if(i.canSeeEnableHiddenProTips)return null;_=(0,D.jsx)(E.Z,{offset:n.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:_})}if(!u&&_&&n.showProRibbonTips&&i.canSeeEnableCe){if(i.canSeeEnableHiddenProTips)return null;_=(0,D.jsx)(E.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:_})}return n.space?(0,D.jsx)(v.Z,c()(c()({},n.space),{},{children:_})):_}},80821:function(se,U,t){t.d(U,{Z:function(){return T}});var R=t(97857),l=t.n(R),Z=t(5574),c=t.n(Z),y=t(24963),O=t(86738),E=t(28036),v=t(83062),D=t(67294),x=t(85893);function T(n){var i=(0,D.useState)(!1),s=c()(i,2),_=s[0],u=s[1],$=(0,D.useContext)(y.Z),e=$.lang,C=$.message,ne=function(){u(!0);var B=n.action();B instanceof Promise?B.then(function(P){if(u(!1),P){typeof n.onSuccess=="function"&&n.onSuccess(P);var f="";n.messageSuccess?typeof n.messageSuccess=="function"?f=n.messageSuccess(P):f=n.messageSuccess.indexOf("notification.")==0?e(n.messageSuccess):n.messageSuccess:f=e("notification.finish"),n.asynced?C.info(f):C.success(f)}}).catch(function(P){u(!1),typeof n.onError=="function"&&n.onError(P)}):u(!1)};return n.confirm?(0,x.jsx)(O.Z,l()(l()({style:{width:500},title:n.confirmTitle?n.confirmTitle:e("notification.title.tip"),description:typeof n.confirm=="string"&&n.confirm.indexOf("notification.")==0?e(n.confirm):n.confirm,onConfirm:ne,okText:"Yes",cancelText:"No",onOpenChange:n.confirmOnOpenChange},n.confirmProps),{},{children:(0,x.jsx)(E.ZP,{block:n.block,disabled:n.disabled,icon:!n.children&&_?void 0:n.icon,loading:_,danger:n.danger,type:n.type,children:n.children})})):(0,x.jsx)(v.Z,{title:n.tips,children:(0,x.jsx)(E.ZP,{block:n.block,style:n.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:n.disabled,icon:!n.children&&_?void 0:n.icon,loading:_,onClick:ne,danger:n.danger,type:n.type,children:n.children})})}},27619:function(se,U,t){t.d(U,{Z:function(){return E}});var R=t(5574),l=t.n(R),Z=t(82346),c=t(67294),y=t(64389),O=t(85893);function E(v){var D=(0,Z.useModel)("@@initialState"),x=D.initialState,T="chart-area-".concat(v.name),n=(0,c.useState)(),i=l()(n,2),s=i[0],_=i[1],u={};v.data.forEach(function(e){e.show===!1?u[e.name]=!1:u[e.name]=!0});var $={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}},valueFormatter:function(C){return v.yValueFormatter?v.yValueFormatter(C):C}},legend:{selected:u},grid:{left:"0",right:"0",bottom:"0",top:"30",containLabel:!0},xAxis:{type:"category",data:v.data[0].data.map(function(e){return e.date}),boundaryGap:!1,axisLabel:{rotate:20}},yAxis:{type:"value",axisLabel:{formatter:v.yLabelFormatter},max:function(C){if(v.yDomainMaxCallback)return v.yDomainMaxCallback(C)}},series:[]};return(0,c.useEffect)(function(){var e="",C=window.matchMedia("(prefers-color-scheme: dark)");(x==null?void 0:x.theme.algorithm)=="dark"||C.matches?e="dark":e="",s&&!s.isDisposed()&&s.dispose();var ne=document.getElementById(T),re=y.S1(ne,e);re.setOption($);var B=new ResizeObserver(function(){re.resize()});ne&&B.observe(ne),_(re)},[x]),(0,c.useEffect)(function(){s&&!s.isDisposed()&&s.setOption({legend:{data:v.data.map(function(e){return e.name})},xAxis:{data:v.data[0].data.map(function(e){return e.date})},series:v.data.map(function(e){return{name:e.name,type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:e.data.map(function(C){return C.value})}})})},[v.data]),(0,O.jsx)("div",{style:{height:200},id:T})}},3616:function(se,U,t){t.d(U,{Ed:function(){return c},FK:function(){return l},R_:function(){return R},ob:function(){return Z}});var R=window.innerWidth<=1024?"90vw":"65vw",l="90vw",Z="60vw",c="50vh"},24963:function(se,U,t){var R=t(67294),l=(0,R.createContext)({});U.Z=l},55617:function(se,U,t){t.r(U),t.d(U,{default:function(){return Ye}});var R=t(15009),l=t.n(R),Z=t(99289),c=t.n(Z),y=t(5574),O=t.n(y),E=t(19632),v=t.n(E),D=t(1699),x=t(80821),T=t(27619),n=t(3616),i=t(5251),s=t(36146),_=t(184),u=t(25593),$=t(60940),e=t(85893),C=new s.Uo("components.containerStat");function ne(z){return(0,e.jsx)(_.a,{drawerProps:{width:n.R_},title:C.format("detailTitle"),submitter:!1,trigger:(0,e.jsx)(u.Z.Link,{children:s.FD.format("detail")}),children:(0,e.jsx)($.Z,{pagination:!1,dataSource:z.data,rowKey:"name",columns:[{title:C.format("detailTableName"),dataIndex:"name"},{title:"Cpu",dataIndex:"cpu",sorter:function(g,h){return g.cpu-h.cpu},render:function(g,h,N){return"".concat(h.cpu.toFixed(2),"%")}},{title:"Memory",dataIndex:"memory",sorter:function(g,h){return g.memory.in-h.memory.in},render:function(g,h,N){var k,Y;return"".concat((0,i.FI)((k=h==null?void 0:h.memory.in)!==null&&k!==void 0?k:0)," / ").concat((0,i.FI)((Y=h==null?void 0:h.memory.out)!==null&&Y!==void 0?Y:0))}},{title:C.format("detailTableNetwork"),dataIndex:"networkIO",render:function(g,h,N){return"".concat((0,i.FI)(h.networkIO.in)," / ").concat((0,i.FI)(h.networkIO.out))}},{title:C.format("detailTableDisk"),dataIndex:"blockIO",render:function(g,h,N){return"".concat((0,i.FI)(h.blockIO.in)," / ").concat((0,i.FI)(h.blockIO.out))}}]})})}var re=t(97857),B=t.n(re),P=t(67294),f=t(64389),W={tooltip:{show:!0,formatter:function(I){return I&&I.data&&I.data.tooltipItem?I.data.tooltipItem.map(function(g){return"<div>".concat(g.field,": ").concat(g.content,"</div>")}).join(" "):"".concat(I.data.name,": ").concat((0,i.FI)(I.data.value))}},legend:{selectedMode:"single",top:0,itemGap:5},series:[]},S={name:"",type:"treemap",left:0,right:0,top:30,bottom:0,roam:!1,label:{show:!0},levels:[{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}}],sort:!0,leafDepth:1,data:[]},o=new s.Uo("components.containerStat"),Re=(0,P.forwardRef)(function(z,I){var g=z.data.usage,h=(0,P.useState)(),N=O()(h,2),k=N[0],Y=N[1];(0,P.useImperativeHandle)(I,function(){return{}});function ue(){if(!g.Containers||!g.Images){k&&k.setOption({series:[B()(B()({},S),{},{name:"",data:[{name:o.format("usageEmpty"),value:1}]})]});return}var L=[],M=[];g.Containers&&g.Containers.forEach(function(m){var w,ee,te,ae=m.SizeRootFs+((w=m.SizeRw)!==null&&w!==void 0?w:0),oe=[];g.Volumes&&m.Mounts.forEach(function(Q){var le=g.Volumes.find(function(_e){return _e.Name==Q.Name});le&&(ae+=le.UsageData.Size,oe.push({name:o.format("usageVolume",{name:Q.Name}),value:le.UsageData.Size,children:[]}))});var ce={name:(0,i.fi)(m.Names[0],"/"),value:ae,tooltipItem:[{field:(0,i.fi)(m.Names[0],"/"),content:(0,i.FI)(ae)},{field:o.format("usageContainerRootFs"),content:(0,i.FI)((ee=m.SizeRootFs)!==null&&ee!==void 0?ee:0)},{field:o.format("usageContainerRw"),content:(0,i.FI)((te=m.SizeRw)!==null&&te!==void 0?te:0)}],children:[{name:o.format("usageContainerRootFs"),value:m.SizeRootFs,children:[]},{name:o.format("usageContainerRw"),value:m.SizeRw,children:[]}]};if(oe&&oe.length>0){var me,de;(me=ce.children).push.apply(me,oe),(de=ce.tooltipItem)===null||de===void 0||de.push.apply(de,v()(oe.map(function(Q){var le;return{field:Q.name,content:(0,i.FI)((le=Q.value)!==null&&le!==void 0?le:0)}})))}M.push(ce)}),L.push(B()(B()({},S),{},{name:o.format("usageTitleContainer"),data:M})),M=[],g.Images&&g.Images.forEach(function(m){var w,ee,te,ae;M.push({name:m.RepoTags?m.RepoTags[0]:m.Id.substring(7,19),value:m.Size+((w=m.SharedSize)!==null&&w!==void 0?w:0),tooltipItem:[{field:m.RepoTags?m.RepoTags[0]:m.Id.substring(7,19),content:(0,i.FI)(m.Size+((ee=m.SharedSize)!==null&&ee!==void 0?ee:0))},{field:o.format("usageImageSize"),content:(0,i.FI)((te=m.Size)!==null&&te!==void 0?te:0)},{field:o.format("usageImageSharedSize"),content:(0,i.FI)((ae=m.SharedSize)!==null&&ae!==void 0?ae:0)}],children:[{name:o.format("usageImageSize"),value:m.Size,children:[]},{name:o.format("usageImageSharedSize"),value:m.SharedSize,children:[]}]})}),L.push(B()(B()({},S),{},{name:o.format("usageTitleImage"),data:M})),M=[],g.Volumes&&g.Volumes.forEach(function(m){M.push({name:m.Name,value:m.UsageData.Size,children:[]})}),L.push(B()(B()({},S),{},{name:o.format("usageTitleVolume"),data:M})),L&&L.length>0&&k&&k.setOption({series:L,legend:{data:L.map(function(m){return m.name})}})}return(0,P.useEffect)(function(){var L=document.getElementById("docker-disk-usage"),M=f.S1(L);M.setOption(W);var m=new ResizeObserver(function(){M&&M.resize()});return L&&m.observe(L),Y(M),function(){k&&k.dispose(),Y(void 0)}},[]),(0,P.useEffect)(function(){k&&ue()},[k]),(0,e.jsx)("div",{style:{height:450},id:"docker-disk-usage"})}),ke=Re,Le=t(55241),be=t(71230),ye=t(15746),we=t(38703),Ze=(0,P.forwardRef)(function(z,I){return(0,P.useImperativeHandle)(I,function(){return{}}),(0,e.jsxs)(Le.Z,{placement:"left",children:[(0,e.jsx)(be.Z,{justify:"center",children:(0,e.jsx)(ye.Z,{children:(0,e.jsx)(we.Z,{percent:z.showPercent,type:"dashboard",format:function(h,N){return"".concat(h,"%")},size:150,status:z.showPercent>=100?"exception":"normal"})})}),(0,e.jsx)(be.Z,{justify:"center",children:(0,e.jsxs)(ye.Z,{style:{marginTop:"10px"},children:[z.showLabel,": ",z.showUse," / ",z.showTotal]})})]})}),De=Ze,We=t(24963),Ae=t(87662),he=t(2831),Fe=t(18148),Ee=t(89075),$e=t(20578),Be=t(45605),Ke=t(1210),fe=t(12122),A=t(38345),K=t(88273),q=t(82346),ie=t(42075),ze=t(28036),H=t(26412),ve=t(83062),Ne=t(40411),Ve=t(86250),Ge=t(93162),d=new s.Uo("system.home.overview"),He=function(I,g){switch(g.type){case"update":var h=new Date().toLocaleTimeString(),N=0,k=0,Y=0,ue=0,L=0,M=0;g.payload.map(function(w){N+=w.cpu,k+=w.memory.in,Y+=w.networkIO.in,ue+=w.networkIO.out,L+=w.blockIO.in,M+=w.blockIO.out});var m={list:g.payload,cpu:N,memory:k,network:[{name:d.format("runStatNetworkOut"),data:[].concat(v()(I.network[0].data.slice(-20)),[{date:h,value:ue}])},{name:d.format("runStatNetworkIn"),data:[].concat(v()(I.network[1].data.slice(-20)),[{date:h,value:Y}])}],io:[{name:d.format("runStatIoOut"),data:[].concat(v()(I.io[0].data.slice(-20)),[{date:h,value:M}])},{name:d.format("runStatIoIn"),data:[].concat(v()(I.io[1].data.slice(-20)),[{date:h,value:L}])}]};return m}};function Ye(){var z,I,g,h,N,k,Y,ue,L,M,m,w,ee,te,ae,oe,ce,me,de,Q=(0,q.useAccess)(),le=(0,P.useState)(),_e=O()(le,2),ge=_e[0],Qe=_e[1],Xe=(0,P.useState)(),Pe=O()(Xe,2),X=Pe[0],Je=Pe[1],qe=(0,P.useState)(),Se=O()(qe,2),r=Se[0],et=Se[1],tt=(0,P.useState)(),Ie=O()(tt,2),a=Ie[0],at=Ie[1],nt=(0,P.useState)(),xe=O()(nt,2),pe=xe[0],rt=xe[1],st=(0,P.useReducer)(He,{cpu:0,memory:0,network:[{name:"\u4E0A\u884C",data:[]},{name:"\u4E0B\u884C",data:[]}],io:[{name:"\u8BFB\u53D6",data:[]},{name:"\u5199\u5165",data:[]}],list:[]}),Te=O()(st,2),F=Te[0],Oe=Te[1],it=(0,P.useContext)(We.Z),Ue=it.loading,Ce=(0,q.useModel)("subscriber");Ce.addDataHandler("container:stat",function(p){Oe({type:"update",payload:p.data})});function Me(){return je.apply(this,arguments)}function je(){return je=c()(l()().mark(function p(){var j,b,J;return l()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return Ue.show(),G.next=3,(0,he.aF)().finally(function(){Ue.destroy()});case 3:return j=G.sent,et(j.data),G.next=7,(0,he.Ll)();case 7:return b=G.sent,at(b.data),G.next=11,(0,Ae.Cz)({follow:!0});case 11:J=G.sent,Oe({type:"update",payload:[]});case 13:case"end":return G.stop()}},p)})),je.apply(this,arguments)}return(0,P.useEffect)(function(){return Me(),!Q.canSeeEnableCe&&(0,Ee.YQ)().then(function(p){Qe(p.data)}),!Q.canSeeEnableCe&&(0,$e.q)().then(function(p){Je(p.data)}),(0,he.u5)().then(function(p){rt(p.data)}),function(){Ce.progress.close("container:stat")}},[]),(0,e.jsxs)(A.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,e.jsxs)(A.Z,{bordered:!0,split:"vertical",wrap:!0,children:[(0,e.jsx)(A.Z,{style:{height:"570px",overflow:"hidden"},colSpan:{xs:24,sm:24,md:24,lg:9,xl:9},headerBordered:!0,title:(0,e.jsx)(Be.Z,{}),subTitle:d.format("basicInfoTitle"),extra:(0,e.jsx)(ie.Z,{children:Q.canSeeEnableCe?Q.canSeeEnableInDPanel&&(0,e.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/manual/pro",target:"_blank",children:d.format("basicProBuy")},"proLink"):ge&&ge.expireTime?(0,e.jsxs)("span",{children:[d.format("basicProExpireTime")," ",new Date(ge.expireTime).toLocaleString()]},"expireTime"):(0,e.jsx)(ze.ZP,{type:"link",onClick:c()(l()().mark(function p(){var j,b;return l()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(0,Ee.$w)();case 2:j=V.sent,b=new Blob([j.data.code],{type:"text/plain"}),(0,Ge.saveAs)(b,"dpanel.code");case 5:case"end":return V.stop()}},p)})),children:d.format("basicProCode")},"downloadCode")}),children:(0,e.jsxs)(H.Z,{column:1,labelStyle:{width:100,justifyContent:"flex-end"},children:[(0,e.jsx)(H.Z.Item,{label:d.format("basicDPanelTitleVersion"),children:(0,e.jsxs)(ie.Z,{direction:"horizontal",wrap:!0,children:[r==null?void 0:r.dpanel.version," - ",r==null?void 0:r.dpanel.env," - ",r==null?void 0:r.dpanel.family,Q.canSeeEnableInDPanel&&(0,e.jsx)(ve.Z,{title:d.format("basicDPanelTitleUpgradeInfo"),children:(0,e.jsx)("a",{target:"_blank",href:"https://github.com/donknap/dpanel/releases",children:(0,e.jsx)(Ke.Z,{})})}),pe&&pe.newVersion!=""&&(0,e.jsx)(q.Link,{to:"/system/upgrade",children:(0,e.jsx)(Ne.Z,{count:pe.newVersion,size:"small"})})]})}),(0,e.jsxs)(H.Z.Item,{label:"Docker Host",children:[r==null?void 0:r.info.Name," ",(0,e.jsx)(e.Fragment,{children:(r==null?void 0:r.info.ID)==""&&(0,e.jsx)(q.Link,{to:"/system/env",state:{item:{name:"local",title:d.format("basicDefaultClientName")},t:(0,i.Fs)()},children:d.format("basicEnvSettingDefaultEnv")})})]}),(0,e.jsx)(H.Z.Item,{label:d.format("basicDockerTitleVersion"),children:"".concat(r==null?void 0:r.info.OperatingSystem," - ").concat(r==null?void 0:r.info.ServerVersion," - ").concat(r==null?void 0:r.sdkVersion)}),(0,e.jsx)(H.Z.Item,{label:d.format("basicDockerTitleFileDriver"),children:"".concat(r==null?void 0:r.info.Driver)}),(0,e.jsx)(H.Z.Item,{label:d.format("basicDockerTitleLogDriver"),children:"".concat(r==null?void 0:r.info.LoggingDriver)}),(0,e.jsx)(H.Z.Item,{label:d.format("basicDockerTitleSystemVersion"),children:"".concat(r==null?void 0:r.info.KernelVersion," - ").concat(r==null?void 0:r.info.Architecture)}),(0,e.jsxs)(H.Z.Item,{label:"Cpu",children:[r==null?void 0:r.info.NCPU," ",s.FD.format("unitCpu")]}),(0,e.jsx)(H.Z.Item,{label:"Memory",children:(0,i.FI)((z=r==null?void 0:r.info.MemTotal)!==null&&z!==void 0?z:0)}),(0,e.jsx)(H.Z.Item,{label:d.format("basicDockerTitleRootDir"),children:r==null?void 0:r.info.DockerRootDir}),(0,e.jsx)(H.Z.Item,{label:d.format("basicDockerTitlePluginsVolume"),children:(0,e.jsx)(ie.Z,{children:r==null?void 0:r.info.Plugins.Volume})}),(0,e.jsx)(H.Z.Item,{label:d.format("basicDockerTitlePluginsNetwork"),children:(0,e.jsx)(ie.Z,{wrap:!0,children:r==null?void 0:r.info.Plugins.Network})}),(0,e.jsx)(H.Z.Item,{label:d.format("basicDockerTitleSystemTime"),children:new Date((I=r==null?void 0:r.info.SystemTime)!==null&&I!==void 0?I:"").toLocaleString()})]})}),(0,e.jsxs)(A.Z,{headerBordered:!0,colSpan:{xs:24,sm:24,md:24,lg:15,xl:15},title:(0,e.jsx)(fe.Z,{}),subTitle:d.format("runStatTitle"),split:"horizontal",extra:(0,e.jsx)(ie.Z,{children:F.list&&(0,e.jsx)(ne,{data:F.list})}),children:[(0,e.jsx)(A.Z,{children:(0,e.jsxs)(Ve.Z,{gap:50,align:"center",justify:"space-evenly",children:[(0,e.jsx)(De,{showPercent:parseFloat((((g=F==null?void 0:F.cpu)!==null&&g!==void 0?g:0)/((h=r==null?void 0:r.info.NCPU)!==null&&h!==void 0?h:0)).toFixed(2)),showLabel:"Cpu",showUse:"".concat(((N=F==null?void 0:F.cpu)!==null&&N!==void 0?N:0).toFixed(2)),showTotal:"".concat((k=r==null?void 0:r.info.NCPU)!==null&&k!==void 0?k:0," ").concat(s.FD.format("unitCpu"))}),(0,e.jsx)(De,{showPercent:parseFloat((((Y=F==null?void 0:F.memory)!==null&&Y!==void 0?Y:0)/((ue=r==null?void 0:r.info.MemTotal)!==null&&ue!==void 0?ue:0)*100).toFixed(2)),showLabel:"Memory",showUse:(0,i.FI)((L=F==null?void 0:F.memory)!==null&&L!==void 0?L:0),showTotal:"".concat((0,i.FI)((M=r==null?void 0:r.info.MemTotal)!==null&&M!==void 0?M:0))})]})}),(0,e.jsxs)(A.Z,{split:"vertical",wrap:!0,children:[(0,e.jsx)(A.Z,{colSpan:12,title:(0,e.jsx)(fe.Z,{}),subTitle:d.format("usageNetwork"),headerBordered:!0,children:(0,e.jsx)(T.Z,{data:F.network,yLabelFormatter:function(j){return(0,i.FI)(parseFloat(j))},yDomainMaxCallback:function(j){return j.max*1.5},name:"network"})}),(0,e.jsx)(A.Z,{colSpan:12,title:(0,e.jsx)(fe.Z,{}),subTitle:d.format("usageDisk"),headerBordered:!0,children:(0,e.jsx)(T.Z,{name:"disk",data:F.io,yLabelFormatter:function(j){return(0,i.FI)(parseFloat(j))},yDomainMaxCallback:function(j){return j.max*1.5}})})]})]})]}),(0,e.jsxs)(A.Z,{bordered:!0,headerBordered:!0,title:(0,e.jsx)(fe.Z,{}),subTitle:d.format("usageTitle"),wrap:!0,extra:(0,e.jsx)(ie.Z,{children:(0,e.jsx)("span",{children:a!=null&&a.diskUsage&&a!==null&&a!==void 0&&a.diskUsage.updatedAt?"".concat(d.format("usageLastUpgradeTime")," ").concat(a==null?void 0:a.diskUsage.updatedAt):""},"lastUpdate")},"size"),children:[(0,e.jsx)(A.Z,{colSpan:{xs:24,sm:24,md:24,lg:24,xl:12,xxl:12},ghost:!0,children:(a==null?void 0:a.diskUsage)&&(0,e.jsx)(ke,{data:a==null?void 0:a.diskUsage})}),(0,e.jsxs)(A.Z,{colSpan:{xs:24,sm:8,md:8,lg:8,xl:4,xxl:4},split:"horizontal",ghost:!0,children:[(0,e.jsx)(K.Z,{statistic:{title:(0,e.jsx)(ie.Z,{children:d.format("usageContainer")}),value:a!=null&&a.diskUsage.usage.Containers?(0,i.FI)((m=a.diskUsage.usage.Containers.reduce(function(p,j){var b;return p+j.SizeRootFs+((b=j.SizeRw)!==null&&b!==void 0?b:0)},0))!==null&&m!==void 0?m:0):0,description:d.format("usageDescContainer")}}),(0,e.jsx)(K.Z,{statistic:{title:(0,e.jsx)(ie.Z,{children:d.format("usageImage")}),value:a!=null&&a.diskUsage.usage.Images?(0,i.FI)((w=a.diskUsage.usage.Images.reduce(function(p,j){var b;return p+(j.Size+((b=j.SharedSize)!==null&&b!==void 0?b:0))},0))!==null&&w!==void 0?w:0):0,description:d.format("usageDescImage")}}),(0,e.jsx)(K.Z,{statistic:{title:(0,e.jsx)(ie.Z,{children:d.format("usageVolume")}),value:a!=null&&a.diskUsage.usage.Volumes?(0,i.FI)((ee=a.diskUsage.usage.Volumes.reduce(function(p,j){return p+j.UsageData.Size},0))!==null&&ee!==void 0?ee:0):0,description:d.format("usageDescVolume")}}),(0,e.jsx)(K.Z,{statistic:{title:d.format("usageBuildCache"),value:a!=null&&a.diskUsage.usage.BuildCache?(0,i.FI)((te=a.diskUsage.usage.BuildCache.reduce(function(p,j){return p+j.Size},0))!==null&&te!==void 0?te:0):0,description:(0,e.jsx)(D.u,{access:"canSeeHomeOverviewClear",children:(0,e.jsx)(x.Z,{action:function(){return(0,Fe.c5)()},type:"link",onSuccess:function(){Me()},ghost:!0,children:s.FD.format("clear")})})}})]}),(0,e.jsxs)(A.Z,{colSpan:{xs:24,sm:16,md:16,lg:16,xl:8,xxl:8},ghost:!0,split:"horizontal",children:[(0,e.jsx)(A.Z,{ghost:!0,children:(0,e.jsxs)(K.Z.Group,{children:[(0,e.jsx)(K.Z,{statistic:{title:d.format("usageContainer"),value:(ae=r==null?void 0:r.info.Containers)!==null&&ae!==void 0?ae:0,description:(0,e.jsx)(q.Link,{to:"/app/list",children:s.FD.format("detail")})}}),!Q.canSeeEnableCe&&(0,e.jsx)(K.Z,{statistic:{title:d.format("usageContainerNew"),status:"processing",valueRender:function(j){var b,J,V;return(0,e.jsx)(ve.Z,{title:"".concat(s.FD.format("title.ignore"),": ").concat((b=X==null?void 0:X.ignore)!==null&&b!==void 0?b:0,` 
                      `).concat(s.FD.format("title.ignore"),": ").concat((J=X==null?void 0:X.failed)!==null&&J!==void 0?J:0,` 
                      `).concat(s.FD.format("title.local"),": ").concat((V=X==null?void 0:X.local)!==null&&V!==void 0?V:0),children:X==null?void 0:X.upgrade})}}}),(0,e.jsx)(K.Z,{statistic:{title:s.FD.format("title.warning"),status:"error",valueRender:function(j){var b,J,V,G=0;return a&&a.total&&a.total.containerRunning.stop&&(G+=a.total.containerRunning.stop),a&&a.total&&a.total.containerRunning.pause&&(G+=a.total.containerRunning.pause),a&&a.total&&a.total.containerRunning.unhealthy&&(G+=a.total.containerRunning.unhealthy),(0,e.jsx)(ve.Z,{title:"".concat(s.gb.format("container.status.exited"),": ").concat((b=a==null?void 0:a.total.containerRunning.stop)!==null&&b!==void 0?b:0,`
                      `).concat(s.gb.format("container.status.paused"),": ").concat((J=a==null?void 0:a.total.containerRunning.pause)!==null&&J!==void 0?J:0,` 
                      `).concat(s.gb.format("container.status.unhealthy"),": ").concat((V=a==null?void 0:a.total.containerRunning.unhealthy)!==null&&V!==void 0?V:0),children:G})}}}),(0,e.jsx)(K.Z,{statistic:{title:d.format("usageContainerRecycle"),value:(oe=a==null?void 0:a.total.containerTask)!==null&&oe!==void 0?oe:0,description:(0,e.jsx)(q.Link,{to:"/app/list/recycle",children:s.FD.format("detail")})}})]})}),(0,e.jsxs)(A.Z,{ghost:!0,children:[(0,e.jsx)(K.Z,{statistic:{title:d.format("usageImage"),value:"".concat((ce=(a==null?void 0:a.diskUsage.usage.Images)&&(a==null?void 0:a.diskUsage.usage.Images.length))!==null&&ce!==void 0?ce:0),description:(0,e.jsx)(q.Link,{to:"/image/list",children:s.FD.format("detail")})},chartPlacement:"left"}),(0,e.jsx)(K.Z,{statistic:{title:d.format("usageImageTask"),value:(me=a==null?void 0:a.total.imageTask)!==null&&me!==void 0?me:0,description:(0,e.jsx)(q.Link,{to:"/image/list/recycle",children:s.FD.format("detail")})},chartPlacement:"left"})]}),(0,e.jsxs)(A.Z,{ghost:!0,children:[(0,e.jsx)(K.Z,{statistic:{title:d.format("usageNetwork"),value:a==null?void 0:a.total.network,description:(0,e.jsx)(q.Link,{to:"/docker/network",children:s.FD.format("detail")})},chartPlacement:"left"}),(0,e.jsx)(K.Z,{statistic:{title:d.format("usageNetworkPortBind"),value:a==null?void 0:a.total.port,description:(0,e.jsx)(_.a,{drawerProps:{width:n.R_},submitter:!1,title:d.format("usageNetworkPortBind"),trigger:(0,e.jsx)(u.Z.Link,{children:s.FD.format("detail")}),children:(0,e.jsx)($.Z,{pagination:!1,dataSource:a==null?void 0:a.port,rowKey:"name",columns:[{title:d.format("usageNetworkPortBindHost"),dataIndex:["port","host"],sorter:function(j,b){return parseInt(j.port.host)-parseInt(b.port.host)},render:function(j,b,J){return b.port.host!="0"?"".concat(b.port.hostIp,":").concat(b.port.host):"-"}},{title:d.format("usageNetworkPortBindDest"),dataIndex:["port","dest"]},{title:d.format("usageNetworkPortBindName"),dataIndex:"name",render:function(j,b,J){return(0,i.fi)(b.name,"/")}}]})})},chartPlacement:"left"})]}),(0,e.jsxs)(A.Z,{ghost:!0,children:[(0,e.jsx)(K.Z,{statistic:{title:d.format("usageVolume"),value:(de=(a==null?void 0:a.diskUsage.usage.Volumes)&&(a==null?void 0:a.diskUsage.usage.Volumes.length))!==null&&de!==void 0?de:0,description:(0,e.jsx)(q.Link,{to:"/docker/volume",children:s.FD.format("detail")})},chartPlacement:"left"}),(0,e.jsx)(K.Z,{statistic:{title:d.format("usageBackup"),value:a==null?void 0:a.total.backup,description:(0,e.jsx)(q.Link,{to:"/app/backup",children:s.FD.format("detail")})},chartPlacement:"left"})]})]})]})]})}},2831:function(se,U,t){t.d(U,{Ll:function(){return x},aF:function(){return O},d6:function(){return n},u5:function(){return v}});var R=t(15009),l=t.n(R),Z=t(99289),c=t.n(Z),y=t(82346);function O(){return E.apply(this,arguments)}function E(){return E=c()(l()().mark(function s(){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,y.request)("/api/common/home/info",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},s)})),E.apply(this,arguments)}function v(){return D.apply(this,arguments)}function D(){return D=c()(l()().mark(function s(){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,y.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},s)})),D.apply(this,arguments)}function x(){return T.apply(this,arguments)}function T(){return T=c()(l()().mark(function s(){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,y.request)("/api/common/home/usage",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},s)})),T.apply(this,arguments)}function n(){return i.apply(this,arguments)}function i(){return i=c()(l()().mark(function s(){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,y.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},s)})),i.apply(this,arguments)}},18148:function(se,U,t){t.d(U,{$q:function(){return n},Fj:function(){return ne},KG:function(){return O},KX:function(){return B},T8:function(){return x},Xn:function(){return v},ao:function(){return s},c5:function(){return e},c7:function(){return u}});var R=t(15009),l=t.n(R),Z=t(99289),c=t.n(Z),y=t(82346);function O(f){return E.apply(this,arguments)}function E(){return E=c()(l()().mark(function f(W){return l()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,y.request)("/api/app/image/get-list",{method:"POST",data:W}));case 1:case"end":return o.stop()}},f)})),E.apply(this,arguments)}function v(f){return D.apply(this,arguments)}function D(){return D=c()(l()().mark(function f(W){return l()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,y.request)("/api/app/image/get-list-build",{method:"POST",data:W}));case 1:case"end":return o.stop()}},f)})),D.apply(this,arguments)}function x(f){return T.apply(this,arguments)}function T(){return T=c()(l()().mark(function f(W){return l()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,y.request)("/api/app/image/get-build-task",{method:"POST",data:W});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},f)})),T.apply(this,arguments)}function n(f){return i.apply(this,arguments)}function i(){return i=c()(l()().mark(function f(W){return l()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,y.request)("/api/app/image/delete-build-task",{method:"POST",data:W});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},f)})),i.apply(this,arguments)}function s(f){return _.apply(this,arguments)}function _(){return _=c()(l()().mark(function f(W){return l()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,y.request)("/api/app/image/image-delete",{method:"POST",data:W});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},f)})),_.apply(this,arguments)}function u(){return $.apply(this,arguments)}function $(){return $=c()(l()().mark(function f(){return l()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,y.request)("/api/app/image/image-prune",{method:"POST"});case 2:return S.abrupt("return",S.sent);case 3:case"end":return S.stop()}},f)})),$.apply(this,arguments)}function e(){return C.apply(this,arguments)}function C(){return C=c()(l()().mark(function f(){return l()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,y.request)("/api/app/image/build-prune",{method:"POST"});case 2:return S.abrupt("return",S.sent);case 3:case"end":return S.stop()}},f)})),C.apply(this,arguments)}function ne(f){return re.apply(this,arguments)}function re(){return re=c()(l()().mark(function f(W){return l()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,y.request)("/api/app/image/update-title",{method:"POST",data:W});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},f)})),re.apply(this,arguments)}function B(f){return P.apply(this,arguments)}function P(){return P=c()(l()().mark(function f(W){return l()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,y.request)("/api/app/image/tag-sync",{method:"POST",data:W}));case 1:case"end":return o.stop()}},f)})),P.apply(this,arguments)}},89075:function(se,U,t){t.d(U,{$w:function(){return O},YQ:function(){return v},ax:function(){return x}});var R=t(15009),l=t.n(R),Z=t(99289),c=t.n(Z),y=t(82346);function O(){return E.apply(this,arguments)}function E(){return E=c()(l()().mark(function n(){return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,y.request)("/api/pro/home/get-machine-id",{method:"POST"}));case 1:case"end":return s.stop()}},n)})),E.apply(this,arguments)}function v(){return D.apply(this,arguments)}function D(){return D=c()(l()().mark(function n(){return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,y.request)("/api/pro/home/get-license-info",{method:"POST"}));case 1:case"end":return s.stop()}},n)})),D.apply(this,arguments)}function x(){return T.apply(this,arguments)}function T(){return T=c()(l()().mark(function n(){return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,y.request)("/api/pro/home/login-info",{method:"POST"}));case 1:case"end":return s.stop()}},n)})),T.apply(this,arguments)}},20578:function(se,U,t){t.d(U,{q:function(){return v},w:function(){return O}});var R=t(15009),l=t.n(R),Z=t(99289),c=t.n(Z),y=t(82346);function O(x){return E.apply(this,arguments)}function E(){return E=c()(l()().mark(function x(T){return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,y.request)("/api/pro/container/recycle-restore",{data:T,method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},x)})),E.apply(this,arguments)}function v(){return D.apply(this,arguments)}function D(){return D=c()(l()().mark(function x(){return l()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,y.request)("/api/pro/container/check-all-upgrade",{method:"POST"});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},x)})),D.apply(this,arguments)}}}]);
