"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1050],{86615:function(ne,$,r){var T=r(1413),u=r(45987),K=r(22270),l=r(78045),S=r(67294),x=r(90789),_=r(35510),A=r(85893),i=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],R=S.forwardRef(function(t,d){var y=t.fieldProps,n=t.options,j=t.radioType,O=t.layout,a=t.proFieldProps,G=t.valueEnum,se=(0,u.Z)(t,i);return(0,A.jsx)(_.Z,(0,T.Z)((0,T.Z)({valueType:j==="button"?"radioButton":"radio",ref:d,valueEnum:(0,K.h)(G,void 0)},se),{},{fieldProps:(0,T.Z)({options:n,layout:O},y),proFieldProps:a,filedConfig:{customLightMode:!0}}))}),F=S.forwardRef(function(t,d){var y=t.fieldProps,n=t.children;return(0,A.jsx)(l.ZP,(0,T.Z)((0,T.Z)({},y),{},{ref:d,children:n}))}),p=(0,x.G)(F,{valuePropName:"checked",ignoreWidth:!0}),b=p;b.Group=R,b.Button=l.ZP.Button,b.displayName="ProFormComponent",$.Z=b},52688:function(ne,$,r){var T=r(1413),u=r(45987),K=r(67294),l=r(35510),S=r(85893),x=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],_=K.forwardRef(function(A,i){var R=A.fieldProps,F=A.unCheckedChildren,p=A.checkedChildren,b=A.proFieldProps,t=(0,u.Z)(A,x);return(0,S.jsx)(l.Z,(0,T.Z)({valueType:"switch",fieldProps:(0,T.Z)({unCheckedChildren:F,checkedChildren:p},R),ref:i,valuePropName:"checked",proFieldProps:b,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},t))});$.Z=_},44349:function(ne,$,r){var T=r(97857),u=r.n(T),K=r(17186),l=r(5966),S=r(86250),x=r(67294),_=r(85893),A=(0,x.forwardRef)(function(i,R){var F=(0,x.useRef)();(0,x.useImperativeHandle)(R,function(){return{addItem:function(t,d){var y,n=(y=F.current)===null||y===void 0?void 0:y.getList(),j=!1;if(n==null||n.map(function(a){if(a.name==t){j=!0;return}}),!j){var O;(O=F.current)===null||O===void 0||O.add({name:t,value:d})}},clear:function(){var t;(t=F.current)===null||t===void 0||(t=t.getList())===null||t===void 0||t.map(function(d,y){var n;(n=F.current)===null||n===void 0||n.remove(y)})}}});var p={};return i.hideCopyButton===!0&&(p.copyIconProps=!1),i.hideDeleteButton===!0&&(p.deleteIconProps=!1),(0,_.jsx)(K.u,u()(u()({initialValue:i.initialValue,label:i.label,name:i.name,actionRef:F,creatorButtonProps:i.showAddButton?{creatorButtonText:"\u6DFB\u52A0"+(i.label?i.label:i.name)}:!1,min:i.min?i.min:0},p),{},{children:function(t,d,y){return(0,_.jsx)(S.Z,{justify:i.justify,gap:i.gap,children:i.items.map(function(n){return n.render?(0,_.jsx)("div",{children:n.render&&n.render(t,d,y)},"".concat(i.name,"-").concat(n.name,"-").concat(t.key)):(0,_.jsx)(l.Z,{width:n.width,name:n.name,label:n.label,required:n.required,rules:[{required:n.required}],disabled:n.disabled,placeholder:n.placeholder},"".concat(i.name,"-").concat(n.name,"-").concat(t.key))})})}}))});$.Z=A},65805:function(ne,$,r){r.d($,{Z:function(){return d}});var T=r(97961),u=r(1413),K=r(45987),l=r(88484),S=r(31365),x=r(28036),_=r(67294),A=r(9105),i=r(90789),R=r(85893),F=["fieldProps","action","accept","listType","title","max","icon","buttonProps","disabled","proFieldProps"],p=function(n,j){var O,a=n.fieldProps,G=n.action,se=n.accept,Q=n.listType,J=n.title,me=J===void 0?"\u5355\u51FB\u4E0A\u4F20":J,I=n.max,e=n.icon,c=e===void 0?(0,R.jsx)(l.Z,{}):e,g=n.buttonProps,h=n.disabled,U=n.proFieldProps,ie=(0,K.Z)(n,F),ee=(0,_.useMemo)(function(){var ae;return(ae=ie.fileList)!==null&&ae!==void 0?ae:ie.value},[ie.fileList,ie.value]),te=(0,_.useContext)(A.A),fe=(U==null?void 0:U.mode)||te.mode||"edit",de=(I===void 0||!ee||(ee==null?void 0:ee.length)<I)&&fe!=="read",he=(Q!=null?Q:a==null?void 0:a.listType)==="picture-card";return(0,R.jsx)(S.Z,(0,u.Z)((0,u.Z)({action:G,accept:se,ref:j,listType:Q||"picture",fileList:ee},a),{},{name:(O=a==null?void 0:a.name)!==null&&O!==void 0?O:"file",onChange:function(k){var ce;a==null||(ce=a.onChange)===null||ce===void 0||ce.call(a,k)},children:de&&(he?(0,R.jsxs)("span",{children:[c," ",me]}):(0,R.jsxs)(x.ZP,(0,u.Z)((0,u.Z)({disabled:h||(a==null?void 0:a.disabled)},g),{},{children:[c,me]})))}))},b=(0,i.G)(_.forwardRef(p),{getValueFromEvent:function(n){return n.fileList}}),t=b;function d(y){return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(t,{max:1,title:y.title,label:y.label,required:y.required,rules:[{required:y.required}],fieldProps:{name:"file",accept:y.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(j){return new Promise(function(O){var a;(0,T._2)({path:(a=j.response.data.path)!==null&&a!==void 0?a:""}).then(function(G){O(!0)})})}},name:y.name})})}},24963:function(ne,$,r){var T=r(67294),u=(0,T.createContext)({});$.Z=u},22298:function(ne,$,r){r.r($),r.d($,{default:function(){return We}});var T=r(5574),u=r.n(T),K=r(15009),l=r.n(K),S=r(99289),x=r.n(S),_=r(24963),A=r(87662),i=r(63713);function R(m){return F.apply(this,arguments)}function F(){return F=x()(l()().mark(function m(C){return l()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,i.request)("/api/pro/two-fa/enable",{method:"POST",data:C}));case 1:case"end":return o.stop()}},m)})),F.apply(this,arguments)}function p(){return b.apply(this,arguments)}function b(){return b=x()(l()().mark(function m(){return l()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,i.request)("/api/pro/two-fa/get-setting",{method:"POST"}));case 1:case"end":return E.stop()}},m)})),b.apply(this,arguments)}var t=r(87547),d=r(86548),y=r(97937),n=r(12119),j=r(38345),O=r(97269),a=r(97462),G=r(5966),se=r(52688),Q=r(62370),J=r(28036),me=r(98163),I=r(67294),e=r(85893);function c(){var m=(0,I.useRef)(),C=(0,i.useModel)("@@initialState"),E=C.initialState,o=C.loading,re=C.error,q=C.refresh,N=C.setInitialState,v=(0,I.useContext)(_.Z),Z=v.message,w=v.notice,P=v.lang,M=(0,I.useRef)(),B=(0,I.useState)(0),s=u()(B,2),f=s[0],D=s[1],z=(0,i.useAccess)();return(0,I.useEffect)(function(){p().then(function(W){var L;(L=M.current)===null||L===void 0||L.setFieldsValue({enable:W.data.enable,email:W.data.email,qrcode:W.data.qrcode})})},[f]),(0,e.jsxs)(j.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,e.jsx)(j.Z,{bordered:!0,headerBordered:!0,title:(0,e.jsx)(t.Z,{}),subTitle:"\u7BA1\u7406\u5458",children:(0,e.jsxs)(O.A,{layout:"horizontal",labelAlign:"right",labelCol:{span:3,offset:0},formRef:m,onFinish:function(){var W=x()(l()().mark(function L(V){var Y,H;return l()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,(0,A.Jn)({username:V.username,password:V.password,newPassword:V.newPassword});case 2:if(Y=X.sent,!(Y&&Y.data)){X.next=9;break}return(H=m.current)===null||H===void 0||H.resetFields(),Z.success("\u4FEE\u6539\u7BA1\u7406\u5458\u7528\u6237\u540D\u548C\u5BC6\u7801\u6210\u529F"),localStorage.removeItem("token"),q(),X.abrupt("return",!0);case 9:case"end":return X.stop()}},L)}));return function(L){return W.apply(this,arguments)}}(),children:[(0,e.jsx)(a.Z,{name:["enableUsername"],children:function(L){var V=L.enableUsername;return(0,e.jsx)(G.Z,{label:"\u7528\u6237\u540D",name:"username",style:{width:"80%"},initialValue:E==null?void 0:E.user.username,disabled:!V,addonAfter:[(0,e.jsx)(J.ZP,{type:"link",hidden:!!V,icon:(0,e.jsx)(d.Z,{}),onClick:function(){var H;(H=m.current)===null||H===void 0||H.setFieldValue("enableUsername",!0)}},"editBtn"),(0,e.jsx)(J.ZP,{type:"link",hidden:!V,icon:(0,e.jsx)(y.Z,{}),onClick:function(){var H;(H=m.current)===null||H===void 0||H.setFieldValue("enableUsername",!1)}},"closeBtn")]},"username")}}),(0,e.jsx)(G.Z.Password,{label:"\u5F53\u524D\u5BC6\u7801",name:"password",placeholder:"\u8F93\u5165\u7BA1\u7406\u5458\u5F53\u524D\u5BC6\u7801",rules:[{required:!0}]},"password"),(0,e.jsx)(G.Z.Password,{label:"\u65B0\u5BC6\u7801",name:"newPassword"},"newPasword"),(0,e.jsx)(a.Z,{name:["newPassword"],children:function(L){var V=L.newPassword;return(0,e.jsx)(G.Z.Password,{label:"\u786E\u8BA4\u65B0\u5BC6\u7801",name:"newPassword2",dependencies:["newPassword"],rules:[{required:typeof V!="undefined"&&V!=""},function(Y){var H=Y.getFieldValue;return{validator:function(X,Se){return!Se||H("newPassword")===Se?Promise.resolve():Promise.reject(new Error("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4"))}}}]},"newPasword2")}})]})}),z.canSeeTwoFa&&(0,e.jsx)(j.Z,{bordered:!0,headerBordered:!0,title:(0,e.jsx)(n.Z,{}),subTitle:"\u767B\u5F55\u53CC\u56E0\u7D20\u914D\u7F6E",children:(0,e.jsxs)(O.A,{onFinish:function(){var W=x()(l()().mark(function L(V){var Y,H;return l()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,R({email:V.email,enable:V.enable});case 2:Y=X.sent,Y&&Y.data.qrcode&&((H=M.current)===null||H===void 0||H.setFieldValue("qrcode",Y.data.qrcode)),D(f+1);case 5:case"end":return X.stop()}},L)}));return function(L){return W.apply(this,arguments)}}(),formRef:M,layout:"horizontal",labelAlign:"right",labelCol:{span:3,offset:0},children:[(0,e.jsx)(se.Z,{label:"\u5F00\u542F",name:"enable"}),(0,e.jsx)(G.Z,{label:"\u90AE\u7BB1",name:"email",placeholder:"\u8BF7\u8F93\u5165\u4F60\u7684\u90AE\u7BB1",rules:[{required:!0},{type:"email"}]}),(0,e.jsx)(Q.Z,{name:"qrcode",hidden:!0}),(0,e.jsx)(a.Z,{name:["qrcode"],children:function(L){var V=L.qrcode;if(V)return(0,e.jsx)(Q.Z,{label:"\u7ED1\u5B9A\u4E8C\u7EF4\u7801",tooltip:"\u4F7F\u7528\u652F\u6301 2fa \u7684\u9A8C\u8BC1 App \u626B\u7801\u8BE5\u4E8C\u7EF4\u7801",children:(0,e.jsx)(me.Z,{style:{border:"#d1d9e0b3 solid 1px",padding:"10px",borderRadius:"10px"},width:200,src:"data:image/png;base64,".concat(V)})})}})]})})]})}var g=r(87462),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M956.9 845.1L896.4 632V168c0-17.7-14.3-32-32-32h-704c-17.7 0-32 14.3-32 32v464L67.9 845.1C60.4 866 75.8 888 98 888h828.8c22.2 0 37.6-22 30.1-42.9zM200.4 208h624v395h-624V208zm228.3 608l8.1-37h150.3l8.1 37H428.7zm224 0l-19.1-86.7c-.8-3.7-4.1-6.3-7.8-6.3H398.2c-3.8 0-7 2.6-7.8 6.3L371.3 816H151l42.3-149h638.2l42.3 149H652.7z"}}]},name:"laptop",theme:"outlined"},U=h,ie=r(84089),ee=function(C,E){return I.createElement(ie.Z,(0,g.Z)({},C,{ref:E,icon:U}))},te=I.forwardRef(ee),fe=te;function de(){var m=(0,I.useRef)(),C=(0,I.useContext)(_.Z),E=C.message,o=C.notice,re=C.lang,q=function(){var N=x()(l()().mark(function v(){var Z,w,P,M;return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,A.pe)({groupName:"setting",name:"server"});case 2:P=s.sent,(Z=m.current)===null||Z===void 0||Z.setFieldsValue({serverIp:(w=P.data.setting.value.serverIp)!==null&&w!==void 0?w:""}),P.data.setting.value.requestTimeout&&((M=m.current)===null||M===void 0||M.setFieldsValue({requestTimeout:P.data.setting.value.requestTimeout}));case 5:case"end":return s.stop()}},v)}));return function(){return N.apply(this,arguments)}}();return(0,e.jsx)(j.Z,{direction:"column",gutter:[0,10],ghost:!0,children:(0,e.jsx)(j.Z,{bordered:!0,headerBordered:!0,title:(0,e.jsx)(fe,{}),subTitle:"\u670D\u52A1\u5668\u5730\u5740",children:(0,e.jsx)(O.A,{layout:"horizontal",labelAlign:"right",labelCol:{span:3,offset:0},formRef:m,onInit:x()(l()().mark(function N(){return l()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return q(),Z.abrupt("return",!0);case 2:case"end":return Z.stop()}},N)})),onFinish:function(){var N=x()(l()().mark(function v(Z){var w,P,M;return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return P={groupName:"setting",name:"server",value:{serverIp:Z.serverIp}},Z.requestTimeout&&(P.value.requestTimeout=Z.requestTimeout),s.next=4,(0,A.KU)(P);case 4:return M=s.sent,(w=m.current)===null||w===void 0||w.resetFields(),q(),E.success("\u4FEE\u6539\u670D\u52A1\u5668\u914D\u7F6E\u6210\u529F"),s.abrupt("return",!0);case 9:case"end":return s.stop()}},v)}));return function(v){return N.apply(this,arguments)}}(),children:(0,e.jsx)(G.Z,{tooltip:"\u8BBE\u7F6E\u5BBF\u4E3B\u673A\u7684Ip\u6216\u662F\u57DF\u540D\uFF0C\u7528\u4E8E\u901A\u8FC7\u7AEF\u53E3\u7684\u5F62\u5F0F\u8BBF\u95EE\u5BB9\u5668\u3002\u652F\u6301IpV4\u53CAIpV6",label:"\u5BB9\u5668\u7AEF\u53E3\u8BBF\u95EE\u5730\u5740",name:"serverIp",placeholder:"\u4F8B\u5982:192.168.1.25\u30012001:db8:1::2\u3001example.com"})})})})}var he={xs:6,sm:6,md:6,lg:3,xl:3,xxl:3,offset:0},ae=r(43425),k=r(86615),ce=r(64317),ge=r(86125),oe=r(184),ue=r(24739),pe=r(1413),Pe=r(45987),je=r(35510),Ce=["fieldProps","proFieldProps","min","max","step","marks","vertical","range"],ve=I.forwardRef(function(m,C){var E=m.fieldProps,o=m.proFieldProps,re=m.min,q=m.max,N=m.step,v=m.marks,Z=m.vertical,w=m.range,P=(0,Pe.Z)(m,Ce);return(0,e.jsx)(je.Z,(0,pe.Z)({valueType:"slider",fieldProps:(0,pe.Z)((0,pe.Z)({},E),{},{min:re,max:q,step:N,marks:v,vertical:Z,range:w,style:E==null?void 0:E.style}),ref:C,proFieldProps:o,filedConfig:{ignoreWidth:!0}},P))}),Oe=ve,Ze=r(51663),xe=r(42075),Te=r(21532),_e=r(25593),Ee=r(38925),Fe=r(92398),be=r(65805),Ae=r(99611),Re=r(44349),Ie=r(89075),le=function(C){return(0,e.jsx)(Q.Z,{name:C.name,label:C.label,children:(0,e.jsx)(Ze.Z,{defaultValue:C.defaultColor,showText:function(o){return(0,e.jsxs)(xe.Z,{children:[C.title," (",o&&o.toHexString(),")"]})},allowClear:!0,presets:[{label:"\u9884\u8BBE\u989C\u8272",colors:["#1677ff","#722ed1","#13c2c2","#52c41a","#eb2f96","#f5222d","#fa8c16","#fadb14","#fa541c","#2f54eb","#faad14","#a0d911","#000000","#5cdbd3","#b37feb","#b7eb8f","#61affe","#9254de","#36cfc9","#ff9c6e","#ff6f00","#ffc069","#28a745","#6610f2","#6f42c1","#007bff","#17a2b8","#20c997","#00cccc","#ff6666"]}]})})},ye=["colorPrimary","colorTextBase","colorLink","colorSuccess","colorError","colorInfo","colorWarning","colorBgBase","colorBorder"],Me=["borderRadius","wireframe"],De=(0,I.forwardRef)(function(m,C){(0,I.useImperativeHandle)(C,function(){return{show:function(){N(!0)}}});var E=(0,i.useAntdConfigSetter)(),o=(0,I.useState)(!1),re=u()(o,2),q=re[0],N=re[1],v=(0,I.useRef)();return(0,e.jsx)(Te.ZP,{children:(0,e.jsxs)(oe.a,{submitter:{render:function(w,P){return(0,e.jsxs)(xe.Z,{children:[(0,e.jsx)(J.ZP,{onClick:function(){var B;(B=v.current)===null||B===void 0||B.resetFields(),E(function(s){var f;return(f=s.theme)!==null&&f!==void 0||(s.theme={}),s.theme.token={},s})},children:"\u6062\u590D\u9ED8\u8BA4"}),(0,e.jsx)(J.ZP,{onClick:function(){E(function(B){var s;(s=B.theme)!==null&&s!==void 0||(B.theme={}),B.theme.token={};var f={};return ye.map(function(D){var z=v.current&&v.current.getFieldValue(D);z&&!z.cleared&&(f[D]=z.toHexString())}),B.theme.token=Object.assign(B.theme.token,f),v.current&&v.current.getFieldValue("borderRadius")&&(B.theme.token.borderRadius=v.current.getFieldValue("borderRadius")),v.current&&(B.theme.token.wireframe=v.current.getFieldValue("wireframe")),B})},children:"\u9884\u89C8"}),P[1]]})}},title:"\u81EA\u5B9A\u4E49\u4E3B\u9898",formRef:v,open:q,onOpenChange:function(w){return N(w)},name:"theme-user",onFinish:function(){var Z=x()(l()().mark(function w(P){var M;return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return M={token:{},bgImage:P.bgImage,siteLink:P.siteLink,siteTitle:P.siteTitle,siteCopyright:P.siteCopyright},P.siteLogo&&P.siteLogo.length>0&&(M.siteLogo=P.siteLogo[0].response.data.path),P.bgImageSrc&&P.bgImageSrc.length>0&&(M.bgImage||(M.bgImage={}),M.bgImage.src=P.bgImageSrc[0].response.data.path,M.bgImage.width=P.bgSize=="full"?"100%":""),ye.map(function(f){var D=v.current&&v.current.getFieldValue(f);D&&!D.cleared&&(M.token[f]=D.toHexString())}),Me.map(function(f){var D=v.current&&v.current.getFieldValue(f);M.token[f]=D}),s.next=7,(0,Ie.Z8)(M);case 7:return m.onFinish&&m.onFinish(),s.abrupt("return",!0);case 9:case"end":return s.stop()}},w)}));return function(w){return Z.apply(this,arguments)}}(),children:[(0,e.jsx)(j.Z,{title:(0,e.jsx)(Ae.Z,{}),style:{marginBottom:"20px"},subTitle:"\u7EC4\u4EF6\u793A\u4F8B",ghost:!0,children:(0,e.jsxs)(xe.Z,{wrap:!0,children:[(0,e.jsx)(_e.Z,{children:"\u666E\u901A\u6587\u5B57"}),(0,e.jsx)(_e.Z.Link,{children:"\u94FE\u63A5\u6587\u5B57"}),(0,e.jsx)(Ee.Z,{showIcon:!0,type:"success",message:"\u6210\u529F\u4FE1\u606F"}),(0,e.jsx)(Ee.Z,{showIcon:!0,type:"error",message:"\u9519\u8BEF\u4FE1\u606F"}),(0,e.jsx)(Ee.Z,{showIcon:!0,type:"info",message:"\u63D0\u793A\u4FE1\u606F"}),(0,e.jsx)(Ee.Z,{showIcon:!0,type:"warning",message:"\u8B66\u544A\u4FE1\u606F"}),(0,e.jsx)(J.ZP,{children:"\u9ED8\u8BA4\u6309\u94AE"}),(0,e.jsx)(J.ZP,{type:"primary",children:"\u4E3B\u6309\u94AE"}),(0,e.jsx)(J.ZP,{type:"primary",danger:!0,children:"\u5F3A\u8C03\u4E3B\u6309\u94AE"}),(0,e.jsx)(J.ZP,{danger:!0,children:"\u5F3A\u8C03\u9ED8\u8BA4\u6309\u94AE"}),(0,e.jsx)(Fe.Z,{items:[{label:"\u9009\u4E2D",key:"1"},{label:"\u672A\u9009\u4E2D",key:"2"}],style:{margin:"0 20px"},activeKey:"1"})]})}),(0,e.jsxs)(ue.UW,{title:"\u4E3B\u8272\u7CFB",children:[le({name:"colorPrimary",title:"\u54C1\u724C\u8272",defaultColor:"#1677ff"}),le({name:"colorBgBase",title:"\u57FA\u7840\u80CC\u666F\u8272"}),le({name:"colorBorder",title:"\u8FB9\u6846\u8272"}),le({name:"colorTextBase",title:"\u57FA\u7840\u6587\u672C"}),le({name:"colorLink",title:"\u94FE\u63A5\u6587\u672C"})]}),(0,e.jsxs)(ue.UW,{title:"\u4FE1\u606F\u63D0\u793A\u8272",children:[le({name:"colorSuccess",title:"\u6210\u529F",defaultColor:"#52c41a"}),le({name:"colorError",title:"\u9519\u8BEF",defaultColor:"#ff4d4f"}),le({name:"colorInfo",title:"\u63D0\u793A",defaultColor:"#1677ff"}),le({name:"colorWarning",title:"\u8B66\u544A",defaultColor:"#faad14"})]}),(0,e.jsxs)(ue.UW,{title:"\u80CC\u666F\u56FE",children:[(0,e.jsx)(be.Z,{label:"\u80CC\u666F\u56FE",title:"\u4E0A\u4F20\u80CC\u666F\u56FE",name:"bgImageSrc",accept:".jpg,.png,.webp"}),(0,e.jsx)(k.Z.Group,{name:"bgSize",label:"\u5C3A\u5BF8",initialValue:"full",valueEnum:{full:"\u5168\u5C4F",default:"\u9ED8\u8BA4"}})]}),(0,e.jsx)(ue.UW,{children:(0,e.jsx)(a.Z,{name:["bgSize"],children:function(w){var P=w.bgSize;if(P=="default")return(0,e.jsxs)(ue.UW,{children:[(0,e.jsx)(G.Z,{name:["bgImage","top"],label:"\u8DDD\u9876\u90E8\u504F\u79FB\u91CF"}),",",(0,e.jsx)(G.Z,{name:["bgImage","left"],label:"\u8DDD\u5DE6\u4FA7\u504F\u79FB\u91CF"})]})}})}),(0,e.jsxs)(ue.UW,{title:"\u98CE\u683C",children:[(0,e.jsx)(Oe,{min:1,max:16,label:"\u5706\u89D2",initialValue:6,name:"borderRadius"}),(0,e.jsx)(se.Z,{label:"\u7EBF\u6846\u5316",name:"wireframe"})]}),(0,e.jsxs)(ue.UW,{title:"\u9762\u677F",children:[(0,e.jsx)(be.Z,{label:"Logo",title:"\u4E0A\u4F20Logo",name:"siteLogo",accept:".jpg,.png,.webp"}),(0,e.jsx)(G.Z,{label:"\u9762\u677F\u6807\u9898",name:"siteTitle"})]}),(0,e.jsx)(Re.Z,{name:"siteLink",label:"\u5E95\u90E8\u94FE\u63A5",showAddButton:!0,hideCopyButton:!0,gap:10,items:[{name:"title",label:"\u6587\u672C"},{name:"href",label:"\u94FE\u63A5"}]}),(0,e.jsx)(G.Z,{label:"\u7248\u6743\u4FE1\u606F",name:"siteCopyright"})]})})}),Le=De,we=r(68602);function $e(){var m=(0,I.useRef)(),C=(0,I.useRef)(),E=(0,i.useModel)("@@initialState"),o=E.initialState,re=E.loading,q=E.error,N=E.refresh,v=E.setInitialState,Z=(0,i.useAccess)(),w=(0,I.useContext)(_.Z),P=w.message,M=w.lang;return(0,I.useEffect)(function(){var B,s,f,D,z,W,L,V;(B=m.current)===null||B===void 0||B.setFieldsValue({algorithm:(s=o==null?void 0:o.theme.algorithm)!==null&&s!==void 0?s:"default",mainMenu:(f=o==null?void 0:o.theme.mainMenu)!==null&&f!==void 0?f:"top",compact:(D=o==null?void 0:o.theme.compact)!==null&&D!==void 0?D:"default",fontSize:(z=o==null?void 0:o.theme.fontSize)!==null&&z!==void 0?z:14,fontSizeConsole:(W=o==null?void 0:o.theme.fontSizeConsole)!==null&&W!==void 0?W:12,sideMenu:(L=o==null?void 0:o.theme.sideMenu)!==null&&L!==void 0?L:"default",tablePageSize:(V=o==null?void 0:o.theme.tablePageSize)!==null&&V!==void 0?V:"20"})},[o]),(0,e.jsx)(j.Z,{direction:"column",gutter:[0,10],ghost:!0,children:(0,e.jsxs)(j.Z,{bordered:!0,headerBordered:!0,title:(0,e.jsx)(ae.Z,{}),subTitle:"\u57FA\u672C\u914D\u7F6E",children:[Z.canSeeUserTheme&&(0,e.jsx)(Le,{ref:C,onFinish:function(){N(),P.success(M("notification.finish"))}}),(0,e.jsxs)(O.A,{layout:"horizontal",labelAlign:"right",labelCol:he,formRef:m,submitter:{render:function(s,f){return[(0,e.jsx)(J.ZP,{onClick:function(){},children:"\u6062\u590D\u9ED8\u8BA4"},"default"),f[1]]}},onFinish:function(){var B=x()(l()().mark(function s(f){var D;return l()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return D={mainMenu:f.mainMenu,sideMenu:f.sideMenu,compact:f.compact,fontSizeConsole:f.fontSizeConsole,fontSize:f.fontSize,tablePageSize:f.tablePageSize},f.algorithm!="user"&&(D.algorithm=f.algorithm),W.next=4,(0,we.Gk)(D);case 4:N(),P.success(M("notification.finish"));case 6:case"end":return W.stop()}},s)}));return function(s){return B.apply(this,arguments)}}(),children:[(0,e.jsx)(k.Z.Group,{name:"algorithm",label:"\u4E3B\u9898\u76AE\u80A4",initialValue:"default",radioType:"button",valueEnum:function(){var s={default:"\u4EAE\u8272",dark:"\u6697\u8272",system:"\u8DDF\u968F\u7CFB\u7EDF"};return Z.canSeeUserTheme&&(s.user="\u81EA\u5B9A\u4E49"),s},fieldProps:{onChange:function(s){return x()(l()().mark(function f(){var D,z;return l()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:D=s.target.value,D=="user"&&((z=C.current)===null||z===void 0||z.show());case 2:case"end":return L.stop()}},f)}))()}}}),(0,e.jsx)(a.Z,{name:["algorithm"],children:function(s){var f=s.algorithm;if(f=="user")return(0,e.jsx)(Q.Z,{label:" ",children:(0,e.jsx)(J.ZP,{onClick:function(){var z;(z=C.current)===null||z===void 0||z.show()},icon:(0,e.jsx)(ae.Z,{}),children:"\u914D\u7F6E\u76AE\u80A4\u53CA\u7AD9\u70B9\u4FE1\u606F"})})}}),(0,e.jsx)(k.Z.Group,{name:"mainMenu",label:"\u4E3B\u83DC\u5355\u4F4D\u7F6E",initialValue:"top",radioType:"button",valueEnum:{top:"\u9876\u90E8",side:"\u4FA7\u9762"}}),(0,e.jsx)(k.Z.Group,{name:"sideMenu",label:"\u5DE6\u4FA7\u83DC\u5355",initialValue:"default",radioType:"button",valueEnum:{default:"\u9ED8\u8BA4\u5C55\u5F00",collapse:"\u9ED8\u8BA4\u6536\u7F29"}}),(0,e.jsx)(k.Z.Group,{name:"compact",label:"\u6587\u672C\u5E03\u5C40",initialValue:"default",radioType:"button",valueEnum:{default:"\u9ED8\u8BA4",compact:"\u7D27\u51D1"}}),(0,e.jsx)(Q.Z,{name:"fontSize",label:"\u4E3B\u9898\u5B57\u53F7",initialValue:14,children:(0,e.jsx)(ge.Z,{step:2,max:30,min:8,marks:{8:"8",10:"10",12:"12",14:"14",16:"16",20:"20",26:"26",30:"20"}})}),(0,e.jsx)(Q.Z,{name:"fontSizeConsole",label:"\u63A7\u5236\u53F0\u5B57\u53F7",initialValue:12,children:(0,e.jsx)(ge.Z,{step:2,max:30,min:8,marks:{8:"8",10:"10",12:"12",14:"14",16:"16",20:"20",26:"26",30:"20"}})}),(0,e.jsx)(ce.Z,{initialValue:"20",label:"\u8868\u683C\u5206\u9875\u6570",name:"tablePageSize",valueEnum:{10:"\u6BCF\u987510\u6761",20:"\u6BCF\u987520\u6761",50:"\u6BCF\u987550\u6761",100:"\u6BCF\u9875100\u6761",all:"\u663E\u793A\u5168\u90E8"}})]})]})})}var Ue=r(90078);function We(){var m=(0,i.useSearchParams)(),C=u()(m,1),E=C[0],o=(0,I.useState)("user"),re=u()(o,2),q=re[0],N=re[1];return(0,I.useEffect)(function(){var v;N((v=E.get("tab"))!==null&&v!==void 0?v:"user")},[]),(0,e.jsx)(Ue._z,{children:(0,e.jsx)(j.Z,{children:(0,e.jsx)(Fe.Z,{activeKey:q,onChange:function(Z){return N(Z)},items:[{key:"user",label:"\u767B\u5F55\u914D\u7F6E",children:(0,e.jsx)(c,{})},{key:"theme",label:"\u754C\u9762\u914D\u7F6E",children:(0,e.jsx)($e,{})},{key:"other",label:"\u5176\u5B83",children:(0,e.jsx)(de,{})}]})})})}},68602:function(ne,$,r){r.d($,{Gk:function(){return R},Nr:function(){return A},n$:function(){return x}});var T=r(15009),u=r.n(T),K=r(99289),l=r.n(K),S=r(63713);function x(p){return _.apply(this,arguments)}function _(){return _=l()(u()().mark(function p(b){return u()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,S.request)("/api/common/user/login",{method:"POST",data:b}));case 1:case"end":return d.stop()}},p)})),_.apply(this,arguments)}function A(){return i.apply(this,arguments)}function i(){return i=l()(u()().mark(function p(){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,S.request)("/api/common/user/login-info",{method:"POST"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},p)})),i.apply(this,arguments)}function R(p){return F.apply(this,arguments)}function F(){return F=l()(u()().mark(function p(b){return u()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,S.request)("/api/common/user/theme",{method:"POST",data:b});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},p)})),F.apply(this,arguments)}},97961:function(ne,$,r){r.d($,{GH:function(){return F},MF:function(){return d},_2:function(){return b},fN:function(){return _},ii:function(){return x},vC:function(){return i}});var T=r(15009),u=r.n(T),K=r(99289),l=r.n(K),S=r(63713),x=[{name:"linux/amd64",arch:"amd64",search:["amd64","x86_64","86_64"]},{name:"linux/arm64",arch:"arm64",search:["arm64","arrch64"]},{name:"linux/i386",arch:"386",search:[]},{name:"linux/arm/v6",arch:"arm",search:[]},{name:"linux/arm/v7",arch:"arm",search:[]},{name:"linux/arm/v8",arch:"arm64",search:[]},{name:"linux/ppc64le",arch:"ppc64le",search:[]},{name:"linux/riscv64",arch:"riscv64",search:[]}];function _(n){return A.apply(this,arguments)}function A(){return A=l()(u()().mark(function n(j){return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,S.request)("/api/app/image/create-by-dockerfile",{method:"POST",data:j}));case 1:case"end":return a.stop()}},n)})),A.apply(this,arguments)}function i(n){return R.apply(this,arguments)}function R(){return R=l()(u()().mark(function n(j){return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,S.request)("/api/app/image/import-by-container-tar",{method:"POST",data:j}));case 1:case"end":return a.stop()}},n)})),R.apply(this,arguments)}function F(n){return p.apply(this,arguments)}function p(){return p=l()(u()().mark(function n(j){return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,S.request)("/api/app/image/import-by-image-tar",{method:"POST",data:j}));case 1:case"end":return a.stop()}},n)})),p.apply(this,arguments)}function b(n){return t.apply(this,arguments)}function t(){return t=l()(u()().mark(function n(j){return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,S.request)("/api/common/attach/delete",{method:"POST",data:j});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},n)})),t.apply(this,arguments)}function d(){return y.apply(this,arguments)}function y(){return y=l()(u()().mark(function n(){return u()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,S.request)("/api/app/image/get-template-list",{method:"POST"}));case 1:case"end":return O.stop()}},n)})),y.apply(this,arguments)}},89075:function(ne,$,r){r.d($,{$w:function(){return x},YQ:function(){return A},Z8:function(){return R}});var T=r(15009),u=r.n(T),K=r(99289),l=r.n(K),S=r(63713);function x(){return _.apply(this,arguments)}function _(){return _=l()(u()().mark(function p(){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,S.request)("/api/pro/home/get-machine-id",{method:"POST"}));case 1:case"end":return t.stop()}},p)})),_.apply(this,arguments)}function A(){return i.apply(this,arguments)}function i(){return i=l()(u()().mark(function p(){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,S.request)("/api/pro/home/get-license-info",{method:"POST"}));case 1:case"end":return t.stop()}},p)})),i.apply(this,arguments)}function R(p){return F.apply(this,arguments)}function F(){return F=l()(u()().mark(function p(b){return u()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,S.request)("/api/pro/home/save-theme-user-config",{method:"POST",data:b});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},p)})),F.apply(this,arguments)}},86250:function(ne,$,r){r.d($,{Z:function(){return I}});var T=r(67294),u=r(93967),K=r.n(u),l=r(98423),S=r(98065),x=r(53124),_=r(83559),A=r(83262);const i=["wrap","nowrap","wrap-reverse"],R=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],F=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],p=(e,c)=>{const g=c.wrap===!0?"wrap":c.wrap;return{[`${e}-wrap-${g}`]:g&&i.includes(g)}},b=(e,c)=>{const g={};return F.forEach(h=>{g[`${e}-align-${h}`]=c.align===h}),g[`${e}-align-stretch`]=!c.align&&!!c.vertical,g},t=(e,c)=>{const g={};return R.forEach(h=>{g[`${e}-justify-${h}`]=c.justify===h}),g};function d(e,c){return K()(Object.assign(Object.assign(Object.assign({},p(e,c)),b(e,c)),t(e,c)))}var y=d;const n=e=>{const{componentCls:c}=e;return{[c]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},j=e=>{const{componentCls:c}=e;return{[c]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},O=e=>{const{componentCls:c}=e,g={};return i.forEach(h=>{g[`${c}-wrap-${h}`]={flexWrap:h}}),g},a=e=>{const{componentCls:c}=e,g={};return F.forEach(h=>{g[`${c}-align-${h}`]={alignItems:h}}),g},G=e=>{const{componentCls:c}=e,g={};return R.forEach(h=>{g[`${c}-justify-${h}`]={justifyContent:h}}),g},se=()=>({});var Q=(0,_.I$)("Flex",e=>{const{paddingXS:c,padding:g,paddingLG:h}=e,U=(0,A.IX)(e,{flexGapSM:c,flexGap:g,flexGapLG:h});return[n(U),j(U),O(U),a(U),G(U)]},se,{resetStyle:!1}),J=function(e,c){var g={};for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&c.indexOf(h)<0&&(g[h]=e[h]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,h=Object.getOwnPropertySymbols(e);U<h.length;U++)c.indexOf(h[U])<0&&Object.prototype.propertyIsEnumerable.call(e,h[U])&&(g[h[U]]=e[h[U]]);return g},I=T.forwardRef((e,c)=>{const{prefixCls:g,rootClassName:h,className:U,style:ie,flex:ee,gap:te,children:fe,vertical:de=!1,component:he="div"}=e,ae=J(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:k,direction:ce,getPrefixCls:ge}=T.useContext(x.E_),oe=ge("flex",g),[ue,pe,Pe]=Q(oe),je=de!=null?de:k==null?void 0:k.vertical,Ce=K()(U,h,k==null?void 0:k.className,oe,pe,Pe,y(oe,e),{[`${oe}-rtl`]:ce==="rtl",[`${oe}-gap-${te}`]:(0,S.n)(te),[`${oe}-vertical`]:je}),ve=Object.assign(Object.assign({},k==null?void 0:k.style),ie);return ee&&(ve.flex=ee),te&&!(0,S.n)(te)&&(ve.gap=te),ue(T.createElement(he,Object.assign({ref:c,className:Ce,style:ve},(0,l.Z)(ae,["justify","wrap","align"])),fe))})}}]);
