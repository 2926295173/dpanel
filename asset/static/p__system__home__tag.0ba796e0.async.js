"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2440],{1699:function(k,j,n){n.d(j,{u:function(){return a}});var U=n(9783),r=n.n(U),B=n(97857),i=n.n(B),l=n(67294),L=n(82346),f=n(40411),y=n(42075),E=n(85893),a=function(m){var h=(0,L.useAccess)(),M=Array.isArray(m.access)?m.access:[m.access],d,O=m.fallback;return typeof m.children=="function"?(d=m.children(M.reduce(function(v,A){return i()(i()({},v),{},r()({},A,h[A]))},{})),d||(d=O)):M.every(function(v){return h[v]})?d=m.children:d=O,!O&&d&&m.showProTips&&h.canSeeEnableCe&&(d=(0,E.jsx)(f.Z,{offset:m.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:d})),!O&&d&&m.showProRibbonTips&&h.canSeeEnableCe&&(d=(0,E.jsx)(f.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:d})),m.space?(0,E.jsx)(y.Z,i()(i()({},m.space),{},{children:d})):d}},80821:function(k,j,n){n.d(j,{Z:function(){return E}});var U=n(5574),r=n.n(U),B=n(24963),i=n(86738),l=n(28036),L=n(83062),f=n(67294),y=n(85893);function E(a){var b=(0,f.useState)(!1),m=r()(b,2),h=m[0],M=m[1],d=(0,f.useContext)(B.Z),O=d.lang,v=d.notice,A=d.message,W=function(){M(!0);var T=a.action();T instanceof Promise?T.then(function(D){if(M(!1),D){typeof a.onSuccess=="function"&&a.onSuccess(D);var C="";a.messageSuccess?typeof a.messageSuccess=="function"?C=a.messageSuccess(D):C=a.messageSuccess.indexOf("notification.")==0?O(a.messageSuccess):a.messageSuccess:C=O("notification.finish"),a.asynced?A.info(C):A.success(C)}}).catch(function(D){M(!1),typeof a.onError=="function"&&a.onError(D)}):M(!1)};return a.confirm?(0,y.jsx)(i.Z,{style:{width:500},title:a.confirmTitle?a.confirmTitle:O("notification.title.tip"),description:typeof a.confirm=="string"&&a.confirm.indexOf("notification.")==0?O(a.confirm):a.confirm,onConfirm:W,okText:"Yes",cancelText:"No",onOpenChange:a.confirmOnOpenChange,children:(0,y.jsx)(l.ZP,{block:a.block,disabled:a.disabled,icon:!a.children&&h?void 0:a.icon,loading:h,danger:a.danger,type:a.type,children:a.children})}):(0,y.jsx)(L.Z,{title:a.tips,children:(0,y.jsx)(l.ZP,{block:a.block,style:a.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:a.disabled,icon:!a.children&&h?void 0:a.icon,loading:h,onClick:W,danger:a.danger,type:a.type,children:a.children})})}},24963:function(k,j,n){var U=n(67294),r=(0,U.createContext)({});j.Z=r},96788:function(k,j,n){n.r(j),n.d(j,{default:function(){return u}});var U=n(15009),r=n.n(U),B=n(99289),i=n.n(B),l=n(5574),L=n.n(l),f=n(1699),y=n(90127),E=n(80821),a=n(29453),b=n(90098),m=n(60335),h=n(5251),M=n(40666),d=n(58638),O=n(74842),v=n(87784),A=n(43428),W=n(90078),K=n(38345),T=n(82346),D=n(42075),C=n(28036),c=n(86250),p=n(32983),P=n(83062),s=n(71230),N=n(15746),G=n(7134),F=n(25593),H=n(85418),z=n(67294),_=n(85893);function u(){var t=(0,z.useState)([]),g=L()(t,2),e=g[0],re=g[1],te=(0,z.useState)(1),ee=L()(te,2),J=ee[0],X=ee[1],ae=(0,T.useAccess)();return(0,z.useEffect)(function(){ae.canSeeEnableHomeTag&&(0,a.pK)().then(function(){var q=i()(r()().mark(function Q(Y){var w;return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,m.IE)();case 3:w=o.sent,o.next=8;break;case 6:o.prev=6,o.t0=o.catch(0);case 8:Y.data.list&&re(Y.data.list.filter(function(R){return R.enableShowGroup}).map(function(R){return!R.container||R.container.length==0||(R.container=R.container.map(function(S){if(!w)return S;var Z=w.data.list&&w.data.list.find(function(I){var V;return I.Names.includes((V=S.containerName)!==null&&V!==void 0?V:"")});if(Z){var x;S.state=Z.State,S.composeName=(x=Z.Labels&&Z.Labels["com.docker.compose.project"])!==null&&x!==void 0?x:""}return S})),R}));case 9:case"end":return o.stop()}},Q,null,[[0,6]])}));return function(Q){return q.apply(this,arguments)}}())},[J]),(0,_.jsx)(W._z,{extra:(0,_.jsx)(D.Z,{children:(0,_.jsx)(f.u,{access:"canSeeEnableHomeTag",children:(0,_.jsx)(y.Z,{enableShowGroup:!0,trigger:(0,_.jsx)(C.ZP,{type:"primary",children:"\u6DFB\u52A0\u5FEB\u6377\u6807\u7B7E"}),onFinish:function(){X(J+1)}})})}),children:(0,_.jsx)(f.u,{access:"canSeeEnableHomeTag",showProRibbonTips:!0,children:function(Q){var Y=Q.canSeeEnableHomeTag;return(0,_.jsxs)(K.Z,{direction:"column",children:[(!Y||!e||e.length==0)&&(0,_.jsx)(c.Z,{justify:"center",style:{height:"58vh"},vertical:!0,children:(0,_.jsx)(p.Z,{image:p.Z.PRESENTED_IMAGE_SIMPLE,description:(0,_.jsxs)(_.Fragment,{children:["\u76F4\u63A5\u6DFB\u52A0\u5206\u7EC4\u6807\u7B7E\u6216\u662F\u5728\u5BB9\u5668\u8BE6\u60C5\u9875\u4E2D\u6DFB\u52A0\u9996\u9875\u5206\u7EC4\u6807\u7B7E ",(0,_.jsx)(T.Link,{to:"/app/list",children:"\u5BB9\u5668\u5217\u8868"})]})})}),Y&&e.map(function(w,ne){return(0,_.jsx)(K.Z,{title:(0,_.jsx)(M.Z,{}),subTitle:w.tag,direction:"row",gutter:[15,15],headerBordered:!0,bodyStyle:{paddingTop:20,marginBottom:10},ghost:!0,wrap:!0,children:w.container.map(function(o,R){var S,Z;return o.url&&o.title&&(0,_.jsx)(K.Z,{bordered:!0,hoverable:!0,colSpan:{xs:24,sm:12,md:12,lg:12,xl:8,xxl:6},bodyStyle:{height:80},children:(0,_.jsx)(P.Z,{title:o.description,children:(0,_.jsxs)(s.Z,{align:"middle",gutter:[10,0],children:[(0,_.jsx)(N.Z,{span:5,children:(0,_.jsx)(G.C,{shape:"square",src:(S=o.icon)!==null&&S!==void 0?S:"",gap:10,size:"large",children:(0,h.fi)((Z=o.containerName)!==null&&Z!==void 0?Z:o.title,"/").substring(0,1)})}),(0,_.jsxs)(N.Z,{span:o.containerName?14:17,children:[(0,_.jsx)(F.Z.Title,{level:5,children:(0,_.jsx)("a",{target:"_blank",href:o.url,children:(0,_.jsxs)(D.Z,{children:[o.title&&o.title.substring(0,13),(0,_.jsx)(d.Z,{})]})})}),(0,_.jsx)(F.Z.Text,{ellipsis:!0,children:o.description})]}),(0,_.jsx)(N.Z,{span:o.containerName?5:2,children:(0,_.jsxs)(D.Z,{children:[o.containerName&&(0,_.jsx)(E.Z,{action:i()(r()().mark(function x(){var I;return r()().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(!o.composeName){$.next=2;break}return $.abrupt("return",(0,b.GG)({id:o.composeName,op:o.state=="running"?"stop":"start"}));case 2:return $.abrupt("return",(0,m.IW)({md5:(I=o.containerName)!==null&&I!==void 0?I:"",operate:o.state=="running"?"stop":"start"}));case 3:case"end":return $.stop()}},x)})),onSuccess:function(){X(J+1)},type:"link",icon:(0,_.jsx)("div",{style:o.state=="running"?{color:"red"}:void 0,children:o.state&&o.state!="running"?(0,_.jsx)(O.Z,{}):(0,_.jsx)(v.Z,{})})}),(0,_.jsx)(H.Z,{trigger:["click"],menu:{items:[{label:(0,_.jsx)(E.Z,{action:function(){var I;return(0,a._2)({containerName:(I=o.containerName)!==null&&I!==void 0?I:"",tag:w.tag})},onSuccess:function(){X(J+1)},type:"link",children:"\u5220\u9664\u6807\u7B7E"}),key:"2"}]},children:(0,_.jsx)(F.Z.Link,{children:(0,_.jsx)(A.Z,{})})})]})})]})})},R)})},"group-".concat(ne))})]})}})})}},90098:function(k,j,n){n.d(j,{GG:function(){return A},MG:function(){return P},Oh:function(){return M},Pn:function(){return a},U_:function(){return c},Yz:function(){return K},iE:function(){return F},ik:function(){return m},im:function(){return L},mg:function(){return O},pm:function(){return y},tw:function(){return z},vf:function(){return D},xC:function(){return N}});var U=n(15009),r=n.n(U),B=n(99289),i=n.n(B),l=n(82346);function L(u){return f.apply(this,arguments)}function f(){return f=i()(r()().mark(function u(t){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/app/compose/create",{method:"POST",data:t}));case 1:case"end":return e.stop()}},u)})),f.apply(this,arguments)}function y(u){return E.apply(this,arguments)}function E(){return E=i()(r()().mark(function u(t){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/app/compose/get-list",{method:"POST",data:t}));case 1:case"end":return e.stop()}},u)})),E.apply(this,arguments)}function a(u){return b.apply(this,arguments)}function b(){return b=i()(r()().mark(function u(t){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.id=String(t.id),e.abrupt("return",(0,l.request)("/api/app/compose/get-task",{method:"POST",data:t}));case 2:case"end":return e.stop()}},u)})),b.apply(this,arguments)}function m(u){return h.apply(this,arguments)}function h(){return h=i()(r()().mark(function u(t){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/app/compose/delete",{method:"POST",data:t}));case 1:case"end":return e.stop()}},u)})),h.apply(this,arguments)}function M(u){return d.apply(this,arguments)}function d(){return d=i()(r()().mark(function u(t){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.id=String(t.id),e.abrupt("return",(0,l.request)("/api/app/compose/container-deploy",{method:"POST",data:t}));case 2:case"end":return e.stop()}},u)})),d.apply(this,arguments)}function O(u){return v.apply(this,arguments)}function v(){return v=i()(r()().mark(function u(t){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.id=String(t.id),e.abrupt("return",(0,l.request)("/api/app/compose/container-destroy",{method:"POST",data:t}));case 2:case"end":return e.stop()}},u)})),v.apply(this,arguments)}function A(u){return W.apply(this,arguments)}function W(){return W=i()(r()().mark(function u(t){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.id=String(t.id),e.abrupt("return",(0,l.request)("/api/app/compose/container-ctrl",{method:"POST",data:t}));case 2:case"end":return e.stop()}},u)})),W.apply(this,arguments)}function K(u){return T.apply(this,arguments)}function T(){return T=i()(r()().mark(function u(t){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.id=String(t.id),e.abrupt("return",(0,l.request)("/api/app/compose/container-log",{method:"POST",data:t}));case 2:case"end":return e.stop()}},u)})),T.apply(this,arguments)}function D(u){return C.apply(this,arguments)}function C(){return C=i()(r()().mark(function u(t){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.download=!0,t.id=String(t.id),e.next=4,(0,l.request)("/api/app/compose/container-log",{method:"POST",data:t,responseType:"blob"});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},u)})),C.apply(this,arguments)}function c(u){return p.apply(this,arguments)}function p(){return p=i()(r()().mark(function u(t){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/app/compose/container-process-kill",{method:"POST",data:t}));case 1:case"end":return e.stop()}},u)})),p.apply(this,arguments)}function P(u){return s.apply(this,arguments)}function s(){return s=i()(r()().mark(function u(t){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/app/compose/get-from-uri",{method:"POST",data:t}));case 1:case"end":return e.stop()}},u)})),s.apply(this,arguments)}function N(u){return G.apply(this,arguments)}function G(){return G=i()(r()().mark(function u(t){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.id=String(t.id),e.abrupt("return",(0,l.request)("/api/app/compose/parse",{method:"POST",data:t}));case 2:case"end":return e.stop()}},u)})),G.apply(this,arguments)}function F(u){return H.apply(this,arguments)}function H(){return H=i()(r()().mark(function u(t){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/common/store/deploy",{method:"POST",data:t}));case 1:case"end":return e.stop()}},u)})),H.apply(this,arguments)}function z(u){return _.apply(this,arguments)}function _(){return _=i()(r()().mark(function u(t){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.id=String(t.id),e.abrupt("return",(0,l.request)("/api/app/compose/download",{method:"POST",data:t,responseType:"blob"}));case 2:case"end":return e.stop()}},u)})),_.apply(this,arguments)}},60335:function(k,j,n){n.d(j,{IE:function(){return y},IW:function(){return L},KK:function(){return M},LJ:function(){return O},RF:function(){return K},Re:function(){return A},aF:function(){return D},eE:function(){return m},jV:function(){return a}});var U=n(15009),r=n.n(U),B=n(99289),i=n.n(B),l=n(82346);function L(c){return f.apply(this,arguments)}function f(){return f=i()(r()().mark(function c(p){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,l.request)("/api/app/container/status",{method:"POST",data:p}));case 1:case"end":return s.stop()}},c)})),f.apply(this,arguments)}function y(c){return E.apply(this,arguments)}function E(){return E=i()(r()().mark(function c(p){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,l.request)("/api/app/container/get-list",{data:p,method:"POST"}));case 1:case"end":return s.stop()}},c)})),E.apply(this,arguments)}function a(c){return b.apply(this,arguments)}function b(){return b=i()(r()().mark(function c(p){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,l.request)("/api/app/container/get-detail",{data:p,method:"POST"}));case 1:case"end":return s.stop()}},c)})),b.apply(this,arguments)}function m(c){return h.apply(this,arguments)}function h(){return h=i()(r()().mark(function c(p){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,l.request)("/api/app/container/update",{data:p,method:"POST"}));case 1:case"end":return s.stop()}},c)})),h.apply(this,arguments)}function M(){return d.apply(this,arguments)}function d(){return d=i()(r()().mark(function c(){return r()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,l.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return P.stop()}},c)})),d.apply(this,arguments)}function O(c){return v.apply(this,arguments)}function v(){return v=i()(r()().mark(function c(p){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,l.request)("/api/app/container/export",{method:"POST",data:p,responseType:"blob"}));case 1:case"end":return s.stop()}},c)})),v.apply(this,arguments)}function A(c){return W.apply(this,arguments)}function W(){return W=i()(r()().mark(function c(p){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,l.request)("/api/app/container/commit",{method:"POST",data:p}));case 1:case"end":return s.stop()}},c)})),W.apply(this,arguments)}function K(c){return T.apply(this,arguments)}function T(){return T=i()(r()().mark(function c(p){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,l.request)("/api/app/container/upgrade",{method:"POST",data:p}));case 1:case"end":return s.stop()}},c)})),T.apply(this,arguments)}function D(c){return C.apply(this,arguments)}function C(){return C=i()(r()().mark(function c(p){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,l.request)("/api/app/container/copy",{method:"POST",data:p}));case 1:case"end":return s.stop()}},c)})),C.apply(this,arguments)}}}]);
