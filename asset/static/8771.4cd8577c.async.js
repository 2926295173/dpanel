"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8771],{99861:function(Le,le,e){var ue=e(64599),v=e.n(ue),se=e(15009),l=e.n(se),U=e(99289),L=e.n(U),C=e(5574),W=e.n(C),S=e(42119),R=e(83062),f=e(67294),j=e(92754),d=e(184),Q=e(38345),D=e(3616),ne=e(36146),$=e(68297),q=e(85893),g=(0,f.forwardRef)(function(a,p){(0,f.useImperativeHandle)(p,function(){return{start:function(){var T;return k(!0),ee((T=a.image)!==null&&T!==void 0?T:[])},finish:function(){k(!1)},pull:function(T){return k(!0),ee(T)}}});var m=(0,f.useState)(0),t=W()(m,2),b=t[0],o=t[1],c=(0,f.useRef)(),E=(0,f.useState)(!1),N=W()(E,2),u=N[0],k=N[1],h=(0,f.useState)([]),re=W()(h,2),M=re[0],K=re[1],n=new ne.Uo("components.appCompose");function ee(_){return F.apply(this,arguments)}function F(){return F=L()(l()().mark(function _(T){var Ce,G,de,je,ie,We,ke;return l()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:G=0,K(T),de=v()(T),te.prev=3,de.s();case 5:if((je=de.n()).done){te.next=15;break}return We=je.value,o(G),(ie=c.current)===null||ie===void 0||ie.setStart(We),te.next=11,(0,$.Ze)({tag:We,type:"pull"});case 11:ke=te.sent,G++;case 13:te.next=5;break;case 15:te.next=20;break;case 17:te.prev=17,te.t0=te.catch(3),de.e(te.t0);case 20:return te.prev=20,de.f(),te.finish(20);case 23:(Ce=c.current)===null||Ce===void 0||Ce.setFinish(),o(G),a.finishAutoHide&&k(!1);case 26:case"end":return te.stop()}},_,null,[[3,17,20,23]])})),F.apply(this,arguments)}return(0,q.jsxs)(d.a,{trigger:a.trigger,open:u,submitter:!1,title:n.format("pullImageTitle"),onOpenChange:function(){var _=L()(l()().mark(function T(Ce){var G,de;return l()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:k(Ce),Ce&&a.trigger&&ee((G=a.image)!==null&&G!==void 0?G:[]),Ce||(de=c.current)===null||de===void 0||de.close();case 3:case"end":return ie.stop()}},T)}));return function(T){return _.apply(this,arguments)}}(),drawerProps:{forceRender:!0,width:D.R_},children:[(0,q.jsx)(Q.Z,{children:M&&(0,q.jsx)(S.Z,{current:b,items:M.map(function(_,T){return{title:(0,q.jsx)(R.Z,{title:_,children:_.length>15?_.substring(0,6)+" ... "+_.substring(_.length-6):_}),key:T}})})}),(0,q.jsx)(Q.Z,{children:(0,q.jsx)(j.Z,{ref:c})})]})});le.Z=g},44771:function(Le,le,e){e.d(le,{Z:function(){return W}});var ue=e(36146),v=e(38345),se=e(64317),l=e(97462),U=e(31199),L=e(86250),C=e(85893);function W(S){var R=new ue.Uo("components.appForm");return(0,C.jsx)(v.Z,{ghost:S.ghost,children:(0,C.jsxs)(L.Z,{gap:50,children:[(0,C.jsx)(se.Z,{tooltip:"".concat(R.format("createParamsDemo",{params:"--restart always"})),label:S.showLabel&&R.format("createAdvRestart"),name:["restart","name"],width:"md",initialValue:S.defaultValue?S.defaultValue:"on-failure",options:R.option("createAdvRestartOption",["no","on-failure","unless-stopped","always"])}),(0,C.jsx)(l.Z,{name:["restart"],children:function(j){var d=j.restart;return d&&d.name=="on-failure"&&(0,C.jsx)(U.Z,{width:"md",label:R.format("createAdvRestartMax"),name:["restart","maxAttempt"],initialValue:5})}})]})})}},84941:function(Le,le,e){e.d(le,{Z:function(){return ir}});var ue=e(97857),v=e.n(ue),se=e(15009),l=e.n(se),U=e(19632),L=e.n(U),C=e(99289),W=e.n(C),S=e(5574),R=e.n(S),f=e(38345),j=e(62370),d=e(5966),Q=e(24739),D=e(97462),ne=e(83622),$=e(30291),q=e(92398),g=e(40056),a=e(67294),p=e(42963),m=e(51042),t=e(63434),b=e(17186),o=e(71230),c=e(15746),E=e(42075),N=e(25593),u=e(85265),k=e(92067),h=e(5251),re=e(3616),M=e(36146),K=e(89240),n=e(85893),ee=(0,a.forwardRef)(function(x,Re){var P=(0,a.useState)(!1),ce=R()(P,2),z=ce[0],me=ce[1],he=(0,a.useRef)(),A=new M.Uo("components.appForm"),B=function(Z){return(0,n.jsxs)(f.Z,{bordered:!0,extra:Z.action,style:{marginBottom:10},children:[(0,n.jsx)(f.Z,{title:A.format("createLinkItemTitle"),ghost:!0,children:(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(c.Z,{span:6,children:(0,n.jsx)(d.Z,{label:A.format("createLinkItemName"),name:"name",width:"md",readonly:!0})}),(0,n.jsxs)(c.Z,{span:14,children:[(0,n.jsx)(d.Z,{label:A.format("createLinkItemAlise"),name:"alise",width:"md",readonly:!0,tooltip:A.format("createLinkItemAliseTip"),hidden:!0}),(0,n.jsx)(j.Z,{label:A.format("createLinkItemAlise"),tooltip:A.format("createLinkItemAliseTip"),children:(0,n.jsx)(E.Z,{direction:"vertical",children:[Z.name,Z.record.alise].map(function(y){return(0,n.jsx)(N.Z.Text,{copyable:!0,children:y})})})})]}),(0,n.jsx)(c.Z,{span:4,children:(0,n.jsx)(t.Z,{label:A.format("createLinkItemVolume"),name:"volume"})})]})}),(0,n.jsx)(f.Z,{ghost:!0,title:A.format("createLinkItemEnv"),children:(0,n.jsx)(E.Z,{direction:"vertical",children:Z.record.env&&(0,h.oZ)(Z.record.env).map(function(y,V){return(0,n.jsx)(N.Z.Text,{copyable:{icon:(0,n.jsx)(m.Z,{}),onCopy:function(){x.onAddEnv(y.name,y.value)},tooltips:[A.format("createLinkAddToEnv"),"success"]},code:!0,ellipsis:{tooltip:"".concat(y.name,"=").concat(y.value)},children:"".concat(y.name,"=").concat(y.value)},V)})},"linkEnv")})]})},Oe=function(Z){var y,V,J=!1,w=(y=(V=he.current)===null||V===void 0?void 0:V.getList())!==null&&y!==void 0?y:[];if(w.map(function(Ie){Ie.name==Z.name&&(J=!0)}),!J){var _e;(_e=he.current)===null||_e===void 0||_e.add(Z)}};return(0,a.useImperativeHandle)(Re,function(){return{setDefaultLink:function(Z){Z&&Z.map(function(y){y.name!=""&&Oe(y)})}}}),(0,n.jsxs)(f.Z,{title:A.format("createLinkTitle"),headerBordered:!0,tooltip:"".concat(A.format("createParamsDemo",{params:"--link list"})),ghost:!0,children:[(0,n.jsx)(b.u,{name:"links",actionRef:he,creatorButtonProps:{creatorButtonText:A.format("createLinkAddButton")},actionGuard:{beforeAddRow:function(Z,y){return me(!0),!1}},copyIconProps:!1,min:0,itemRender:function(Z,y){return(0,n.jsx)(B,{action:Z.action,name:y.record.name,record:y.record})}}),(0,n.jsx)(u.Z,{title:A.format("createLinkSelectContainer"),width:re.R_,footer:!1,open:z,onClose:function(){return me(!1)},children:(0,n.jsx)(k.Z,{onSelect:function(Z){Oe({name:(0,h.fi)(Z.Name,"/"),volume:!1,env:Z.Config.Env,alise:(0,K.zY)(Z.Name)}),me(!1)}})})]})}),F=ee,_=e(91058),T=e(10523),Ce=e(24796),G=e(52688),de=e(24963);function je(){var x=(0,a.useContext)(de.Z),Re=x.message,P=new M.Uo("components.appForm");return(0,n.jsx)(f.Z,{ghost:!0,children:(0,n.jsxs)(Q.UW,{children:[(0,n.jsx)(G.Z,{fieldProps:{onChange:function(z){z&&Re.warning(P.format("createAdvRunCommandPrivilegedNotice"))}},name:"privileged",tooltip:"".concat(P.format("createParamsDemo",{params:"--privileged"})),label:P.format("createAdvRunCommandPrivileged"),initialValue:!1}),(0,n.jsx)(G.Z,{name:"autoRemove",tooltip:"".concat(P.format("createParamsDemo",{params:"--rm"})),label:P.format("createAdvRunCommandAutoRemove"),initialValue:!1}),(0,n.jsx)(G.Z,{fieldProps:{onChange:function(z){z&&Re.warning(P.format("createAdvRunCommandHostPidNotice"))}},tooltip:"".concat(P.format("createParamsDemo",{params:"--pid host"})),name:"hostPid",label:P.format("createAdvRunCommandHostPid"),initialValue:!1})]})})}var ie=e(62597),We=e(82346),ke=e(20743),$e=(0,a.forwardRef)(function(x,Re){var P=(0,a.useRef)(),ce=(0,a.useRef)(),z=new M.Uo("components.appForm");(0,a.useImperativeHandle)(Re,function(){return{}});var me=function(A){var B,Oe,Y=!1,Z=(B=(Oe=P.current)===null||Oe===void 0?void 0:Oe.getList())!==null&&B!==void 0?B:[];if(Z.map(function(V){V.name==A.name&&(Y=!0)}),!Y){var y;(y=P.current)===null||y===void 0||y.add(A)}};return(0,n.jsxs)(f.Z,{ghost:!0,title:z.format("createNetworkTitle"),tooltip:"".concat(z.format("createParamsDemo",{params:"--network list"})),headerBordered:!0,extra:(0,n.jsx)(E.Z,{children:x.showUseBridgeNetwork&&(0,n.jsx)(G.Z,{name:"useBridgeNetwork",initialValue:!0,fieldProps:{checkedChildren:z.format("createNetworkUseBridgeNetwork"),unCheckedChildren:z.format("createNetworkUseBridgeNetwork")}},"useBridgeNetwork")}),children:[(0,n.jsx)(b.u,{name:"network",actionRef:P,creatorButtonProps:{creatorButtonText:z.format("createNetworkAddButton")},actionGuard:{beforeAddRow:function(A,B){var Oe;return(Oe=ce.current)===null||Oe===void 0||Oe.show(),!1}},copyIconProps:!1,min:0,itemRender:function(A,B){return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(Q.UW,{children:[(0,n.jsx)(d.Z,{label:z.format("createNetworkName"),name:"name",width:"md",disabled:!0,fieldProps:{value:B.record.name}}),(0,n.jsx)(d.Z,{label:z.format("createNetworkAlise"),name:"alise",tooltip:z.format("createNetworkAliseTip"),placeholder:z.format("createNetworkAliseEmpty"),disabled:B.record.name=="bridge"}),(0,n.jsx)(d.Z,{label:"IpV4",name:"ipV4",width:"md",disabled:B.record.name=="bridge",fieldProps:{addonAfter:B.record.subnet}}),B.record.subnetV6&&(0,n.jsx)(d.Z,{label:"IpV6",name:"ipV6",width:"md",disabled:B.record.name=="bridge",fieldProps:{addonAfter:B.record.subnetV6}}),(0,n.jsx)(j.Z,{label:" ",children:A.action})]})})}}),(0,n.jsx)(ke.Z,{ref:ce,onSelect:function(A){me({name:A.Name,alise:[""],subnet:A.IPAM.Config&&A.IPAM.Config[0].Subnet,subnetV6:A.IPAM.Config&&A.IPAM.Config[1]&&A.IPAM.Config[1].Subnet})}})]})}),te=$e,en=e(82034),we=e(52255),Ge=e(59252),Ke=e(73813),jn=function(Re){var P=new M.Uo("components.appForm");return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(f.Z,{title:P.format("createSelfNetworkTitle"),subTitle:P.format("createSelfNetworkTitleTip"),tooltip:"".concat(P.format("createParamsDemo",{params:"--network string --ip string --ip6 string"})),ghost:!0,children:[(0,n.jsxs)(Q.UW,{children:[(0,n.jsx)(d.Z,{label:P.format("createSelfNetworkIp",{ip:"ipv4"}),name:["ipV4","address"],width:"md",tooltip:P.format("createSelfNetworkIpTip",{ip:"ipv4",example:"192.168.1.5"}),placeholder:"192.168.1.5"}),(0,n.jsx)(D.Z,{name:["ipV4"],children:function(z){var me=z.ipV4;return(0,n.jsx)(d.Z,{label:P.format("createSelfNetworkIpSubnet",{ip:"ipv4"}),name:["ipV4","subnet"],width:"md",required:me&&me.address,tooltip:P.format("createSelfNetworkIpSubnetTip",{ip:"ipv4",example:"192.168.1.0/24"}),placeholder:"192.168.1.0/24",rules:[{required:me&&me.address}]})}}),(0,n.jsx)(d.Z,{label:P.format("createSelfNetworkIpGateway",{ip:"ipv4"}),name:["ipV4","gateway"],width:"md",tooltip:P.format("createSelfNetworkIpGatewayTip",{ip:"ipv4",example:"192.168.1.1"}),placeholder:"192.168.1.1"}),(0,n.jsx)(G.Z,{label:P.format("createSelfNetworkIpV6Enable"),name:"enableIpV6Address"})]}),(0,n.jsx)(D.Z,{name:["enableIpV6Address"],children:function(z){var me=z.enableIpV6Address;if(me)return(0,n.jsxs)(Q.UW,{children:[(0,n.jsx)(d.Z,{label:P.format("createSelfNetworkIp",{ip:"ipv6"}),name:["ipV6","address"],width:"md",tooltip:P.format("createSelfNetworkIpTip",{ip:"ipv6",example:"2001:db8::5"}),placeholder:"2001:db8::5"}),(0,n.jsx)(D.Z,{name:["ipV6"],children:function(A){var B=A.ipV6;return(0,n.jsx)(d.Z,{label:P.format("createSelfNetworkIpSubnet",{ip:"ipv6"}),name:["ipV6","subnet"],width:"md",required:B&&B.address,tooltip:P.format("createSelfNetworkIpSubnetTip",{ip:"ipv6",example:"2001:db8::/48"}),placeholder:"2001:db8::/48",rules:[{required:B&&B.address}]})}}),(0,n.jsx)(d.Z,{label:P.format("createSelfNetworkIpGateway",{ip:"ipv6"}),name:["ipV6","gateway"],width:"md",tooltip:P.format("createSelfNetworkIpGatewayTip",{ip:"ipv6",example:"2001:db8::1"}),placeholder:"2001:db8::1"})]})}})]})})},Se=jn,wn=e(90672);function Tn(){var x=new M.Uo("components.appForm");return(0,n.jsx)(f.Z,{ghost:!0,title:x.format("createHookTitle"),subTitle:"",children:(0,n.jsx)(wn.Z,{label:x.format("createHookContainerCreate"),name:["hook","containerCreate"],placeholder:x.format("createHookContainerCreateTip")})})}var Zn=e(93529),Un=e(9773),Ln=e(66309),Wn=e(96074),Sn=e(83062),Nn=e(64789),Bn=e(85060),In=e(78451),kn=e(99861),Kn=e(80821),Fn=e(1699),Vn=e(80271),Hn=e(47248),$n=e(67255);function Gn(x){var Re=(0,a.useState)(!1),P=R()(Re,2),ce=P[0],z=P[1],me=(0,a.useContext)(p.Z),he=me.createFormRef,A=me.volumeListRef,B=me.createEnvRef,Oe=me.domainRef,Y=new M.Uo("components.appForm");function Z(V){return y.apply(this,arguments)}function y(){return y=W()(l()().mark(function V(J){var w,_e,Ie,H,xe,Te,Ze,ae,X,s,pe,De;return l()().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return fe.next=2,(0,Ke.YU)({md5:J});case 2:return H=fe.sent,x.redeploy||(ae=(xe=he.current)===null||xe===void 0?void 0:xe.getFieldsValue(),(Te=he.current)===null||Te===void 0||Te.resetFields(),(Ze=he.current)===null||Ze===void 0||Ze.setFieldsValue({siteName:ae.siteName,siteTitle:ae.siteTitle})),H.data.info.Config.Env&&H.data.info.Config.Env.map(function(ve){var ge,Ue=ve.split("=");(ge=B.current)===null||ge===void 0||ge.addEnvItem(Ue[0],Ue.slice(1).join("="))}),(w=he.current)===null||w===void 0||w.setFieldValue("imageName",J),(_e=he.current)===null||_e===void 0||_e.setFieldValue("workDir",H.data.info.Config.WorkingDir),(Ie=Oe.current)===null||Ie===void 0||Ie.setExposePort(H.data.info.Config.ExposedPorts),x.redeploy||(H.data.info.Config.Volumes?(pe=[],Object.keys(H.data.info.Config.Volumes).map(function(ve,ge){pe.push(ve)}),(s=A.current)===null||s===void 0||s.setDefaultDestPath(pe)):(De=A.current)===null||De===void 0||De.setDefaultDestPath([]),(X=he.current)===null||X===void 0||X.setFieldsValue({workDir:{value:"",useDefault:!0,default:H.data.info.Config.WorkingDir},user:{value:"",useDefault:!0,default:H.data.info.Config.User},command:{value:"",useDefault:!0,default:H.data.info.Config.Cmd&&H.data.info.Config.Cmd.join(" ")},entrypoint:{value:"",useDefault:!0,default:H.data.info.Config.Entrypoint&&H.data.info.Config.Entrypoint.join(" ")}})),fe.abrupt("return",!0);case 10:case"end":return fe.stop()}},V)})),y.apply(this,arguments)}return(0,a.useEffect)(function(){x.fromImageId&&Z(x.fromImageId)},[x.fromImageId]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Z,{destroyOnHidden:!0,open:ce,width:re.R_,title:Y.format("dockerImageTitle"),footer:!1,onClose:function(){z(!1)},children:(0,n.jsx)(Un.Z,{scroll:{x:"max-content"},columns:[{title:"Id",dataIndex:"Id",search:!1,width:120,render:function(J,w,_e,Ie,H){return(0,n.jsx)(In.Z,{content:w.Id.slice(7,19)})}},{title:M.FD.format("listImageName"),dataIndex:"tag",render:function(J,w,_e,Ie){return(0,n.jsx)(In.Z,{content:w.RepoTags[0]})}},{title:"Digest",width:120,render:function(J,w,_e,Ie,H){var xe=w.RepoDigests&&w.RepoDigests[0];return xe?xe.substring(xe.indexOf("@")+8).substring(0,12):(0,n.jsx)(Ln.Z,{color:"warning",children:new M.Uo("components.appDetail").format("checkImageUpgradeOption.-3")})}},{title:M.FD.format("listCreatedAt"),dataIndex:"Created",search:!1,width:180,render:function(J,w,_e,Ie){return(0,n.jsx)("div",{children:(0,h.ZM)(w.Created*1e3)},w.Id)},sorter:function(J,w){return J.Created-w.Created}},{title:M.FD.format("listManage"),valueType:"option",key:"option",width:50,render:function(J,w,_e,Ie){return(0,n.jsx)(E.Z,{split:(0,n.jsx)(Wn.Z,{type:"vertical"}),children:(0,n.jsx)(Kn.Z,{buttonProps:{icon:(0,n.jsx)(Nn.Z,{}),type:"link"},tips:M.FD.format("listManageUse"),action:function(){return Z(w.RepoTags[0])},onSuccess:function(){z(!1)}},"addImage")})}}],request:function(){var V=W()(l()().mark(function J(w,_e,Ie){var H,xe,Te;return l()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return x.redeploy,ae.next=3,(0,Ke.KG)({tag:w.tag});case 3:return H=ae.sent,xe=0,Te=[],H.data.list&&(Te=H.data.list.flatMap(function(X){return X.RepoTags.map(function(s){var pe,De=(pe=X.RepoDigests)===null||pe===void 0?void 0:pe.find(function(Ae){var fe=Ae.split("@"),ve=R()(fe,2),ge=ve[0],Ue=ve[1];return s.includes(ge)});return{Key:xe++,Id:X.Id,Created:X.Created,RepoTags:[s],RepoDigests:[De]}})})),ae.abrupt("return",{data:Te,success:!0,total:Te.length});case 8:case"end":return ae.stop()}},J)}));return function(J,w,_e){return V.apply(this,arguments)}}(),rowKey:"Key",pagination:(0,$n.Oh)()})},"imageTableList"),(0,n.jsxs)(E.Z.Compact,{children:[(0,n.jsx)(d.Z,{width:"lg",label:Y.format("dockerImageImageName"),name:"imageName",disabled:!0,placeholder:Y.format("dockerImageImageNameEmpty"),rules:[{required:!0}],required:!0}),(0,n.jsx)(j.Z,{label:" ",children:(0,n.jsx)(ne.ZP,{type:"primary",onClick:function(){return z(!0)},children:Y.format("dockerImageTitle")},"showBtn")}),(0,n.jsx)(D.Z,{name:["imageName"],children:function(J){var w=J.imageName;if(w)return(0,n.jsx)(j.Z,{label:" ",children:(0,n.jsx)(kn.Z,{finishAutoHide:!0,image:w?[w]:[],trigger:(0,n.jsx)(Sn.Z,{title:Y.format("dockerImageUpgradeImageTip"),children:(0,n.jsx)(ne.ZP,{icon:(0,n.jsx)(Bn.Z,{}),children:Y.format("dockerImageUpgradeImageButton")})})})})}}),(0,n.jsx)(j.Z,{label:" ",children:(0,n.jsx)(Hn.Z,{onFinish:function(J){Z(J)}},"remote")}),(0,n.jsx)(j.Z,{label:" ",children:(0,n.jsx)(D.Z,{name:["imageName"],children:function(J){var w=J.imageName;if(w)return(0,n.jsx)(Fn.u,{access:"canSeeEnableCe",showProTips:!0,children:function(Ie){var H=Ie.canSeeEnableCe;return(0,n.jsx)(Vn.Z,{imageId:w,trigger:(0,n.jsx)(ne.ZP,{disabled:H,children:Y.format("dockerImageFileExplorer")})})}})}})})]})]})}var zn=e(44349);function Yn(){var x=new M.Uo("components.appForm");return(0,n.jsx)(f.Z,{ghost:!0,title:x.format("createDevice"),headerBordered:!0,tooltip:"".concat(x.format("createParamsDemo",{params:"--device list"})),children:(0,n.jsx)(zn.Z,{name:"device",showAddButtonLabel:"".concat(M.FD.format("listManageAdd")).concat(x.format("createDevice")),hideCopyButton:!0,showAddButton:!0,gap:10,items:[{label:x.format("createDeviceHost"),name:"host",width:"md",placeholder:"/dev/tty0"},{label:x.format("createDeviceDest"),name:"dest",width:"md",placeholder:"/dev/tty0"}]})})}var On=e(64317);function Jn(){var x=new M.Uo("components.appForm");return(0,n.jsxs)(f.Z,{ghost:!0,children:[(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(c.Z,{span:4,children:(0,n.jsx)(G.Z,{label:x.format("createGpus"),name:["gpus","enable"]})}),(0,n.jsx)(c.Z,{span:20,children:(0,n.jsx)(D.Z,{name:["gpus"],children:function(P){var ce=P.gpus;if(ce&&ce.enable)return(0,n.jsx)(On.Z,{tooltip:"".concat(x.format("createParamsDemo",{params:"--gpus 'device=0'"})),mode:"tags",label:x.format("createGpusDevice"),name:["gpus","device"],placeholder:x.format("createGpusDeviceEmpty")})}})})]}),(0,n.jsx)(D.Z,{name:["gpus"],children:function(P){var ce=P.gpus;if(ce&&ce.enable)return(0,n.jsx)(On.Z,{tooltip:"".concat(x.format("createParamsDemo",{params:"--gpus 'capabilities=compute,utility'"})),label:x.format("createGpusCap"),name:["gpus","capabilities"],mode:"multiple",fieldProps:{allowClear:!0},options:x.option("createGpusCapOption",["compute","compat32","graphics","utility","video","display"])})}})]})}var Xn=e(55730),Qn=e(27323),qn=e(44771),er=e(33879),nr=e(96486),on=e.n(nr),rr=e(73396),Dn=e(14946),tr=e(13822),ar=e(64412),or=e(27166),sr=(0,a.forwardRef)(function(x,Re){var P,ce=(0,a.useContext)(de.Z),z=ce.notice,me=(0,We.useAccess)(),he=(0,a.useState)("basic"),A=R()(he,2),B=A[0],Oe=A[1],Y=new M.Uo("app"),Z=new M.Uo("components.appForm"),y=(0,a.useRef)(),V=(0,a.useRef)(),J=(0,a.useRef)(),w=(0,a.useRef)(),_e=(0,a.useRef)(),Ie=(0,a.useState)(!1),H=R()(Ie,2),xe=H[0],Te=H[1],Ze=(0,a.useRef)();return(0,a.useImperativeHandle)(Re,function(){return{show:function(X){return W()(l()().mark(function s(){var pe,De,Ae,fe,ve,ge,Ue,an,ye,be,ze,sn,ln,un,dn,cn,mn,_n,Ye,pn,fn,vn,hn,Je,Fe,r,Me,bn,Xe,Mn,Rn,Qe,xn,gn;return l()().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:if((pe=y.current)===null||pe===void 0||pe.resetFields(),X){Pe.next=3;break}return Pe.abrupt("return");case 3:return Te(!0),(De=Ze.current)===null||De===void 0||De.loading(),Pe.prev=5,Pe.next=8,(0,ie.iE)({id:X});case 8:if(Fe=Pe.sent,r=(Ae=Fe.data.containerInfo)===null||Ae===void 0?void 0:Ae.Info,Me={info:{}},!r){Pe.next=16;break}return Pe.next=14,(0,Ke.YU)({md5:r.Image});case 14:bn=Pe.sent,Me=bn.data;case 16:return Xe=[],Pe.next=19,(0,Dn.jR)();case 19:return Mn=Pe.sent,Xe=Mn.data.list,Rn=function(i){if(!i)return{};var I=i[Fe.data.siteName];if(!I)return{};var O=Xe&&Xe.find(function(oe){return oe.Id==I.NetworkID});return{ipV4:{address:I.IPAddress,gateway:I.Gateway,subnet:O&&O.IPAM.Config&&O.IPAM.Config[0]&&O.IPAM.Config[0].Subnet},ipV6:{address:I.GlobalIPv6Address,gateway:I.IPv6Gateway,subnet:O&&O.IPAM.Config&&O.IPAM.Config[1]&&O.IPAM.Config[1].Subnet},enableIpV6Address:O&&O.IPAM.Config&&O.IPAM.Config[1],bindIpV6:!!(O&&O.IPAM.Config&&O.IPAM.Config[1])}}(r==null?void 0:r.NetworkSettings.Networks),Qe=[],Pe.next=25,function(){var i=W()(l()().mark(function I(O,oe){var Be;return l()().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:if(!(!(oe!=null&&oe.NetworkSettings)||!(oe!=null&&oe.NetworkSettings.Networks)||!(oe!=null&&oe.NetworkSettings.Networks[O]))){Ee.next=2;break}return Ee.abrupt("return",[]);case 2:return Ee.next=4,(0,Dn.IS)({name:O});case 4:if(Be=Ee.sent,Ee.t0=Be.data.info.Containers,!Ee.t0){Ee.next=10;break}return Ee.next=9,Promise.all(Object.entries(Be.data.info.Containers).filter(function(Pn){var nn=R()(Pn,2),An=nn[0],rn=nn[1];return rn.Name!=O}).map(function(){var Pn=W()(l()().mark(function nn(An){var rn,lr,tn,qe,yn,Ve,En;return l()().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:if(rn=R()(An,2),lr=rn[0],tn=rn[1],tn.Name==O){He.next=9;break}return He.next=4,(0,tr.jV)({md5:tn.Name});case 4:return yn=He.sent,Ve=yn.data.info,En=(qe=oe.HostConfig)===null||qe===void 0||(qe=qe.VolumesFrom)===null||qe===void 0?void 0:qe.includes(tn.Name),En&&Ve.Mounts&&Qe.push.apply(Qe,L()(Ve.Mounts.map(function(ur){var Cn;return(Cn=ur.Destination)!==null&&Cn!==void 0?Cn:""}))),He.abrupt("return",{name:tn.Name,alise:Ve&&(0,K.zY)(Ve.Name),env:Ve&&Ve.Config.Env,volume:En});case 9:case"end":return He.stop()}},nn)}));return function(nn){return Pn.apply(this,arguments)}}()));case 9:Ee.t0=Ee.sent;case 10:return Ee.abrupt("return",Ee.t0);case 11:case"end":return Ee.stop()}},I)}));return function(I,O){return i.apply(this,arguments)}}()(Fe.data.siteName,r);case 25:xn=Pe.sent,(fe=y.current)===null||fe===void 0||fe.setFieldsValue(v()({id:r==null?void 0:r.Id,siteTitle:Fe.data.siteTitle,siteName:Fe.data.siteName,hook:Fe.data.env.hook,imageName:r==null?void 0:r.Config.Image,hostname:r==null?void 0:r.Config.Hostname,privileged:r==null||(ve=r.HostConfig)===null||ve===void 0?void 0:ve.Privileged,useHostNetwork:(r==null||(ge=r.HostConfig)===null||ge===void 0?void 0:ge.NetworkMode)=="host",publishAllPorts:r==null||(Ue=r.HostConfig)===null||Ue===void 0?void 0:Ue.PublishAllPorts,groupAdd:r==null||(an=r.HostConfig)===null||an===void 0?void 0:an.GroupAdd,workDir:{value:r==null?void 0:r.Config.WorkingDir,useDefault:Me.info.Config.WorkingDir==(r==null?void 0:r.Config.WorkingDir),default:Me&&Me.info.Config&&Me.info.Config.WorkingDir},user:{value:r==null?void 0:r.Config.User,useDefault:Me.info.Config.User==(r==null?void 0:r.Config.User),default:Me.info.Config.User},command:{value:r==null||(ye=r.Config.Cmd)===null||ye===void 0?void 0:ye.join(" "),useDefault:on().isEqual(Me.info.Config.Cmd,r==null?void 0:r.Config.Cmd),default:((be=Me.info.Config)===null||be===void 0?void 0:be.Cmd)&&Me.info.Config.Cmd.join(" ")},entrypoint:{value:r==null?void 0:r.Config.Entrypoint,useDefault:on().isEqual(Me.info.Config.Entrypoint,r==null?void 0:r.Config.Entrypoint),default:((ze=Me.info)===null||ze===void 0||(ze=ze.Config)===null||ze===void 0?void 0:ze.Entrypoint)&&Me.info.Config.Entrypoint.join(" ")},shmsize:(0,K.Rk)(r==null||(sn=r.HostConfig)===null||sn===void 0?void 0:sn.ShmSize),cpus:(0,K.PD)(r==null||(ln=r.HostConfig)===null||ln===void 0?void 0:ln.NanoCpus),memory:(0,K.pM)(r==null||(un=r.HostConfig)===null||un===void 0?void 0:un.Memory),environment:(r==null?void 0:r.Config.Env)&&(0,h.oZ)(r.Config.Env,"="),label:function(i){return i&&Object.entries(i).map(function(I){var O=R()(I,2),oe=O[0],Be=O[1];return{name:oe,value:Be}})}(r==null?void 0:r.Config.Labels),volumes:function(i){return i==null?void 0:i.filter(function(I){var O;return!Qe||Qe.length==0||!Qe.includes((O=I.Destination)!==null&&O!==void 0?O:"")}).map(function(I){return{host:I.Type=="bind"?I.Source:I.Name,dest:I.Destination,type:I.Type,permission:I.RW?"write":"readonly"}})}(r==null?void 0:r.Mounts),ports:(0,K.yi)(r),links:xn,network:function(i){return i&&Object.entries(i).map(function(I){var O=R()(I,2),oe=O[0],Be=O[1],Ne=Xe&&Xe.find(function(Ee){return Ee.Name==oe});return{name:oe,alise:"",ipV4:Be.IPAddress,subnet:"".concat(Ne&&Ne.IPAM.Config&&Ne!==null&&Ne!==void 0&&Ne.IPAM.Config[0]?Ne==null?void 0:Ne.IPAM.Config[0].Subnet:"-","/").concat(Be.IPPrefixLen)}})}(r==null?void 0:r.NetworkSettings.Networks),restart:function(i){return i?{name:i==null?void 0:i.Name,maxAttempt:i==null?void 0:i.MaximumRetryCount}:{name:"no"}}(r==null||(dn=r.HostConfig)===null||dn===void 0?void 0:dn.RestartPolicy),extraHosts:(0,h.oZ)(r==null||(cn=r.HostConfig)===null||cn===void 0?void 0:cn.ExtraHosts,":"),autoRemove:r==null||(mn=r.HostConfig)===null||mn===void 0?void 0:mn.AutoRemove,log:function(i,I){return{driver:(I=i==null?void 0:i.Type)!==null&&I!==void 0?I:"json-file",maxFile:(i==null?void 0:i.Config)&&i.Config["max-file"],maxSize:(i==null?void 0:i.Config)&&i.Config["max-size"]}}(r==null||(_n=r.HostConfig)===null||_n===void 0?void 0:_n.LogConfig),dns:r==null||(Ye=r.HostConfig)===null||Ye===void 0||(Ye=Ye.Dns)===null||Ye===void 0?void 0:Ye.join(`
`),gpus:function(i){var I=i==null?void 0:i.find(function(oe){return oe.Driver=="nvidia"});if(!I)return{enable:!1};var O=I.Capabilities&&I.Capabilities[0];return{device:I.DeviceIDs,capabilities:O&&O.includes("gpu")?[]:O,enable:!0}}(r==null||(pn=r.HostConfig)===null||pn===void 0?void 0:pn.DeviceRequests),device:function(i){return i==null?void 0:i.map(function(I){return{host:I.PathOnHost,dest:I.PathInContainer}})}(r==null||(fn=r.HostConfig)===null||fn===void 0?void 0:fn.Devices),hostPid:(r==null||(vn=r.HostConfig)===null||vn===void 0?void 0:vn.PidMode)=="host",capAdd:r==null||(hn=r.HostConfig)===null||hn===void 0?void 0:hn.CapAdd,healthcheck:function(i,I,O){if(!i)return{};var oe=i!=null&&(I=i.Test)!==null&&I!==void 0&&I.includes("CMD-SHELL")?"CMD-SHELL":"CMD";return{interval:(i==null?void 0:i.Interval)&&i.Interval/ie.nL.Second,timeout:(i==null?void 0:i.Timeout)&&i.Timeout/ie.nL.Second,retries:i==null?void 0:i.Retries,cmd:i!=null&&i.Test?i==null||(O=i.Test)===null||O===void 0?void 0:O.slice(1).join(" "):"",shellType:oe}}(r==null?void 0:r.Config.Healthcheck),useBridgeNetwork:function(i){return!!(i&&i.bridge)}(r==null?void 0:r.NetworkSettings.Networks),enableBindHost:r==null||(Je=r.HostConfig)===null||Je===void 0||(Je=Je.ExtraHosts)===null||Je===void 0?void 0:Je.some(function(i){return i.includes(":host-gateway")})},Rn));case 27:return Pe.prev=27,(gn=Ze.current)===null||gn===void 0||gn.finish(),Pe.finish(27);case 30:case"end":return Pe.stop()}},s,null,[[5,,27,30]])}))()}}}),(0,n.jsx)(p.Z.Provider,{value:{createFormRef:y,volumeListRef:V,domainRef:J,createEnvRef:_e,createLinkRef:w},children:(0,n.jsx)(or.Z,{title:M.Ob.format("container.create"),trigger:x.showTrigger?(0,n.jsx)(ne.ZP,{type:"primary",disabled:!me.canSeeContainerListManageCreate,children:M.Ob.format("container.create")}):void 0,drawerProps:{forceRender:!0,width:re.R_,rootClassName:"createAppWapper"},ref:Ze,formRef:y,onFinish:function(){var ae=W()(l()().mark(function X(s){var pe,De,Ae,fe,ve,ge,Ue;return l()().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:if((pe=Ze.current)===null||pe===void 0||pe.loading(),ge={id:s.id,siteTitle:s.siteTitle,siteName:s.siteName,hostname:s.hostname,imageName:s.imageName,environment:s.environment,links:s.links,ports:s.ports,volumes:s.volumes,network:s.network&&s.network.map(function(be){return on().isArray(be.alise)||(be.alise=[be.alise]),be}),privileged:(De=s.privileged)!==null&&De!==void 0?De:!1,autoRemove:(Ae=s.autoRemove)!==null&&Ae!==void 0?Ae:!1,restartPolicy:s.restart,cpus:s.cpus,memory:s.memory,shmsize:(fe=s.shmsize)!==null&&fe!==void 0?fe:0,workDir:s.workDir&&!s.workDir.useDefault?s.workDir.value:"",user:s.user&&!s.user.useDefault?s.user.value:"",groupAdd:s.groupAdd,command:s.command&&!s.command.useDefault?s.command.value:"",entrypoint:s.entrypoint&&!s.entrypoint.useDefault?s.entrypoint.value:"",useHostNetwork:s.useHostNetwork,bindIpV6:s.bindIpV6,log:s.log,dns:s.dns,label:s.label,publishAllPorts:s.publishAllPorts,extraHosts:s.extraHosts,ipV4:s.ipV4,ipV6:s.ipV6,device:s.device,gpus:s.gpus,hook:s.hook,hostPid:s.hostPid,capAdd:s.capAdd,useBridgeNetwork:(ve=s.useBridgeNetwork)!==null&&ve!==void 0?ve:!0},!(!s.useBridgeNetwork&&!s.useHostNetwork&&(!s.network||s.network.length==0))){ye.next=5;break}return z.error(Y.format("createMessageNoBridgeNetworkMustHasUseNetwork")),ye.abrupt("return",!1);case 5:return s.useBridgeNetwork&&ge.network&&!ge.network.find(function(be){return be.name=="bridge"})&&ge.network.push({name:"bridge",alise:[],ipV4:""}),s.healthcheck&&s.healthcheck.cmd&&s.healthcheck.cmd!=""&&(ge.healthcheck=s.healthcheck),ye.next=9,(0,ie.$G)(ge).finally(function(){var be;(be=Ze.current)===null||be===void 0||be.finish()});case 9:return Ue=ye.sent,x.onFinish&&x.onFinish(Ue.data.containerId),ye.abrupt("return",!0);case 12:case"end":return ye.stop()}},X)}));return function(X){return ae.apply(this,arguments)}}(),open:xe,onOpenChange:function(X){var s;Te(X),!X&&((s=y.current)===null||s===void 0||s.resetFields())},children:(0,n.jsxs)(f.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,n.jsxs)(f.Z,{ghost:!0,title:Y.format("createTitle"),children:[(0,n.jsx)(j.Z,{hidden:!0,name:"id"}),(0,n.jsx)(d.Z,{name:"siteTitle",label:Y.format("createSiteTitle"),placeholder:Y.format("createSiteTitleEmpty")}),(0,n.jsxs)(Q.UW,{children:[(0,n.jsx)(d.Z,{width:"md",name:"siteName",label:Y.format("createSiteName"),required:!0,rules:[{required:!0}],tooltip:"".concat(Z.format("createParamsDemo",{params:"--name string"})),placeholder:Y.format("createSiteNameEmpty")}),(0,n.jsx)(d.Z,{label:"Hostname",name:"hostname",width:"md",tooltip:"".concat(Z.format("createParamsDemo",{params:"--hostname string"}))})]}),(0,n.jsx)(Gn,{redeploy:(P=y.current)===null||P===void 0?void 0:P.getFieldValue("id"),fromImageId:""})]}),(0,n.jsx)($.Z,{offsetTop:10,target:function(){return document.querySelector(".createAppWapper .ant-drawer-body")},children:(0,n.jsx)(f.Z,{style:{margin:-20},children:(0,n.jsx)(q.Z,{activeKey:B,onChange:function(X){Oe(X)},items:Z.option("createTabOption",["basic","link","run-command","resource","cap"]).map(function(ae){return{label:ae.label,key:ae.value}})})})}),(0,n.jsxs)(we.Z,{show:B=="basic",children:[(0,n.jsx)(en.Z,{ref:J,showBindHost:!0,showBindIpV6:!0,showBindAll:!0}),(0,n.jsx)(_.Z,{showAddButton:!0,showImportButton:!0,showCodeMode:!0,ref:_e,drawerProps:{title:Z.format("createEnvTitle"),tooltip:"".concat(Z.format("createParamsDemo",{params:"-e, --env list"})),ghost:!0}}),(0,n.jsx)(T.Z,{showDefault:!0,ref:V}),(0,n.jsx)(D.Z,{name:["siteName","useHostNetwork"],children:function(X){var s=X.siteName,pe=X.useHostNetwork;if(!pe)return(0,n.jsx)(Se,{})}}),(0,n.jsx)(ar.Z,{}),(0,n.jsx)(Ce.Z,{})]}),(0,n.jsxs)(we.Z,{show:B=="link",children:[(0,n.jsx)(D.Z,{name:["siteName","useHostNetwork"],children:function(X){var s=X.siteName,pe=X.useHostNetwork;return pe?(0,n.jsx)(f.Z,{children:(0,n.jsx)(g.Z,{showIcon:!0,description:Y.format("createNetworkDesc")})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F,{onAddEnv:function(Ae,fe){var ve;(ve=_e.current)===null||ve===void 0||ve.addEnvItem(Ae,fe)},ref:w}),(0,n.jsx)(te,{showUseBridgeNetwork:!0,siteName:s}),(0,n.jsx)(Ge.Z,{})]})}}),(0,n.jsx)(Yn,{})]}),(0,n.jsxs)(we.Z,{show:B=="run-command",children:[(0,n.jsxs)(Q.UW,{children:[(0,n.jsx)(qn.Z,{ghost:!0,defaultValue:"always",showLabel:!0}),(0,n.jsx)(je,{})]}),(0,n.jsx)(er.Z,{showCommand:!0,showEntrypoint:!0,showWorkDir:!0,showUser:!0}),(0,n.jsx)(Qn.Z,{}),(0,n.jsx)(Tn,{})]}),(0,n.jsxs)(we.Z,{show:B=="resource",children:[(0,n.jsx)(rr.Z,{}),(0,n.jsx)(Xn.Z,{showShmsize:!0}),(0,n.jsx)(Jn,{})]}),(0,n.jsx)(we.Z,{show:B=="cap",children:(0,n.jsx)(Zn.Z,{})})]})})})}),ir=sr},92067:function(Le,le,e){e.d(le,{Z:function(){return ne}});var ue=e(15009),v=e.n(ue),se=e(99289),l=e.n(se),U=e(13822),L=e(64789),C=e(9773),W=e(42075),S=e(83062),R=e(83622),f=e(37413),j=e(5251),d=e(36146),Q=e(67255),D=e(85893);function ne($){return(0,D.jsx)(C.Z,{columns:[{title:d.FD.format("listContainerName"),dataIndex:"name",render:function(g,a,p,m){return(0,D.jsx)(W.Z,{direction:"vertical",style:{textAlign:"left"},children:a==null?void 0:a.Names.map(function(t){return(0,j.fi)(t,"/")})},a.Id)}},{title:d.FD.format("listPort"),dataIndex:"ports",search:!1,render:function(g,a,p,m){var t=[],b=[];return a!=null&&a.Ports&&a.Ports.map(function(o,c){o.PublicPort?t.push(o):b.push(o)}),(0,D.jsx)(f.Z,{publicPort:t,privatePort:b,domain:[]})}},{title:d.FD.format("listManage"),valueType:"option",key:"option",ellipsis:!0,width:100,render:function(g,a,p,m){return[(0,D.jsx)(S.Z,{title:d.FD.format("listManageUse"),children:(0,D.jsx)(R.ZP,{type:"link",onClick:l()(v()().mark(function t(){var b;return v()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,U.jV)({md5:a.Id});case 2:b=c.sent,$.onSelect&&$.onSelect(b.data.info);case 4:case"end":return c.stop()}},t)})),children:(0,D.jsx)(L.Z,{})},a.Id)},a.Id)]}}],rowKey:"Id",request:function(){var q=l()(v()().mark(function g(a,p,m){var t;return v()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,U.IE)({siteTitle:a.name});case 2:return t=o.sent,o.abrupt("return",{data:t.data.list,success:!0,total:t.data.list.length});case 4:case"end":return o.stop()}},g)}));return function(g,a,p){return q.apply(this,arguments)}}(),pagination:(0,Q.Oh)()})}},16970:function(Le,le,e){var ue=e(15009),v=e.n(ue),se=e(99289),l=e.n(se),U=e(5574),L=e.n(U),C=e(3616),W=e(24963),S=e(14946),R=e(36146),f=e(184),j=e(5966),d=e(62370),Q=e(97462),D=e(52688),ne=e(24739),$=e(17186),q=e(83622),g=e(34041),a=e(71230),p=e(15746),m=e(67294),t=e(85893),b=(0,m.forwardRef)(function(o,c){var E,N=(0,m.useState)(!1),u=L()(N,2),k=u[0],h=u[1],re=(0,m.useRef)(),M=(0,m.useContext)(W.Z),K=M.message,n=new R.Uo("components.network");return(0,m.useImperativeHandle)(c,function(){return{}}),(0,t.jsxs)(f.a,{drawerProps:{width:C.R_},name:"createNetwork",title:n.format("createTitle"),open:k,onOpenChange:function(F){h(F)},formRef:re,trigger:(E=o.trigger)!==null&&E!==void 0?E:(0,t.jsx)(q.ZP,{type:"primary",children:n.format("createTitle")}),onFinish:function(){var ee=l()(v()().mark(function F(_){var T,Ce,G,de,je,ie,We,ke,$e,te,en,we,Ge,Ke;return v()().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return we={name:_.name,driver:(T=_.driver)!==null&&T!==void 0?T:"bridge",ipSubnet:(Ce=_.ipSubnet)!==null&&Ce!==void 0?Ce:"",ipGateway:(G=_.ipGateway)!==null&&G!==void 0?G:"",ipRange:(de=_.ipRange)!==null&&de!==void 0?de:"",ipAux:_.ipAux,enableIpV6:(je=_.enableIpV6)!==null&&je!==void 0?je:!1,ipV6Subnet:(ie=_.ipV6Subnet)!==null&&ie!==void 0?ie:"",ipV6Gateway:(We=_.ipV6Gateway)!==null&&We!==void 0?We:"",ipV6Range:(ke=_.ipV6Range)!==null&&ke!==void 0?ke:"",ipV6Aux:($e=_.ipV6Aux)!==null&&$e!==void 0?$e:[],driverOption:_.driverOption,internal:(te=_.internal)!==null&&te!==void 0?te:!1,attachable:(en=_.attachable)!==null&&en!==void 0?en:!1},(_.driver=="macvlan"||_.driver=="ipvlan")&&(we.driverOption||(we.driverOption=[]),we.driverOption.push({name:"parent",value:_.macvlanParentCard})),Se.next=4,(0,S.XY)(we);case 4:if(Ge=Se.sent,!(Ge&&Ge.data&&Ge.data.id!="")){Se.next=10;break}return K.success(R.FD.format("finish")),o.onFinish&&o.onFinish(),(Ke=re.current)===null||Ke===void 0||Ke.resetFields(),Se.abrupt("return",!0);case 10:case"end":return Se.stop()}},F)}));return function(F){return ee.apply(this,arguments)}}(),children:[(0,t.jsx)(j.Z,{label:n.format("createFormName"),name:"name",required:!0,rules:[{required:!0}],placeholder:n.format("createFormNameEmpty")}),(0,t.jsx)(d.Z,{label:n.format("createFormDriver"),name:"driver",children:(0,t.jsxs)(g.Z,{defaultValue:"bridge",children:[(0,t.jsx)(g.Z.Option,{value:"bridge",children:"bridge"}),(0,t.jsx)(g.Z.Option,{value:"macvlan",children:"macvlan"}),(0,t.jsx)(g.Z.Option,{value:"ipvlan",children:"ipvlan"}),(0,t.jsx)(g.Z.Option,{value:"overlay",children:"overlay"})]})}),(0,t.jsx)(Q.Z,{name:["driver"],children:function(F){var _=F.driver;if(_=="macvlan"||_=="ipvlan")return(0,t.jsx)(j.Z,{required:!0,rules:[{required:!0}],label:n.format("createFormDriverMacvlanParentCard"),name:"macvlanParentCard",tooltip:n.format("createFormDriverMacvlanParentCardTip")})}}),(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(p.Z,{span:8,children:(0,t.jsx)(D.Z,{label:n.format("createFormUserIpV4Subnet"),name:"userIpV4Subnet"})}),(0,t.jsx)(p.Z,{span:8,children:(0,t.jsx)(D.Z,{name:"internal",label:n.format("createFormInternal"),initialValue:!1})}),(0,t.jsx)(p.Z,{span:8,children:(0,t.jsx)(D.Z,{name:"attachable",label:n.format("createFormAttachable"),initialValue:!1})})]}),(0,t.jsx)(Q.Z,{name:["userIpV4Subnet"],children:function(F){var _=F.userIpV4Subnet;if(_)return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(ne.UW,{title:n.format("createFormIpTitle"),children:[(0,t.jsx)(j.Z,{label:n.format("createFormIpSubnet"),name:"ipSubnet",width:"md",tooltip:n.format("createFormIpSubnetTip"),placeholder:"192.168.0.0/16"}),(0,t.jsx)(j.Z,{label:n.format("createFormIpGateway"),name:"ipGateway",width:"md",placeholder:"192.168.0.1"}),(0,t.jsx)(j.Z,{label:n.format("createFormIpRange"),name:"ipRange",width:"md",placeholder:"192.168.1.0/24"})]}),(0,t.jsx)($.u,{name:"ipAux",label:n.format("createFormIpAux"),children:(0,t.jsxs)(ne.UW,{children:[(0,t.jsx)(j.Z,{label:n.format("createFormIpAuxDevice"),name:"device",width:"md"}),(0,t.jsx)(j.Z,{label:n.format("createFormIpAuxAddress"),name:"address",width:"md"})]})})]})}}),(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(p.Z,{span:8,children:(0,t.jsx)(D.Z,{label:n.format("createFormEnableIpV6"),name:"enableIpV6"})}),(0,t.jsx)(p.Z,{children:(0,t.jsx)(D.Z,{label:n.format("createFormUserIpV6Subnet"),name:"userIpV6Subnet",fieldProps:{onChange:function(F,_){if(F){var T;(T=re.current)===null||T===void 0||T.setFieldValue("enableIpV6",!0)}}}})})]}),(0,t.jsx)(Q.Z,{name:["userIpV6Subnet"],children:function(F){var _=F.userIpV6Subnet;if(_)return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(ne.UW,{title:n.format("createFormIpV6"),children:[(0,t.jsx)(j.Z,{label:n.format("createFormIpSubnet"),name:"ipV6Subnet",width:"md",placeholder:"2001:db8::/48"}),(0,t.jsx)(j.Z,{label:n.format("createFormIpGateway"),name:"ipV6Gateway",width:"md",placeholder:"2001:db8::1"}),(0,t.jsx)(j.Z,{label:n.format("createFormIpRange"),name:"ipV6Range",width:"md",placeholder:"2001:db8::/64"})]}),(0,t.jsx)($.u,{name:"ipV6Aux",label:n.format("createFormIpAux"),children:(0,t.jsxs)(ne.UW,{children:[(0,t.jsx)(j.Z,{label:n.format("createFormIpAuxDevice"),name:"device",width:"md"}),(0,t.jsx)(j.Z,{label:n.format("createFormIpAuxAddress"),name:"address",width:"md"})]})})]})}}),(0,t.jsx)($.u,{name:"driverOption",label:n.format("createFormDriverOption"),children:(0,t.jsxs)(ne.UW,{children:[(0,t.jsx)(j.Z,{label:n.format("createFormDriverOptionName"),name:"name",width:"md"}),(0,t.jsx)(j.Z,{label:n.format("createFormDriverOptionValue"),name:"value",width:"md"})]})})]})});le.Z=b},20743:function(Le,le,e){var ue=e(15009),v=e.n(ue),se=e(99289),l=e.n(se),U=e(5574),L=e.n(U),C=e(67294),W=e(14946),S=e(64789),R=e(9773),f=e(83622),j=e(85265),d=e(42075),Q=e(66309),D=e(16970),ne=e(3616),$=e(36146),q=e(67255),g=e(85893),a=(0,C.forwardRef)(function(p,m){(0,C.useImperativeHandle)(m,function(){return{show:function(){c(!0)}}});var t=(0,C.useState)(!1),b=L()(t,2),o=b[0],c=b[1],E=(0,C.useRef)(),N=new $.Uo("components.network");return(0,g.jsxs)(g.Fragment,{children:[p.showTriggerButton&&(0,g.jsx)(f.ZP,{onClick:function(){c(!0)},children:N.format("selectTriggerButton")}),(0,g.jsx)(j.Z,{title:N.format("selectDrawerTitle"),width:ne.R_,footer:!1,open:o,onClose:function(){return c(!1)},extra:(0,g.jsx)(d.Z,{children:(0,g.jsx)(D.Z,{onFinish:function(){var k,h;!((k=E.current)===null||k===void 0)&&k.reloadAndRest&&((h=E.current)===null||h===void 0||h.reloadAndRest())}},"create")}),children:(0,g.jsx)(R.Z,{rowKey:"Name",actionRef:E,columns:[{title:$.FD.format("listTitle"),dataIndex:"Name",render:function(k,h,re,M,K){return h.Name=="none"||h.Name=="bridge"||h.Name=="host"?(0,g.jsxs)(g.Fragment,{children:[h.Name," ",(0,g.jsx)(Q.Z,{color:"blue",children:"System"})]}):(0,g.jsx)(g.Fragment,{children:k})}},{title:$.FD.format("listType"),ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"Driver",ellipsis:!0,width:100,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",search:!1,width:120,render:function(k,h,re,M,K){return h.IPAM.Config&&h.IPAM.Config[0]&&(0,g.jsxs)(d.Z,{direction:"vertical",children:[h.IPAM.Config[0].Subnet,h.IPAM.Config[0].Gateway]})}},{title:"IPV6",search:!1,render:function(k,h,re,M,K){return h.IPAM.Config&&h.IPAM.Config[1]&&(0,g.jsxs)(d.Z,{direction:"vertical",children:[h.IPAM.Config[1].Subnet,h.IPAM.Config[1].Gateway]})}},{title:$.FD.format("listManage"),width:100,search:!1,render:function(k,h,re,M,K){return[h.Name!="none"&&h.Name!="bridge"&&h.Name!="host"&&(0,g.jsx)(f.ZP,{type:"link",onClick:function(){p.onSelect(h),c(!1)},children:(0,g.jsx)(S.Z,{})},h.Id)]}}],request:function(){var u=l()(v()().mark(function k(h,re,M){var K;return v()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.next=2,(0,W.jR)({name:h.Name});case 2:return K=ee.sent,ee.abrupt("return",{data:K.data.list,success:!0,total:K.data.list.length});case 4:case"end":return ee.stop()}},k)}));return function(k,h,re){return u.apply(this,arguments)}}(),pagination:(0,q.Oh)()})})]})});le.Z=a},13822:function(Le,le,e){e.d(le,{IE:function(){return R},IW:function(){return W},KK:function(){return ne},LJ:function(){return q},RF:function(){return m},Re:function(){return a},aF:function(){return b},eE:function(){return Q},jV:function(){return j}});var ue=e(5574),v=e.n(ue),se=e(15009),l=e.n(se),U=e(99289),L=e.n(U),C=e(82346);function W(c){return S.apply(this,arguments)}function S(){return S=L()(l()().mark(function c(E){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,C.request)("/api/app/container/status",{method:"POST",data:E}));case 1:case"end":return u.stop()}},c)})),S.apply(this,arguments)}function R(c){return f.apply(this,arguments)}function f(){return f=L()(l()().mark(function c(E){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,C.request)("/api/app/container/get-list",{data:E,method:"POST"}));case 1:case"end":return u.stop()}},c)})),f.apply(this,arguments)}function j(c){return d.apply(this,arguments)}function d(){return d=L()(l()().mark(function c(E){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,C.request)("/api/app/container/get-detail",{data:E,method:"POST"}));case 1:case"end":return u.stop()}},c)})),d.apply(this,arguments)}function Q(c){return D.apply(this,arguments)}function D(){return D=L()(l()().mark(function c(E){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,C.request)("/api/app/container/update",{data:E,method:"POST"}));case 1:case"end":return u.stop()}},c)})),D.apply(this,arguments)}function ne(){return $.apply(this,arguments)}function $(){return $=L()(l()().mark(function c(){return l()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.abrupt("return",(0,C.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return N.stop()}},c)})),$.apply(this,arguments)}function q(c){return g.apply(this,arguments)}function g(){return g=L()(l()().mark(function c(E){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!E.enableExportToPath){u.next=2;break}return u.abrupt("return",(0,C.request)("/api/app/container/export",{method:"GET",params:E}));case 2:return u.abrupt("return",new Promise(function(k,h){var re=localStorage.getItem("token"),M=new URLSearchParams;M.append("token",re||""),Object.entries(E).forEach(function(ee){var F=v()(ee,2),_=F[0],T=F[1];M.append(_,String(T))});var K="/api/app/container/export?".concat(M.toString()),n=document.createElement("iframe");n.style.display="none",n.src=K,document.body.appendChild(n),setTimeout(function(){n.parentElement&&document.body.removeChild(n)},5e3),k({code:200,data:"success",error:""})}));case 3:case"end":return u.stop()}},c)})),g.apply(this,arguments)}function a(c){return p.apply(this,arguments)}function p(){return p=L()(l()().mark(function c(E){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,C.request)("/api/app/container/commit",{method:"POST",data:E}));case 1:case"end":return u.stop()}},c)})),p.apply(this,arguments)}function m(c){return t.apply(this,arguments)}function t(){return t=L()(l()().mark(function c(E){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,C.request)("/api/app/container/upgrade",{method:"POST",data:E}));case 1:case"end":return u.stop()}},c)})),t.apply(this,arguments)}function b(c){return o.apply(this,arguments)}function o(){return o=L()(l()().mark(function c(E){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,C.request)("/api/app/container/copy",{method:"POST",data:E}));case 1:case"end":return u.stop()}},c)})),o.apply(this,arguments)}},14946:function(Le,le,e){e.d(le,{CI:function(){return R},HY:function(){return q},IS:function(){return L},XY:function(){return Q},_3:function(){return a},_x:function(){return j},jR:function(){return W},t9:function(){return ne}});var ue=e(15009),v=e.n(ue),se=e(99289),l=e.n(se),U=e(82346);function L(m){return C.apply(this,arguments)}function C(){return C=l()(v()().mark(function m(t){return v()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,U.request)("/api/app/network/get-detail",{method:"POST",data:t}));case 1:case"end":return o.stop()}},m)})),C.apply(this,arguments)}function W(m){return S.apply(this,arguments)}function S(){return S=l()(v()().mark(function m(t){return v()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,U.request)("/api/app/network/get-list",{method:"POST",data:t}));case 1:case"end":return o.stop()}},m)})),S.apply(this,arguments)}function R(){return f.apply(this,arguments)}function f(){return f=l()(v()().mark(function m(){return v()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,(0,U.request)("/api/app/network/prune",{method:"POST"});case 2:return b.abrupt("return",b.sent);case 3:case"end":return b.stop()}},m)})),f.apply(this,arguments)}function j(m){return d.apply(this,arguments)}function d(){return d=l()(v()().mark(function m(t){return v()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,U.request)("/api/app/network/delete",{method:"POST",data:t});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},m)})),d.apply(this,arguments)}function Q(m){return D.apply(this,arguments)}function D(){return D=l()(v()().mark(function m(t){return v()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,U.request)("/api/app/network/create",{method:"POST",data:t});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},m)})),D.apply(this,arguments)}function ne(m){return $.apply(this,arguments)}function $(){return $=l()(v()().mark(function m(t){return v()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,U.request)("/api/app/network/disconnect",{method:"POST",data:t});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},m)})),$.apply(this,arguments)}function q(m){return g.apply(this,arguments)}function g(){return g=l()(v()().mark(function m(t){return v()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,U.request)("/api/app/network/connect",{method:"POST",data:t});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},m)})),g.apply(this,arguments)}function a(m){return p.apply(this,arguments)}function p(){return p=l()(v()().mark(function m(t){return v()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,U.request)("/api/app/network/get-container-list",{method:"POST",data:t}));case 1:case"end":return o.stop()}},m)})),p.apply(this,arguments)}},77446:function(Le,le,e){e.d(le,{V:function(){return L},v:function(){return W}});var ue=e(15009),v=e.n(ue),se=e(99289),l=e.n(se),U=e(82346);function L(R){return C.apply(this,arguments)}function C(){return C=l()(v()().mark(function R(f){return v()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,U.request)("/api/pro/container-rollback/get-list",{data:f,method:"POST"});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},R)})),C.apply(this,arguments)}function W(R){return S.apply(this,arguments)}function S(){return S=l()(v()().mark(function R(f){return v()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,U.request)("/api/pro/container-rollback/restore",{data:f,method:"POST"});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},R)})),S.apply(this,arguments)}},89240:function(Le,le,e){e.d(le,{HJ:function(){return D},PD:function(){return $},Rk:function(){return ne},pM:function(){return q},yi:function(){return Q},zY:function(){return g}});var ue=e(64599),v=e.n(ue),se=e(5251),l=e(10531),U=e(43836),L=e(17179),C=e(74911),W=e(17637),S=e(58353),R=/^([1-9]|[1-5]?[0-9]{2,4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$/m;function f(a){return R.test(a)?parseInt(a,10):0}function j(a){typeof a!="string"&&(a=a.toString());var p=l.Z(a,"-",2),m=U.Z(p,f);return m.length==1&&m.push(m[0]),m}function d(a,p){typeof a!="string"&&(a=a.toString());var m=null,t=a.indexOf(":");t>=0&&(m=a.substring(0,t),a=a.substring(t+1)),p=typeof p=="number"?p:f(p);var b=j(a),o=Math.min(b[0],p),c=Math.max(b[1],p);return m?m+":"+o+"-"+c:o+"-"+c}function Q(a){if(!a||!a.HostConfig||!a.HostConfig.PortBindings)return[];var p=[],m=a.HostConfig.PortBindings,t=L.Z(m),b=C.Z(t,function(o){return l.Z(o,"/")[1]});return W.Z(b,function(o,c){var E={},N=v()(o),u;try{for(N.s();!(u=N.n()).done;){var k=u.value,h=v()(m[k]),re;try{for(h.s();!(re=h.n()).done;){var M=re.value;E[M.HostIp]=E[M.HostIp]||[],E[M.HostIp].push(k)}}catch(K){h.e(K)}finally{h.f()}}}catch(K){N.e(K)}finally{N.f()}W.Z(E,function(K,n){var ee=S.Z(K,function(T){return parseInt(l.Z(T,"/")[0],10)}),F=-1,_=-1;W.Z(ee,function(T){var Ce=l.Z(T,"/"),G=parseInt(Ce[0],10),de=m[T][0];m[T].shift();var je=f(de.HostPort);if(je>0){if(p.length>0&&F===je-1&&_===G-1){p[p.length-1].host=d(p[p.length-1].host,je),p[p.length-1].dest=d(p[p.length-1].dest,G),F=je,_=G;return}F=je,_=G}else F=-1,_=-1;var ie=de.HostPort.toString();n&&(ie="".concat(n,":").concat(ie)),p.push({host:ie,dest:G.toString(),protocol:c})})})}),p}function D(a){return(0,se.fi)(a,"/")}function ne(a){return a?(0,se.FI)(a):"64M"}function $(a){return a&&a>1e8?a/1e9:0}function q(a){return a?a/1024/1024:0}function g(a){return"".concat(D(a),".pod.dpanel.local")}}}]);
