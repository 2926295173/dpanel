"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8566],{1699:function(se,U,t){t.d(U,{u:function(){return E}});var M=t(9783),l=t.n(M),L=t(97857),c=t.n(L),y=t(67294),O=t(82346),S=t(40411),h=t(42075),b=t(85893),E=function(a){var i=(0,O.useAccess)(),s=Array.isArray(a.access)?a.access:[a.access],v,d=a.fallback;if(typeof a.children=="function"?(v=a.children(s.reduce(function($,e){return c()(c()({},$),{},l()({},e,i[e]))},{})),v||(v=d)):s.every(function($){return i[$]})?v=a.children:v=d,!d&&v&&a.showProTips&&i.canSeeEnableCe){if(i.canSeeEnableHiddenProTips)return null;v=(0,b.jsx)(S.Z,{offset:a.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:v})}if(!d&&v&&a.showProRibbonTips&&i.canSeeEnableCe){if(i.canSeeEnableHiddenProTips)return null;v=(0,b.jsx)(S.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:v})}return a.space?(0,b.jsx)(h.Z,c()(c()({},a.space),{},{children:v})):v}},80821:function(se,U,t){t.d(U,{Z:function(){return T}});var M=t(97857),l=t.n(M),L=t(5574),c=t.n(L),y=t(24963),O=t(86738),S=t(83062),h=t(28036),b=t(67294),E=t(85893);function T(a){var i=(0,b.useState)(!1),s=c()(i,2),v=s[0],d=s[1],$=(0,b.useContext)(y.Z),e=$.lang,Z=$.message,ae=function(){d(!0);var B=a.action();B instanceof Promise?B.then(function(P){if(d(!1),P){typeof a.onSuccess=="function"&&a.onSuccess(P);var f="";a.messageSuccess?typeof a.messageSuccess=="function"?f=a.messageSuccess(P):f=a.messageSuccess.indexOf("notification.")==0?e(a.messageSuccess):a.messageSuccess:f=e("notification.finish"),a.asynced?Z.info(f):Z.success(f)}}).catch(function(P){d(!1),typeof a.onError=="function"&&a.onError(P)}):d(!1)};return a.confirm?(0,E.jsx)(O.Z,l()(l()({style:{width:500},title:a.confirmTitle?a.confirmTitle:e("notification.title.tip"),description:typeof a.confirm=="string"&&a.confirm.indexOf("notification.")==0?e(a.confirm):a.confirm,onConfirm:ae,okText:"Yes",cancelText:"No",onOpenChange:a.confirmOnOpenChange},a.confirmProps),{},{children:(0,E.jsx)(S.Z,{title:a.tips,children:(0,E.jsx)(h.ZP,{block:a.block,disabled:a.disabled,icon:!a.children&&v?void 0:a.icon,loading:v,danger:a.danger,type:a.type,children:a.children})})})):(0,E.jsx)(S.Z,{title:a.tips,children:(0,E.jsx)(h.ZP,{block:a.block,style:a.ghost?{padding:0,height:"auto",width:"auto"}:{},disabled:a.disabled,icon:!a.children&&v?void 0:a.icon,loading:v,onClick:ae,danger:a.danger,type:a.type,children:a.children})})}},27619:function(se,U,t){t.d(U,{Z:function(){return S}});var M=t(5574),l=t.n(M),L=t(82346),c=t(67294),y=t(64389),O=t(85893);function S(h){var b=(0,L.useModel)("@@initialState"),E=b.initialState,T="chart-area-".concat(h.name),a=(0,c.useState)(),i=l()(a,2),s=i[0],v=i[1],d={};h.data.forEach(function(e){e.show===!1?d[e.name]=!1:d[e.name]=!0});var $={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}},valueFormatter:function(Z){return h.yValueFormatter?h.yValueFormatter(Z):Z}},legend:{selected:d},grid:{left:"0",right:"0",bottom:"0",top:"30",containLabel:!0},xAxis:{type:"category",data:h.data[0].data.map(function(e){return e.date}),boundaryGap:!1,axisLabel:{rotate:20}},yAxis:{type:"value",axisLabel:{formatter:h.yLabelFormatter},max:function(Z){if(h.yDomainMaxCallback)return h.yDomainMaxCallback(Z)}},series:[]};return(0,c.useEffect)(function(){var e="",Z=window.matchMedia("(prefers-color-scheme: dark)");(E==null?void 0:E.theme.algorithm)=="dark"||Z.matches?e="dark":e="",s&&!s.isDisposed()&&s.dispose();var ae=document.getElementById(T),re=y.S1(ae,e);re.setOption($);var B=new ResizeObserver(function(){re.resize()});ae&&B.observe(ae),v(re)},[E]),(0,c.useEffect)(function(){s&&!s.isDisposed()&&s.setOption({legend:{data:h.data.map(function(e){return e.name})},xAxis:{data:h.data[0].data.map(function(e){return e.date})},series:h.data.map(function(e){return{name:e.name,type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:e.data.map(function(Z){return Z.value})}})})},[h.data]),(0,O.jsx)("div",{style:{height:200},id:T})}},3616:function(se,U,t){t.d(U,{Ed:function(){return c},FK:function(){return l},R_:function(){return M},ob:function(){return L}});var M=window.innerWidth<=1024?"90vw":"65vw",l="90vw",L="60vw",c="50vh"},24963:function(se,U,t){var M=t(67294),l=(0,M.createContext)({});U.Z=l},55617:function(se,U,t){t.r(U),t.d(U,{default:function(){return Ye}});var M=t(15009),l=t.n(M),L=t(99289),c=t.n(L),y=t(5574),O=t.n(y),S=t(19632),h=t.n(S),b=t(1699),E=t(80821),T=t(27619),a=t(3616),i=t(5251),s=t(36146),v=t(184),d=t(25593),$=t(60940),e=t(85893),Z=new s.Uo("components.containerStat");function ae(z){return(0,e.jsx)(v.a,{drawerProps:{width:a.R_},title:Z.format("detailTitle"),submitter:!1,trigger:(0,e.jsx)(d.Z.Link,{children:s.FD.format("listManageDetail")}),children:(0,e.jsx)($.Z,{pagination:!1,dataSource:z.data,rowKey:"name",columns:[{title:s.FD.format("listContainerName"),dataIndex:"name"},{title:"Cpu",dataIndex:"cpu",sorter:function(j,g){return j.cpu-g.cpu},render:function(j,g,N){return"".concat(g.cpu.toFixed(2),"%")}},{title:"Memory",dataIndex:"memory",sorter:function(j,g){return j.memory.in-g.memory.in},render:function(j,g,N){var R,Y;return"".concat((0,i.FI)((R=g==null?void 0:g.memory.in)!==null&&R!==void 0?R:0)," / ").concat((0,i.FI)((Y=g==null?void 0:g.memory.out)!==null&&Y!==void 0?Y:0))}},{title:s.FD.format("listNetworkIO"),dataIndex:"networkIO",render:function(j,g,N){return"".concat((0,i.FI)(g.networkIO.in)," / ").concat((0,i.FI)(g.networkIO.out))}},{title:s.FD.format("listDiskIO"),dataIndex:"blockIO",render:function(j,g,N){return"".concat((0,i.FI)(g.blockIO.in)," / ").concat((0,i.FI)(g.blockIO.out))}}]})})}var re=t(97857),B=t.n(re),P=t(67294),f=t(64389),W={tooltip:{show:!0,formatter:function(x){return x&&x.data&&x.data.tooltipItem?x.data.tooltipItem.map(function(j){return"<div>".concat(j.field,": ").concat(j.content,"</div>")}).join(" "):"".concat(x.data.name,": ").concat((0,i.FI)(x.data.value))}},legend:{selectedMode:"single",top:0,itemGap:5},series:[]},I={name:"",type:"treemap",left:0,right:0,top:30,bottom:0,roam:!1,label:{show:!0},levels:[{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}}],sort:!0,leafDepth:1,data:[]},o=new s.Uo("components.containerStat"),Re=(0,P.forwardRef)(function(z,x){var j=z.data.usage,g=(0,P.useState)(),N=O()(g,2),R=N[0],Y=N[1];(0,P.useImperativeHandle)(x,function(){return{}});function ue(){if(!j.Containers||!j.Images){R&&R.setOption({series:[B()(B()({},I),{},{name:"",data:[{name:o.format("usageEmpty"),value:1}]})]});return}var k=[],C=[];j.Containers&&j.Containers.forEach(function(m){var w,ee,te,ne=m.SizeRootFs+((w=m.SizeRw)!==null&&w!==void 0?w:0),oe=[];j.Volumes&&m.Mounts.forEach(function(Q){var le=j.Volumes.find(function(_e){return _e.Name==Q.Name});le&&(ne+=le.UsageData.Size,oe.push({name:o.format("usageVolume",{name:Q.Name}),value:le.UsageData.Size,children:[]}))});var ce={name:(0,i.fi)(m.Names[0],"/"),value:ne,tooltipItem:[{field:(0,i.fi)(m.Names[0],"/"),content:(0,i.FI)(ne)},{field:o.format("usageContainerRootFs"),content:(0,i.FI)((ee=m.SizeRootFs)!==null&&ee!==void 0?ee:0)},{field:o.format("usageContainerRw"),content:(0,i.FI)((te=m.SizeRw)!==null&&te!==void 0?te:0)}],children:[{name:o.format("usageContainerRootFs"),value:m.SizeRootFs,children:[]},{name:o.format("usageContainerRw"),value:m.SizeRw,children:[]}]};if(oe&&oe.length>0){var me,de;(me=ce.children).push.apply(me,oe),(de=ce.tooltipItem)===null||de===void 0||de.push.apply(de,h()(oe.map(function(Q){var le;return{field:Q.name,content:(0,i.FI)((le=Q.value)!==null&&le!==void 0?le:0)}})))}C.push(ce)}),k.push(B()(B()({},I),{},{name:o.format("usageTitleContainer"),data:C})),C=[],j.Images&&j.Images.forEach(function(m){var w,ee,te,ne;C.push({name:m.RepoTags?m.RepoTags[0]:m.Id.substring(7,19),value:m.Size+((w=m.SharedSize)!==null&&w!==void 0?w:0),tooltipItem:[{field:m.RepoTags?m.RepoTags[0]:m.Id.substring(7,19),content:(0,i.FI)(m.Size+((ee=m.SharedSize)!==null&&ee!==void 0?ee:0))},{field:o.format("usageImageSize"),content:(0,i.FI)((te=m.Size)!==null&&te!==void 0?te:0)},{field:o.format("usageImageSharedSize"),content:(0,i.FI)((ne=m.SharedSize)!==null&&ne!==void 0?ne:0)}],children:[{name:o.format("usageImageSize"),value:m.Size,children:[]},{name:o.format("usageImageSharedSize"),value:m.SharedSize,children:[]}]})}),k.push(B()(B()({},I),{},{name:o.format("usageTitleImage"),data:C})),C=[],j.Volumes&&j.Volumes.forEach(function(m){C.push({name:m.Name,value:m.UsageData.Size,children:[]})}),k.push(B()(B()({},I),{},{name:o.format("usageTitleVolume"),data:C})),k&&k.length>0&&R&&R.setOption({series:k,legend:{data:k.map(function(m){return m.name})}})}return(0,P.useEffect)(function(){var k=document.getElementById("docker-disk-usage"),C=f.S1(k);C.setOption(W);var m=new ResizeObserver(function(){C&&C.resize()});return k&&m.observe(k),Y(C),function(){R&&R.dispose(),Y(void 0)}},[]),(0,P.useEffect)(function(){R&&ue()},[R]),(0,e.jsx)("div",{style:{height:450},id:"docker-disk-usage"})}),ke=Re,we=t(55241),De=t(71230),ye=t(15746),Le=t(38703),Ze=(0,P.forwardRef)(function(z,x){return(0,P.useImperativeHandle)(x,function(){return{}}),(0,e.jsxs)(we.Z,{placement:"left",children:[(0,e.jsx)(De.Z,{justify:"center",children:(0,e.jsx)(ye.Z,{children:(0,e.jsx)(Le.Z,{percent:z.showPercent,type:"dashboard",format:function(g,N){return"".concat(g,"%")},size:150,status:z.showPercent>=100?"exception":"normal"})})}),(0,e.jsx)(De.Z,{justify:"center",children:(0,e.jsxs)(ye.Z,{style:{marginTop:"10px"},children:[z.showLabel,": ",z.showUse," / ",z.showTotal]})})]})}),be=Ze,We=t(24963),Ae=t(87662),he=t(2831),Fe=t(18148),Se=t(89075),$e=t(20578),Be=t(45605),Ke=t(1210),fe=t(12122),A=t(38345),K=t(88273),q=t(82346),ie=t(42075),ze=t(28036),H=t(26412),ve=t(83062),Ne=t(40411),Ve=t(86250),Ge=t(93162),u=new s.Uo("system.home.overview"),He=function(x,j){switch(j.type){case"update":var g=new Date().toLocaleTimeString(),N=0,R=0,Y=0,ue=0,k=0,C=0;j.payload.map(function(w){N+=w.cpu,R+=w.memory.in,Y+=w.networkIO.in,ue+=w.networkIO.out,k+=w.blockIO.in,C+=w.blockIO.out});var m={list:j.payload,cpu:N,memory:R,network:[{name:u.format("runStatNetworkOut"),data:[].concat(h()(x.network[0].data.slice(-20)),[{date:g,value:ue}])},{name:u.format("runStatNetworkIn"),data:[].concat(h()(x.network[1].data.slice(-20)),[{date:g,value:Y}])}],io:[{name:u.format("runStatIoOut"),data:[].concat(h()(x.io[0].data.slice(-20)),[{date:g,value:C}])},{name:u.format("runStatIoIn"),data:[].concat(h()(x.io[1].data.slice(-20)),[{date:g,value:k}])}]};return m}};function Ye(){var z,x,j,g,N,R,Y,ue,k,C,m,w,ee,te,ne,oe,ce,me,de,Q=(0,q.useAccess)(),le=(0,P.useState)(),_e=O()(le,2),ge=_e[0],Qe=_e[1],Xe=(0,P.useState)(),Ee=O()(Xe,2),X=Ee[0],Je=Ee[1],qe=(0,P.useState)(),Pe=O()(qe,2),r=Pe[0],et=Pe[1],tt=(0,P.useState)(),Ie=O()(tt,2),n=Ie[0],nt=Ie[1],at=(0,P.useState)(),xe=O()(at,2),pe=xe[0],rt=xe[1],st=(0,P.useReducer)(He,{cpu:0,memory:0,network:[{name:u.format("runStatNetworkOut"),data:[]},{name:u.format("runStatNetworkIn"),data:[]}],io:[{name:u.format("runStatIoOut"),data:[]},{name:u.format("runStatIoIn"),data:[]}],list:[]}),Te=O()(st,2),F=Te[0],Oe=Te[1],it=(0,P.useContext)(We.Z),Ue=it.loading,Ce=(0,q.useModel)("subscriber");Ce.addDataHandler("container:stat",function(p){Oe({type:"update",payload:p.data})});function Me(){return je.apply(this,arguments)}function je(){return je=c()(l()().mark(function p(){var _,D,J;return l()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return Ue.show(),G.next=3,(0,he.aF)().finally(function(){Ue.destroy()});case 3:return _=G.sent,et(_.data),G.next=7,(0,he.Ll)();case 7:return D=G.sent,nt(D.data),G.next=11,(0,Ae.Cz)({follow:!0});case 11:J=G.sent,Oe({type:"update",payload:[]});case 13:case"end":return G.stop()}},p)})),je.apply(this,arguments)}return(0,P.useEffect)(function(){return Me(),!Q.canSeeEnableCe&&(0,Se.YQ)().then(function(p){Qe(p.data)}),!Q.canSeeEnableCe&&(0,$e.q)().then(function(p){Je(p.data)}),(0,he.u5)().then(function(p){rt(p.data)}),function(){Ce.progress.close("container:stat")}},[]),(0,e.jsxs)(A.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,e.jsxs)(A.Z,{bordered:!0,split:"vertical",wrap:!0,children:[(0,e.jsx)(A.Z,{style:{height:"570px",overflow:"hidden"},colSpan:{xs:24,sm:24,md:24,lg:9,xl:9},headerBordered:!0,title:(0,e.jsx)(Be.Z,{}),subTitle:u.format("basicInfoTitle"),extra:(0,e.jsx)(ie.Z,{children:Q.canSeeEnableCe?Q.canSeeEnableInDPanel&&(0,e.jsx)("a",{href:"https://dpanel.cc/#/zh-cn/manual/pro",target:"_blank",children:u.format("basicProBuy")},"proLink"):ge&&ge.expireTime?(0,e.jsxs)("span",{children:[u.format("basicProExpireTime")," ",new Date(ge.expireTime).toLocaleString()]},"expireTime"):(0,e.jsx)(ze.ZP,{type:"link",onClick:c()(l()().mark(function p(){var _,D;return l()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(0,Se.$w)();case 2:_=V.sent,D=new Blob([_.data.code],{type:"text/plain"}),(0,Ge.saveAs)(D,"dpanel.code");case 5:case"end":return V.stop()}},p)})),children:u.format("basicProCode")},"downloadCode")}),children:(0,e.jsxs)(H.Z,{column:1,labelStyle:{width:100,justifyContent:"flex-end"},children:[(0,e.jsx)(H.Z.Item,{label:u.format("basicDPanelTitleVersion"),children:(0,e.jsxs)(ie.Z,{direction:"horizontal",wrap:!0,children:[r==null?void 0:r.dpanel.version," - ",r==null?void 0:r.dpanel.env," - ",r==null?void 0:r.dpanel.family,Q.canSeeEnableInDPanel&&(0,e.jsx)(ve.Z,{title:u.format("basicDPanelTitleUpgradeInfo"),children:(0,e.jsx)("a",{target:"_blank",href:"https://github.com/donknap/dpanel/releases",children:(0,e.jsx)(Ke.Z,{})})}),pe&&pe.newVersion!=""&&(0,e.jsx)(q.Link,{to:"/system/upgrade",children:(0,e.jsx)(Ne.Z,{count:pe.newVersion,size:"small"})})]})}),(0,e.jsxs)(H.Z.Item,{label:"Docker Host",children:[r==null?void 0:r.info.Name," ",(0,e.jsx)(e.Fragment,{children:(r==null?void 0:r.info.ID)==""&&(0,e.jsx)(q.Link,{to:"/system/env",state:{item:{name:"local",title:u.format("basicDefaultClientName")},t:(0,i.Fs)()},children:u.format("basicEnvSettingDefaultEnv")})})]}),(0,e.jsx)(H.Z.Item,{label:u.format("basicDockerTitleVersion"),children:"".concat(r==null?void 0:r.info.OperatingSystem," - ").concat(r==null?void 0:r.info.ServerVersion," - ").concat(r==null?void 0:r.sdkVersion)}),(0,e.jsx)(H.Z.Item,{label:u.format("basicDockerTitleFileDriver"),children:"".concat(r==null?void 0:r.info.Driver)}),(0,e.jsx)(H.Z.Item,{label:u.format("basicDockerTitleLogDriver"),children:"".concat(r==null?void 0:r.info.LoggingDriver)}),(0,e.jsx)(H.Z.Item,{label:u.format("basicDockerTitleSystemVersion"),children:"".concat(r==null?void 0:r.info.KernelVersion," - ").concat(r==null?void 0:r.info.Architecture)}),(0,e.jsxs)(H.Z.Item,{label:"Cpu",children:[r==null?void 0:r.info.NCPU," ",s.FD.format("unitCpu")]}),(0,e.jsx)(H.Z.Item,{label:"Memory",children:(0,i.FI)((z=r==null?void 0:r.info.MemTotal)!==null&&z!==void 0?z:0)}),(0,e.jsx)(H.Z.Item,{label:u.format("basicDockerTitleRootDir"),children:r==null?void 0:r.info.DockerRootDir}),(0,e.jsx)(H.Z.Item,{label:u.format("basicDockerTitlePluginsVolume"),children:(0,e.jsx)(ie.Z,{children:r==null?void 0:r.info.Plugins.Volume})}),(0,e.jsx)(H.Z.Item,{label:u.format("basicDockerTitlePluginsNetwork"),children:(0,e.jsx)(ie.Z,{wrap:!0,children:r==null?void 0:r.info.Plugins.Network})}),(0,e.jsx)(H.Z.Item,{label:u.format("basicDockerTitleSystemTime"),children:new Date((x=r==null?void 0:r.info.SystemTime)!==null&&x!==void 0?x:"").toLocaleString()})]})}),(0,e.jsxs)(A.Z,{headerBordered:!0,colSpan:{xs:24,sm:24,md:24,lg:15,xl:15},title:(0,e.jsx)(fe.Z,{}),subTitle:u.format("runStatTitle"),split:"horizontal",extra:(0,e.jsx)(ie.Z,{children:F.list&&(0,e.jsx)(ae,{data:F.list})}),children:[(0,e.jsx)(A.Z,{children:(0,e.jsxs)(Ve.Z,{gap:50,align:"center",justify:"space-evenly",children:[(0,e.jsx)(be,{showPercent:parseFloat((((j=F==null?void 0:F.cpu)!==null&&j!==void 0?j:0)/((g=r==null?void 0:r.info.NCPU)!==null&&g!==void 0?g:0)).toFixed(2)),showLabel:"Cpu",showUse:"".concat(((N=F==null?void 0:F.cpu)!==null&&N!==void 0?N:0).toFixed(2)),showTotal:"".concat((R=r==null?void 0:r.info.NCPU)!==null&&R!==void 0?R:0," ").concat(s.FD.format("unitCpu"))}),(0,e.jsx)(be,{showPercent:parseFloat((((Y=F==null?void 0:F.memory)!==null&&Y!==void 0?Y:0)/((ue=r==null?void 0:r.info.MemTotal)!==null&&ue!==void 0?ue:0)*100).toFixed(2)),showLabel:"Memory",showUse:(0,i.FI)((k=F==null?void 0:F.memory)!==null&&k!==void 0?k:0),showTotal:"".concat((0,i.FI)((C=r==null?void 0:r.info.MemTotal)!==null&&C!==void 0?C:0))})]})}),(0,e.jsxs)(A.Z,{split:"vertical",wrap:!0,children:[(0,e.jsx)(A.Z,{colSpan:12,title:(0,e.jsx)(fe.Z,{}),subTitle:u.format("usageNetwork"),headerBordered:!0,children:(0,e.jsx)(T.Z,{data:F.network,yLabelFormatter:function(_){return(0,i.FI)(parseFloat(_))},yDomainMaxCallback:function(_){return _.max*1.5},name:"network"})}),(0,e.jsx)(A.Z,{colSpan:12,title:(0,e.jsx)(fe.Z,{}),subTitle:u.format("usageDisk"),headerBordered:!0,children:(0,e.jsx)(T.Z,{name:"disk",data:F.io,yLabelFormatter:function(_){return(0,i.FI)(parseFloat(_))},yDomainMaxCallback:function(_){return _.max*1.5}})})]})]})]}),(0,e.jsxs)(A.Z,{bordered:!0,headerBordered:!0,title:(0,e.jsx)(fe.Z,{}),subTitle:u.format("usageTitle"),wrap:!0,extra:(0,e.jsx)(ie.Z,{children:(0,e.jsx)("span",{children:n!=null&&n.diskUsage&&n!==null&&n!==void 0&&n.diskUsage.updatedAt?"".concat(u.format("usageLastUpgradeTime")," ").concat(new Date(n==null?void 0:n.diskUsage.updatedAt).toLocaleString()):""},"lastUpdate")},"size"),children:[(0,e.jsx)(A.Z,{colSpan:{xs:24,sm:24,md:24,lg:24,xl:12,xxl:12},ghost:!0,children:(n==null?void 0:n.diskUsage)&&(0,e.jsx)(ke,{data:n==null?void 0:n.diskUsage})}),(0,e.jsxs)(A.Z,{colSpan:{xs:24,sm:8,md:8,lg:8,xl:4,xxl:4},split:"horizontal",ghost:!0,children:[(0,e.jsx)(K.Z,{statistic:{title:(0,e.jsx)(ie.Z,{children:u.format("usageContainer")}),value:n!=null&&n.diskUsage.usage.Containers?(0,i.FI)((m=n.diskUsage.usage.Containers.reduce(function(p,_){var D;return p+_.SizeRootFs+((D=_.SizeRw)!==null&&D!==void 0?D:0)},0))!==null&&m!==void 0?m:0):0,description:u.format("usageDescContainer")}}),(0,e.jsx)(K.Z,{statistic:{title:(0,e.jsx)(ie.Z,{children:u.format("usageImage")}),value:n!=null&&n.diskUsage.usage.Images?(0,i.FI)((w=n.diskUsage.usage.Images.reduce(function(p,_){var D;return p+(_.Size+((D=_.SharedSize)!==null&&D!==void 0?D:0))},0))!==null&&w!==void 0?w:0):0,description:u.format("usageDescImage")}}),(0,e.jsx)(K.Z,{statistic:{title:(0,e.jsx)(ie.Z,{children:u.format("usageVolume")}),value:n!=null&&n.diskUsage.usage.Volumes?(0,i.FI)((ee=n.diskUsage.usage.Volumes.reduce(function(p,_){return p+_.UsageData.Size},0))!==null&&ee!==void 0?ee:0):0,description:u.format("usageDescVolume")}}),(0,e.jsx)(K.Z,{statistic:{title:u.format("usageBuildCache"),value:n!=null&&n.diskUsage.usage.BuildCache?(0,i.FI)((te=n.diskUsage.usage.BuildCache.reduce(function(p,_){return p+_.Size},0))!==null&&te!==void 0?te:0):0,description:(0,e.jsx)(b.u,{access:"canSeeHomeOverviewClear",children:(0,e.jsx)(E.Z,{action:function(){return(0,Fe.c5)()},type:"link",onSuccess:function(){Me()},ghost:!0,children:s.FD.format("listManageClear")})})}})]}),(0,e.jsxs)(A.Z,{colSpan:{xs:24,sm:16,md:16,lg:16,xl:8,xxl:8},ghost:!0,split:"horizontal",children:[(0,e.jsx)(A.Z,{ghost:!0,children:(0,e.jsxs)(K.Z.Group,{children:[(0,e.jsx)(K.Z,{statistic:{title:u.format("usageContainer"),value:(ne=r==null?void 0:r.info.Containers)!==null&&ne!==void 0?ne:0,description:(0,e.jsx)(q.Link,{to:"/app/list",children:s.FD.format("listManageDetail")})}}),!Q.canSeeEnableCe&&(0,e.jsx)(K.Z,{statistic:{title:u.format("usageContainerNew"),status:"processing",valueRender:function(_){var D,J,V;return(0,e.jsx)(ve.Z,{title:"".concat(s.FD.format("title.ignore"),": ").concat((D=X==null?void 0:X.ignore)!==null&&D!==void 0?D:0,` 
                      `).concat(s.FD.format("title.ignore"),": ").concat((J=X==null?void 0:X.failed)!==null&&J!==void 0?J:0,` 
                      `).concat(s.FD.format("title.local"),": ").concat((V=X==null?void 0:X.local)!==null&&V!==void 0?V:0),children:X==null?void 0:X.upgrade})}}}),(0,e.jsx)(K.Z,{statistic:{title:s.FD.format("title.warning"),status:"error",valueRender:function(_){var D,J,V,G=0;return n&&n.total&&n.total.containerRunning.stop&&(G+=n.total.containerRunning.stop),n&&n.total&&n.total.containerRunning.pause&&(G+=n.total.containerRunning.pause),n&&n.total&&n.total.containerRunning.unhealthy&&(G+=n.total.containerRunning.unhealthy),(0,e.jsx)(ve.Z,{title:"".concat(new s.Uo("components.containerStatus").format("container.exited"),": ").concat((D=n==null?void 0:n.total.containerRunning.stop)!==null&&D!==void 0?D:0,`
                      `).concat(new s.Uo("components.containerStatus").format("container.paused"),": ").concat((J=n==null?void 0:n.total.containerRunning.pause)!==null&&J!==void 0?J:0,` 
                      `).concat(new s.Uo("components.containerStatus").format("container.unhealthy"),": ").concat((V=n==null?void 0:n.total.containerRunning.unhealthy)!==null&&V!==void 0?V:0),children:G})}}}),(0,e.jsx)(K.Z,{statistic:{title:u.format("usageContainerRecycle"),value:(oe=n==null?void 0:n.total.containerTask)!==null&&oe!==void 0?oe:0,description:(0,e.jsx)(q.Link,{to:"/app/list/recycle",children:s.FD.format("listManageDetail")})}})]})}),(0,e.jsxs)(A.Z,{ghost:!0,children:[(0,e.jsx)(K.Z,{statistic:{title:u.format("usageImage"),value:"".concat((ce=(n==null?void 0:n.diskUsage.usage.Images)&&(n==null?void 0:n.diskUsage.usage.Images.length))!==null&&ce!==void 0?ce:0),description:(0,e.jsx)(q.Link,{to:"/image/list",children:s.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(K.Z,{statistic:{title:u.format("usageImageTask"),value:(me=n==null?void 0:n.total.imageTask)!==null&&me!==void 0?me:0,description:(0,e.jsx)(q.Link,{to:"/image/list/recycle",children:s.FD.format("listManageDetail")})},chartPlacement:"left"})]}),(0,e.jsxs)(A.Z,{ghost:!0,children:[(0,e.jsx)(K.Z,{statistic:{title:u.format("usageNetwork"),value:n==null?void 0:n.total.network,description:(0,e.jsx)(q.Link,{to:"/docker/network",children:s.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(K.Z,{statistic:{title:u.format("usageNetworkPortBind"),value:n==null?void 0:n.total.port,description:(0,e.jsx)(v.a,{drawerProps:{width:a.R_},submitter:!1,title:u.format("usageNetworkPortBind"),trigger:(0,e.jsx)(d.Z.Link,{children:s.FD.format("listManageDetail")}),children:(0,e.jsx)($.Z,{pagination:!1,dataSource:n==null?void 0:n.port,rowKey:function(_){return"".concat(_.port.host).concat(_.port.dest)},columns:[{title:u.format("usageNetworkPortBindHost"),dataIndex:["port","host"],sorter:function(_,D){return parseInt(_.port.host)-parseInt(D.port.host)},render:function(_,D,J){return D.port.host!="0"?"".concat(D.port.hostIp,":").concat(D.port.host):"-"}},{title:u.format("usageNetworkPortBindDest"),dataIndex:["port","dest"]},{title:u.format("usageNetworkPortBindName"),dataIndex:"name",render:function(_,D,J){return(0,i.fi)(D.name,"/")}}]})})},chartPlacement:"left"})]}),(0,e.jsxs)(A.Z,{ghost:!0,children:[(0,e.jsx)(K.Z,{statistic:{title:u.format("usageVolume"),value:(de=(n==null?void 0:n.diskUsage.usage.Volumes)&&(n==null?void 0:n.diskUsage.usage.Volumes.length))!==null&&de!==void 0?de:0,description:(0,e.jsx)(q.Link,{to:"/docker/volume",children:s.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(K.Z,{statistic:{title:u.format("usageBackup"),value:n==null?void 0:n.total.backup,description:(0,e.jsx)(q.Link,{to:"/app/backup",children:s.FD.format("listManageDetail")})},chartPlacement:"left"})]})]})]})]})}},2831:function(se,U,t){t.d(U,{Ll:function(){return E},aF:function(){return O},d6:function(){return a},u5:function(){return h}});var M=t(15009),l=t.n(M),L=t(99289),c=t.n(L),y=t(82346);function O(){return S.apply(this,arguments)}function S(){return S=c()(l()().mark(function s(){return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,y.request)("/api/common/home/info",{method:"POST"});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},s)})),S.apply(this,arguments)}function h(){return b.apply(this,arguments)}function b(){return b=c()(l()().mark(function s(){return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,y.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},s)})),b.apply(this,arguments)}function E(){return T.apply(this,arguments)}function T(){return T=c()(l()().mark(function s(){return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,y.request)("/api/common/home/usage",{method:"POST"});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},s)})),T.apply(this,arguments)}function a(){return i.apply(this,arguments)}function i(){return i=c()(l()().mark(function s(){return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,y.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},s)})),i.apply(this,arguments)}},18148:function(se,U,t){t.d(U,{$q:function(){return a},Fj:function(){return ae},KG:function(){return O},KX:function(){return B},T8:function(){return E},Xn:function(){return h},ao:function(){return s},c5:function(){return e},c7:function(){return d}});var M=t(15009),l=t.n(M),L=t(99289),c=t.n(L),y=t(82346);function O(f){return S.apply(this,arguments)}function S(){return S=c()(l()().mark(function f(W){return l()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,y.request)("/api/app/image/get-list",{method:"POST",data:W}));case 1:case"end":return o.stop()}},f)})),S.apply(this,arguments)}function h(f){return b.apply(this,arguments)}function b(){return b=c()(l()().mark(function f(W){return l()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,y.request)("/api/app/image/get-list-build",{method:"POST",data:W}));case 1:case"end":return o.stop()}},f)})),b.apply(this,arguments)}function E(f){return T.apply(this,arguments)}function T(){return T=c()(l()().mark(function f(W){return l()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,y.request)("/api/app/image/get-build-task",{method:"POST",data:W});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},f)})),T.apply(this,arguments)}function a(f){return i.apply(this,arguments)}function i(){return i=c()(l()().mark(function f(W){return l()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,y.request)("/api/app/image/delete-build-task",{method:"POST",data:W});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},f)})),i.apply(this,arguments)}function s(f){return v.apply(this,arguments)}function v(){return v=c()(l()().mark(function f(W){return l()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,y.request)("/api/app/image/image-delete",{method:"POST",data:W});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},f)})),v.apply(this,arguments)}function d(){return $.apply(this,arguments)}function $(){return $=c()(l()().mark(function f(){return l()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,y.request)("/api/app/image/image-prune",{method:"POST"});case 2:return I.abrupt("return",I.sent);case 3:case"end":return I.stop()}},f)})),$.apply(this,arguments)}function e(){return Z.apply(this,arguments)}function Z(){return Z=c()(l()().mark(function f(){return l()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,y.request)("/api/app/image/build-prune",{method:"POST"});case 2:return I.abrupt("return",I.sent);case 3:case"end":return I.stop()}},f)})),Z.apply(this,arguments)}function ae(f){return re.apply(this,arguments)}function re(){return re=c()(l()().mark(function f(W){return l()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,y.request)("/api/app/image/update-title",{method:"POST",data:W});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},f)})),re.apply(this,arguments)}function B(f){return P.apply(this,arguments)}function P(){return P=c()(l()().mark(function f(W){return l()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,y.request)("/api/app/image/tag-sync",{method:"POST",data:W}));case 1:case"end":return o.stop()}},f)})),P.apply(this,arguments)}},89075:function(se,U,t){t.d(U,{$w:function(){return O},YQ:function(){return h},ax:function(){return E}});var M=t(15009),l=t.n(M),L=t(99289),c=t.n(L),y=t(82346);function O(){return S.apply(this,arguments)}function S(){return S=c()(l()().mark(function a(){return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,y.request)("/api/pro/home/get-machine-id",{method:"POST"}));case 1:case"end":return s.stop()}},a)})),S.apply(this,arguments)}function h(){return b.apply(this,arguments)}function b(){return b=c()(l()().mark(function a(){return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,y.request)("/api/pro/home/get-license-info",{method:"POST"}));case 1:case"end":return s.stop()}},a)})),b.apply(this,arguments)}function E(){return T.apply(this,arguments)}function T(){return T=c()(l()().mark(function a(){return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,y.request)("/api/pro/home/login-info",{method:"POST"}));case 1:case"end":return s.stop()}},a)})),T.apply(this,arguments)}},20578:function(se,U,t){t.d(U,{q:function(){return h},w:function(){return O}});var M=t(15009),l=t.n(M),L=t(99289),c=t.n(L),y=t(82346);function O(E){return S.apply(this,arguments)}function S(){return S=c()(l()().mark(function E(T){return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,y.request)("/api/pro/container/recycle-restore",{data:T,method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},E)})),S.apply(this,arguments)}function h(){return b.apply(this,arguments)}function b(){return b=c()(l()().mark(function E(){return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,y.request)("/api/pro/container/check-all-upgrade",{method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},E)})),b.apply(this,arguments)}}}]);
